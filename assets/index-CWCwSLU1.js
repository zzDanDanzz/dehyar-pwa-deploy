function EM(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(i,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var OM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tg={exports:{}},_c={};var sw;function MM(){if(sw)return _c;sw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:i,key:u,ref:a!==void 0?a:null,props:s}}return _c.Fragment=t,_c.jsx=r,_c.jsxs=r,_c}var lw;function TM(){return lw||(lw=1,tg.exports=MM()),tg.exports}var R=TM(),ng={exports:{}},yt={};var uw;function RM(){if(uw)return yt;uw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=x&&U[x]||U["@@iterator"],typeof U=="function"?U:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function N(U,ie,Ce){this.props=U,this.context=ie,this.refs=T,this.updater=Ce||_}N.prototype.isReactComponent={},N.prototype.setState=function(U,ie){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,ie,"setState")},N.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function D(){}D.prototype=N.prototype;function I(U,ie,Ce){this.props=U,this.context=ie,this.refs=T,this.updater=Ce||_}var F=I.prototype=new D;F.constructor=I,E(F,N.prototype),F.isPureReactComponent=!0;var k=Array.isArray;function V(){}var A={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function W(U,ie,Ce){var Ne=Ce.ref;return{$$typeof:e,type:U,key:ie,ref:Ne!==void 0?Ne:null,props:Ce}}function le(U,ie){return W(U.type,ie,U.props)}function he(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function de(U){var ie={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(Ce){return ie[Ce]})}var Oe=/\/+/g;function ce(U,ie){return typeof U=="object"&&U!==null&&U.key!=null?de(""+U.key):ie.toString(36)}function xe(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(ie){U.status==="pending"&&(U.status="fulfilled",U.value=ie)},function(ie){U.status==="pending"&&(U.status="rejected",U.reason=ie)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function B(U,ie,Ce,Ne,Ie){var qe=typeof U;(qe==="undefined"||qe==="boolean")&&(U=null);var nt=!1;if(U===null)nt=!0;else switch(qe){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(U.$$typeof){case e:case t:nt=!0;break;case g:return nt=U._init,B(nt(U._payload),ie,Ce,Ne,Ie)}}if(nt)return Ie=Ie(U),nt=Ne===""?"."+ce(U,0):Ne,k(Ie)?(Ce="",nt!=null&&(Ce=nt.replace(Oe,"$&/")+"/"),B(Ie,ie,Ce,"",function(Zt){return Zt})):Ie!=null&&(he(Ie)&&(Ie=le(Ie,Ce+(Ie.key==null||U&&U.key===Ie.key?"":(""+Ie.key).replace(Oe,"$&/")+"/")+nt)),ie.push(Ie)),1;nt=0;var wt=Ne===""?".":Ne+":";if(k(U))for(var De=0;De<U.length;De++)Ne=U[De],qe=wt+ce(Ne,De),nt+=B(Ne,ie,Ce,qe,Ie);else if(De=w(U),typeof De=="function")for(U=De.call(U),De=0;!(Ne=U.next()).done;)Ne=Ne.value,qe=wt+ce(Ne,De++),nt+=B(Ne,ie,Ce,qe,Ie);else if(qe==="object"){if(typeof U.then=="function")return B(xe(U),ie,Ce,Ne,Ie);throw ie=String(U),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return nt}function X(U,ie,Ce){if(U==null)return U;var Ne=[],Ie=0;return B(U,Ne,"","",function(qe){return ie.call(Ce,qe,Ie++)}),Ne}function q(U){if(U._status===-1){var ie=U._result;ie=ie(),ie.then(function(Ce){(U._status===0||U._status===-1)&&(U._status=1,U._result=Ce)},function(Ce){(U._status===0||U._status===-1)&&(U._status=2,U._result=Ce)}),U._status===-1&&(U._status=0,U._result=ie)}if(U._status===1)return U._result.default;throw U._result}var ge=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Se={map:X,forEach:function(U,ie,Ce){X(U,function(){ie.apply(this,arguments)},Ce)},count:function(U){var ie=0;return X(U,function(){ie++}),ie},toArray:function(U){return X(U,function(ie){return ie})||[]},only:function(U){if(!he(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return yt.Activity=y,yt.Children=Se,yt.Component=N,yt.Fragment=r,yt.Profiler=a,yt.PureComponent=I,yt.StrictMode=i,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,yt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return A.H.useMemoCache(U)}},yt.cache=function(U){return function(){return U.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(U,ie,Ce){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Ne=E({},U.props),Ie=U.key;if(ie!=null)for(qe in ie.key!==void 0&&(Ie=""+ie.key),ie)!G.call(ie,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ie.ref===void 0||(Ne[qe]=ie[qe]);var qe=arguments.length-2;if(qe===1)Ne.children=Ce;else if(1<qe){for(var nt=Array(qe),wt=0;wt<qe;wt++)nt[wt]=arguments[wt+2];Ne.children=nt}return W(U.type,Ie,Ne)},yt.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:s,_context:U},U},yt.createElement=function(U,ie,Ce){var Ne,Ie={},qe=null;if(ie!=null)for(Ne in ie.key!==void 0&&(qe=""+ie.key),ie)G.call(ie,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ie[Ne]=ie[Ne]);var nt=arguments.length-2;if(nt===1)Ie.children=Ce;else if(1<nt){for(var wt=Array(nt),De=0;De<nt;De++)wt[De]=arguments[De+2];Ie.children=wt}if(U&&U.defaultProps)for(Ne in nt=U.defaultProps,nt)Ie[Ne]===void 0&&(Ie[Ne]=nt[Ne]);return W(U,qe,Ie)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(U){return{$$typeof:d,render:U}},yt.isValidElement=he,yt.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:q}},yt.memo=function(U,ie){return{$$typeof:h,type:U,compare:ie===void 0?null:ie}},yt.startTransition=function(U){var ie=A.T,Ce={};A.T=Ce;try{var Ne=U(),Ie=A.S;Ie!==null&&Ie(Ce,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(V,ge)}catch(qe){ge(qe)}finally{ie!==null&&Ce.types!==null&&(ie.types=Ce.types),A.T=ie}},yt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},yt.use=function(U){return A.H.use(U)},yt.useActionState=function(U,ie,Ce){return A.H.useActionState(U,ie,Ce)},yt.useCallback=function(U,ie){return A.H.useCallback(U,ie)},yt.useContext=function(U){return A.H.useContext(U)},yt.useDebugValue=function(){},yt.useDeferredValue=function(U,ie){return A.H.useDeferredValue(U,ie)},yt.useEffect=function(U,ie){return A.H.useEffect(U,ie)},yt.useEffectEvent=function(U){return A.H.useEffectEvent(U)},yt.useId=function(){return A.H.useId()},yt.useImperativeHandle=function(U,ie,Ce){return A.H.useImperativeHandle(U,ie,Ce)},yt.useInsertionEffect=function(U,ie){return A.H.useInsertionEffect(U,ie)},yt.useLayoutEffect=function(U,ie){return A.H.useLayoutEffect(U,ie)},yt.useMemo=function(U,ie){return A.H.useMemo(U,ie)},yt.useOptimistic=function(U,ie){return A.H.useOptimistic(U,ie)},yt.useReducer=function(U,ie,Ce){return A.H.useReducer(U,ie,Ce)},yt.useRef=function(U){return A.H.useRef(U)},yt.useState=function(U){return A.H.useState(U)},yt.useSyncExternalStore=function(U,ie,Ce){return A.H.useSyncExternalStore(U,ie,Ce)},yt.useTransition=function(){return A.H.useTransition()},yt.version="19.2.3",yt}var cw;function Ey(){return cw||(cw=1,ng.exports=RM()),ng.exports}var C=Ey();const Kn=wh(C),Oy=EM({__proto__:null,default:Kn},[C]);var rg={exports:{}},Ec={},ig={exports:{}},og={};var dw;function PM(){return dw||(dw=1,(function(e){function t(B,X){var q=B.length;B.push(X);e:for(;0<q;){var ge=q-1>>>1,Se=B[ge];if(0<a(Se,X))B[ge]=X,B[q]=Se,q=ge;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var X=B[0],q=B.pop();if(q!==X){B[0]=q;e:for(var ge=0,Se=B.length,U=Se>>>1;ge<U;){var ie=2*(ge+1)-1,Ce=B[ie],Ne=ie+1,Ie=B[Ne];if(0>a(Ce,q))Ne<Se&&0>a(Ie,Ce)?(B[ge]=Ie,B[Ne]=q,ge=Ne):(B[ge]=Ce,B[ie]=q,ge=ie);else if(Ne<Se&&0>a(Ie,q))B[ge]=Ie,B[Ne]=q,ge=Ne;else break e}}return X}function a(B,X){var q=B.sortIndex-X.sortIndex;return q!==0?q:B.id-X.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,y=null,x=3,w=!1,_=!1,E=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function F(B){for(var X=r(h);X!==null;){if(X.callback===null)i(h);else if(X.startTime<=B)i(h),X.sortIndex=X.expirationTime,t(f,X);else break;X=r(h)}}function k(B){if(E=!1,F(B),!_)if(r(f)!==null)_=!0,V||(V=!0,de());else{var X=r(h);X!==null&&xe(k,X.startTime-B)}}var V=!1,A=-1,G=5,W=-1;function le(){return T?!0:!(e.unstable_now()-W<G)}function he(){if(T=!1,V){var B=e.unstable_now();W=B;var X=!0;try{e:{_=!1,E&&(E=!1,D(A),A=-1),w=!0;var q=x;try{t:{for(F(B),y=r(f);y!==null&&!(y.expirationTime>B&&le());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,x=y.priorityLevel;var Se=ge(y.expirationTime<=B);if(B=e.unstable_now(),typeof Se=="function"){y.callback=Se,F(B),X=!0;break t}y===r(f)&&i(f),F(B)}else i(f);y=r(f)}if(y!==null)X=!0;else{var U=r(h);U!==null&&xe(k,U.startTime-B),X=!1}}break e}finally{y=null,x=q,w=!1}X=void 0}}finally{X?de():V=!1}}}var de;if(typeof I=="function")de=function(){I(he)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,ce=Oe.port2;Oe.port1.onmessage=he,de=function(){ce.postMessage(null)}}else de=function(){N(he,0)};function xe(B,X){A=N(function(){B(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var X=3;break;default:X=x}var q=x;x=X;try{return B()}finally{x=q}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var q=x;x=B;try{return X()}finally{x=q}},e.unstable_scheduleCallback=function(B,X,q){var ge=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?ge+q:ge):q=ge,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=q+Se,B={id:g++,callback:X,priorityLevel:B,startTime:q,expirationTime:Se,sortIndex:-1},q>ge?(B.sortIndex=q,t(h,B),r(f)===null&&B===r(h)&&(E?(D(A),A=-1):E=!0,xe(k,q-ge))):(B.sortIndex=Se,t(f,B),_||w||(_=!0,V||(V=!0,de()))),B},e.unstable_shouldYield=le,e.unstable_wrapCallback=function(B){var X=x;return function(){var q=x;x=X;try{return B.apply(this,arguments)}finally{x=q}}}})(og)),og}var fw;function DM(){return fw||(fw=1,ig.exports=PM()),ig.exports}var ag={exports:{}},mr={};var hw;function AM(){if(hw)return mr;hw=1;var e=Ey();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:h,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,g)},mr.flushSync=function(f){var h=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=h,i.p=g,i.d.f()}},mr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},mr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},mr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,y=d(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:w}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},mr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=d(g,h.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},mr.requestFormReset=function(f){i.d.r(f)},mr.unstable_batchedUpdates=function(f,h){return f(h)},mr.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},mr.useFormStatus=function(){return u.H.useHostTransitionStatus()},mr.version="19.2.3",mr}var pw;function B1(){if(pw)return ag.exports;pw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ag.exports=AM(),ag.exports}var mw;function NM(){if(mw)return Ec;mw=1;var e=DM(),t=Ey(),r=B1();function i(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function u(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function d(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function f(n){if(s(n)!==n)throw Error(i(188))}function h(n){var o=n.alternate;if(!o){if(o=s(n),o===null)throw Error(i(188));return o!==n?null:n}for(var l=n,c=o;;){var m=l.return;if(m===null)break;var b=m.alternate;if(b===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===l)return f(m),n;if(b===c)return f(m),o;b=b.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=b;else{for(var M=!1,z=m.child;z;){if(z===l){M=!0,l=m,c=b;break}if(z===c){M=!0,c=m,l=b;break}z=z.sibling}if(!M){for(z=b.child;z;){if(z===l){M=!0,l=b,c=m;break}if(z===c){M=!0,c=b,l=m;break}z=z.sibling}if(!M)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:o}function g(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=g(n),o!==null)return o;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),he=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=he&&n[he]||n["@@iterator"],typeof n=="function"?n:null)}var Oe=Symbol.for("react.client.reference");function ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Oe?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case V:return"SuspenseList";case W:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case I:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case F:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return o=n.displayName||null,o!==null?o:ce(n.type)||"Memo";case G:o=n._payload,n=n._init;try{return ce(n(o))}catch{}}return null}var xe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},ge=[],Se=-1;function U(n){return{current:n}}function ie(n){0>Se||(n.current=ge[Se],ge[Se]=null,Se--)}function Ce(n,o){Se++,ge[Se]=n.current,n.current=o}var Ne=U(null),Ie=U(null),qe=U(null),nt=U(null);function wt(n,o){switch(Ce(qe,o),Ce(Ie,n),Ce(Ne,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Px(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Px(o),n=Dx(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ne),Ce(Ne,n)}function De(){ie(Ne),ie(Ie),ie(qe)}function Zt(n){n.memoizedState!==null&&Ce(nt,n);var o=Ne.current,l=Dx(o,n.type);o!==l&&(Ce(Ie,n),Ce(Ne,l))}function ln(n){Ie.current===n&&(ie(Ne),ie(Ie)),nt.current===n&&(ie(nt),xc._currentValue=q)}var Ze,ht;function kt(n){if(Ze===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Ze=o&&o[1]||"",ht=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+n+ht}var nn=!1;function mn(n,o){if(!n||nn)return"";nn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(we){var ve=we}Reflect.construct(n,[],Pe)}else{try{Pe.call()}catch(we){ve=we}n.call(Pe.prototype)}}else{try{throw Error()}catch(we){ve=we}(Pe=n())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),M=b[0],z=b[1];if(M&&z){var Y=M.split(`
`),me=z.split(`
`);for(m=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;m<me.length&&!me[m].includes("DetermineComponentFrameRoot");)m++;if(c===Y.length||m===me.length)for(c=Y.length-1,m=me.length-1;1<=c&&0<=m&&Y[c]!==me[m];)m--;for(;1<=c&&0<=m;c--,m--)if(Y[c]!==me[m]){if(c!==1||m!==1)do if(c--,m--,0>m||Y[c]!==me[m]){var Me=`
`+Y[c].replace(" at new "," at ");return n.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",n.displayName)),Me}while(1<=c&&0<=m);break}}}finally{nn=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?kt(l):""}function Rr(n,o){switch(n.tag){case 26:case 27:case 5:return kt(n.type);case 16:return kt("Lazy");case 13:return n.child!==o&&o!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return mn(n.type,!1);case 11:return mn(n.type.render,!1);case 1:return mn(n.type,!0);case 31:return kt("Activity");default:return""}}function rr(n){try{var o="",l=null;do o+=Rr(n,l),l=n,n=n.return;while(n);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Jt=Object.prototype.hasOwnProperty,qn=e.unstable_scheduleCallback,gn=e.unstable_cancelCallback,xn=e.unstable_shouldYield,br=e.unstable_requestPaint,Lt=e.unstable_now,Ht=e.unstable_getCurrentPriorityLevel,Gn=e.unstable_ImmediatePriority,lt=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,_n=e.unstable_LowPriority,Rn=e.unstable_IdlePriority,Vr=e.log,rn=e.unstable_setDisableYieldValue,Pr=null,qt=null;function At(n){if(typeof Vr=="function"&&rn(n),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Pr,n)}catch{}}var Ge=Math.clz32?Math.clz32:Di,Yr=Math.log,Dr=Math.LN2;function Di(n){return n>>>=0,n===0?32:31-(Yr(n)/Dr|0)|0}var $e=256,on=262144,Vn=4194304;function ir(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Gi(n,o,l){var c=n.pendingLanes;if(c===0)return 0;var m=0,b=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var z=c&134217727;return z!==0?(c=z&~b,c!==0?m=ir(c):(M&=z,M!==0?m=ir(M):l||(l=z&~n,l!==0&&(m=ir(l))))):(z=c&~b,z!==0?m=ir(z):M!==0?m=ir(M):l||(l=c&~n,l!==0&&(m=ir(l)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,l=o&-o,b>=l||b===32&&(l&4194048)!==0)?o:m}function Ai(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function Xs(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var n=Vn;return Vn<<=1,(Vn&62914560)===0&&(Vn=4194304),n}function xr(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function wr(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ja(n,o,l,c,m,b){var M=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var z=n.entanglements,Y=n.expirationTimes,me=n.hiddenUpdates;for(l=M&~l;0<l;){var Me=31-Ge(l),Pe=1<<Me;z[Me]=0,Y[Me]=-1;var ve=me[Me];if(ve!==null)for(me[Me]=null,Me=0;Me<ve.length;Me++){var we=ve[Me];we!==null&&(we.lane&=-536870913)}l&=~Pe}c!==0&&mo(n,c,0),b!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=b&~(M&~o))}function mo(n,o,l){n.pendingLanes|=o,n.suspendedLanes&=~o;var c=31-Ge(o);n.entangledLanes|=o,n.entanglements[c]=n.entanglements[c]|1073741824|l&261930}function $(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var c=31-Ge(l),m=1<<c;m&o|n[c]&o&&(n[c]|=o),l&=~m}}function te(n,o){var l=o&-o;return l=(l&42)!==0?1:be(l),(l&(n.suspendedLanes|o))!==0?0:l}function be(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ae(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ke(){var n=X.p;return n!==0?n:(n=window.event,n===void 0?32:ew(n.type))}function tt(n,o){var l=X.p;try{return X.p=n,o()}finally{X.p=l}}var Xe=Math.random().toString(36).slice(2),He="__reactFiber$"+Xe,Ke="__reactProps$"+Xe,Qe="__reactContainer$"+Xe,ot="__reactEvents$"+Xe,it="__reactListeners$"+Xe,vt="__reactHandles$"+Xe,Ot="__reactResources$"+Xe,Bt="__reactMarker$"+Xe;function un(n){delete n[He],delete n[Ke],delete n[ot],delete n[it],delete n[vt]}function an(n){var o=n[He];if(o)return o;for(var l=n.parentNode;l;){if(o=l[Qe]||l[He]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=kx(n);n!==null;){if(l=n[He])return l;n=kx(n)}return o}n=l,l=n.parentNode}return null}function at(n){if(n=n[He]||n[Qe]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function sn(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(i(33))}function yn(n){var o=n[Ot];return o||(o=n[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function en(n){n[Bt]=!0}var Xn=new Set,Wn={};function Sr(n,o){fr(n,o),fr(n+"Capture",o)}function fr(n,o){for(Wn[n]=o,n=0;n<o.length;n++)Xn.add(o[n])}var or=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vi={},ci={};function Mt(n){return Jt.call(ci,n)?!0:Jt.call(Vi,n)?!1:or.test(n)?ci[n]=!0:(Vi[n]=!0,!1)}function st(n,o,l){if(Mt(o))if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+l)}}function Ar(n,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+l)}}function Nn(n,o,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(o,l,""+c)}}function Ct(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Kr(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function es(n,o,l){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(M){l=""+M,b.call(this,M)}}),Object.defineProperty(n,o,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function ia(n){if(!n._valueTracker){var o=Kr(n)?"checked":"value";n._valueTracker=es(n,o,""+n[o])}}function Mu(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return n&&(c=Kr(n)?n.checked?"true":"false":n.value),n=c,n!==l?(o.setValue(n),!0):!1}function Ut(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var ts=/[\n"\\]/g;function Qn(n){return n.replace(ts,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Yi(n,o,l,c,m,b,M,z){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),o!=null?M==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Ct(o)):n.value!==""+Ct(o)&&(n.value=""+Ct(o)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),o!=null?ns(n,M,Ct(o)):l!=null?ns(n,M,Ct(l)):c!=null&&n.removeAttribute("value"),m==null&&b!=null&&(n.defaultChecked=!!b),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?n.name=""+Ct(z):n.removeAttribute("name")}function Ws(n,o,l,c,m,b,M,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ia(n);return}l=l!=null?""+Ct(l):"",o=o!=null?""+Ct(o):l,z||o===n.value||(n.value=o),n.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=z?n.checked:!!c,n.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),ia(n)}function ns(n,o,l){o==="number"&&Ut(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ni(n,o,l,c){if(n=n.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=o.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Ct(l),o=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function Tu(n,o,l){if(o!=null&&(o=""+Ct(o),o!==n.value&&(n.value=o),l==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=l!=null?""+Ct(l):""}function rs(n,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(xe(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Ct(o),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c),ia(n)}function go(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var cp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(n,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":c?n.setProperty(o,l):typeof l!="number"||l===0||cp.has(o)?o==="float"?n.cssFloat=l:n[o]=(""+l).trim():n[o]=l+"px"}function Ru(n,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&Nt(n,m,c)}else for(var b in o)o.hasOwnProperty(b)&&Nt(n,b,o[b])}function Pu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(n){return Cr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nr(){}var di=null;function Qs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yo=null,cn=null;function Xr(n){var o=at(n);if(o&&(n=o.stateNode)){var l=n[Ke]||null;e:switch(n=o.stateNode,o.type){case"input":if(Yi(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Qn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==n&&c.form===n.form){var m=c[Ke]||null;if(!m)throw Error(i(90));Yi(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===n.form&&Mu(c)}break e;case"textarea":Tu(n,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Ni(n,!!l.multiple,o,!1)}}}var vo=!1;function oa(n,o,l){if(vo)return n(o,l);vo=!0;try{var c=n(o);return c}finally{if(vo=!1,(yo!==null||cn!==null)&&(sf(),yo&&(o=yo,n=cn,cn=yo=null,Xr(o),n)))for(o=0;o<n.length;o++)Xr(n[o])}}function bo(n,o){var l=n.stateNode;if(l===null)return null;var c=l[Ke]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Du=!1;if(Zn)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Du=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Du=!1}var fi=null,Zs=null,aa=null;function sa(){if(aa)return aa;var n,o=Zs,l=o.length,c,m="value"in fi?fi.value:fi.textContent,b=m.length;for(n=0;n<l&&o[n]===m[n];n++);var M=l-n;for(c=1;c<=M&&o[l-c]===m[b-c];c++);return aa=m.slice(n,1<c?1-c:void 0)}function la(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function is(){return!0}function vd(){return!1}function In(n){function o(l,c,m,b,M){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(l=n[z],this[z]=l?l(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?is:vd,this.isPropagationStopped=vd,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),o}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=In(xo),Ki=y({},xo,{view:0,detail:0}),el=In(Ki),os,Au,as,tl=y({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==as&&(as&&n.type==="mousemove"?(os=n.screenX-as.screenX,Au=n.screenY-as.screenY):Au=os=0,as=n),os)},movementY:function(n){return"movementY"in n?n.movementY:Au}}),nl=In(tl),Nu=y({},tl,{dataTransfer:0}),bd=In(Nu),rl=y({},Ki,{relatedTarget:0}),ua=In(rl),il=y({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),xd=In(il),fp=y({},xo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ca=In(fp),Iu=y({},xo,{data:0}),ol=In(Iu),ju={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ss(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Jn[n])?!!o[n]:!1}function wo(){return ss}var wd=y({},Ki,{key:function(n){if(n.key){var o=ju[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=la(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(n){return n.type==="keypress"?la(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?la(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),al=In(wd),Sd=y({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=In(Sd),sl=y({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),ku=In(sl),So=y({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lu=In(So),Bu=y({},tl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=In(Bu),Uu=y({},xo,{newState:0,oldState:0}),Cd=In(Uu),hp=[9,13,27,32],ls=Zn&&"CompositionEvent"in window,Xi=null;Zn&&"documentMode"in document&&(Xi=document.documentMode);var pp=Zn&&"TextEvent"in window&&!Xi,ul=Zn&&(!ls||Xi&&8<Xi&&11>=Xi),cl=" ",_d=!1;function $u(n,o){switch(n){case"keyup":return hp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Co=!1;function Od(n,o){switch(n){case"compositionend":return Ed(o);case"keypress":return o.which!==32?null:(_d=!0,cl);case"textInput":return n=o.data,n===cl&&_d?null:n;default:return null}}function mp(n,o){if(Co)return n==="compositionend"||!ls&&$u(n,o)?(n=sa(),aa=Zs=fi=null,Co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ul&&o.locale!=="ko"?null:o.data;default:return null}}var Md={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dl(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Md[n.type]:o==="textarea"}function Hu(n,o,l,c){yo?cn?cn.push(c):cn=[c]:yo=c,o=pf(o,"onChange"),0<o.length&&(l=new Js("onChange","change",null,l,c),n.push({event:l,listeners:o}))}var da=null,us=null;function gp(n){_x(n,0)}function fl(n){var o=sn(n);if(Mu(o))return n}function cs(n,o){if(n==="change")return o}var hi=!1;if(Zn){var dn;if(Zn){var fa="oninput"in document;if(!fa){var _r=document.createElement("div");_r.setAttribute("oninput","return;"),fa=typeof _r.oninput=="function"}dn=fa}else dn=!1;hi=dn&&(!document.documentMode||9<document.documentMode)}function Td(){da&&(da.detachEvent("onpropertychange",hl),us=da=null)}function hl(n){if(n.propertyName==="value"&&fl(us)){var o=[];Hu(o,us,n,Qs(n)),oa(gp,o)}}function Rd(n,o,l){n==="focusin"?(Td(),da=o,us=l,da.attachEvent("onpropertychange",hl)):n==="focusout"&&Td()}function _o(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(us)}function qu(n,o){if(n==="click")return fl(o)}function ha(n,o){if(n==="input"||n==="change")return fl(o)}function Wi(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var pr=typeof Object.is=="function"?Object.is:Wi;function p(n,o){if(pr(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Jt.call(o,m)||!pr(n[m],o[m]))return!1}return!0}function v(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function S(n,o){var l=v(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=o&&c>=o)return{node:l,offset:o-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=v(l)}}function O(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?O(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function P(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Ut(n.document);o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=Ut(n.document)}return o}function j(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var L=Zn&&"documentMode"in document&&11>=document.documentMode,H=null,Q=null,Z=null,oe=!1;function K(n,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;oe||H==null||H!==Ut(c)||(c=H,"selectionStart"in c&&j(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Z&&p(Z,c)||(Z=c,c=pf(Q,"onSelect"),0<c.length&&(o=new Js("onSelect","select",null,o,l),n.push({event:o,listeners:c}),o.target=H)))}function se(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var J={animationend:se("Animation","AnimationEnd"),animationiteration:se("Animation","AnimationIteration"),animationstart:se("Animation","AnimationStart"),transitionrun:se("Transition","TransitionRun"),transitionstart:se("Transition","TransitionStart"),transitioncancel:se("Transition","TransitionCancel"),transitionend:se("Transition","TransitionEnd")},ne={},re={};Zn&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete J.animationend.animation,delete J.animationiteration.animation,delete J.animationstart.animation),"TransitionEvent"in window||delete J.transitionend.transition);function ae(n){if(ne[n])return ne[n];if(!J[n])return n;var o=J[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in re)return ne[n]=o[l];return n}var fe=ae("animationend"),ye=ae("animationiteration"),Ee=ae("animationstart"),Re=ae("transitionrun"),Be=ae("transitionstart"),Ye=ae("transitioncancel"),je=ae("transitionend"),Ue=new Map,Ve="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ve.push("scrollEnd");function ze(n,o){Ue.set(n,o),Sr(o,[n])}var We=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ut=[],mt=0,bt=0;function er(){for(var n=mt,o=bt=mt=0;o<n;){var l=ut[o];ut[o++]=null;var c=ut[o];ut[o++]=null;var m=ut[o];ut[o++]=null;var b=ut[o];if(ut[o++]=null,c!==null&&m!==null){var M=c.pending;M===null?m.next=m:(m.next=M.next,M.next=m),c.pending=m}b!==0&&ds(l,m,b)}}function pt(n,o,l,c){ut[mt++]=n,ut[mt++]=o,ut[mt++]=l,ut[mt++]=c,bt|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function jn(n,o,l,c){return pt(n,o,l,c),zn(n)}function vn(n,o){return pt(n,null,null,o),zn(n)}function ds(n,o,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var m=!1,b=n.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(m=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,m&&o!==null&&(m=31-Ge(l),n=b.hiddenUpdates,c=n[m],c===null?n[m]=[o]:c.push(o),o.lane=l|536870912),b):null}function zn(n){if(50<hc)throw hc=0,Em=null,Error(i(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Ir={};function Gu(n,o,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(n,o,l,c){return new Gu(n,o,l,c)}function yp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Eo(n,o){var l=n.alternate;return l===null?(l=Wr(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function a0(n,o){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,o=l.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Pd(n,o,l,c,m,b){var M=0;if(c=n,typeof n=="function")yp(n)&&(M=1);else if(typeof n=="string")M=hM(n,l,Ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case W:return n=Wr(31,l,o,m),n.elementType=W,n.lanes=b,n;case E:return fs(l.children,m,b,o);case T:M=8,m|=24;break;case N:return n=Wr(12,l,o,m|2),n.elementType=N,n.lanes=b,n;case k:return n=Wr(13,l,o,m),n.elementType=k,n.lanes=b,n;case V:return n=Wr(19,l,o,m),n.elementType=V,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:M=10;break e;case D:M=9;break e;case F:M=11;break e;case A:M=14;break e;case G:M=16,c=null;break e}M=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return o=Wr(M,l,o,m),o.elementType=n,o.type=c,o.lanes=b,o}function fs(n,o,l,c){return n=Wr(7,n,c,o),n.lanes=l,n}function vp(n,o,l){return n=Wr(6,n,null,o),n.lanes=l,n}function s0(n){var o=Wr(18,null,null,0);return o.stateNode=n,o}function bp(n,o,l){return o=Wr(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var l0=new WeakMap;function pi(n,o){if(typeof n=="object"&&n!==null){var l=l0.get(n);return l!==void 0?l:(o={value:n,source:o,stack:rr(o)},l0.set(n,o),o)}return{value:n,source:o,stack:rr(o)}}var pl=[],ml=0,Dd=null,Vu=0,mi=[],gi=0,pa=null,Qi=1,Zi="";function Oo(n,o){pl[ml++]=Vu,pl[ml++]=Dd,Dd=n,Vu=o}function u0(n,o,l){mi[gi++]=Qi,mi[gi++]=Zi,mi[gi++]=pa,pa=n;var c=Qi;n=Zi;var m=32-Ge(c)-1;c&=~(1<<m),l+=1;var b=32-Ge(o)+m;if(30<b){var M=m-m%5;b=(c&(1<<M)-1).toString(32),c>>=M,m-=M,Qi=1<<32-Ge(o)+m|l<<m|c,Zi=b+n}else Qi=1<<b|l<<m|c,Zi=n}function xp(n){n.return!==null&&(Oo(n,1),u0(n,1,0))}function wp(n){for(;n===Dd;)Dd=pl[--ml],pl[ml]=null,Vu=pl[--ml],pl[ml]=null;for(;n===pa;)pa=mi[--gi],mi[gi]=null,Zi=mi[--gi],mi[gi]=null,Qi=mi[--gi],mi[gi]=null}function c0(n,o){mi[gi++]=Qi,mi[gi++]=Zi,mi[gi++]=pa,Qi=o.id,Zi=o.overflow,pa=n}var ar=null,fn=null,It=!1,ma=null,yi=!1,Sp=Error(i(519));function ga(n){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yu(pi(o,n)),Sp}function d0(n){var o=n.stateNode,l=n.type,c=n.memoizedProps;switch(o[He]=n,o[Ke]=c,l){case"dialog":Rt("cancel",o),Rt("close",o);break;case"iframe":case"object":case"embed":Rt("load",o);break;case"video":case"audio":for(l=0;l<mc.length;l++)Rt(mc[l],o);break;case"source":Rt("error",o);break;case"img":case"image":case"link":Rt("error",o),Rt("load",o);break;case"details":Rt("toggle",o);break;case"input":Rt("invalid",o),Ws(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Rt("invalid",o);break;case"textarea":Rt("invalid",o),rs(o,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||Tx(o.textContent,l)?(c.popover!=null&&(Rt("beforetoggle",o),Rt("toggle",o)),c.onScroll!=null&&Rt("scroll",o),c.onScrollEnd!=null&&Rt("scrollend",o),c.onClick!=null&&(o.onclick=Nr),o=!0):o=!1,o||ga(n,!0)}function f0(n){for(ar=n.return;ar;)switch(ar.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:ar=ar.return}}function gl(n){if(n!==ar)return!1;if(!It)return f0(n),It=!0,!1;var o=n.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Bm(n.type,n.memoizedProps)),l=!l),l&&fn&&ga(n),f0(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));fn=Fx(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));fn=Fx(n)}else o===27?(o=fn,Pa(n.type)?(n=Gm,Gm=null,fn=n):fn=o):fn=ar?bi(n.stateNode.nextSibling):null;return!0}function hs(){fn=ar=null,It=!1}function Cp(){var n=ma;return n!==null&&(kr===null?kr=n:kr.push.apply(kr,n),ma=null),n}function Yu(n){ma===null?ma=[n]:ma.push(n)}var _p=U(null),ps=null,Mo=null;function ya(n,o,l){Ce(_p,o._currentValue),o._currentValue=l}function To(n){n._currentValue=_p.current,ie(_p)}function Ep(n,o,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),n===l)break;n=n.return}}function Op(n,o,l,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var b=m.dependencies;if(b!==null){var M=m.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=m;for(var Y=0;Y<o.length;Y++)if(z.context===o[Y]){b.lanes|=l,z=b.alternate,z!==null&&(z.lanes|=l),Ep(b.return,l,n),c||(M=null);break e}b=z.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(i(341));M.lanes|=l,b=M.alternate,b!==null&&(b.lanes|=l),Ep(M,l,n),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===n){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function yl(n,o,l,c){n=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var z=m.type;pr(m.pendingProps.value,M.value)||(n!==null?n.push(z):n=[z])}}else if(m===nt.current){if(M=m.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(xc):n=[xc])}m=m.return}n!==null&&Op(o,n,l,c),o.flags|=262144}function Ad(n){for(n=n.firstContext;n!==null;){if(!pr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){ps=n,Mo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sr(n){return h0(ps,n)}function Nd(n,o){return ps===null&&ms(n),h0(n,o)}function h0(n,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Mo===null){if(n===null)throw Error(i(308));Mo=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Mo=Mo.next=o;return l}var uO=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){o.aborted=!0,n.forEach(function(l){return l()})}},cO=e.unstable_scheduleCallback,dO=e.unstable_NormalPriority,Fn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mp(){return{controller:new uO,data:new Map,refCount:0}}function Ku(n){n.refCount--,n.refCount===0&&cO(dO,function(){n.controller.abort()})}var Xu=null,Tp=0,vl=0,bl=null;function fO(n,o){if(Xu===null){var l=Xu=[];Tp=0,vl=Dm(),bl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Tp++,o.then(p0,p0),o}function p0(){if(--Tp===0&&Xu!==null){bl!==null&&(bl.status="fulfilled");var n=Xu;Xu=null,vl=0,bl=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function hO(n,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var m0=B.S;B.S=function(n,o){Zb=Lt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&fO(n,o),m0!==null&&m0(n,o)};var gs=U(null);function Rp(){var n=gs.current;return n!==null?n:tn.pooledCache}function Id(n,o){o===null?Ce(gs,gs.current):Ce(gs,o.pool)}function g0(){var n=Rp();return n===null?null:{parent:Fn._currentValue,pool:n}}var xl=Error(i(460)),Pp=Error(i(474)),jd=Error(i(542)),zd={then:function(){}};function y0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function v0(n,o,l){switch(l=n[l],l===void 0?n.push(o):l!==o&&(o.then(Nr,Nr),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,x0(n),n;default:if(typeof o.status=="string")o.then(Nr,Nr);else{if(n=tn,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=o,n.status="pending",n.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,x0(n),n}throw vs=o,xl}}function ys(n){try{var o=n._init;return o(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(vs=l,xl):l}}var vs=null;function b0(){if(vs===null)throw Error(i(459));var n=vs;return vs=null,n}function x0(n){if(n===xl||n===jd)throw Error(i(483))}var wl=null,Wu=0;function Fd(n){var o=Wu;return Wu+=1,wl===null&&(wl=[]),v0(wl,n,o)}function Qu(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function kd(n,o){throw o.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(o),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function w0(n){function o(ue,ee){if(n){var pe=ue.deletions;pe===null?(ue.deletions=[ee],ue.flags|=16):pe.push(ee)}}function l(ue,ee){if(!n)return null;for(;ee!==null;)o(ue,ee),ee=ee.sibling;return null}function c(ue){for(var ee=new Map;ue!==null;)ue.key!==null?ee.set(ue.key,ue):ee.set(ue.index,ue),ue=ue.sibling;return ee}function m(ue,ee){return ue=Eo(ue,ee),ue.index=0,ue.sibling=null,ue}function b(ue,ee,pe){return ue.index=pe,n?(pe=ue.alternate,pe!==null?(pe=pe.index,pe<ee?(ue.flags|=67108866,ee):pe):(ue.flags|=67108866,ee)):(ue.flags|=1048576,ee)}function M(ue){return n&&ue.alternate===null&&(ue.flags|=67108866),ue}function z(ue,ee,pe,Te){return ee===null||ee.tag!==6?(ee=vp(pe,ue.mode,Te),ee.return=ue,ee):(ee=m(ee,pe),ee.return=ue,ee)}function Y(ue,ee,pe,Te){var ct=pe.type;return ct===E?Me(ue,ee,pe.props.children,Te,pe.key):ee!==null&&(ee.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===G&&ys(ct)===ee.type)?(ee=m(ee,pe.props),Qu(ee,pe),ee.return=ue,ee):(ee=Pd(pe.type,pe.key,pe.props,null,ue.mode,Te),Qu(ee,pe),ee.return=ue,ee)}function me(ue,ee,pe,Te){return ee===null||ee.tag!==4||ee.stateNode.containerInfo!==pe.containerInfo||ee.stateNode.implementation!==pe.implementation?(ee=bp(pe,ue.mode,Te),ee.return=ue,ee):(ee=m(ee,pe.children||[]),ee.return=ue,ee)}function Me(ue,ee,pe,Te,ct){return ee===null||ee.tag!==7?(ee=fs(pe,ue.mode,Te,ct),ee.return=ue,ee):(ee=m(ee,pe),ee.return=ue,ee)}function Pe(ue,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return ee=vp(""+ee,ue.mode,pe),ee.return=ue,ee;if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return pe=Pd(ee.type,ee.key,ee.props,null,ue.mode,pe),Qu(pe,ee),pe.return=ue,pe;case _:return ee=bp(ee,ue.mode,pe),ee.return=ue,ee;case G:return ee=ys(ee),Pe(ue,ee,pe)}if(xe(ee)||de(ee))return ee=fs(ee,ue.mode,pe,null),ee.return=ue,ee;if(typeof ee.then=="function")return Pe(ue,Fd(ee),pe);if(ee.$$typeof===I)return Pe(ue,Nd(ue,ee),pe);kd(ue,ee)}return null}function ve(ue,ee,pe,Te){var ct=ee!==null?ee.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ct!==null?null:z(ue,ee,""+pe,Te);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return pe.key===ct?Y(ue,ee,pe,Te):null;case _:return pe.key===ct?me(ue,ee,pe,Te):null;case G:return pe=ys(pe),ve(ue,ee,pe,Te)}if(xe(pe)||de(pe))return ct!==null?null:Me(ue,ee,pe,Te,null);if(typeof pe.then=="function")return ve(ue,ee,Fd(pe),Te);if(pe.$$typeof===I)return ve(ue,ee,Nd(ue,pe),Te);kd(ue,pe)}return null}function we(ue,ee,pe,Te,ct){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return ue=ue.get(pe)||null,z(ee,ue,""+Te,ct);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:return ue=ue.get(Te.key===null?pe:Te.key)||null,Y(ee,ue,Te,ct);case _:return ue=ue.get(Te.key===null?pe:Te.key)||null,me(ee,ue,Te,ct);case G:return Te=ys(Te),we(ue,ee,pe,Te,ct)}if(xe(Te)||de(Te))return ue=ue.get(pe)||null,Me(ee,ue,Te,ct,null);if(typeof Te.then=="function")return we(ue,ee,pe,Fd(Te),ct);if(Te.$$typeof===I)return we(ue,ee,pe,Nd(ee,Te),ct);kd(ee,Te)}return null}function et(ue,ee,pe,Te){for(var ct=null,jt=null,rt=ee,St=ee=0,Dt=null;rt!==null&&St<pe.length;St++){rt.index>St?(Dt=rt,rt=null):Dt=rt.sibling;var zt=ve(ue,rt,pe[St],Te);if(zt===null){rt===null&&(rt=Dt);break}n&&rt&&zt.alternate===null&&o(ue,rt),ee=b(zt,ee,St),jt===null?ct=zt:jt.sibling=zt,jt=zt,rt=Dt}if(St===pe.length)return l(ue,rt),It&&Oo(ue,St),ct;if(rt===null){for(;St<pe.length;St++)rt=Pe(ue,pe[St],Te),rt!==null&&(ee=b(rt,ee,St),jt===null?ct=rt:jt.sibling=rt,jt=rt);return It&&Oo(ue,St),ct}for(rt=c(rt);St<pe.length;St++)Dt=we(rt,ue,St,pe[St],Te),Dt!==null&&(n&&Dt.alternate!==null&&rt.delete(Dt.key===null?St:Dt.key),ee=b(Dt,ee,St),jt===null?ct=Dt:jt.sibling=Dt,jt=Dt);return n&&rt.forEach(function(ja){return o(ue,ja)}),It&&Oo(ue,St),ct}function dt(ue,ee,pe,Te){if(pe==null)throw Error(i(151));for(var ct=null,jt=null,rt=ee,St=ee=0,Dt=null,zt=pe.next();rt!==null&&!zt.done;St++,zt=pe.next()){rt.index>St?(Dt=rt,rt=null):Dt=rt.sibling;var ja=ve(ue,rt,zt.value,Te);if(ja===null){rt===null&&(rt=Dt);break}n&&rt&&ja.alternate===null&&o(ue,rt),ee=b(ja,ee,St),jt===null?ct=ja:jt.sibling=ja,jt=ja,rt=Dt}if(zt.done)return l(ue,rt),It&&Oo(ue,St),ct;if(rt===null){for(;!zt.done;St++,zt=pe.next())zt=Pe(ue,zt.value,Te),zt!==null&&(ee=b(zt,ee,St),jt===null?ct=zt:jt.sibling=zt,jt=zt);return It&&Oo(ue,St),ct}for(rt=c(rt);!zt.done;St++,zt=pe.next())zt=we(rt,ue,St,zt.value,Te),zt!==null&&(n&&zt.alternate!==null&&rt.delete(zt.key===null?St:zt.key),ee=b(zt,ee,St),jt===null?ct=zt:jt.sibling=zt,jt=zt);return n&&rt.forEach(function(_M){return o(ue,_M)}),It&&Oo(ue,St),ct}function Xt(ue,ee,pe,Te){if(typeof pe=="object"&&pe!==null&&pe.type===E&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:e:{for(var ct=pe.key;ee!==null;){if(ee.key===ct){if(ct=pe.type,ct===E){if(ee.tag===7){l(ue,ee.sibling),Te=m(ee,pe.props.children),Te.return=ue,ue=Te;break e}}else if(ee.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===G&&ys(ct)===ee.type){l(ue,ee.sibling),Te=m(ee,pe.props),Qu(Te,pe),Te.return=ue,ue=Te;break e}l(ue,ee);break}else o(ue,ee);ee=ee.sibling}pe.type===E?(Te=fs(pe.props.children,ue.mode,Te,pe.key),Te.return=ue,ue=Te):(Te=Pd(pe.type,pe.key,pe.props,null,ue.mode,Te),Qu(Te,pe),Te.return=ue,ue=Te)}return M(ue);case _:e:{for(ct=pe.key;ee!==null;){if(ee.key===ct)if(ee.tag===4&&ee.stateNode.containerInfo===pe.containerInfo&&ee.stateNode.implementation===pe.implementation){l(ue,ee.sibling),Te=m(ee,pe.children||[]),Te.return=ue,ue=Te;break e}else{l(ue,ee);break}else o(ue,ee);ee=ee.sibling}Te=bp(pe,ue.mode,Te),Te.return=ue,ue=Te}return M(ue);case G:return pe=ys(pe),Xt(ue,ee,pe,Te)}if(xe(pe))return et(ue,ee,pe,Te);if(de(pe)){if(ct=de(pe),typeof ct!="function")throw Error(i(150));return pe=ct.call(pe),dt(ue,ee,pe,Te)}if(typeof pe.then=="function")return Xt(ue,ee,Fd(pe),Te);if(pe.$$typeof===I)return Xt(ue,ee,Nd(ue,pe),Te);kd(ue,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ee!==null&&ee.tag===6?(l(ue,ee.sibling),Te=m(ee,pe),Te.return=ue,ue=Te):(l(ue,ee),Te=vp(pe,ue.mode,Te),Te.return=ue,ue=Te),M(ue)):l(ue,ee)}return function(ue,ee,pe,Te){try{Wu=0;var ct=Xt(ue,ee,pe,Te);return wl=null,ct}catch(rt){if(rt===xl||rt===jd)throw rt;var jt=Wr(29,rt,null,ue.mode);return jt.lanes=Te,jt.return=ue,jt}}}var bs=w0(!0),S0=w0(!1),va=!1;function Dp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ap(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ba(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function xa(n,o,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=zn(n),ds(n,null,l),o}return pt(n,c,o,l),zn(n)}function Zu(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=n.pendingLanes,l|=c,o.lanes=l,$(n,l)}}function Np(n,o){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?m=b=M:b=b.next=M,l=l.next}while(l!==null);b===null?m=b=o:b=b.next=o}else m=b=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}var Ip=!1;function Ju(){if(Ip){var n=bl;if(n!==null)throw n}}function ec(n,o,l,c){Ip=!1;var m=n.updateQueue;va=!1;var b=m.firstBaseUpdate,M=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var Y=z,me=Y.next;Y.next=null,M===null?b=me:M.next=me,M=Y;var Me=n.alternate;Me!==null&&(Me=Me.updateQueue,z=Me.lastBaseUpdate,z!==M&&(z===null?Me.firstBaseUpdate=me:z.next=me,Me.lastBaseUpdate=Y))}if(b!==null){var Pe=m.baseState;M=0,Me=me=Y=null,z=b;do{var ve=z.lane&-536870913,we=ve!==z.lane;if(we?(Pt&ve)===ve:(c&ve)===ve){ve!==0&&ve===vl&&(Ip=!0),Me!==null&&(Me=Me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var et=n,dt=z;ve=o;var Xt=l;switch(dt.tag){case 1:if(et=dt.payload,typeof et=="function"){Pe=et.call(Xt,Pe,ve);break e}Pe=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=dt.payload,ve=typeof et=="function"?et.call(Xt,Pe,ve):et,ve==null)break e;Pe=y({},Pe,ve);break e;case 2:va=!0}}ve=z.callback,ve!==null&&(n.flags|=64,we&&(n.flags|=8192),we=m.callbacks,we===null?m.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Me===null?(me=Me=we,Y=Pe):Me=Me.next=we,M|=ve;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;we=z,z=we.next,we.next=null,m.lastBaseUpdate=we,m.shared.pending=null}}while(!0);Me===null&&(Y=Pe),m.baseState=Y,m.firstBaseUpdate=me,m.lastBaseUpdate=Me,b===null&&(m.shared.lanes=0),Ea|=M,n.lanes=M,n.memoizedState=Pe}}function C0(n,o){if(typeof n!="function")throw Error(i(191,n));n.call(o)}function _0(n,o){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)C0(l[n],o)}var Sl=U(null),Ld=U(0);function E0(n,o){n=Fo,Ce(Ld,n),Ce(Sl,o),Fo=n|o.baseLanes}function jp(){Ce(Ld,Fo),Ce(Sl,Sl.current)}function zp(){Fo=Ld.current,ie(Sl),ie(Ld)}var Qr=U(null),vi=null;function wa(n){var o=n.alternate;Ce(Pn,Pn.current&1),Ce(Qr,n),vi===null&&(o===null||Sl.current!==null||o.memoizedState!==null)&&(vi=n)}function Fp(n){Ce(Pn,Pn.current),Ce(Qr,n),vi===null&&(vi=n)}function O0(n){n.tag===22?(Ce(Pn,Pn.current),Ce(Qr,n),vi===null&&(vi=n)):Sa()}function Sa(){Ce(Pn,Pn.current),Ce(Qr,Qr.current)}function Zr(n){ie(Qr),vi===n&&(vi=null),ie(Pn)}var Pn=U(0);function Bd(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Hm(l)||qm(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ro=0,xt=null,Yt=null,kn=null,Ud=!1,Cl=!1,xs=!1,$d=0,tc=0,_l=null,pO=0;function En(){throw Error(i(321))}function kp(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!pr(n[l],o[l]))return!1;return!0}function Lp(n,o,l,c,m,b){return Ro=b,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=n===null||n.memoizedState===null?ub:em,xs=!1,b=l(c,m),xs=!1,Cl&&(b=T0(o,l,c,m)),M0(n),b}function M0(n){B.H=ic;var o=Yt!==null&&Yt.next!==null;if(Ro=0,kn=Yt=xt=null,Ud=!1,tc=0,_l=null,o)throw Error(i(300));n===null||Ln||(n=n.dependencies,n!==null&&Ad(n)&&(Ln=!0))}function T0(n,o,l,c){xt=n;var m=0;do{if(Cl&&(_l=null),tc=0,Cl=!1,25<=m)throw Error(i(301));if(m+=1,kn=Yt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=cb,b=o(l,c)}while(Cl);return b}function mO(){var n=B.H,o=n.useState()[0];return o=typeof o.then=="function"?nc(o):o,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(xt.flags|=1024),o}function Bp(){var n=$d!==0;return $d=0,n}function Up(n,o,l){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~l}function $p(n){if(Ud){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Ud=!1}Ro=0,kn=Yt=xt=null,Cl=!1,tc=$d=0,_l=null}function Er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?xt.memoizedState=kn=n:kn=kn.next=n,kn}function Dn(){if(Yt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var o=kn===null?xt.memoizedState:kn.next;if(o!==null)kn=o,Yt=n;else{if(n===null)throw xt.alternate===null?Error(i(467)):Error(i(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},kn===null?xt.memoizedState=kn=n:kn=kn.next=n}return kn}function Hd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(n){var o=tc;return tc+=1,_l===null&&(_l=[]),n=v0(_l,n,o),o=xt,(kn===null?o.memoizedState:kn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?ub:em),n}function qd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return nc(n);if(n.$$typeof===I)return sr(n)}throw Error(i(438,String(n)))}function Hp(n){var o=null,l=xt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Hd(),xt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(n),c=0;c<n;c++)l[c]=le;return o.index++,l}function Po(n,o){return typeof o=="function"?o(n):o}function Gd(n){var o=Dn();return qp(o,Yt,n)}function qp(n,o,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=n.baseQueue,b=c.pending;if(b!==null){if(m!==null){var M=m.next;m.next=b.next,b.next=M}o.baseQueue=m=b,c.pending=null}if(b=n.baseState,m===null)n.memoizedState=b;else{o=m.next;var z=M=null,Y=null,me=o,Me=!1;do{var Pe=me.lane&-536870913;if(Pe!==me.lane?(Pt&Pe)===Pe:(Ro&Pe)===Pe){var ve=me.revertLane;if(ve===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),Pe===vl&&(Me=!0);else if((Ro&ve)===ve){me=me.next,ve===vl&&(Me=!0);continue}else Pe={lane:0,revertLane:me.revertLane,gesture:null,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},Y===null?(z=Y=Pe,M=b):Y=Y.next=Pe,xt.lanes|=ve,Ea|=ve;Pe=me.action,xs&&l(b,Pe),b=me.hasEagerState?me.eagerState:l(b,Pe)}else ve={lane:Pe,revertLane:me.revertLane,gesture:me.gesture,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},Y===null?(z=Y=ve,M=b):Y=Y.next=ve,xt.lanes|=Pe,Ea|=Pe;me=me.next}while(me!==null&&me!==o);if(Y===null?M=b:Y.next=z,!pr(b,n.memoizedState)&&(Ln=!0,Me&&(l=bl,l!==null)))throw l;n.memoizedState=b,n.baseState=M,n.baseQueue=Y,c.lastRenderedState=b}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Gp(n){var o=Dn(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,m=l.pending,b=o.memoizedState;if(m!==null){l.pending=null;var M=m=m.next;do b=n(b,M.action),M=M.next;while(M!==m);pr(b,o.memoizedState)||(Ln=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,c]}function R0(n,o,l){var c=xt,m=Dn(),b=It;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=o();var M=!pr((Yt||m).memoizedState,l);if(M&&(m.memoizedState=l,Ln=!0),m=m.queue,Kp(A0.bind(null,c,m,n),[n]),m.getSnapshot!==o||M||kn!==null&&kn.memoizedState.tag&1){if(c.flags|=2048,El(9,{destroy:void 0},D0.bind(null,c,m,l,o),null),tn===null)throw Error(i(349));b||(Ro&127)!==0||P0(c,o,l)}return l}function P0(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=xt.updateQueue,o===null?(o=Hd(),xt.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function D0(n,o,l,c){o.value=l,o.getSnapshot=c,N0(o)&&I0(n)}function A0(n,o,l){return l(function(){N0(o)&&I0(n)})}function N0(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!pr(n,l)}catch{return!0}}function I0(n){var o=vn(n,2);o!==null&&Lr(o,n,2)}function Vp(n){var o=Er();if(typeof n=="function"){var l=n;if(n=l(),xs){At(!0);try{l()}finally{At(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:n},o}function j0(n,o,l,c){return n.baseState=l,qp(n,Yt,typeof c=="function"?c:Po)}function gO(n,o,l,c,m){if(Kd(n))throw Error(i(485));if(n=o.action,n!==null){var b={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};B.T!==null?l(!0):b.isTransition=!1,c(b),l=o.pending,l===null?(b.next=o.pending=b,z0(o,b)):(b.next=l.next,o.pending=l.next=b)}}function z0(n,o){var l=o.action,c=o.payload,m=n.state;if(o.isTransition){var b=B.T,M={};B.T=M;try{var z=l(m,c),Y=B.S;Y!==null&&Y(M,z),F0(n,o,z)}catch(me){Yp(n,o,me)}finally{b!==null&&M.types!==null&&(b.types=M.types),B.T=b}}else try{b=l(m,c),F0(n,o,b)}catch(me){Yp(n,o,me)}}function F0(n,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){k0(n,o,c)},function(c){return Yp(n,o,c)}):k0(n,o,l)}function k0(n,o,l){o.status="fulfilled",o.value=l,L0(o),n.state=l,o=n.pending,o!==null&&(l=o.next,l===o?n.pending=null:(l=l.next,o.next=l,z0(n,l)))}function Yp(n,o,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,L0(o),o=o.next;while(o!==c)}n.action=null}function L0(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function B0(n,o){return o}function U0(n,o){if(It){var l=tn.formState;if(l!==null){e:{var c=xt;if(It){if(fn){t:{for(var m=fn,b=yi;m.nodeType!==8;){if(!b){m=null;break t}if(m=bi(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){fn=bi(m.nextSibling),c=m.data==="F!";break e}}ga(c)}c=!1}c&&(o=l[0])}}return l=Er(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:B0,lastRenderedState:o},l.queue=c,l=ab.bind(null,xt,c),c.dispatch=l,c=Vp(!1),b=Jp.bind(null,xt,!1,c.queue),c=Er(),m={state:o,dispatch:null,action:n,pending:null},c.queue=m,l=gO.bind(null,xt,m,b,l),m.dispatch=l,c.memoizedState=n,[o,l,!1]}function $0(n){var o=Dn();return H0(o,Yt,n)}function H0(n,o,l){if(o=qp(n,o,B0)[0],n=Gd(Po)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=nc(o)}catch(M){throw M===xl?jd:M}else c=o;o=Dn();var m=o.queue,b=m.dispatch;return l!==o.memoizedState&&(xt.flags|=2048,El(9,{destroy:void 0},yO.bind(null,m,l),null)),[c,b,n]}function yO(n,o){n.action=o}function q0(n){var o=Dn(),l=Yt;if(l!==null)return H0(o,l,n);Dn(),o=o.memoizedState,l=Dn();var c=l.queue.dispatch;return l.memoizedState=n,[o,c,!1]}function El(n,o,l,c){return n={tag:n,create:l,deps:c,inst:o,next:null},o=xt.updateQueue,o===null&&(o=Hd(),xt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,o.lastEffect=n),n}function G0(){return Dn().memoizedState}function Vd(n,o,l,c){var m=Er();xt.flags|=n,m.memoizedState=El(1|o,{destroy:void 0},l,c===void 0?null:c)}function Yd(n,o,l,c){var m=Dn();c=c===void 0?null:c;var b=m.memoizedState.inst;Yt!==null&&c!==null&&kp(c,Yt.memoizedState.deps)?m.memoizedState=El(o,b,l,c):(xt.flags|=n,m.memoizedState=El(1|o,b,l,c))}function V0(n,o){Vd(8390656,8,n,o)}function Kp(n,o){Yd(2048,8,n,o)}function vO(n){xt.flags|=4;var o=xt.updateQueue;if(o===null)o=Hd(),xt.updateQueue=o,o.events=[n];else{var l=o.events;l===null?o.events=[n]:l.push(n)}}function Y0(n){var o=Dn().memoizedState;return vO({ref:o,nextImpl:n}),function(){if(($t&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function K0(n,o){return Yd(4,2,n,o)}function X0(n,o){return Yd(4,4,n,o)}function W0(n,o){if(typeof o=="function"){n=n();var l=o(n);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function Q0(n,o,l){l=l!=null?l.concat([n]):null,Yd(4,4,W0.bind(null,o,n),l)}function Xp(){}function Z0(n,o){var l=Dn();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&kp(o,c[1])?c[0]:(l.memoizedState=[n,o],n)}function J0(n,o){var l=Dn();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&kp(o,c[1]))return c[0];if(c=n(),xs){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[c,o],c}function Wp(n,o,l){return l===void 0||(Ro&1073741824)!==0&&(Pt&261930)===0?n.memoizedState=o:(n.memoizedState=l,n=ex(),xt.lanes|=n,Ea|=n,l)}function eb(n,o,l,c){return pr(l,o)?l:Sl.current!==null?(n=Wp(n,l,c),pr(n,o)||(Ln=!0),n):(Ro&42)===0||(Ro&1073741824)!==0&&(Pt&261930)===0?(Ln=!0,n.memoizedState=l):(n=ex(),xt.lanes|=n,Ea|=n,o)}function tb(n,o,l,c,m){var b=X.p;X.p=b!==0&&8>b?b:8;var M=B.T,z={};B.T=z,Jp(n,!1,o,l);try{var Y=m(),me=B.S;if(me!==null&&me(z,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Me=hO(Y,c);rc(n,o,Me,ti(n))}else rc(n,o,c,ti(n))}catch(Pe){rc(n,o,{then:function(){},status:"rejected",reason:Pe},ti())}finally{X.p=b,M!==null&&z.types!==null&&(M.types=z.types),B.T=M}}function bO(){}function Qp(n,o,l,c){if(n.tag!==5)throw Error(i(476));var m=nb(n).queue;tb(n,m,o,q,l===null?bO:function(){return rb(n),l(c)})}function nb(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:q},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:l},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function rb(n){var o=nb(n);o.next===null&&(o=n.alternate.memoizedState),rc(n,o.next.queue,{},ti())}function Zp(){return sr(xc)}function ib(){return Dn().memoizedState}function ob(){return Dn().memoizedState}function xO(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var l=ti();n=ba(l);var c=xa(o,n,l);c!==null&&(Lr(c,o,l),Zu(c,o,l)),o={cache:Mp()},n.payload=o;return}o=o.return}}function wO(n,o,l){var c=ti();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Kd(n)?sb(o,l):(l=jn(n,o,l,c),l!==null&&(Lr(l,n,c),lb(l,o,c)))}function ab(n,o,l){var c=ti();rc(n,o,l,c)}function rc(n,o,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Kd(n))sb(o,m);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var M=o.lastRenderedState,z=b(M,l);if(m.hasEagerState=!0,m.eagerState=z,pr(z,M))return pt(n,o,m,0),tn===null&&er(),!1}catch{}if(l=jn(n,o,m,c),l!==null)return Lr(l,n,c),lb(l,o,c),!0}return!1}function Jp(n,o,l,c){if(c={lane:2,revertLane:Dm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Kd(n)){if(o)throw Error(i(479))}else o=jn(n,l,c,2),o!==null&&Lr(o,n,2)}function Kd(n){var o=n.alternate;return n===xt||o!==null&&o===xt}function sb(n,o){Cl=Ud=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function lb(n,o,l){if((l&4194048)!==0){var c=o.lanes;c&=n.pendingLanes,l|=c,o.lanes=l,$(n,l)}}var ic={readContext:sr,use:qd,useCallback:En,useContext:En,useEffect:En,useImperativeHandle:En,useLayoutEffect:En,useInsertionEffect:En,useMemo:En,useReducer:En,useRef:En,useState:En,useDebugValue:En,useDeferredValue:En,useTransition:En,useSyncExternalStore:En,useId:En,useHostTransitionStatus:En,useFormState:En,useActionState:En,useOptimistic:En,useMemoCache:En,useCacheRefresh:En};ic.useEffectEvent=En;var ub={readContext:sr,use:qd,useCallback:function(n,o){return Er().memoizedState=[n,o===void 0?null:o],n},useContext:sr,useEffect:V0,useImperativeHandle:function(n,o,l){l=l!=null?l.concat([n]):null,Vd(4194308,4,W0.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Vd(4194308,4,n,o)},useInsertionEffect:function(n,o){Vd(4,2,n,o)},useMemo:function(n,o){var l=Er();o=o===void 0?null:o;var c=n();if(xs){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[c,o],c},useReducer:function(n,o,l){var c=Er();if(l!==void 0){var m=l(o);if(xs){At(!0);try{l(o)}finally{At(!1)}}}else m=o;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=wO.bind(null,xt,n),[c.memoizedState,n]},useRef:function(n){var o=Er();return n={current:n},o.memoizedState=n},useState:function(n){n=Vp(n);var o=n.queue,l=ab.bind(null,xt,o);return o.dispatch=l,[n.memoizedState,l]},useDebugValue:Xp,useDeferredValue:function(n,o){var l=Er();return Wp(l,n,o)},useTransition:function(){var n=Vp(!1);return n=tb.bind(null,xt,n.queue,!0,!1),Er().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,l){var c=xt,m=Er();if(It){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),tn===null)throw Error(i(349));(Pt&127)!==0||P0(c,o,l)}m.memoizedState=l;var b={value:l,getSnapshot:o};return m.queue=b,V0(A0.bind(null,c,b,n),[n]),c.flags|=2048,El(9,{destroy:void 0},D0.bind(null,c,b,l,o),null),l},useId:function(){var n=Er(),o=tn.identifierPrefix;if(It){var l=Zi,c=Qi;l=(c&~(1<<32-Ge(c)-1)).toString(32)+l,o="_"+o+"R_"+l,l=$d++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=pO++,o="_"+o+"r_"+l.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Zp,useFormState:U0,useActionState:U0,useOptimistic:function(n){var o=Er();o.memoizedState=o.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Jp.bind(null,xt,!0,l),l.dispatch=o,[n,o]},useMemoCache:Hp,useCacheRefresh:function(){return Er().memoizedState=xO.bind(null,xt)},useEffectEvent:function(n){var o=Er(),l={impl:n};return o.memoizedState=l,function(){if(($t&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},em={readContext:sr,use:qd,useCallback:Z0,useContext:sr,useEffect:Kp,useImperativeHandle:Q0,useInsertionEffect:K0,useLayoutEffect:X0,useMemo:J0,useReducer:Gd,useRef:G0,useState:function(){return Gd(Po)},useDebugValue:Xp,useDeferredValue:function(n,o){var l=Dn();return eb(l,Yt.memoizedState,n,o)},useTransition:function(){var n=Gd(Po)[0],o=Dn().memoizedState;return[typeof n=="boolean"?n:nc(n),o]},useSyncExternalStore:R0,useId:ib,useHostTransitionStatus:Zp,useFormState:$0,useActionState:$0,useOptimistic:function(n,o){var l=Dn();return j0(l,Yt,n,o)},useMemoCache:Hp,useCacheRefresh:ob};em.useEffectEvent=Y0;var cb={readContext:sr,use:qd,useCallback:Z0,useContext:sr,useEffect:Kp,useImperativeHandle:Q0,useInsertionEffect:K0,useLayoutEffect:X0,useMemo:J0,useReducer:Gp,useRef:G0,useState:function(){return Gp(Po)},useDebugValue:Xp,useDeferredValue:function(n,o){var l=Dn();return Yt===null?Wp(l,n,o):eb(l,Yt.memoizedState,n,o)},useTransition:function(){var n=Gp(Po)[0],o=Dn().memoizedState;return[typeof n=="boolean"?n:nc(n),o]},useSyncExternalStore:R0,useId:ib,useHostTransitionStatus:Zp,useFormState:q0,useActionState:q0,useOptimistic:function(n,o){var l=Dn();return Yt!==null?j0(l,Yt,n,o):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Hp,useCacheRefresh:ob};cb.useEffectEvent=Y0;function tm(n,o,l,c){o=n.memoizedState,l=l(c,o),l=l==null?o:y({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var nm={enqueueSetState:function(n,o,l){n=n._reactInternals;var c=ti(),m=ba(c);m.payload=o,l!=null&&(m.callback=l),o=xa(n,m,c),o!==null&&(Lr(o,n,c),Zu(o,n,c))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var c=ti(),m=ba(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=xa(n,m,c),o!==null&&(Lr(o,n,c),Zu(o,n,c))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=ti(),c=ba(l);c.tag=2,o!=null&&(c.callback=o),o=xa(n,c,l),o!==null&&(Lr(o,n,l),Zu(o,n,l))}};function db(n,o,l,c,m,b,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,b,M):o.prototype&&o.prototype.isPureReactComponent?!p(l,c)||!p(m,b):!0}function fb(n,o,l,c){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==n&&nm.enqueueReplaceState(o,o.state,null)}function ws(n,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(n=n.defaultProps){l===o&&(l=y({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}function hb(n){We(n)}function pb(n){console.error(n)}function mb(n){We(n)}function Xd(n,o){try{var l=n.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function gb(n,o,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function rm(n,o,l){return l=ba(l),l.tag=3,l.payload={element:null},l.callback=function(){Xd(n,o)},l}function yb(n){return n=ba(n),n.tag=3,n}function vb(n,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var b=c.value;n.payload=function(){return m(b)},n.callback=function(){gb(o,l,c)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){gb(o,l,c),typeof m!="function"&&(Oa===null?Oa=new Set([this]):Oa.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})})}function SO(n,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&yl(o,l,m,!0),l=Qr.current,l!==null){switch(l.tag){case 31:case 13:return vi===null?lf():l.alternate===null&&On===0&&(On=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===zd?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),Tm(n,c,m)),!1;case 22:return l.flags|=65536,c===zd?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),Tm(n,c,m)),!1}throw Error(i(435,l.tag))}return Tm(n,c,m),lf(),!1}if(It)return o=Qr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==Sp&&(n=Error(i(422),{cause:c}),Yu(pi(n,l)))):(c!==Sp&&(o=Error(i(423),{cause:c}),Yu(pi(o,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=pi(c,l),m=rm(n.stateNode,c,m),Np(n,m),On!==4&&(On=2)),!1;var b=Error(i(520),{cause:c});if(b=pi(b,l),fc===null?fc=[b]:fc.push(b),On!==4&&(On=2),o===null)return!0;c=pi(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=rm(l.stateNode,c,n),Np(l,n),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Oa===null||!Oa.has(b))))return l.flags|=65536,m&=-m,l.lanes|=m,m=yb(m),vb(m,n,l,c),Np(l,m),!1}l=l.return}while(l!==null);return!1}var im=Error(i(461)),Ln=!1;function lr(n,o,l,c){o.child=n===null?S0(o,null,l,c):bs(o,n.child,l,c)}function bb(n,o,l,c,m){l=l.render;var b=o.ref;if("ref"in c){var M={};for(var z in c)z!=="ref"&&(M[z]=c[z])}else M=c;return ms(o),c=Lp(n,o,l,M,b,m),z=Bp(),n!==null&&!Ln?(Up(n,o,m),Do(n,o,m)):(It&&z&&xp(o),o.flags|=1,lr(n,o,c,m),o.child)}function xb(n,o,l,c,m){if(n===null){var b=l.type;return typeof b=="function"&&!yp(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,wb(n,o,b,c,m)):(n=Pd(l.type,null,c,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(b=n.child,!fm(n,m)){var M=b.memoizedProps;if(l=l.compare,l=l!==null?l:p,l(M,c)&&n.ref===o.ref)return Do(n,o,m)}return o.flags|=1,n=Eo(b,c),n.ref=o.ref,n.return=o,o.child=n}function wb(n,o,l,c,m){if(n!==null){var b=n.memoizedProps;if(p(b,c)&&n.ref===o.ref)if(Ln=!1,o.pendingProps=c=b,fm(n,m))(n.flags&131072)!==0&&(Ln=!0);else return o.lanes=n.lanes,Do(n,o,m)}return om(n,o,l,c,m)}function Sb(n,o,l,c){var m=c.children,b=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,n!==null){for(c=o.child=n.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~b}else c=0,o.child=null;return Cb(n,o,b,l,c)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Id(o,b!==null?b.cachePool:null),b!==null?E0(o,b):jp(),O0(o);else return c=o.lanes=536870912,Cb(n,o,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(Id(o,b.cachePool),E0(o,b),Sa(),o.memoizedState=null):(n!==null&&Id(o,null),jp(),Sa());return lr(n,o,m,l),o.child}function oc(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Cb(n,o,l,c,m){var b=Rp();return b=b===null?null:{parent:Fn._currentValue,pool:b},o.memoizedState={baseLanes:l,cachePool:b},n!==null&&Id(o,null),jp(),O0(o),n!==null&&yl(n,o,c,!0),o.childLanes=m,null}function Wd(n,o){return o=Zd({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function _b(n,o,l){return bs(o,n.child,null,l),n=Wd(o,o.pendingProps),n.flags|=2,Zr(o),o.memoizedState=null,n}function CO(n,o,l){var c=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(It){if(c.mode==="hidden")return n=Wd(o,c),o.lanes=536870912,oc(null,n);if(Fp(o),(n=fn)?(n=zx(n,yi),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:pa!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=s0(n),l.return=o,o.child=l,ar=o,fn=null)):n=null,n===null)throw ga(o);return o.lanes=536870912,null}return Wd(o,c)}var b=n.memoizedState;if(b!==null){var M=b.dehydrated;if(Fp(o),m)if(o.flags&256)o.flags&=-257,o=_b(n,o,l);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(i(558));else if(Ln||yl(n,o,l,!1),m=(l&n.childLanes)!==0,Ln||m){if(c=tn,c!==null&&(M=te(c,l),M!==0&&M!==b.retryLane))throw b.retryLane=M,vn(n,M),Lr(c,n,M),im;lf(),o=_b(n,o,l)}else n=b.treeContext,fn=bi(M.nextSibling),ar=o,It=!0,ma=null,yi=!1,n!==null&&c0(o,n),o=Wd(o,c),o.flags|=4096;return o}return n=Eo(n.child,{mode:c.mode,children:c.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Qd(n,o){var l=o.ref;if(l===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(o.flags|=4194816)}}function om(n,o,l,c,m){return ms(o),l=Lp(n,o,l,c,void 0,m),c=Bp(),n!==null&&!Ln?(Up(n,o,m),Do(n,o,m)):(It&&c&&xp(o),o.flags|=1,lr(n,o,l,m),o.child)}function Eb(n,o,l,c,m,b){return ms(o),o.updateQueue=null,l=T0(o,c,l,m),M0(n),c=Bp(),n!==null&&!Ln?(Up(n,o,b),Do(n,o,b)):(It&&c&&xp(o),o.flags|=1,lr(n,o,l,b),o.child)}function Ob(n,o,l,c,m){if(ms(o),o.stateNode===null){var b=Ir,M=l.contextType;typeof M=="object"&&M!==null&&(b=sr(M)),b=new l(c,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=nm,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=c,b.state=o.memoizedState,b.refs={},Dp(o),M=l.contextType,b.context=typeof M=="object"&&M!==null?sr(M):Ir,b.state=o.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(tm(o,l,M,c),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&nm.enqueueReplaceState(b,b.state,null),ec(o,c,b,m),Ju(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(n===null){b=o.stateNode;var z=o.memoizedProps,Y=ws(l,z);b.props=Y;var me=b.context,Me=l.contextType;M=Ir,typeof Me=="object"&&Me!==null&&(M=sr(Me));var Pe=l.getDerivedStateFromProps;Me=typeof Pe=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,Me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||me!==M)&&fb(o,b,c,M),va=!1;var ve=o.memoizedState;b.state=ve,ec(o,c,b,m),Ju(),me=o.memoizedState,z||ve!==me||va?(typeof Pe=="function"&&(tm(o,l,Pe,c),me=o.memoizedState),(Y=va||db(o,l,Y,c,ve,me,M))?(Me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=me),b.props=c,b.state=me,b.context=M,c=Y):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{b=o.stateNode,Ap(n,o),M=o.memoizedProps,Me=ws(l,M),b.props=Me,Pe=o.pendingProps,ve=b.context,me=l.contextType,Y=Ir,typeof me=="object"&&me!==null&&(Y=sr(me)),z=l.getDerivedStateFromProps,(me=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Pe||ve!==Y)&&fb(o,b,c,Y),va=!1,ve=o.memoizedState,b.state=ve,ec(o,c,b,m),Ju();var we=o.memoizedState;M!==Pe||ve!==we||va||n!==null&&n.dependencies!==null&&Ad(n.dependencies)?(typeof z=="function"&&(tm(o,l,z,c),we=o.memoizedState),(Me=va||db(o,l,Me,c,ve,we,Y)||n!==null&&n.dependencies!==null&&Ad(n.dependencies))?(me||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,we,Y),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,we,Y)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=we),b.props=c,b.state=we,b.context=Y,c=Me):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&ve===n.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ve===n.memoizedState||(o.flags|=1024),c=!1)}return b=c,Qd(n,o),c=(o.flags&128)!==0,b||c?(b=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,n!==null&&c?(o.child=bs(o,n.child,null,m),o.child=bs(o,null,l,m)):lr(n,o,l,m),o.memoizedState=b.state,n=o.child):n=Do(n,o,m),n}function Mb(n,o,l,c){return hs(),o.flags|=256,lr(n,o,l,c),o.child}var am={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(n){return{baseLanes:n,cachePool:g0()}}function lm(n,o,l){return n=n!==null?n.childLanes&~l:0,o&&(n|=ei),n}function Tb(n,o,l){var c=o.pendingProps,m=!1,b=(o.flags&128)!==0,M;if((M=b)||(M=n!==null&&n.memoizedState===null?!1:(Pn.current&2)!==0),M&&(m=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,n===null){if(It){if(m?wa(o):Sa(),(n=fn)?(n=zx(n,yi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:pa!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=s0(n),l.return=o,o.child=l,ar=o,fn=null)):n=null,n===null)throw ga(o);return qm(n)?o.lanes=32:o.lanes=536870912,null}var z=c.children;return c=c.fallback,m?(Sa(),m=o.mode,z=Zd({mode:"hidden",children:z},m),c=fs(c,m,l,null),z.return=o,c.return=o,z.sibling=c,o.child=z,c=o.child,c.memoizedState=sm(l),c.childLanes=lm(n,M,l),o.memoizedState=am,oc(null,c)):(wa(o),um(o,z))}var Y=n.memoizedState;if(Y!==null&&(z=Y.dehydrated,z!==null)){if(b)o.flags&256?(wa(o),o.flags&=-257,o=cm(n,o,l)):o.memoizedState!==null?(Sa(),o.child=n.child,o.flags|=128,o=null):(Sa(),z=c.fallback,m=o.mode,c=Zd({mode:"visible",children:c.children},m),z=fs(z,m,l,null),z.flags|=2,c.return=o,z.return=o,c.sibling=z,o.child=c,bs(o,n.child,null,l),c=o.child,c.memoizedState=sm(l),c.childLanes=lm(n,M,l),o.memoizedState=am,o=oc(null,c));else if(wa(o),qm(z)){if(M=z.nextSibling&&z.nextSibling.dataset,M)var me=M.dgst;M=me,c=Error(i(419)),c.stack="",c.digest=M,Yu({value:c,source:null,stack:null}),o=cm(n,o,l)}else if(Ln||yl(n,o,l,!1),M=(l&n.childLanes)!==0,Ln||M){if(M=tn,M!==null&&(c=te(M,l),c!==0&&c!==Y.retryLane))throw Y.retryLane=c,vn(n,c),Lr(M,n,c),im;Hm(z)||lf(),o=cm(n,o,l)}else Hm(z)?(o.flags|=192,o.child=n.child,o=null):(n=Y.treeContext,fn=bi(z.nextSibling),ar=o,It=!0,ma=null,yi=!1,n!==null&&c0(o,n),o=um(o,c.children),o.flags|=4096);return o}return m?(Sa(),z=c.fallback,m=o.mode,Y=n.child,me=Y.sibling,c=Eo(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,me!==null?z=Eo(me,z):(z=fs(z,m,l,null),z.flags|=2),z.return=o,c.return=o,c.sibling=z,o.child=c,oc(null,c),c=o.child,z=n.child.memoizedState,z===null?z=sm(l):(m=z.cachePool,m!==null?(Y=Fn._currentValue,m=m.parent!==Y?{parent:Y,pool:Y}:m):m=g0(),z={baseLanes:z.baseLanes|l,cachePool:m}),c.memoizedState=z,c.childLanes=lm(n,M,l),o.memoizedState=am,oc(n.child,c)):(wa(o),l=n.child,n=l.sibling,l=Eo(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,n!==null&&(M=o.deletions,M===null?(o.deletions=[n],o.flags|=16):M.push(n)),o.child=l,o.memoizedState=null,l)}function um(n,o){return o=Zd({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Zd(n,o){return n=Wr(22,n,null,o),n.lanes=0,n}function cm(n,o,l){return bs(o,n.child,null,l),n=um(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Rb(n,o,l){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o),Ep(n.return,o,l)}function dm(n,o,l,c,m,b){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:b}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=c,M.tail=l,M.tailMode=m,M.treeForkCount=b)}function Pb(n,o,l){var c=o.pendingProps,m=c.revealOrder,b=c.tail;c=c.children;var M=Pn.current,z=(M&2)!==0;if(z?(M=M&1|2,o.flags|=128):M&=1,Ce(Pn,M),lr(n,o,c,l),c=It?Vu:0,!z&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rb(n,l,o);else if(n.tag===19)Rb(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)n=l.alternate,n!==null&&Bd(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),dm(o,!1,m,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&Bd(n)===null){o.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}dm(o,!0,l,null,b,c);break;case"together":dm(o,!1,null,null,void 0,c);break;default:o.memoizedState=null}return o.child}function Do(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),Ea|=o.lanes,(l&o.childLanes)===0)if(n!==null){if(yl(n,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(i(153));if(o.child!==null){for(n=o.child,l=Eo(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=Eo(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function fm(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Ad(n)))}function _O(n,o,l){switch(o.tag){case 3:wt(o,o.stateNode.containerInfo),ya(o,Fn,n.memoizedState.cache),hs();break;case 27:case 5:Zt(o);break;case 4:wt(o,o.stateNode.containerInfo);break;case 10:ya(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Fp(o),null;break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(wa(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Tb(n,o,l):(wa(o),n=Do(n,o,l),n!==null?n.sibling:null);wa(o);break;case 19:var m=(n.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(yl(n,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return Pb(n,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ce(Pn,Pn.current),c)break;return null;case 22:return o.lanes=0,Sb(n,o,l,o.pendingProps);case 24:ya(o,Fn,n.memoizedState.cache)}return Do(n,o,l)}function Db(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps)Ln=!0;else{if(!fm(n,l)&&(o.flags&128)===0)return Ln=!1,_O(n,o,l);Ln=(n.flags&131072)!==0}else Ln=!1,It&&(o.flags&1048576)!==0&&u0(o,Vu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var c=o.pendingProps;if(n=ys(o.elementType),o.type=n,typeof n=="function")yp(n)?(c=ws(n,c),o.tag=1,o=Ob(null,o,n,c,l)):(o.tag=0,o=om(null,o,n,c,l));else{if(n!=null){var m=n.$$typeof;if(m===F){o.tag=11,o=bb(null,o,n,c,l);break e}else if(m===A){o.tag=14,o=xb(null,o,n,c,l);break e}}throw o=ce(n)||n,Error(i(306,o,""))}}return o;case 0:return om(n,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=ws(c,o.pendingProps),Ob(n,o,c,m,l);case 3:e:{if(wt(o,o.stateNode.containerInfo),n===null)throw Error(i(387));c=o.pendingProps;var b=o.memoizedState;m=b.element,Ap(n,o),ec(o,c,null,l);var M=o.memoizedState;if(c=M.cache,ya(o,Fn,c),c!==b.cache&&Op(o,[Fn],l,!0),Ju(),c=M.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Mb(n,o,c,l);break e}else if(c!==m){m=pi(Error(i(424)),o),Yu(m),o=Mb(n,o,c,l);break e}else for(n=o.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,fn=bi(n.firstChild),ar=o,It=!0,ma=null,yi=!0,l=S0(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(hs(),c===m){o=Do(n,o,l);break e}lr(n,o,c,l)}o=o.child}return o;case 26:return Qd(n,o),n===null?(l=$x(o.type,null,o.pendingProps,null))?o.memoizedState=l:It||(l=o.type,n=o.pendingProps,c=mf(qe.current).createElement(l),c[He]=o,c[Ke]=n,ur(c,l,n),en(c),o.stateNode=c):o.memoizedState=$x(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Zt(o),n===null&&It&&(c=o.stateNode=Lx(o.type,o.pendingProps,qe.current),ar=o,yi=!0,m=fn,Pa(o.type)?(Gm=m,fn=bi(c.firstChild)):fn=m),lr(n,o,o.pendingProps.children,l),Qd(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&It&&((m=c=fn)&&(c=eM(c,o.type,o.pendingProps,yi),c!==null?(o.stateNode=c,ar=o,fn=bi(c.firstChild),yi=!1,m=!0):m=!1),m||ga(o)),Zt(o),m=o.type,b=o.pendingProps,M=n!==null?n.memoizedProps:null,c=b.children,Bm(m,b)?c=null:M!==null&&Bm(m,M)&&(o.flags|=32),o.memoizedState!==null&&(m=Lp(n,o,mO,null,null,l),xc._currentValue=m),Qd(n,o),lr(n,o,c,l),o.child;case 6:return n===null&&It&&((n=l=fn)&&(l=tM(l,o.pendingProps,yi),l!==null?(o.stateNode=l,ar=o,fn=null,n=!0):n=!1),n||ga(o)),null;case 13:return Tb(n,o,l);case 4:return wt(o,o.stateNode.containerInfo),c=o.pendingProps,n===null?o.child=bs(o,null,c,l):lr(n,o,c,l),o.child;case 11:return bb(n,o,o.type,o.pendingProps,l);case 7:return lr(n,o,o.pendingProps,l),o.child;case 8:return lr(n,o,o.pendingProps.children,l),o.child;case 12:return lr(n,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,ya(o,o.type,c.value),lr(n,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,ms(o),m=sr(m),c=c(m),o.flags|=1,lr(n,o,c,l),o.child;case 14:return xb(n,o,o.type,o.pendingProps,l);case 15:return wb(n,o,o.type,o.pendingProps,l);case 19:return Pb(n,o,l);case 31:return CO(n,o,l);case 22:return Sb(n,o,l,o.pendingProps);case 24:return ms(o),c=sr(Fn),n===null?(m=Rp(),m===null&&(m=tn,b=Mp(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=l),m=b),o.memoizedState={parent:c,cache:m},Dp(o),ya(o,Fn,m)):((n.lanes&l)!==0&&(Ap(n,o),ec(o,null,null,l),Ju()),m=n.memoizedState,b=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ya(o,Fn,c)):(c=b.cache,ya(o,Fn,c),c!==m.cache&&Op(o,[Fn],l,!0))),lr(n,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ao(n){n.flags|=4}function hm(n,o,l,c,m){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(ix())n.flags|=8192;else throw vs=zd,Pp}else n.flags&=-16777217}function Ab(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Yx(o))if(ix())n.flags|=8192;else throw vs=zd,Pp}function Jd(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?po():536870912,n.lanes|=o,Rl|=o)}function ac(n,o){if(!It)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function hn(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(o)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=l,o}function EO(n,o,l){var c=o.pendingProps;switch(wp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(o),null;case 1:return hn(o),null;case 3:return l=o.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),To(Fn),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(gl(o)?Ao(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Cp())),hn(o),null;case 26:var m=o.type,b=o.memoizedState;return n===null?(Ao(o),b!==null?(hn(o),Ab(o,b)):(hn(o),hm(o,m,null,c,l))):b?b!==n.memoizedState?(Ao(o),hn(o),Ab(o,b)):(hn(o),o.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ao(o),hn(o),hm(o,m,n,c,l)),null;case 27:if(ln(o),l=qe.current,m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Ao(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return hn(o),null}n=Ne.current,gl(o)?d0(o):(n=Lx(m,c,l),o.stateNode=n,Ao(o))}return hn(o),null;case 5:if(ln(o),m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Ao(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return hn(o),null}if(b=Ne.current,gl(o))d0(o);else{var M=mf(qe.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?M.createElement("select",{is:c.is}):M.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?M.createElement(m,{is:c.is}):M.createElement(m)}}b[He]=o,b[Ke]=c;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=b;e:switch(ur(b,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ao(o)}}return hn(o),hm(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,l),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==c&&Ao(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(n=qe.current,gl(o)){if(n=o.stateNode,l=o.memoizedProps,c=null,m=ar,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[He]=o,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Tx(n.nodeValue,l)),n||ga(o,!0)}else n=mf(n).createTextNode(c),n[He]=o,o.stateNode=n}return hn(o),null;case 31:if(l=o.memoizedState,n===null||n.memoizedState!==null){if(c=gl(o),l!==null){if(n===null){if(!c)throw Error(i(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[He]=o}else hs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),n=!1}else l=Cp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(i(558))}return hn(o),null;case 13:if(c=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=gl(o),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=o}else hs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),m=!1}else m=Cp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=l,o):(l=c!==null,n=n!==null&&n.memoizedState!==null,l&&(c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048)),l!==n&&l&&(o.child.flags|=8192),Jd(o,o.updateQueue),hn(o),null);case 4:return De(),n===null&&jm(o.stateNode.containerInfo),hn(o),null;case 10:return To(o.type),hn(o),null;case 19:if(ie(Pn),c=o.memoizedState,c===null)return hn(o),null;if(m=(o.flags&128)!==0,b=c.rendering,b===null)if(m)ac(c,!1);else{if(On!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(b=Bd(n),b!==null){for(o.flags|=128,ac(c,!1),n=b.updateQueue,o.updateQueue=n,Jd(o,n),o.subtreeFlags=0,n=l,l=o.child;l!==null;)a0(l,n),l=l.sibling;return Ce(Pn,Pn.current&1|2),It&&Oo(o,c.treeForkCount),o.child}n=n.sibling}c.tail!==null&&Lt()>of&&(o.flags|=128,m=!0,ac(c,!1),o.lanes=4194304)}else{if(!m)if(n=Bd(b),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,Jd(o,n),ac(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!It)return hn(o),null}else 2*Lt()-c.renderingStartTime>of&&l!==536870912&&(o.flags|=128,m=!0,ac(c,!1),o.lanes=4194304);c.isBackwards?(b.sibling=o.child,o.child=b):(n=c.last,n!==null?n.sibling=b:o.child=b,c.last=b)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Lt(),n.sibling=null,l=Pn.current,Ce(Pn,m?l&1|2:l&1),It&&Oo(o,c.treeForkCount),n):(hn(o),null);case 22:case 23:return Zr(o),zp(),c=o.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(hn(o),o.subtreeFlags&6&&(o.flags|=8192)):hn(o),l=o.updateQueue,l!==null&&Jd(o,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),n!==null&&ie(gs),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),To(Fn),hn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function OO(n,o){switch(wp(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return To(Fn),De(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return ln(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(i(340));hs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Zr(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(i(340));hs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return ie(Pn),null;case 4:return De(),null;case 10:return To(o.type),null;case 22:case 23:return Zr(o),zp(),n!==null&&ie(gs),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return To(Fn),null;case 25:return null;default:return null}}function Nb(n,o){switch(wp(o),o.tag){case 3:To(Fn),De();break;case 26:case 27:case 5:ln(o);break;case 4:De();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:ie(Pn);break;case 10:To(o.type);break;case 22:case 23:Zr(o),zp(),n!==null&&ie(gs);break;case 24:To(Fn)}}function sc(n,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&n)===n){c=void 0;var b=l.create,M=l.inst;c=b(),M.destroy=c}l=l.next}while(l!==m)}}catch(z){Vt(o,o.return,z)}}function Ca(n,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&n)===n){var M=c.inst,z=M.destroy;if(z!==void 0){M.destroy=void 0,m=o;var Y=l,me=z;try{me()}catch(Me){Vt(m,Y,Me)}}}c=c.next}while(c!==b)}}catch(Me){Vt(o,o.return,Me)}}function Ib(n){var o=n.updateQueue;if(o!==null){var l=n.stateNode;try{_0(o,l)}catch(c){Vt(n,n.return,c)}}}function jb(n,o,l){l.props=ws(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(n,o,c)}}function lc(n,o){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(m){Vt(n,o,m)}}function Ji(n,o){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Vt(n,o,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Vt(n,o,m)}else l.current=null}function zb(n){var o=n.type,l=n.memoizedProps,c=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Vt(n,n.return,m)}}function pm(n,o,l){try{var c=n.stateNode;KO(c,n.type,l,o),c[Ke]=o}catch(m){Vt(n,n.return,m)}}function Fb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Pa(n.type)||n.tag===4}function mm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Fb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Pa(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gm(n,o,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(n),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Nr));else if(c!==4&&(c===27&&Pa(n.type)&&(l=n.stateNode,o=null),n=n.child,n!==null))for(gm(n,o,l),n=n.sibling;n!==null;)gm(n,o,l),n=n.sibling}function ef(n,o,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(c!==4&&(c===27&&Pa(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(ef(n,o,l),n=n.sibling;n!==null;)ef(n,o,l),n=n.sibling}function kb(n){var o=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);ur(o,c,l),o[He]=n,o[Ke]=l}catch(b){Vt(n,n.return,b)}}var No=!1,Bn=!1,ym=!1,Lb=typeof WeakSet=="function"?WeakSet:Set,tr=null;function MO(n,o){if(n=n.containerInfo,km=Sf,n=P(n),j(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var M=0,z=-1,Y=-1,me=0,Me=0,Pe=n,ve=null;t:for(;;){for(var we;Pe!==l||m!==0&&Pe.nodeType!==3||(z=M+m),Pe!==b||c!==0&&Pe.nodeType!==3||(Y=M+c),Pe.nodeType===3&&(M+=Pe.nodeValue.length),(we=Pe.firstChild)!==null;)ve=Pe,Pe=we;for(;;){if(Pe===n)break t;if(ve===l&&++me===m&&(z=M),ve===b&&++Me===c&&(Y=M),(we=Pe.nextSibling)!==null)break;Pe=ve,ve=Pe.parentNode}Pe=we}l=z===-1||Y===-1?null:{start:z,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lm={focusedElem:n,selectionRange:l},Sf=!1,tr=o;tr!==null;)if(o=tr,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,tr=n;else for(;tr!==null;){switch(o=tr,b=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)m=n[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=o,m=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var et=ws(l.type,m);n=c.getSnapshotBeforeUpdate(et,b),c.__reactInternalSnapshotBeforeUpdate=n}catch(dt){Vt(l,l.return,dt)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,l=n.nodeType,l===9)$m(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":$m(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=o.sibling,n!==null){n.return=o.return,tr=n;break}tr=o.return}}function Bb(n,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:jo(n,l),c&4&&sc(5,l);break;case 1:if(jo(n,l),c&4)if(n=l.stateNode,o===null)try{n.componentDidMount()}catch(M){Vt(l,l.return,M)}else{var m=ws(l.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(m,o,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Vt(l,l.return,M)}}c&64&&Ib(l),c&512&&lc(l,l.return);break;case 3:if(jo(n,l),c&64&&(n=l.updateQueue,n!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{_0(n,o)}catch(M){Vt(l,l.return,M)}}break;case 27:o===null&&c&4&&kb(l);case 26:case 5:jo(n,l),o===null&&c&4&&zb(l),c&512&&lc(l,l.return);break;case 12:jo(n,l);break;case 31:jo(n,l),c&4&&Hb(n,l);break;case 13:jo(n,l),c&4&&qb(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=zO.bind(null,l),nM(n,l))));break;case 22:if(c=l.memoizedState!==null||No,!c){o=o!==null&&o.memoizedState!==null||Bn,m=No;var b=Bn;No=c,(Bn=o)&&!b?zo(n,l,(l.subtreeFlags&8772)!==0):jo(n,l),No=m,Bn=b}break;case 30:break;default:jo(n,l)}}function Ub(n){var o=n.alternate;o!==null&&(n.alternate=null,Ub(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&un(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bn=null,jr=!1;function Io(n,o,l){for(l=l.child;l!==null;)$b(n,o,l),l=l.sibling}function $b(n,o,l){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Pr,l)}catch{}switch(l.tag){case 26:Bn||Ji(l,o),Io(n,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Bn||Ji(l,o);var c=bn,m=jr;Pa(l.type)&&(bn=l.stateNode,jr=!1),Io(n,o,l),yc(l.stateNode),bn=c,jr=m;break;case 5:Bn||Ji(l,o);case 6:if(c=bn,m=jr,bn=null,Io(n,o,l),bn=c,jr=m,bn!==null)if(jr)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(l.stateNode)}catch(b){Vt(l,o,b)}else try{bn.removeChild(l.stateNode)}catch(b){Vt(l,o,b)}break;case 18:bn!==null&&(jr?(n=bn,Ix(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Fl(n)):Ix(bn,l.stateNode));break;case 4:c=bn,m=jr,bn=l.stateNode.containerInfo,jr=!0,Io(n,o,l),bn=c,jr=m;break;case 0:case 11:case 14:case 15:Ca(2,l,o),Bn||Ca(4,l,o),Io(n,o,l);break;case 1:Bn||(Ji(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&jb(l,o,c)),Io(n,o,l);break;case 21:Io(n,o,l);break;case 22:Bn=(c=Bn)||l.memoizedState!==null,Io(n,o,l),Bn=c;break;default:Io(n,o,l)}}function Hb(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Fl(n)}catch(l){Vt(o,o.return,l)}}}function qb(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(l){Vt(o,o.return,l)}}function TO(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Lb),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Lb),o;default:throw Error(i(435,n.tag))}}function tf(n,o){var l=TO(n);o.forEach(function(c){if(!l.has(c)){l.add(c);var m=FO.bind(null,n,c);c.then(m,m)}})}function zr(n,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],b=n,M=o,z=M;e:for(;z!==null;){switch(z.tag){case 27:if(Pa(z.type)){bn=z.stateNode,jr=!1;break e}break;case 5:bn=z.stateNode,jr=!1;break e;case 3:case 4:bn=z.stateNode.containerInfo,jr=!0;break e}z=z.return}if(bn===null)throw Error(i(160));$b(b,M,m),bn=null,jr=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Gb(o,n),o=o.sibling}var ji=null;function Gb(n,o){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zr(o,n),Fr(n),c&4&&(Ca(3,n,n.return),sc(3,n),Ca(5,n,n.return));break;case 1:zr(o,n),Fr(n),c&512&&(Bn||l===null||Ji(l,l.return)),c&64&&No&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ji;if(zr(o,n),Fr(n),c&512&&(Bn||l===null||Ji(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){e:{c=n.type,l=n.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Bt]||b[He]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(c),m.head.insertBefore(b,m.querySelector("head > title"))),ur(b,c,l),b[He]=n,en(b),c=b;break e;case"link":var M=Gx("link","href",m).get(c+(l.href||""));if(M){for(var z=0;z<M.length;z++)if(b=M[z],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(z,1);break t}}b=m.createElement(c),ur(b,c,l),m.head.appendChild(b);break;case"meta":if(M=Gx("meta","content",m).get(c+(l.content||""))){for(z=0;z<M.length;z++)if(b=M[z],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(z,1);break t}}b=m.createElement(c),ur(b,c,l),m.head.appendChild(b);break;default:throw Error(i(468,c))}b[He]=n,en(b),c=b}n.stateNode=c}else Vx(m,n.type,n.stateNode);else n.stateNode=qx(m,c,n.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?Vx(m,n.type,n.stateNode):qx(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&pm(n,n.memoizedProps,l.memoizedProps)}break;case 27:zr(o,n),Fr(n),c&512&&(Bn||l===null||Ji(l,l.return)),l!==null&&c&4&&pm(n,n.memoizedProps,l.memoizedProps);break;case 5:if(zr(o,n),Fr(n),c&512&&(Bn||l===null||Ji(l,l.return)),n.flags&32){m=n.stateNode;try{go(m,"")}catch(et){Vt(n,n.return,et)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,pm(n,m,l!==null?l.memoizedProps:m)),c&1024&&(ym=!0);break;case 6:if(zr(o,n),Fr(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(et){Vt(n,n.return,et)}}break;case 3:if(vf=null,m=ji,ji=gf(o.containerInfo),zr(o,n),ji=m,Fr(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Fl(o.containerInfo)}catch(et){Vt(n,n.return,et)}ym&&(ym=!1,Vb(n));break;case 4:c=ji,ji=gf(n.stateNode.containerInfo),zr(o,n),Fr(n),ji=c;break;case 12:zr(o,n),Fr(n);break;case 31:zr(o,n),Fr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tf(n,c)));break;case 13:zr(o,n),Fr(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(rf=Lt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tf(n,c)));break;case 22:m=n.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,me=No,Me=Bn;if(No=me||m,Bn=Me||Y,zr(o,n),Bn=Me,No=me,Fr(n),c&8192)e:for(o=n.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||Y||No||Bn||Ss(n)),l=null,o=n;;){if(o.tag===5||o.tag===26){if(l===null){Y=l=o;try{if(b=Y.stateNode,m)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{z=Y.stateNode;var Pe=Y.memoizedProps.style,ve=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;z.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(et){Vt(Y,Y.return,et)}}}else if(o.tag===6){if(l===null){Y=o;try{Y.stateNode.nodeValue=m?"":Y.memoizedProps}catch(et){Vt(Y,Y.return,et)}}}else if(o.tag===18){if(l===null){Y=o;try{var we=Y.stateNode;m?jx(we,!0):jx(Y.stateNode,!1)}catch(et){Vt(Y,Y.return,et)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,tf(n,l))));break;case 19:zr(o,n),Fr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,tf(n,c)));break;case 30:break;case 21:break;default:zr(o,n),Fr(n)}}function Fr(n){var o=n.flags;if(o&2){try{for(var l,c=n.return;c!==null;){if(Fb(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,b=mm(n);ef(n,b,m);break;case 5:var M=l.stateNode;l.flags&32&&(go(M,""),l.flags&=-33);var z=mm(n);ef(n,z,M);break;case 3:case 4:var Y=l.stateNode.containerInfo,me=mm(n);gm(n,me,Y);break;default:throw Error(i(161))}}catch(Me){Vt(n,n.return,Me)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function Vb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;Vb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function jo(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Bb(n,o.alternate,o),o=o.sibling}function Ss(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:Ca(4,o,o.return),Ss(o);break;case 1:Ji(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&jb(o,o.return,l),Ss(o);break;case 27:yc(o.stateNode);case 26:case 5:Ji(o,o.return),Ss(o);break;case 22:o.memoizedState===null&&Ss(o);break;case 30:Ss(o);break;default:Ss(o)}n=n.sibling}}function zo(n,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=n,b=o,M=b.flags;switch(b.tag){case 0:case 11:case 15:zo(m,b,l),sc(4,b);break;case 1:if(zo(m,b,l),c=b,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(me){Vt(c,c.return,me)}if(c=b,m=c.updateQueue,m!==null){var z=c.stateNode;try{var Y=m.shared.hiddenCallbacks;if(Y!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Y.length;m++)C0(Y[m],z)}catch(me){Vt(c,c.return,me)}}l&&M&64&&Ib(b),lc(b,b.return);break;case 27:kb(b);case 26:case 5:zo(m,b,l),l&&c===null&&M&4&&zb(b),lc(b,b.return);break;case 12:zo(m,b,l);break;case 31:zo(m,b,l),l&&M&4&&Hb(m,b);break;case 13:zo(m,b,l),l&&M&4&&qb(m,b);break;case 22:b.memoizedState===null&&zo(m,b,l),lc(b,b.return);break;case 30:break;default:zo(m,b,l)}o=o.sibling}}function vm(n,o){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ku(l))}function bm(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ku(n))}function zi(n,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Yb(n,o,l,c),o=o.sibling}function Yb(n,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:zi(n,o,l,c),m&2048&&sc(9,o);break;case 1:zi(n,o,l,c);break;case 3:zi(n,o,l,c),m&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Ku(n)));break;case 12:if(m&2048){zi(n,o,l,c),n=o.stateNode;try{var b=o.memoizedProps,M=b.id,z=b.onPostCommit;typeof z=="function"&&z(M,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Y){Vt(o,o.return,Y)}}else zi(n,o,l,c);break;case 31:zi(n,o,l,c);break;case 13:zi(n,o,l,c);break;case 23:break;case 22:b=o.stateNode,M=o.alternate,o.memoizedState!==null?b._visibility&2?zi(n,o,l,c):uc(n,o):b._visibility&2?zi(n,o,l,c):(b._visibility|=2,Ol(n,o,l,c,(o.subtreeFlags&10256)!==0||!1)),m&2048&&vm(M,o);break;case 24:zi(n,o,l,c),m&2048&&bm(o.alternate,o);break;default:zi(n,o,l,c)}}function Ol(n,o,l,c,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=n,M=o,z=l,Y=c,me=M.flags;switch(M.tag){case 0:case 11:case 15:Ol(b,M,z,Y,m),sc(8,M);break;case 23:break;case 22:var Me=M.stateNode;M.memoizedState!==null?Me._visibility&2?Ol(b,M,z,Y,m):uc(b,M):(Me._visibility|=2,Ol(b,M,z,Y,m)),m&&me&2048&&vm(M.alternate,M);break;case 24:Ol(b,M,z,Y,m),m&&me&2048&&bm(M.alternate,M);break;default:Ol(b,M,z,Y,m)}o=o.sibling}}function uc(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=n,c=o,m=c.flags;switch(c.tag){case 22:uc(l,c),m&2048&&vm(c.alternate,c);break;case 24:uc(l,c),m&2048&&bm(c.alternate,c);break;default:uc(l,c)}o=o.sibling}}var cc=8192;function Ml(n,o,l){if(n.subtreeFlags&cc)for(n=n.child;n!==null;)Kb(n,o,l),n=n.sibling}function Kb(n,o,l){switch(n.tag){case 26:Ml(n,o,l),n.flags&cc&&n.memoizedState!==null&&pM(l,ji,n.memoizedState,n.memoizedProps);break;case 5:Ml(n,o,l);break;case 3:case 4:var c=ji;ji=gf(n.stateNode.containerInfo),Ml(n,o,l),ji=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=cc,cc=16777216,Ml(n,o,l),cc=c):Ml(n,o,l));break;default:Ml(n,o,l)}}function Xb(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function dc(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];tr=c,Qb(c,n)}Xb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Wb(n),n=n.sibling}function Wb(n){switch(n.tag){case 0:case 11:case 15:dc(n),n.flags&2048&&Ca(9,n,n.return);break;case 3:dc(n);break;case 12:dc(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,nf(n)):dc(n);break;default:dc(n)}}function nf(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];tr=c,Qb(c,n)}Xb(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:Ca(8,o,o.return),nf(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,nf(o));break;default:nf(o)}n=n.sibling}}function Qb(n,o){for(;tr!==null;){var l=tr;switch(l.tag){case 0:case 11:case 15:Ca(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ku(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,tr=c;else e:for(l=n;tr!==null;){c=tr;var m=c.sibling,b=c.return;if(Ub(c),c===l){tr=null;break e}if(m!==null){m.return=b,tr=m;break e}tr=b}}}var RO={getCacheForType:function(n){var o=sr(Fn),l=o.data.get(n);return l===void 0&&(l=n(),o.data.set(n,l)),l},cacheSignal:function(){return sr(Fn).controller.signal}},PO=typeof WeakMap=="function"?WeakMap:Map,$t=0,tn=null,Tt=null,Pt=0,Gt=0,Jr=null,_a=!1,Tl=!1,xm=!1,Fo=0,On=0,Ea=0,Cs=0,wm=0,ei=0,Rl=0,fc=null,kr=null,Sm=!1,rf=0,Zb=0,of=1/0,af=null,Oa=null,Yn=0,Ma=null,Pl=null,ko=0,Cm=0,_m=null,Jb=null,hc=0,Em=null;function ti(){return($t&2)!==0&&Pt!==0?Pt&-Pt:B.T!==null?Dm():ke()}function ex(){if(ei===0)if((Pt&536870912)===0||It){var n=on;on<<=1,(on&3932160)===0&&(on=262144),ei=n}else ei=536870912;return n=Qr.current,n!==null&&(n.flags|=32),ei}function Lr(n,o,l){(n===tn&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(Dl(n,0),Ta(n,Pt,ei,!1)),wr(n,l),(($t&2)===0||n!==tn)&&(n===tn&&(($t&2)===0&&(Cs|=l),On===4&&Ta(n,Pt,ei,!1)),eo(n))}function tx(n,o,l){if(($t&6)!==0)throw Error(i(327));var c=!l&&(o&127)===0&&(o&n.expiredLanes)===0||Ai(n,o),m=c?NO(n,o):Mm(n,o,!0),b=c;do{if(m===0){Tl&&!c&&Ta(n,o,0,!1);break}else{if(l=n.current.alternate,b&&!DO(l)){m=Mm(n,o,!1),b=!1;continue}if(m===2){if(b=o,n.errorRecoveryDisabledLanes&b)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var z=n;m=fc;var Y=z.current.memoizedState.isDehydrated;if(Y&&(Dl(z,M).flags|=256),M=Mm(z,M,!1),M!==2){if(xm&&!Y){z.errorRecoveryDisabledLanes|=b,Cs|=b,m=4;break e}b=kr,kr=m,b!==null&&(kr===null?kr=b:kr.push.apply(kr,b))}m=M}if(b=!1,m!==2)continue}}if(m===1){Dl(n,0),Ta(n,o,0,!0);break}e:{switch(c=n,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ta(c,o,ei,!_a);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=rf+300-Lt(),10<m)){if(Ta(c,o,ei,!_a),Gi(c,0,!0)!==0)break e;ko=o,c.timeoutHandle=Ax(nx.bind(null,c,l,kr,af,Sm,o,ei,Cs,Rl,_a,b,"Throttled",-0,0),m);break e}nx(c,l,kr,af,Sm,o,ei,Cs,Rl,_a,b,null,-0,0)}}break}while(!0);eo(n)}function nx(n,o,l,c,m,b,M,z,Y,me,Me,Pe,ve,we){if(n.timeoutHandle=-1,Pe=o.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},Kb(o,b,Pe);var et=(b&62914560)===b?rf-Lt():(b&4194048)===b?Zb-Lt():0;if(et=mM(Pe,et),et!==null){ko=b,n.cancelPendingCommit=et(cx.bind(null,n,o,b,l,c,m,M,z,Y,Me,Pe,null,ve,we)),Ta(n,b,M,!me);return}}cx(n,o,b,l,c,m,M,z,Y)}function DO(n){for(var o=n;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],b=m.getSnapshot;m=m.value;try{if(!pr(b(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ta(n,o,l,c){o&=~wm,o&=~Cs,n.suspendedLanes|=o,n.pingedLanes&=~o,c&&(n.warmLanes|=o),c=n.expirationTimes;for(var m=o;0<m;){var b=31-Ge(m),M=1<<b;c[b]=-1,m&=~M}l!==0&&mo(n,l,o)}function sf(){return($t&6)===0?(pc(0),!1):!0}function Om(){if(Tt!==null){if(Gt===0)var n=Tt.return;else n=Tt,Mo=ps=null,$p(n),wl=null,Wu=0,n=Tt;for(;n!==null;)Nb(n.alternate,n),n=n.return;Tt=null}}function Dl(n,o){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,QO(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ko=0,Om(),tn=n,Tt=l=Eo(n.current,null),Pt=o,Gt=0,Jr=null,_a=!1,Tl=Ai(n,o),xm=!1,Rl=ei=wm=Cs=Ea=On=0,kr=fc=null,Sm=!1,(o&8)!==0&&(o|=o&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=o;0<c;){var m=31-Ge(c),b=1<<m;o|=n[m],c&=~b}return Fo=o,er(),l}function rx(n,o){xt=null,B.H=ic,o===xl||o===jd?(o=b0(),Gt=3):o===Pp?(o=b0(),Gt=4):Gt=o===im?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,Tt===null&&(On=1,Xd(n,pi(o,n.current)))}function ix(){var n=Qr.current;return n===null?!0:(Pt&4194048)===Pt?vi===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?n===vi:!1}function ox(){var n=B.H;return B.H=ic,n===null?ic:n}function ax(){var n=B.A;return B.A=RO,n}function lf(){On=4,_a||(Pt&4194048)!==Pt&&Qr.current!==null||(Tl=!0),(Ea&134217727)===0&&(Cs&134217727)===0||tn===null||Ta(tn,Pt,ei,!1)}function Mm(n,o,l){var c=$t;$t|=2;var m=ox(),b=ax();(tn!==n||Pt!==o)&&(af=null,Dl(n,o)),o=!1;var M=On;e:do try{if(Gt!==0&&Tt!==null){var z=Tt,Y=Jr;switch(Gt){case 8:Om(),M=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(o=!0);var me=Gt;if(Gt=0,Jr=null,Al(n,z,Y,me),l&&Tl){M=0;break e}break;default:me=Gt,Gt=0,Jr=null,Al(n,z,Y,me)}}AO(),M=On;break}catch(Me){rx(n,Me)}while(!0);return o&&n.shellSuspendCounter++,Mo=ps=null,$t=c,B.H=m,B.A=b,Tt===null&&(tn=null,Pt=0,er()),M}function AO(){for(;Tt!==null;)sx(Tt)}function NO(n,o){var l=$t;$t|=2;var c=ox(),m=ax();tn!==n||Pt!==o?(af=null,of=Lt()+500,Dl(n,o)):Tl=Ai(n,o);e:do try{if(Gt!==0&&Tt!==null){o=Tt;var b=Jr;t:switch(Gt){case 1:Gt=0,Jr=null,Al(n,o,b,1);break;case 2:case 9:if(y0(b)){Gt=0,Jr=null,lx(o);break}o=function(){Gt!==2&&Gt!==9||tn!==n||(Gt=7),eo(n)},b.then(o,o);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:y0(b)?(Gt=0,Jr=null,lx(o)):(Gt=0,Jr=null,Al(n,o,b,7));break;case 5:var M=null;switch(Tt.tag){case 26:M=Tt.memoizedState;case 5:case 27:var z=Tt;if(M?Yx(M):z.stateNode.complete){Gt=0,Jr=null;var Y=z.sibling;if(Y!==null)Tt=Y;else{var me=z.return;me!==null?(Tt=me,uf(me)):Tt=null}break t}}Gt=0,Jr=null,Al(n,o,b,5);break;case 6:Gt=0,Jr=null,Al(n,o,b,6);break;case 8:Om(),On=6;break e;default:throw Error(i(462))}}IO();break}catch(Me){rx(n,Me)}while(!0);return Mo=ps=null,B.H=c,B.A=m,$t=l,Tt!==null?0:(tn=null,Pt=0,er(),On)}function IO(){for(;Tt!==null&&!xn();)sx(Tt)}function sx(n){var o=Db(n.alternate,n,Fo);n.memoizedProps=n.pendingProps,o===null?uf(n):Tt=o}function lx(n){var o=n,l=o.alternate;switch(o.tag){case 15:case 0:o=Eb(l,o,o.pendingProps,o.type,void 0,Pt);break;case 11:o=Eb(l,o,o.pendingProps,o.type.render,o.ref,Pt);break;case 5:$p(o);default:Nb(l,o),o=Tt=a0(o,Fo),o=Db(l,o,Fo)}n.memoizedProps=n.pendingProps,o===null?uf(n):Tt=o}function Al(n,o,l,c){Mo=ps=null,$p(o),wl=null,Wu=0;var m=o.return;try{if(SO(n,m,o,l,Pt)){On=1,Xd(n,pi(l,n.current)),Tt=null;return}}catch(b){if(m!==null)throw Tt=m,b;On=1,Xd(n,pi(l,n.current)),Tt=null;return}o.flags&32768?(It||c===1?n=!0:Tl||(Pt&536870912)!==0?n=!1:(_a=n=!0,(c===2||c===9||c===3||c===6)&&(c=Qr.current,c!==null&&c.tag===13&&(c.flags|=16384))),ux(o,n)):uf(o)}function uf(n){var o=n;do{if((o.flags&32768)!==0){ux(o,_a);return}n=o.return;var l=EO(o.alternate,o,Fo);if(l!==null){Tt=l;return}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=n}while(o!==null);On===0&&(On=5)}function ux(n,o){do{var l=OO(n.alternate,n);if(l!==null){l.flags&=32767,Tt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(n=n.sibling,n!==null)){Tt=n;return}Tt=n=l}while(n!==null);On=6,Tt=null}function cx(n,o,l,c,m,b,M,z,Y){n.cancelPendingCommit=null;do cf();while(Yn!==0);if(($t&6)!==0)throw Error(i(327));if(o!==null){if(o===n.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=bt,Ja(n,l,b,M,z,Y),n===tn&&(Tt=tn=null,Pt=0),Pl=o,Ma=n,ko=l,Cm=b,_m=m,Jb=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,kO(wn,function(){return mx(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,m=X.p,X.p=2,M=$t,$t|=4;try{MO(n,o,l)}finally{$t=M,X.p=m,B.T=c}}Yn=1,dx(),fx(),hx()}}function dx(){if(Yn===1){Yn=0;var n=Ma,o=Pl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var c=X.p;X.p=2;var m=$t;$t|=4;try{Gb(o,n);var b=Lm,M=P(n.containerInfo),z=b.focusedElem,Y=b.selectionRange;if(M!==z&&z&&z.ownerDocument&&O(z.ownerDocument.documentElement,z)){if(Y!==null&&j(z)){var me=Y.start,Me=Y.end;if(Me===void 0&&(Me=me),"selectionStart"in z)z.selectionStart=me,z.selectionEnd=Math.min(Me,z.value.length);else{var Pe=z.ownerDocument||document,ve=Pe&&Pe.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),et=z.textContent.length,dt=Math.min(Y.start,et),Xt=Y.end===void 0?dt:Math.min(Y.end,et);!we.extend&&dt>Xt&&(M=Xt,Xt=dt,dt=M);var ue=S(z,dt),ee=S(z,Xt);if(ue&&ee&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==ee.node||we.focusOffset!==ee.offset)){var pe=Pe.createRange();pe.setStart(ue.node,ue.offset),we.removeAllRanges(),dt>Xt?(we.addRange(pe),we.extend(ee.node,ee.offset)):(pe.setEnd(ee.node,ee.offset),we.addRange(pe))}}}}for(Pe=[],we=z;we=we.parentNode;)we.nodeType===1&&Pe.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Pe.length;z++){var Te=Pe[z];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Sf=!!km,Lm=km=null}finally{$t=m,X.p=c,B.T=l}}n.current=o,Yn=2}}function fx(){if(Yn===2){Yn=0;var n=Ma,o=Pl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var c=X.p;X.p=2;var m=$t;$t|=4;try{Bb(n,o.alternate,o)}finally{$t=m,X.p=c,B.T=l}}Yn=3}}function hx(){if(Yn===4||Yn===3){Yn=0,br();var n=Ma,o=Pl,l=ko,c=Jb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Yn=5:(Yn=0,Pl=Ma=null,px(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Oa=null),Ae(l),o=o.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Pr,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=B.T,m=X.p,X.p=2,B.T=null;try{for(var b=n.onRecoverableError,M=0;M<c.length;M++){var z=c[M];b(z.value,{componentStack:z.stack})}}finally{B.T=o,X.p=m}}(ko&3)!==0&&cf(),eo(n),m=n.pendingLanes,(l&261930)!==0&&(m&42)!==0?n===Em?hc++:(hc=0,Em=n):hc=0,pc(0)}}function px(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Ku(o)))}function cf(){return dx(),fx(),hx(),mx()}function mx(){if(Yn!==5)return!1;var n=Ma,o=Cm;Cm=0;var l=Ae(ko),c=B.T,m=X.p;try{X.p=32>l?32:l,B.T=null,l=_m,_m=null;var b=Ma,M=ko;if(Yn=0,Pl=Ma=null,ko=0,($t&6)!==0)throw Error(i(331));var z=$t;if($t|=4,Wb(b.current),Yb(b,b.current,M,l),$t=z,pc(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Pr,b)}catch{}return!0}finally{X.p=m,B.T=c,px(n,o)}}function gx(n,o,l){o=pi(l,o),o=rm(n.stateNode,o,2),n=xa(n,o,2),n!==null&&(wr(n,2),eo(n))}function Vt(n,o,l){if(n.tag===3)gx(n,n,l);else for(;o!==null;){if(o.tag===3){gx(o,n,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Oa===null||!Oa.has(c))){n=pi(l,n),l=yb(2),c=xa(o,l,2),c!==null&&(vb(l,c,o,n),wr(c,2),eo(c));break}}o=o.return}}function Tm(n,o,l){var c=n.pingCache;if(c===null){c=n.pingCache=new PO;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(xm=!0,m.add(l),n=jO.bind(null,n,o,l),o.then(n,n))}function jO(n,o,l){var c=n.pingCache;c!==null&&c.delete(o),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,tn===n&&(Pt&l)===l&&(On===4||On===3&&(Pt&62914560)===Pt&&300>Lt()-rf?($t&2)===0&&Dl(n,0):wm|=l,Rl===Pt&&(Rl=0)),eo(n)}function yx(n,o){o===0&&(o=po()),n=vn(n,o),n!==null&&(wr(n,o),eo(n))}function zO(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),yx(n,l)}function FO(n,o){var l=0;switch(n.tag){case 31:case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),yx(n,l)}function kO(n,o){return qn(n,o)}var df=null,Nl=null,Rm=!1,ff=!1,Pm=!1,Ra=0;function eo(n){n!==Nl&&n.next===null&&(Nl===null?df=Nl=n:Nl=Nl.next=n),ff=!0,Rm||(Rm=!0,BO())}function pc(n,o){if(!Pm&&ff){Pm=!0;do for(var l=!1,c=df;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var b=0;else{var M=c.suspendedLanes,z=c.pingedLanes;b=(1<<31-Ge(42|n)+1)-1,b&=m&~(M&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,wx(c,b))}else b=Pt,b=Gi(c,c===tn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Ai(c,b)||(l=!0,wx(c,b));c=c.next}while(l);Pm=!1}}function LO(){vx()}function vx(){ff=Rm=!1;var n=0;Ra!==0&&WO()&&(n=Ra);for(var o=Lt(),l=null,c=df;c!==null;){var m=c.next,b=bx(c,o);b===0?(c.next=null,l===null?df=m:l.next=m,m===null&&(Nl=l)):(l=c,(n!==0||(b&3)!==0)&&(ff=!0)),c=m}Yn!==0&&Yn!==5||pc(n),Ra!==0&&(Ra=0)}function bx(n,o){for(var l=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var M=31-Ge(b),z=1<<M,Y=m[M];Y===-1?((z&l)===0||(z&c)!==0)&&(m[M]=Xs(z,o)):Y<=o&&(n.expiredLanes|=z),b&=~z}if(o=tn,l=Pt,l=Gi(n,n===o?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===o&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&gn(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ai(n,l)){if(o=l&-l,o===n.callbackPriority)return o;switch(c!==null&&gn(c),Ae(l)){case 2:case 8:l=lt;break;case 32:l=wn;break;case 268435456:l=Rn;break;default:l=wn}return c=xx.bind(null,n),l=qn(l,c),n.callbackPriority=o,n.callbackNode=l,o}return c!==null&&c!==null&&gn(c),n.callbackPriority=2,n.callbackNode=null,2}function xx(n,o){if(Yn!==0&&Yn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(cf()&&n.callbackNode!==l)return null;var c=Pt;return c=Gi(n,n===tn?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(tx(n,c,o),bx(n,Lt()),n.callbackNode!=null&&n.callbackNode===l?xx.bind(null,n):null)}function wx(n,o){if(cf())return null;tx(n,o,!0)}function BO(){ZO(function(){($t&6)!==0?qn(Gn,LO):vx()})}function Dm(){if(Ra===0){var n=vl;n===0&&(n=$e,$e<<=1,($e&261888)===0&&($e=256)),Ra=n}return Ra}function Sx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ii(""+n)}function Cx(n,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,n.id&&l.setAttribute("form",n.id),o.parentNode.insertBefore(l,o),n=new FormData(n),l.parentNode.removeChild(l),n}function UO(n,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var b=Sx((m[Ke]||null).action),M=c.submitter;M&&(o=(o=M[Ke]||null)?Sx(o.formAction):M.getAttribute("formAction"),o!==null&&(b=o,M=null));var z=new Js("action","action",null,c,m);n.push({event:z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ra!==0){var Y=M?Cx(m,M):new FormData(m);Qp(l,{pending:!0,data:Y,method:m.method,action:b},null,Y)}}else typeof b=="function"&&(z.preventDefault(),Y=M?Cx(m,M):new FormData(m),Qp(l,{pending:!0,data:Y,method:m.method,action:b},b,Y))},currentTarget:m}]})}}for(var Am=0;Am<Ve.length;Am++){var Nm=Ve[Am],$O=Nm.toLowerCase(),HO=Nm[0].toUpperCase()+Nm.slice(1);ze($O,"on"+HO)}ze(fe,"onAnimationEnd"),ze(ye,"onAnimationIteration"),ze(Ee,"onAnimationStart"),ze("dblclick","onDoubleClick"),ze("focusin","onFocus"),ze("focusout","onBlur"),ze(Re,"onTransitionRun"),ze(Be,"onTransitionStart"),ze(Ye,"onTransitionCancel"),ze(je,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mc));function _x(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],m=c.event;c=c.listeners;e:{var b=void 0;if(o)for(var M=c.length-1;0<=M;M--){var z=c[M],Y=z.instance,me=z.currentTarget;if(z=z.listener,Y!==b&&m.isPropagationStopped())break e;b=z,m.currentTarget=me;try{b(m)}catch(Me){We(Me)}m.currentTarget=null,b=Y}else for(M=0;M<c.length;M++){if(z=c[M],Y=z.instance,me=z.currentTarget,z=z.listener,Y!==b&&m.isPropagationStopped())break e;b=z,m.currentTarget=me;try{b(m)}catch(Me){We(Me)}m.currentTarget=null,b=Y}}}}function Rt(n,o){var l=o[ot];l===void 0&&(l=o[ot]=new Set);var c=n+"__bubble";l.has(c)||(Ex(o,n,2,!1),l.add(c))}function Im(n,o,l){var c=0;o&&(c|=4),Ex(l,n,c,o)}var hf="_reactListening"+Math.random().toString(36).slice(2);function jm(n){if(!n[hf]){n[hf]=!0,Xn.forEach(function(l){l!=="selectionchange"&&(qO.has(l)||Im(l,!1,n),Im(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[hf]||(o[hf]=!0,Im("selectionchange",!1,o))}}function Ex(n,o,l,c){switch(ew(o)){case 2:var m=vM;break;case 8:m=bM;break;default:m=Wm}l=m.bind(null,o,l,n),m=void 0,!Du||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(o,l,{capture:!0,passive:m}):n.addEventListener(o,l,!0):m!==void 0?n.addEventListener(o,l,{passive:m}):n.addEventListener(o,l,!1)}function zm(n,o,l,c,m){var b=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var z=c.stateNode.containerInfo;if(z===m)break;if(M===4)for(M=c.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;z!==null;){if(M=an(z),M===null)return;if(Y=M.tag,Y===5||Y===6||Y===26||Y===27){c=b=M;continue e}z=z.parentNode}}c=c.return}oa(function(){var me=b,Me=Qs(l),Pe=[];e:{var ve=Ue.get(n);if(ve!==void 0){var we=Js,et=n;switch(n){case"keypress":if(la(l)===0)break e;case"keydown":case"keyup":we=al;break;case"focusin":et="focus",we=ua;break;case"focusout":et="blur",we=ua;break;case"beforeblur":case"afterblur":we=ua;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=bd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=ku;break;case fe:case ye:case Ee:we=xd;break;case je:we=Lu;break;case"scroll":case"scrollend":we=el;break;case"wheel":we=ll;break;case"copy":case"cut":case"paste":we=ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Fu;break;case"toggle":case"beforetoggle":we=Cd}var dt=(o&4)!==0,Xt=!dt&&(n==="scroll"||n==="scrollend"),ue=dt?ve!==null?ve+"Capture":null:ve;dt=[];for(var ee=me,pe;ee!==null;){var Te=ee;if(pe=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||pe===null||ue===null||(Te=bo(ee,ue),Te!=null&&dt.push(gc(ee,Te,pe))),Xt)break;ee=ee.return}0<dt.length&&(ve=new we(ve,et,null,l,Me),Pe.push({event:ve,listeners:dt}))}}if((o&7)===0){e:{if(ve=n==="mouseover"||n==="pointerover",we=n==="mouseout"||n==="pointerout",ve&&l!==di&&(et=l.relatedTarget||l.fromElement)&&(an(et)||et[Qe]))break e;if((we||ve)&&(ve=Me.window===Me?Me:(ve=Me.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(et=l.relatedTarget||l.toElement,we=me,et=et?an(et):null,et!==null&&(Xt=s(et),dt=et.tag,et!==Xt||dt!==5&&dt!==27&&dt!==6)&&(et=null)):(we=null,et=me),we!==et)){if(dt=nl,Te="onMouseLeave",ue="onMouseEnter",ee="mouse",(n==="pointerout"||n==="pointerover")&&(dt=Fu,Te="onPointerLeave",ue="onPointerEnter",ee="pointer"),Xt=we==null?ve:sn(we),pe=et==null?ve:sn(et),ve=new dt(Te,ee+"leave",we,l,Me),ve.target=Xt,ve.relatedTarget=pe,Te=null,an(Me)===me&&(dt=new dt(ue,ee+"enter",et,l,Me),dt.target=pe,dt.relatedTarget=Xt,Te=dt),Xt=Te,we&&et)t:{for(dt=GO,ue=we,ee=et,pe=0,Te=ue;Te;Te=dt(Te))pe++;Te=0;for(var ct=ee;ct;ct=dt(ct))Te++;for(;0<pe-Te;)ue=dt(ue),pe--;for(;0<Te-pe;)ee=dt(ee),Te--;for(;pe--;){if(ue===ee||ee!==null&&ue===ee.alternate){dt=ue;break t}ue=dt(ue),ee=dt(ee)}dt=null}else dt=null;we!==null&&Ox(Pe,ve,we,dt,!1),et!==null&&Xt!==null&&Ox(Pe,Xt,et,dt,!0)}}e:{if(ve=me?sn(me):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var jt=cs;else if(dl(ve))if(hi)jt=ha;else{jt=_o;var rt=Rd}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?me&&Pu(me.elementType)&&(jt=cs):jt=qu;if(jt&&(jt=jt(n,me))){Hu(Pe,jt,l,Me);break e}rt&&rt(n,ve,me),n==="focusout"&&me&&ve.type==="number"&&me.memoizedProps.value!=null&&ns(ve,"number",ve.value)}switch(rt=me?sn(me):window,n){case"focusin":(dl(rt)||rt.contentEditable==="true")&&(H=rt,Q=me,Z=null);break;case"focusout":Z=Q=H=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,K(Pe,l,Me);break;case"selectionchange":if(L)break;case"keydown":case"keyup":K(Pe,l,Me)}var St;if(ls)e:{switch(n){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Co?$u(n,l)&&(Dt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Dt="onCompositionStart");Dt&&(ul&&l.locale!=="ko"&&(Co||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Co&&(St=sa()):(fi=Me,Zs="value"in fi?fi.value:fi.textContent,Co=!0)),rt=pf(me,Dt),0<rt.length&&(Dt=new ol(Dt,n,null,l,Me),Pe.push({event:Dt,listeners:rt}),St?Dt.data=St:(St=Ed(l),St!==null&&(Dt.data=St)))),(St=pp?Od(n,l):mp(n,l))&&(Dt=pf(me,"onBeforeInput"),0<Dt.length&&(rt=new ol("onBeforeInput","beforeinput",null,l,Me),Pe.push({event:rt,listeners:Dt}),rt.data=St)),UO(Pe,n,me,l,Me)}_x(Pe,o)})}function gc(n,o,l){return{instance:n,listener:o,currentTarget:l}}function pf(n,o){for(var l=o+"Capture",c=[];n!==null;){var m=n,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=bo(n,l),m!=null&&c.unshift(gc(n,m,b)),m=bo(n,o),m!=null&&c.push(gc(n,m,b))),n.tag===3)return c;n=n.return}return[]}function GO(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Ox(n,o,l,c,m){for(var b=o._reactName,M=[];l!==null&&l!==c;){var z=l,Y=z.alternate,me=z.stateNode;if(z=z.tag,Y!==null&&Y===c)break;z!==5&&z!==26&&z!==27||me===null||(Y=me,m?(me=bo(l,b),me!=null&&M.unshift(gc(l,me,Y))):m||(me=bo(l,b),me!=null&&M.push(gc(l,me,Y)))),l=l.return}M.length!==0&&n.push({event:o,listeners:M})}var VO=/\r\n?/g,YO=/\u0000|\uFFFD/g;function Mx(n){return(typeof n=="string"?n:""+n).replace(VO,`
`).replace(YO,"")}function Tx(n,o){return o=Mx(o),Mx(n)===o}function Kt(n,o,l,c,m,b){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||go(n,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&go(n,""+c);break;case"className":Ar(n,"class",c);break;case"tabIndex":Ar(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(n,l,c);break;case"style":Ru(n,c,b);break;case"data":if(o!=="object"){Ar(n,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Ii(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&Kt(n,o,"name",m.name,m,null),Kt(n,o,"formEncType",m.formEncType,m,null),Kt(n,o,"formMethod",m.formMethod,m,null),Kt(n,o,"formTarget",m.formTarget,m,null)):(Kt(n,o,"encType",m.encType,m,null),Kt(n,o,"method",m.method,m,null),Kt(n,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Ii(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=Nr);break;case"onScroll":c!=null&&Rt("scroll",n);break;case"onScrollEnd":c!=null&&Rt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=Ii(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Rt("beforetoggle",n),Rt("toggle",n),st(n,"popover",c);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":st(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=dp.get(l)||l,st(n,l,c))}}function Fm(n,o,l,c,m,b){switch(l){case"style":Ru(n,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?go(n,c):(typeof c=="number"||typeof c=="bigint")&&go(n,""+c);break;case"onScroll":c!=null&&Rt("scroll",n);break;case"onScrollEnd":c!=null&&Rt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),b=n[Ke]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(o,b,m),typeof c=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(o,c,m);break e}l in n?n[l]=c:c===!0?n.setAttribute(l,""):st(n,l,c)}}}function ur(n,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",n),Rt("load",n);var c=!1,m=!1,b;for(b in l)if(l.hasOwnProperty(b)){var M=l[b];if(M!=null)switch(b){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Kt(n,o,b,M,l,null)}}m&&Kt(n,o,"srcSet",l.srcSet,l,null),c&&Kt(n,o,"src",l.src,l,null);return;case"input":Rt("invalid",n);var z=b=M=m=null,Y=null,me=null;for(c in l)if(l.hasOwnProperty(c)){var Me=l[c];if(Me!=null)switch(c){case"name":m=Me;break;case"type":M=Me;break;case"checked":Y=Me;break;case"defaultChecked":me=Me;break;case"value":b=Me;break;case"defaultValue":z=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,o));break;default:Kt(n,o,c,Me,l,null)}}Ws(n,b,z,Y,me,M,m,!1);return;case"select":Rt("invalid",n),c=M=b=null;for(m in l)if(l.hasOwnProperty(m)&&(z=l[m],z!=null))switch(m){case"value":b=z;break;case"defaultValue":M=z;break;case"multiple":c=z;default:Kt(n,o,m,z,l,null)}o=b,l=M,n.multiple=!!c,o!=null?Ni(n,!!c,o,!1):l!=null&&Ni(n,!!c,l,!0);return;case"textarea":Rt("invalid",n),b=m=c=null;for(M in l)if(l.hasOwnProperty(M)&&(z=l[M],z!=null))switch(M){case"value":c=z;break;case"defaultValue":m=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Kt(n,o,M,z,l,null)}rs(n,c,m,b);return;case"option":for(Y in l)l.hasOwnProperty(Y)&&(c=l[Y],c!=null)&&(Y==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":Kt(n,o,Y,c,l,null));return;case"dialog":Rt("beforetoggle",n),Rt("toggle",n),Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":Rt("load",n);break;case"video":case"audio":for(c=0;c<mc.length;c++)Rt(mc[c],n);break;case"image":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"embed":case"source":case"link":Rt("error",n),Rt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in l)if(l.hasOwnProperty(me)&&(c=l[me],c!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Kt(n,o,me,c,l,null)}return;default:if(Pu(o)){for(Me in l)l.hasOwnProperty(Me)&&(c=l[Me],c!==void 0&&Fm(n,o,Me,c,l,void 0));return}}for(z in l)l.hasOwnProperty(z)&&(c=l[z],c!=null&&Kt(n,o,z,c,l,null))}function KO(n,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,M=null,z=null,Y=null,me=null,Me=null;for(we in l){var Pe=l[we];if(l.hasOwnProperty(we)&&Pe!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":Y=Pe;default:c.hasOwnProperty(we)||Kt(n,o,we,null,c,Pe)}}for(var ve in c){var we=c[ve];if(Pe=l[ve],c.hasOwnProperty(ve)&&(we!=null||Pe!=null))switch(ve){case"type":b=we;break;case"name":m=we;break;case"checked":me=we;break;case"defaultChecked":Me=we;break;case"value":M=we;break;case"defaultValue":z=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,o));break;default:we!==Pe&&Kt(n,o,ve,we,c,Pe)}}Yi(n,M,z,Y,me,Me,b,m);return;case"select":we=M=z=ve=null;for(b in l)if(Y=l[b],l.hasOwnProperty(b)&&Y!=null)switch(b){case"value":break;case"multiple":we=Y;default:c.hasOwnProperty(b)||Kt(n,o,b,null,c,Y)}for(m in c)if(b=c[m],Y=l[m],c.hasOwnProperty(m)&&(b!=null||Y!=null))switch(m){case"value":ve=b;break;case"defaultValue":z=b;break;case"multiple":M=b;default:b!==Y&&Kt(n,o,m,b,c,Y)}o=z,l=M,c=we,ve!=null?Ni(n,!!l,ve,!1):!!c!=!!l&&(o!=null?Ni(n,!!l,o,!0):Ni(n,!!l,l?[]:"",!1));return;case"textarea":we=ve=null;for(z in l)if(m=l[z],l.hasOwnProperty(z)&&m!=null&&!c.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Kt(n,o,z,null,c,m)}for(M in c)if(m=c[M],b=l[M],c.hasOwnProperty(M)&&(m!=null||b!=null))switch(M){case"value":ve=m;break;case"defaultValue":we=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Kt(n,o,M,m,c,b)}Tu(n,ve,we);return;case"option":for(var et in l)ve=l[et],l.hasOwnProperty(et)&&ve!=null&&!c.hasOwnProperty(et)&&(et==="selected"?n.selected=!1:Kt(n,o,et,null,c,ve));for(Y in c)ve=c[Y],we=l[Y],c.hasOwnProperty(Y)&&ve!==we&&(ve!=null||we!=null)&&(Y==="selected"?n.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":Kt(n,o,Y,ve,c,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in l)ve=l[dt],l.hasOwnProperty(dt)&&ve!=null&&!c.hasOwnProperty(dt)&&Kt(n,o,dt,null,c,ve);for(me in c)if(ve=c[me],we=l[me],c.hasOwnProperty(me)&&ve!==we&&(ve!=null||we!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,o));break;default:Kt(n,o,me,ve,c,we)}return;default:if(Pu(o)){for(var Xt in l)ve=l[Xt],l.hasOwnProperty(Xt)&&ve!==void 0&&!c.hasOwnProperty(Xt)&&Fm(n,o,Xt,void 0,c,ve);for(Me in c)ve=c[Me],we=l[Me],!c.hasOwnProperty(Me)||ve===we||ve===void 0&&we===void 0||Fm(n,o,Me,ve,c,we);return}}for(var ue in l)ve=l[ue],l.hasOwnProperty(ue)&&ve!=null&&!c.hasOwnProperty(ue)&&Kt(n,o,ue,null,c,ve);for(Pe in c)ve=c[Pe],we=l[Pe],!c.hasOwnProperty(Pe)||ve===we||ve==null&&we==null||Kt(n,o,Pe,ve,c,we)}function Rx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function XO(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],b=m.transferSize,M=m.initiatorType,z=m.duration;if(b&&z&&Rx(M)){for(M=0,z=m.responseEnd,c+=1;c<l.length;c++){var Y=l[c],me=Y.startTime;if(me>z)break;var Me=Y.transferSize,Pe=Y.initiatorType;Me&&Rx(Pe)&&(Y=Y.responseEnd,M+=Me*(Y<z?1:(z-me)/(Y-me)))}if(--c,o+=8*(b+M)/(m.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var km=null,Lm=null;function mf(n){return n.nodeType===9?n:n.ownerDocument}function Px(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dx(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function Bm(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Um=null;function WO(){var n=window.event;return n&&n.type==="popstate"?n===Um?!1:(Um=n,!0):(Um=null,!1)}var Ax=typeof setTimeout=="function"?setTimeout:void 0,QO=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,ZO=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(n){return Nx.resolve(null).then(n).catch(JO)}:Ax;function JO(n){setTimeout(function(){throw n})}function Pa(n){return n==="head"}function Ix(n,o){var l=o,c=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){n.removeChild(m),Fl(o);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")yc(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,yc(l);for(var b=l.firstChild;b;){var M=b.nextSibling,z=b.nodeName;b[Bt]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=M}}else l==="body"&&yc(n.ownerDocument.body);l=m}while(l);Fl(o)}function jx(n,o){var l=n;n=0;do{var c=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=c}while(l)}function $m(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":$m(l),un(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function eM(n,o,l,c){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Bt])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=bi(n.nextSibling),n===null)break}return null}function tM(n,o,l){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=bi(n.nextSibling),n===null))return null;return n}function zx(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=bi(n.nextSibling),n===null))return null;return n}function Hm(n){return n.data==="$?"||n.data==="$~"}function qm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function nM(n,o){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||l.readyState!=="loading")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function bi(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var Gm=null;function Fx(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(o===0)return bi(n.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}n=n.nextSibling}return null}function kx(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return n;o--}else l!=="/$"&&l!=="/&"||o++}n=n.previousSibling}return null}function Lx(n,o,l){switch(o=mf(l),n){case"html":if(n=o.documentElement,!n)throw Error(i(452));return n;case"head":if(n=o.head,!n)throw Error(i(453));return n;case"body":if(n=o.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function yc(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);un(n)}var xi=new Map,Bx=new Set;function gf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Lo=X.d;X.d={f:rM,r:iM,D:oM,C:aM,L:sM,m:lM,X:cM,S:uM,M:dM};function rM(){var n=Lo.f(),o=sf();return n||o}function iM(n){var o=at(n);o!==null&&o.tag===5&&o.type==="form"?rb(o):Lo.r(n)}var Il=typeof document>"u"?null:document;function Ux(n,o,l){var c=Il;if(c&&typeof o=="string"&&o){var m=Qn(o);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Bx.has(m)||(Bx.add(m),n={rel:n,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),ur(o,"link",n),en(o),c.head.appendChild(o)))}}function oM(n){Lo.D(n),Ux("dns-prefetch",n,null)}function aM(n,o){Lo.C(n,o),Ux("preconnect",n,o)}function sM(n,o,l){Lo.L(n,o,l);var c=Il;if(c&&n&&o){var m='link[rel="preload"][as="'+Qn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Qn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Qn(l.imageSizes)+'"]')):m+='[href="'+Qn(n)+'"]';var b=m;switch(o){case"style":b=jl(n);break;case"script":b=zl(n)}xi.has(b)||(n=y({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:n,as:o},l),xi.set(b,n),c.querySelector(m)!==null||o==="style"&&c.querySelector(vc(b))||o==="script"&&c.querySelector(bc(b))||(o=c.createElement("link"),ur(o,"link",n),en(o),c.head.appendChild(o)))}}function lM(n,o){Lo.m(n,o);var l=Il;if(l&&n){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Qn(c)+'"][href="'+Qn(n)+'"]',b=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=zl(n)}if(!xi.has(b)&&(n=y({rel:"modulepreload",href:n},o),xi.set(b,n),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bc(b)))return}c=l.createElement("link"),ur(c,"link",n),en(c),l.head.appendChild(c)}}}function uM(n,o,l){Lo.S(n,o,l);var c=Il;if(c&&n){var m=yn(c).hoistableStyles,b=jl(n);o=o||"default";var M=m.get(b);if(!M){var z={loading:0,preload:null};if(M=c.querySelector(vc(b)))z.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":o},l),(l=xi.get(b))&&Vm(n,l);var Y=M=c.createElement("link");en(Y),ur(Y,"link",n),Y._p=new Promise(function(me,Me){Y.onload=me,Y.onerror=Me}),Y.addEventListener("load",function(){z.loading|=1}),Y.addEventListener("error",function(){z.loading|=2}),z.loading|=4,yf(M,o,c)}M={type:"stylesheet",instance:M,count:1,state:z},m.set(b,M)}}}function cM(n,o){Lo.X(n,o);var l=Il;if(l&&n){var c=yn(l).hoistableScripts,m=zl(n),b=c.get(m);b||(b=l.querySelector(bc(m)),b||(n=y({src:n,async:!0},o),(o=xi.get(m))&&Ym(n,o),b=l.createElement("script"),en(b),ur(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function dM(n,o){Lo.M(n,o);var l=Il;if(l&&n){var c=yn(l).hoistableScripts,m=zl(n),b=c.get(m);b||(b=l.querySelector(bc(m)),b||(n=y({src:n,async:!0,type:"module"},o),(o=xi.get(m))&&Ym(n,o),b=l.createElement("script"),en(b),ur(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function $x(n,o,l,c){var m=(m=qe.current)?gf(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=jl(l.href),l=yn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=jl(l.href);var b=yn(m).hoistableStyles,M=b.get(n);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,M),(b=m.querySelector(vc(n)))&&!b._p&&(M.instance=b,M.state.loading=5),xi.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},xi.set(n,l),b||fM(m,n,l,M.state))),o&&c===null)throw Error(i(528,""));return M}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zl(l),l=yn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function jl(n){return'href="'+Qn(n)+'"'}function vc(n){return'link[rel="stylesheet"]['+n+"]"}function Hx(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function fM(n,o,l,c){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=n.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),ur(o,"link",l),en(o),n.head.appendChild(o))}function zl(n){return'[src="'+Qn(n)+'"]'}function bc(n){return"script[async]"+n}function qx(n,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=n.querySelector('style[data-href~="'+Qn(l.href)+'"]');if(c)return o.instance=c,en(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),en(c),ur(c,"style",m),yf(c,l.precedence,n),o.instance=c;case"stylesheet":m=jl(l.href);var b=n.querySelector(vc(m));if(b)return o.state.loading|=4,o.instance=b,en(b),b;c=Hx(l),(m=xi.get(m))&&Vm(c,m),b=(n.ownerDocument||n).createElement("link"),en(b);var M=b;return M._p=new Promise(function(z,Y){M.onload=z,M.onerror=Y}),ur(b,"link",c),o.state.loading|=4,yf(b,l.precedence,n),o.instance=b;case"script":return b=zl(l.src),(m=n.querySelector(bc(b)))?(o.instance=m,en(m),m):(c=l,(m=xi.get(b))&&(c=y({},l),Ym(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),en(m),ur(m,"link",c),n.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,yf(c,l.precedence,n));return o.instance}function yf(n,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,b=m,M=0;M<c.length;M++){var z=c[M];if(z.dataset.precedence===o)b=z;else if(b!==m)break}b?b.parentNode.insertBefore(n,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(n,o.firstChild))}function Vm(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Ym(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var vf=null;function Gx(n,o,l){if(vf===null){var c=new Map,m=vf=new Map;m.set(l,c)}else m=vf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var b=l[m];if(!(b[Bt]||b[He]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(o)||"";M=n+M;var z=c.get(M);z?z.push(b):c.set(M,[b])}}return c}function Vx(n,o,l){n=n.ownerDocument||n,n.head.insertBefore(l,o==="title"?n.querySelector("head > title"):null)}function hM(n,o,l){if(l===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(n=o.disabled,typeof o.precedence=="string"&&n==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Yx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function pM(n,o,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=jl(c.href),b=o.querySelector(vc(m));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=bf.bind(n),o.then(n,n)),l.state.loading|=4,l.instance=b,en(b);return}b=o.ownerDocument||o,c=Hx(c),(m=xi.get(m))&&Vm(c,m),b=b.createElement("link"),en(b);var M=b;M._p=new Promise(function(z,Y){M.onload=z,M.onerror=Y}),ur(b,"link",c),l.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=bf.bind(n),o.addEventListener("load",l),o.addEventListener("error",l))}}var Km=0;function mM(n,o){return n.stylesheets&&n.count===0&&wf(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var c=setTimeout(function(){if(n.stylesheets&&wf(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+o);0<n.imgBytes&&Km===0&&(Km=62500*XO());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&wf(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>Km?50:800)+o);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function bf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var xf=null;function wf(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,xf=new Map,o.forEach(gM,n),xf=null,bf.call(n))}function gM(n,o){if(!(o.state.loading&4)){var l=xf.get(n);if(l)var c=l.get(null);else{l=new Map,xf.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var M=m[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),c=M)}c&&l.set(null,c)}m=o.instance,M=m.getAttribute("data-precedence"),b=l.get(M)||c,b===c&&l.set(null,m),l.set(M,m),this.count++,c=bf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),b?b.parentNode.insertBefore(m,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),o.state.loading|=4}}var xc={$$typeof:I,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function yM(n,o,l,c,m,b,M,z,Y){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Kx(n,o,l,c,m,b,M,z,Y,me,Me,Pe){return n=new yM(n,o,l,M,Y,me,Me,Pe,z),o=1,b===!0&&(o|=24),b=Wr(3,null,null,o),n.current=b,b.stateNode=n,o=Mp(),o.refCount++,n.pooledCache=o,o.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:o},Dp(b),n}function Xx(n){return n?(n=Ir,n):Ir}function Wx(n,o,l,c,m,b){m=Xx(m),c.context===null?c.context=m:c.pendingContext=m,c=ba(o),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=xa(n,c,o),l!==null&&(Lr(l,n,o),Zu(l,n,o))}function Qx(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Xm(n,o){Qx(n,o),(n=n.alternate)&&Qx(n,o)}function Zx(n){if(n.tag===13||n.tag===31){var o=vn(n,67108864);o!==null&&Lr(o,n,67108864),Xm(n,67108864)}}function Jx(n){if(n.tag===13||n.tag===31){var o=ti();o=be(o);var l=vn(n,o);l!==null&&Lr(l,n,o),Xm(n,o)}}var Sf=!0;function vM(n,o,l,c){var m=B.T;B.T=null;var b=X.p;try{X.p=2,Wm(n,o,l,c)}finally{X.p=b,B.T=m}}function bM(n,o,l,c){var m=B.T;B.T=null;var b=X.p;try{X.p=8,Wm(n,o,l,c)}finally{X.p=b,B.T=m}}function Wm(n,o,l,c){if(Sf){var m=Qm(c);if(m===null)zm(n,o,c,Cf,l),tw(n,c);else if(wM(m,n,o,l,c))c.stopPropagation();else if(tw(n,c),o&4&&-1<xM.indexOf(n)){for(;m!==null;){var b=at(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=ir(b.pendingLanes);if(M!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;M;){var Y=1<<31-Ge(M);z.entanglements[1]|=Y,M&=~Y}eo(b),($t&6)===0&&(of=Lt()+500,pc(0))}}break;case 31:case 13:z=vn(b,2),z!==null&&Lr(z,b,2),sf(),Xm(b,2)}if(b=Qm(c),b===null&&zm(n,o,c,Cf,l),b===m)break;m=b}m!==null&&c.stopPropagation()}else zm(n,o,c,null,l)}}function Qm(n){return n=Qs(n),Zm(n)}var Cf=null;function Zm(n){if(Cf=null,n=an(n),n!==null){var o=s(n);if(o===null)n=null;else{var l=o.tag;if(l===13){if(n=u(o),n!==null)return n;n=null}else if(l===31){if(n=d(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Cf=n,null}function ew(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ht()){case Gn:return 2;case lt:return 8;case wn:case _n:return 32;case Rn:return 268435456;default:return 32}default:return 32}}var Jm=!1,Da=null,Aa=null,Na=null,wc=new Map,Sc=new Map,Ia=[],xM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function tw(n,o){switch(n){case"focusin":case"focusout":Da=null;break;case"dragenter":case"dragleave":Aa=null;break;case"mouseover":case"mouseout":Na=null;break;case"pointerover":case"pointerout":wc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(o.pointerId)}}function Cc(n,o,l,c,m,b){return n===null||n.nativeEvent!==b?(n={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[m]},o!==null&&(o=at(o),o!==null&&Zx(o)),n):(n.eventSystemFlags|=c,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function wM(n,o,l,c,m){switch(o){case"focusin":return Da=Cc(Da,n,o,l,c,m),!0;case"dragenter":return Aa=Cc(Aa,n,o,l,c,m),!0;case"mouseover":return Na=Cc(Na,n,o,l,c,m),!0;case"pointerover":var b=m.pointerId;return wc.set(b,Cc(wc.get(b)||null,n,o,l,c,m)),!0;case"gotpointercapture":return b=m.pointerId,Sc.set(b,Cc(Sc.get(b)||null,n,o,l,c,m)),!0}return!1}function nw(n){var o=an(n.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){n.blockedOn=o,tt(n.priority,function(){Jx(l)});return}}else if(o===31){if(o=d(l),o!==null){n.blockedOn=o,tt(n.priority,function(){Jx(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _f(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=Qm(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);di=c,l.target.dispatchEvent(c),di=null}else return o=at(l),o!==null&&Zx(o),n.blockedOn=l,!1;o.shift()}return!0}function rw(n,o,l){_f(n)&&l.delete(o)}function SM(){Jm=!1,Da!==null&&_f(Da)&&(Da=null),Aa!==null&&_f(Aa)&&(Aa=null),Na!==null&&_f(Na)&&(Na=null),wc.forEach(rw),Sc.forEach(rw)}function Ef(n,o){n.blockedOn===o&&(n.blockedOn=null,Jm||(Jm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,SM)))}var Of=null;function iw(n){Of!==n&&(Of=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Of===n&&(Of=null);for(var o=0;o<n.length;o+=3){var l=n[o],c=n[o+1],m=n[o+2];if(typeof c!="function"){if(Zm(c||l)===null)continue;break}var b=at(l);b!==null&&(n.splice(o,3),o-=3,Qp(b,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Fl(n){function o(Y){return Ef(Y,n)}Da!==null&&Ef(Da,n),Aa!==null&&Ef(Aa,n),Na!==null&&Ef(Na,n),wc.forEach(o),Sc.forEach(o);for(var l=0;l<Ia.length;l++){var c=Ia[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ia.length&&(l=Ia[0],l.blockedOn===null);)nw(l),l.blockedOn===null&&Ia.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],b=l[c+1],M=m[Ke]||null;if(typeof b=="function")M||iw(l);else if(M){var z=null;if(b&&b.hasAttribute("formAction")){if(m=b,M=b[Ke]||null)z=M.formAction;else if(Zm(m)!==null)continue}else z=M.action;typeof z=="function"?l[c+1]=z:(l.splice(c,3),c-=3),iw(l)}}}function ow(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return m=M})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function eg(n){this._internalRoot=n}Mf.prototype.render=eg.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=ti();Wx(l,c,n,o,null,null)},Mf.prototype.unmount=eg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Wx(n.current,2,null,n,null,null),sf(),o[Qe]=null}};function Mf(n){this._internalRoot=n}Mf.prototype.unstable_scheduleHydration=function(n){if(n){var o=ke();n={blockedOn:null,target:n,priority:o};for(var l=0;l<Ia.length&&o!==0&&o<Ia[l].priority;l++);Ia.splice(l,0,n),l===0&&nw(n)}};var aw=t.version;if(aw!=="19.2.3")throw Error(i(527,aw,"19.2.3"));X.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(o),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var CM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tf.isDisabled&&Tf.supportsFiber)try{Pr=Tf.inject(CM),qt=Tf}catch{}}return Ec.createRoot=function(n,o){if(!a(n))throw Error(i(299));var l=!1,c="",m=hb,b=pb,M=mb;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=Kx(n,1,!1,null,null,l,c,null,m,b,M,ow),n[Qe]=o.current,jm(n),new eg(o)},Ec.hydrateRoot=function(n,o,l){if(!a(n))throw Error(i(299));var c=!1,m="",b=hb,M=pb,z=mb,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.formState!==void 0&&(Y=l.formState)),o=Kx(n,1,!0,o,l??null,c,m,Y,b,M,z,ow),o.context=Xx(null),l=o.current,c=ti(),c=be(c),m=ba(c),m.callback=null,xa(l,m,c),l=c,o.current.lanes=l,wr(o,l),eo(o),n[Qe]=o.current,jm(n),new Mf(o)},Ec.version="19.2.3",Ec}var gw;function IM(){if(gw)return rg.exports;gw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rg.exports=NM(),rg.exports}var jM=IM(),no=function(){return no=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},no.apply(this,arguments)};function U1(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function zM(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,s;i<a;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var Yf="right-scroll-bar-position",Kf="width-before-scroll-bar",FM="with-scroll-bars-hidden",kM="--removed-body-scroll-bar-size";function sg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function LM(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var a=r.value;a!==i&&(r.value=i,r.callback(i,a))}}}})[0];return r.callback=t,r.facade}var BM=typeof window<"u"?C.useLayoutEffect:C.useEffect,yw=new WeakMap;function UM(e,t){var r=LM(null,function(i){return e.forEach(function(a){return sg(a,i)})});return BM(function(){var i=yw.get(r);if(i){var a=new Set(i),s=new Set(e),u=r.current;a.forEach(function(d){s.has(d)||sg(d,null)}),s.forEach(function(d){a.has(d)||sg(d,u)})}yw.set(r,e)},[e]),r}function $M(e){return e}function HM(e,t){t===void 0&&(t=$M);var r=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var u=t(s,i);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(s){for(i=!0;r.length;){var u=r;r=[],u.forEach(s)}r={push:function(d){return s(d)},filter:function(){return r}}},assignMedium:function(s){i=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(s),u=r}var f=function(){var g=u;u=[],g.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),r}}}};return a}function qM(e){e===void 0&&(e={});var t=HM(null);return t.options=no({async:!0,ssr:!1},e),t}var $1=function(e){var t=e.sideCar,r=U1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,no({},r))};$1.isSideCarExport=!0;function GM(e,t){return e.useMedium(t),$1}var H1=qM(),lg=function(){},Sh=C.forwardRef(function(e,t){var r=C.useRef(null),i=C.useState({onScrollCapture:lg,onWheelCapture:lg,onTouchMoveCapture:lg}),a=i[0],s=i[1],u=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,g=e.enabled,y=e.shards,x=e.sideCar,w=e.noRelative,_=e.noIsolation,E=e.inert,T=e.allowPinchZoom,N=e.as,D=N===void 0?"div":N,I=e.gapMode,F=U1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=x,V=UM([r,t]),A=no(no({},F),a);return C.createElement(C.Fragment,null,g&&C.createElement(k,{sideCar:H1,removeScrollBar:h,shards:y,noRelative:w,noIsolation:_,inert:E,setCallbacks:s,allowPinchZoom:!!T,lockRef:r,gapMode:I}),u?C.cloneElement(C.Children.only(d),no(no({},A),{ref:V})):C.createElement(D,no({},A,{className:f,ref:V}),d))});Sh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sh.classNames={fullWidth:Kf,zeroRight:Yf};var VM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function YM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=VM();return t&&e.setAttribute("nonce",t),e}function KM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function XM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var WM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=YM())&&(KM(t,r),XM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},QM=function(){var e=WM();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},q1=function(){var e=QM(),t=function(r){var i=r.styles,a=r.dynamic;return e(i,a),null};return t},ZM={left:0,top:0,right:0,gap:0},ug=function(e){return parseInt(e||"",10)||0},JM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[ug(r),ug(i),ug(a)]},eT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return ZM;var t=JM(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},tT=q1(),Zl="data-scroll-locked",nT=function(e,t,r,i){var a=e.left,s=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(FM,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Zl,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yf,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Kf,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Kf," .").concat(Kf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Zl,`] {
    `).concat(kM,": ").concat(d,`px;
  }
`)},vw=function(){var e=parseInt(document.body.getAttribute(Zl)||"0",10);return isFinite(e)?e:0},rT=function(){C.useEffect(function(){return document.body.setAttribute(Zl,(vw()+1).toString()),function(){var e=vw()-1;e<=0?document.body.removeAttribute(Zl):document.body.setAttribute(Zl,e.toString())}},[])},iT=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,a=i===void 0?"margin":i;rT();var s=C.useMemo(function(){return eT(a)},[a]);return C.createElement(tT,{styles:nT(s,!t,a,r?"":"!important")})},Lg=!1;if(typeof window<"u")try{var Rf=Object.defineProperty({},"passive",{get:function(){return Lg=!0,!0}});window.addEventListener("test",Rf,Rf),window.removeEventListener("test",Rf,Rf)}catch{Lg=!1}var kl=Lg?{passive:!1}:!1,oT=function(e){return e.tagName==="TEXTAREA"},G1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!oT(e)&&r[t]==="visible")},aT=function(e){return G1(e,"overflowY")},sT=function(e){return G1(e,"overflowX")},bw=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=V1(e,i);if(a){var s=Y1(e,i),u=s[1],d=s[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},lT=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},uT=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},V1=function(e,t){return e==="v"?aT(t):sT(t)},Y1=function(e,t){return e==="v"?lT(t):uT(t)},cT=function(e,t){return e==="h"&&t==="rtl"?-1:1},dT=function(e,t,r,i,a){var s=cT(e,window.getComputedStyle(t).direction),u=s*i,d=r.target,f=t.contains(d),h=!1,g=u>0,y=0,x=0;do{if(!d)break;var w=Y1(e,d),_=w[0],E=w[1],T=w[2],N=E-T-s*_;(_||N)&&V1(e,d)&&(y+=N,x+=_);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(h=!0),h},Pf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},xw=function(e){return[e.deltaX,e.deltaY]},ww=function(e){return e&&"current"in e?e.current:e},fT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},hT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},pT=0,Ll=[];function mT(e){var t=C.useRef([]),r=C.useRef([0,0]),i=C.useRef(),a=C.useState(pT++)[0],s=C.useState(q1)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var E=zM([e.lockRef.current],(e.shards||[]).map(ww),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=C.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var N=Pf(E),D=r.current,I="deltaX"in E?E.deltaX:D[0]-N[0],F="deltaY"in E?E.deltaY:D[1]-N[1],k,V=E.target,A=Math.abs(I)>Math.abs(F)?"h":"v";if("touches"in E&&A==="h"&&V.type==="range")return!1;var G=window.getSelection(),W=G&&G.anchorNode,le=W?W===V||W.contains(V):!1;if(le)return!1;var he=bw(A,V);if(!he)return!0;if(he?k=A:(k=A==="v"?"h":"v",he=bw(A,V)),!he)return!1;if(!i.current&&"changedTouches"in E&&(I||F)&&(i.current=k),!k)return!0;var de=i.current||k;return dT(de,T,E,de==="h"?I:F)},[]),f=C.useCallback(function(E){var T=E;if(!(!Ll.length||Ll[Ll.length-1]!==s)){var N="deltaY"in T?xw(T):Pf(T),D=t.current.filter(function(k){return k.name===T.type&&(k.target===T.target||T.target===k.shadowParent)&&fT(k.delta,N)})[0];if(D&&D.should){T.cancelable&&T.preventDefault();return}if(!D){var I=(u.current.shards||[]).map(ww).filter(Boolean).filter(function(k){return k.contains(T.target)}),F=I.length>0?d(T,I[0]):!u.current.noIsolation;F&&T.cancelable&&T.preventDefault()}}},[]),h=C.useCallback(function(E,T,N,D){var I={name:E,delta:T,target:N,should:D,shadowParent:gT(N)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(F){return F!==I})},1)},[]),g=C.useCallback(function(E){r.current=Pf(E),i.current=void 0},[]),y=C.useCallback(function(E){h(E.type,xw(E),E.target,d(E,e.lockRef.current))},[]),x=C.useCallback(function(E){h(E.type,Pf(E),E.target,d(E,e.lockRef.current))},[]);C.useEffect(function(){return Ll.push(s),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",f,kl),document.addEventListener("touchmove",f,kl),document.addEventListener("touchstart",g,kl),function(){Ll=Ll.filter(function(E){return E!==s}),document.removeEventListener("wheel",f,kl),document.removeEventListener("touchmove",f,kl),document.removeEventListener("touchstart",g,kl)}},[]);var w=e.removeScrollBar,_=e.inert;return C.createElement(C.Fragment,null,_?C.createElement(s,{styles:hT(a)}):null,w?C.createElement(iT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function gT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const yT=GM(H1,mT);var js=C.forwardRef(function(e,t){return C.createElement(Sh,no({},e,{ref:t,sideCar:yT}))});js.classNames=Sh.classNames;function dr(e){return Object.keys(e)}function cg(e){return e&&typeof e=="object"&&!Array.isArray(e)}function My(e,t){const r={...e},i=t;return cg(e)&&cg(t)&&Object.keys(t).forEach(a=>{cg(i[a])&&a in e?r[a]=My(r[a],i[a]):r[a]=i[a]}),r}function vT(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function bT(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Bg(e){const t=bT(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function Sw(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function K1(e,{shouldScale:t=!1}={}){function r(i){if(i===0||i==="0")return`0${e}`;if(typeof i=="number"){const a=`${i/16}${e}`;return t?Sw(a):a}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(s=>r(s)).join(",");if(i.includes(" "))return i.split(" ").map(s=>r(s)).join(" ");const a=i.replace("px","");if(!Number.isNaN(Number(a))){const s=`${Number(a)/16}${e}`;return t?Sw(s):s}}return i}return r}const _e=K1("rem",{shouldScale:!0}),rh=K1("em");function Ty(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function X1(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(i=>t.test(i))}return!1}function W1(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==C.Fragment:!1}function co(e){const t=C.createContext(null);return[({children:a,value:s})=>R.jsx(t.Provider,{value:s,children:a}),()=>{const a=C.useContext(t);if(a===null)throw new Error(e);return a}]}function hu(e=null){const t=C.createContext(e);return[({children:a,value:s})=>R.jsx(t.Provider,{value:s,children:a}),()=>C.useContext(t)]}function Cw(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function Ug(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function xT(e,t,r){for(let i=e-1;i>=0;i-=1)if(!t[i].disabled)return i;if(r){for(let i=t.length-1;i>-1;i-=1)if(!t[i].disabled)return i}return e}function wT(e,t,r){for(let i=e+1;i<t.length;i+=1)if(!t[i].disabled)return i;if(r){for(let i=0;i<t.length;i+=1)if(!t[i].disabled)return i}return e}function ST(e,t,r){return Ug(e,r)===Ug(t,r)}function CT({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:i=!0,activateOnFocus:a=!1,dir:s="rtl",orientation:u}){return d=>{r?.(d);const f=Array.from(Ug(d.currentTarget,e)?.querySelectorAll(t)||[]).filter(x=>ST(d.currentTarget,x,e)),h=f.findIndex(x=>d.currentTarget===x),g=wT(h,f,i),y=xT(h,f,i);switch(d.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{d.stopPropagation(),d.preventDefault(),f[y].focus(),a&&f[y].click();break}case"ArrowDown":{d.stopPropagation(),d.preventDefault(),f[g].focus(),a&&f[g].click();break}case"Home":{d.stopPropagation(),d.preventDefault(),!f[0].disabled&&f[0].focus();break}case"End":{d.stopPropagation(),d.preventDefault();const x=f.length-1;!f[x].disabled&&f[x].focus();break}}}}const _T={app:100,modal:200,popover:300,overlay:400,max:9999};function Hi(e){return _T[e]}const ET=()=>{};function OT(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||ET:r=>{r.key==="Escape"&&(e(r),t.onTrigger?.())}}function Ft(e,t="size",r=!0){if(e!==void 0)return X1(e)?r?_e(e):e:`var(--${t}-${e})`}function pu(e){return Ft(e,"mantine-spacing")}function An(e){return e===void 0?"var(--mantine-radius-default)":Ft(e,"mantine-radius")}function vr(e){return Ft(e,"mantine-font-size")}function MT(e){return Ft(e,"mantine-line-height",!1)}function Ry(e){if(e)return Ft(e,"mantine-shadow",!1)}function Py(e,t){return e in t?Bg(t[e]):Bg(e)}function _w(e,t){const r=e.map(i=>({value:i,px:Py(i,t)}));return r.sort((i,a)=>i.px-a.px),r}function Q1(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Ts(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>((...r)=>t.current?.(...r)),[])}function Ch(e,t){const{delay:r,flushOnUnmount:i,leading:a}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,s=Ts(e),u=C.useRef(0),d=C.useMemo(()=>{const f=Object.assign((...h)=>{window.clearTimeout(u.current);const g=f._isFirstCall;f._isFirstCall=!1;function y(){window.clearTimeout(u.current),u.current=0,f._isFirstCall=!0}if(a&&g){s(...h);const _=()=>{y()},E=()=>{u.current!==0&&(y(),s(...h))},T=()=>{y()};f.flush=E,f.cancel=T,u.current=window.setTimeout(_,r);return}if(a&&!g){const _=()=>{u.current!==0&&(y(),s(...h))},E=()=>{y()};f.flush=_,f.cancel=E;const T=()=>{y()};u.current=window.setTimeout(T,r);return}const x=()=>{u.current!==0&&(y(),s(...h))},w=()=>{y()};f.flush=x,f.cancel=w,u.current=window.setTimeout(x,r)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return f},[s,r,a]);return C.useEffect(()=>()=>{i?d.flush():d.cancel()},[d,i]),d}const TT=["mousedown","touchstart"];function RT(e,t,r){const i=C.useRef(null),a=t||TT;return C.useEffect(()=>{const s=u=>{const{target:d}=u??{};if(Array.isArray(r)){const f=!document.body.contains(d)&&d?.tagName!=="HTML";r.every(g=>!!g&&!u.composedPath().includes(g))&&!f&&e(u)}else i.current&&!i.current.contains(d)&&e(u)};return a.forEach(u=>document.addEventListener(u,s)),()=>{a.forEach(u=>document.removeEventListener(u,s))}},[i,e,r]),i}function PT(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function DT(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function AT(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[i,a]=C.useState(r?t:DT(e));return C.useEffect(()=>{try{const s=window.matchMedia(e);return a(s.matches),PT(s,u=>a(u.matches))}catch{return}},[e]),i||!1}const Ka=typeof document<"u"?C.useLayoutEffect:C.useEffect;function zs(e,t){const r=C.useRef(!1);C.useEffect(()=>()=>{r.current=!1},[]),C.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function Z1({opened:e,shouldReturnFocus:t=!0}){const r=C.useRef(null),i=()=>{r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&r.current?.focus({preventScroll:!0})};return zs(()=>{let a=-1;const s=u=>{u.key==="Tab"&&window.clearTimeout(a)};return document.addEventListener("keydown",s),e?r.current=document.activeElement:t&&(a=window.setTimeout(i,10)),()=>{window.clearTimeout(a),document.removeEventListener("keydown",s)}},[e,t]),i}const NT=/input|select|textarea|button|object/,J1="a, input, select, textarea, button, object, [tabindex]";function IT(e){return e.style.display==="none"}function jT(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(IT(r))return!1;r=r.parentNode}return!0}function eC(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function $g(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(eC(e));return(NT.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&jT(e)}function tC(e){const t=eC(e);return(Number.isNaN(t)||t>=0)&&$g(e)}function zT(e){return Array.from(e.querySelectorAll(J1)).filter(tC)}function FT(e,t){const r=zT(e);if(!r.length){t.preventDefault();return}const i=r[t.shiftKey?0:r.length-1],a=e.getRootNode();let s=i===a.activeElement||e===a.activeElement;const u=a.activeElement;if(u.tagName==="INPUT"&&u.getAttribute("type")==="radio"&&(s=r.filter(g=>g.getAttribute("type")==="radio"&&g.getAttribute("name")===u.getAttribute("name")).includes(i)),!s)return;t.preventDefault();const f=r[t.shiftKey?r.length-1:0];f&&f.focus()}function kT(e=!0){const t=C.useRef(null),r=a=>{let s=a.querySelector("[data-autofocus]");if(!s){const u=Array.from(a.querySelectorAll(J1));s=u.find(tC)||u.find($g)||null,!s&&$g(a)&&(s=a)}s&&s.focus({preventScroll:!0})},i=C.useCallback(a=>{e&&a!==null&&t.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&r(a)}),t.current=a):t.current=null)},[e]);return C.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const a=s=>{s.key==="Tab"&&t.current&&FT(t.current,s)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e]),i}const LT=e=>(e+1)%1e6;function BT(){const[,e]=C.useReducer(LT,0);return e}const UT=Kn.useId||(()=>{});function $T(){const e=UT();return e?`mantine-${e.replace(/:/g,"")}`:""}function Oi(e){const t=$T(),[r,i]=C.useState(t);return Ka(()=>{i(Q1())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function ih(e,t,r){C.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Hg(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function nC(...e){const t=new Map;return r=>{if(e.forEach(i=>{const a=Hg(i,r);a&&t.set(i,a)}),t.size>0)return()=>{e.forEach(i=>{const a=t.get(i);a&&typeof a=="function"?a():Hg(i,null)}),t.clear()}}}function Gr(...e){return C.useCallback(nC(...e),e)}function Ga({value:e,defaultValue:t,finalValue:r,onChange:i=()=>{}}){const[a,s]=C.useState(t!==void 0?t:r),u=(d,...f)=>{s(d),i?.(d,...f)};return e!==void 0?[e,i,!0]:[a,u,!1]}function _h(e,t){return AT("(prefers-reduced-motion: reduce)",e,t)}function rC(e=!1,t={}){const[r,i]=C.useState(e),a=C.useCallback(()=>{i(d=>d||(t.onOpen?.(),!0))},[t.onOpen]),s=C.useCallback(()=>{i(d=>d&&(t.onClose?.(),!1))},[t.onClose]),u=C.useCallback(()=>{r?s():a()},[s,a,r]);return[r,{open:a,close:s,toggle:u}]}function Df(){if(typeof navigator>"u")return{};const e=navigator,t=e.connection||e.mozConnection||e.webkitConnection;return t?{downlink:t?.downlink,downlinkMax:t?.downlinkMax,effectiveType:t?.effectiveType,rtt:t?.rtt,saveData:t?.saveData,type:t?.type}:{}}function HT(){const[e,t]=C.useState({online:!0}),r=C.useCallback(()=>t(i=>({...i,...Df()})),[]);return ih("online",()=>t({online:!0,...Df()})),ih("offline",()=>t({online:!1,...Df()})),C.useEffect(()=>{const i=navigator;if(i.connection)return t({online:i.onLine,...Df()}),i.connection.addEventListener("change",r),()=>i.connection.removeEventListener("change",r);typeof i.onLine=="boolean"&&t(a=>({...a,online:i.onLine}))},[]),e}function qT(e){const t=C.useRef(void 0);return C.useEffect(()=>{t.current=e},[e]),t.current}function GT(e,t,r){const i=C.useRef(null),a=C.useRef(null);return C.useEffect(()=>{const s=typeof r=="function"?r():r;return(s||a.current)&&(i.current=new MutationObserver(e),i.current.observe(s||a.current,t)),()=>{i.current?.disconnect()}},[e,t]),a}function Eh(e){const t=Kn.version;return typeof Kn.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function Xf(e,t=document){const r=t.querySelector(e);if(r)return r;const i=t.querySelectorAll("*");for(let a=0;a<i.length;a+=1){const s=i[a];if(s.shadowRoot){const u=Xf(e,s.shadowRoot);if(u)return u}}return null}function Fa(e,t=document){const r=[],i=t.querySelectorAll(e);r.push(...Array.from(i));const a=t.querySelectorAll("*");for(let s=0;s<a.length;s+=1){const u=a[s];if(u.shadowRoot){const d=Fa(e,u.shadowRoot);r.push(...d)}}return r}function za(e){if(!e)return document;const t=e.getRootNode();return t instanceof ShadowRoot||t instanceof Document?t:document}function mu(e){const t=C.Children.toArray(e);return t.length!==1||!W1(t[0])?null:t[0]}function iC(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=iC(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function $n(){for(var e,t,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=iC(e))&&(i&&(i+=" "),i+=t);return i}const VT={};function YT(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([i,a])=>{t[i]?t[i]=$n(t[i],a):t[i]=a})}),t}function Oh({theme:e,classNames:t,props:r,stylesCtx:i}){const s=(Array.isArray(t)?t:[t]).map(u=>typeof u=="function"?u(e,r,i):u||VT);return YT(s)}function oh({theme:e,styles:t,props:r,stylesCtx:i}){return(Array.isArray(t)?t:[t]).reduce((s,u)=>typeof u=="function"?{...s,...u(e,r,i)}:{...s,...u},{})}const oC=C.createContext(null);function Xo(){const e=C.useContext(oC);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function KT(){return Xo().cssVariablesResolver}function XT(){return Xo().classNamesPrefix}function Dy(){return Xo().getStyleNonce}function WT(){return Xo().withStaticClasses}function QT(){return Xo().headless}function ZT(){return Xo().stylesTransform?.sx}function JT(){return Xo().stylesTransform?.styles}function Mh(){return Xo().env||"default"}function eR(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function tR(e){let t=e.replace("#","");if(t.length===3){const u=t.split("");t=[u[0],u[0],u[1],u[1],u[2],u[2]].join("")}if(t.length===8){const u=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:u}}const r=parseInt(t,16),i=r>>16&255,a=r>>8&255,s=r&255;return{r:i,g:a,b:s,a:1}}function nR(e){const[t,r,i,a]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:i,a:a===void 0?1:a}}function rR(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const i=parseInt(r[1],10),a=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,u=r[5]?parseFloat(r[5]):void 0,d=(1-Math.abs(2*s-1))*a,f=i/60,h=d*(1-Math.abs(f%2-1)),g=s-d/2;let y,x,w;return f>=0&&f<1?(y=d,x=h,w=0):f>=1&&f<2?(y=h,x=d,w=0):f>=2&&f<3?(y=0,x=d,w=h):f>=3&&f<4?(y=0,x=h,w=d):f>=4&&f<5?(y=h,x=0,w=d):(y=d,x=0,w=h),{r:Math.round((y+g)*255),g:Math.round((x+g)*255),b:Math.round((w+g)*255),a:u||1}}function Ay(e){return eR(e)?tR(e):e.startsWith("rgb")?nR(e):e.startsWith("hsl")?rR(e):{r:0,g:0,b:0,a:1}}function Af(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:i,b:a,a:s}=Ay(e),u=1-t,d=f=>Math.round(f*u);return`rgba(${d(r)}, ${d(i)}, ${d(a)}, ${s})`}function Vc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function dg(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function iR(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function oR(e){if(e.startsWith("oklch("))return(iR(e)||0)/100;const{r:t,g:r,b:i}=Ay(e),a=t/255,s=r/255,u=i/255,d=dg(a),f=dg(s),h=dg(u);return .2126*d+.7152*f+.0722*h}function Oc(e,t=.179){return e.startsWith("var(")?!1:oR(e)>t}function Bs({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Oc(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Oc(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Oc(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[i,a]=e.split("."),s=a?Number(a):void 0,u=i in t.colors;if(u){const d=s!==void 0?t.colors[i][s]:t.colors[i][Vc(t,r||"light")];return{color:i,value:d,shade:s,isThemeColor:u,isLight:Oc(d,t.luminanceThreshold),variable:a?`--mantine-color-${i}-${s}`:`--mantine-color-${i}-filled`}}return{color:e,value:e,isThemeColor:u,isLight:Oc(e,t.luminanceThreshold),shade:s,variable:void 0}}function ai(e,t){const r=Bs({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function qg(e,t){const r={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},i=ai(r.from,t),a=ai(r.to,t);return`linear-gradient(${r.deg}deg, ${i} 0%, ${a} 100%)`}function to(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:i,b:a}=Ay(e);return`rgba(${r}, ${i}, ${a}, ${t})`}const Bl=to,aR=({color:e,theme:t,variant:r,gradient:i,autoContrast:a})=>{const s=Bs({color:e,theme:t}),u=typeof a=="boolean"?a:t.autoContrast;if(r==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(r==="filled"){const d=u&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:d,border:`${_e(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:d,border:`${_e(1)} solid transparent`}:{background:e,hover:Af(e,.1),color:d,border:`${_e(1)} solid transparent`}}if(r==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const d=t.colors[s.color][s.shade];return{background:to(d,.1),hover:to(d,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:to(e,.1),hover:to(e,.12),color:e,border:`${_e(1)} solid transparent`}}if(r==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${_e(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:to(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${_e(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:to(e,.05),color:e,border:`${_e(1)} solid ${e}`};if(r==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const d=t.colors[s.color][s.shade];return{background:"transparent",hover:to(d,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:"transparent",hover:to(e,.12),color:e,border:`${_e(1)} solid transparent`}}return r==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${_e(1)} solid transparent`}:r==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:Af(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Af(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Af(t.white,.01),color:e,border:`${_e(1)} solid transparent`}:r==="gradient"?{background:qg(i,t),hover:qg(i,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${_e(1)} solid var(--mantine-color-default-border)`}:{}},sR={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Ew="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Ny={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:sR,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:aR,autoContrast:!1,luminanceThreshold:.3,fontFamily:Ew,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Ew,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:_e(34),lineHeight:"1.3"},h2:{fontSize:_e(26),lineHeight:"1.35"},h3:{fontSize:_e(22),lineHeight:"1.4"},h4:{fontSize:_e(18),lineHeight:"1.45"},h5:{fontSize:_e(16),lineHeight:"1.5"},h6:{fontSize:_e(14),lineHeight:"1.5"}}},fontSizes:{xs:_e(12),sm:_e(14),md:_e(16),lg:_e(18),xl:_e(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:_e(2),sm:_e(4),md:_e(8),lg:_e(16),xl:_e(32)},spacing:{xs:_e(10),sm:_e(12),md:_e(16),lg:_e(20),xl:_e(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), 0 ${_e(1)} ${_e(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(10)} ${_e(15)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(7)} ${_e(7)} ${_e(-5)}`,md:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(20)} ${_e(25)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(10)} ${_e(10)} ${_e(-5)}`,lg:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(28)} ${_e(23)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(12)} ${_e(12)} ${_e(-7)}`,xl:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(36)} ${_e(28)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(17)} ${_e(17)} ${_e(-7)}`},other:{},components:{}};function Ow(e){return e==="auto"||e==="dark"||e==="light"}function lR({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const i=window.localStorage.getItem(e);return Ow(i)?i:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:r=>{t=i=>{i.storageArea===window.localStorage&&i.key===e&&Ow(i.newValue)&&r(i.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const uR="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Mw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function fg(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Tw(e){if(!(e.primaryColor in e.colors))throw new Error(uR);if(typeof e.primaryShade=="object"&&(!fg(e.primaryShade.dark)||!fg(e.primaryShade.light)))throw new Error(Mw);if(typeof e.primaryShade=="number"&&!fg(e.primaryShade))throw new Error(Mw)}function cR(e,t){if(!t)return Tw(e),e;const r=My(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(r.headings.fontFamily=t.fontFamily),Tw(r),r}const Iy=C.createContext(null),dR=()=>C.useContext(Iy)||Ny;function li(){const e=C.useContext(Iy);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function aC({theme:e,children:t,inherit:r=!0}){const i=dR(),a=C.useMemo(()=>cR(r?i:Ny,e),[e,i,r]);return R.jsx(Iy.Provider,{value:a,children:t})}aC.displayName="@mantine/core/MantineThemeProvider";function fR(){const e=li(),t=Dy(),r=dr(e.breakpoints).reduce((i,a)=>{const s=e.breakpoints[a].includes("px"),u=Bg(e.breakpoints[a]),d=s?`${u-.1}px`:rh(u-.1),f=s?`${u}px`:rh(u);return`${i}@media (max-width: ${d}) {.mantine-visible-from-${a} {display: none !important;}}@media (min-width: ${f}) {.mantine-hidden-from-${a} {display: none !important;}}`},"");return R.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:r}})}function hg(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function sC(e,t){const r=t?[t]:[":root",":host"],i=hg(e.variables),a=i?`${r.join(", ")}{${i}}`:"",s=hg(e.dark),u=hg(e.light),d=g=>r.map(y=>y===":host"?`${y}([data-mantine-color-scheme="${g}"])`:`${y}[data-mantine-color-scheme="${g}"]`).join(", "),f=s?`${d("dark")}{${s}}`:"",h=u?`${d("light")}{${u}}`:"";return`${a}

${f}

${h}`}function Th({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Bs({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Rw(e,t){return Th({color:e.colors[e.primaryColor][Vc(e,t)],theme:e,autoContrast:null})}function Nf({theme:e,color:t,colorScheme:r,name:i=t,withColorValues:a=!0}){if(!e.colors[t])return{};if(r==="light"){const d=Vc(e,"light"),f={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${d})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${d===9?8:d+1})`,[`--mantine-color-${i}-light`]:Bl(e.colors[t][d],.1),[`--mantine-color-${i}-light-hover`]:Bl(e.colors[t][d],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${d})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${d})`,[`--mantine-color-${i}-outline-hover`]:Bl(e.colors[t][d],.05)};return a?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...f}:f}const s=Vc(e,"dark"),u={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${s===9?8:s+1})`,[`--mantine-color-${i}-light`]:Bl(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${i}-light-hover`]:Bl(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(s-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(s-4,0)})`,[`--mantine-color-${i}-outline-hover`]:Bl(e.colors[t][Math.max(s-4,0)],.05)};return a?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...u}:u}function hR(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ul(e,t,r){dr(t).forEach(i=>Object.assign(e,{[`--mantine-${r}-${i}`]:t[i]}))}const lC=e=>{const t=Vc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:_e(e.defaultRadius),i={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":Rw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":Rw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Ul(i.variables,e.breakpoints,"breakpoint"),Ul(i.variables,e.spacing,"spacing"),Ul(i.variables,e.fontSizes,"font-size"),Ul(i.variables,e.lineHeights,"line-height"),Ul(i.variables,e.shadows,"shadow"),Ul(i.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,u)=>{i.variables[`--mantine-primary-color-${u}`]=`var(--mantine-color-${e.primaryColor}-${u})`}),dr(e.colors).forEach(s=>{const u=e.colors[s];if(hR(u)){Object.assign(i.light,Nf({theme:e,name:u.name,color:u.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,Nf({theme:e,name:u.name,color:u.dark,colorScheme:"dark",withColorValues:!0}));return}u.forEach((d,f)=>{i.variables[`--mantine-color-${s}-${f}`]=d}),Object.assign(i.light,Nf({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,Nf({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const a=e.headings.sizes;return dr(a).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=a[s].fontSize,i.variables[`--mantine-${s}-line-height`]=a[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=a[s].fontWeight||e.headings.fontWeight}),i};function pR({theme:e,generator:t}){const r=lC(e),i=t?.(e);return i?My(r,i):r}const pg=lC(Ny);function mR(e){const t={variables:{},light:{},dark:{}};return dr(e.variables).forEach(r=>{pg.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),dr(e.light).forEach(r=>{pg.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),dr(e.dark).forEach(r=>{pg.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function gR(e){return sC({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},e)}function uC({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=li(),i=Dy(),a=KT(),s=pR({theme:r,generator:a}),u=(e===void 0||e===":root"||e===":host")&&t,d=u?mR(s):s,f=sC(d,e);return f?R.jsx("style",{"data-mantine-styles":!0,nonce:i?.(),dangerouslySetInnerHTML:{__html:`${f}${u?"":gR(e)}`}}):null}uC.displayName="@mantine/CssVariables";function $l(e,t){const r=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,i=e!=="auto"?e:r?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",i)}function yR({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:i}){const a=C.useRef(null),[s,u]=C.useState(()=>e.get(t)),d=i||s,f=C.useCallback(g=>{i||($l(g,r),u(g),e.set(g))},[e.set,d,i]),h=C.useCallback(()=>{u(t),$l(t,r),e.clear()},[e.clear,t]);return C.useEffect(()=>(e.subscribe(f),e.unsubscribe),[e.subscribe,e.unsubscribe]),Ka(()=>{$l(e.get(t),r)},[]),C.useEffect(()=>{if(i)return $l(i,r),()=>{};i===void 0&&$l(s,r),typeof window<"u"&&"matchMedia"in window&&(a.current=window.matchMedia("(prefers-color-scheme: dark)"));const g=y=>{s==="auto"&&$l(y.matches?"dark":"light",r)};return a.current?.addEventListener("change",g),()=>a.current?.removeEventListener("change",g)},[s,i]),{colorScheme:d,setColorScheme:f,clearColorScheme:h}}function vR({respectReducedMotion:e,getRootElement:t}){Ka(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function cC({theme:e,children:t,getStyleNonce:r,withStaticClasses:i=!0,withGlobalClasses:a=!0,deduplicateCssVariables:s=!0,withCssVariables:u=!0,cssVariablesSelector:d,classNamesPrefix:f="mantine",colorSchemeManager:h=lR(),defaultColorScheme:g="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:x,forceColorScheme:w,stylesTransform:_,env:E}){const{colorScheme:T,setColorScheme:N,clearColorScheme:D}=yR({defaultColorScheme:g,forceColorScheme:w,manager:h,getRootElement:y});return vR({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:y}),R.jsx(oC.Provider,{value:{colorScheme:T,setColorScheme:N,clearColorScheme:D,getRootElement:y,classNamesPrefix:f,getStyleNonce:r,cssVariablesResolver:x,cssVariablesSelector:d??":root",withStaticClasses:i,stylesTransform:_,env:E},children:R.jsxs(aC,{theme:e,children:[u&&R.jsx(uC,{cssVariablesSelector:d,deduplicateCssVariables:s}),a&&R.jsx(fR,{}),t]})})}cC.displayName="@mantine/core/MantineProvider";function Rh({classNames:e,styles:t,props:r,stylesCtx:i}){const a=li();return{resolvedClassNames:Oh({theme:a,classNames:e,props:r,stylesCtx:i||void 0}),resolvedStyles:oh({theme:a,styles:t,props:r,stylesCtx:i||void 0})}}const bR={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function xR({theme:e,options:t,unstyled:r}){return $n(t?.focusable&&!r&&(e.focusClassName||bR[e.focusRing]),t?.active&&!r&&e.activeClassName)}function wR({selector:e,stylesCtx:t,options:r,props:i,theme:a}){return Oh({theme:a,classNames:r?.classNames,props:r?.props||i,stylesCtx:t})[e]}function Pw({selector:e,stylesCtx:t,theme:r,classNames:i,props:a}){return Oh({theme:r,classNames:i,props:a,stylesCtx:t})[e]}function SR({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function CR({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function _R({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:i}){return i===!1?[]:e.map(a=>`${t}-${a}-${r}`)}function ER({themeName:e,theme:t,selector:r,props:i,stylesCtx:a}){return e.map(s=>Oh({theme:t,classNames:t.components[s]?.classNames,props:i,stylesCtx:a})?.[r])}function OR({options:e,classes:t,selector:r,unstyled:i}){return e?.variant&&!i?t[`${r}--${e.variant}`]:void 0}function MR({theme:e,options:t,themeName:r,selector:i,classNamesPrefix:a,classNames:s,classes:u,unstyled:d,className:f,rootSelector:h,props:g,stylesCtx:y,withStaticClasses:x,headless:w,transformedStyles:_}){return $n(xR({theme:e,options:t,unstyled:d||w}),ER({theme:e,themeName:r,selector:i,props:g,stylesCtx:y}),OR({options:t,classes:u,selector:i,unstyled:d}),Pw({selector:i,stylesCtx:y,theme:e,classNames:s,props:g}),Pw({selector:i,stylesCtx:y,theme:e,classNames:_,props:g}),wR({selector:i,stylesCtx:y,options:t,props:g,theme:e}),SR({rootSelector:h,selector:i,className:f}),CR({selector:i,classes:u,unstyled:d||w}),x&&!w&&_R({themeName:r,classNamesPrefix:a,selector:i,withStaticClass:t?.withStaticClass}),t?.className)}function TR({theme:e,themeName:t,props:r,stylesCtx:i,selector:a}){return t.map(s=>oh({theme:e,styles:e.components[s]?.styles,props:r,stylesCtx:i})[a]).reduce((s,u)=>({...s,...u}),{})}function Gg({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...Gg({style:i,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function RR(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(i=>{t[i]={...t[i],...Ty(r[i])}}),t),{})}function PR({vars:e,varsResolver:t,theme:r,props:i,stylesCtx:a,selector:s,themeName:u,headless:d}){return RR([d?{}:t?.(r,i,a),...u.map(f=>r.components?.[f]?.vars?.(r,i,a)),e?.(r,i,a)])?.[s]}function DR({theme:e,themeName:t,selector:r,options:i,props:a,stylesCtx:s,rootSelector:u,styles:d,style:f,vars:h,varsResolver:g,headless:y,withStylesTransform:x}){return{...!x&&TR({theme:e,themeName:t,props:a,stylesCtx:s,selector:r}),...!x&&oh({theme:e,styles:d,props:a,stylesCtx:s})[r],...!x&&oh({theme:e,styles:i?.styles,props:i?.props||a,stylesCtx:s})[r],...PR({theme:e,props:a,stylesCtx:s,vars:h,varsResolver:g,selector:r,themeName:t,headless:y}),...u===r?Gg({style:f,theme:e}):null,...Gg({style:i?.style,theme:e})}}function AR({props:e,stylesCtx:t,themeName:r}){const i=li(),a=JT()?.();return{getTransformedStyles:u=>a?[...u.map(f=>a(f,{props:e,theme:i,ctx:t})),...r.map(f=>a(i.components[f]?.styles,{props:e,theme:i,ctx:t}))].filter(Boolean):[],withStylesTransform:!!a}}function gt({name:e,classes:t,props:r,stylesCtx:i,className:a,style:s,rootSelector:u="root",unstyled:d,classNames:f,styles:h,vars:g,varsResolver:y,attributes:x}){const w=li(),_=XT(),E=WT(),T=QT(),N=(Array.isArray(e)?e:[e]).filter(F=>F),{withStylesTransform:D,getTransformedStyles:I}=AR({props:r,stylesCtx:i,themeName:N});return(F,k)=>({className:MR({theme:w,options:k,themeName:N,selector:F,classNamesPrefix:_,classNames:f,classes:t,unstyled:d,className:a,rootSelector:u,props:r,stylesCtx:i,withStaticClasses:E,headless:T,transformedStyles:I([k?.styles,h])}),style:DR({theme:w,themeName:N,selector:F,options:k,props:r,stylesCtx:i,rootSelector:u,styles:h,style:s,vars:g,varsResolver:y,headless:T,withStylesTransform:D}),...x?.[F]})}function jy(e,t){return typeof e=="boolean"?e:t.autoContrast}function Le(e,t,r){const i=li(),a=i.components[e]?.defaultProps,s=typeof a=="function"?a(i):a;return{...t,...s,...Ty(r)}}function mg(e){return dr(e).reduce((t,r)=>e[r]!==void 0?`${t}${vT(r)}:${e[r]};`:t,"").trim()}function NR({selector:e,styles:t,media:r,container:i}){const a=t?mg(t):"",s=Array.isArray(r)?r.map(d=>`@media${d.query}{${e}{${mg(d.styles)}}}`):[],u=Array.isArray(i)?i.map(d=>`@container ${d.query}{${e}{${mg(d.styles)}}}`):[];return`${a?`${e}{${a}}`:""}${s.join("")}${u.join("")}`.trim()}function dC(e){const t=Dy();return R.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:NR(e)}})}function td(e){const{m:t,mx:r,my:i,mt:a,mb:s,ml:u,mr:d,me:f,ms:h,p:g,px:y,py:x,pt:w,pb:_,pl:E,pr:T,pe:N,ps:D,bd:I,bdrs:F,bg:k,c:V,opacity:A,ff:G,fz:W,fw:le,lts:he,ta:de,lh:Oe,fs:ce,tt:xe,td:B,w:X,miw:q,maw:ge,h:Se,mih:U,mah:ie,bgsz:Ce,bgp:Ne,bgr:Ie,bga:qe,pos:nt,top:wt,left:De,bottom:Zt,right:ln,inset:Ze,display:ht,flex:kt,hiddenFrom:nn,visibleFrom:mn,lightHidden:Rr,darkHidden:rr,sx:Jt,...qn}=e;return{styleProps:Ty({m:t,mx:r,my:i,mt:a,mb:s,ml:u,mr:d,me:f,ms:h,p:g,px:y,py:x,pt:w,pb:_,pl:E,pr:T,pe:N,ps:D,bd:I,bg:k,c:V,opacity:A,ff:G,fz:W,fw:le,lts:he,ta:de,lh:Oe,fs:ce,tt:xe,td:B,w:X,miw:q,maw:ge,h:Se,mih:U,mah:ie,bgsz:Ce,bgp:Ne,bgr:Ie,bga:qe,pos:nt,top:wt,left:De,bottom:Zt,right:ln,inset:Ze,display:ht,flex:kt,bdrs:F,hiddenFrom:nn,visibleFrom:mn,lightHidden:Rr,darkHidden:rr,sx:Jt}),rest:qn}}const IR={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function zy(e,t){const r=Bs({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function jR(e,t){const r=Bs({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:zy(e,t)}function zR(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const[r,i,...a]=e.split(" ").filter(u=>u.trim()!=="");let s=`${_e(r)}`;return i&&(s+=` ${i}`),a.length>0&&(s+=` ${zy(a.join(" "),t)}`),s.trim()}return e}const Dw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function FR(e){return typeof e=="string"&&e in Dw?Dw[e]:e}const kR=["h1","h2","h3","h4","h5","h6"];function LR(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&kR.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?_e(e):e}function BR(e){return e}const UR=["h1","h2","h3","h4","h5","h6"];function $R(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&UR.includes(e)?`var(--mantine-${e}-line-height)`:e}function HR(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?_e(e):e}function qR(e){return typeof e=="number"?_e(e):e}function GR(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return _e(e);const i=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return e}const gg={color:zy,textColor:jR,fontSize:LR,spacing:GR,radius:HR,identity:BR,size:qR,lineHeight:$R,fontFamily:FR,border:zR};function Aw(e){return e.replace("(min-width: ","").replace("em)","")}function VR({media:e,...t}){const i=Object.keys(e).sort((a,s)=>Number(Aw(a))-Number(Aw(s))).map(a=>({query:a,styles:e[a]}));return{...t,media:i}}function YR(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function KR(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function XR(e){return typeof e=="object"&&e!==null?dr(e).filter(t=>t!=="base"):[]}function WR(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function QR({styleProps:e,data:t,theme:r}){return VR(dr(e).reduce((i,a)=>{if(a==="hiddenFrom"||a==="visibleFrom"||a==="sx")return i;const s=t[a],u=Array.isArray(s.property)?s.property:[s.property],d=KR(e[a]);if(!YR(e[a]))return u.forEach(h=>{i.inlineStyles[h]=gg[s.type](d,r)}),i;i.hasResponsiveStyles=!0;const f=XR(e[a]);return u.forEach(h=>{d!=null&&(i.styles[h]=gg[s.type](d,r)),f.forEach(g=>{const y=`(min-width: ${r.breakpoints[g]})`;i.media[y]={...i.media[y],[h]:gg[s.type](WR(e[a],g),r)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function ZR(){return`__m__-${C.useId().replace(/[:]/g,"")}`}function Fy(e,t){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...Fy(i,t)}),{}):typeof e=="function"?e(t):e??{}}function fC(e){return e.startsWith("data-")?e:`data-${e}`}function JR(e){return Object.keys(e).reduce((t,r)=>{const i=e[r];return i===void 0||i===""||i===!1||i===null||(t[fC(r)]=e[r]),t},{})}function hC(e){return e?typeof e=="string"?{[fC(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...hC(r)}),{}):JR(e):null}function Vg(e,t){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...Vg(i,t)}),{}):typeof e=="function"?e(t):e??{}}function eP({theme:e,style:t,vars:r,styleProps:i}){const a=Vg(t,e),s=Vg(r,e);return{...a,...s,...i}}const pC=C.forwardRef(({component:e,style:t,__vars:r,className:i,variant:a,mod:s,size:u,hiddenFrom:d,visibleFrom:f,lightHidden:h,darkHidden:g,renderRoot:y,__size:x,...w},_)=>{const E=li(),T=e||"div",{styleProps:N,rest:D}=td(w),F=ZT()?.()?.(N.sx),k=ZR(),V=QR({styleProps:N,theme:E,data:IR}),A={ref:_,style:eP({theme:E,style:t,vars:r,styleProps:V.inlineStyles}),className:$n(i,F,{[k]:V.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":g,[`mantine-hidden-from-${d}`]:d,[`mantine-visible-from-${f}`]:f}),"data-variant":a,"data-size":X1(u)?void 0:u||void 0,size:x,...hC(s),...D};return R.jsxs(R.Fragment,{children:[V.hasResponsiveStyles&&R.jsx(dC,{selector:`.${k}`,styles:V.styles,media:V.media}),typeof y=="function"?y(A):R.jsx(T,{...A})]})});pC.displayName="@mantine/core/Box";const Fe=pC;function mC(e){return e}function tP(e){const t=e;return r=>{const i=C.forwardRef((a,s)=>R.jsx(t,{...r,...a,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i}}function Je(e){const t=C.forwardRef(e);return t.extend=mC,t.withProps=r=>{const i=C.forwardRef((a,s)=>R.jsx(t,{...r,...a,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t}function Tr(e){const t=C.forwardRef(e);return t.withProps=r=>{const i=C.forwardRef((a,s)=>R.jsx(t,{...r,...a,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t.extend=mC,t}const gC=C.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function nd(){return C.useContext(gC)}function nP({children:e,initialDirection:t="ltr",detectDirection:r=!0}){const[i,a]=C.useState(t),s=C.useCallback(f=>{a(f),document.documentElement.getAttribute("dir")!==f&&document.documentElement.setAttribute("dir",f)},[]),u=()=>s(i==="ltr"?"rtl":"ltr");Ka(()=>{if(r){const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&a(f)}},[]);const d=C.useCallback(()=>{if(typeof document>"u")return;const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&a(h=>h!==f?f:h)},[]);return GT(d,r?{attributes:!0,attributeFilter:["dir"]}:{},typeof document<"u"&&r?document.documentElement:null),R.jsx(gC.Provider,{value:{dir:i,toggleDirection:u,setDirection:s},children:e})}var Us=B1();const Ic=wh(Us);function rP(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function yg(e){return e?.current?e.current.scrollHeight:"auto"}const Mc=typeof window<"u"&&window.requestAnimationFrame,Nw=0,iP=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function oP({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:i,keepMounted:a=!1}){const s=C.useRef(null),u=iP(a),[d,f]=C.useState(i?{}:u),h=_=>{Us.flushSync(()=>f(_))},g=_=>{h(E=>({...E,..._}))};function y(_){const E=e||rP(_);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}zs(()=>{typeof Mc=="function"&&Mc(i?()=>{g({willChange:"height",display:"block",overflow:"hidden"}),Mc(()=>{const _=yg(s);g({...y(_),height:_})})}:()=>{const _=yg(s);g({...y(_),willChange:"height",height:_}),Mc(()=>g({height:Nw,overflow:"hidden"}))})},[i]);const x=_=>{if(!(_.target!==s.current||_.propertyName!=="height"))if(i){const E=yg(s);E===d.height?h({}):g({height:E}),r()}else d.height===Nw&&(h(u),r())};function w({style:_={},refKey:E="ref",...T}={}){const N=T[E],D={"aria-hidden":!i,...T,[E]:nC(s,N),onTransitionEnd:x,style:{boxSizing:"border-box",..._,...d}};return Kn.version.startsWith("18")?i||(D.inert=""):D.inert=!i,D}return w}const aP={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},yC=Je((e,t)=>{const{children:r,in:i,transitionDuration:a,transitionTimingFunction:s,style:u,onTransitionEnd:d,animateOpacity:f,keepMounted:h,...g}=Le("Collapse",aP,e),y=li(),x=_h(),_=(y.respectReducedMotion?x:!1)?0:a,E=oP({opened:i,transitionDuration:_,transitionTimingFunction:s,onTransitionEnd:d,keepMounted:h});return _===0?i?R.jsx(Fe,{...g,children:r}):null:R.jsx(Fe,{...E({style:{opacity:i||!f?1:0,transition:f?`opacity ${_}ms ${s}`:"none",...Fy(u,y)},ref:t,...g}),children:r})});yC.displayName="@mantine/core/Collapse";function Ph(){return typeof window<"u"}function gu(e){return vC(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function fo(e){var t;return(t=(vC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function vC(e){return Ph()?e instanceof Node||e instanceof Hr(e).Node:!1}function pn(e){return Ph()?e instanceof Element||e instanceof Hr(e).Element:!1}function si(e){return Ph()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function Yg(e){return!Ph()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}const sP=new Set(["inline","contents"]);function rd(e){const{overflow:t,overflowX:r,overflowY:i,display:a}=_i(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!sP.has(a)}const lP=new Set(["table","td","th"]);function uP(e){return lP.has(gu(e))}const cP=[":popover-open",":modal"];function Dh(e){return cP.some(t=>{try{return e.matches(t)}catch{return!1}})}const dP=["transform","translate","scale","rotate","perspective"],fP=["transform","translate","scale","rotate","perspective","filter"],hP=["paint","layout","strict","content"];function ky(e){const t=Ah(),r=pn(e)?_i(e):e;return dP.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||fP.some(i=>(r.willChange||"").includes(i))||hP.some(i=>(r.contain||"").includes(i))}function pP(e){let t=Go(e);for(;si(t)&&!$o(t);){if(ky(t))return t;if(Dh(t))return null;t=Go(t)}return null}function Ah(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const mP=new Set(["html","body","#document"]);function $o(e){return mP.has(gu(e))}function _i(e){return Hr(e).getComputedStyle(e)}function Nh(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Go(e){if(gu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Yg(e)&&e.host||fo(e);return Yg(t)?t.host:t}function bC(e){const t=Go(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:si(t)&&rd(t)?t:bC(t)}function Ho(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=bC(e),s=a===((i=e.ownerDocument)==null?void 0:i.body),u=Hr(a);if(s){const d=Kg(u);return t.concat(u,u.visualViewport||[],rd(a)?a:[],d&&r?Ho(d):[])}return t.concat(a,Ho(a,[],r))}function Kg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const gP=["top","right","bottom","left"],Bi=Math.min,yr=Math.max,ah=Math.round,If=Math.floor,io=e=>({x:e,y:e}),yP={left:"right",right:"left",bottom:"top",top:"bottom"},vP={start:"end",end:"start"};function Xg(e,t,r){return yr(e,Bi(t,r))}function so(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function yu(e){return e.split("-")[1]}function Ly(e){return e==="x"?"y":"x"}function By(e){return e==="y"?"height":"width"}const bP=new Set(["top","bottom"]);function Fi(e){return bP.has(Ui(e))?"y":"x"}function Uy(e){return Ly(Fi(e))}function xP(e,t,r){r===void 0&&(r=!1);const i=yu(e),a=Uy(e),s=By(a);let u=a==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(u=sh(u)),[u,sh(u)]}function wP(e){const t=sh(e);return[Wg(e),t,Wg(t)]}function Wg(e){return e.replace(/start|end/g,t=>vP[t])}const Iw=["left","right"],jw=["right","left"],SP=["top","bottom"],CP=["bottom","top"];function _P(e,t,r){switch(e){case"top":case"bottom":return r?t?jw:Iw:t?Iw:jw;case"left":case"right":return t?SP:CP;default:return[]}}function EP(e,t,r,i){const a=yu(e);let s=_P(Ui(e),r==="start",i);return a&&(s=s.map(u=>u+"-"+a),t&&(s=s.concat(s.map(Wg)))),s}function sh(e){return e.replace(/left|right|bottom|top/g,t=>yP[t])}function OP(e){return{top:0,right:0,bottom:0,left:0,...e}}function $y(e){return typeof e!="number"?OP(e):{top:e,right:e,bottom:e,left:e}}function nu(e){const{x:t,y:r,width:i,height:a}=e;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function MP(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function TP(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:i}=t;return r+"/"+i}).join(" "):navigator.userAgent}function RP(){return/apple/i.test(navigator.vendor)}function PP(){return MP().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function DP(){return TP().includes("jsdom/")}const zw="data-floating-ui-focusable",AP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Fw(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Yc(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&Yg(r)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function Vl(e){return"composedPath"in e?e.composedPath()[0]:e.target}function vg(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function NP(e){return e.matches("html,body")}function Rs(e){return e?.ownerDocument||document}function IP(e){return si(e)&&e.matches(AP)}function jP(e){if(!e||DP())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function zP(e){return e?e.hasAttribute(zw)?e:e.querySelector("["+zw+"]")||e:null}function Wf(e,t,r){return r===void 0&&(r=!0),e.filter(a=>{var s;return a.parentId===t&&(!r||((s=a.context)==null?void 0:s.open))}).flatMap(a=>[a,...Wf(e,a.id,r)])}function FP(e){return"nativeEvent"in e}function Qg(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}var kP=typeof document<"u",LP=function(){},oo=kP?C.useLayoutEffect:LP;const BP={...Oy};function jf(e){const t=C.useRef(e);return oo(()=>{t.current=e}),t}const UP=BP.useInsertionEffect,$P=UP||(e=>e());function ro(e){const t=C.useRef(()=>{});return $P(()=>{t.current=e}),C.useCallback(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.current==null?void 0:t.current(...i)},[])}function kw(e,t,r){let{reference:i,floating:a}=e;const s=Fi(t),u=Uy(t),d=By(u),f=Ui(t),h=s==="y",g=i.x+i.width/2-a.width/2,y=i.y+i.height/2-a.height/2,x=i[d]/2-a[d]/2;let w;switch(f){case"top":w={x:g,y:i.y-a.height};break;case"bottom":w={x:g,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y};break;case"left":w={x:i.x-a.width,y};break;default:w={x:i.x,y:i.y}}switch(yu(t)){case"start":w[u]-=x*(r&&h?-1:1);break;case"end":w[u]+=x*(r&&h?-1:1);break}return w}const HP=async(e,t,r)=>{const{placement:i="bottom",strategy:a="absolute",middleware:s=[],platform:u}=r,d=s.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let h=await u.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y}=kw(h,i,f),x=i,w={},_=0;for(let E=0;E<d.length;E++){const{name:T,fn:N}=d[E],{x:D,y:I,data:F,reset:k}=await N({x:g,y,initialPlacement:i,placement:x,strategy:a,middlewareData:w,rects:h,platform:u,elements:{reference:e,floating:t}});g=D??g,y=I??y,w={...w,[T]:{...w[T],...F}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(h=k.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:g,y}=kw(h,x,f)),E=-1)}return{x:g,y,placement:x,strategy:a,middlewareData:w}};async function Kc(e,t){var r;t===void 0&&(t={});const{x:i,y:a,platform:s,rects:u,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=so(t,e),_=$y(w),T=d[x?y==="floating"?"reference":"floating":y],N=nu(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(T)))==null||r?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(d.floating)),boundary:h,rootBoundary:g,strategy:f})),D=y==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d.floating)),F=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},k=nu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:I,strategy:f}):D);return{top:(N.top-k.top+_.top)/F.y,bottom:(k.bottom-N.bottom+_.bottom)/F.y,left:(N.left-k.left+_.left)/F.x,right:(k.right-N.right+_.right)/F.x}}const qP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:a,rects:s,platform:u,elements:d,middlewareData:f}=t,{element:h,padding:g=0}=so(e,t)||{};if(h==null)return{};const y=$y(g),x={x:r,y:i},w=Uy(a),_=By(w),E=await u.getDimensions(h),T=w==="y",N=T?"top":"left",D=T?"bottom":"right",I=T?"clientHeight":"clientWidth",F=s.reference[_]+s.reference[w]-x[w]-s.floating[_],k=x[w]-s.reference[w],V=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let A=V?V[I]:0;(!A||!await(u.isElement==null?void 0:u.isElement(V)))&&(A=d.floating[I]||s.floating[_]);const G=F/2-k/2,W=A/2-E[_]/2-1,le=Bi(y[N],W),he=Bi(y[D],W),de=le,Oe=A-E[_]-he,ce=A/2-E[_]/2+G,xe=Xg(de,ce,Oe),B=!f.arrow&&yu(a)!=null&&ce!==xe&&s.reference[_]/2-(ce<de?le:he)-E[_]/2<0,X=B?ce<de?ce-de:ce-Oe:0;return{[w]:x[w]+X,data:{[w]:xe,centerOffset:ce-xe-X,...B&&{alignmentOffset:X}},reset:B}}}),GP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:a,middlewareData:s,rects:u,initialPlacement:d,platform:f,elements:h}=t,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...T}=so(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const N=Ui(a),D=Fi(d),I=Ui(d)===d,F=await(f.isRTL==null?void 0:f.isRTL(h.floating)),k=x||(I||!E?[sh(d)]:wP(d)),V=_!=="none";!x&&V&&k.push(...EP(d,E,_,F));const A=[d,...k],G=await Kc(t,T),W=[];let le=((i=s.flip)==null?void 0:i.overflows)||[];if(g&&W.push(G[N]),y){const ce=xP(a,u,F);W.push(G[ce[0]],G[ce[1]])}if(le=[...le,{placement:a,overflows:W}],!W.every(ce=>ce<=0)){var he,de;const ce=(((he=s.flip)==null?void 0:he.index)||0)+1,xe=A[ce];if(xe&&(!(y==="alignment"?D!==Fi(xe):!1)||le.every(q=>Fi(q.placement)===D?q.overflows[0]>0:!0)))return{data:{index:ce,overflows:le},reset:{placement:xe}};let B=(de=le.filter(X=>X.overflows[0]<=0).sort((X,q)=>X.overflows[1]-q.overflows[1])[0])==null?void 0:de.placement;if(!B)switch(w){case"bestFit":{var Oe;const X=(Oe=le.filter(q=>{if(V){const ge=Fi(q.placement);return ge===D||ge==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ge=>ge>0).reduce((ge,Se)=>ge+Se,0)]).sort((q,ge)=>q[1]-ge[1])[0])==null?void 0:Oe[0];X&&(B=X);break}case"initialPlacement":B=d;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Lw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Bw(e){return gP.some(t=>e[t]>=0)}const VP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...a}=so(e,t);switch(i){case"referenceHidden":{const s=await Kc(t,{...a,elementContext:"reference"}),u=Lw(s,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Bw(u)}}}case"escaped":{const s=await Kc(t,{...a,altBoundary:!0}),u=Lw(s,r.floating);return{data:{escapedOffsets:u,escaped:Bw(u)}}}default:return{}}}}};function xC(e){const t=Bi(...e.map(s=>s.left)),r=Bi(...e.map(s=>s.top)),i=yr(...e.map(s=>s.right)),a=yr(...e.map(s=>s.bottom));return{x:t,y:r,width:i-t,height:a-r}}function YP(e){const t=e.slice().sort((a,s)=>a.y-s.y),r=[];let i=null;for(let a=0;a<t.length;a++){const s=t[a];!i||s.y-i.y>i.height/2?r.push([s]):r[r.length-1].push(s),i=s}return r.map(a=>nu(xC(a)))}const KP=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:i,rects:a,platform:s,strategy:u}=t,{padding:d=2,x:f,y:h}=so(e,t),g=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(i.reference))||[]),y=YP(g),x=nu(xC(g)),w=$y(d);function _(){if(y.length===2&&y[0].left>y[1].right&&f!=null&&h!=null)return y.find(T=>f>T.left-w.left&&f<T.right+w.right&&h>T.top-w.top&&h<T.bottom+w.bottom)||x;if(y.length>=2){if(Fi(r)==="y"){const le=y[0],he=y[y.length-1],de=Ui(r)==="top",Oe=le.top,ce=he.bottom,xe=de?le.left:he.left,B=de?le.right:he.right,X=B-xe,q=ce-Oe;return{top:Oe,bottom:ce,left:xe,right:B,width:X,height:q,x:xe,y:Oe}}const T=Ui(r)==="left",N=yr(...y.map(le=>le.right)),D=Bi(...y.map(le=>le.left)),I=y.filter(le=>T?le.left===D:le.right===N),F=I[0].top,k=I[I.length-1].bottom,V=D,A=N,G=A-V,W=k-F;return{top:F,bottom:k,left:V,right:A,width:G,height:W,x:V,y:F}}return x}const E=await s.getElementRects({reference:{getBoundingClientRect:_},floating:i.floating,strategy:u});return a.reference.x!==E.reference.x||a.reference.y!==E.reference.y||a.reference.width!==E.reference.width||a.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},wC=new Set(["left","top"]);async function XP(e,t){const{placement:r,platform:i,elements:a}=e,s=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Ui(r),d=yu(r),f=Fi(r)==="y",h=wC.has(u)?-1:1,g=s&&f?-1:1,y=so(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof _=="number"&&(w=d==="end"?_*-1:_),f?{x:w*g,y:x*h}:{x:x*h,y:w*g}}const WP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:a,y:s,placement:u,middlewareData:d}=t,f=await XP(t,e);return u===((r=d.offset)==null?void 0:r.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:u}}}}},QP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:a}=t,{mainAxis:s=!0,crossAxis:u=!1,limiter:d={fn:T=>{let{x:N,y:D}=T;return{x:N,y:D}}},...f}=so(e,t),h={x:r,y:i},g=await Kc(t,f),y=Fi(Ui(a)),x=Ly(y);let w=h[x],_=h[y];if(s){const T=x==="y"?"top":"left",N=x==="y"?"bottom":"right",D=w+g[T],I=w-g[N];w=Xg(D,w,I)}if(u){const T=y==="y"?"top":"left",N=y==="y"?"bottom":"right",D=_+g[T],I=_-g[N];_=Xg(D,_,I)}const E=d.fn({...t,[x]:w,[y]:_});return{...E,data:{x:E.x-r,y:E.y-i,enabled:{[x]:s,[y]:u}}}}}},ZP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:a,rects:s,middlewareData:u}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=so(e,t),g={x:r,y:i},y=Fi(a),x=Ly(y);let w=g[x],_=g[y];const E=so(d,t),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const I=x==="y"?"height":"width",F=s.reference[x]-s.floating[I]+T.mainAxis,k=s.reference[x]+s.reference[I]-T.mainAxis;w<F?w=F:w>k&&(w=k)}if(h){var N,D;const I=x==="y"?"width":"height",F=wC.has(Ui(a)),k=s.reference[y]-s.floating[I]+(F&&((N=u.offset)==null?void 0:N[y])||0)+(F?0:T.crossAxis),V=s.reference[y]+s.reference[I]+(F?0:((D=u.offset)==null?void 0:D[y])||0)-(F?T.crossAxis:0);_<k?_=k:_>V&&(_=V)}return{[x]:w,[y]:_}}}},JP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:a,rects:s,platform:u,elements:d}=t,{apply:f=()=>{},...h}=so(e,t),g=await Kc(t,h),y=Ui(a),x=yu(a),w=Fi(a)==="y",{width:_,height:E}=s.floating;let T,N;y==="top"||y==="bottom"?(T=y,N=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=y,T=x==="end"?"top":"bottom");const D=E-g.top-g.bottom,I=_-g.left-g.right,F=Bi(E-g[T],D),k=Bi(_-g[N],I),V=!t.middlewareData.shift;let A=F,G=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(G=I),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(A=D),V&&!x){const le=yr(g.left,0),he=yr(g.right,0),de=yr(g.top,0),Oe=yr(g.bottom,0);w?G=_-2*(le!==0||he!==0?le+he:yr(g.left,g.right)):A=E-2*(de!==0||Oe!==0?de+Oe:yr(g.top,g.bottom))}await f({...t,availableWidth:G,availableHeight:A});const W=await u.getDimensions(d.floating);return _!==W.width||E!==W.height?{reset:{rects:!0}}:{}}}};function SC(e){const t=_i(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=si(e),s=a?e.offsetWidth:r,u=a?e.offsetHeight:i,d=ah(r)!==s||ah(i)!==u;return d&&(r=s,i=u),{width:r,height:i,$:d}}function Hy(e){return pn(e)?e:e.contextElement}function Jl(e){const t=Hy(e);if(!si(t))return io(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:s}=SC(t);let u=(s?ah(r.width):r.width)/i,d=(s?ah(r.height):r.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const eD=io(0);function CC(e){const t=Hr(e);return!Ah()||!t.visualViewport?eD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function tD(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hr(e)?!1:t}function Fs(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Hy(e);let u=io(1);t&&(i?pn(i)&&(u=Jl(i)):u=Jl(e));const d=tD(s,r,i)?CC(s):io(0);let f=(a.left+d.x)/u.x,h=(a.top+d.y)/u.y,g=a.width/u.x,y=a.height/u.y;if(s){const x=Hr(s),w=i&&pn(i)?Hr(i):i;let _=x,E=Kg(_);for(;E&&i&&w!==_;){const T=Jl(E),N=E.getBoundingClientRect(),D=_i(E),I=N.left+(E.clientLeft+parseFloat(D.paddingLeft))*T.x,F=N.top+(E.clientTop+parseFloat(D.paddingTop))*T.y;f*=T.x,h*=T.y,g*=T.x,y*=T.y,f+=I,h+=F,_=Hr(E),E=Kg(_)}}return nu({width:g,height:y,x:f,y:h})}function Ih(e,t){const r=Nh(e).scrollLeft;return t?t.left+r:Fs(fo(e)).left+r}function _C(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-Ih(e,r),a=r.top+t.scrollTop;return{x:i,y:a}}function nD(e){let{elements:t,rect:r,offsetParent:i,strategy:a}=e;const s=a==="fixed",u=fo(i),d=t?Dh(t.floating):!1;if(i===u||d&&s)return r;let f={scrollLeft:0,scrollTop:0},h=io(1);const g=io(0),y=si(i);if((y||!y&&!s)&&((gu(i)!=="body"||rd(u))&&(f=Nh(i)),si(i))){const w=Fs(i);h=Jl(i),g.x=w.x+i.clientLeft,g.y=w.y+i.clientTop}const x=u&&!y&&!s?_C(u,f):io(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+g.x+x.x,y:r.y*h.y-f.scrollTop*h.y+g.y+x.y}}function rD(e){return Array.from(e.getClientRects())}function iD(e){const t=fo(e),r=Nh(e),i=e.ownerDocument.body,a=yr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=yr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-r.scrollLeft+Ih(e);const d=-r.scrollTop;return _i(i).direction==="rtl"&&(u+=yr(t.clientWidth,i.clientWidth)-a),{width:a,height:s,x:u,y:d}}const Uw=25;function oD(e,t){const r=Hr(e),i=fo(e),a=r.visualViewport;let s=i.clientWidth,u=i.clientHeight,d=0,f=0;if(a){s=a.width,u=a.height;const g=Ah();(!g||g&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}const h=Ih(i);if(h<=0){const g=i.ownerDocument,y=g.body,x=getComputedStyle(y),w=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,_=Math.abs(i.clientWidth-y.clientWidth-w);_<=Uw&&(s-=_)}else h<=Uw&&(s+=h);return{width:s,height:u,x:d,y:f}}const aD=new Set(["absolute","fixed"]);function sD(e,t){const r=Fs(e,!0,t==="fixed"),i=r.top+e.clientTop,a=r.left+e.clientLeft,s=si(e)?Jl(e):io(1),u=e.clientWidth*s.x,d=e.clientHeight*s.y,f=a*s.x,h=i*s.y;return{width:u,height:d,x:f,y:h}}function $w(e,t,r){let i;if(t==="viewport")i=oD(e,r);else if(t==="document")i=iD(fo(e));else if(pn(t))i=sD(t,r);else{const a=CC(e);i={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return nu(i)}function EC(e,t){const r=Go(e);return r===t||!pn(r)||$o(r)?!1:_i(r).position==="fixed"||EC(r,t)}function lD(e,t){const r=t.get(e);if(r)return r;let i=Ho(e,[],!1).filter(d=>pn(d)&&gu(d)!=="body"),a=null;const s=_i(e).position==="fixed";let u=s?Go(e):e;for(;pn(u)&&!$o(u);){const d=_i(u),f=ky(u);!f&&d.position==="fixed"&&(a=null),(s?!f&&!a:!f&&d.position==="static"&&!!a&&aD.has(a.position)||rd(u)&&!f&&EC(e,u))?i=i.filter(g=>g!==u):a=d,u=Go(u)}return t.set(e,i),i}function uD(e){let{element:t,boundary:r,rootBoundary:i,strategy:a}=e;const u=[...r==="clippingAncestors"?Dh(t)?[]:lD(t,this._c):[].concat(r),i],d=u[0],f=u.reduce((h,g)=>{const y=$w(t,g,a);return h.top=yr(y.top,h.top),h.right=Bi(y.right,h.right),h.bottom=Bi(y.bottom,h.bottom),h.left=yr(y.left,h.left),h},$w(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function cD(e){const{width:t,height:r}=SC(e);return{width:t,height:r}}function dD(e,t,r){const i=si(t),a=fo(t),s=r==="fixed",u=Fs(e,!0,s,t);let d={scrollLeft:0,scrollTop:0};const f=io(0);function h(){f.x=Ih(a)}if(i||!i&&!s)if((gu(t)!=="body"||rd(a))&&(d=Nh(t)),i){const w=Fs(t,!0,s,t);f.x=w.x+t.clientLeft,f.y=w.y+t.clientTop}else a&&h();s&&!i&&a&&h();const g=a&&!i&&!s?_C(a,d):io(0),y=u.left+d.scrollLeft-f.x-g.x,x=u.top+d.scrollTop-f.y-g.y;return{x:y,y:x,width:u.width,height:u.height}}function bg(e){return _i(e).position==="static"}function Hw(e,t){if(!si(e)||_i(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return fo(e)===r&&(r=r.ownerDocument.body),r}function OC(e,t){const r=Hr(e);if(Dh(e))return r;if(!si(e)){let a=Go(e);for(;a&&!$o(a);){if(pn(a)&&!bg(a))return a;a=Go(a)}return r}let i=Hw(e,t);for(;i&&uP(i)&&bg(i);)i=Hw(i,t);return i&&$o(i)&&bg(i)&&!ky(i)?r:i||pP(e)||r}const fD=async function(e){const t=this.getOffsetParent||OC,r=this.getDimensions,i=await r(e.floating);return{reference:dD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function hD(e){return _i(e).direction==="rtl"}const pD={convertOffsetParentRelativeRectToViewportRelativeRect:nD,getDocumentElement:fo,getClippingRect:uD,getOffsetParent:OC,getElementRects:fD,getClientRects:rD,getDimensions:cD,getScale:Jl,isElement:pn,isRTL:hD};function MC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function mD(e,t){let r=null,i;const a=fo(e);function s(){var d;clearTimeout(i),(d=r)==null||d.disconnect(),r=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),s();const h=e.getBoundingClientRect(),{left:g,top:y,width:x,height:w}=h;if(d||t(),!x||!w)return;const _=If(y),E=If(a.clientWidth-(g+x)),T=If(a.clientHeight-(y+w)),N=If(g),I={rootMargin:-_+"px "+-E+"px "+-T+"px "+-N+"px",threshold:yr(0,Bi(1,f))||1};let F=!0;function k(V){const A=V[0].intersectionRatio;if(A!==f){if(!F)return u();A?u(!1,A):i=setTimeout(()=>{u(!1,1e-7)},1e3)}A===1&&!MC(h,e.getBoundingClientRect())&&u(),F=!1}try{r=new IntersectionObserver(k,{...I,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,I)}r.observe(e)}return u(!0),s}function Zg(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,h=Hy(e),g=a||s?[...h?Ho(h):[],...Ho(t)]:[];g.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),s&&N.addEventListener("resize",r)});const y=h&&d?mD(h,r):null;let x=-1,w=null;u&&(w=new ResizeObserver(N=>{let[D]=N;D&&D.target===h&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=w)==null||I.observe(t)})),r()}),h&&!f&&w.observe(h),w.observe(t));let _,E=f?Fs(e):null;f&&T();function T(){const N=Fs(e);E&&!MC(E,N)&&r(),E=N,_=requestAnimationFrame(T)}return r(),()=>{var N;g.forEach(D=>{a&&D.removeEventListener("scroll",r),s&&D.removeEventListener("resize",r)}),y?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(_)}}const gD=WP,yD=QP,vD=GP,bD=JP,xD=VP,qw=qP,wD=KP,SD=ZP,CD=(e,t,r)=>{const i=new Map,a={platform:pD,...r},s={...a.platform,_c:i};return HP(e,t,{...a,platform:s})};var _D=typeof document<"u",ED=function(){},Qf=_D?C.useLayoutEffect:ED;function lh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!lh(e[i],t[i]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){const s=a[i];if(!(s==="_owner"&&e.$$typeof)&&!lh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function TC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Gw(e,t){const r=TC(e);return Math.round(t*r)/r}function xg(e){const t=C.useRef(e);return Qf(()=>{t.current=e}),t}function OD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:s,floating:u}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[g,y]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=C.useState(i);lh(x,i)||w(i);const[_,E]=C.useState(null),[T,N]=C.useState(null),D=C.useCallback(q=>{q!==V.current&&(V.current=q,E(q))},[]),I=C.useCallback(q=>{q!==A.current&&(A.current=q,N(q))},[]),F=s||_,k=u||T,V=C.useRef(null),A=C.useRef(null),G=C.useRef(g),W=f!=null,le=xg(f),he=xg(a),de=xg(h),Oe=C.useCallback(()=>{if(!V.current||!A.current)return;const q={placement:t,strategy:r,middleware:x};he.current&&(q.platform=he.current),CD(V.current,A.current,q).then(ge=>{const Se={...ge,isPositioned:de.current!==!1};ce.current&&!lh(G.current,Se)&&(G.current=Se,Us.flushSync(()=>{y(Se)}))})},[x,t,r,he,de]);Qf(()=>{h===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,y(q=>({...q,isPositioned:!1})))},[h]);const ce=C.useRef(!1);Qf(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Qf(()=>{if(F&&(V.current=F),k&&(A.current=k),F&&k){if(le.current)return le.current(F,k,Oe);Oe()}},[F,k,Oe,le,W]);const xe=C.useMemo(()=>({reference:V,floating:A,setReference:D,setFloating:I}),[D,I]),B=C.useMemo(()=>({reference:F,floating:k}),[F,k]),X=C.useMemo(()=>{const q={position:r,left:0,top:0};if(!B.floating)return q;const ge=Gw(B.floating,g.x),Se=Gw(B.floating,g.y);return d?{...q,transform:"translate("+ge+"px, "+Se+"px)",...TC(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:ge,top:Se}},[r,d,B.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:Oe,refs:xe,elements:B,floatingStyles:X}),[g,Oe,xe,B,X])}const MD=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:a}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?qw({element:i.current,padding:a}).fn(r):{}:i?qw({element:i,padding:a}).fn(r):{}}}},RC=(e,t)=>({...gD(e),options:[e,t]}),qy=(e,t)=>({...yD(e),options:[e,t]}),Vw=(e,t)=>({...SD(e),options:[e,t]}),uh=(e,t)=>({...vD(e),options:[e,t]}),TD=(e,t)=>({...bD(e),options:[e,t]}),RD=(e,t)=>({...xD(e),options:[e,t]}),Uc=(e,t)=>({...wD(e),options:[e,t]}),PC=(e,t)=>({...MD(e),options:[e,t]});function DC(e){const t=C.useRef(void 0),r=C.useCallback(i=>{const a=e.map(s=>{if(s!=null){if(typeof s=="function"){const u=s,d=u(i);return typeof d=="function"?d:()=>{u(null)}}return s.current=i,()=>{s.current=null}}});return()=>{a.forEach(s=>s?.())}},e);return C.useMemo(()=>e.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=r(i))},e)}const PD="data-floating-ui-focusable",Yw="active",Kw="selected",DD={...Oy};let Xw=!1,AD=0;const Ww=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+AD++;function ND(){const[e,t]=C.useState(()=>Xw?Ww():void 0);return oo(()=>{e==null&&t(Ww())},[]),C.useEffect(()=>{Xw=!0},[]),e}const ID=DD.useId,AC=ID||ND;function jD(){const e=new Map;return{emit(t,r){var i;(i=e.get(t))==null||i.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var i;(i=e.get(t))==null||i.delete(r)}}}const zD=C.createContext(null),FD=C.createContext(null),Gy=()=>{var e;return((e=C.useContext(zD))==null?void 0:e.id)||null},Vy=()=>C.useContext(FD);function Yy(e){return"data-floating-ui-"+e}function wi(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Qw=Yy("safe-polygon");function Zf(e,t,r){if(r&&!Qg(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const i=e();return typeof i=="number"?i:i?.[t]}return e?.[t]}function wg(e){return typeof e=="function"?e():e}function kD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,dataRef:a,events:s,elements:u}=e,{enabled:d=!0,delay:f=0,handleClose:h=null,mouseOnly:g=!1,restMs:y=0,move:x=!0}=t,w=Vy(),_=Gy(),E=jf(h),T=jf(f),N=jf(r),D=jf(y),I=C.useRef(),F=C.useRef(-1),k=C.useRef(),V=C.useRef(-1),A=C.useRef(!0),G=C.useRef(!1),W=C.useRef(()=>{}),le=C.useRef(!1),he=ro(()=>{var X;const q=(X=a.current.openEvent)==null?void 0:X.type;return q?.includes("mouse")&&q!=="mousedown"});C.useEffect(()=>{if(!d)return;function X(q){let{open:ge}=q;ge||(wi(F),wi(V),A.current=!0,le.current=!1)}return s.on("openchange",X),()=>{s.off("openchange",X)}},[d,s]),C.useEffect(()=>{if(!d||!E.current||!r)return;function X(ge){he()&&i(!1,ge,"hover")}const q=Rs(u.floating).documentElement;return q.addEventListener("mouseleave",X),()=>{q.removeEventListener("mouseleave",X)}},[u.floating,r,i,d,E,he]);const de=C.useCallback(function(X,q,ge){q===void 0&&(q=!0),ge===void 0&&(ge="hover");const Se=Zf(T.current,"close",I.current);Se&&!k.current?(wi(F),F.current=window.setTimeout(()=>i(!1,X,ge),Se)):q&&(wi(F),i(!1,X,ge))},[T,i]),Oe=ro(()=>{W.current(),k.current=void 0}),ce=ro(()=>{if(G.current){const X=Rs(u.floating).body;X.style.pointerEvents="",X.removeAttribute(Qw),G.current=!1}}),xe=ro(()=>a.current.openEvent?["click","mousedown"].includes(a.current.openEvent.type):!1);C.useEffect(()=>{if(!d)return;function X(ie){if(wi(F),A.current=!1,g&&!Qg(I.current)||wg(D.current)>0&&!Zf(T.current,"open"))return;const Ce=Zf(T.current,"open",I.current);Ce?F.current=window.setTimeout(()=>{N.current||i(!0,ie,"hover")},Ce):r||i(!0,ie,"hover")}function q(ie){if(xe()){ce();return}W.current();const Ce=Rs(u.floating);if(wi(V),le.current=!1,E.current&&a.current.floatingContext){r||wi(F),k.current=E.current({...a.current.floatingContext,tree:w,x:ie.clientX,y:ie.clientY,onClose(){ce(),Oe(),xe()||de(ie,!0,"safe-polygon")}});const Ie=k.current;Ce.addEventListener("mousemove",Ie),W.current=()=>{Ce.removeEventListener("mousemove",Ie)};return}(I.current!=="touch"||!Yc(u.floating,ie.relatedTarget))&&de(ie)}function ge(ie){xe()||a.current.floatingContext&&(E.current==null||E.current({...a.current.floatingContext,tree:w,x:ie.clientX,y:ie.clientY,onClose(){ce(),Oe(),xe()||de(ie)}})(ie))}function Se(){wi(F)}function U(ie){xe()||de(ie,!1)}if(pn(u.domReference)){const ie=u.domReference,Ce=u.floating;return r&&ie.addEventListener("mouseleave",ge),x&&ie.addEventListener("mousemove",X,{once:!0}),ie.addEventListener("mouseenter",X),ie.addEventListener("mouseleave",q),Ce&&(Ce.addEventListener("mouseleave",ge),Ce.addEventListener("mouseenter",Se),Ce.addEventListener("mouseleave",U)),()=>{r&&ie.removeEventListener("mouseleave",ge),x&&ie.removeEventListener("mousemove",X),ie.removeEventListener("mouseenter",X),ie.removeEventListener("mouseleave",q),Ce&&(Ce.removeEventListener("mouseleave",ge),Ce.removeEventListener("mouseenter",Se),Ce.removeEventListener("mouseleave",U))}}},[u,d,e,g,x,de,Oe,ce,i,r,N,w,T,E,a,xe,D]),oo(()=>{var X;if(d&&r&&(X=E.current)!=null&&(X=X.__options)!=null&&X.blockPointerEvents&&he()){G.current=!0;const ge=u.floating;if(pn(u.domReference)&&ge){var q;const Se=Rs(u.floating).body;Se.setAttribute(Qw,"");const U=u.domReference,ie=w==null||(q=w.nodesRef.current.find(Ce=>Ce.id===_))==null||(q=q.context)==null?void 0:q.elements.floating;return ie&&(ie.style.pointerEvents=""),Se.style.pointerEvents="none",U.style.pointerEvents="auto",ge.style.pointerEvents="auto",()=>{Se.style.pointerEvents="",U.style.pointerEvents="",ge.style.pointerEvents=""}}}},[d,r,_,u,w,E,he]),oo(()=>{r||(I.current=void 0,le.current=!1,Oe(),ce())},[r,Oe,ce]),C.useEffect(()=>()=>{Oe(),wi(F),wi(V),ce()},[d,u.domReference,Oe,ce]);const B=C.useMemo(()=>{function X(q){I.current=q.pointerType}return{onPointerDown:X,onPointerEnter:X,onMouseMove(q){const{nativeEvent:ge}=q;function Se(){!A.current&&!N.current&&i(!0,ge,"hover")}g&&!Qg(I.current)||r||wg(D.current)===0||le.current&&q.movementX**2+q.movementY**2<2||(wi(V),I.current==="touch"?Se():(le.current=!0,V.current=window.setTimeout(Se,wg(D.current))))}}},[g,i,r,N,D]);return C.useMemo(()=>d?{reference:B}:{},[d,B])}const Jg=()=>{},NC=C.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Jg,setState:Jg,isInstantPhase:!1}),LD=()=>C.useContext(NC);function BD(e){const{children:t,delay:r,timeoutMs:i=0}=e,[a,s]=C.useReducer((f,h)=>({...f,...h}),{delay:r,timeoutMs:i,initialDelay:r,currentId:null,isInstantPhase:!1}),u=C.useRef(null),d=C.useCallback(f=>{s({currentId:f})},[]);return oo(()=>{a.currentId?u.current===null?u.current=a.currentId:a.isInstantPhase||s({isInstantPhase:!0}):(a.isInstantPhase&&s({isInstantPhase:!1}),u.current=null)},[a.currentId,a.isInstantPhase]),R.jsx(NC.Provider,{value:C.useMemo(()=>({...a,setState:s,setCurrentId:d}),[a,d]),children:t})}function UD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,floatingId:a}=e,{id:s,enabled:u=!0}=t,d=s??a,f=LD(),{currentId:h,setCurrentId:g,initialDelay:y,setState:x,timeoutMs:w}=f;return oo(()=>{u&&h&&(x({delay:{open:1,close:Zf(y,"close")}}),h!==d&&i(!1))},[u,d,i,x,h,y]),oo(()=>{function _(){i(!1),x({delay:y,currentId:null})}if(u&&h&&!r&&h===d){if(w){const E=window.setTimeout(_,w);return()=>{clearTimeout(E)}}_()}},[u,r,x,h,d,i,y,w]),oo(()=>{u&&(g===Jg||!r||g(d))},[u,r,g,d]),f}const $D={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},HD={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Zw=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};function qD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,elements:a,dataRef:s}=e,{enabled:u=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:x=!1,bubbles:w,capture:_}=t,E=Vy(),T=ro(typeof f=="function"?f:()=>!1),N=typeof f=="function"?T:f,D=C.useRef(!1),{escapeKey:I,outsidePress:F}=Zw(w),{escapeKey:k,outsidePress:V}=Zw(_),A=C.useRef(!1),G=ro(ce=>{var xe;if(!r||!u||!d||ce.key!=="Escape"||A.current)return;const B=(xe=s.current.floatingContext)==null?void 0:xe.nodeId,X=E?Wf(E.nodesRef.current,B):[];if(!I&&(ce.stopPropagation(),X.length>0)){let q=!0;if(X.forEach(ge=>{var Se;if((Se=ge.context)!=null&&Se.open&&!ge.context.dataRef.current.__escapeKeyBubbles){q=!1;return}}),!q)return}i(!1,FP(ce)?ce.nativeEvent:ce,"escape-key")}),W=ro(ce=>{var xe;const B=()=>{var X;G(ce),(X=Vl(ce))==null||X.removeEventListener("keydown",B)};(xe=Vl(ce))==null||xe.addEventListener("keydown",B)}),le=ro(ce=>{var xe;const B=s.current.insideReactTree;s.current.insideReactTree=!1;const X=D.current;if(D.current=!1,h==="click"&&X||B||typeof N=="function"&&!N(ce))return;const q=Vl(ce),ge="["+Yy("inert")+"]",Se=Rs(a.floating).querySelectorAll(ge);let U=pn(q)?q:null;for(;U&&!$o(U);){const Ie=Go(U);if($o(Ie)||!pn(Ie))break;U=Ie}if(Se.length&&pn(q)&&!NP(q)&&!Yc(q,a.floating)&&Array.from(Se).every(Ie=>!Yc(U,Ie)))return;if(si(q)&&Oe){const Ie=$o(q),qe=_i(q),nt=/auto|scroll/,wt=Ie||nt.test(qe.overflowX),De=Ie||nt.test(qe.overflowY),Zt=wt&&q.clientWidth>0&&q.scrollWidth>q.clientWidth,ln=De&&q.clientHeight>0&&q.scrollHeight>q.clientHeight,Ze=qe.direction==="rtl",ht=ln&&(Ze?ce.offsetX<=q.offsetWidth-q.clientWidth:ce.offsetX>q.clientWidth),kt=Zt&&ce.offsetY>q.clientHeight;if(ht||kt)return}const ie=(xe=s.current.floatingContext)==null?void 0:xe.nodeId,Ce=E&&Wf(E.nodesRef.current,ie).some(Ie=>{var qe;return vg(ce,(qe=Ie.context)==null?void 0:qe.elements.floating)});if(vg(ce,a.floating)||vg(ce,a.domReference)||Ce)return;const Ne=E?Wf(E.nodesRef.current,ie):[];if(Ne.length>0){let Ie=!0;if(Ne.forEach(qe=>{var nt;if((nt=qe.context)!=null&&nt.open&&!qe.context.dataRef.current.__outsidePressBubbles){Ie=!1;return}}),!Ie)return}i(!1,ce,"outside-press")}),he=ro(ce=>{var xe;const B=()=>{var X;le(ce),(X=Vl(ce))==null||X.removeEventListener(h,B)};(xe=Vl(ce))==null||xe.addEventListener(h,B)});C.useEffect(()=>{if(!r||!u)return;s.current.__escapeKeyBubbles=I,s.current.__outsidePressBubbles=F;let ce=-1;function xe(Se){i(!1,Se,"ancestor-scroll")}function B(){window.clearTimeout(ce),A.current=!0}function X(){ce=window.setTimeout(()=>{A.current=!1},Ah()?5:0)}const q=Rs(a.floating);d&&(q.addEventListener("keydown",k?W:G,k),q.addEventListener("compositionstart",B),q.addEventListener("compositionend",X)),N&&q.addEventListener(h,V?he:le,V);let ge=[];return x&&(pn(a.domReference)&&(ge=Ho(a.domReference)),pn(a.floating)&&(ge=ge.concat(Ho(a.floating))),!pn(a.reference)&&a.reference&&a.reference.contextElement&&(ge=ge.concat(Ho(a.reference.contextElement)))),ge=ge.filter(Se=>{var U;return Se!==((U=q.defaultView)==null?void 0:U.visualViewport)}),ge.forEach(Se=>{Se.addEventListener("scroll",xe,{passive:!0})}),()=>{d&&(q.removeEventListener("keydown",k?W:G,k),q.removeEventListener("compositionstart",B),q.removeEventListener("compositionend",X)),N&&q.removeEventListener(h,V?he:le,V),ge.forEach(Se=>{Se.removeEventListener("scroll",xe)}),window.clearTimeout(ce)}},[s,a,d,N,h,r,i,x,u,I,F,G,k,W,le,V,he]),C.useEffect(()=>{s.current.insideReactTree=!1},[s,N,h]);const de=C.useMemo(()=>({onKeyDown:G,...g&&{[$D[y]]:ce=>{i(!1,ce.nativeEvent,"reference-press")},...y!=="click"&&{onClick(ce){i(!1,ce.nativeEvent,"reference-press")}}}}),[G,i,g,y]),Oe=C.useMemo(()=>({onKeyDown:G,onMouseDown(){D.current=!0},onMouseUp(){D.current=!0},[HD[h]]:()=>{s.current.insideReactTree=!0}}),[G,h,s]);return C.useMemo(()=>u?{reference:de,floating:Oe}:{},[u,de,Oe])}function GD(e){const{open:t=!1,onOpenChange:r,elements:i}=e,a=AC(),s=C.useRef({}),[u]=C.useState(()=>jD()),d=Gy()!=null,[f,h]=C.useState(i.reference),g=ro((w,_,E)=>{s.current.openEvent=w?_:void 0,u.emit("openchange",{open:w,event:_,reason:E,nested:d}),r?.(w,_,E)}),y=C.useMemo(()=>({setPositionReference:h}),[]),x=C.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return C.useMemo(()=>({dataRef:s,open:t,onOpenChange:g,elements:x,events:u,floatingId:a,refs:y}),[t,g,x,u,a,y])}function Ky(e){e===void 0&&(e={});const{nodeId:t}=e,r=GD({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||r,a=i.elements,[s,u]=C.useState(null),[d,f]=C.useState(null),g=a?.domReference||s,y=C.useRef(null),x=Vy();oo(()=>{g&&(y.current=g)},[g]);const w=OD({...e,elements:{...a,...d&&{reference:d}}}),_=C.useCallback(I=>{const F=pn(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;f(F),w.refs.setReference(F)},[w.refs]),E=C.useCallback(I=>{(pn(I)||I===null)&&(y.current=I,u(I)),(pn(w.refs.reference.current)||w.refs.reference.current===null||I!==null&&!pn(I))&&w.refs.setReference(I)},[w.refs]),T=C.useMemo(()=>({...w.refs,setReference:E,setPositionReference:_,domReference:y}),[w.refs,E,_]),N=C.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),D=C.useMemo(()=>({...w,...i,refs:T,elements:N,nodeId:t}),[w,T,N,t,i]);return oo(()=>{i.dataRef.current.floatingContext=D;const I=x?.nodesRef.current.find(F=>F.id===t);I&&(I.context=D)}),C.useMemo(()=>({...w,context:D,refs:T,elements:N}),[w,T,N,D])}function Sg(){return PP()&&RP()}function VD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,events:a,dataRef:s,elements:u}=e,{enabled:d=!0,visibleOnly:f=!0}=t,h=C.useRef(!1),g=C.useRef(-1),y=C.useRef(!0);C.useEffect(()=>{if(!d)return;const w=Hr(u.domReference);function _(){!r&&si(u.domReference)&&u.domReference===Fw(Rs(u.domReference))&&(h.current=!0)}function E(){y.current=!0}function T(){y.current=!1}return w.addEventListener("blur",_),Sg()&&(w.addEventListener("keydown",E,!0),w.addEventListener("pointerdown",T,!0)),()=>{w.removeEventListener("blur",_),Sg()&&(w.removeEventListener("keydown",E,!0),w.removeEventListener("pointerdown",T,!0))}},[u.domReference,r,d]),C.useEffect(()=>{if(!d)return;function w(_){let{reason:E}=_;(E==="reference-press"||E==="escape-key")&&(h.current=!0)}return a.on("openchange",w),()=>{a.off("openchange",w)}},[a,d]),C.useEffect(()=>()=>{wi(g)},[]);const x=C.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(w){if(h.current)return;const _=Vl(w.nativeEvent);if(f&&pn(_)){if(Sg()&&!w.relatedTarget){if(!y.current&&!IP(_))return}else if(!jP(_))return}i(!0,w.nativeEvent,"focus")},onBlur(w){h.current=!1;const _=w.relatedTarget,E=w.nativeEvent,T=pn(_)&&_.hasAttribute(Yy("focus-guard"))&&_.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var N;const D=Fw(u.domReference?u.domReference.ownerDocument:document);!_&&D===u.domReference||Yc((N=s.current.floatingContext)==null?void 0:N.refs.floating.current,D)||Yc(u.domReference,D)||T||i(!1,E,"focus")})}}),[s,u.domReference,i,f]);return C.useMemo(()=>d?{reference:x}:{},[d,x])}function Cg(e,t,r){const i=new Map,a=r==="item";let s=e;if(a&&e){const{[Yw]:u,[Kw]:d,...f}=e;s=f}return{...r==="floating"&&{tabIndex:-1,[PD]:""},...s,...t.map(u=>{const d=u?u[r]:null;return typeof d=="function"?e?d(e):null:d}).concat(e).reduce((u,d)=>(d&&Object.entries(d).forEach(f=>{let[h,g]=f;if(!(a&&[Yw,Kw].includes(h)))if(h.indexOf("on")===0){if(i.has(h)||i.set(h,[]),typeof g=="function"){var y;(y=i.get(h))==null||y.push(g),u[h]=function(){for(var x,w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];return(x=i.get(h))==null?void 0:x.map(T=>T(..._)).find(T=>T!==void 0)}}}else u[h]=g}),u),{})}}function YD(e){e===void 0&&(e=[]);const t=e.map(d=>d?.reference),r=e.map(d=>d?.floating),i=e.map(d=>d?.item),a=C.useCallback(d=>Cg(d,e,"reference"),t),s=C.useCallback(d=>Cg(d,e,"floating"),r),u=C.useCallback(d=>Cg(d,e,"item"),i);return C.useMemo(()=>({getReferenceProps:a,getFloatingProps:s,getItemProps:u}),[a,s,u])}const KD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function XD(e,t){var r,i;t===void 0&&(t={});const{open:a,elements:s,floatingId:u}=e,{enabled:d=!0,role:f="dialog"}=t,h=AC(),g=((r=s.domReference)==null?void 0:r.id)||h,y=C.useMemo(()=>{var D;return((D=zP(s.floating))==null?void 0:D.id)||u},[s.floating,u]),x=(i=KD.get(f))!=null?i:f,_=Gy()!=null,E=C.useMemo(()=>x==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:a?y:void 0}:{"aria-expanded":a?"true":"false","aria-haspopup":x==="alertdialog"?"dialog":x,"aria-controls":a?y:void 0,...x==="listbox"&&{role:"combobox"},...x==="menu"&&{id:g},...x==="menu"&&_&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[x,y,_,a,g,f]),T=C.useMemo(()=>{const D={id:y,...x&&{role:x}};return x==="tooltip"||f==="label"?D:{...D,...x==="menu"&&{"aria-labelledby":g}}},[x,y,g,f]),N=C.useCallback(D=>{let{active:I,selected:F}=D;const k={role:"option",...I&&{id:y+"-fui-option"}};switch(f){case"select":case"combobox":return{...k,"aria-selected":F}}return{}},[y,f]);return C.useMemo(()=>d?{reference:E,floating:T,item:N}:{},[d,E,T,N])}var Xy={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const[WD,Mi]=co("ScrollArea.Root component was not found in tree");function ru(e,t){const r=Ts(t);Ka(()=>{let i=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(i),a.unobserve(e)}}},[e,r])}const QD=C.forwardRef((e,t)=>{const{style:r,...i}=e,a=Mi(),[s,u]=C.useState(0),[d,f]=C.useState(0),h=!!(s&&d);return ru(a.scrollbarX,()=>{const g=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(g),f(g)}),ru(a.scrollbarY,()=>{const g=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(g),u(g)}),h?R.jsx("div",{...i,ref:t,style:{...r,width:s,height:d}}):null}),ZD=C.forwardRef((e,t)=>{const r=Mi(),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?R.jsx(QD,{...e,ref:t}):null}),JD={scrollHideDelay:1e3,type:"hover"},IC=C.forwardRef((e,t)=>{const{type:r,scrollHideDelay:i,scrollbars:a,getStyles:s,...u}=Le("ScrollAreaRoot",JD,e),[d,f]=C.useState(null),[h,g]=C.useState(null),[y,x]=C.useState(null),[w,_]=C.useState(null),[E,T]=C.useState(null),[N,D]=C.useState(0),[I,F]=C.useState(0),[k,V]=C.useState(!1),[A,G]=C.useState(!1),W=Gr(t,le=>f(le));return R.jsx(WD,{value:{type:r,scrollHideDelay:i,scrollArea:d,viewport:h,onViewportChange:g,content:y,onContentChange:x,scrollbarX:w,onScrollbarXChange:_,scrollbarXEnabled:k,onScrollbarXEnabledChange:V,scrollbarY:E,onScrollbarYChange:T,scrollbarYEnabled:A,onScrollbarYEnabledChange:G,onCornerWidthChange:D,onCornerHeightChange:F,getStyles:s},children:R.jsx(Fe,{...u,ref:W,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${N}px`,"--sa-corner-height":a!=="xy"?"0px":`${I}px`}})})});IC.displayName="@mantine/core/ScrollAreaRoot";function jC(e,t){const r=e/t;return Number.isNaN(r)?0:r}function jh(e){const t=jC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*t;return Math.max(i,18)}function zC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function e2(e,[t,r]){return Math.min(r,Math.max(t,e))}function Jw(e,t,r="ltr"){const i=jh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,u=t.content-t.viewport,d=s-i,f=r==="ltr"?[0,u]:[u*-1,0],h=e2(e,f);return zC([0,u],[0,d])(h)}function t2(e,t,r,i="ltr"){const a=jh(r),s=a/2,u=t||s,d=a-u,f=r.scrollbar.paddingStart+u,h=r.scrollbar.size-r.scrollbar.paddingEnd-d,g=r.content-r.viewport,y=i==="ltr"?[0,g]:[g*-1,0];return zC([f,h],y)(e)}function FC(e,t){return e>0&&e<t}function ch(e){return e?parseInt(e,10):0}function Is(e,t,{checkForDefaultPrevented:r=!0}={}){return i=>{e?.(i),(r===!1||!i.defaultPrevented)&&t?.(i)}}const[n2,kC]=co("ScrollAreaScrollbar was not found in tree"),LC=C.forwardRef((e,t)=>{const{sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:g,...y}=e,x=Mi(),[w,_]=C.useState(null),E=Gr(t,G=>_(G)),T=C.useRef(null),N=C.useRef(""),{viewport:D}=x,I=r.content-r.viewport,F=Ts(h),k=Ts(d),V=Ch(g,10),A=G=>{if(T.current){const W=G.clientX-T.current.left,le=G.clientY-T.current.top;f({x:W,y:le})}};return C.useEffect(()=>{const G=W=>{const le=W.target;w?.contains(le)&&F(W,I)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[D,w,I,F]),C.useEffect(k,[r,k]),ru(w,V),ru(x.content,V),R.jsx(n2,{value:{scrollbar:w,hasThumb:i,onThumbChange:Ts(a),onThumbPointerUp:Ts(s),onThumbPositionChange:k,onThumbPointerDown:Ts(u)},children:R.jsx("div",{...y,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:Is(e.onPointerDown,G=>{G.preventDefault(),G.button===0&&(G.target.setPointerCapture(G.pointerId),T.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A(G))}),onPointerMove:Is(e.onPointerMove,A),onPointerUp:Is(e.onPointerUp,G=>{const W=G.target;W.hasPointerCapture(G.pointerId)&&(G.preventDefault(),W.releasePointerCapture(G.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=N.current,T.current=null}})})}),BC=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,style:a,...s}=e,u=Mi(),[d,f]=C.useState(),h=C.useRef(null),g=Gr(t,h,u.onScrollbarXChange);return C.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),R.jsx(LC,{"data-orientation":"horizontal",...s,ref:g,sizes:r,style:{...a,"--sa-thumb-width":`${jh(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,x)=>{if(u.viewport){const w=u.viewport.scrollLeft+y.deltaX;e.onWheelScroll(w),FC(w,x)&&y.preventDefault()}},onResize:()=>{h.current&&u.viewport&&d&&i({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:ch(d.paddingLeft),paddingEnd:ch(d.paddingRight)}})}})});BC.displayName="@mantine/core/ScrollAreaScrollbarX";const UC=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,style:a,...s}=e,u=Mi(),[d,f]=C.useState(),h=C.useRef(null),g=Gr(t,h,u.onScrollbarYChange);return C.useEffect(()=>{h.current&&f(window.getComputedStyle(h.current))},[]),R.jsx(LC,{...s,"data-orientation":"vertical",ref:g,sizes:r,style:{"--sa-thumb-height":`${jh(r)}px`,...a},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,x)=>{if(u.viewport){const w=u.viewport.scrollTop+y.deltaY;e.onWheelScroll(w),FC(w,x)&&y.preventDefault()}},onResize:()=>{h.current&&u.viewport&&d&&i({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:ch(d.paddingTop),paddingEnd:ch(d.paddingBottom)}})}})});UC.displayName="@mantine/core/ScrollAreaScrollbarY";const zh=C.forwardRef((e,t)=>{const{orientation:r="vertical",...i}=e,{dir:a}=nd(),s=Mi(),u=C.useRef(null),d=C.useRef(0),[f,h]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=jC(f.viewport,f.content),y={...i,sizes:f,onSizesChange:h,hasThumb:g>0&&g<1,onThumbChange:w=>{u.current=w},onThumbPointerUp:()=>{d.current=0},onThumbPointerDown:w=>{d.current=w}},x=(w,_)=>t2(w,d.current,f,_);return r==="horizontal"?R.jsx(BC,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&u.current){const w=s.viewport.scrollLeft,_=Jw(w,f,a);u.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=x(w,a))}}):r==="vertical"?R.jsx(UC,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&u.current){const w=s.viewport.scrollTop,_=Jw(w,f);f.scrollbar.size===0?u.current.style.setProperty("--thumb-opacity","0"):u.current.style.setProperty("--thumb-opacity","1"),u.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=x(w))}}):null});zh.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Wy=C.forwardRef((e,t)=>{const r=Mi(),{forceMount:i,...a}=e,[s,u]=C.useState(!1),d=e.orientation==="horizontal",f=Ch(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?h:g)}},10);return ru(r.viewport,f),ru(r.content,f),i||s?R.jsx(zh,{"data-state":s?"visible":"hidden",...a,ref:t}):null});Wy.displayName="@mantine/core/ScrollAreaScrollbarAuto";const $C=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=Mi(),[s,u]=C.useState(!1);return C.useEffect(()=>{const{scrollArea:d}=a;let f=0;if(d){const h=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",g)}}},[a.scrollArea,a.scrollHideDelay]),r||s?R.jsx(Wy,{"data-state":s?"visible":"hidden",...i,ref:t}):null});$C.displayName="@mantine/core/ScrollAreaScrollbarHover";const r2=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=Mi(),s=e.orientation==="horizontal",[u,d]=C.useState("hidden"),f=Ch(()=>d("idle"),100);return C.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>d("hidden"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,a.scrollHideDelay]),C.useEffect(()=>{const{viewport:h}=a,g=s?"scrollLeft":"scrollTop";if(h){let y=h[g];const x=()=>{const w=h[g];y!==w&&(d("scrolling"),f()),y=w};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[a.viewport,s,f]),r||u!=="hidden"?R.jsx(zh,{"data-state":u==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Is(e.onPointerEnter,()=>d("interacting")),onPointerLeave:Is(e.onPointerLeave,()=>d("idle"))}):null}),ey=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=Mi(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:u}=a,d=e.orientation==="horizontal";return C.useEffect(()=>(d?s(!0):u(!0),()=>{d?s(!1):u(!1)}),[d,s,u]),a.type==="hover"?R.jsx($C,{...i,ref:t,forceMount:r}):a.type==="scroll"?R.jsx(r2,{...i,ref:t,forceMount:r}):a.type==="auto"?R.jsx(Wy,{...i,ref:t,forceMount:r}):a.type==="always"?R.jsx(zh,{...i,ref:t}):null});ey.displayName="@mantine/core/ScrollAreaScrollbar";function i2(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},i=0;return(function a(){const s={left:e.scrollLeft,top:e.scrollTop},u=r.left!==s.left,d=r.top!==s.top;(u||d)&&t(),r=s,i=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(i)}const HC=C.forwardRef((e,t)=>{const{style:r,...i}=e,a=Mi(),s=kC(),{onThumbPositionChange:u}=s,d=Gr(t,g=>s.onThumbChange(g)),f=C.useRef(void 0),h=Ch(()=>{f.current&&(f.current(),f.current=void 0)},100);return C.useEffect(()=>{const{viewport:g}=a;if(g){const y=()=>{if(h(),!f.current){const x=i2(g,u);f.current=x,u()}};return u(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[a.viewport,h,u]),R.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Is(e.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),w=g.clientX-x.left,_=g.clientY-x.top;s.onThumbPointerDown({x:w,y:_})}),onPointerUp:Is(e.onPointerUp,s.onThumbPointerUp)})});HC.displayName="@mantine/core/ScrollAreaThumb";const ty=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=kC();return r||a.hasThumb?R.jsx(HC,{ref:t,...i}):null});ty.displayName="@mantine/core/ScrollAreaThumb";const qC=C.forwardRef(({children:e,style:t,onWheel:r,...i},a)=>{const s=Mi(),u=Gr(a,s.onViewportChange),d=f=>{if(r?.(f),s.scrollbarXEnabled&&s.viewport&&f.shiftKey){const{scrollTop:h,scrollHeight:g,clientHeight:y,scrollWidth:x,clientWidth:w}=s.viewport,_=h<1,E=h>=g-y-1;x>w&&(_||E)&&f.stopPropagation()}};return R.jsx(Fe,{...i,ref:u,onWheel:d,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:R.jsx("div",{...s.getStyles("content"),ref:s.onContentChange,children:e})})});qC.displayName="@mantine/core/ScrollAreaViewport";const GC={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},o2=(e,{scrollbarSize:t,overscrollBehavior:r,scrollbars:i})=>{let a=r;return r&&i&&(i==="x"?a=`${r} auto`:i==="y"&&(a=`auto ${r}`)),{root:{"--scrollarea-scrollbar-size":_e(t),"--scrollarea-over-scroll-behavior":a}}},vu=Je((e,t)=>{const r=Le("ScrollArea",GC,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,scrollbarSize:f,vars:h,type:g,scrollHideDelay:y,viewportProps:x,viewportRef:w,onScrollPositionChange:_,children:E,offsetScrollbars:T,scrollbars:N,onBottomReached:D,onTopReached:I,overscrollBehavior:F,attributes:k,...V}=r,[A,G]=C.useState(!1),[W,le]=C.useState(!1),[he,de]=C.useState(!1),Oe=gt({name:"ScrollArea",props:r,classes:Xy,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:k,vars:h,varsResolver:o2}),ce=C.useRef(null),xe=DC([w,ce]);return C.useEffect(()=>{if(!ce.current||T!=="present")return;const B=ce.current,X=new ResizeObserver(()=>{const{scrollHeight:q,clientHeight:ge,scrollWidth:Se,clientWidth:U}=B;le(q>ge),de(Se>U)});return X.observe(B),()=>X.disconnect()},[ce,T]),R.jsxs(IC,{getStyles:Oe,type:g==="never"?"always":g,scrollHideDelay:y,ref:t,scrollbars:N,...Oe("root"),...V,children:[R.jsx(qC,{...x,...Oe("viewport",{style:x?.style}),ref:xe,"data-offset-scrollbars":T===!0?"xy":T||void 0,"data-scrollbars":N||void 0,"data-horizontal-hidden":T==="present"&&!he?"true":void 0,"data-vertical-hidden":T==="present"&&!W?"true":void 0,onScroll:B=>{x?.onScroll?.(B),_?.({x:B.currentTarget.scrollLeft,y:B.currentTarget.scrollTop});const{scrollTop:X,scrollHeight:q,clientHeight:ge}=B.currentTarget;X-(q-ge)>=-.8&&D?.(),X===0&&I?.()},children:E}),(N==="xy"||N==="x")&&R.jsx(ey,{...Oe("scrollbar"),orientation:"horizontal","data-hidden":g==="never"||T==="present"&&!he?!0:void 0,forceMount:!0,onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),children:R.jsx(ty,{...Oe("thumb")})}),(N==="xy"||N==="y")&&R.jsx(ey,{...Oe("scrollbar"),orientation:"vertical","data-hidden":g==="never"||T==="present"&&!W?!0:void 0,forceMount:!0,onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),children:R.jsx(ty,{...Oe("thumb")})}),R.jsx(ZD,{...Oe("corner"),"data-hovered":A||void 0,"data-hidden":g==="never"||void 0})]})});vu.displayName="@mantine/core/ScrollArea";const Qy=Je((e,t)=>{const{children:r,classNames:i,styles:a,scrollbarSize:s,scrollHideDelay:u,type:d,dir:f,offsetScrollbars:h,overscrollBehavior:g,viewportRef:y,onScrollPositionChange:x,unstyled:w,variant:_,viewportProps:E,scrollbars:T,style:N,vars:D,onBottomReached:I,onTopReached:F,onOverflowChange:k,...V}=Le("ScrollAreaAutosize",GC,e),A=C.useRef(null),G=DC([y,A]),[W,le]=C.useState(!1),he=C.useRef(!1);return C.useEffect(()=>{if(!k)return;const de=A.current;if(!de)return;const Oe=()=>{const xe=de.scrollHeight>de.clientHeight;xe!==W&&(he.current?k?.(xe):(he.current=!0,xe&&k?.(!0)),le(xe))};Oe();const ce=new ResizeObserver(Oe);return ce.observe(de),()=>ce.disconnect()},[k,W]),R.jsx(Fe,{...V,ref:t,style:[{display:"flex",overflow:"hidden"},N],children:R.jsx(Fe,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...T==="y"&&{minWidth:0},...T==="x"&&{minHeight:0},...T==="xy"&&{minWidth:0,minHeight:0},...T===!1&&{minWidth:0,minHeight:0}},children:R.jsx(vu,{classNames:i,styles:a,scrollHideDelay:u,scrollbarSize:s,type:d,dir:f,offsetScrollbars:h,overscrollBehavior:g,viewportRef:G,onScrollPositionChange:x,unstyled:w,variant:_,viewportProps:E,vars:D,scrollbars:T,onBottomReached:I,onTopReached:F,"data-autosize":"true",children:r})})})});vu.classes=Xy;Qy.displayName="@mantine/core/ScrollAreaAutosize";Qy.classes=Xy;vu.Autosize=Qy;var VC={root:"m_87cf2631"};const a2={__staticSelector:"UnstyledButton"},$s=Tr((e,t)=>{const r=Le("UnstyledButton",a2,e),{className:i,component:a="button",__staticSelector:s,unstyled:u,classNames:d,styles:f,style:h,attributes:g,...y}=r,x=gt({name:s,props:r,classes:VC,className:i,style:h,classNames:d,styles:f,unstyled:u,attributes:g});return R.jsx(Fe,{...x("root",{focusable:!0}),component:a,ref:t,type:a==="button"?"button":void 0,...y})});$s.classes=VC;$s.displayName="@mantine/core/UnstyledButton";var YC={root:"m_515a97f8"};const Zy=Je((e,t)=>{const r=Le("VisuallyHidden",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,attributes:h,...g}=r,y=gt({name:"VisuallyHidden",classes:YC,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:h});return R.jsx(Fe,{component:"span",ref:t,...y("root"),...g})});Zy.classes=YC;Zy.displayName="@mantine/core/VisuallyHidden";var KC={root:"m_1b7284a3"};const s2=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:An(t),"--paper-shadow":Ry(r)}}),Fh=Tr((e,t)=>{const r=Le("Paper",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,withBorder:f,vars:h,radius:g,shadow:y,variant:x,mod:w,attributes:_,...E}=r,T=gt({name:"Paper",props:r,classes:KC,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:_,vars:h,varsResolver:s2});return R.jsx(Fe,{ref:t,mod:[{"data-with-border":f},w],...T("root"),variant:x,...E})});Fh.classes=KC;Fh.displayName="@mantine/core/Paper";function eS(e,t,r,i){return e==="center"||i==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function tS(e,t,r,i,a){return e==="center"||i==="center"?{left:t}:e==="end"?{[a==="ltr"?"right":"left"]:r}:e==="start"?{[a==="ltr"?"left":"right"]:r}:{}}const l2={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function u2({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:a,arrowX:s,arrowY:u,dir:d}){const[f,h="center"]=e.split("-"),g={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[l2[f]]:i},y=-t/2;return f==="left"?{...g,...eS(h,u,r,a),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:f==="right"?{...g,...eS(h,u,r,a),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:f==="top"?{...g,...tS(h,s,r,a,d),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:f==="bottom"?{...g,...tS(h,s,r,a,d),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const dh=C.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:a,visible:s,arrowX:u,arrowY:d,style:f,...h},g)=>{const{dir:y}=nd();return s?R.jsx("div",{...h,ref:g,style:{...f,...u2({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:a,dir:y,arrowX:u,arrowY:d})}}):null});dh.displayName="@mantine/core/FloatingArrow";function XC(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,i]=t.split("-"),a=r==="right"?"left":"right";return i===void 0?a:`${a}-${i}`}return t}var WC={root:"m_9814e45f"};const c2={zIndex:Hi("modal")},d2=(e,{gradient:t,color:r,backgroundOpacity:i,blur:a,radius:s,zIndex:u})=>({root:{"--overlay-bg":t||(r!==void 0||i!==void 0)&&to(r||"#000",i??.6)||void 0,"--overlay-filter":a?`blur(${_e(a)})`:void 0,"--overlay-radius":s===void 0?void 0:An(s),"--overlay-z-index":u?.toString()}}),kh=Tr((e,t)=>{const r=Le("Overlay",c2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,fixed:h,center:g,children:y,radius:x,zIndex:w,gradient:_,blur:E,color:T,backgroundOpacity:N,mod:D,attributes:I,...F}=r,k=gt({name:"Overlay",props:r,classes:WC,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:I,vars:f,varsResolver:d2});return R.jsx(Fe,{ref:t,...k("root"),mod:[{center:g,fixed:h},D],...F,children:y})});kh.classes=WC;kh.displayName="@mantine/core/Overlay";function _g(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function f2({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||_g(r):e;if(t){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const a=_g(r);return a.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(a),a}return _g(r)}const h2={reuseTargetNode:!0},QC=Je((e,t)=>{const{children:r,target:i,reuseTargetNode:a,...s}=Le("Portal",h2,e),[u,d]=C.useState(!1),f=C.useRef(null);return Ka(()=>(d(!0),f.current=f2({target:i,reuseTargetNode:a,...s}),Hg(t,f.current),!i&&!a&&f.current&&document.body.appendChild(f.current),()=>{!i&&!a&&f.current&&document.body.removeChild(f.current)}),[i]),!u||!f.current?null:Us.createPortal(R.jsx(R.Fragment,{children:r}),f.current)});QC.displayName="@mantine/core/Portal";const Va=Je(({withinPortal:e=!0,children:t,...r},i)=>Mh()==="test"||!e?R.jsx(R.Fragment,{children:t}):R.jsx(QC,{ref:i,...r,children:t}));Va.displayName="@mantine/core/OptionalPortal";const Tc=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),zf={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Tc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Tc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Tc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Tc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Tc("top"),common:{transformOrigin:"top right"}}},nS={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function p2({transition:e,state:t,duration:r,timingFunction:i}){const a={WebkitBackfaceVisibility:"hidden",transitionDuration:`${r}ms`,transitionTimingFunction:i};return typeof e=="string"?e in zf?{transitionProperty:zf[e].transitionProperty,...a,...zf[e].common,...zf[e][nS[t]]}:{}:{transitionProperty:e.transitionProperty,...a,...e.common,...e[nS[t]]}}function m2({duration:e,exitDuration:t,timingFunction:r,mounted:i,onEnter:a,onExit:s,onEntered:u,onExited:d,enterDelay:f,exitDelay:h}){const g=li(),y=_h(),x=g.respectReducedMotion?y:!1,[w,_]=C.useState(x?0:e),[E,T]=C.useState(i?"entered":"exited"),N=C.useRef(-1),D=C.useRef(-1),I=C.useRef(-1);function F(){window.clearTimeout(N.current),window.clearTimeout(D.current),cancelAnimationFrame(I.current)}const k=A=>{F();const G=A?a:s,W=A?u:d,le=x?0:A?e:t;_(le),le===0?(typeof G=="function"&&G(),typeof W=="function"&&W(),T(A?"entered":"exited")):I.current=requestAnimationFrame(()=>{Ic.flushSync(()=>{T(A?"pre-entering":"pre-exiting")}),I.current=requestAnimationFrame(()=>{typeof G=="function"&&G(),T(A?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof W=="function"&&W(),T(A?"entered":"exited")},le)})})},V=A=>{if(F(),typeof(A?f:h)!="number"){k(A);return}D.current=window.setTimeout(()=>{k(A)},A?f:h)};return zs(()=>{V(i)},[i]),C.useEffect(()=>()=>{F()},[]),{transitionDuration:w,transitionStatus:E,transitionTimingFunction:r||"ease"}}function Vo({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:i=r,mounted:a,children:s,timingFunction:u="ease",onExit:d,onEntered:f,onEnter:h,onExited:g,enterDelay:y,exitDelay:x}){const w=Mh(),{transitionDuration:_,transitionStatus:E,transitionTimingFunction:T}=m2({mounted:a,exitDuration:i,duration:r,timingFunction:u,onExit:d,onEntered:f,onEnter:h,onExited:g,enterDelay:y,exitDelay:x});return _===0||w==="test"?a?R.jsx(R.Fragment,{children:s({})}):e?s({display:"none"}):null:E==="exited"?e?s({display:"none"}):null:R.jsx(R.Fragment,{children:s(p2({transition:t,duration:_,state:E,timingFunction:T}))})}Vo.displayName="@mantine/core/Transition";const[g2,ZC]=co("Popover component was not found in the tree");var JC={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};function Lh({children:e,active:t=!0,refProp:r="ref",innerRef:i}){const a=kT(t),s=Gr(a,i),u=mu(e);return u?C.cloneElement(u,{[r]:s}):e}function e_(e){return R.jsx(Zy,{tabIndex:-1,"data-autofocus":!0,...e})}Lh.displayName="@mantine/core/FocusTrap";e_.displayName="@mantine/core/FocusTrapInitialFocus";Lh.InitialFocus=e_;const Jy=Je((e,t)=>{const r=Le("PopoverDropdown",null,e),{className:i,style:a,vars:s,children:u,onKeyDownCapture:d,variant:f,classNames:h,styles:g,...y}=r,x=ZC(),w=Z1({opened:x.opened,shouldReturnFocus:x.returnFocus}),_=x.withRoles?{"aria-labelledby":x.getTargetId(),id:x.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=Gr(t,x.floating);return x.disabled?null:R.jsx(Va,{...x.portalProps,withinPortal:x.withinPortal,children:R.jsx(Vo,{mounted:x.opened,...x.transitionProps,transition:x.transitionProps?.transition||"fade",duration:x.transitionProps?.duration??150,keepMounted:x.keepMounted,exitDuration:typeof x.transitionProps?.exitDuration=="number"?x.transitionProps.exitDuration:x.transitionProps?.duration,children:T=>R.jsx(Lh,{active:x.trapFocus&&x.opened,innerRef:E,children:R.jsxs(Fe,{..._,...y,variant:f,onKeyDownCapture:OT(()=>{x.onClose?.(),x.onDismiss?.()},{active:x.closeOnEscape,onTrigger:w,onKeyDown:d}),"data-position":x.placement,"data-fixed":x.floatingStrategy==="fixed"||void 0,...x.getStyles("dropdown",{className:i,props:r,classNames:h,styles:g,style:[{...T,zIndex:x.zIndex,top:x.y??0,left:x.x??0,width:x.width==="target"?void 0:_e(x.width),...x.referenceHidden?{display:"none"}:null},x.resolvedStyles.dropdown,g?.dropdown,a]}),children:[u,R.jsx(dh,{ref:x.arrowRef,arrowX:x.arrowX,arrowY:x.arrowY,visible:x.withArrow,position:x.placement,arrowSize:x.arrowSize,arrowRadius:x.arrowRadius,arrowOffset:x.arrowOffset,arrowPosition:x.arrowPosition,...x.getStyles("arrow",{props:r,classNames:h,styles:g})})]})})})})});Jy.classes=JC;Jy.displayName="@mantine/core/PopoverDropdown";const y2={refProp:"ref",popupType:"dialog"},t_=Je((e,t)=>{const{children:r,refProp:i,popupType:a,...s}=Le("PopoverTarget",y2,e),u=mu(r);if(!u)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=s,f=ZC(),h=Gr(f.reference,Eh(u),t),g=f.withRoles?{"aria-haspopup":a,"aria-expanded":f.opened,"aria-controls":f.opened?f.getDropdownId():void 0,id:f.getTargetId()}:{},y=u.props;return C.cloneElement(u,{...d,...g,...f.targetProps,className:$n(f.targetProps.className,d.className,y.className),[i]:h,...f.controlled?null:{onClick:()=>{f.onToggle(),y.onClick?.()}}})});t_.displayName="@mantine/core/PopoverTarget";function v2(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function b2(e,t,r){const i=v2(e.middlewares),a=[RC(e.offset),RD()];return e.dropdownVisible&&r!=="test"&&e.preventPositionChangeWhenVisible&&(i.flip=!1),i.flip&&a.push(typeof i.flip=="boolean"?uh():uh(i.flip)),i.shift&&a.push(qy(typeof i.shift=="boolean"?{limiter:Vw(),padding:5}:{limiter:Vw(),padding:5,...i.shift})),i.inline&&a.push(typeof i.inline=="boolean"?Uc():Uc(i.inline)),a.push(PC({element:e.arrowRef,padding:e.arrowOffset})),(i.size||e.width==="target")&&a.push(TD({...typeof i.size=="boolean"?{}:i.size,apply({rects:s,availableWidth:u,availableHeight:d,...f}){const g=t().refs.floating.current?.style??{};i.size&&(typeof i.size=="object"&&i.size.apply?i.size.apply({rects:s,availableWidth:u,availableHeight:d,...f}):Object.assign(g,{maxWidth:`${u}px`,maxHeight:`${d}px`})),e.width==="target"&&Object.assign(g,{width:`${s.reference.width}px`})}})),a}function x2(e){const t=Mh(),[r,i]=Ga({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),a=C.useRef(r),s=()=>{r&&!e.disabled&&i(!1)},u=()=>{e.disabled||i(!r)},d=Ky({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:b2(e,()=>d,t),whileElementsMounted:e.keepMounted?void 0:Zg});return C.useEffect(()=>{if(!(!d.refs.reference.current||!d.refs.floating.current)&&r)return Zg(d.refs.reference.current,d.refs.floating.current,d.update)},[r,d.update]),zs(()=>{e.onPositionChange?.(d.placement),e.positionRef.current=d.placement},[d.placement,e.preventPositionChangeWhenVisible]),zs(()=>{r!==a.current&&(r?e.onOpen?.():e.onClose?.()),a.current=r},[r,e.onClose,e.onOpen]),Ka(()=>{let f=-1;return r&&(f=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(f)}},[r,e.position]),{floating:d,controlled:typeof e.opened=="boolean",opened:r,onClose:s,onToggle:u}}const w2={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Hi("popover"),__staticSelector:"Popover",width:"max-content"},S2=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:An(t),"--popover-shadow":Ry(r)}});function Xa(e){const t=Le("Popover",w2,e),{children:r,position:i,offset:a,onPositionChange:s,positionDependencies:u,opened:d,transitionProps:f,onExitTransitionEnd:h,onEnterTransitionEnd:g,width:y,middlewares:x,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:N,unstyled:D,classNames:I,styles:F,closeOnClickOutside:k,withinPortal:V,portalProps:A,closeOnEscape:G,clickOutsideEvents:W,trapFocus:le,onClose:he,onDismiss:de,onOpen:Oe,onChange:ce,zIndex:xe,radius:B,shadow:X,id:q,defaultOpened:ge,__staticSelector:Se,withRoles:U,disabled:ie,returnFocus:Ce,variant:Ne,keepMounted:Ie,vars:qe,floatingStrategy:nt,withOverlay:wt,overlayProps:De,hideDetached:Zt,attributes:ln,preventPositionChangeWhenVisible:Ze,...ht}=t,kt=gt({name:Se,props:t,classes:JC,classNames:I,styles:F,unstyled:D,attributes:ln,rootSelector:"dropdown",vars:qe,varsResolver:S2}),{resolvedStyles:nn}=Rh({classNames:I,styles:F,props:t}),[mn,Rr]=C.useState(d??ge??!1),rr=C.useRef(i),Jt=C.useRef(null),[qn,gn]=C.useState(null),[xn,br]=C.useState(null),{dir:Lt}=nd(),Ht=Mh(),Gn=Oi(q),lt=x2({middlewares:x,width:y,position:XC(Lt,i),offset:typeof a=="number"?a+(w?_/2:0):a,arrowRef:Jt,arrowOffset:E,onPositionChange:s,positionDependencies:u,opened:d,defaultOpened:ge,onChange:ce,onOpen:Oe,onClose:he,onDismiss:de,strategy:nt,dropdownVisible:mn,setDropdownVisible:Rr,positionRef:rr,disabled:ie,preventPositionChangeWhenVisible:Ze,keepMounted:Ie});RT(()=>{k&&(lt.onClose(),de?.())},W,[qn,xn]);const wn=C.useCallback(rn=>{gn(rn),lt.floating.refs.setReference(rn)},[lt.floating.refs.setReference]),_n=C.useCallback(rn=>{br(rn),lt.floating.refs.setFloating(rn)},[lt.floating.refs.setFloating]),Rn=C.useCallback(()=>{f?.onExited?.(),h?.(),Rr(!1),Ze||(rr.current=i)},[f?.onExited,h,Ze,i]),Vr=C.useCallback(()=>{f?.onEntered?.(),g?.()},[f?.onEntered,g]);return R.jsxs(g2,{value:{returnFocus:Ce,disabled:ie,controlled:lt.controlled,reference:wn,floating:_n,x:lt.floating.x,y:lt.floating.y,arrowX:lt.floating?.middlewareData?.arrow?.x,arrowY:lt.floating?.middlewareData?.arrow?.y,opened:lt.opened,arrowRef:Jt,transitionProps:{...f,onExited:Rn,onEntered:Vr},width:y,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:N,placement:lt.floating.placement,trapFocus:le,withinPortal:V,portalProps:A,zIndex:xe,radius:B,shadow:X,closeOnEscape:G,onDismiss:de,onClose:lt.onClose,onToggle:lt.onToggle,getTargetId:()=>`${Gn}-target`,getDropdownId:()=>`${Gn}-dropdown`,withRoles:U,targetProps:ht,__staticSelector:Se,classNames:I,styles:F,unstyled:D,variant:Ne,keepMounted:Ie,getStyles:kt,resolvedStyles:nn,floatingStrategy:nt,referenceHidden:Zt&&Ht!=="test"?lt.floating.middlewareData.hide?.referenceHidden:!1},children:[r,wt&&R.jsx(Vo,{transition:"fade",mounted:lt.opened,duration:f?.duration||250,exitDuration:f?.exitDuration||250,children:rn=>R.jsx(Va,{withinPortal:V,children:R.jsx(kh,{...De,...kt("overlay",{className:De?.className,style:[rn,De?.style]})})})})]})}Xa.Target=t_;Xa.Dropdown=Jy;Xa.displayName="@mantine/core/Popover";Xa.extend=e=>e;var ki={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const n_=C.forwardRef(({className:e,...t},r)=>R.jsxs(Fe,{component:"span",className:$n(ki.barsLoader,e),...t,ref:r,children:[R.jsx("span",{className:ki.bar}),R.jsx("span",{className:ki.bar}),R.jsx("span",{className:ki.bar})]}));n_.displayName="@mantine/core/Bars";const r_=C.forwardRef(({className:e,...t},r)=>R.jsxs(Fe,{component:"span",className:$n(ki.dotsLoader,e),...t,ref:r,children:[R.jsx("span",{className:ki.dot}),R.jsx("span",{className:ki.dot}),R.jsx("span",{className:ki.dot})]}));r_.displayName="@mantine/core/Dots";const i_=C.forwardRef(({className:e,...t},r)=>R.jsx(Fe,{component:"span",className:$n(ki.ovalLoader,e),...t,ref:r}));i_.displayName="@mantine/core/Oval";const o_={bars:n_,oval:i_,dots:r_},C2={loaders:o_,type:"oval"},_2=(e,{size:t,color:r})=>({root:{"--loader-size":Ft(t,"loader-size"),"--loader-color":r?ai(r,e):void 0}}),lo=Je((e,t)=>{const r=Le("Loader",C2,e),{size:i,color:a,type:s,vars:u,className:d,style:f,classNames:h,styles:g,unstyled:y,loaders:x,variant:w,children:_,attributes:E,...T}=r,N=gt({name:"Loader",props:r,classes:ki,className:d,style:f,classNames:h,styles:g,unstyled:y,attributes:E,vars:u,varsResolver:_2});return _?R.jsx(Fe,{...N("root"),ref:t,...T,children:_}):R.jsx(Fe,{...N("root"),ref:t,component:x[s],variant:w,size:i,...T})});lo.defaultLoaders=o_;lo.classes=ki;lo.displayName="@mantine/core/Loader";var bu={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const rS={orientation:"horizontal"},E2=(e,{borderWidth:t})=>({group:{"--ai-border-width":_e(t)}}),ev=Je((e,t)=>{const r=Le("ActionIconGroup",rS,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,orientation:f,vars:h,borderWidth:g,variant:y,mod:x,attributes:w,..._}=Le("ActionIconGroup",rS,e),E=gt({name:"ActionIconGroup",props:r,classes:bu,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:h,varsResolver:E2,rootSelector:"group"});return R.jsx(Fe,{...E("group"),ref:t,variant:y,mod:[{"data-orientation":f},x],role:"group",..._})});ev.classes=bu;ev.displayName="@mantine/core/ActionIconGroup";const O2=(e,{radius:t,color:r,gradient:i,variant:a,autoContrast:s,size:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:s});return{groupSection:{"--section-height":Ft(u,"section-height"),"--section-padding-x":Ft(u,"section-padding-x"),"--section-fz":vr(u),"--section-radius":t===void 0?void 0:An(t),"--section-bg":r||a?d.background:void 0,"--section-color":d.color,"--section-bd":r||a?d.border:void 0}}},tv=Je((e,t)=>{const r=Le("ActionIconGroupSection",null,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,vars:f,variant:h,gradient:g,radius:y,autoContrast:x,attributes:w,..._}=r,E=gt({name:"ActionIconGroupSection",props:r,classes:bu,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:O2,rootSelector:"groupSection"});return R.jsx(Fe,{...E("groupSection"),ref:t,variant:h,..._})});tv.classes=bu;tv.displayName="@mantine/core/ActionIconGroupSection";const M2=(e,{size:t,radius:r,variant:i,gradient:a,color:s,autoContrast:u})=>{const d=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:a,variant:i||"filled",autoContrast:u});return{root:{"--ai-size":Ft(t,"ai-size"),"--ai-radius":r===void 0?void 0:An(r),"--ai-bg":s||i?d.background:void 0,"--ai-hover":s||i?d.hover:void 0,"--ai-hover-color":s||i?d.hoverColor:void 0,"--ai-color":d.color,"--ai-bd":s||i?d.border:void 0}}},Wo=Tr((e,t)=>{const r=Le("ActionIcon",null,e),{className:i,unstyled:a,variant:s,classNames:u,styles:d,style:f,loading:h,loaderProps:g,size:y,color:x,radius:w,__staticSelector:_,gradient:E,vars:T,children:N,disabled:D,"data-disabled":I,autoContrast:F,mod:k,attributes:V,...A}=r,G=gt({name:["ActionIcon",_],props:r,className:i,style:f,classes:bu,classNames:u,styles:d,unstyled:a,attributes:V,vars:T,varsResolver:M2});return R.jsxs($s,{...G("root",{active:!D&&!h&&!I}),...A,unstyled:a,variant:s,size:y,disabled:D||h,ref:t,mod:[{loading:h,disabled:D||I},k],children:[typeof h=="boolean"&&R.jsx(Vo,{mounted:h,transition:"slide-down",duration:150,children:W=>R.jsx(Fe,{component:"span",...G("loader",{style:W}),"aria-hidden":!0,children:R.jsx(lo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...g})})}),R.jsx(Fe,{component:"span",mod:{loading:h},...G("icon"),children:N})]})});Wo.classes=bu;Wo.displayName="@mantine/core/ActionIcon";Wo.Group=ev;Wo.GroupSection=tv;const a_=C.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},i)=>R.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:i,...r,children:R.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));a_.displayName="@mantine/core/CloseIcon";var s_={root:"m_86a44da5","root--subtle":"m_220c80f2"};const T2={variant:"subtle"},R2=(e,{size:t,radius:r,iconSize:i})=>({root:{"--cb-size":Ft(t,"cb-size"),"--cb-radius":r===void 0?void 0:An(r),"--cb-icon-size":_e(i)}}),Hs=Tr((e,t)=>{const r=Le("CloseButton",T2,e),{iconSize:i,children:a,vars:s,radius:u,className:d,classNames:f,style:h,styles:g,unstyled:y,"data-disabled":x,disabled:w,variant:_,icon:E,mod:T,attributes:N,__staticSelector:D,...I}=r,F=gt({name:D||"CloseButton",props:r,className:d,style:h,classes:s_,classNames:f,styles:g,unstyled:y,attributes:N,vars:s,varsResolver:R2});return R.jsxs($s,{ref:t,...I,unstyled:y,variant:_,disabled:w,mod:[{disabled:w||x},T],...F("root",{variant:_,active:!w&&!x}),children:[E||R.jsx(a_,{}),a]})});Hs.classes=s_;Hs.displayName="@mantine/core/CloseButton";function P2(e){return C.Children.toArray(e).filter(Boolean)}var l_={root:"m_4081bf90"};const D2={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},A2=(e,{grow:t,preventGrowOverflow:r,gap:i,align:a,justify:s,wrap:u},{childWidth:d})=>({root:{"--group-child-width":t&&r?d:void 0,"--group-gap":pu(i),"--group-align":a,"--group-justify":s,"--group-wrap":u}}),Li=Je((e,t)=>{const r=Le("Group",D2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,children:f,gap:h,align:g,justify:y,wrap:x,grow:w,preventGrowOverflow:_,vars:E,variant:T,__size:N,mod:D,attributes:I,...F}=r,k=P2(f),V=k.length,A=pu(h??"md"),W={childWidth:`calc(${100/V}% - (${A} - ${A} / ${V}))`},le=gt({name:"Group",props:r,stylesCtx:W,className:a,style:s,classes:l_,classNames:i,styles:u,unstyled:d,attributes:I,vars:E,varsResolver:A2});return R.jsx(Fe,{...le("root"),ref:t,variant:T,mod:[{grow:w},D],size:N,...F,children:k})});Li.classes=l_;Li.displayName="@mantine/core/Group";const[N2,Qo]=co("ModalBase component was not found in tree");function I2({opened:e,transitionDuration:t}){const[r,i]=C.useState(e),a=C.useRef(-1),u=_h()?0:t;return C.useEffect(()=>(e?(i(!0),window.clearTimeout(a.current)):u===0?i(!1):a.current=window.setTimeout(()=>i(!1),u),()=>window.clearTimeout(a.current)),[e,u]),r}function j2({id:e,transitionProps:t,opened:r,trapFocus:i,closeOnEscape:a,onClose:s,returnFocus:u}){const d=Oi(e),[f,h]=C.useState(!1),[g,y]=C.useState(!1),x=typeof t?.duration=="number"?t?.duration:200,w=I2({opened:r,transitionDuration:x});return ih("keydown",_=>{_.key==="Escape"&&a&&!_.isComposing&&r&&_.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&s()},{capture:!0}),Z1({opened:r,shouldReturnFocus:i&&u}),{_id:d,titleMounted:f,bodyMounted:g,shouldLockScroll:w,setTitleMounted:h,setBodyMounted:y}}const u_=C.forwardRef(({keepMounted:e,opened:t,onClose:r,id:i,transitionProps:a,onExitTransitionEnd:s,onEnterTransitionEnd:u,trapFocus:d,closeOnEscape:f,returnFocus:h,closeOnClickOutside:g,withinPortal:y,portalProps:x,lockScroll:w,children:_,zIndex:E,shadow:T,padding:N,__vars:D,unstyled:I,removeScrollProps:F,...k},V)=>{const{_id:A,titleMounted:G,bodyMounted:W,shouldLockScroll:le,setTitleMounted:he,setBodyMounted:de}=j2({id:i,transitionProps:a,opened:t,trapFocus:d,closeOnEscape:f,onClose:r,returnFocus:h}),{key:Oe,...ce}=F||{};return R.jsx(Va,{...x,withinPortal:y,children:R.jsx(N2,{value:{opened:t,onClose:r,closeOnClickOutside:g,onExitTransitionEnd:s,onEnterTransitionEnd:u,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${A}-title`,getBodyId:()=>`${A}-body`,titleMounted:G,bodyMounted:W,setTitleMounted:he,setBodyMounted:de,trapFocus:d,closeOnEscape:f,zIndex:E,unstyled:I},children:R.jsx(js,{enabled:le&&w,...ce,children:R.jsx(Fe,{ref:V,...k,__vars:{...D,"--mb-z-index":(E||Hi("modal")).toString(),"--mb-shadow":Ry(T),"--mb-padding":pu(N)},children:_})},Oe)})})});u_.displayName="@mantine/core/ModalBase";var iu={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};function z2(){const e=Qo();return C.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}const c_=C.forwardRef(({className:e,...t},r)=>{const i=z2(),a=Qo();return R.jsx(Fe,{ref:r,...t,id:i,className:$n({[iu.body]:!a.unstyled},e)})});c_.displayName="@mantine/core/ModalBaseBody";const d_=C.forwardRef(({className:e,onClick:t,...r},i)=>{const a=Qo();return R.jsx(Hs,{ref:i,...r,onClick:s=>{a.onClose(),t?.(s)},className:$n({[iu.close]:!a.unstyled},e),unstyled:a.unstyled})});d_.displayName="@mantine/core/ModalBaseCloseButton";const f_=C.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:i,style:a,...s},u)=>{const d=Qo();return R.jsx(Vo,{mounted:d.opened,transition:"pop",...d.transitionProps,onExited:()=>{d.onExitTransitionEnd?.(),d.transitionProps?.onExited?.()},onEntered:()=>{d.onEnterTransitionEnd?.(),d.transitionProps?.onEntered?.()},...e,children:f=>R.jsx("div",{...r,className:$n({[iu.inner]:!d.unstyled},r.className),children:R.jsx(Lh,{active:d.opened&&d.trapFocus,innerRef:u,children:R.jsx(Fh,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":d.bodyMounted?d.getBodyId():void 0,"aria-labelledby":d.titleMounted?d.getTitleId():void 0,style:[a,f],className:$n({[iu.content]:!d.unstyled},t),unstyled:d.unstyled,children:s.children})})})})});f_.displayName="@mantine/core/ModalBaseContent";const h_=C.forwardRef(({className:e,...t},r)=>{const i=Qo();return R.jsx(Fe,{component:"header",ref:r,className:$n({[iu.header]:!i.unstyled},e),...t})});h_.displayName="@mantine/core/ModalBaseHeader";const F2={duration:200,timingFunction:"ease",transition:"fade"};function k2(e){const t=Qo();return{...F2,...t.transitionProps,...e}}const p_=C.forwardRef(({onClick:e,transitionProps:t,style:r,visible:i,...a},s)=>{const u=Qo(),d=k2(t);return R.jsx(Vo,{mounted:i!==void 0?i:u.opened,...d,transition:"fade",children:f=>R.jsx(kh,{ref:s,fixed:!0,style:[r,f],zIndex:u.zIndex,unstyled:u.unstyled,onClick:h=>{e?.(h),u.closeOnClickOutside&&u.onClose()},...a})})});p_.displayName="@mantine/core/ModalBaseOverlay";function L2(){const e=Qo();return C.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const m_=C.forwardRef(({className:e,...t},r)=>{const i=L2(),a=Qo();return R.jsx(Fe,{component:"h2",ref:r,className:$n({[iu.title]:!a.unstyled},e),...t,id:i})});m_.displayName="@mantine/core/ModalBaseTitle";function B2({children:e}){return R.jsx(R.Fragment,{children:e})}const[U2,$2]=hu({size:"sm"});var Ti={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const g_=Je((e,t)=>{const r=Le("InputClearButton",null,e),{size:i,variant:a,vars:s,classNames:u,styles:d,...f}=r,h=$2(),{resolvedClassNames:g,resolvedStyles:y}=Rh({classNames:u,styles:d,props:r});return R.jsx(Hs,{variant:a||"transparent",ref:t,size:i||h?.size||"sm",classNames:g,styles:y,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...f.style},...f})});g_.displayName="@mantine/core/InputClearButton";const H2={xs:7,sm:8,md:10,lg:12,xl:15};function q2({__clearable:e,__clearSection:t,rightSection:r,__defaultRightSection:i,size:a="sm"}){const s=e&&t;return s&&(r||i)?R.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:H2[a]},children:[s,r||i]}):r===null?null:r||s||i}const[G2,id]=hu({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0}),V2=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${vr(t)} - ${_e(2)})`}}),Bh=Je((e,t)=>{const r=Le("InputDescription",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,__staticSelector:g,__inheritStyles:y=!0,attributes:x,variant:w,..._}=Le("InputDescription",null,r),E=id(),T=gt({name:["InputWrapper",g],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:x,rootSelector:"description",vars:f,varsResolver:V2}),N=y&&E?.getStyles||T;return R.jsx(Fe,{component:"p",ref:t,variant:w,size:h,...N("description",E?.getStyles?{className:a,style:s}:void 0),..._})});Bh.classes=Ti;Bh.displayName="@mantine/core/InputDescription";const Y2=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${vr(t)} - ${_e(2)})`}}),Uh=Je((e,t)=>{const r=Le("InputError",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,attributes:g,__staticSelector:y,__inheritStyles:x=!0,variant:w,..._}=r,E=gt({name:["InputWrapper",y],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:g,rootSelector:"error",vars:f,varsResolver:Y2}),T=id(),N=x&&T?.getStyles||E;return R.jsx(Fe,{component:"p",ref:t,variant:w,size:h,...N("error",T?.getStyles?{className:a,style:s}:void 0),..._})});Uh.classes=Ti;Uh.displayName="@mantine/core/InputError";const iS={labelElement:"label"},K2=(e,{size:t})=>({label:{"--input-label-size":vr(t),"--input-asterisk-color":void 0}}),$h=Je((e,t)=>{const r=Le("InputLabel",iS,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,labelElement:h,size:g,required:y,htmlFor:x,onMouseDown:w,children:_,__staticSelector:E,variant:T,mod:N,attributes:D,...I}=Le("InputLabel",iS,r),F=gt({name:["InputWrapper",E],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:D,rootSelector:"label",vars:f,varsResolver:K2}),k=id(),V=k?.getStyles||F;return R.jsxs(Fe,{...V("label",k?.getStyles?{className:a,style:s}:void 0),component:h,variant:T,size:g,ref:t,htmlFor:h==="label"?x:void 0,mod:[{required:y},N],onMouseDown:A=>{w?.(A),!A.defaultPrevented&&A.detail>1&&A.preventDefault()},...I,children:[_,y&&R.jsx("span",{...V("required"),"aria-hidden":!0,children:" *"})]})});$h.classes=Ti;$h.displayName="@mantine/core/InputLabel";const nv=Je((e,t)=>{const r=Le("InputPlaceholder",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,__staticSelector:h,variant:g,error:y,mod:x,attributes:w,..._}=r,E=gt({name:["InputPlaceholder",h],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:w,rootSelector:"placeholder"});return R.jsx(Fe,{...E("placeholder"),mod:[{error:!!y},x],component:"span",variant:g,ref:t,..._})});nv.classes=Ti;nv.displayName="@mantine/core/InputPlaceholder";function X2(e,{hasDescription:t,hasError:r}){const i=e.findIndex(f=>f==="input"),a=e.slice(0,i),s=e.slice(i+1),u=t&&a.includes("description")||r&&a.includes("error");return{offsetBottom:t&&s.includes("description")||r&&s.includes("error"),offsetTop:u}}const W2={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},Q2=(e,{size:t})=>({label:{"--input-label-size":vr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${vr(t)} - ${_e(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${vr(t)} - ${_e(2)})`}}),rv=Je((e,t)=>{const r=Le("InputWrapper",W2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,variant:g,__staticSelector:y,inputContainer:x,inputWrapperOrder:w,label:_,error:E,description:T,labelProps:N,descriptionProps:D,errorProps:I,labelElement:F,children:k,withAsterisk:V,id:A,required:G,__stylesApiProps:W,mod:le,attributes:he,...de}=r,Oe=gt({name:["InputWrapper",y],props:W||r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:he,vars:f,varsResolver:Q2}),ce={size:h,variant:g,__staticSelector:y},xe=Oi(A),B=typeof V=="boolean"?V:G,X=I?.id||`${xe}-error`,q=D?.id||`${xe}-description`,ge=xe,Se=!!E&&typeof E!="boolean",U=!!T,ie=`${Se?X:""} ${U?q:""}`,Ce=ie.trim().length>0?ie.trim():void 0,Ne=N?.id||`${xe}-label`,Ie=_&&R.jsx($h,{labelElement:F,id:Ne,htmlFor:ge,required:B,...ce,...N,children:_},"label"),qe=U&&R.jsx(Bh,{...D,...ce,size:D?.size||ce.size,id:D?.id||q,children:T},"description"),nt=R.jsx(C.Fragment,{children:x(k)},"input"),wt=Se&&C.createElement(Uh,{...I,...ce,size:I?.size||ce.size,key:"error",id:I?.id||X},E),De=w.map(Zt=>{switch(Zt){case"label":return Ie;case"input":return nt;case"description":return qe;case"error":return wt;default:return null}});return R.jsx(G2,{value:{getStyles:Oe,describedBy:Ce,inputId:ge,labelId:Ne,...X2(w,{hasDescription:U,hasError:Se})},children:R.jsx(Fe,{ref:t,variant:g,size:h,mod:[{error:!!E},le],...Oe("root"),...de,children:De})})});rv.classes=Ti;rv.displayName="@mantine/core/InputWrapper";const Z2={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},J2=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ft(t.size,"input-height"),"--input-fz":vr(t.size),"--input-radius":t.radius===void 0?void 0:An(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?_e(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?_e(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ft(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Hn=Tr((e,t)=>{const r=Le("Input",Z2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,required:f,__staticSelector:h,__stylesApiProps:g,size:y,wrapperProps:x,error:w,disabled:_,leftSection:E,leftSectionProps:T,leftSectionWidth:N,rightSection:D,rightSectionProps:I,rightSectionWidth:F,rightSectionPointerEvents:k,leftSectionPointerEvents:V,variant:A,vars:G,pointer:W,multiline:le,radius:he,id:de,withAria:Oe,withErrorStyles:ce,mod:xe,inputSize:B,attributes:X,__clearSection:q,__clearable:ge,__defaultRightSection:Se,...U}=r,{styleProps:ie,rest:Ce}=td(U),Ne=id(),Ie={offsetBottom:Ne?.offsetBottom,offsetTop:Ne?.offsetTop},qe=gt({name:["Input",h],props:g||r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:X,stylesCtx:Ie,rootSelector:"wrapper",vars:G,varsResolver:J2}),nt=Oe?{required:f,disabled:_,"aria-invalid":!!w,"aria-describedby":Ne?.describedBy,id:Ne?.inputId||de}:{},wt=q2({__clearable:ge,__clearSection:q,rightSection:D,__defaultRightSection:Se,size:y});return R.jsx(U2,{value:{size:y||"sm"},children:R.jsxs(Fe,{...qe("wrapper"),...ie,...x,mod:[{error:!!w&&ce,pointer:W,disabled:_,multiline:le,"data-with-right-section":!!wt,"data-with-left-section":!!E},xe],variant:A,size:y,children:[E&&R.jsx("div",{...T,"data-position":"left",...qe("section",{className:T?.className,style:T?.style}),children:E}),R.jsx(Fe,{component:"input",...Ce,...nt,ref:t,required:f,mod:{disabled:_,error:!!w&&ce},variant:A,__size:B,...qe("input")}),wt&&R.jsx("div",{...I,"data-position":"right",...qe("section",{className:I?.className,style:I?.style}),children:wt})]})})});Hn.classes=Ti;Hn.Wrapper=rv;Hn.Label=$h;Hn.Error=Uh;Hn.Description=Bh;Hn.Placeholder=nv;Hn.ClearButton=g_;Hn.displayName="@mantine/core/Input";function eA(e,t,r){const i=Le(e,t,r),{label:a,description:s,error:u,required:d,classNames:f,styles:h,className:g,unstyled:y,__staticSelector:x,__stylesApiProps:w,errorProps:_,labelProps:E,descriptionProps:T,wrapperProps:N,id:D,size:I,style:F,inputContainer:k,inputWrapperOrder:V,withAsterisk:A,variant:G,vars:W,mod:le,attributes:he,...de}=i,{styleProps:Oe,rest:ce}=td(de),xe={label:a,description:s,error:u,required:d,classNames:f,className:g,__staticSelector:x,__stylesApiProps:w||i,errorProps:_,labelProps:E,descriptionProps:T,unstyled:y,styles:h,size:I,style:F,inputContainer:k,inputWrapperOrder:V,withAsterisk:A,variant:G,id:D,mod:le,attributes:he,...N};return{...ce,classNames:f,styles:h,unstyled:y,wrapperProps:{...xe,...Oe},inputProps:{required:d,classNames:f,styles:h,unstyled:y,size:I,__staticSelector:x,__stylesApiProps:w||i,error:u,variant:G,id:D,attributes:he}}}const tA={__staticSelector:"InputBase",withAria:!0,size:"sm"},qs=Tr((e,t)=>{const{inputProps:r,wrapperProps:i,...a}=eA("InputBase",tA,e);return R.jsx(Hn.Wrapper,{...i,children:R.jsx(Hn,{...r,...a,ref:t})})});qs.classes={...Hn.classes,...Hn.Wrapper.classes};qs.displayName="@mantine/core/InputBase";const[nA,iv]=co("Accordion component was not found in the tree");var od={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};function ov({style:e,size:t=16,...r}){return R.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:_e(t),height:_e(t),display:"block"},...r,children:R.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}ov.displayName="@mantine/core/AccordionChevron";const[rA,y_]=co("Accordion.Item component was not found in the tree"),av=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,chevron:d,icon:f,onClick:h,onKeyDown:g,children:y,disabled:x,mod:w,..._}=Le("AccordionControl",null,e),{value:E}=y_(),T=iv(),N=T.isItemActive(E),D=typeof T.order=="number",I=`h${T.order}`,F=R.jsxs($s,{..._,...T.getStyles("control",{className:i,classNames:r,style:a,styles:s,variant:T.variant}),unstyled:T.unstyled,mod:["accordion-control",{active:N,"chevron-position":T.chevronPosition,disabled:x},w],ref:t,onClick:k=>{h?.(k),T.onChange(E)},type:"button",disabled:x,"aria-expanded":N,"aria-controls":T.getRegionId(E),id:T.getControlId(E),onKeyDown:CT({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:T.loop,orientation:"vertical",onKeyDown:g}),children:[R.jsx(Fe,{component:"span",mod:{rotate:!T.disableChevronRotation&&N,position:T.chevronPosition},...T.getStyles("chevron",{classNames:r,styles:s}),children:d||T.chevron}),R.jsx("span",{...T.getStyles("label",{classNames:r,styles:s}),children:y}),f&&R.jsx(Fe,{component:"span",mod:{"chevron-position":T.chevronPosition},...T.getStyles("icon",{classNames:r,styles:s}),children:f})]});return D?R.jsx(I,{...T.getStyles("itemTitle",{classNames:r,styles:s}),children:F}):F});av.displayName="@mantine/core/AccordionControl";av.classes=od;const sv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,value:d,mod:f,...h}=Le("AccordionItem",null,e),g=iv();return R.jsx(rA,{value:{value:d},children:R.jsx(Fe,{ref:t,mod:[{active:g.isItemActive(d)},f],...g.getStyles("item",{className:i,classNames:r,styles:s,style:a,variant:g.variant}),...h})})});sv.displayName="@mantine/core/AccordionItem";sv.classes=od;const lv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,children:d,...f}=Le("AccordionPanel",null,e),{value:h}=y_(),g=iv();return R.jsx(yC,{ref:t,...g.getStyles("panel",{className:i,classNames:r,style:a,styles:s}),...f,in:g.isItemActive(h),transitionDuration:g.transitionDuration??200,role:"region",id:g.getRegionId(h),"aria-labelledby":g.getControlId(h),children:R.jsx("div",{...g.getStyles("content",{classNames:r,styles:s}),children:d})})});lv.displayName="@mantine/core/AccordionPanel";lv.classes=od;const iA={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},oA=(e,{transitionDuration:t,chevronSize:r,radius:i})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":r===void 0?void 0:_e(r),"--accordion-radius":i===void 0?void 0:An(i)}});function ri(e){const t=Le("Accordion",iA,e),{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,children:f,multiple:h,value:g,defaultValue:y,onChange:x,id:w,loop:_,transitionDuration:E,disableChevronRotation:T,chevronPosition:N,chevronSize:D,order:I,chevron:F,variant:k,radius:V,chevronIconSize:A,attributes:G,...W}=t,le=Oi(w),[he,de]=Ga({value:g,defaultValue:y,finalValue:h?[]:null,onChange:x}),Oe=B=>Array.isArray(he)?he.includes(B):B===he,ce=B=>{const X=Array.isArray(he)?he.includes(B)?he.filter(q=>q!==B):[...he,B]:B===he?null:B;de(X)},xe=gt({name:"Accordion",classes:od,props:t,className:i,style:a,classNames:r,styles:s,unstyled:u,attributes:G,vars:d,varsResolver:oA});return R.jsx(nA,{value:{isItemActive:Oe,onChange:ce,getControlId:Cw(`${le}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:Cw(`${le}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:F===null?null:F||R.jsx(ov,{size:A}),transitionDuration:E,disableChevronRotation:T,chevronPosition:N,order:I,loop:_,getStyles:xe,variant:k,unstyled:u},children:R.jsx(Fe,{...xe("root"),id:le,...W,variant:k,"data-accordion":!0,children:f})})}const aA=e=>e;ri.extend=aA;ri.withProps=tP(ri);ri.classes=od;ri.displayName="@mantine/core/Accordion";ri.Item=sv;ri.Panel=lv;ri.Control=av;ri.Chevron=ov;var v_={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const sA=(e,{radius:t,color:r,variant:i,autoContrast:a})=>{const s=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:i||"light",autoContrast:a});return{root:{"--alert-radius":t===void 0?void 0:An(t),"--alert-bg":r||i?s.background:void 0,"--alert-color":s.color,"--alert-bd":r||i?s.border:void 0}}},uv=Je((e,t)=>{const r=Le("Alert",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,radius:h,color:g,title:y,children:x,id:w,icon:_,withCloseButton:E,onClose:T,closeButtonLabel:N,variant:D,autoContrast:I,role:F,attributes:k,...V}=r,A=gt({name:"Alert",classes:v_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:k,vars:f,varsResolver:sA}),G=Oi(w),W=y&&`${G}-title`||void 0,le=`${G}-body`;return R.jsx(Fe,{id:G,...A("root",{variant:D}),variant:D,ref:t,role:F||"alert",...V,"aria-describedby":x?le:void 0,"aria-labelledby":y?W:void 0,children:R.jsxs("div",{...A("wrapper"),children:[_&&R.jsx("div",{...A("icon"),children:_}),R.jsxs("div",{...A("body"),children:[y&&R.jsx("div",{...A("title"),"data-with-close-button":E||void 0,children:R.jsx("span",{id:W,...A("label"),children:y})}),x&&R.jsx("div",{id:le,...A("message"),"data-variant":D,children:x})]}),E&&R.jsx(Hs,{...A("closeButton"),onClick:T,variant:"transparent",size:16,iconSize:16,"aria-label":N,unstyled:d})]})})});uv.classes=v_;uv.displayName="@mantine/core/Alert";var b_={root:"m_b6d8b162"};function lA(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const uA={inherit:!1},cA=(e,{variant:t,lineClamp:r,gradient:i,size:a,color:s})=>({root:{"--text-fz":vr(a),"--text-lh":MT(a),"--text-gradient":t==="gradient"?qg(i,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":s?ai(s,e):void 0}}),qo=Tr((e,t)=>{const r=Le("Text",uA,e),{lineClamp:i,truncate:a,inline:s,inherit:u,gradient:d,span:f,__staticSelector:h,vars:g,className:y,style:x,classNames:w,styles:_,unstyled:E,variant:T,mod:N,size:D,attributes:I,...F}=r,k=gt({name:["Text",h],props:r,classes:b_,className:y,style:x,classNames:w,styles:_,unstyled:E,attributes:I,vars:g,varsResolver:cA});return R.jsx(Fe,{...k("root",{focusable:!0}),ref:t,component:f?"span":"p",variant:T,mod:[{"data-truncate":lA(a),"data-line-clamp":typeof i=="number","data-inline":s,"data-inherit":u},N],size:D,...F})});qo.classes=b_;qo.displayName="@mantine/core/Text";const[dA,xu]=co("AppShell was not found in tree");var Wa={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const cv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellAside",null,e),x=xu();return x.disabled?null:R.jsx(Fe,{component:"aside",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("aside",{className:$n({[js.classNames.zeroRight]:x.offsetScrollbars},i),classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-aside-z-index":`calc(${h??x.zIndex} + 1)`}})});cv.classes=Wa;cv.displayName="@mantine/core/AppShellAside";const dv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellFooter",null,e),x=xu();return x.disabled?null:R.jsx(Fe,{component:"footer",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("footer",{className:$n({[js.classNames.zeroRight]:x.offsetScrollbars},i),classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-footer-z-index":(h??x.zIndex)?.toString()}})});dv.classes=Wa;dv.displayName="@mantine/core/AppShellFooter";const fv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellHeader",null,e),x=xu();return x.disabled?null:R.jsx(Fe,{component:"header",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("header",{className:$n({[js.classNames.zeroRight]:x.offsetScrollbars},i),classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-header-z-index":(h??x.zIndex)?.toString()}})});fv.classes=Wa;fv.displayName="@mantine/core/AppShellHeader";const hv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Le("AppShellMain",null,e),f=xu();return R.jsx(Fe,{component:"main",ref:t,...f.getStyles("main",{className:i,style:a,classNames:r,styles:s}),...d})});hv.classes=Wa;hv.displayName="@mantine/core/AppShellMain";function ad(e){return typeof e=="object"?e.base:e}function sd(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function ld(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function fA({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,aside:i,theme:a,mode:s}){const u=i?.width,d="translateX(var(--app-shell-aside-width))",f="translateX(calc(var(--app-shell-aside-width) * -1))";if(i?.breakpoint&&!i?.collapsed?.mobile&&(r[i?.breakpoint]=r[i?.breakpoint]||{},s==="fixed"?(r[i?.breakpoint]["--app-shell-aside-width"]="100%",r[i?.breakpoint]["--app-shell-aside-offset"]="0px"):(r[i?.breakpoint]["--app-shell-aside-width"]="0px",r[i?.breakpoint]["--app-shell-aside-offset"]="0px")),sd(u)){const h=_e(ad(u));e["--app-shell-aside-width"]=h,e["--app-shell-aside-offset"]=h}if(ld(u)&&(typeof u.base<"u"&&(e["--app-shell-aside-width"]=_e(u.base),e["--app-shell-aside-offset"]=_e(u.base)),dr(u).forEach(h=>{h!=="base"&&(t[h]=t[h]||{},t[h]["--app-shell-aside-width"]=_e(u[h]),t[h]["--app-shell-aside-offset"]=_e(u[h]))})),i?.breakpoint&&s==="static"&&(t[i.breakpoint]=t[i.breakpoint]||{},t[i.breakpoint]["--app-shell-aside-position"]="sticky",t[i.breakpoint]["--app-shell-aside-grid-row"]="2",t[i.breakpoint]["--app-shell-aside-grid-column"]="3",t[i.breakpoint]["--app-shell-main-column-end"]="3"),i?.collapsed?.desktop){const h=i.breakpoint;t[h]=t[h]||{},t[h]["--app-shell-aside-transform"]=d,t[h]["--app-shell-aside-transform-rtl"]=f,s==="fixed"?t[h]["--app-shell-aside-offset"]="0px !important":(t[h]["--app-shell-aside-width"]="0px",t[h]["--app-shell-aside-display"]="none",t[h]["--app-shell-main-column-end"]="-1"),t[h]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(i?.collapsed?.mobile){const h=Py(i.breakpoint,a.breakpoints)-.1;r[h]=r[h]||{},s==="fixed"?(r[h]["--app-shell-aside-width"]="100%",r[h]["--app-shell-aside-offset"]="0px"):r[h]["--app-shell-aside-width"]="0px",r[h]["--app-shell-aside-transform"]=d,r[h]["--app-shell-aside-transform-rtl"]=f,r[h]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function hA({baseStyles:e,minMediaStyles:t,footer:r,mode:i}){const a=r?.height,s="translateY(var(--app-shell-footer-height))",u=i==="static"?!0:r?.offset??!0;if(i==="static"&&r&&(e["--app-shell-footer-position"]="sticky",e["--app-shell-footer-grid-column"]="1 / -1",e["--app-shell-footer-grid-row"]="3"),sd(a)){const d=_e(ad(a));e["--app-shell-footer-height"]=d,u&&(e["--app-shell-footer-offset"]=d)}ld(a)&&(typeof a.base<"u"&&(e["--app-shell-footer-height"]=_e(a.base),u&&(e["--app-shell-footer-offset"]=_e(a.base))),dr(a).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-footer-height"]=_e(a[d]),u&&(t[d]["--app-shell-footer-offset"]=_e(a[d])))})),r?.collapsed&&(e["--app-shell-footer-transform"]=s,i==="fixed"&&(e["--app-shell-footer-offset"]="0px !important"))}function pA({baseStyles:e,minMediaStyles:t,header:r,mode:i}){const a=r?.height,s="translateY(calc(var(--app-shell-header-height) * -1))",u=i==="static"?!0:r?.offset??!0;if(i==="static"&&r&&(e["--app-shell-header-position"]="sticky",e["--app-shell-header-grid-column"]="1 / -1",e["--app-shell-header-grid-row"]="1"),sd(a)){const d=_e(ad(a));e["--app-shell-header-height"]=d,u&&(e["--app-shell-header-offset"]=d)}ld(a)&&(typeof a.base<"u"&&(e["--app-shell-header-height"]=_e(a.base),u&&(e["--app-shell-header-offset"]=_e(a.base))),dr(a).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-header-height"]=_e(a[d]),u&&(t[d]["--app-shell-header-offset"]=_e(a[d])))})),r?.collapsed&&(e["--app-shell-header-transform"]=s,i==="fixed"&&(e["--app-shell-header-offset"]="0px !important"))}function mA({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,navbar:i,theme:a,mode:s}){const u=i?.width,d="translateX(calc(var(--app-shell-navbar-width) * -1))",f="translateX(var(--app-shell-navbar-width))";if(i?.breakpoint&&!i?.collapsed?.mobile&&(r[i?.breakpoint]=r[i?.breakpoint]||{},r[i?.breakpoint]["--app-shell-navbar-offset"]="0px",r[i?.breakpoint]["--app-shell-navbar-width"]="100%",s==="static"&&(r[i?.breakpoint]["--app-shell-navbar-grid-width"]="0px")),sd(u)){const h=_e(ad(u));e["--app-shell-navbar-width"]=h,e["--app-shell-navbar-offset"]=h,s==="static"&&(e["--app-shell-navbar-grid-width"]=h)}if(ld(u)&&(typeof u.base<"u"&&(e["--app-shell-navbar-width"]=_e(u.base),e["--app-shell-navbar-offset"]=_e(u.base),s==="static"&&(e["--app-shell-navbar-grid-width"]=_e(u.base))),dr(u).forEach(h=>{h!=="base"&&(t[h]=t[h]||{},t[h]["--app-shell-navbar-width"]=_e(u[h]),t[h]["--app-shell-navbar-offset"]=_e(u[h]),s==="static"&&(t[h]["--app-shell-navbar-grid-width"]=_e(u[h])))})),i?.breakpoint&&s==="static"&&(t[i.breakpoint]=t[i.breakpoint]||{},t[i.breakpoint]["--app-shell-navbar-position"]="sticky",t[i.breakpoint]["--app-shell-navbar-grid-row"]="2",t[i.breakpoint]["--app-shell-navbar-grid-column"]="1",t[i.breakpoint]["--app-shell-main-column-start"]="2"),i?.collapsed?.desktop){const h=i.breakpoint;t[h]=t[h]||{},t[h]["--app-shell-navbar-transform"]=d,t[h]["--app-shell-navbar-transform-rtl"]=f,s==="fixed"?t[h]["--app-shell-navbar-offset"]="0px !important":(t[h]["--app-shell-navbar-width"]="0px",t[h]["--app-shell-navbar-display"]="none",t[h]["--app-shell-main-column-start"]="1")}if(i?.collapsed?.mobile){const h=Py(i.breakpoint,a.breakpoints)-.1;r[h]=r[h]||{},r[h]["--app-shell-navbar-width"]="100%",r[h]["--app-shell-navbar-offset"]="0px",s==="static"&&(r[h]["--app-shell-navbar-grid-width"]="0px"),r[h]["--app-shell-navbar-transform"]=d,r[h]["--app-shell-navbar-transform-rtl"]=f}}function Eg(e){return Number(e)===0?"0px":pu(e)}function gA({padding:e,baseStyles:t,minMediaStyles:r}){sd(e)&&(t["--app-shell-padding"]=Eg(ad(e))),ld(e)&&(e.base&&(t["--app-shell-padding"]=Eg(e.base)),dr(e).forEach(i=>{i!=="base"&&(r[i]=r[i]||{},r[i]["--app-shell-padding"]=Eg(e[i]))}))}function yA({navbar:e,header:t,footer:r,aside:i,padding:a,theme:s,mode:u}){const d={},f={},h={};u==="static"&&(h["--app-shell-main-grid-column"]="1 / -1",h["--app-shell-main-grid-row"]="2"),mA({baseStyles:h,minMediaStyles:d,maxMediaStyles:f,navbar:e,theme:s,mode:u}),fA({baseStyles:h,minMediaStyles:d,maxMediaStyles:f,aside:i,theme:s,mode:u}),pA({baseStyles:h,minMediaStyles:d,header:t,mode:u}),hA({baseStyles:h,minMediaStyles:d,footer:r,mode:u}),gA({baseStyles:h,minMediaStyles:d,padding:a});const g=_w(dr(d),s.breakpoints).map(w=>({query:`(min-width: ${rh(w.px)})`,styles:d[w.value]})),y=_w(dr(f),s.breakpoints).map(w=>({query:`(max-width: ${rh(w.px)})`,styles:f[w.value]})),x=[...g,...y];return{baseStyles:h,media:x}}function vA({navbar:e,header:t,aside:r,footer:i,padding:a,mode:s,selector:u}){const d=li(),f=Xo(),{media:h,baseStyles:g}=yA({navbar:e,header:t,footer:i,aside:r,padding:a,theme:d,mode:s});return R.jsx(dC,{media:h,styles:g,selector:u||f.cssVariablesSelector})}const pv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellNavbar",null,e),x=xu();return x.disabled?null:R.jsx(Fe,{component:"nav",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("navbar",{className:i,classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-navbar-z-index":`calc(${h??x.zIndex} + 1)`}})});pv.classes=Wa;pv.displayName="@mantine/core/AppShellNavbar";const mv=Tr((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,grow:d,mod:f,...h}=Le("AppShellSection",null,e),g=xu();return R.jsx(Fe,{ref:t,mod:[{grow:d},f],...g.getStyles("section",{className:i,style:a,classNames:r,styles:s}),...h})});mv.classes=Wa;mv.displayName="@mantine/core/AppShellSection";function bA({transitionDuration:e,disabled:t}){const[r,i]=C.useState(!0),a=C.useRef(-1),s=C.useRef(-1);return ih("resize",()=>{i(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>C.startTransition(()=>{i(!1)}),200)}),Ka(()=>{i(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>C.startTransition(()=>{i(!1)}),e||0)},[t,e]),r}const xA={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Hi("app"),mode:"fixed"},wA=(e,{transitionDuration:t,transitionTimingFunction:r})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":r}}),qr=Je((e,t)=>{const r=Le("AppShell",xA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,navbar:h,withBorder:g,padding:y,transitionDuration:x,transitionTimingFunction:w,header:_,zIndex:E,layout:T,disabled:N,aside:D,footer:I,offsetScrollbars:F=!0,mode:k,mod:V,attributes:A,id:G,...W}=r,le=gt({name:"AppShell",classes:Wa,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:A,vars:f,varsResolver:wA}),he=bA({disabled:N,transitionDuration:x}),de=Oi(G);return R.jsxs(dA,{value:{getStyles:le,withBorder:g,zIndex:E,disabled:N,offsetScrollbars:F,mode:k},children:[R.jsx(vA,{navbar:h,header:_,aside:D,footer:I,padding:y,mode:k,selector:k==="static"?`#${de}`:void 0}),R.jsx(Fe,{ref:t,...le("root"),mod:[{resizing:he,layout:T,disabled:N,mode:k},V],id:de,...W})]})});qr.classes=Wa;qr.displayName="@mantine/core/AppShell";qr.Navbar=pv;qr.Header=fv;qr.Main=hv;qr.Aside=cv;qr.Footer=dv;qr.Section=mv;function x_(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>x_(t))}:e}function SA(e){return e?e.map(t=>x_(t)):[]}function w_(e){return e.reduce((t,r)=>"group"in r?{...t,...w_(r.items)}:(t[r.value]=r,t),{})}var Mr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const CA={error:null},_A=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Ft(t,"combobox-chevron-size"),"--combobox-chevron-color":r?ai(r,e):void 0}}),gv=Je((e,t)=>{const r=Le("ComboboxChevron",CA,e),{size:i,error:a,style:s,className:u,classNames:d,styles:f,unstyled:h,vars:g,mod:y,...x}=r,w=gt({name:"ComboboxChevron",classes:Mr,props:r,style:s,className:u,classNames:d,styles:f,unstyled:h,vars:g,varsResolver:_A,rootSelector:"chevron"});return R.jsx(Fe,{component:"svg",...x,...w("chevron"),size:i,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},y],ref:t,children:R.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});gv.classes=Mr;gv.displayName="@mantine/core/ComboboxChevron";const[EA,Ri]=co("Combobox component was not found in tree"),S_=C.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:i,...a},s)=>R.jsx(Hn.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:u=>{u.preventDefault(),t?.(u)},onClick:u=>{i(),r?.(u)}}));S_.displayName="@mantine/core/ComboboxClearButton";const yv=Je((e,t)=>{const{classNames:r,styles:i,className:a,style:s,hidden:u,...d}=Le("ComboboxDropdown",null,e),f=Ri();return R.jsx(Xa.Dropdown,{...d,ref:t,role:"presentation","data-hidden":u||void 0,...f.getStyles("dropdown",{className:a,style:s,classNames:r,styles:i})})});yv.classes=Mr;yv.displayName="@mantine/core/ComboboxDropdown";const OA={refProp:"ref"},C_=Je((e,t)=>{const{children:r,refProp:i}=Le("ComboboxDropdownTarget",OA,e);if(Ri(),!W1(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return R.jsx(Xa.Target,{ref:t,refProp:i,children:r})});C_.displayName="@mantine/core/ComboboxDropdownTarget";const vv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Le("ComboboxEmpty",null,e),f=Ri();return R.jsx(Fe,{ref:t,...f.getStyles("empty",{className:i,classNames:r,styles:s,style:a}),...d})});vv.classes=Mr;vv.displayName="@mantine/core/ComboboxEmpty";function bv({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:i,targetType:a,autoComplete:s}){const u=Ri(),[d,f]=C.useState(null),h=y=>{if(e?.(y),!u.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectNextOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectPreviousOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const x=u.store.getSelectedOptionIndex();u.store.dropdownOpened&&x!==-1?(y.preventDefault(),u.store.clickSelectedOption()):a==="button"&&(y.preventDefault(),u.store.openDropdown("keyboard"))}y.key==="Escape"&&u.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&a==="button"&&(y.preventDefault(),u.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":i?!!(u.store.listId&&u.store.dropdownOpened):void 0,"aria-controls":u.store.dropdownOpened&&u.store.listId?u.store.listId:void 0,"aria-activedescendant":u.store.dropdownOpened&&d||void 0,autoComplete:s,"data-expanded":u.store.dropdownOpened||void 0,"data-mantine-stop-propagation":u.store.dropdownOpened||void 0}:{},onKeyDown:h}}const MA={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},__=Je((e,t)=>{const{children:r,refProp:i,withKeyboardNavigation:a,withAriaAttributes:s,withExpandedAttribute:u,targetType:d,autoComplete:f,...h}=Le("ComboboxEventsTarget",MA,e),g=mu(r);if(!g)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=Ri(),x=bv({targetType:d,withAriaAttributes:s,withKeyboardNavigation:a,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f});return C.cloneElement(g,{...x,...h,[i]:Gr(t,y.store.targetRef,Eh(g))})});__.displayName="@mantine/core/ComboboxEventsTarget";const xv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Le("ComboboxFooter",null,e),f=Ri();return R.jsx(Fe,{ref:t,...f.getStyles("footer",{className:i,classNames:r,style:a,styles:s}),...d,onMouseDown:h=>{h.preventDefault()}})});xv.classes=Mr;xv.displayName="@mantine/core/ComboboxFooter";const wv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,children:d,label:f,id:h,...g}=Le("ComboboxGroup",null,e),y=Ri(),x=Oi(h);return R.jsxs(Fe,{ref:t,role:"group","aria-labelledby":f?x:void 0,...y.getStyles("group",{className:i,classNames:r,style:a,styles:s}),...g,children:[f&&R.jsx("div",{id:x,...y.getStyles("groupLabel",{classNames:r,styles:s}),children:f}),d]})});wv.classes=Mr;wv.displayName="@mantine/core/ComboboxGroup";const Sv=Je((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Le("ComboboxHeader",null,e),f=Ri();return R.jsx(Fe,{ref:t,...f.getStyles("header",{className:i,classNames:r,style:a,styles:s}),...d,onMouseDown:h=>{h.preventDefault()}})});Sv.classes=Mr;Sv.displayName="@mantine/core/ComboboxHeader";function E_({value:e,valuesDivider:t=",",...r}){return R.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}E_.displayName="@mantine/core/ComboboxHiddenInput";const Cv=Je((e,t)=>{const r=Le("ComboboxOption",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,onClick:f,id:h,active:g,onMouseDown:y,onMouseOver:x,disabled:w,selected:_,mod:E,...T}=r,N=Ri(),D=C.useId(),I=h||D;return R.jsx(Fe,{...N.getStyles("option",{className:a,classNames:i,styles:u,style:s}),...T,ref:t,id:I,mod:["combobox-option",{"combobox-active":g,"combobox-disabled":w,"combobox-selected":_},E],role:"option",onClick:F=>{w?F.preventDefault():(N.onOptionSubmit?.(r.value,r),f?.(F))},onMouseDown:F=>{F.preventDefault(),y?.(F)},onMouseOver:F=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),x?.(F)}})});Cv.classes=Mr;Cv.displayName="@mantine/core/ComboboxOption";const _v=Je((e,t)=>{const r=Le("ComboboxOptions",null,e),{classNames:i,className:a,style:s,styles:u,id:d,onMouseDown:f,labelledBy:h,...g}=r,y=Ri(),x=Oi(d);return C.useEffect(()=>{y.store.setListId(x)},[x]),R.jsx(Fe,{ref:t,...y.getStyles("options",{className:a,style:s,classNames:i,styles:u}),...g,id:x,role:"listbox","aria-labelledby":h,onMouseDown:w=>{w.preventDefault(),f?.(w)}})});_v.classes=Mr;_v.displayName="@mantine/core/ComboboxOptions";const TA={withAriaAttributes:!0,withKeyboardNavigation:!0},Ev=Je((e,t)=>{const r=Le("ComboboxSearch",TA,e),{classNames:i,styles:a,unstyled:s,vars:u,withAriaAttributes:d,onKeyDown:f,withKeyboardNavigation:h,size:g,...y}=r,x=Ri(),w=x.getStyles("search"),_=bv({targetType:"input",withAriaAttributes:d,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:f,autoComplete:"off"});return R.jsx(Hn,{ref:Gr(t,x.store.searchRef),classNames:[{input:w.className},i],styles:[{input:w.style},a],size:g||x.size,..._,...y,__staticSelector:"Combobox"})});Ev.classes=Mr;Ev.displayName="@mantine/core/ComboboxSearch";const RA={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},O_=Je((e,t)=>{const{children:r,refProp:i,withKeyboardNavigation:a,withAriaAttributes:s,withExpandedAttribute:u,targetType:d,autoComplete:f,...h}=Le("ComboboxTarget",RA,e),g=mu(r);if(!g)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=Ri(),x=bv({targetType:d,withAriaAttributes:s,withKeyboardNavigation:a,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f}),w=C.cloneElement(g,{...x,...h});return R.jsx(Xa.Target,{ref:Gr(t,y.store.targetRef),children:w})});O_.displayName="@mantine/core/ComboboxTarget";function PA(e,t,r){for(let i=e-1;i>=0;i-=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i;if(r){for(let i=t.length-1;i>-1;i-=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i}return e}function DA(e,t,r){for(let i=e+1;i<t.length;i+=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i;if(r){for(let i=0;i<t.length;i+=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i}return e}function AA(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function M_({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:i,onDropdownOpen:a,loop:s=!0,scrollBehavior:u="instant"}={}){const[d,f]=Ga({value:t,defaultValue:e,finalValue:!1,onChange:r}),h=C.useRef(null),g=C.useRef(-1),y=C.useRef(null),x=C.useRef(null),w=C.useRef(-1),_=C.useRef(-1),E=C.useRef(-1),T=C.useCallback((B="unknown")=>{d||(f(!0),a?.(B))},[f,a,d]),N=C.useCallback((B="unknown")=>{d&&(f(!1),i?.(B))},[f,i,d]),D=C.useCallback((B="unknown")=>{d?N(B):T(B)},[N,T,d]),I=C.useCallback(()=>{const B=za(x.current),X=Xf(`#${h.current} [data-combobox-selected]`,B);X?.removeAttribute("data-combobox-selected"),X?.removeAttribute("aria-selected")},[]),F=C.useCallback(B=>{const X=za(x.current),q=Xf(`#${h.current}`,X),ge=q?Fa("[data-combobox-option]",q):null;if(!ge)return null;const Se=B>=ge.length?0:B<0?ge.length-1:B;return g.current=Se,ge?.[Se]&&!ge[Se].hasAttribute("data-combobox-disabled")?(I(),ge[Se].setAttribute("data-combobox-selected","true"),ge[Se].setAttribute("aria-selected","true"),ge[Se].scrollIntoView({block:"nearest",behavior:u}),ge[Se].id):null},[u,I]),k=C.useCallback(()=>{const B=za(x.current),X=Xf(`#${h.current} [data-combobox-active]`,B);if(X){const ge=Fa(`#${h.current} [data-combobox-option]`,B).findIndex(Se=>Se===X);return F(ge)}return F(0)},[F]),V=C.useCallback(()=>{const B=za(x.current),X=Fa(`#${h.current} [data-combobox-option]`,B);return F(DA(g.current,X,s))},[F,s]),A=C.useCallback(()=>{const B=za(x.current),X=Fa(`#${h.current} [data-combobox-option]`,B);return F(PA(g.current,X,s))},[F,s]),G=C.useCallback(()=>{const B=za(x.current),X=Fa(`#${h.current} [data-combobox-option]`,B);return F(AA(X))},[F]),W=C.useCallback((B="selected",X)=>{E.current=window.setTimeout(()=>{const q=za(x.current),ge=Fa(`#${h.current} [data-combobox-option]`,q),Se=ge.findIndex(U=>U.hasAttribute(`data-combobox-${B}`));g.current=Se,X?.scrollIntoView&&ge[Se]?.scrollIntoView({block:"nearest",behavior:u})},0)},[]),le=C.useCallback(()=>{g.current=-1,I()},[I]),he=C.useCallback(()=>{const B=za(x.current);Fa(`#${h.current} [data-combobox-option]`,B)?.[g.current]?.click()},[]),de=C.useCallback(B=>{h.current=B},[]),Oe=C.useCallback(()=>{w.current=window.setTimeout(()=>y.current?.focus(),0)},[]),ce=C.useCallback(()=>{_.current=window.setTimeout(()=>x.current?.focus(),0)},[]),xe=C.useCallback(()=>g.current,[]);return C.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(_.current),window.clearTimeout(E.current)},[]),{dropdownOpened:d,openDropdown:T,closeDropdown:N,toggleDropdown:D,selectedOptionIndex:g.current,getSelectedOptionIndex:xe,selectOption:F,selectFirstOption:G,selectActiveOption:k,selectNextOption:V,selectPreviousOption:A,resetSelectedOption:le,updateSelectedOptionIndex:W,listId:h.current,setListId:de,clickSelectedOption:he,searchRef:y,focusSearchInput:Oe,targetRef:x,focusTarget:ce}}const NA={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},IA=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":vr(t),"--combobox-option-padding":Ft(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:_e(r),"--combobox-option-fz":vr(t),"--combobox-option-padding":Ft(t,"combobox-option-padding")}});function Qt(e){const t=Le("Combobox",NA,e),{classNames:r,styles:i,unstyled:a,children:s,store:u,vars:d,onOptionSubmit:f,onClose:h,size:g,dropdownPadding:y,resetSelectionOnOptionHover:x,__staticSelector:w,readOnly:_,attributes:E,...T}=t,N=M_(),D=u||N,I=gt({name:w||"Combobox",classes:Mr,props:t,classNames:r,styles:i,unstyled:a,attributes:E,vars:d,varsResolver:IA}),F=()=>{h?.(),D.closeDropdown()};return R.jsx(EA,{value:{getStyles:I,store:D,onOptionSubmit:f,size:g,resetSelectionOnOptionHover:x,readOnly:_},children:R.jsx(Xa,{opened:D.dropdownOpened,preventPositionChangeWhenVisible:!1,...T,onChange:k=>!k&&F(),withRoles:!1,unstyled:a,children:s})})}const jA=e=>e;Qt.extend=jA;Qt.classes=Mr;Qt.displayName="@mantine/core/Combobox";Qt.Target=O_;Qt.Dropdown=yv;Qt.Options=_v;Qt.Option=Cv;Qt.Search=Ev;Qt.Empty=vv;Qt.Chevron=gv;Qt.Footer=xv;Qt.Header=Sv;Qt.EventsTarget=__;Qt.DropdownTarget=C_;Qt.Group=wv;Qt.ClearButton=S_;Qt.HiddenInput=E_;var T_={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const zA=T_,R_=C.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:r,classNames:i,styles:a,unstyled:s,children:u,label:d,description:f,id:h,disabled:g,error:y,size:x,labelPosition:w="left",bodyElement:_="div",labelElement:E="label",variant:T,style:N,vars:D,mod:I,attributes:F,...k},V)=>{const A=gt({name:e,props:t,className:r,style:N,classes:T_,classNames:i,styles:a,unstyled:s,attributes:F});return R.jsx(Fe,{...A("root"),ref:V,__vars:{"--label-fz":vr(x),"--label-lh":Ft(x,"label-lh")},mod:[{"label-position":w},I],variant:T,size:x,...k,children:R.jsxs(Fe,{component:_,htmlFor:_==="label"?h:void 0,...A("body"),children:[u,R.jsxs("div",{...A("labelWrapper"),"data-disabled":g||void 0,children:[d&&R.jsx(Fe,{component:E,htmlFor:E==="label"?h:void 0,...A("label"),"data-disabled":g||void 0,children:d}),f&&R.jsx(Hn.Description,{size:x,__inheritStyles:!1,...A("description"),children:f}),y&&typeof y!="boolean"&&R.jsx(Hn.Error,{size:x,__inheritStyles:!1,...A("error"),children:y})]})]})})});R_.displayName="@mantine/core/InlineInput";var P_={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const D_=C.createContext(null),FA=D_.Provider,A_=()=>C.useContext(D_),[kA,LA]=hu();var N_={card:"m_26775b0a"};const BA={withBorder:!0},UA=(e,{radius:t})=>({card:{"--card-radius":An(t)}}),Ov=Je((e,t)=>{const r=Le("CheckboxCard",BA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,checked:h,mod:g,withBorder:y,value:x,onClick:w,defaultChecked:_,onChange:E,attributes:T,...N}=r,D=gt({name:"CheckboxCard",classes:N_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:T,vars:f,varsResolver:UA,rootSelector:"card"}),I=A_(),F=typeof h=="boolean"?h:I?I.value.includes(x||""):void 0,[k,V]=Ga({value:F,defaultValue:_,finalValue:!1,onChange:E});return R.jsx(kA,{value:{checked:k},children:R.jsx($s,{ref:t,mod:[{"with-border":y,checked:k},g],...D("card"),...N,role:"checkbox","aria-checked":k,onClick:A=>{w?.(A),I?.onChange(x||""),V(!k)}})})});Ov.displayName="@mantine/core/CheckboxCard";Ov.classes=N_;function $A({children:e,role:t}){const r=id();return r?R.jsx("div",{role:t,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:e}):R.jsx(R.Fragment,{children:e})}const Mv=Je((e,t)=>{const{value:r,defaultValue:i,onChange:a,size:s,wrapperProps:u,children:d,readOnly:f,disabled:h,...g}=Le("CheckboxGroup",null,e),[y,x]=Ga({value:r,defaultValue:i,finalValue:[],onChange:a}),w=_=>{const E=typeof _=="string"?_:_.currentTarget.value;!f&&x(y.includes(E)?y.filter(T=>T!==E):[...y,E])};return R.jsx(FA,{value:{value:y,onChange:w,size:s,disabled:h},children:R.jsx(Hn.Wrapper,{size:s,ref:t,...u,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:R.jsx($A,{role:"group",children:d})})})});Mv.classes=Hn.Wrapper.classes;Mv.displayName="@mantine/core/CheckboxGroup";function I_({size:e,style:t,...r}){const i=e!==void 0?{width:_e(e),height:_e(e),...t}:t;return R.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,"aria-hidden":!0,...r,children:R.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function j_({indeterminate:e,...t}){return e?R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:R.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):R.jsx(I_,{...t})}var z_={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const HA={icon:j_,variant:"filled"},qA=(e,{radius:t,color:r,size:i,iconColor:a,variant:s,autoContrast:u})=>{const d=Bs({color:r||e.primaryColor,theme:e}),f=d.isThemeColor&&d.shade===void 0?`var(--mantine-color-${d.color}-outline)`:d.color;return{indicator:{"--checkbox-size":Ft(i,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:An(t),"--checkbox-color":s==="outline"?f:ai(r,e),"--checkbox-icon-color":a?ai(a,e):jy(u,e)?Th({color:r,theme:e,autoContrast:u}):void 0}}},Tv=Je((e,t)=>{const r=Le("CheckboxIndicator",HA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,icon:h,indeterminate:g,radius:y,color:x,iconColor:w,autoContrast:_,checked:E,mod:T,variant:N,disabled:D,attributes:I,...F}=r,k=gt({name:"CheckboxIndicator",classes:z_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:I,vars:f,varsResolver:qA,rootSelector:"indicator"}),V=LA(),A=typeof E=="boolean"||typeof g=="boolean"?E||g:V?.checked||!1;return R.jsx(Fe,{ref:t,...k("indicator",{variant:N}),variant:N,mod:[{checked:A,disabled:D},T],...F,children:R.jsx(h,{indeterminate:g,...k("icon")})})});Tv.displayName="@mantine/core/CheckboxIndicator";Tv.classes=z_;const GA={labelPosition:"right",icon:j_,variant:"filled"},VA=(e,{radius:t,color:r,size:i,iconColor:a,variant:s,autoContrast:u})=>{const d=Bs({color:r||e.primaryColor,theme:e}),f=d.isThemeColor&&d.shade===void 0?`var(--mantine-color-${d.color}-outline)`:d.color;return{root:{"--checkbox-size":Ft(i,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:An(t),"--checkbox-color":s==="outline"?f:ai(r,e),"--checkbox-icon-color":a?ai(a,e):jy(u,e)?Th({color:r,theme:e,autoContrast:u}):void 0}}},wu=Je((e,t)=>{const r=Le("Checkbox",GA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,color:h,label:g,id:y,size:x,radius:w,wrapperProps:_,checked:E,labelPosition:T,description:N,error:D,disabled:I,variant:F,indeterminate:k,icon:V,rootRef:A,iconColor:G,onChange:W,autoContrast:le,mod:he,attributes:de,...Oe}=r,ce=A_(),xe=x||ce?.size,B=gt({name:"Checkbox",props:r,classes:P_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:de,vars:f,varsResolver:VA}),{styleProps:X,rest:q}=td(Oe),ge=Oi(y),Se={checked:ce?.value.includes(q.value)??E,onChange:Ce=>{ce?.onChange(Ce),W?.(Ce)},disabled:ce?.disabled??I},U=C.useRef(null),ie=t||U;return C.useEffect(()=>{ie&&"current"in ie&&ie.current&&(ie.current.indeterminate=k||!1,k?ie.current.setAttribute("data-indeterminate","true"):ie.current.removeAttribute("data-indeterminate"))},[k,ie]),R.jsx(R_,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:r,id:ge,size:xe,labelPosition:T,label:g,description:N,error:D,disabled:Se.disabled,classNames:i,styles:u,unstyled:d,"data-checked":Se.checked||E||void 0,variant:F,ref:A,mod:he,inert:q.inert,...X,..._,children:R.jsxs(Fe,{...B("inner"),mod:{"data-label-position":T},children:[R.jsx(Fe,{component:"input",id:ge,ref:ie,mod:{error:!!D},...B("input",{focusable:!0,variant:F}),...q,...Se,inert:q.inert,type:"checkbox"}),R.jsx(V,{indeterminate:k,...B("icon")})]})})});wu.classes={...P_,...zA};wu.displayName="@mantine/core/Checkbox";wu.Group=Mv;wu.Indicator=Tv;wu.Card=Ov;function Xc(e){return"group"in e}function F_({options:e,search:t,limit:r}){const i=t.trim().toLowerCase(),a=[];for(let s=0;s<e.length;s+=1){const u=e[s];if(a.length===r)return a;Xc(u)&&a.push({group:u.group,items:F_({options:u.items,search:t,limit:r-a.length})}),Xc(u)||u.label.toLowerCase().includes(i)&&a.push(u)}return a}function YA(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function k_(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Xc(r))k_(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function KA(e,t){return Array.isArray(e)?e.includes(t):e===t}function L_({data:e,withCheckIcon:t,withAlignedLabels:r,value:i,checkIconPosition:a,unstyled:s,renderOption:u}){if(!Xc(e)){const f=KA(i,e.value),h=t&&(f?R.jsx(I_,{className:Mr.optionsDropdownCheckIcon}):r?R.jsx("div",{className:Mr.optionsDropdownCheckPlaceholder}):null),g=R.jsxs(R.Fragment,{children:[a==="left"&&h,R.jsx("span",{children:e.label}),a==="right"&&h]});return R.jsx(Qt.Option,{value:e.value,disabled:e.disabled,className:$n({[Mr.optionsDropdownOption]:!s}),"data-reverse":a==="right"||void 0,"data-checked":f||void 0,"aria-selected":f,active:f,children:typeof u=="function"?u({option:e,checked:f}):g})}const d=e.items.map(f=>R.jsx(L_,{data:f,value:i,unstyled:s,withCheckIcon:t,withAlignedLabels:r,checkIconPosition:a,renderOption:u},f.value));return R.jsx(Qt.Group,{label:e.group,children:d})}function XA({data:e,hidden:t,hiddenWhenEmpty:r,filter:i,search:a,limit:s,maxDropdownHeight:u,withScrollArea:d=!0,filterOptions:f=!0,withCheckIcon:h=!1,withAlignedLabels:g=!1,value:y,checkIconPosition:x,nothingFoundMessage:w,unstyled:_,labelId:E,renderOption:T,scrollAreaProps:N,"aria-label":D}){k_(e);const F=typeof a=="string"?(i||F_)({options:e,search:f?a:"",limit:s??1/0}):e,k=YA(F),V=F.map(A=>R.jsx(L_,{data:A,withCheckIcon:h,withAlignedLabels:g,value:y,checkIconPosition:x,unstyled:_,renderOption:T},Xc(A)?A.group:A.value));return R.jsx(Qt.Dropdown,{hidden:t||r&&k,"data-composed":!0,children:R.jsxs(Qt.Options,{labelledBy:E,"aria-label":D,children:[d?R.jsx(vu.Autosize,{mah:u??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...N,children:V}):V,k&&w&&R.jsx(Qt.Empty,{children:w})]})})}var B_={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const WA=(e,{radius:t,color:r,gradient:i,variant:a,size:s,autoContrast:u,circle:d})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:u});return{root:{"--badge-height":Ft(s,"badge-height"),"--badge-padding-x":Ft(s,"badge-padding-x"),"--badge-fz":Ft(s,"badge-fz"),"--badge-radius":d||t===void 0?void 0:An(t),"--badge-bg":r||a?f.background:void 0,"--badge-color":r||a?f.color:void 0,"--badge-bd":r||a?f.border:void 0,"--badge-dot-color":a==="dot"?ai(r,e):void 0}}},Uo=Tr((e,t)=>{const r=Le("Badge",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,radius:h,color:g,gradient:y,leftSection:x,rightSection:w,children:_,variant:E,fullWidth:T,autoContrast:N,circle:D,mod:I,attributes:F,...k}=r,V=gt({name:"Badge",props:r,classes:B_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:F,vars:f,varsResolver:WA});return R.jsxs(Fe,{variant:E,mod:[{block:T,circle:D,"with-right-section":!!w,"with-left-section":!!x},I],...V("root",{variant:E}),ref:t,...k,children:[x&&R.jsx("span",{...V("section"),"data-position":"left",children:x}),R.jsx("span",{...V("label"),children:_}),w&&R.jsx("span",{...V("section"),"data-position":"right",children:w})]})});Uo.classes=B_;Uo.displayName="@mantine/core/Badge";var Su={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const oS={orientation:"horizontal"},QA=(e,{borderWidth:t})=>({group:{"--button-border-width":_e(t)}}),Rv=Je((e,t)=>{const r=Le("ButtonGroup",oS,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,orientation:f,vars:h,borderWidth:g,variant:y,mod:x,attributes:w,..._}=Le("ButtonGroup",oS,e),E=gt({name:"ButtonGroup",props:r,classes:Su,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:h,varsResolver:QA,rootSelector:"group"});return R.jsx(Fe,{...E("group"),ref:t,variant:y,mod:[{"data-orientation":f},x],role:"group",..._})});Rv.classes=Su;Rv.displayName="@mantine/core/ButtonGroup";const ZA=(e,{radius:t,color:r,gradient:i,variant:a,autoContrast:s,size:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:s});return{groupSection:{"--section-height":Ft(u,"section-height"),"--section-padding-x":Ft(u,"section-padding-x"),"--section-fz":u?.includes("compact")?vr(u.replace("compact-","")):vr(u),"--section-radius":t===void 0?void 0:An(t),"--section-bg":r||a?d.background:void 0,"--section-color":d.color,"--section-bd":r||a?d.border:void 0}}},Pv=Je((e,t)=>{const r=Le("ButtonGroupSection",null,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,vars:f,variant:h,gradient:g,radius:y,autoContrast:x,attributes:w,..._}=r,E=gt({name:"ButtonGroupSection",props:r,classes:Su,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:ZA,rootSelector:"groupSection"});return R.jsx(Fe,{...E("groupSection"),ref:t,variant:h,..._})});Pv.classes=Su;Pv.displayName="@mantine/core/ButtonGroupSection";const JA={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${_e(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},eN=(e,{radius:t,color:r,gradient:i,variant:a,size:s,justify:u,autoContrast:d})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:d});return{root:{"--button-justify":u,"--button-height":Ft(s,"button-height"),"--button-padding-x":Ft(s,"button-padding-x"),"--button-fz":s?.includes("compact")?vr(s.replace("compact-","")):vr(s),"--button-radius":t===void 0?void 0:An(t),"--button-bg":r||a?f.background:void 0,"--button-hover":r||a?f.hover:void 0,"--button-color":f.color,"--button-bd":r||a?f.border:void 0,"--button-hover-color":r||a?f.hoverColor:void 0}}},ii=Tr((e,t)=>{const r=Le("Button",null,e),{style:i,vars:a,className:s,color:u,disabled:d,children:f,leftSection:h,rightSection:g,fullWidth:y,variant:x,radius:w,loading:_,loaderProps:E,gradient:T,classNames:N,styles:D,unstyled:I,"data-disabled":F,autoContrast:k,mod:V,attributes:A,...G}=r,W=gt({name:"Button",props:r,classes:Su,className:s,style:i,classNames:N,styles:D,unstyled:I,attributes:A,vars:a,varsResolver:eN}),le=!!h,he=!!g;return R.jsxs($s,{ref:t,...W("root",{active:!d&&!_&&!F}),unstyled:I,variant:x,disabled:d||_,mod:[{disabled:d||F,loading:_,block:y,"with-left-section":le,"with-right-section":he},V],...G,children:[typeof _=="boolean"&&R.jsx(Vo,{mounted:_,transition:JA,duration:150,children:de=>R.jsx(Fe,{component:"span",...W("loader",{style:de}),"aria-hidden":!0,children:R.jsx(lo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),R.jsxs("span",{...W("inner"),children:[h&&R.jsx(Fe,{component:"span",...W("section"),mod:{position:"left"},children:h}),R.jsx(Fe,{component:"span",mod:{loading:_},...W("label"),children:f}),g&&R.jsx(Fe,{component:"span",...W("section"),mod:{position:"right"},children:g})]})]})});ii.classes=Su;ii.displayName="@mantine/core/Button";ii.Group=Rv;ii.GroupSection=Pv;const[tN,nN]=co("Card component was not found in tree");var Dv={root:"m_e615b15f",section:"m_599a2148"};const Hh=Tr((e,t)=>{const r=Le("CardSection",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,withBorder:f,inheritPadding:h,mod:g,...y}=r,x=nN();return R.jsx(Fe,{ref:t,mod:[{"with-border":f,"inherit-padding":h},g],...x.getStyles("section",{className:a,style:s,styles:u,classNames:i}),...y})});Hh.classes=Dv;Hh.displayName="@mantine/core/CardSection";const rN=(e,{padding:t})=>({root:{"--card-padding":pu(t)}}),ud=Tr((e,t)=>{const r=Le("Card",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,children:h,padding:g,attributes:y,...x}=r,w=gt({name:"Card",props:r,classes:Dv,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:y,vars:f,varsResolver:rN}),_=C.Children.toArray(h),E=_.map((T,N)=>typeof T=="object"&&T&&"type"in T&&T.type===Hh?C.cloneElement(T,{"data-first-section":N===0||void 0,"data-last-section":N===_.length-1||void 0}):T);return R.jsx(tN,{value:{getStyles:w},children:R.jsx(Fh,{ref:t,unstyled:d,...w("root"),...x,children:E})})});ud.classes=Dv;ud.displayName="@mantine/core/Card";ud.Section=Hh;var U_={root:"m_4451eb3a"};const ou=Tr((e,t)=>{const r=Le("Center",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,inline:h,mod:g,attributes:y,...x}=r,w=gt({name:"Center",props:r,classes:U_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:y,vars:f});return R.jsx(Fe,{ref:t,mod:[{inline:h},g],...w("root"),...x})});ou.classes=U_;ou.displayName="@mantine/core/Center";var Zo={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const[iN,Cu]=co("Drawer component was not found in tree"),qh=Je((e,t)=>{const r=Le("DrawerBody",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Cu();return R.jsx(c_,{ref:t,...h.getStyles("body",{classNames:i,style:s,styles:u,className:a}),...f})});qh.classes=Zo;qh.displayName="@mantine/core/DrawerBody";const Gh=Je((e,t)=>{const r=Le("DrawerCloseButton",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Cu();return R.jsx(d_,{ref:t,...h.getStyles("close",{classNames:i,style:s,styles:u,className:a}),...f})});Gh.classes=Zo;Gh.displayName="@mantine/core/DrawerCloseButton";const Vh=Je((e,t)=>{const r=Le("DrawerContent",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,children:f,radius:h,__hidden:g,...y}=r,x=Cu(),w=x.scrollAreaComponent||B2;return R.jsx(f_,{...x.getStyles("content",{className:a,style:s,styles:u,classNames:i}),innerProps:x.getStyles("inner",{className:a,style:s,styles:u,classNames:i}),ref:t,...y,radius:h||x.radius||0,"data-hidden":g||void 0,children:R.jsx(w,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:f})})});Vh.classes=Zo;Vh.displayName="@mantine/core/DrawerContent";const Yh=Je((e,t)=>{const r=Le("DrawerHeader",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Cu();return R.jsx(h_,{ref:t,...h.getStyles("header",{classNames:i,style:s,styles:u,className:a}),...f})});Yh.classes=Zo;Yh.displayName="@mantine/core/DrawerHeader";const Kh=Je((e,t)=>{const r=Le("DrawerOverlay",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Cu();return R.jsx(p_,{ref:t,...h.getStyles("overlay",{classNames:i,style:s,styles:u,className:a}),...f})});Kh.classes=Zo;Kh.displayName="@mantine/core/DrawerOverlay";function oN(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function aN(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const sN={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},lN={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},uN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Hi("modal"),position:"left"},cN=(e,{position:t,size:r,offset:i})=>({root:{"--drawer-size":Ft(r,"drawer-size"),"--drawer-flex":aN(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":oN(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":_e(i)}}),Xh=Je((e,t)=>{const r=Le("DrawerRoot",uN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,scrollAreaComponent:h,position:g,transitionProps:y,radius:x,attributes:w,..._}=r,{dir:E}=nd(),T=gt({name:"Drawer",classes:Zo,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:cN}),N=(E==="rtl"?lN:sN)[g];return R.jsx(iN,{value:{scrollAreaComponent:h,getStyles:T,radius:x},children:R.jsx(u_,{ref:t,...T("root"),transitionProps:{transition:N,...y},"data-offset-scrollbars":h===vu.Autosize||void 0,unstyled:d,..._})})});Xh.classes=Zo;Xh.displayName="@mantine/core/DrawerRoot";const[dN,fN]=hu();function $_({children:e}){const[t,r]=C.useState([]),[i,a]=C.useState(Hi("modal"));return R.jsx(dN,{value:{stack:t,addModal:(s,u)=>{r(d=>[...new Set([...d,s])]),a(d=>typeof u=="number"&&typeof d=="number"?Math.max(d,u):d)},removeModal:s=>r(u=>u.filter(d=>d!==s)),getZIndex:s=>`calc(${i} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:i},children:e})}$_.displayName="@mantine/core/DrawerStack";const Wh=Je((e,t)=>{const r=Le("DrawerTitle",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Cu();return R.jsx(m_,{ref:t,...h.getStyles("title",{classNames:i,style:s,styles:u,className:a}),...f})});Wh.classes=Zo;Wh.displayName="@mantine/core/DrawerTitle";const hN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Hi("modal"),withOverlay:!0,withCloseButton:!0},Pi=Je((e,t)=>{const{title:r,withOverlay:i,overlayProps:a,withCloseButton:s,closeButtonProps:u,children:d,opened:f,stackId:h,zIndex:g,...y}=Le("Drawer",hN,e),x=fN(),w=!!r||s,_=x&&h?{closeOnEscape:x.currentId===h,trapFocus:x.currentId===h,zIndex:x.getZIndex(h)}:{},E=i===!1?!1:h&&x?x.currentId===h:f;return C.useEffect(()=>{x&&h&&(f?x.addModal(h,g||Hi("modal")):x.removeModal(h))},[f,h,g]),R.jsxs(Xh,{ref:t,opened:f,zIndex:x&&h?x.getZIndex(h):g,...y,..._,children:[i&&R.jsx(Kh,{visible:E,transitionProps:x&&h?{duration:0}:void 0,...a}),R.jsxs(Vh,{__hidden:x&&h&&f?h!==x.currentId:!1,children:[w&&R.jsxs(Yh,{children:[r&&R.jsx(Wh,{children:r}),s&&R.jsx(Gh,{...u})]}),R.jsx(qh,{children:d})]})]})});Pi.classes=Zo;Pi.displayName="@mantine/core/Drawer";Pi.Root=Xh;Pi.Overlay=Kh;Pi.Content=Vh;Pi.Body=qh;Pi.Header=Yh;Pi.Title=Wh;Pi.CloseButton=Gh;Pi.Stack=$_;var H_={root:"m_9e117634"};const pN=(e,{radius:t,fit:r})=>({root:{"--image-radius":t===void 0?void 0:An(t),"--image-object-fit":r}}),Av=Tr((e,t)=>{const r=Le("Image",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,onError:h,src:g,radius:y,fit:x,fallbackSrc:w,mod:_,attributes:E,...T}=r,[N,D]=C.useState(!g);C.useEffect(()=>D(!g),[g]);const I=gt({name:"Image",classes:H_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:E,vars:f,varsResolver:pN});return N&&w?R.jsx(Fe,{component:"img",ref:t,src:w,...I("root"),onError:h,mod:["fallback",_],...T}):R.jsx(Fe,{component:"img",ref:t,...I("root"),src:g,onError:F=>{h?.(F),D(!0)},mod:_,...T})});Av.classes=H_;Av.displayName="@mantine/core/Image";function mN(e="top-end",t=0){const r={"--indicator-top":void 0,"--indicator-bottom":void 0,"--indicator-left":void 0,"--indicator-right":void 0,"--indicator-translate-x":void 0,"--indicator-translate-y":void 0},i=_e(t),[a,s]=e.split("-");return a==="top"&&(r["--indicator-top"]=i,r["--indicator-translate-y"]="-50%"),a==="middle"&&(r["--indicator-top"]="50%",r["--indicator-translate-y"]="-50%"),a==="bottom"&&(r["--indicator-bottom"]=i,r["--indicator-translate-y"]="50%"),s==="start"&&(r["--indicator-left"]=i,r["--indicator-translate-x"]="-50%"),s==="center"&&(r["--indicator-left"]="50%",r["--indicator-translate-x"]="-50%"),s==="end"&&(r["--indicator-right"]=i,r["--indicator-translate-x"]="50%"),r}var q_={root:"m_e5262200",indicator:"m_760d1fb1",processing:"m_885901b1"};const gN={position:"top-end",offset:0},yN=(e,{color:t,position:r,offset:i,size:a,radius:s,zIndex:u,autoContrast:d})=>({root:{"--indicator-color":t?ai(t,e):void 0,"--indicator-text-color":jy(d,e)?Th({color:t,theme:e,autoContrast:d}):void 0,"--indicator-size":_e(a),"--indicator-radius":s===void 0?void 0:An(s),"--indicator-z-index":u?.toString(),...mN(r,i)}}),fh=Je((e,t)=>{const r=Le("Indicator",gN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,children:h,position:g,offset:y,inline:x,label:w,radius:_,color:E,withBorder:T,disabled:N,processing:D,zIndex:I,autoContrast:F,mod:k,attributes:V,...A}=r,G=gt({name:"Indicator",classes:q_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:V,vars:f,varsResolver:yN});return R.jsxs(Fe,{ref:t,...G("root"),mod:[{inline:x},k],...A,children:[!N&&R.jsx(Fe,{mod:{"with-label":!!w,"with-border":T,processing:D},...G("indicator"),children:w}),h]})});fh.classes=q_;fh.displayName="@mantine/core/Indicator";function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ny.apply(null,arguments)}function G_(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}const[PL,V_]=hu();var Qh={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const[vN,bN]=hu(),xN=(e,{gap:t},{size:r})=>({group:{"--pg-gap":t!==void 0?Ft(t):Ft(r,"pg-gap")}}),Nv=Je((e,t)=>{const r=Le("PillGroup",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,disabled:g,attributes:y,...x}=r,_=V_()?.size||h||void 0,E=gt({name:"PillGroup",classes:Qh,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:y,vars:f,varsResolver:xN,stylesCtx:{size:_},rootSelector:"group"});return R.jsx(vN,{value:{size:_,disabled:g},children:R.jsx(Fe,{ref:t,size:_,...E("group"),...x})})});Nv.classes=Qh;Nv.displayName="@mantine/core/PillGroup";const wN={variant:"default"},SN=(e,{radius:t},{size:r})=>({root:{"--pill-fz":Ft(r,"pill-fz"),"--pill-height":Ft(r,"pill-height"),"--pill-radius":t===void 0?void 0:An(t)}}),Zh=Je((e,t)=>{const r=Le("Pill",wN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,variant:h,children:g,withRemoveButton:y,onRemove:x,removeButtonProps:w,radius:_,size:E,disabled:T,mod:N,attributes:D,...I}=r,F=bN(),k=V_(),V=E||F?.size||void 0,A=k?.variant==="filled"?"contrast":h||"default",G=gt({name:"Pill",classes:Qh,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:D,vars:f,varsResolver:SN,stylesCtx:{size:V}});return R.jsxs(Fe,{component:"span",ref:t,variant:A,size:V,...G("root",{variant:A}),mod:[{"with-remove":y&&!T,disabled:T||F?.disabled},N],...I,children:[R.jsx("span",{...G("label"),children:g}),y&&R.jsx(Hs,{variant:"transparent",radius:_,tabIndex:-1,"aria-hidden":!0,unstyled:d,...w,...G("remove",{className:w?.className,style:w?.style}),onMouseDown:W=>{W.preventDefault(),W.stopPropagation(),w?.onMouseDown?.(W)},onClick:W=>{W.stopPropagation(),x?.(),w?.onClick?.(W)}})]})});Zh.classes=Qh;Zh.displayName="@mantine/core/Pill";Zh.Group=Nv;var Y_={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const CN={withCloseButton:!0},_N=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:An(t),"--notification-color":r?ai(r,e):void 0}}),Iv=Je((e,t)=>{const r=Le("Notification",CN,e),{className:i,color:a,radius:s,loading:u,withCloseButton:d,withBorder:f,title:h,icon:g,children:y,onClose:x,closeButtonProps:w,classNames:_,style:E,styles:T,unstyled:N,vars:D,mod:I,loaderProps:F,role:k,attributes:V,...A}=r,G=gt({name:"Notification",classes:Y_,props:r,className:i,style:E,classNames:_,styles:T,unstyled:N,attributes:V,vars:D,varsResolver:_N});return R.jsxs(Fe,{...G("root"),mod:[{"data-with-icon":!!g||u,"data-with-border":f},I],ref:t,role:k||"alert",...A,children:[g&&!u&&R.jsx("div",{...G("icon"),children:g}),u&&R.jsx(lo,{size:28,color:a,...F,...G("loader")}),R.jsxs("div",{...G("body"),children:[h&&R.jsx("div",{...G("title"),children:h}),R.jsx(Fe,{...G("description"),mod:{"data-with-title":!!h},children:y})]}),d&&R.jsx(Hs,{iconSize:16,color:"gray",...w,unstyled:N,onClick:x,...G("closeButton")})]})});Iv.classes=Y_;Iv.displayName="@mantine/core/Notification";var ry={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const EN=({reveal:e})=>R.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:R.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),ON={visibilityToggleIcon:EN},MN=(e,{size:t})=>({root:{"--psi-icon-size":Ft(t,"psi-icon-size"),"--psi-button-size":Ft(t,"psi-button-size")}}),jv=Je((e,t)=>{const r=Le("PasswordInput",ON,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,required:h,error:g,leftSection:y,disabled:x,id:w,variant:_,inputContainer:E,description:T,label:N,size:D,errorProps:I,descriptionProps:F,labelProps:k,withAsterisk:V,inputWrapperOrder:A,wrapperProps:G,radius:W,rightSection:le,rightSectionWidth:he,rightSectionPointerEvents:de,leftSectionWidth:Oe,visible:ce,defaultVisible:xe,onVisibilityChange:B,visibilityToggleIcon:X,visibilityToggleButtonProps:q,rightSectionProps:ge,leftSectionProps:Se,leftSectionPointerEvents:U,withErrorStyles:ie,mod:Ce,attributes:Ne,...Ie}=r,qe=Oi(w),[nt,wt]=Ga({value:ce,defaultValue:xe,finalValue:!1,onChange:B}),De=()=>wt(!nt),Zt=gt({name:"PasswordInput",classes:ry,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:Ne,vars:f,varsResolver:MN}),{resolvedClassNames:ln,resolvedStyles:Ze}=Rh({classNames:i,styles:u,props:r}),{styleProps:ht,rest:kt}=td(Ie),nn=I?.id||`${qe}-error`,mn=F?.id||`${qe}-description`,Jt=`${!!g&&typeof g!="boolean"?nn:""} ${!!T?mn:""}`,qn=Jt.trim().length>0?Jt.trim():void 0,gn=R.jsx(Wo,{...Zt("visibilityToggle"),disabled:x,radius:W,"aria-hidden":!q,"aria-pressed":nt,tabIndex:-1,...q,variant:q?.variant??"subtle",color:"gray",unstyled:d,onTouchEnd:xn=>{xn.preventDefault(),q?.onTouchEnd?.(xn),De()},onMouseDown:xn=>{xn.preventDefault(),q?.onMouseDown?.(xn),De()},onKeyDown:xn=>{q?.onKeyDown?.(xn),xn.key===" "&&(xn.preventDefault(),De())},children:R.jsx(X,{reveal:nt})});return R.jsx(Hn.Wrapper,{required:h,id:qe,label:N,error:g,description:T,size:D,classNames:ln,styles:Ze,__staticSelector:"PasswordInput",unstyled:d,withAsterisk:V,inputWrapperOrder:A,inputContainer:E,variant:_,labelProps:{...k,htmlFor:qe},descriptionProps:{...F,id:mn},errorProps:{...I,id:nn},mod:Ce,attributes:Ne,...Zt("root"),...ht,...G,children:R.jsx(Hn,{component:"div",error:g,leftSection:y,size:D,classNames:{...ln,input:$n(ry.input,ln.input)},styles:Ze,radius:W,disabled:x,__staticSelector:"PasswordInput",rightSectionWidth:he,rightSection:le??gn,variant:_,unstyled:d,leftSectionWidth:Oe,rightSectionPointerEvents:de||"all",rightSectionProps:ge,leftSectionProps:Se,leftSectionPointerEvents:U,withAria:!1,withErrorStyles:ie,attributes:Ne,children:R.jsx("input",{required:h,"data-invalid":!!g||void 0,"data-with-left-section":!!y||void 0,...Zt("innerInput"),disabled:x,id:qe,ref:t,...kt,"aria-describedby":qn,autoComplete:kt.autoComplete||"off",type:nt?"text":"password"})})})});jv.classes={...qs.classes,...ry};jv.displayName="@mantine/core/PasswordInput";const TN={duration:100,transition:"fade"};function aS(e,t){return{...TN,...t,...e}}var Jh={tooltip:"m_1b3c8819",arrow:"m_f898399f"};function RN({offset:e,position:t,defaultOpened:r}){const[i,a]=C.useState(r),s=C.useRef(null),{x:u,y:d,elements:f,refs:h,update:g,placement:y}=Ky({placement:t,middleware:[qy({crossAxis:!0,padding:5,rootBoundary:"document"})]}),x=y.includes("right")?e:t.includes("left")?e*-1:0,w=y.includes("bottom")?e:t.includes("top")?e*-1:0,_=C.useCallback(({clientX:E,clientY:T})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:E,y:T,left:E+x,top:T+w,right:E,bottom:T}}})},[f.reference]);return C.useEffect(()=>{if(h.floating.current){const E=s.current;E.addEventListener("mousemove",_);const T=Ho(h.floating.current);return T.forEach(N=>{N.addEventListener("scroll",g)}),()=>{E.removeEventListener("mousemove",_),T.forEach(N=>{N.removeEventListener("scroll",g)})}}},[f.reference,h.floating.current,g,_,i]),{handleMouseMove:_,x:u,y:d,opened:i,setOpened:a,boundaryRef:s,floating:h.setFloating}}const PN={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Hi("popover")},DN=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:An(t),"--tooltip-bg":r?ai(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),zv=Je((e,t)=>{const r=Le("TooltipFloating",PN,e),{children:i,refProp:a,withinPortal:s,style:u,className:d,classNames:f,styles:h,unstyled:g,radius:y,color:x,label:w,offset:_,position:E,multiline:T,zIndex:N,disabled:D,defaultOpened:I,variant:F,vars:k,portalProps:V,attributes:A,...G}=r,W=li(),le=gt({name:"TooltipFloating",props:r,classes:Jh,className:d,style:u,classNames:f,styles:h,unstyled:g,attributes:A,rootSelector:"tooltip",vars:k,varsResolver:DN}),{handleMouseMove:he,x:de,y:Oe,opened:ce,boundaryRef:xe,floating:B,setOpened:X}=RN({offset:_,position:E,defaultOpened:I}),q=mu(i);if(!q)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ge=Gr(xe,Eh(q),t),Se=q.props,U=Ce=>{Se.onMouseEnter?.(Ce),he(Ce),X(!0)},ie=Ce=>{Se.onMouseLeave?.(Ce),X(!1)};return R.jsxs(R.Fragment,{children:[R.jsx(Va,{...V,withinPortal:s,children:R.jsx(Fe,{...G,...le("tooltip",{style:{...Fy(u,W),zIndex:N,display:!D&&ce?"block":"none",top:(Oe&&Math.round(Oe))??"",left:(de&&Math.round(de))??""}}),variant:F,ref:B,mod:{multiline:T},children:w})}),C.cloneElement(q,{...Se,[a]:ge,onMouseEnter:U,onMouseLeave:ie})]})});zv.classes=Jh;zv.displayName="@mantine/core/TooltipFloating";const K_=C.createContext(!1),AN=K_.Provider,NN=()=>C.useContext(K_),IN={openDelay:0,closeDelay:0};function Fv(e){const{openDelay:t,closeDelay:r,children:i}=Le("TooltipGroup",IN,e);return R.jsx(AN,{value:!0,children:R.jsx(BD,{delay:{open:t,close:r},children:i})})}Fv.displayName="@mantine/core/TooltipGroup";Fv.extend=e=>e;function jN(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function zN(e){const t=jN(e.middlewares),r=[RC(e.offset)];return t.shift&&r.push(qy(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?uh():uh(t.flip)),r.push(PC({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Uc():Uc(t.inline)):e.inline&&r.push(Uc()),r}function FN(e){const[t,r]=C.useState(e.defaultOpened),a=typeof e.opened=="boolean"?e.opened:t,s=NN(),u=Oi(),d=C.useCallback(k=>{r(k),k&&N(u)},[u]),{x:f,y:h,context:g,refs:y,placement:x,middlewareData:{arrow:{x:w,y:_}={}}}=Ky({strategy:e.strategy,placement:e.position,open:a,onOpenChange:d,middleware:zN(e),whileElementsMounted:Zg}),{delay:E,currentId:T,setCurrentId:N}=UD(g,{id:u}),{getReferenceProps:D,getFloatingProps:I}=YD([kD(g,{enabled:e.events?.hover,delay:s?E:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),VD(g,{enabled:e.events?.focus,visibleOnly:!0}),XD(g,{role:"tooltip"}),qD(g,{enabled:typeof e.opened>"u"})]);zs(()=>{e.onPositionChange?.(x)},[x]);const F=a&&T&&T!==u;return{x:f,y:h,arrowX:w,arrowY:_,reference:y.setReference,floating:y.setFloating,getFloatingProps:I,getReferenceProps:D,isGroupPhase:F,opened:a,placement:x}}const sS={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Hi("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},kN=(e,{radius:t,color:r,variant:i,autoContrast:a})=>{const s=e.variantColorResolver({theme:e,color:r||e.primaryColor,autoContrast:a,variant:i||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:An(t),"--tooltip-bg":r?s.background:void 0,"--tooltip-color":r?s.color:void 0}}},cd=Je((e,t)=>{const r=Le("Tooltip",sS,e),{children:i,position:a,refProp:s,label:u,openDelay:d,closeDelay:f,onPositionChange:h,opened:g,defaultOpened:y,withinPortal:x,radius:w,color:_,classNames:E,styles:T,unstyled:N,style:D,className:I,withArrow:F,arrowSize:k,arrowOffset:V,arrowRadius:A,arrowPosition:G,offset:W,transitionProps:le,multiline:he,events:de,zIndex:Oe,disabled:ce,positionDependencies:xe,onClick:B,onMouseEnter:X,onMouseLeave:q,inline:ge,variant:Se,keepMounted:U,vars:ie,portalProps:Ce,mod:Ne,floatingStrategy:Ie,middlewares:qe,autoContrast:nt,attributes:wt,target:De,...Zt}=Le("Tooltip",sS,r),{dir:ln}=nd(),Ze=C.useRef(null),ht=FN({position:XC(ln,a),closeDelay:f,openDelay:d,onPositionChange:h,opened:g,defaultOpened:y,events:de,arrowRef:Ze,arrowOffset:V,offset:typeof W=="number"?W+(F?k/2:0):W,positionDependencies:[...xe,De??i],inline:ge,strategy:Ie,middlewares:qe});C.useEffect(()=>{const Jt=De instanceof HTMLElement?De:typeof De=="string"?document.querySelector(De):De?.current||null;Jt&&ht.reference(Jt)},[De,ht]);const kt=gt({name:"Tooltip",props:r,classes:Jh,className:I,style:D,classNames:E,styles:T,unstyled:N,attributes:wt,rootSelector:"tooltip",vars:ie,varsResolver:kN}),nn=mu(i);if(!De&&!nn)return null;if(De){const Jt=aS(le,{duration:100,transition:"fade"});return R.jsx(R.Fragment,{children:R.jsx(Va,{...Ce,withinPortal:x,children:R.jsx(Vo,{...Jt,keepMounted:U,mounted:!ce&&!!ht.opened,duration:ht.isGroupPhase?10:Jt.duration,children:qn=>R.jsxs(Fe,{...Zt,"data-fixed":Ie==="fixed"||void 0,variant:Se,mod:[{multiline:he},Ne],...ht.getFloatingProps({ref:ht.floating,className:kt("tooltip").className,style:{...kt("tooltip").style,...qn,zIndex:Oe,top:ht.y??0,left:ht.x??0}}),children:[u,R.jsx(dh,{ref:Ze,arrowX:ht.arrowX,arrowY:ht.arrowY,visible:F,position:ht.placement,arrowSize:k,arrowOffset:V,arrowRadius:A,arrowPosition:G,...kt("arrow")})]})})})})}const mn=nn.props,Rr=Gr(ht.reference,Eh(nn),t),rr=aS(le,{duration:100,transition:"fade"});return R.jsxs(R.Fragment,{children:[R.jsx(Va,{...Ce,withinPortal:x,children:R.jsx(Vo,{...rr,keepMounted:U,mounted:!ce&&!!ht.opened,duration:ht.isGroupPhase?10:rr.duration,children:Jt=>R.jsxs(Fe,{...Zt,"data-fixed":Ie==="fixed"||void 0,variant:Se,mod:[{multiline:he},Ne],...ht.getFloatingProps({ref:ht.floating,className:kt("tooltip").className,style:{...kt("tooltip").style,...Jt,zIndex:Oe,top:ht.y??0,left:ht.x??0}}),children:[u,R.jsx(dh,{ref:Ze,arrowX:ht.arrowX,arrowY:ht.arrowY,visible:F,position:ht.placement,arrowSize:k,arrowOffset:V,arrowRadius:A,arrowPosition:G,...kt("arrow")})]})})}),C.cloneElement(nn,ht.getReferenceProps({onClick:B,onMouseEnter:X,onMouseLeave:q,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,...mn,className:$n(I,mn.className),[s]:Rr}))]})});cd.classes=Jh;cd.displayName="@mantine/core/Tooltip";cd.Floating=zv;cd.Group=Fv;const LN={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left",openOnFocus:!0},kv=Je((e,t)=>{const r=Le("Select",LN,e),{classNames:i,styles:a,unstyled:s,vars:u,dropdownOpened:d,defaultDropdownOpened:f,onDropdownClose:h,onDropdownOpen:g,onFocus:y,onBlur:x,onClick:w,onChange:_,data:E,value:T,defaultValue:N,selectFirstOptionOnChange:D,selectFirstOptionOnDropdownOpen:I,onOptionSubmit:F,comboboxProps:k,readOnly:V,disabled:A,filter:G,limit:W,withScrollArea:le,maxDropdownHeight:he,size:de,searchable:Oe,rightSection:ce,checkIconPosition:xe,withCheckIcon:B,withAlignedLabels:X,nothingFoundMessage:q,name:ge,form:Se,searchValue:U,defaultSearchValue:ie,onSearchChange:Ce,allowDeselect:Ne,error:Ie,rightSectionPointerEvents:qe,id:nt,clearable:wt,clearButtonProps:De,hiddenInputProps:Zt,renderOption:ln,onClear:Ze,autoComplete:ht,scrollAreaProps:kt,__defaultRightSection:nn,__clearSection:mn,__clearable:Rr,chevronColor:rr,autoSelectOnBlur:Jt,openOnFocus:qn,attributes:gn,...xn}=r,br=C.useMemo(()=>SA(E),[E]),Lt=C.useRef({}),Ht=C.useMemo(()=>w_(br),[br]),Gn=Oi(nt),[lt,wn,_n]=Ga({value:T,defaultValue:N,finalValue:null,onChange:_}),Rn=typeof lt=="string"?lt in Ht?Ht[lt]:Lt.current[lt]:void 0,Vr=qT(Rn),[rn,Pr,qt]=Ga({value:U,defaultValue:ie,finalValue:Rn?Rn.label:"",onChange:Ce}),At=M_({opened:d,defaultOpened:f,onDropdownOpen:()=>{g?.(),I?At.selectFirstOption():At.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h?.(),setTimeout(At.resetSelectedOption,0)}}),Ge=on=>{Pr(on),At.resetSelectedOption()},{resolvedClassNames:Yr,resolvedStyles:Dr}=Rh({props:r,styles:a,classNames:i});C.useEffect(()=>{D&&At.selectFirstOption()},[D,rn]),C.useEffect(()=>{T===null&&Ge(""),typeof T=="string"&&Rn&&(Vr?.value!==Rn.value||Vr?.label!==Rn.label)&&Ge(Rn.label)},[T,Rn]),C.useEffect(()=>{!_n&&!qt&&Ge(typeof lt=="string"?lt in Ht?Ht[lt]?.label:Lt.current[lt]?.label||"":"")},[Ht,lt]),C.useEffect(()=>{lt&&lt in Ht&&(Lt.current[lt]=Ht[lt])},[Ht,lt]);const Di=R.jsx(Qt.ClearButton,{...De,onClear:()=>{wn(null,null),Ge(""),Ze?.()}}),$e=wt&&!!lt&&!A&&!V;return R.jsxs(R.Fragment,{children:[R.jsxs(Qt,{store:At,__staticSelector:"Select",classNames:Yr,styles:Dr,unstyled:s,readOnly:V,size:de,attributes:gn,keepMounted:Jt,onOptionSubmit:on=>{F?.(on);const Vn=Ne&&Ht[on].value===lt?null:Ht[on],ir=Vn?Vn.value:null;ir!==lt&&wn(ir,Vn),!_n&&Ge(typeof ir=="string"&&Vn?.label||""),At.closeDropdown()},...k,children:[R.jsx(Qt.Target,{targetType:Oe?"input":"button",autoComplete:ht,children:R.jsx(qs,{id:Gn,ref:t,__defaultRightSection:R.jsx(Qt.Chevron,{size:de,error:Ie,unstyled:s,color:rr}),__clearSection:Di,__clearable:$e,rightSection:ce,rightSectionPointerEvents:qe||"none",...xn,size:de,__staticSelector:"Select",disabled:A,readOnly:V||!Oe,value:rn,onChange:on=>{Ge(on.currentTarget.value),At.openDropdown(),D&&At.selectFirstOption()},onFocus:on=>{qn&&Oe&&At.openDropdown(),y?.(on)},onBlur:on=>{Jt&&At.clickSelectedOption(),Oe&&At.closeDropdown();const Vn=typeof lt=="string"&&(lt in Ht?Ht[lt]:Lt.current[lt]);Ge(Vn&&Vn.label||""),x?.(on)},onClick:on=>{Oe?At.openDropdown():At.toggleDropdown(),w?.(on)},classNames:Yr,styles:Dr,unstyled:s,pointer:!Oe,error:Ie,attributes:gn})}),R.jsx(XA,{data:br,hidden:V||A,filter:G,search:rn,limit:W,hiddenWhenEmpty:!q,withScrollArea:le,maxDropdownHeight:he,filterOptions:!!Oe&&Rn?.label!==rn,value:lt,checkIconPosition:xe,withCheckIcon:B,withAlignedLabels:X,nothingFoundMessage:q,unstyled:s,labelId:xn.label?`${Gn}-label`:void 0,"aria-label":xn.label?void 0:xn["aria-label"],renderOption:ln,scrollAreaProps:kt})]}),R.jsx(Qt.HiddenInput,{value:lt,name:ge,form:Se,disabled:A,...Zt})]})});kv.classes={...qs.classes,...Qt.classes};kv.displayName="@mantine/core/Select";var X_={root:"m_6d731127"};const BN={gap:"md",align:"stretch",justify:"flex-start"},UN=(e,{gap:t,align:r,justify:i})=>({root:{"--stack-gap":pu(t),"--stack-align":r,"--stack-justify":i}}),$i=Je((e,t)=>{const r=Le("Stack",BN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,align:h,justify:g,gap:y,variant:x,attributes:w,..._}=r,E=gt({name:"Stack",props:r,classes:X_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:UN});return R.jsx(Fe,{ref:t,...E("root"),variant:x,..._})});$i.classes=X_;$i.displayName="@mantine/core/Stack";const au=Je((e,t)=>{const r=Le("TextInput",null,e);return R.jsx(qs,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});au.classes=qs.classes;au.displayName="@mantine/core/TextInput";const $N=["h1","h2","h3","h4","h5","h6"],HN=["xs","sm","md","lg","xl"];function qN(e,t){const r=t!==void 0?t:`h${e}`;return $N.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:HN.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:_e(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var W_={root:"m_8a5d1357"};const GN={order:1},VN=(e,{order:t,size:r,lineClamp:i,textWrap:a})=>{const s=qN(t||1,r);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":a}}},ep=Je((e,t)=>{const r=Le("Title",GN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,order:f,vars:h,size:g,variant:y,lineClamp:x,textWrap:w,mod:_,attributes:E,...T}=r,N=gt({name:"Title",props:r,classes:W_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:E,vars:h,varsResolver:VN});return[1,2,3,4,5,6].includes(f)?R.jsx(Fe,{...N("root"),component:`h${f}`,variant:y,ref:t,mod:[{order:f,"data-line-clamp":typeof x=="number"},_],size:g,...T}):null});ep.classes=W_;ep.displayName="@mantine/core/Title";const YN=(e,t)=>{localStorage.setItem("sessionToken",e),localStorage.setItem("refreshToken",t)},lS=()=>localStorage.getItem("sessionToken"),uS=e=>{localStorage.setItem("user",JSON.stringify(e))},KN=()=>{const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch{return null}},XN=()=>{localStorage.removeItem("sessionToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},WN="https://gnaf-dev.map.ir",QN="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImY5ODkzNDMwZDIxNjI4MzJlYzNlMzZjYWQyZmRlOTM0MjYwMzY5YTA4NmViYzU3ZjBjMTU1MzcyNjVmNzE5ZTU1OWY3MTQ4ZDI2MDE4YjdmIn0.eyJhdWQiOiIxIiwianRpIjoiZjk4OTM0MzBkMjE2MjgzMmVjM2UzNmNhZDJmZGU5MzQyNjAzNjlhMDg2ZWJjNTdmMGMxNTUzNzI2NWY3MTllNTU5ZjcxNDhkMjYwMThiN2YiLCJpYXQiOjE2MzYxOTA2ODAsIm5iZiI6MTYzNjE5MDY4MCwiZXhwIjoxNjM3NjU5NDgwLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.FBzATSA1ffB_-M4anRL98P9ddgRfGaTjgTj5lTr4l0FAggl752DLZRRM93LIPeGzGfPD7lpaZZBEgMI0JdEIgqQNXs0WC06gdog_a4ioicuLrgXJvVKQ8YVmh5uA8LdQbNT8Zm12tXXBY40O6P3AMlx25LPAH3g-PpZNbFYS31_gatigi51SjywRWPmR5XkEXol1u7XytdUEJtMllHm2p7tL5rsFvaA76Ej_Vx9qbqZW5wPQAbfgvYLfwV0tW_TVg-6uNuIs_Pm8Wfen3uAqhTXF-q8oVx4Vh6v2-OntTLJfUTFRy0DjcEZSg686o1tL22Mw6zH48YcMuu3EukIdHQ",ks=async(e,t={})=>{const r=localStorage.getItem("sessionToken"),i={"Content-Type":"application/json","x-api-key":QN,...r&&{token:r},...t.headers},a={...t,headers:i};return await fetch(`${WN}${e}`,a)};var Q_=e=>{throw TypeError(e)},ZN=(e,t,r)=>t.has(e)||Q_("Cannot "+r),Og=(e,t,r)=>(ZN(e,t,"read from private field"),r?r.call(e):t.get(e)),JN=(e,t,r)=>t.has(e)?Q_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),cS="popstate";function eI(e={}){function t(a,s){let{pathname:u="/",search:d="",hash:f=""}=Jo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Wc("",{pathname:u,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:uo(s))}function i(a,s){Cn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return nI(t,r,i,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Cn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function tI(){return Math.random().toString(36).substring(2,10)}function dS(e,t){return{usr:e.state,key:e.key,idx:t}}function Wc(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Jo(t):t,state:r,key:t&&t.key||i||tI()}}function uo({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function nI(e,t,r,i={}){let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let T=g(),N=T==null?null:T-h;h=T,f&&f({action:d,location:E.location,delta:N})}function x(T,N){d="PUSH";let D=Wc(E.location,T,N);r&&r(D,T),h=g()+1;let I=dS(D,h),F=E.createHref(D);try{u.pushState(I,"",F)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(F)}s&&f&&f({action:d,location:E.location,delta:1})}function w(T,N){d="REPLACE";let D=Wc(E.location,T,N);r&&r(D,T),h=g();let I=dS(D,h),F=E.createHref(D);u.replaceState(I,"",F),s&&f&&f({action:d,location:E.location,delta:0})}function _(T){return Z_(T)}let E={get action(){return d},get location(){return e(a,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(cS,y),f=T,()=>{a.removeEventListener(cS,y),f=null}},createHref(T){return t(a,T)},createURL:_,encodeLocation(T){let N=_(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(T){return u.go(T)}};return E}function Z_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Et(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:uo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}var jc,fS=class{constructor(e){if(JN(this,jc,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(Og(this,jc).has(e))return Og(this,jc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){Og(this,jc).set(e,t)}};jc=new WeakMap;var rI=new Set(["lazy","caseSensitive","path","id","index","children"]);function iI(e){return rI.has(e)}var oI=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function aI(e){return oI.has(e)}function sI(e){return e.index===!0}function Qc(e,t,r=[],i={},a=!1){return e.map((s,u)=>{let d=[...r,String(u)],f=typeof s.id=="string"?s.id:d.join("-");if(Et(s.index!==!0||!s.children,"Cannot specify children on an index route"),Et(a||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),sI(s)){let h={...s,id:f};return i[f]=hS(h,t(h)),h}else{let h={...s,id:f,children:void 0};return i[f]=hS(h,t(h)),s.children&&(h.children=Qc(s.children,t,d,i,a)),h}})}function hS(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function La(e,t,r="/"){return zc(e,t,r,!1)}function zc(e,t,r,i){let a=typeof t=="string"?Jo(t):t,s=Ei(a.pathname||"/",r);if(s==null)return null;let u=J_(e);uI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=xI(s);d=vI(u[f],h,i)}return d}function lI(e,t){let{route:r,pathname:i,params:a}=e;return{id:r.id,pathname:i,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function J_(e,t=[],r=[],i="",a=!1){let s=(u,d,f=a,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Et(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=ao([i,g.relativePath]),x=r.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),J_(u.children,t,x,y,f)),!(u.path==null&&!u.index)&&t.push({path:y,score:gI(y,u.index),routesMeta:x})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))s(u,d);else for(let f of eE(u.path))s(u,d,!0,f)}),t}function eE(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return a?[s,""]:[s];let u=eE(i.join("/")),d=[];return d.push(...u.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function uI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:yI(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var cI=/^:[\w-]+$/,dI=3,fI=2,hI=1,pI=10,mI=-2,pS=e=>e==="*";function gI(e,t){let r=e.split("/"),i=r.length;return r.some(pS)&&(i+=mI),t&&(i+=fI),r.filter(a=>!pS(a)).reduce((a,s)=>a+(cI.test(s)?dI:s===""?hI:pI),i)}function yI(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function vI(e,t,r=!1){let{routesMeta:i}=e,a={},s="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],h=d===i.length-1,g=s==="/"?t:t.slice(s.length)||"/",y=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!y&&h&&r&&!i[i.length-1].route.index&&(y=hh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ao([s,y.pathname]),pathnameBase:CI(ao([s,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(s=ao([s,y.pathnameBase]))}return u}function hh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=bI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],u=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((h,{paramName:g,isOptional:y},x)=>{if(g==="*"){let _=d[x]||"";u=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=d[x];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:u,pattern:e}}function bI(e,t=!1,r=!0){Cn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function xI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function wI({basename:e,pathname:t}){return t==="/"?e:ao([e,t])}var tE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tp=e=>tE.test(e);function SI(e,t="/"){let{pathname:r,search:i="",hash:a=""}=typeof e=="string"?Jo(e):e,s;if(r)if(tp(r))s=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Cn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?s=mS(r.substring(1),"/"):s=mS(r,t)}else s=t;return{pathname:s,search:_I(i),hash:EI(a)}}function mS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Mg(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function nE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function np(e){let t=nE(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function rp(e,t,r,i=!1){let a;typeof e=="string"?a=Jo(e):(a={...e},Et(!a.pathname||!a.pathname.includes("?"),Mg("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Mg("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Mg("#","search","hash",a)));let s=e===""||a.pathname==="",u=s?"/":a.pathname,d;if(u==null)d=r;else{let y=t.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}d=y>=0?t[y]:"/"}let f=SI(a,d),h=u&&u!=="/"&&u.endsWith("/"),g=(s||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var ao=e=>e.join("/").replace(/\/\/+/g,"/"),CI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,EI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,dd=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Zc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function fd(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var rE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function iE(e,t){let r=e;if(typeof r!="string"||!tE.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,a=!1;if(rE)try{let s=new URL(window.location.href),u=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=Ei(u.pathname,t);u.origin===s.origin&&d!=null?r=d+u.search+u.hash:a=!0}catch{Cn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:r}}var Ua=Symbol("Uninstrumented");function OI(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(s){let u=Object.keys(r);for(let d of u)s[d]&&r[d].push(s[d])}}));let i={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=Wl(r.lazy,t.lazy,()=>{});a&&(i.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(s=>{let u=a[s],d=r[`lazy.${s}`];if(typeof u=="function"&&d.length>0){let f=Wl(d,u,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[s]:f}))}})}return["loader","action"].forEach(a=>{let s=t[a];if(typeof s=="function"&&r[a].length>0){let u=s[Ua]??s,d=Wl(r[a],u,(...f)=>gS(f[0]));d&&(d[Ua]=u,i[a]=d)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(i.middleware=t.middleware.map(a=>{let s=a[Ua]??a,u=Wl(r.middleware,s,(...d)=>gS(d[0]));return u?(u[Ua]=s,u):a})),i}function MI(e,t){let r={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(a){let s=Object.keys(a);for(let u of s)a[u]&&r[u].push(a[u])}})),r.navigate.length>0){let i=e.navigate[Ua]??e.navigate,a=Wl(r.navigate,i,(...s)=>{let[u,d]=s;return{to:typeof u=="number"||typeof u=="string"?u:u?uo(u):".",...yS(e,d??{})}});a&&(a[Ua]=i,e.navigate=a)}if(r.fetch.length>0){let i=e.fetch[Ua]??e.fetch,a=Wl(r.fetch,i,(...s)=>{let[u,,d,f]=s;return{href:d??".",fetcherKey:u,...yS(e,f??{})}});a&&(a[Ua]=i,e.fetch=a)}return e}function Wl(e,t,r){return e.length===0?null:async(...i)=>{let a=await oE(e,r(...i),()=>t(...i),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function oE(e,t,r,i){let a=e[i],s;if(a){let u,d=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=oE(e,t,r,i-1),s=await u,Et(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await a(d,t)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await d(),await u}else try{s={type:"success",value:await r()}}catch(u){s={type:"error",value:u}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function gS(e){let{request:t,context:r,params:i,unstable_pattern:a}=e;return{request:TI(t),params:{...i},unstable_pattern:a,context:RI(r)}}function yS(e,t){return{currentUrl:uo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function TI(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function RI(e){if(DI(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var PI=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function DI(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===PI}var aE=["POST","PUT","PATCH","DELETE"],AI=new Set(aE),NI=["GET",...aE],II=new Set(NI),sE=new Set([301,302,303,307,308]),jI=new Set([307,308]),Tg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},FI=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),lE="remix-router-transitions",uE=Symbol("ResetLoaderData");function kI(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Et(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],a=e.mapRouteProperties||FI,s=a;if(e.unstable_instrumentations){let $=e.unstable_instrumentations;s=te=>({...a(te),...OI($.map(be=>be.route).filter(Boolean),te)})}let u={},d=Qc(e.routes,s,void 0,u),f,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let g=e.dataStrategy||HI,y={...e.future},x=null,w=new Set,_=null,E=null,T=null,N=e.hydrationData!=null,D=La(d,e.history.location,h),I=!1,F=null,k;if(D==null&&!e.patchRoutesOnNavigation){let $=Si(404,{pathname:e.history.location.pathname}),{matches:te,route:be}=Ff(d);k=!0,D=te,F={[be.id]:$}}else if(D&&!e.hydrationData&&po(D,d,e.history.location.pathname).active&&(D=null),D)if(D.some($=>$.route.lazy))k=!1;else if(!D.some($=>Lv($.route)))k=!0;else{let $=e.hydrationData?e.hydrationData.loaderData:null,te=e.hydrationData?e.hydrationData.errors:null;if(te){let be=D.findIndex(Ae=>te[Ae.route.id]!==void 0);k=D.slice(0,be+1).every(Ae=>!oy(Ae.route,$,te))}else k=D.every(be=>!oy(be.route,$,te))}else{k=!1,D=[];let $=po(null,d,e.history.location.pathname);$.active&&$.matches&&(I=!0,D=$.matches)}let V,A={historyAction:e.history.action,location:e.history.location,matches:D,initialized:k,navigation:Tg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||F,fetchers:new Map,blockers:new Map},G="POP",W=null,le=!1,he,de=!1,Oe=new Map,ce=null,xe=!1,B=!1,X=new Set,q=new Map,ge=0,Se=-1,U=new Map,ie=new Set,Ce=new Map,Ne=new Map,Ie=new Set,qe=new Map,nt,wt=null;function De(){if(x=e.history.listen(({action:$,location:te,delta:be})=>{if(nt){nt(),nt=void 0;return}Cn(qe.size===0||be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=on({currentLocation:A.location,nextLocation:te,historyAction:$});if(Ae&&be!=null){let ke=new Promise(tt=>{nt=tt});e.history.go(be*-1),$e(Ae,{state:"blocked",location:te,proceed(){$e(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:te}),ke.then(()=>e.history.go(be))},reset(){let tt=new Map(A.blockers);tt.set(Ae,Rc),Ze({blockers:tt})}}),W?.resolve(),W=null;return}return mn($,te)}),r){s3(t,Oe);let $=()=>l3(t,Oe);t.addEventListener("pagehide",$),ce=()=>t.removeEventListener("pagehide",$)}return A.initialized||mn("POP",A.location,{initialHydration:!0}),V}function Zt(){x&&x(),ce&&ce(),w.clear(),he&&he.abort(),A.fetchers.forEach(($,te)=>rn(te)),A.blockers.forEach(($,te)=>Di(te))}function ln($){return w.add($),()=>w.delete($)}function Ze($,te={}){$.matches&&($.matches=$.matches.map(ke=>{let tt=u[ke.route.id],Xe=ke.route;return Xe.element!==tt.element||Xe.errorElement!==tt.errorElement||Xe.hydrateFallbackElement!==tt.hydrateFallbackElement?{...ke,route:tt}:ke})),A={...A,...$};let be=[],Ae=[];A.fetchers.forEach((ke,tt)=>{ke.state==="idle"&&(Ie.has(tt)?be.push(tt):Ae.push(tt))}),Ie.forEach(ke=>{!A.fetchers.has(ke)&&!q.has(ke)&&be.push(ke)}),[...w].forEach(ke=>ke(A,{deletedFetchers:be,newErrors:$.errors??null,viewTransitionOpts:te.viewTransitionOpts,flushSync:te.flushSync===!0})),be.forEach(ke=>rn(ke)),Ae.forEach(ke=>A.fetchers.delete(ke))}function ht($,te,{flushSync:be}={}){let Ae=A.actionData!=null&&A.navigation.formMethod!=null&&gr(A.navigation.formMethod)&&A.navigation.state==="loading"&&$.state?._isRedirect!==!0,ke;te.actionData?Object.keys(te.actionData).length>0?ke=te.actionData:ke=null:Ae?ke=A.actionData:ke=null;let tt=te.loaderData?MS(A.loaderData,te.loaderData,te.matches||[],te.errors):A.loaderData,Xe=A.blockers;Xe.size>0&&(Xe=new Map(Xe),Xe.forEach((ot,it)=>Xe.set(it,Rc)));let He=xe?!1:Xs($,te.matches||A.matches),Ke=le===!0||A.navigation.formMethod!=null&&gr(A.navigation.formMethod)&&$.state?._isRedirect!==!0;f&&(d=f,f=void 0),xe||G==="POP"||(G==="PUSH"?e.history.push($,$.state):G==="REPLACE"&&e.history.replace($,$.state));let Qe;if(G==="POP"){let ot=Oe.get(A.location.pathname);ot&&ot.has($.pathname)?Qe={currentLocation:A.location,nextLocation:$}:Oe.has($.pathname)&&(Qe={currentLocation:$,nextLocation:A.location})}else if(de){let ot=Oe.get(A.location.pathname);ot?ot.add($.pathname):(ot=new Set([$.pathname]),Oe.set(A.location.pathname,ot)),Qe={currentLocation:A.location,nextLocation:$}}Ze({...te,actionData:ke,loaderData:tt,historyAction:G,location:$,initialized:!0,navigation:Tg,revalidation:"idle",restoreScrollPosition:He,preventScrollReset:Ke,blockers:Xe},{viewTransitionOpts:Qe,flushSync:be===!0}),G="POP",le=!1,de=!1,xe=!1,B=!1,W?.resolve(),W=null,wt?.resolve(),wt=null}async function kt($,te){if(W?.resolve(),W=null,typeof $=="number"){W||(W=DS());let Ot=W.promise;return e.history.go($),Ot}let be=iy(A.location,A.matches,h,$,te?.fromRouteId,te?.relative),{path:Ae,submission:ke,error:tt}=vS(!1,be,te),Xe=A.location,He=Wc(A.location,Ae,te&&te.state);He={...He,...e.history.encodeLocation(He)};let Ke=te&&te.replace!=null?te.replace:void 0,Qe="PUSH";Ke===!0?Qe="REPLACE":Ke===!1||ke!=null&&gr(ke.formMethod)&&ke.formAction===A.location.pathname+A.location.search&&(Qe="REPLACE");let ot=te&&"preventScrollReset"in te?te.preventScrollReset===!0:void 0,it=(te&&te.flushSync)===!0,vt=on({currentLocation:Xe,nextLocation:He,historyAction:Qe});if(vt){$e(vt,{state:"blocked",location:He,proceed(){$e(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:He}),kt($,te)},reset(){let Ot=new Map(A.blockers);Ot.set(vt,Rc),Ze({blockers:Ot})}});return}await mn(Qe,He,{submission:ke,pendingError:tt,preventScrollReset:ot,replace:te&&te.replace,enableViewTransition:te&&te.viewTransition,flushSync:it,callSiteDefaultShouldRevalidate:te&&te.unstable_defaultShouldRevalidate})}function nn(){wt||(wt=DS()),lt(),Ze({revalidation:"loading"});let $=wt.promise;return A.navigation.state==="submitting"?$:A.navigation.state==="idle"?(mn(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),$):(mn(G||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:de===!0}),$)}async function mn($,te,be){he&&he.abort(),he=null,G=$,xe=(be&&be.startUninterruptedRevalidation)===!0,Ai(A.location,A.matches),le=(be&&be.preventScrollReset)===!0,de=(be&&be.enableViewTransition)===!0;let Ae=f||d,ke=be&&be.overrideNavigation,tt=be?.initialHydration&&A.matches&&A.matches.length>0&&!I?A.matches:La(Ae,te,h),Xe=(be&&be.flushSync)===!0;if(tt&&A.initialized&&!B&&QI(A.location,te)&&!(be&&be.submission&&gr(be.submission.formMethod))){ht(te,{matches:tt},{flushSync:Xe});return}let He=po(tt,Ae,te.pathname);if(He.active&&He.matches&&(tt=He.matches),!tt){let{error:un,notFoundMatches:an,route:at}=Vn(te.pathname);ht(te,{matches:an,loaderData:{},errors:{[at.id]:un}},{flushSync:Xe});return}he=new AbortController;let Ke=Yl(e.history,te,he.signal,be&&be.submission),Qe=e.getContext?await e.getContext():new fS,ot;if(be&&be.pendingError)ot=[Ba(tt).route.id,{type:"error",error:be.pendingError}];else if(be&&be.submission&&gr(be.submission.formMethod)){let un=await Rr(Ke,te,be.submission,tt,Qe,He.active,be&&be.initialHydration===!0,{replace:be.replace,flushSync:Xe});if(un.shortCircuited)return;if(un.pendingActionResult){let[an,at]=un.pendingActionResult;if(ni(at)&&Zc(at.error)&&at.error.status===404){he=null,ht(te,{matches:un.matches,loaderData:{},errors:{[an]:at.error}});return}}tt=un.matches||tt,ot=un.pendingActionResult,ke=Rg(te,be.submission),Xe=!1,He.active=!1,Ke=Yl(e.history,Ke.url,Ke.signal)}let{shortCircuited:it,matches:vt,loaderData:Ot,errors:Bt}=await rr(Ke,te,tt,Qe,He.active,ke,be&&be.submission,be&&be.fetcherSubmission,be&&be.replace,be&&be.initialHydration===!0,Xe,ot,be&&be.callSiteDefaultShouldRevalidate);it||(he=null,ht(te,{matches:vt||tt,...TS(ot),loaderData:Ot,errors:Bt}))}async function Rr($,te,be,Ae,ke,tt,Xe,He={}){lt();let Ke=o3(te,be);if(Ze({navigation:Ke},{flushSync:He.flushSync===!0}),tt){let it=await xr(Ae,te.pathname,$.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){if(it.partialMatches.length===0){let{matches:Ot,route:Bt}=Ff(d);return{matches:Ot,pendingActionResult:[Bt.id,{type:"error",error:it.error}]}}let vt=Ba(it.partialMatches).route.id;return{matches:it.partialMatches,pendingActionResult:[vt,{type:"error",error:it.error}]}}else if(it.matches)Ae=it.matches;else{let{notFoundMatches:vt,error:Ot,route:Bt}=Vn(te.pathname);return{matches:vt,pendingActionResult:[Bt.id,{type:"error",error:Ot}]}}}let Qe,ot=Jf(Ae,te);if(!ot.route.action&&!ot.route.lazy)Qe={type:"error",error:Si(405,{method:$.method,pathname:te.pathname,routeId:ot.route.id})};else{let it=eu(s,u,$,Ae,ot,Xe?[]:i,ke),vt=await Ht($,it,ke,null);if(Qe=vt[ot.route.id],!Qe){for(let Ot of Ae)if(vt[Ot.route.id]){Qe=vt[Ot.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(Ps(Qe)){let it;return He&&He.replace!=null?it=He.replace:it=_S(Qe.response.headers.get("Location"),new URL($.url),h)===A.location.pathname+A.location.search,await Lt($,Qe,!0,{submission:be,replace:it}),{shortCircuited:!0}}if(ni(Qe)){let it=Ba(Ae,ot.route.id);return(He&&He.replace)!==!0&&(G="PUSH"),{matches:Ae,pendingActionResult:[it.route.id,Qe,ot.route.id]}}return{matches:Ae,pendingActionResult:[ot.route.id,Qe]}}async function rr($,te,be,Ae,ke,tt,Xe,He,Ke,Qe,ot,it,vt){let Ot=tt||Rg(te,Xe),Bt=Xe||He||PS(Ot),un=!xe&&!Qe;if(ke){if(un){let st=Jt(it);Ze({navigation:Ot,...st!==void 0?{actionData:st}:{}},{flushSync:ot})}let Mt=await xr(be,te.pathname,$.signal);if(Mt.type==="aborted")return{shortCircuited:!0};if(Mt.type==="error"){if(Mt.partialMatches.length===0){let{matches:Ar,route:Nn}=Ff(d);return{matches:Ar,loaderData:{},errors:{[Nn.id]:Mt.error}}}let st=Ba(Mt.partialMatches).route.id;return{matches:Mt.partialMatches,loaderData:{},errors:{[st]:Mt.error}}}else if(Mt.matches)be=Mt.matches;else{let{error:st,notFoundMatches:Ar,route:Nn}=Vn(te.pathname);return{matches:Ar,loaderData:{},errors:{[Nn.id]:st}}}}let an=f||d,{dsMatches:at,revalidatingFetchers:sn}=bS($,Ae,s,u,e.history,A,be,Bt,te,Qe?[]:i,Qe===!0,B,X,Ie,Ce,ie,an,h,e.patchRoutesOnNavigation!=null,it,vt);if(Se=++ge,!e.dataStrategy&&!at.some(Mt=>Mt.shouldLoad)&&!at.some(Mt=>Mt.route.middleware&&Mt.route.middleware.length>0)&&sn.length===0){let Mt=Ge();return ht(te,{matches:be,loaderData:{},errors:it&&ni(it[1])?{[it[0]]:it[1].error}:null,...TS(it),...Mt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(un){let Mt={};if(!ke){Mt.navigation=Ot;let st=Jt(it);st!==void 0&&(Mt.actionData=st)}sn.length>0&&(Mt.fetchers=qn(sn)),Ze(Mt,{flushSync:ot})}sn.forEach(Mt=>{qt(Mt.key),Mt.controller&&q.set(Mt.key,Mt.controller)});let yn=()=>sn.forEach(Mt=>qt(Mt.key));he&&he.signal.addEventListener("abort",yn);let{loaderResults:en,fetcherResults:Xn}=await Gn(at,sn,$,Ae);if($.signal.aborted)return{shortCircuited:!0};he&&he.signal.removeEventListener("abort",yn),sn.forEach(Mt=>q.delete(Mt.key));let Wn=kf(en);if(Wn)return await Lt($,Wn.result,!0,{replace:Ke}),{shortCircuited:!0};if(Wn=kf(Xn),Wn)return ie.add(Wn.key),await Lt($,Wn.result,!0,{replace:Ke}),{shortCircuited:!0};let{loaderData:Sr,errors:fr}=OS(A,be,en,it,sn,Xn);Qe&&A.errors&&(fr={...A.errors,...fr});let or=Ge(),Vi=Yr(Se),ci=or||Vi||sn.length>0;return{matches:be,loaderData:Sr,errors:fr,...ci?{fetchers:new Map(A.fetchers)}:{}}}function Jt($){if($&&!ni($[1]))return{[$[0]]:$[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function qn($){return $.forEach(te=>{let be=A.fetchers.get(te.key),Ae=Pc(void 0,be?be.data:void 0);A.fetchers.set(te.key,Ae)}),new Map(A.fetchers)}async function gn($,te,be,Ae){qt($);let ke=(Ae&&Ae.flushSync)===!0,tt=f||d,Xe=iy(A.location,A.matches,h,be,te,Ae?.relative),He=La(tt,Xe,h),Ke=po(He,tt,Xe);if(Ke.active&&Ke.matches&&(He=Ke.matches),!He){_n($,te,Si(404,{pathname:Xe}),{flushSync:ke});return}let{path:Qe,submission:ot,error:it}=vS(!0,Xe,Ae);if(it){_n($,te,it,{flushSync:ke});return}let vt=e.getContext?await e.getContext():new fS,Ot=(Ae&&Ae.preventScrollReset)===!0;if(ot&&gr(ot.formMethod)){await xn($,te,Qe,He,vt,Ke.active,ke,Ot,ot,Ae&&Ae.unstable_defaultShouldRevalidate);return}Ce.set($,{routeId:te,path:Qe}),await br($,te,Qe,He,vt,Ke.active,ke,Ot,ot)}async function xn($,te,be,Ae,ke,tt,Xe,He,Ke,Qe){lt(),Ce.delete($);let ot=A.fetchers.get($);wn($,a3(Ke,ot),{flushSync:Xe});let it=new AbortController,vt=Yl(e.history,be,it.signal,Ke);if(tt){let Ct=await xr(Ae,new URL(vt.url).pathname,vt.signal,$);if(Ct.type==="aborted")return;if(Ct.type==="error"){_n($,te,Ct.error,{flushSync:Xe});return}else if(Ct.matches)Ae=Ct.matches;else{_n($,te,Si(404,{pathname:be}),{flushSync:Xe});return}}let Ot=Jf(Ae,be);if(!Ot.route.action&&!Ot.route.lazy){let Ct=Si(405,{method:Ke.formMethod,pathname:be,routeId:te});_n($,te,Ct,{flushSync:Xe});return}q.set($,it);let Bt=ge,un=eu(s,u,vt,Ae,Ot,i,ke),an=await Ht(vt,un,ke,$),at=an[Ot.route.id];if(!at){for(let Ct of un)if(an[Ct.route.id]){at=an[Ct.route.id];break}}if(vt.signal.aborted){q.get($)===it&&q.delete($);return}if(Ie.has($)){if(Ps(at)||ni(at)){wn($,Bo(void 0));return}}else{if(Ps(at))if(q.delete($),Se>Bt){wn($,Bo(void 0));return}else return ie.add($),wn($,Pc(Ke)),Lt(vt,at,!1,{fetcherSubmission:Ke,preventScrollReset:He});if(ni(at)){_n($,te,at.error);return}}let sn=A.navigation.location||A.location,yn=Yl(e.history,sn,it.signal),en=f||d,Xn=A.navigation.state!=="idle"?La(en,A.navigation.location,h):A.matches;Et(Xn,"Didn't find any matches after fetcher action");let Wn=++ge;U.set($,Wn);let Sr=Pc(Ke,at.data);A.fetchers.set($,Sr);let{dsMatches:fr,revalidatingFetchers:or}=bS(yn,ke,s,u,e.history,A,Xn,Ke,sn,i,!1,B,X,Ie,Ce,ie,en,h,e.patchRoutesOnNavigation!=null,[Ot.route.id,at],Qe);or.filter(Ct=>Ct.key!==$).forEach(Ct=>{let Kr=Ct.key,es=A.fetchers.get(Kr),ia=Pc(void 0,es?es.data:void 0);A.fetchers.set(Kr,ia),qt(Kr),Ct.controller&&q.set(Kr,Ct.controller)}),Ze({fetchers:new Map(A.fetchers)});let Vi=()=>or.forEach(Ct=>qt(Ct.key));it.signal.addEventListener("abort",Vi);let{loaderResults:ci,fetcherResults:Mt}=await Gn(fr,or,yn,ke);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",Vi),U.delete($),q.delete($),or.forEach(Ct=>q.delete(Ct.key)),A.fetchers.has($)){let Ct=Bo(at.data);A.fetchers.set($,Ct)}let st=kf(ci);if(st)return Lt(yn,st.result,!1,{preventScrollReset:He});if(st=kf(Mt),st)return ie.add(st.key),Lt(yn,st.result,!1,{preventScrollReset:He});let{loaderData:Ar,errors:Nn}=OS(A,Xn,ci,void 0,or,Mt);Yr(Wn),A.navigation.state==="loading"&&Wn>Se?(Et(G,"Expected pending action"),he&&he.abort(),ht(A.navigation.location,{matches:Xn,loaderData:Ar,errors:Nn,fetchers:new Map(A.fetchers)})):(Ze({errors:Nn,loaderData:MS(A.loaderData,Ar,Xn,Nn),fetchers:new Map(A.fetchers)}),B=!1)}async function br($,te,be,Ae,ke,tt,Xe,He,Ke){let Qe=A.fetchers.get($);wn($,Pc(Ke,Qe?Qe.data:void 0),{flushSync:Xe});let ot=new AbortController,it=Yl(e.history,be,ot.signal);if(tt){let at=await xr(Ae,new URL(it.url).pathname,it.signal,$);if(at.type==="aborted")return;if(at.type==="error"){_n($,te,at.error,{flushSync:Xe});return}else if(at.matches)Ae=at.matches;else{_n($,te,Si(404,{pathname:be}),{flushSync:Xe});return}}let vt=Jf(Ae,be);q.set($,ot);let Ot=ge,Bt=eu(s,u,it,Ae,vt,i,ke),an=(await Ht(it,Bt,ke,$))[vt.route.id];if(q.get($)===ot&&q.delete($),!it.signal.aborted){if(Ie.has($)){wn($,Bo(void 0));return}if(Ps(an))if(Se>Ot){wn($,Bo(void 0));return}else{ie.add($),await Lt(it,an,!1,{preventScrollReset:He});return}if(ni(an)){_n($,te,an.error);return}wn($,Bo(an.data))}}async function Lt($,te,be,{submission:Ae,fetcherSubmission:ke,preventScrollReset:tt,replace:Xe}={}){be||(W?.resolve(),W=null),te.response.headers.has("X-Remix-Revalidate")&&(B=!0);let He=te.response.headers.get("Location");Et(He,"Expected a Location header on the redirect Response"),He=_S(He,new URL($.url),h);let Ke=Wc(A.location,He,{_isRedirect:!0});if(r){let Bt=!1;if(te.response.headers.has("X-Remix-Reload-Document"))Bt=!0;else if(tp(He)){const un=Z_(He,!0);Bt=un.origin!==t.location.origin||Ei(un.pathname,h)==null}if(Bt){Xe?t.location.replace(He):t.location.assign(He);return}}he=null;let Qe=Xe===!0||te.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:it,formEncType:vt}=A.navigation;!Ae&&!ke&&ot&&it&&vt&&(Ae=PS(A.navigation));let Ot=Ae||ke;if(jI.has(te.response.status)&&Ot&&gr(Ot.formMethod))await mn(Qe,Ke,{submission:{...Ot,formAction:He},preventScrollReset:tt||le,enableViewTransition:be?de:void 0});else{let Bt=Rg(Ke,Ae);await mn(Qe,Ke,{overrideNavigation:Bt,fetcherSubmission:ke,preventScrollReset:tt||le,enableViewTransition:be?de:void 0})}}async function Ht($,te,be,Ae){let ke,tt={};try{ke=await GI(g,$,te,Ae,be,!1)}catch(Xe){return te.filter(He=>He.shouldLoad).forEach(He=>{tt[He.route.id]={type:"error",error:Xe}}),tt}if($.signal.aborted)return tt;if(!gr($.method))for(let Xe of te){if(ke[Xe.route.id]?.type==="error")break;!ke.hasOwnProperty(Xe.route.id)&&!A.loaderData.hasOwnProperty(Xe.route.id)&&(!A.errors||!A.errors.hasOwnProperty(Xe.route.id))&&Xe.shouldCallHandler()&&(ke[Xe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Xe.route.id}`)})}for(let[Xe,He]of Object.entries(ke))if(t3(He)){let Ke=He.result;tt[Xe]={type:"redirect",response:XI(Ke,$,Xe,te,h)}}else tt[Xe]=await KI(He);return tt}async function Gn($,te,be,Ae){let ke=Ht(be,$,Ae,null),tt=Promise.all(te.map(async Ke=>{if(Ke.matches&&Ke.match&&Ke.request&&Ke.controller){let ot=(await Ht(Ke.request,Ke.matches,Ae,Ke.key))[Ke.match.route.id];return{[Ke.key]:ot}}else return Promise.resolve({[Ke.key]:{type:"error",error:Si(404,{pathname:Ke.path})}})})),Xe=await ke,He=(await tt).reduce((Ke,Qe)=>Object.assign(Ke,Qe),{});return{loaderResults:Xe,fetcherResults:He}}function lt(){B=!0,Ce.forEach(($,te)=>{q.has(te)&&X.add(te),qt(te)})}function wn($,te,be={}){A.fetchers.set($,te),Ze({fetchers:new Map(A.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function _n($,te,be,Ae={}){let ke=Ba(A.matches,te);rn($),Ze({errors:{[ke.route.id]:be},fetchers:new Map(A.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function Rn($){return Ne.set($,(Ne.get($)||0)+1),Ie.has($)&&Ie.delete($),A.fetchers.get($)||zI}function Vr($,te){qt($,te?.reason),wn($,Bo(null))}function rn($){let te=A.fetchers.get($);q.has($)&&!(te&&te.state==="loading"&&U.has($))&&qt($),Ce.delete($),U.delete($),ie.delete($),Ie.delete($),X.delete($),A.fetchers.delete($)}function Pr($){let te=(Ne.get($)||0)-1;te<=0?(Ne.delete($),Ie.add($)):Ne.set($,te),Ze({fetchers:new Map(A.fetchers)})}function qt($,te){let be=q.get($);be&&(be.abort(te),q.delete($))}function At($){for(let te of $){let be=Rn(te),Ae=Bo(be.data);A.fetchers.set(te,Ae)}}function Ge(){let $=[],te=!1;for(let be of ie){let Ae=A.fetchers.get(be);Et(Ae,`Expected fetcher: ${be}`),Ae.state==="loading"&&(ie.delete(be),$.push(be),te=!0)}return At($),te}function Yr($){let te=[];for(let[be,Ae]of U)if(Ae<$){let ke=A.fetchers.get(be);Et(ke,`Expected fetcher: ${be}`),ke.state==="loading"&&(qt(be),U.delete(be),te.push(be))}return At(te),te.length>0}function Dr($,te){let be=A.blockers.get($)||Rc;return qe.get($)!==te&&qe.set($,te),be}function Di($){A.blockers.delete($),qe.delete($)}function $e($,te){let be=A.blockers.get($)||Rc;Et(be.state==="unblocked"&&te.state==="blocked"||be.state==="blocked"&&te.state==="blocked"||be.state==="blocked"&&te.state==="proceeding"||be.state==="blocked"&&te.state==="unblocked"||be.state==="proceeding"&&te.state==="unblocked",`Invalid blocker state transition: ${be.state} -> ${te.state}`);let Ae=new Map(A.blockers);Ae.set($,te),Ze({blockers:Ae})}function on({currentLocation:$,nextLocation:te,historyAction:be}){if(qe.size===0)return;qe.size>1&&Cn(!1,"A router only supports one blocker at a time");let Ae=Array.from(qe.entries()),[ke,tt]=Ae[Ae.length-1],Xe=A.blockers.get(ke);if(!(Xe&&Xe.state==="proceeding")&&tt({currentLocation:$,nextLocation:te,historyAction:be}))return ke}function Vn($){let te=Si(404,{pathname:$}),be=f||d,{matches:Ae,route:ke}=Ff(be);return{notFoundMatches:Ae,route:ke,error:te}}function ir($,te,be){if(_=$,T=te,E=be||null,!N&&A.navigation===Tg){N=!0;let Ae=Xs(A.location,A.matches);Ae!=null&&Ze({restoreScrollPosition:Ae})}return()=>{_=null,T=null,E=null}}function Gi($,te){return E&&E($,te.map(Ae=>lI(Ae,A.loaderData)))||$.key}function Ai($,te){if(_&&T){let be=Gi($,te);_[be]=T()}}function Xs($,te){if(_){let be=Gi($,te),Ae=_[be];if(typeof Ae=="number")return Ae}return null}function po($,te,be){if(e.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:zc(te,be,h,!0)}}else return{active:!0,matches:zc(te,be,h,!0)||[]};return{active:!1,matches:null}}async function xr($,te,be,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:$};let ke=$;for(;;){let tt=f==null,Xe=f||d,He=u;try{await e.patchRoutesOnNavigation({signal:be,path:te,matches:ke,fetcherKey:Ae,patch:(ot,it)=>{be.aborted||xS(ot,it,Xe,He,s,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:ke}}finally{tt&&!be.aborted&&(d=[...d])}if(be.aborted)return{type:"aborted"};let Ke=La(Xe,te,h),Qe=null;if(Ke){if(Object.keys(Ke[0].params).length===0)return{type:"success",matches:Ke};if(Qe=zc(Xe,te,h,!0),!(Qe&&ke.length<Qe.length&&wr(ke,Qe.slice(0,ke.length))))return{type:"success",matches:Ke}}if(Qe||(Qe=zc(Xe,te,h,!0)),!Qe||wr(ke,Qe))return{type:"success",matches:null};ke=Qe}}function wr($,te){return $.length===te.length&&$.every((be,Ae)=>be.route.id===te[Ae].route.id)}function Ja($){u={},f=Qc($,s,void 0,u)}function mo($,te,be=!1){let Ae=f==null;xS($,te,f||d,u,s,be),Ae&&(d=[...d],Ze({}))}return V={get basename(){return h},get future(){return y},get state(){return A},get routes(){return d},get window(){return t},initialize:De,subscribe:ln,enableScrollRestoration:ir,navigate:kt,fetch:gn,revalidate:nn,createHref:$=>e.history.createHref($),encodeLocation:$=>e.history.encodeLocation($),getFetcher:Rn,resetFetcher:Vr,deleteFetcher:Pr,dispose:Zt,getBlocker:Dr,deleteBlocker:Di,patchRoutes:mo,_internalFetchControllers:q,_internalSetRoutes:Ja,_internalSetStateDoNotUseOrYouWillBreakYourApp($){Ze($)}},e.unstable_instrumentations&&(V=MI(V,e.unstable_instrumentations.map($=>$.router).filter(Boolean))),V}function LI(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function iy(e,t,r,i,a,s){let u,d;if(a){u=[];for(let h of t)if(u.push(h),h.route.id===a){d=h;break}}else u=t,d=t[t.length-1];let f=rp(i||".",np(u),Ei(e.pathname,r)||e.pathname,s==="path");if(i==null&&(f.search=e.search,f.hash=e.hash),(i==null||i===""||i===".")&&d){let h=Uv(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(w=>w).forEach(w=>g.append("index",w));let x=g.toString();f.search=x?`?${x}`:""}}return r!=="/"&&(f.pathname=wI({basename:r,pathname:f.pathname})),uo(f)}function vS(e,t,r){if(!r||!LI(r))return{path:t};if(r.formMethod&&!i3(r.formMethod))return{path:t,error:Si(405,{method:r.formMethod})};let i=()=>({path:t,error:Si(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),u=mE(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!gr(s))return i();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,[w,_])=>`${x}${w}=${_}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!gr(s))return i();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Et(typeof FormData=="function","FormData is not available in this environment");let d,f;if(r.formData)d=sy(r.formData),f=r.formData;else if(r.body instanceof FormData)d=sy(r.body),f=r.body;else if(r.body instanceof URLSearchParams)d=r.body,f=ES(d);else if(r.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(r.body),f=ES(d)}catch{return i()}let h={formMethod:s,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(gr(h.formMethod))return{path:t,submission:h};let g=Jo(t);return e&&g.search&&Uv(g.search)&&d.append("index",""),g.search=`?${d}`,{path:uo(g),submission:h}}function bS(e,t,r,i,a,s,u,d,f,h,g,y,x,w,_,E,T,N,D,I,F){let k=I?ni(I[1])?I[1].error:I[1].data:void 0,V=a.createURL(s.location),A=a.createURL(f),G;if(g&&s.errors){let xe=Object.keys(s.errors)[0];G=u.findIndex(B=>B.route.id===xe)}else if(I&&ni(I[1])){let xe=I[0];G=u.findIndex(B=>B.route.id===xe)-1}let W=I?I[1].statusCode:void 0,le=W&&W>=400,he={currentUrl:V,currentParams:s.matches[0]?.params||{},nextUrl:A,nextParams:u[0].params,...d,actionResult:k,actionStatus:W},de=fd(u),Oe=u.map((xe,B)=>{let{route:X}=xe,q=null;if(G!=null&&B>G?q=!1:X.lazy?q=!0:Lv(X)?g?q=oy(X,s.loaderData,s.errors):BI(s.loaderData,s.matches[B],xe)&&(q=!0):q=!1,q!==null)return ay(r,i,e,de,xe,h,t,q);let ge=!1;typeof F=="boolean"?ge=F:le?ge=!1:(y||V.pathname+V.search===A.pathname+A.search||V.search!==A.search||UI(s.matches[B],xe))&&(ge=!0);let Se={...he,defaultShouldRevalidate:ge},U=$c(xe,Se);return ay(r,i,e,de,xe,h,t,U,Se,F)}),ce=[];return _.forEach((xe,B)=>{if(g||!u.some(Ne=>Ne.route.id===xe.routeId)||w.has(B))return;let X=s.fetchers.get(B),q=X&&X.state!=="idle"&&X.data===void 0,ge=La(T,xe.path,N);if(!ge){if(D&&q)return;ce.push({key:B,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(E.has(B))return;let Se=Jf(ge,xe.path),U=new AbortController,ie=Yl(a,xe.path,U.signal),Ce=null;if(x.has(B))x.delete(B),Ce=eu(r,i,ie,ge,Se,h,t);else if(q)y&&(Ce=eu(r,i,ie,ge,Se,h,t));else{let Ne;typeof F=="boolean"?Ne=F:le?Ne=!1:Ne=y;let Ie={...he,defaultShouldRevalidate:Ne};$c(Se,Ie)&&(Ce=eu(r,i,ie,ge,Se,h,t,Ie))}Ce&&ce.push({key:B,routeId:xe.routeId,path:xe.path,matches:Ce,match:Se,request:ie,controller:U})}),{dsMatches:Oe,revalidatingFetchers:ce}}function Lv(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function oy(e,t,r){if(e.lazy)return!0;if(!Lv(e))return!1;let i=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!i&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!a}function BI(e,t,r){let i=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return i||a}function UI(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function $c(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function xS(e,t,r,i,a,s){let u;if(e){let h=i[e];Et(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),u=h.children}else u=r;let d=[],f=[];if(t.forEach(h=>{let g=u.find(y=>cE(h,y));g?f.push({existingRoute:g,newRoute:h}):d.push(h)}),d.length>0){let h=Qc(d,a,[e||"_","patch",String(u?.length||"0")],i);u.push(...h)}if(s&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:g,newRoute:y}=f[h],x=g,[w]=Qc([y],a,[],{},!0);Object.assign(x,{element:w.element?w.element:x.element,errorElement:w.errorElement?w.errorElement:x.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:x.hydrateFallbackElement})}}function cE(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,i)=>t.children?.some(a=>cE(r,a))):!1}var wS=new WeakMap,dE=({key:e,route:t,manifest:r,mapRouteProperties:i})=>{let a=r[t.id];if(Et(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let s=a.lazy[e];if(!s)return;let u=wS.get(a);u||(u={},wS.set(a,u));let d=u[e];if(d)return d;let f=(async()=>{let h=iI(e),y=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Cn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(y)Cn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await s();x!=null&&(Object.assign(a,{[e]:x}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(x=>x===void 0)&&(a.lazy=void 0))})();return u[e]=f,f},SS=new WeakMap;function $I(e,t,r,i,a){let s=r[e.id];if(Et(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=SS.get(s);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{Et(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),w={};for(let _ in x){let E=x[_];if(E===void 0)continue;let T=aI(_),D=s[_]!==void 0&&_!=="hasErrorBoundary";T?Cn(!T,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Cn(!D,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):w[_]=E}Object.assign(s,w),Object.assign(s,{...i(s),lazy:void 0})})();return SS.set(s,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let u=Object.keys(e.lazy),d=[],f;for(let g of u){if(a&&a.includes(g))continue;let y=dE({key:g,route:e,manifest:r,mapRouteProperties:i});y&&(d.push(y),g===t&&(f=y))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function CS(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,s)=>{r[t[s].route.id]=a}),r}async function HI(e){return e.matches.some(t=>t.route.middleware)?fE(e,()=>CS(e)):CS(e)}function fE(e,t){return qI(e,t,i=>{if(r3(i))throw i;return i},JI,r);function r(i,a,s){if(s)return Promise.resolve(Object.assign(s.value,{[a]:{type:"error",result:i}}));{let{matches:u}=e,d=Math.min(Math.max(u.findIndex(h=>h.route.id===a),0),Math.max(u.findIndex(h=>h.shouldCallHandler()),0)),f=Ba(u,u[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function qI(e,t,r,i,a){let{matches:s,request:u,params:d,context:f,unstable_pattern:h}=e,g=s.flatMap(x=>x.route.middleware?x.route.middleware.map(w=>[x.route.id,w]):[]);return await hE({request:u,params:d,context:f,unstable_pattern:h},g,t,r,i,a)}async function hE(e,t,r,i,a,s,u=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=t[u];if(!f)return await r();let[h,g]=f,y,x=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await hE(e,t,r,i,a,s,u+1)},y.value}catch(w){return y={value:await s(w,h,y)},y.value}};try{let w=await g(e,x),_=w!=null?i(w):void 0;return a(_)?_:y?_??y.value:(y={value:await x()},y.value)}catch(w){return await s(w,h,y)}}function pE(e,t,r,i,a){let s=dE({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),u=$I(i.route,gr(r.method)?"action":"loader",t,e,a);return{middleware:s,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function ay(e,t,r,i,a,s,u,d,f=null,h){let g=!1,y=pE(e,t,r,a,s);return{...a,_lazyPromises:y,shouldLoad:d,shouldRevalidateArgs:f,shouldCallHandler(x){return g=!0,f?typeof h=="boolean"?$c(a,{...f,defaultShouldRevalidate:h}):typeof x=="boolean"?$c(a,{...f,defaultShouldRevalidate:x}):$c(a,f):d},resolve(x){let{lazy:w,loader:_,middleware:E}=a.route,T=g||d||x&&!gr(r.method)&&(w||_),N=E&&E.length>0&&!_&&!w;return T&&(gr(r.method)||!N)?VI({request:r,unstable_pattern:i,match:a,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:x,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function eu(e,t,r,i,a,s,u,d=null){return i.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:pE(e,t,r,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:ay(e,t,r,fd(i),f,s,u,!0,d))}async function GI(e,t,r,i,a,s){r.some(h=>h._lazyPromises?.middleware)&&await Promise.all(r.map(h=>h._lazyPromises?.middleware));let u={request:t,unstable_pattern:fd(r),params:r[0].params,context:a,matches:r},f=await e({...u,fetcherKey:i,runClientMiddleware:h=>{let g=u;return fE(g,()=>h({...g,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function VI({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:s,scopedContext:u}){let d,f,h=gr(e.method),g=h?"action":"loader",y=x=>{let w,_=new Promise((N,D)=>w=D);f=()=>w(),e.signal.addEventListener("abort",f);let E=N=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${r.route.id}]`)):x({request:e,unstable_pattern:t,params:r.params,context:u},...N!==void 0?[N]:[]),T=(async()=>{try{return{type:"data",result:await(s?s(D=>E(D)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([T,_])};try{let x=h?r.route.action:r.route.loader;if(i||a)if(x){let w,[_]=await Promise.all([y(x).catch(E=>{w=E}),i,a]);if(w!==void 0)throw w;d=_}else{await i;let w=h?r.route.action:r.route.loader;if(w)[d]=await Promise.all([y(w),a]);else if(g==="action"){let _=new URL(e.url),E=_.pathname+_.search;throw Si(405,{method:e.method,pathname:E,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(x)d=await y(x);else{let w=new URL(e.url),_=w.pathname+w.search;throw Si(404,{pathname:_})}}catch(x){return{type:"error",result:x}}finally{f&&e.signal.removeEventListener("abort",f)}return d}async function YI(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function KI(e){let{result:t,type:r}=e;if(Bv(t)){let i;try{i=await YI(t)}catch(a){return{type:"error",error:a}}return r==="error"?{type:"error",error:new dd(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:"data",data:i,statusCode:t.status,headers:t.headers}}return r==="error"?RS(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:ZI(t),statusCode:Zc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Zc(t)?t.status:void 0}:RS(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function XI(e,t,r,i,a){let s=e.headers.get("Location");if(Et(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!tp(s)){let u=i.slice(0,i.findIndex(d=>d.route.id===r)+1);s=iy(new URL(t.url),u,a,s),e.headers.set("Location",s)}return e}function _S(e,t,r){if(tp(e)){let i=e,a=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=Ei(a.pathname,r)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Yl(e,t,r,i){let a=e.createURL(mE(t)).toString(),s={signal:r};if(i&&gr(i.formMethod)){let{formMethod:u,formEncType:d}=i;s.method=u.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(i.json)):d==="text/plain"?s.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?s.body=sy(i.formData):s.body=i.formData}return new Request(a,s)}function sy(e){let t=new URLSearchParams;for(let[r,i]of e.entries())t.append(r,typeof i=="string"?i:i.name);return t}function ES(e){let t=new FormData;for(let[r,i]of e.entries())t.append(r,i);return t}function WI(e,t,r,i=!1,a=!1){let s={},u=null,d,f=!1,h={},g=r&&ni(r[1])?r[1].error:void 0;return e.forEach(y=>{if(!(y.route.id in t))return;let x=y.route.id,w=t[x];if(Et(!Ps(w),"Cannot handle redirect results in processLoaderData"),ni(w)){let _=w.error;if(g!==void 0&&(_=g,g=void 0),u=u||{},a)u[x]=_;else{let E=Ba(e,x);u[E.route.id]==null&&(u[E.route.id]=_)}i||(s[x]=uE),f||(f=!0,d=Zc(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else s[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(h[x]=w.headers)}),g!==void 0&&r&&(u={[r[0]]:g},r[2]&&(s[r[2]]=void 0)),{loaderData:s,errors:u,statusCode:d||200,loaderHeaders:h}}function OS(e,t,r,i,a,s){let{loaderData:u,errors:d}=WI(t,r,i);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:g,controller:y}=f;if(y&&y.signal.aborted)return;let x=s[h];if(Et(x,"Did not find corresponding fetcher result"),ni(x)){let w=Ba(e.matches,g?.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:x.error}),e.fetchers.delete(h)}else if(Ps(x))Et(!1,"Unhandled fetcher revalidation redirect");else{let w=Bo(x.data);e.fetchers.set(h,w)}}),{loaderData:u,errors:d}}function MS(e,t,r,i){let a=Object.entries(t).filter(([,s])=>s!==uE).reduce((s,[u,d])=>(s[u]=d,s),{});for(let s of r){let u=s.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&s.route.loader&&(a[u]=e[u]),i&&i.hasOwnProperty(u))break}return a}function TS(e){return e?ni(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ba(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function Ff(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Si(e,{pathname:t,routeId:r,method:i,type:a,message:s}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(u="Bad Request",i&&t&&r?d=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(u="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(u="Not Found",d=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",i&&t&&r?d=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new dd(e||500,u,new Error(d),!0)}function kf(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[i,a]=t[r];if(Ps(a))return{key:i,result:a}}}function mE(e){let t=typeof e=="string"?Jo(e):e;return uo({...t,hash:""})}function QI(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function ZI(e){return new dd(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function JI(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&e3(r))}function e3(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function t3(e){return Bv(e.result)&&sE.has(e.result.status)}function ni(e){return e.type==="error"}function Ps(e){return(e&&e.type)==="redirect"}function RS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Bv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function n3(e){return sE.has(e)}function r3(e){return Bv(e)&&n3(e.status)&&e.headers.has("Location")}function i3(e){return II.has(e.toUpperCase())}function gr(e){return AI.has(e.toUpperCase())}function Uv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Jf(e,t){let r=typeof t=="string"?Jo(t).search:t.search;if(e[e.length-1].route.index&&Uv(r||""))return e[e.length-1];let i=nE(e);return i[i.length-1]}function PS(e){let{formMethod:t,formAction:r,formEncType:i,text:a,formData:s,json:u}=e;if(!(!t||!r||!i)){if(a!=null)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:i,formData:s,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:u,text:void 0}}}function Rg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function o3(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Pc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function a3(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Bo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function s3(e,t){try{let r=e.sessionStorage.getItem(lE);if(r){let i=JSON.parse(r);for(let[a,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function l3(e,t){if(t.size>0){let r={};for(let[i,a]of t)r[i]=[...a];try{e.sessionStorage.setItem(lE,JSON.stringify(r))}catch(i){Cn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function DS(){let e,t,r=new Promise((i,a)=>{e=async s=>{i(s);try{await r}catch{}},t=async s=>{a(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Gs=C.createContext(null);Gs.displayName="DataRouter";var hd=C.createContext(null);hd.displayName="DataRouterState";var gE=C.createContext(!1);function u3(){return C.useContext(gE)}var $v=C.createContext({isTransitioning:!1});$v.displayName="ViewTransition";var yE=C.createContext(new Map);yE.displayName="Fetchers";var c3=C.createContext(null);c3.displayName="Await";var ui=C.createContext(null);ui.displayName="Navigation";var ip=C.createContext(null);ip.displayName="Location";var qi=C.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var Hv=C.createContext(null);Hv.displayName="RouteError";var vE="REACT_ROUTER_ERROR",d3="REDIRECT",f3="ROUTE_ERROR_RESPONSE";function h3(e){if(e.startsWith(`${vE}:${d3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function p3(e){if(e.startsWith(`${vE}:${f3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new dd(t.status,t.statusText,t.data)}catch{}}function m3(e,{relative:t}={}){Et(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=C.useContext(ui),{hash:a,pathname:s,search:u}=md(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:ao([r,s])),i.createHref({pathname:d,search:u,hash:a})}function _u(){return C.useContext(ip)!=null}function Qa(){return Et(_u(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(ip).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xE(e){C.useContext(ui).static||C.useLayoutEffect(e)}function pd(){let{isDataRoute:e}=C.useContext(qi);return e?P3():g3()}function g3(){Et(_u(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Gs),{basename:t,navigator:r}=C.useContext(ui),{matches:i}=C.useContext(qi),{pathname:a}=Qa(),s=JSON.stringify(np(i)),u=C.useRef(!1);return xE(()=>{u.current=!0}),C.useCallback((f,h={})=>{if(Cn(u.current,bE),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=rp(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ao([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,s,a,e])}var y3=C.createContext(null);function v3(e){let t=C.useContext(qi).outlet;return C.useMemo(()=>t&&C.createElement(y3.Provider,{value:e},t),[t,e])}function md(e,{relative:t}={}){let{matches:r}=C.useContext(qi),{pathname:i}=Qa(),a=JSON.stringify(np(r));return C.useMemo(()=>rp(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function b3(e,t,r,i,a){Et(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(ui),{matches:u}=C.useContext(qi),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let D=y&&y.path||"";SE(h,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=Qa(),w;w=x;let _=w.pathname||"/",E=_;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=La(e,{pathname:E});return Cn(y||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_3(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:ao([g,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ao([g,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,r,i,a)}function x3(){let e=R3(),t=Zc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,u)}var w3=C.createElement(x3,null),wE=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=p3(e.digest);r&&(e=r)}let t=e!==void 0?C.createElement(qi.Provider,{value:this.props.routeContext},C.createElement(Hv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?C.createElement(S3,{error:e},t):t}};wE.contextType=gE;var Pg=new WeakMap;function S3({children:e,error:t}){let{basename:r}=C.useContext(ui);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=h3(t.digest);if(i){let a=Pg.get(t);if(a)throw a;let s=iE(i.location,r);if(rE&&!Pg.get(t))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Pg.set(t,u),u}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function C3({routeContext:e,match:t,children:r}){let i=C.useContext(Gs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(qi.Provider,{value:e},r)}function _3(e,t=[],r=null,i=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,u=r?.errors;if(u!=null){let g=s.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let d=!1,f=-1;if(r)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:x,errors:w}=r,_=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||_){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&i?(g,y)=>{i(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:fd(r.matches),errorInfo:y})}:void 0;return s.reduceRight((g,y,x)=>{let w,_=!1,E=null,T=null;r&&(w=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||w3,d&&(f<0&&x===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):f===x&&(_=!0,T=y.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,x+1)),D=()=>{let I;return w?I=E:_?I=T:y.route.Component?I=C.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,C.createElement(C3,{match:y,routeContext:{outlet:g,matches:N,isDataRoute:r!=null},children:I})};return r&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?C.createElement(wE,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):D()},null)}function qv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E3(e){let t=C.useContext(Gs);return Et(t,qv(e)),t}function O3(e){let t=C.useContext(hd);return Et(t,qv(e)),t}function M3(e){let t=C.useContext(qi);return Et(t,qv(e)),t}function Gv(e){let t=M3(e),r=t.matches[t.matches.length-1];return Et(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function T3(){return Gv("useRouteId")}function R3(){let e=C.useContext(Hv),t=O3("useRouteError"),r=Gv("useRouteError");return e!==void 0?e:t.errors?.[r]}function P3(){let{router:e}=E3("useNavigate"),t=Gv("useNavigate"),r=C.useRef(!1);return xE(()=>{r.current=!0}),C.useCallback(async(a,s={})=>{Cn(r.current,bE),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var AS={};function SE(e,t,r){!t&&!AS[e]&&(AS[e]=!0,Cn(!1,r))}var NS={};function IS(e,t){!e&&!NS[t]&&(NS[t]=!0,console.warn(t))}var D3="useOptimistic",jS=Oy[D3],A3=()=>{};function N3(e){return jS?jS(e):[e,A3]}function I3(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Cn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Cn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Cn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var j3=["HydrateFallback","hydrateFallbackElement"],z3=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function F3({router:e,flushSync:t,onError:r,unstable_useTransitions:i}){i=u3()||i;let[s,u]=C.useState(e.state),[d,f]=N3(s),[h,g]=C.useState(),[y,x]=C.useState({isTransitioning:!1}),[w,_]=C.useState(),[E,T]=C.useState(),[N,D]=C.useState(),I=C.useRef(new Map),F=C.useCallback((G,{deletedFetchers:W,newErrors:le,flushSync:he,viewTransitionOpts:de})=>{le&&r&&Object.values(le).forEach(ce=>r(ce,{location:G.location,params:G.matches[0]?.params??{},unstable_pattern:fd(G.matches)})),G.fetchers.forEach((ce,xe)=>{ce.data!==void 0&&I.current.set(xe,ce.data)}),W.forEach(ce=>I.current.delete(ce)),IS(he===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Oe=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(IS(de==null||Oe,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!de||!Oe){t&&he?t(()=>u(G)):i===!1?u(G):C.startTransition(()=>{i===!0&&f(ce=>zS(ce,G)),u(G)});return}if(t&&he){t(()=>{E&&(w?.resolve(),E.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:de.currentLocation,nextLocation:de.nextLocation})});let ce=e.window.document.startViewTransition(()=>{t(()=>u(G))});ce.finished.finally(()=>{t(()=>{_(void 0),T(void 0),g(void 0),x({isTransitioning:!1})})}),t(()=>T(ce));return}E?(w?.resolve(),E.skipTransition(),D({state:G,currentLocation:de.currentLocation,nextLocation:de.nextLocation})):(g(G),x({isTransitioning:!0,flushSync:!1,currentLocation:de.currentLocation,nextLocation:de.nextLocation}))},[e.window,t,E,w,i,f,r]);C.useLayoutEffect(()=>e.subscribe(F),[e,F]),C.useEffect(()=>{y.isTransitioning&&!y.flushSync&&_(new z3)},[y]),C.useEffect(()=>{if(w&&h&&e.window){let G=h,W=w.promise,le=e.window.document.startViewTransition(async()=>{i===!1?u(G):C.startTransition(()=>{i===!0&&f(he=>zS(he,G)),u(G)}),await W});le.finished.finally(()=>{_(void 0),T(void 0),g(void 0),x({isTransitioning:!1})}),T(le)}},[h,w,e.window,i,f]),C.useEffect(()=>{w&&h&&d.location.key===h.location.key&&w.resolve()},[w,E,d.location,h]),C.useEffect(()=>{!y.isTransitioning&&N&&(g(N.state),x({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),D(void 0))},[y.isTransitioning,N]);let k=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:G=>e.navigate(G),push:(G,W,le)=>e.navigate(G,{state:W,preventScrollReset:le?.preventScrollReset}),replace:(G,W,le)=>e.navigate(G,{replace:!0,state:W,preventScrollReset:le?.preventScrollReset})}),[e]),V=e.basename||"/",A=C.useMemo(()=>({router:e,navigator:k,static:!1,basename:V,onError:r}),[e,k,V,r]);return C.createElement(C.Fragment,null,C.createElement(Gs.Provider,{value:A},C.createElement(hd.Provider,{value:d},C.createElement(yE.Provider,{value:I.current},C.createElement($v.Provider,{value:y},C.createElement(U3,{basename:V,location:d.location,navigationType:d.historyAction,navigator:k,unstable_useTransitions:i},C.createElement(k3,{routes:e.routes,future:e.future,state:d,onError:r})))))),null)}function zS(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var k3=C.memo(L3);function L3({routes:e,future:t,state:r,onError:i}){return b3(e,void 0,r,i,t)}function B3({to:e,replace:t,state:r,relative:i}){Et(_u(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(ui);Cn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(qi),{pathname:u}=Qa(),d=pd(),f=rp(e,np(s),u,i==="path"),h=JSON.stringify(f);return C.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:i})},[d,h,i,t,r]),null}function CE(e){return v3(e.context)}function U3({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:a,static:s=!1,unstable_useTransitions:u}){Et(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:u,future:{}}),[d,a,s,u]);typeof r=="string"&&(r=Jo(r));let{pathname:h="/",search:g="",hash:y="",state:x=null,key:w="default"}=r,_=C.useMemo(()=>{let E=Ei(h,d);return E==null?null:{location:{pathname:E,search:g,hash:y,state:x,key:w},navigationType:i}},[d,h,g,y,x,w,i]);return Cn(_!=null,`<Router basename="${d}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:C.createElement(ui.Provider,{value:f},C.createElement(ip.Provider,{children:t,value:_}))}var eh="get",th="application/x-www-form-urlencoded";function op(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function $3(e){return op(e)&&e.tagName.toLowerCase()==="button"}function H3(e){return op(e)&&e.tagName.toLowerCase()==="form"}function q3(e){return op(e)&&e.tagName.toLowerCase()==="input"}function G3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function V3(e,t){return e.button===0&&(!t||t==="_self")&&!G3(e)}var Lf=null;function Y3(){if(Lf===null)try{new FormData(document.createElement("form"),0),Lf=!1}catch{Lf=!0}return Lf}var K3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dg(e){return e!=null&&!K3.has(e)?(Cn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${th}"`),null):e}function X3(e,t){let r,i,a,s,u;if(H3(e)){let d=e.getAttribute("action");i=d?Ei(d,t):null,r=e.getAttribute("method")||eh,a=Dg(e.getAttribute("enctype"))||th,s=new FormData(e)}else if($3(e)||q3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ei(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||eh,a=Dg(e.getAttribute("formenctype"))||Dg(d.getAttribute("enctype"))||th,s=new FormData(d,e),!Y3()){let{name:h,type:g,value:y}=e;if(g==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,y)}}else{if(op(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=eh,i=null,a=th,u=e}return s&&a==="text/plain"&&(u=s,s=void 0),{action:i,method:r.toLowerCase(),encType:a,formData:s,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function W3(e,t,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:t&&Ei(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function Q3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Z3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function J3(e,t,r){let i=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let u=await Q3(s,r);return u.links?u.links():[]}return[]}));return rj(i.flat(1).filter(Z3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function FS(e,t,r,i,a,s){let u=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,h)=>u(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function ej(e,t,{includeHydrateFallback:r}={}){return tj(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function tj(e){return[...new Set(e)]}function nj(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function rj(e,t){let r=new Set;return new Set(t),e.reduce((i,a)=>{let s=JSON.stringify(nj(a));return r.has(s)||(r.add(s),i.push({key:s,link:a})),i},[])}function _E(){let e=C.useContext(Gs);return Vv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function ij(){let e=C.useContext(hd);return Vv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Yv=C.createContext(void 0);Yv.displayName="FrameworkContext";function EE(){let e=C.useContext(Yv);return Vv(e,"You must render this element inside a <HydratedRouter> element"),e}function oj(e,t){let r=C.useContext(Yv),[i,a]=C.useState(!1),[s,u]=C.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=t,x=C.useRef(null);C.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=N=>{N.forEach(D=>{u(D.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[e]),C.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let w=()=>{a(!0)},_=()=>{a(!1),u(!1)};return r?e!=="intent"?[s,x,{}]:[s,x,{onFocus:Dc(d,w),onBlur:Dc(f,_),onMouseEnter:Dc(h,w),onMouseLeave:Dc(g,_),onTouchStart:Dc(y,w)}]:[!1,x,{}]}function Dc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function aj({page:e,...t}){let{router:r}=_E(),i=C.useMemo(()=>La(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?C.createElement(lj,{page:e,matches:i,...t}):null}function sj(e){let{manifest:t,routeModules:r}=EE(),[i,a]=C.useState([]);return C.useEffect(()=>{let s=!1;return J3(e,t,r).then(u=>{s||a(u)}),()=>{s=!0}},[e,t,r]),i}function lj({page:e,matches:t,...r}){let i=Qa(),{manifest:a,routeModules:s}=EE(),{basename:u}=_E(),{loaderData:d,matches:f}=ij(),h=C.useMemo(()=>FS(e,t,f,a,i,"data"),[e,t,f,a,i]),g=C.useMemo(()=>FS(e,t,f,a,i,"assets"),[e,t,f,a,i]),y=C.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(t.forEach(N=>{let D=a.routes[N.route.id];!D||!D.hasLoader||(!h.some(I=>I.route.id===N.route.id)&&N.route.id in d&&s[N.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:_.add(N.route.id))}),_.size===0)return[];let T=W3(e,u,"data");return E&&_.size>0&&T.searchParams.set("_routes",t.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[u,d,i,a,h,t,e,s]),x=C.useMemo(()=>ej(g,a),[g,a]),w=sj(g);return C.createElement(C.Fragment,null,y.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),x.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),w.map(({key:_,link:E})=>C.createElement("link",{key:_,nonce:r.nonce,...E})))}function uj(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var cj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cj&&(window.__reactRouterVersion="7.11.0")}catch{}function dj(e,t){return kI({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:eI({window:t?.window}),hydrationData:fj(),routes:e,mapRouteProperties:I3,hydrationRouteProperties:j3,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function fj(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:hj(e.errors)}),e}function hj(e){if(!e)return null;let t=Object.entries(e),r={};for(let[i,a]of t)if(a&&a.__type==="RouteErrorResponse")r[i]=new dd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let u=new s(a.message);u.stack="",r[i]=u}catch{}}if(r[i]==null){let s=new Error(a.message);s.stack="",r[i]=s}}else r[i]=a;return r}var OE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ME=C.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:a,reloadDocument:s,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},_){let{basename:E,unstable_useTransitions:T}=C.useContext(ui),N=typeof h=="string"&&OE.test(h),D=iE(h,E);h=D.to;let I=m3(h,{relative:a}),[F,k,V]=oj(i,w),A=yj(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:T});function G(le){t&&t(le),le.defaultPrevented||A(le)}let W=C.createElement("a",{...w,...V,href:D.absoluteURL||I,onClick:D.isExternal||s?t:G,ref:uj(_,k),target:f,"data-discover":!N&&r==="render"?"true":void 0});return F&&!N?C.createElement(C.Fragment,null,W,C.createElement(aj,{page:I})):W});ME.displayName="Link";var pj=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:a=!1,style:s,to:u,viewTransition:d,children:f,...h},g){let y=md(u,{relative:h.relative}),x=Qa(),w=C.useContext(hd),{navigator:_,basename:E}=C.useContext(ui),T=w!=null&&Sj(y)&&d===!0,N=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,D=x.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),I=I?I.toLowerCase():null,N=N.toLowerCase()),I&&E&&(I=Ei(I,E)||I);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=D===N||!a&&D.startsWith(N)&&D.charAt(F)==="/",V=I!=null&&(I===N||!a&&I.startsWith(N)&&I.charAt(N.length)==="/"),A={isActive:k,isPending:V,isTransitioning:T},G=k?t:void 0,W;typeof i=="function"?W=i(A):W=[i,k?"active":null,V?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let le=typeof s=="function"?s(A):s;return C.createElement(ME,{...h,"aria-current":G,className:W,ref:g,style:le,to:u,viewTransition:d},typeof f=="function"?f(A):f)});pj.displayName="NavLink";var mj=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:a,state:s,method:u=eh,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},_)=>{let{unstable_useTransitions:E}=C.useContext(ui),T=xj(),N=wj(d,{relative:h}),D=u.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&OE.test(d),F=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let V=k.nativeEvent.submitter,A=V?.getAttribute("formmethod")||u,G=()=>T(V||k.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:a,state:s,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x});E&&r!==!1?C.startTransition(()=>G()):G()};return C.createElement("form",{ref:_,method:D,action:N,onSubmit:i?f:F,...w,"data-discover":!I&&e==="render"?"true":void 0})});mj.displayName="Form";function gj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(e){let t=C.useContext(Gs);return Et(t,gj(e)),t}function yj(e,{target:t,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=pd(),g=Qa(),y=md(e,{relative:s});return C.useCallback(x=>{if(V3(x,t)){x.preventDefault();let w=r!==void 0?r:uo(g)===uo(y),_=()=>h(e,{replace:w,state:i,preventScrollReset:a,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:d});f?C.startTransition(()=>_()):_()}},[g,h,y,r,i,t,e,a,s,u,d,f])}var vj=0,bj=()=>`__${String(++vj)}__`;function xj(){let{router:e}=TE("useSubmit"),{basename:t}=C.useContext(ui),r=T3(),i=e.fetch,a=e.navigate;return C.useCallback(async(s,u={})=>{let{action:d,method:f,encType:h,formData:g,body:y}=X3(s,t);if(u.navigate===!1){let x=u.fetcherKey||bj();await i(x,r,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||h,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,t,r])}function wj(e,{relative:t}={}){let{basename:r}=C.useContext(ui),i=C.useContext(qi);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...md(e||".",{relative:t})},u=Qa();if(e==null){s.search=u.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();s.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ao([r,s.pathname])),uo(s)}function Sj(e,{relative:t}={}){let r=C.useContext($v);Et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=TE("useViewTransitionState"),a=md(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ei(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=Ei(r.nextLocation.pathname,i)||r.nextLocation.pathname;return hh(a.pathname,u)!=null||hh(a.pathname,s)!=null}function Cj(e){return C.createElement(F3,{flushSync:Us.flushSync,...e})}var nh={exports:{}},_j=nh.exports,kS;function Ej(){return kS||(kS=1,(function(e,t){(function(r,i){e.exports=i()})(_j,function(){var r=function(p,v){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(S[P]=O[P])})(p,v)},i=function(){return(i=Object.assign||function(p){for(var v,S=1,O=arguments.length;S<O;S++)for(var P in v=arguments[S])Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P]);return p}).apply(this,arguments)};function a(p,v,S){for(var O,P=0,j=v.length;P<j;P++)!O&&P in v||((O=O||Array.prototype.slice.call(v,0,P))[P]=v[P]);return p.concat(O||Array.prototype.slice.call(v))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:OM,u=Object.keys,d=Array.isArray;function f(p,v){return typeof v!="object"||u(v).forEach(function(S){p[S]=v[S]}),p}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var h=Object.getPrototypeOf,g={}.hasOwnProperty;function y(p,v){return g.call(p,v)}function x(p,v){typeof v=="function"&&(v=v(h(p))),(typeof Reflect>"u"?u:Reflect.ownKeys)(v).forEach(function(S){_(p,S,v[S])})}var w=Object.defineProperty;function _(p,v,S,O){w(p,v,f(S&&y(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},O))}function E(p){return{from:function(v){return p.prototype=Object.create(v.prototype),_(p.prototype,"constructor",p),{extend:x.bind(null,p.prototype)}}}}var T=Object.getOwnPropertyDescriptor,N=[].slice;function D(p,v,S){return N.call(p,v,S)}function I(p,v){return v(p)}function F(p){if(!p)throw new Error("Assertion Failed")}function k(p){s.setImmediate?setImmediate(p):setTimeout(p,0)}function V(p,v){if(typeof v=="string"&&y(p,v))return p[v];if(!v)return p;if(typeof v!="string"){for(var S=[],O=0,P=v.length;O<P;++O){var j=V(p,v[O]);S.push(j)}return S}var L=v.indexOf(".");if(L!==-1){var H=p[v.substr(0,L)];return H==null?void 0:V(H,v.substr(L+1))}}function A(p,v,S){if(p&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof v!="string"&&"length"in v){F(typeof S!="string"&&"length"in S);for(var O=0,P=v.length;O<P;++O)A(p,v[O],S[O])}else{var j,L,H=v.indexOf(".");H!==-1?(j=v.substr(0,H),(L=v.substr(H+1))===""?S===void 0?d(p)&&!isNaN(parseInt(j))?p.splice(j,1):delete p[j]:p[j]=S:A(H=!(H=p[j])||!y(p,j)?p[j]={}:H,L,S)):S===void 0?d(p)&&!isNaN(parseInt(v))?p.splice(v,1):delete p[v]:p[v]=S}}function G(p){var v,S={};for(v in p)y(p,v)&&(S[v]=p[v]);return S}var W=[].concat;function le(p){return W.apply([],p)}var Gn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(le([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(v){return v+p+"Array"})}))).filter(function(p){return s[p]}),he=new Set(Gn.map(function(p){return s[p]})),de=null;function Oe(p){return de=new WeakMap,p=(function v(S){if(!S||typeof S!="object")return S;var O=de.get(S);if(O)return O;if(d(S)){O=[],de.set(S,O);for(var P=0,j=S.length;P<j;++P)O.push(v(S[P]))}else if(he.has(S.constructor))O=S;else{var L,H=h(S);for(L in O=H===Object.prototype?{}:Object.create(H),de.set(S,O),S)y(S,L)&&(O[L]=v(S[L]))}return O})(p),de=null,p}var ce={}.toString;function xe(p){return ce.call(p).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",X=typeof B=="symbol"?function(p){var v;return p!=null&&(v=p[B])&&v.apply(p)}:function(){return null};function q(p,v){return v=p.indexOf(v),0<=v&&p.splice(v,1),0<=v}var ge={};function Se(p){var v,S,O,P;if(arguments.length===1){if(d(p))return p.slice();if(this===ge&&typeof p=="string")return[p];if(P=X(p)){for(S=[];!(O=P.next()).done;)S.push(O.value);return S}if(p==null)return[p];if(typeof(v=p.length)!="number")return[p];for(S=new Array(v);v--;)S[v]=p[v];return S}for(v=arguments.length,S=new Array(v);v--;)S[v]=arguments[v];return S}var U=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ht=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_r=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ht),ie={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ce(p,v){this.name=p,this.message=v}function Ne(p,v){return p+". Errors: "+Object.keys(v).map(function(S){return v[S].toString()}).filter(function(S,O,P){return P.indexOf(S)===O}).join(`
`)}function Ie(p,v,S,O){this.failures=v,this.failedKeys=O,this.successCount=S,this.message=Ne(p,v)}function qe(p,v){this.name="BulkError",this.failures=Object.keys(v).map(function(S){return v[S]}),this.failuresByPos=v,this.message=Ne(p,this.failures)}E(Ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(Ie).from(Ce),E(qe).from(Ce);var nt=_r.reduce(function(p,v){return p[v]=v+"Error",p},{}),wt=Ce,De=_r.reduce(function(p,v){var S=v+"Error";function O(P,j){this.name=S,P?typeof P=="string"?(this.message="".concat(P).concat(j?`
 `+j:""),this.inner=j||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=ie[v]||S,this.inner=null)}return E(O).from(wt),p[v]=O,p},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var Zt=Ht.reduce(function(p,v){return p[v+"Error"]=De[v],p},{}),ln=_r.reduce(function(p,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(p[v+"Error"]=De[v]),p},{});function Ze(){}function ht(p){return p}function kt(p,v){return p==null||p===ht?v:function(S){return v(p(S))}}function nn(p,v){return function(){p.apply(this,arguments),v.apply(this,arguments)}}function mn(p,v){return p===Ze?v:function(){var S=p.apply(this,arguments);S!==void 0&&(arguments[0]=S);var O=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var j=v.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?nn(O,this.onsuccess):O),P&&(this.onerror=this.onerror?nn(P,this.onerror):P),j!==void 0?j:S}}function Rr(p,v){return p===Ze?v:function(){p.apply(this,arguments);var S=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?nn(S,this.onsuccess):S),O&&(this.onerror=this.onerror?nn(O,this.onerror):O)}}function rr(p,v){return p===Ze?v:function(S){var O=p.apply(this,arguments);f(S,O);var P=this.onsuccess,j=this.onerror;return this.onsuccess=null,this.onerror=null,S=v.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?nn(P,this.onsuccess):P),j&&(this.onerror=this.onerror?nn(j,this.onerror):j),O===void 0?S===void 0?void 0:S:f(O,S)}}function Jt(p,v){return p===Ze?v:function(){return v.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function qn(p,v){return p===Ze?v:function(){var S=p.apply(this,arguments);if(S&&typeof S.then=="function"){for(var O=this,P=arguments.length,j=new Array(P);P--;)j[P]=arguments[P];return S.then(function(){return v.apply(O,j)})}return v.apply(this,arguments)}}ln.ModifyError=Ie,ln.DexieError=Ce,ln.BulkError=qe;var gn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xn(p){gn=p}var br={},Lt=100,Gn=typeof Promise>"u"?[]:(function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,h(p),p];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,h(v),p]})(),Ht=Gn[0],_r=Gn[1],Gn=Gn[2],_r=_r&&_r.then,lt=Ht&&Ht.constructor,wn=!!Gn,_n=function(p,v){Yr.push([p,v]),Vr&&(queueMicrotask(po),Vr=!1)},Rn=!0,Vr=!0,rn=[],Pr=[],qt=ht,At={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ze,pgp:!1,env:{},finalize:Ze},Ge=At,Yr=[],Dr=0,Di=[];function $e(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=Ge;if(typeof p!="function"){if(p!==br)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ir(this,this._value))}this._state=null,this._value=null,++v.ref,(function S(O,P){try{P(function(j){if(O._state===null){if(j===O)throw new TypeError("A promise cannot be resolved with itself.");var L=O._lib&&xr();j&&typeof j.then=="function"?S(O,function(H,Q){j instanceof $e?j._then(H,Q):j.then(H,Q)}):(O._state=!0,O._value=j,Gi(O)),L&&wr()}},ir.bind(null,O))}catch(j){ir(O,j)}})(this,p)}var on={get:function(){var p=Ge,v=tt;function S(O,P){var j=this,L=!p.global&&(p!==Ge||v!==tt),H=L&&!Qe(),Q=new $e(function(Z,oe){Ai(j,new Vn(un(O,p,L,H),un(P,p,L,H),Z,oe,p))});return this._consoleTask&&(Q._consoleTask=this._consoleTask),Q}return S.prototype=br,S},set:function(p){_(this,"then",p&&p.prototype===br?on:{get:function(){return p},set:on.set})}};function Vn(p,v,S,O,P){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof v=="function"?v:null,this.resolve=S,this.reject=O,this.psd=P}function ir(p,v){var S,O;Pr.push(v),p._state===null&&(S=p._lib&&xr(),v=qt(v),p._state=!1,p._value=v,O=p,rn.some(function(P){return P._value===O._value})||rn.push(O),Gi(p),S&&wr())}function Gi(p){var v=p._listeners;p._listeners=[];for(var S=0,O=v.length;S<O;++S)Ai(p,v[S]);var P=p._PSD;--P.ref||P.finalize(),Dr===0&&(++Dr,_n(function(){--Dr==0&&Ja()},[]))}function Ai(p,v){if(p._state!==null){var S=p._state?v.onFulfilled:v.onRejected;if(S===null)return(p._state?v.resolve:v.reject)(p._value);++v.psd.ref,++Dr,_n(Xs,[S,p,v])}else p._listeners.push(v)}function Xs(p,v,S){try{var O,P=v._value;!v._state&&Pr.length&&(Pr=[]),O=gn&&v._consoleTask?v._consoleTask.run(function(){return p(P)}):p(P),v._state||Pr.indexOf(P)!==-1||(function(j){for(var L=rn.length;L;)if(rn[--L]._value===j._value)return rn.splice(L,1)})(v),S.resolve(O)}catch(j){S.reject(j)}finally{--Dr==0&&Ja(),--S.psd.ref||S.psd.finalize()}}function po(){Bt(At,function(){xr()&&wr()})}function xr(){var p=Rn;return Vr=Rn=!1,p}function wr(){var p,v,S;do for(;0<Yr.length;)for(p=Yr,Yr=[],S=p.length,v=0;v<S;++v){var O=p[v];O[0].apply(null,O[1])}while(0<Yr.length);Vr=Rn=!0}function Ja(){var p=rn;rn=[],p.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var v=Di.slice(0),S=v.length;S;)v[--S]()}function mo(p){return new $e(br,!1,p)}function $(p,v){var S=Ge;return function(){var O=xr(),P=Ge;try{return vt(S,!0),p.apply(this,arguments)}catch(j){v&&v(j)}finally{vt(P,!1),O&&wr()}}}x($e.prototype,{then:on,_then:function(p,v){Ai(this,new Vn(null,null,p,v,Ge))},catch:function(p){if(arguments.length===1)return this.then(null,p);var v=p,S=arguments[1];return typeof v=="function"?this.then(null,function(O){return(O instanceof v?S:mo)(O)}):this.then(null,function(O){return(O&&O.name===v?S:mo)(O)})},finally:function(p){return this.then(function(v){return $e.resolve(p()).then(function(){return v})},function(v){return $e.resolve(p()).then(function(){return mo(v)})})},timeout:function(p,v){var S=this;return p<1/0?new $e(function(O,P){var j=setTimeout(function(){return P(new De.Timeout(v))},p);S.then(O,P).finally(clearTimeout.bind(null,j))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_($e.prototype,Symbol.toStringTag,"Dexie.Promise"),At.env=Ot(),x($e,{all:function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v,S){p.length===0&&v([]);var O=p.length;p.forEach(function(P,j){return $e.resolve(P).then(function(L){p[j]=L,--O||v(p)},S)})})},resolve:function(p){return p instanceof $e?p:p&&typeof p.then=="function"?new $e(function(v,S){p.then(v,S)}):new $e(br,!0,p)},reject:mo,race:function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v,S){p.map(function(O){return $e.resolve(O).then(v,S)})})},PSD:{get:function(){return Ge},set:function(p){return Ge=p}},totalEchoes:{get:function(){return tt}},newPSD:He,usePSD:Bt,scheduler:{get:function(){return _n},set:function(p){_n=p}},rejectionMapper:{get:function(){return qt},set:function(p){qt=p}},follow:function(p,v){return new $e(function(S,O){return He(function(P,j){var L=Ge;L.unhandleds=[],L.onunhandled=j,L.finalize=nn(function(){var H,Q=this;H=function(){Q.unhandleds.length===0?P():j(Q.unhandleds[0])},Di.push(function Z(){H(),Di.splice(Di.indexOf(Z),1)}),++Dr,_n(function(){--Dr==0&&Ja()},[])},L.finalize),p()},v,S,O)})}}),lt&&(lt.allSettled&&_($e,"allSettled",function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v){p.length===0&&v([]);var S=p.length,O=new Array(S);p.forEach(function(P,j){return $e.resolve(P).then(function(L){return O[j]={status:"fulfilled",value:L}},function(L){return O[j]={status:"rejected",reason:L}}).then(function(){return--S||v(O)})})})}),lt.any&&typeof AggregateError<"u"&&_($e,"any",function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v,S){p.length===0&&S(new AggregateError([]));var O=p.length,P=new Array(O);p.forEach(function(j,L){return $e.resolve(j).then(function(H){return v(H)},function(H){P[L]=H,--O||S(new AggregateError(P))})})})}),lt.withResolvers&&($e.withResolvers=lt.withResolvers));var te={awaits:0,echoes:0,id:0},be=0,Ae=[],ke=0,tt=0,Xe=0;function He(p,v,S,O){var P=Ge,j=Object.create(P);return j.parent=P,j.ref=0,j.global=!1,j.id=++Xe,At.env,j.env=wn?{Promise:$e,PromiseProp:{value:$e,configurable:!0,writable:!0},all:$e.all,race:$e.race,allSettled:$e.allSettled,any:$e.any,resolve:$e.resolve,reject:$e.reject}:{},v&&f(j,v),++P.ref,j.finalize=function(){--this.parent.ref||this.parent.finalize()},O=Bt(j,p,S,O),j.ref===0&&j.finalize(),O}function Ke(){return te.id||(te.id=++be),++te.awaits,te.echoes+=Lt,te.id}function Qe(){return!!te.awaits&&(--te.awaits==0&&(te.id=0),te.echoes=te.awaits*Lt,!0)}function ot(p){return te.echoes&&p&&p.constructor===lt?(Ke(),p.then(function(v){return Qe(),v},function(v){return Qe(),at(v)})):p}function it(){var p=Ae[Ae.length-1];Ae.pop(),vt(p,!1)}function vt(p,v){var S,O=Ge;(v?!te.echoes||ke++&&p===Ge:!ke||--ke&&p===Ge)||queueMicrotask(v?(function(P){++tt,te.echoes&&--te.echoes!=0||(te.echoes=te.awaits=te.id=0),Ae.push(Ge),vt(P,!0)}).bind(null,p):it),p!==Ge&&(Ge=p,O===At&&(At.env=Ot()),wn&&(S=At.env.Promise,v=p.env,(O.global||p.global)&&(Object.defineProperty(s,"Promise",v.PromiseProp),S.all=v.all,S.race=v.race,S.resolve=v.resolve,S.reject=v.reject,v.allSettled&&(S.allSettled=v.allSettled),v.any&&(S.any=v.any))))}function Ot(){var p=s.Promise;return wn?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function Bt(p,v,S,O,P){var j=Ge;try{return vt(p,!0),v(S,O,P)}finally{vt(j,!1)}}function un(p,v,S,O){return typeof p!="function"?p:function(){var P=Ge;S&&Ke(),vt(v,!0);try{return p.apply(this,arguments)}finally{vt(P,!1),O&&queueMicrotask(Qe)}}}function an(p){Promise===lt&&te.echoes===0?ke===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+_r).indexOf("[native code]")===-1&&(Ke=Qe=Ze);var at=$e.reject,sn="",yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Xn=[],Wn="__dbnames",Sr="readonly",fr="readwrite";function or(p,v){return p?v?function(){return p.apply(this,arguments)&&v.apply(this,arguments)}:p:v}var Vi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ci(p){return typeof p!="string"||/\./.test(p)?function(v){return v}:function(v){return v[p]===void 0&&p in v&&delete(v=Oe(v))[p],v}}function Mt(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(p,v){try{var S=Ar(p),O=Ar(v);if(S!==O)return S==="Array"?1:O==="Array"?-1:S==="binary"?1:O==="binary"?-1:S==="string"?1:O==="string"?-1:S==="Date"?1:O!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return v<p?1:p<v?-1:0;case"binary":return(function(P,j){for(var L=P.length,H=j.length,Q=L<H?L:H,Z=0;Z<Q;++Z)if(P[Z]!==j[Z])return P[Z]<j[Z]?-1:1;return L===H?0:L<H?-1:1})(Nn(p),Nn(v));case"Array":return(function(P,j){for(var L=P.length,H=j.length,Q=L<H?L:H,Z=0;Z<Q;++Z){var oe=st(P[Z],j[Z]);if(oe!==0)return oe}return L===H?0:L<H?-1:1})(p,v)}}catch{}return NaN}function Ar(p){var v=typeof p;return v!="object"?v:ArrayBuffer.isView(p)?"binary":(p=xe(p),p==="ArrayBuffer"?"binary":p)}function Nn(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}function Ct(p,v,S){var O=p.schema.yProps;return O?(v&&0<S.numFailures&&(v=v.filter(function(P,j){return!S.failures[j]})),Promise.all(O.map(function(P){return P=P.updatesTable,v?p.db.table(P).where("k").anyOf(v).delete():p.db.table(P).clear()})).then(function(){return S})):S}var Kr=(es.prototype.execute=function(p){var v=this["@@propmod"];if(v.add!==void 0){var S=v.add;if(d(S))return a(a([],d(p)?p:[],!0),S).sort();if(typeof S=="number")return(Number(p)||0)+S;if(typeof S=="bigint")try{return BigInt(p)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(v.remove!==void 0){var O=v.remove;if(d(O))return d(p)?p.filter(function(P){return!O.includes(P)}).sort():[];if(typeof O=="number")return Number(p)-O;if(typeof O=="bigint")try{return BigInt(p)-O}catch{return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return S=(S=v.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof p=="string"&&p.startsWith(S)?v.replacePrefix[1]+p.substring(S.length):p},es);function es(p){this["@@propmod"]=p}function ia(p,v){for(var S=u(v),O=S.length,P=!1,j=0;j<O;++j){var L=S[j],H=v[L],Q=V(p,L);H instanceof Kr?(A(p,L,H.execute(Q)),P=!0):Q!==H&&(A(p,L,H),P=!0)}return P}var Mu=(Ut.prototype._trans=function(p,v,S){var O=this._tx||Ge.trans,P=this.name,j=gn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function L(Z,oe,K){if(!K.schema[P])throw new De.NotFound("Table "+P+" not part of transaction");return v(K.idbtrans,K)}var H=xr();try{var Q=O&&O.db._novip===this.db._novip?O===Ge.trans?O._promise(p,L,S):He(function(){return O._promise(p,L,S)},{trans:O,transless:Ge.transless||Ge}):(function Z(oe,K,se,J){if(oe.idbdb&&(oe._state.openComplete||Ge.letThrough||oe._vip)){var ne=oe._createTransaction(K,se,oe._dbSchema);try{ne.create(),oe._state.PR1398_maxLoop=3}catch(re){return re.name===nt.InvalidState&&oe.isOpen()&&0<--oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),oe.close({disableAutoOpen:!1}),oe.open().then(function(){return Z(oe,K,se,J)})):at(re)}return ne._promise(K,function(re,ae){return He(function(){return Ge.trans=ne,J(re,ae,ne)})}).then(function(re){if(K==="readwrite")try{ne.idbtrans.commit()}catch{}return K==="readonly"?re:ne._completion.then(function(){return re})})}if(oe._state.openComplete)return at(new De.DatabaseClosed(oe._state.dbOpenError));if(!oe._state.isBeingOpened){if(!oe._state.autoOpen)return at(new De.DatabaseClosed);oe.open().catch(Ze)}return oe._state.dbReadyPromise.then(function(){return Z(oe,K,se,J)})})(this.db,p,[this.name],L);return j&&(Q._consoleTask=j,Q=Q.catch(function(Z){return console.trace(Z),at(Z)})),Q}finally{H&&wr()}},Ut.prototype.get=function(p,v){var S=this;return p&&p.constructor===Object?this.where(p).first(v):p==null?at(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return S.core.get({trans:O,key:p}).then(function(P){return S.hook.reading.fire(P)})}).then(v)},Ut.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(d(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var v=u(p);if(v.length===1)return this.where(v[0]).equals(p[v[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(H){if(H.compound&&v.every(function(Z){return 0<=H.keyPath.indexOf(Z)})){for(var Q=0;Q<v.length;++Q)if(v.indexOf(H.keyPath[Q])===-1)return!1;return!0}return!1}).sort(function(H,Q){return H.keyPath.length-Q.keyPath.length})[0];if(S&&this.db._maxKey!==sn){var j=S.keyPath.slice(0,v.length);return this.where(j).equals(j.map(function(Q){return p[Q]}))}!S&&gn&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var O=this.schema.idxByName;function P(H,Q){return st(H,Q)===0}var L=v.reduce(function(K,Q){var Z=K[0],oe=K[1],K=O[Q],se=p[Q];return[Z||K,Z||!K?or(oe,K&&K.multi?function(J){return J=V(J,Q),d(J)&&J.some(function(ne){return P(se,ne)})}:function(J){return P(se,V(J,Q))}):oe]},[null,null]),j=L[0],L=L[1];return j?this.where(j.name).equals(p[j.keyPath]).filter(L):S?this.filter(L):this.where(v).equals("")},Ut.prototype.filter=function(p){return this.toCollection().and(p)},Ut.prototype.count=function(p){return this.toCollection().count(p)},Ut.prototype.offset=function(p){return this.toCollection().offset(p)},Ut.prototype.limit=function(p){return this.toCollection().limit(p)},Ut.prototype.each=function(p){return this.toCollection().each(p)},Ut.prototype.toArray=function(p){return this.toCollection().toArray(p)},Ut.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ut.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,d(p)?"[".concat(p.join("+"),"]"):p))},Ut.prototype.reverse=function(){return this.toCollection().reverse()},Ut.prototype.mapToClass=function(p){var v,S=this.db,O=this.name;function P(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof Mt&&((function(Q,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Class extends value "+String(Z)+" is not a constructor or null");function oe(){this.constructor=Q}r(Q,Z),Q.prototype=Z===null?Object.create(Z):(oe.prototype=Z.prototype,new oe)})(P,v=p),Object.defineProperty(P.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),P.prototype.table=function(){return O},p=P);for(var j=new Set,L=p.prototype;L;L=h(L))Object.getOwnPropertyNames(L).forEach(function(Q){return j.add(Q)});function H(Q){if(!Q)return Q;var Z,oe=Object.create(p.prototype);for(Z in Q)if(!j.has(Z))try{oe[Z]=Q[Z]}catch{}return oe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=H,this.hook("reading",H),p},Ut.prototype.defineClass=function(){return this.mapToClass(function(p){f(this,p)})},Ut.prototype.add=function(p,v){var S=this,O=this.schema.primKey,P=O.auto,j=O.keyPath,L=p;return j&&P&&(L=ci(j)(p)),this._trans("readwrite",function(H){return S.core.mutate({trans:H,type:"add",keys:v!=null?[v]:null,values:[L]})}).then(function(H){return H.numFailures?$e.reject(H.failures[0]):H.lastResult}).then(function(H){if(j)try{A(p,j,H)}catch{}return H})},Ut.prototype.upsert=function(p,v){var S=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return S.core.get({trans:P,key:p}).then(function(j){var L=j??{};return ia(L,v),O&&A(L,O,p),S.core.mutate({trans:P,type:"put",values:[L],keys:[p],upsert:!0,updates:{keys:[p],changeSpecs:[v]}}).then(function(H){return H.numFailures?$e.reject(H.failures[0]):!!j})})})},Ut.prototype.update=function(p,v){return typeof p!="object"||d(p)?this.where(":id").equals(p).modify(v):(p=V(p,this.schema.primKey.keyPath),p===void 0?at(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(v))},Ut.prototype.put=function(p,v){var S=this,O=this.schema.primKey,P=O.auto,j=O.keyPath,L=p;return j&&P&&(L=ci(j)(p)),this._trans("readwrite",function(H){return S.core.mutate({trans:H,type:"put",values:[L],keys:v!=null?[v]:null})}).then(function(H){return H.numFailures?$e.reject(H.failures[0]):H.lastResult}).then(function(H){if(j)try{A(p,j,H)}catch{}return H})},Ut.prototype.delete=function(p){var v=this;return this._trans("readwrite",function(S){return v.core.mutate({trans:S,type:"delete",keys:[p]}).then(function(O){return Ct(v,[p],O)}).then(function(O){return O.numFailures?$e.reject(O.failures[0]):void 0})})},Ut.prototype.clear=function(){var p=this;return this._trans("readwrite",function(v){return p.core.mutate({trans:v,type:"deleteRange",range:Vi}).then(function(S){return Ct(p,null,S)})}).then(function(v){return v.numFailures?$e.reject(v.failures[0]):void 0})},Ut.prototype.bulkGet=function(p){var v=this;return this._trans("readonly",function(S){return v.core.getMany({keys:p,trans:S}).then(function(O){return O.map(function(P){return v.hook.reading.fire(P)})})})},Ut.prototype.bulkAdd=function(p,v,S){var O=this,P=Array.isArray(v)?v:void 0,j=(S=S||(P?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(L){var Z=O.schema.primKey,H=Z.auto,Z=Z.keyPath;if(Z&&P)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==p.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var Q=p.length,Z=Z&&H?p.map(ci(Z)):p;return O.core.mutate({trans:L,type:"add",keys:P,values:Z,wantResults:j}).then(function(ne){var K=ne.numFailures,se=ne.results,J=ne.lastResult,ne=ne.failures;if(K===0)return j?se:J;throw new qe("".concat(O.name,".bulkAdd(): ").concat(K," of ").concat(Q," operations failed"),ne)})})},Ut.prototype.bulkPut=function(p,v,S){var O=this,P=Array.isArray(v)?v:void 0,j=(S=S||(P?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(L){var Z=O.schema.primKey,H=Z.auto,Z=Z.keyPath;if(Z&&P)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==p.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var Q=p.length,Z=Z&&H?p.map(ci(Z)):p;return O.core.mutate({trans:L,type:"put",keys:P,values:Z,wantResults:j}).then(function(ne){var K=ne.numFailures,se=ne.results,J=ne.lastResult,ne=ne.failures;if(K===0)return j?se:J;throw new qe("".concat(O.name,".bulkPut(): ").concat(K," of ").concat(Q," operations failed"),ne)})})},Ut.prototype.bulkUpdate=function(p){var v=this,S=this.core,O=p.map(function(L){return L.key}),P=p.map(function(L){return L.changes}),j=[];return this._trans("readwrite",function(L){return S.getMany({trans:L,keys:O,cache:"clone"}).then(function(H){var Q=[],Z=[];p.forEach(function(K,se){var J=K.key,ne=K.changes,re=H[se];if(re){for(var ae=0,fe=Object.keys(ne);ae<fe.length;ae++){var ye=fe[ae],Ee=ne[ye];if(ye===v.schema.primKey.keyPath){if(st(Ee,J)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else A(re,ye,Ee)}j.push(se),Q.push(J),Z.push(re)}});var oe=Q.length;return S.mutate({trans:L,type:"put",keys:Q,values:Z,updates:{keys:O,changeSpecs:P}}).then(function(K){var se=K.numFailures,J=K.failures;if(se===0)return oe;for(var ne=0,re=Object.keys(J);ne<re.length;ne++){var ae,fe=re[ne],ye=j[Number(fe)];ye!=null&&(ae=J[fe],delete J[fe],J[ye]=ae)}throw new qe("".concat(v.name,".bulkUpdate(): ").concat(se," of ").concat(oe," operations failed"),J)})})})},Ut.prototype.bulkDelete=function(p){var v=this,S=p.length;return this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"delete",keys:p}).then(function(P){return Ct(v,p,P)})}).then(function(L){var P=L.numFailures,j=L.lastResult,L=L.failures;if(P===0)return j;throw new qe("".concat(v.name,".bulkDelete(): ").concat(P," of ").concat(S," operations failed"),L)})},Ut);function Ut(){}function ts(p){function v(L,H){if(H){for(var Q=arguments.length,Z=new Array(Q-1);--Q;)Z[Q-1]=arguments[Q];return S[L].subscribe.apply(null,Z),p}if(typeof L=="string")return S[L]}var S={};v.addEventType=j;for(var O=1,P=arguments.length;O<P;++O)j(arguments[O]);return v;function j(L,H,Q){if(typeof L!="object"){var Z;H=H||Jt;var oe={subscribers:[],fire:Q=Q||Ze,subscribe:function(K){oe.subscribers.indexOf(K)===-1&&(oe.subscribers.push(K),oe.fire=H(oe.fire,K))},unsubscribe:function(K){oe.subscribers=oe.subscribers.filter(function(se){return se!==K}),oe.fire=oe.subscribers.reduce(H,Q)}};return S[L]=v[L]=oe}u(Z=L).forEach(function(K){var se=Z[K];if(d(se))j(K,Z[K][0],Z[K][1]);else{if(se!=="asap")throw new De.InvalidArgument("Invalid event config");var J=j(K,ht,function(){for(var ne=arguments.length,re=new Array(ne);ne--;)re[ne]=arguments[ne];J.subscribers.forEach(function(ae){k(function(){ae.apply(null,re)})})})}})}}function Qn(p,v){return E(v).from({prototype:p}),v}function Yi(p,v){return!(p.filter||p.algorithm||p.or)&&(v?p.justLimit:!p.replayFilter)}function Ws(p,v){p.filter=or(p.filter,v)}function ns(p,v,S){var O=p.replayFilter;p.replayFilter=O?function(){return or(O(),v())}:v,p.justLimit=S&&!O}function Ni(p,v){if(p.isPrimKey)return v.primaryKey;var S=v.getIndexByKeyPath(p.index);if(!S)throw new De.Schema("KeyPath "+p.index+" on object store "+v.name+" is not indexed");return S}function Tu(p,v,S){var O=Ni(p,v.schema);return v.openCursor({trans:S,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:O,range:p.range}})}function rs(p,v,S,O){var P=p.replayFilter?or(p.filter,p.replayFilter()):p.filter;if(p.or){var j={},L=function(H,Q,Z){var oe,K;P&&!P(Q,Z,function(se){return Q.stop(se)},function(se){return Q.fail(se)})||((K=""+(oe=Q.primaryKey))=="[object ArrayBuffer]"&&(K=""+new Uint8Array(oe)),y(j,K)||(j[K]=!0,v(H,Q,Z)))};return Promise.all([p.or._iterate(L,S),go(Tu(p,O,S),p.algorithm,L,!p.keysOnly&&p.valueMapper)])}return go(Tu(p,O,S),or(p.algorithm,P),v,!p.keysOnly&&p.valueMapper)}function go(p,v,S,O){var P=$(O?function(j,L,H){return S(O(j),L,H)}:S);return p.then(function(j){if(j)return j.start(function(){var L=function(){return j.continue()};v&&!v(j,function(H){return L=H},function(H){j.stop(H),L=Ze},function(H){j.fail(H),L=Ze})||P(j.value,j,function(H){return L=H}),L()})})}var cp=(Nt.prototype._read=function(p,v){var S=this._ctx;return S.error?S.table._trans(null,at.bind(null,S.error)):S.table._trans("readonly",p).then(v)},Nt.prototype._write=function(p){var v=this._ctx;return v.error?v.table._trans(null,at.bind(null,v.error)):v.table._trans("readwrite",p,"locked")},Nt.prototype._addAlgorithm=function(p){var v=this._ctx;v.algorithm=or(v.algorithm,p)},Nt.prototype._iterate=function(p,v){return rs(this._ctx,p,v,this._ctx.table.core)},Nt.prototype.clone=function(p){var v=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return p&&f(S,p),v._ctx=S,v},Nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nt.prototype.each=function(p){var v=this._ctx;return this._read(function(S){return rs(v,p,S,v.table.core)})},Nt.prototype.count=function(p){var v=this;return this._read(function(S){var O=v._ctx,P=O.table.core;if(Yi(O,!0))return P.count({trans:S,query:{index:Ni(O,P.schema),range:O.range}}).then(function(L){return Math.min(L,O.limit)});var j=0;return rs(O,function(){return++j,!1},S,P).then(function(){return j})}).then(p)},Nt.prototype.sortBy=function(p,v){var S=p.split(".").reverse(),O=S[0],P=S.length-1;function j(Q,Z){return Z?j(Q[S[Z]],Z-1):Q[O]}var L=this._ctx.dir==="next"?1:-1;function H(Q,Z){return st(j(Q,P),j(Z,P))*L}return this.toArray(function(Q){return Q.sort(H)}).then(v)},Nt.prototype.toArray=function(p){var v=this;return this._read(function(S){var O=v._ctx;if(O.dir==="next"&&Yi(O,!0)&&0<O.limit){var P=O.valueMapper,j=Ni(O,O.table.core.schema);return O.table.core.query({trans:S,limit:O.limit,values:!0,query:{index:j,range:O.range}}).then(function(H){return H=H.result,P?H.map(P):H})}var L=[];return rs(O,function(H){return L.push(H)},S,O.table.core).then(function(){return L})},p)},Nt.prototype.offset=function(p){var v=this._ctx;return p<=0||(v.offset+=p,Yi(v)?ns(v,function(){var S=p;return function(O,P){return S===0||(S===1?--S:P(function(){O.advance(S),S=0}),!1)}}):ns(v,function(){var S=p;return function(){return--S<0}})),this},Nt.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),ns(this._ctx,function(){var v=p;return function(S,O,P){return--v<=0&&O(P),0<=v}},!0),this},Nt.prototype.until=function(p,v){return Ws(this._ctx,function(S,O,P){return!p(S.value)||(O(P),v)}),this},Nt.prototype.first=function(p){return this.limit(1).toArray(function(v){return v[0]}).then(p)},Nt.prototype.last=function(p){return this.reverse().first(p)},Nt.prototype.filter=function(p){var v;return Ws(this._ctx,function(S){return p(S.value)}),(v=this._ctx).isMatch=or(v.isMatch,p),this},Nt.prototype.and=function(p){return this.filter(p)},Nt.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},Nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nt.prototype.desc=function(){return this.reverse()},Nt.prototype.eachKey=function(p){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,O){p(O.key,O)})},Nt.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},Nt.prototype.eachPrimaryKey=function(p){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,O){p(O.primaryKey,O)})},Nt.prototype.keys=function(p){var v=this._ctx;v.keysOnly=!v.isMatch;var S=[];return this.each(function(O,P){S.push(P.key)}).then(function(){return S}).then(p)},Nt.prototype.primaryKeys=function(p){var v=this._ctx;if(v.dir==="next"&&Yi(v,!0)&&0<v.limit)return this._read(function(O){var P=Ni(v,v.table.core.schema);return v.table.core.query({trans:O,values:!1,limit:v.limit,query:{index:P,range:v.range}})}).then(function(O){return O.result}).then(p);v.keysOnly=!v.isMatch;var S=[];return this.each(function(O,P){S.push(P.primaryKey)}).then(function(){return S}).then(p)},Nt.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},Nt.prototype.firstKey=function(p){return this.limit(1).keys(function(v){return v[0]}).then(p)},Nt.prototype.lastKey=function(p){return this.reverse().firstKey(p)},Nt.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var v={};return Ws(this._ctx,function(P){var O=P.primaryKey.toString(),P=y(v,O);return v[O]=!0,!P}),this},Nt.prototype.modify=function(p){var v=this,S=this._ctx;return this._write(function(O){var P=typeof p=="function"?p:function(re){return ia(re,p)},j=S.table.core,Z=j.schema.primaryKey,L=Z.outbound,H=Z.extractKey,Q=200,Z=v.db._options.modifyChunkSize;Z&&(Q=typeof Z=="object"?Z[j.name]||Z["*"]||200:Z);function oe(re,ye){var fe=ye.failures,ye=ye.numFailures;se+=re-ye;for(var Ee=0,Re=u(fe);Ee<Re.length;Ee++){var Be=Re[Ee];K.push(fe[Be])}}var K=[],se=0,J=[],ne=p===Ru;return v.clone().primaryKeys().then(function(re){function ae(ye){var Ee=Math.min(Q,re.length-ye),Re=re.slice(ye,ye+Ee);return(ne?Promise.resolve([]):j.getMany({trans:O,keys:Re,cache:"immutable"})).then(function(Be){var Ye=[],je=[],Ue=L?[]:null,Ve=ne?Re:[];if(!ne)for(var ze=0;ze<Ee;++ze){var We=Be[ze],ut={value:Oe(We),primKey:re[ye+ze]};P.call(ut,ut.value,ut)!==!1&&(ut.value==null?Ve.push(re[ye+ze]):L||st(H(We),H(ut.value))===0?(je.push(ut.value),L&&Ue.push(re[ye+ze])):(Ve.push(re[ye+ze]),Ye.push(ut.value)))}return Promise.resolve(0<Ye.length&&j.mutate({trans:O,type:"add",values:Ye}).then(function(mt){for(var bt in mt.failures)Ve.splice(parseInt(bt),1);oe(Ye.length,mt)})).then(function(){return(0<je.length||fe&&typeof p=="object")&&j.mutate({trans:O,type:"put",keys:Ue,values:je,criteria:fe,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<ye}).then(function(mt){return oe(je.length,mt)})}).then(function(){return(0<Ve.length||fe&&ne)&&j.mutate({trans:O,type:"delete",keys:Ve,criteria:fe,isAdditionalChunk:0<ye}).then(function(mt){return Ct(S.table,Ve,mt)}).then(function(mt){return oe(Ve.length,mt)})}).then(function(){return re.length>ye+Ee&&ae(ye+Q)})})}var fe=Yi(S)&&S.limit===1/0&&(typeof p!="function"||ne)&&{index:S.index,range:S.range};return ae(0).then(function(){if(0<K.length)throw new Ie("Error modifying one or more objects",K,se,J);return re.length})})})},Nt.prototype.delete=function(){var p=this._ctx,v=p.range;return!Yi(p)||p.table.schema.yProps||!p.isPrimKey&&v.type!==3?this.modify(Ru):this._write(function(S){var O=p.table.core.schema.primaryKey,P=v;return p.table.core.count({trans:S,query:{index:O,range:P}}).then(function(j){return p.table.core.mutate({trans:S,type:"deleteRange",range:P}).then(function(Q){var H=Q.failures,Q=Q.numFailures;if(Q)throw new Ie("Could not delete some values",Object.keys(H).map(function(Z){return H[Z]}),j-Q);return j-Q})})})},Nt);function Nt(){}var Ru=function(p,v){return v.value=null};function Pu(p,v){return p<v?-1:p===v?0:1}function dp(p,v){return v<p?-1:p===v?0:1}function Cr(p,v,S){return p=p instanceof yo?new p.Collection(p):p,p._ctx.error=new(S||TypeError)(v),p}function Ii(p){return new p.Collection(p,function(){return Qs("")}).limit(0)}function Nr(p,v,S,O){var P,j,L,H,Q,Z,oe,K=S.length;if(!S.every(function(ne){return typeof ne=="string"}))return Cr(p,en);function se(ne){P=ne==="next"?function(ae){return ae.toUpperCase()}:function(ae){return ae.toLowerCase()},j=ne==="next"?function(ae){return ae.toLowerCase()}:function(ae){return ae.toUpperCase()},L=ne==="next"?Pu:dp;var re=S.map(function(ae){return{lower:j(ae),upper:P(ae)}}).sort(function(ae,fe){return L(ae.lower,fe.lower)});H=re.map(function(ae){return ae.upper}),Q=re.map(function(ae){return ae.lower}),oe=(Z=ne)==="next"?"":O}se("next"),p=new p.Collection(p,function(){return di(H[0],Q[K-1]+O)}),p._ondirectionchange=function(ne){se(ne)};var J=0;return p._addAlgorithm(function(ne,re,ae){var fe=ne.key;if(typeof fe!="string")return!1;var ye=j(fe);if(v(ye,Q,J))return!0;for(var Ee=null,Re=J;Re<K;++Re){var Be=(function(Ye,je,Ue,Ve,ze,We){for(var ut=Math.min(Ye.length,Ve.length),mt=-1,bt=0;bt<ut;++bt){var er=je[bt];if(er!==Ve[bt])return ze(Ye[bt],Ue[bt])<0?Ye.substr(0,bt)+Ue[bt]+Ue.substr(bt+1):ze(Ye[bt],Ve[bt])<0?Ye.substr(0,bt)+Ve[bt]+Ue.substr(bt+1):0<=mt?Ye.substr(0,mt)+je[mt]+Ue.substr(mt+1):null;ze(Ye[bt],er)<0&&(mt=bt)}return ut<Ve.length&&We==="next"?Ye+Ue.substr(Ye.length):ut<Ye.length&&We==="prev"?Ye.substr(0,Ue.length):mt<0?null:Ye.substr(0,mt)+Ve[mt]+Ue.substr(mt+1)})(fe,ye,H[Re],Q[Re],L,Z);Be===null&&Ee===null?J=Re+1:(Ee===null||0<L(Ee,Be))&&(Ee=Be)}return re(Ee!==null?function(){ne.continue(Ee+oe)}:ae),!1}),p}function di(p,v,S,O){return{type:2,lower:p,upper:v,lowerOpen:S,upperOpen:O}}function Qs(p){return{type:1,lower:p,upper:p}}var yo=(Object.defineProperty(cn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),cn.prototype.between=function(p,v,S,O){S=S!==!1,O=O===!0;try{return 0<this._cmp(p,v)||this._cmp(p,v)===0&&(S||O)&&(!S||!O)?Ii(this):new this.Collection(this,function(){return di(p,v,!S,!O)})}catch{return Cr(this,yn)}},cn.prototype.equals=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return Qs(p)})},cn.prototype.above=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return di(p,void 0,!0)})},cn.prototype.aboveOrEqual=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return di(p,void 0,!1)})},cn.prototype.below=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return di(void 0,p,!1,!0)})},cn.prototype.belowOrEqual=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return di(void 0,p)})},cn.prototype.startsWith=function(p){return typeof p!="string"?Cr(this,en):this.between(p,p+sn,!0,!0)},cn.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):Nr(this,function(v,S){return v.indexOf(S[0])===0},[p],sn)},cn.prototype.equalsIgnoreCase=function(p){return Nr(this,function(v,S){return v===S[0]},[p],"")},cn.prototype.anyOfIgnoreCase=function(){var p=Se.apply(ge,arguments);return p.length===0?Ii(this):Nr(this,function(v,S){return S.indexOf(v)!==-1},p,"")},cn.prototype.startsWithAnyOfIgnoreCase=function(){var p=Se.apply(ge,arguments);return p.length===0?Ii(this):Nr(this,function(v,S){return S.some(function(O){return v.indexOf(O)===0})},p,sn)},cn.prototype.anyOf=function(){var p=this,v=Se.apply(ge,arguments),S=this._cmp;try{v.sort(S)}catch{return Cr(this,yn)}if(v.length===0)return Ii(this);var O=new this.Collection(this,function(){return di(v[0],v[v.length-1])});O._ondirectionchange=function(j){S=j==="next"?p._ascending:p._descending,v.sort(S)};var P=0;return O._addAlgorithm(function(j,L,H){for(var Q=j.key;0<S(Q,v[P]);)if(++P===v.length)return L(H),!1;return S(Q,v[P])===0||(L(function(){j.continue(v[P])}),!1)}),O},cn.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},cn.prototype.noneOf=function(){var p=Se.apply(ge,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return Cr(this,yn)}var v=p.reduce(function(S,O){return S?S.concat([[S[S.length-1][1],O]]):[[-1/0,O]]},null);return v.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},cn.prototype.inAnyRange=function(fe,v){var S=this,O=this._cmp,P=this._ascending,j=this._descending,L=this._min,H=this._max;if(fe.length===0)return Ii(this);if(!fe.every(function(ye){return ye[0]!==void 0&&ye[1]!==void 0&&P(ye[0],ye[1])<=0}))return Cr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var Q=!v||v.includeLowers!==!1,Z=v&&v.includeUppers===!0,oe,K=P;function se(ye,Ee){return K(ye[0],Ee[0])}try{(oe=fe.reduce(function(ye,Ee){for(var Re=0,Be=ye.length;Re<Be;++Re){var Ye=ye[Re];if(O(Ee[0],Ye[1])<0&&0<O(Ee[1],Ye[0])){Ye[0]=L(Ye[0],Ee[0]),Ye[1]=H(Ye[1],Ee[1]);break}}return Re===Be&&ye.push(Ee),ye},[])).sort(se)}catch{return Cr(this,yn)}var J=0,ne=Z?function(ye){return 0<P(ye,oe[J][1])}:function(ye){return 0<=P(ye,oe[J][1])},re=Q?function(ye){return 0<j(ye,oe[J][0])}:function(ye){return 0<=j(ye,oe[J][0])},ae=ne,fe=new this.Collection(this,function(){return di(oe[0][0],oe[oe.length-1][1],!Q,!Z)});return fe._ondirectionchange=function(ye){K=ye==="next"?(ae=ne,P):(ae=re,j),oe.sort(se)},fe._addAlgorithm(function(ye,Ee,Re){for(var Be,Ye=ye.key;ae(Ye);)if(++J===oe.length)return Ee(Re),!1;return!ne(Be=Ye)&&!re(Be)||(S._cmp(Ye,oe[J][1])===0||S._cmp(Ye,oe[J][0])===0||Ee(function(){K===P?ye.continue(oe[J][0]):ye.continue(oe[J][1])}),!1)}),fe},cn.prototype.startsWithAnyOf=function(){var p=Se.apply(ge,arguments);return p.every(function(v){return typeof v=="string"})?p.length===0?Ii(this):this.inAnyRange(p.map(function(v){return[v,v+sn]})):Cr(this,"startsWithAnyOf() only works with strings")},cn);function cn(){}function Xr(p){return $(function(v){return vo(v),p(v.target.error),!1})}function vo(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var oa="storagemutated",bo="x-storagemutated-1",Zn=ts(null,oa),Du=(hr.prototype._lock=function(){return F(!Ge.global),++this._reculock,this._reculock!==1||Ge.global||(Ge.lockOwnerFor=this),this},hr.prototype._unlock=function(){if(F(!Ge.global),--this._reculock==0)for(Ge.global||(Ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{Bt(p[1],p[0])}catch{}}return this},hr.prototype._locked=function(){return this._reculock&&Ge.lockOwnerFor!==this},hr.prototype.create=function(p){var v=this;if(!this.mode)return this;var S=this.db.idbdb,O=this.db._state.dbOpenError;if(F(!this.idbtrans),!p&&!S)switch(O&&O.name){case"DatabaseClosedError":throw new De.DatabaseClosed(O);case"MissingAPIError":throw new De.MissingAPI(O.message,O);default:throw new De.OpenFailed(O)}if(!this.active)throw new De.TransactionInactive;return F(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$(function(P){vo(P),v._reject(p.error)}),p.onabort=$(function(P){vo(P),v.active&&v._reject(new De.Abort(p.error)),v.active=!1,v.on("abort").fire(P)}),p.oncomplete=$(function(){v.active=!1,v._resolve(),"mutatedParts"in p&&Zn.storagemutated.fire(p.mutatedParts)}),this},hr.prototype._promise=function(p,v,S){var O=this;if(p==="readwrite"&&this.mode!=="readwrite")return at(new De.ReadOnly("Transaction is readonly"));if(!this.active)return at(new De.TransactionInactive);if(this._locked())return new $e(function(j,L){O._blockedFuncs.push([function(){O._promise(p,v,S).then(j,L)},Ge])});if(S)return He(function(){var j=new $e(function(L,H){O._lock();var Q=v(L,H,O);Q&&Q.then&&Q.then(L,H)});return j.finally(function(){return O._unlock()}),j._lib=!0,j});var P=new $e(function(j,L){var H=v(j,L,O);H&&H.then&&H.then(j,L)});return P._lib=!0,P},hr.prototype._root=function(){return this.parent?this.parent._root():this},hr.prototype.waitFor=function(p){var v,S=this._root(),O=$e.resolve(p);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return O}):(S._waitingFor=O,S._waitingQueue=[],v=S.idbtrans.objectStore(S.storeNames[0]),(function j(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(v.get(-1/0).onsuccess=j)})());var P=S._waitingFor;return new $e(function(j,L){O.then(function(H){return S._waitingQueue.push($(j.bind(null,H)))},function(H){return S._waitingQueue.push($(L.bind(null,H)))}).finally(function(){S._waitingFor===P&&(S._waitingFor=null)})})},hr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},hr.prototype.table=function(p){var v=this._memoizedTables||(this._memoizedTables={});if(y(v,p))return v[p];var S=this.schema[p];if(!S)throw new De.NotFound("Table "+p+" not part of transaction");return S=new this.db.Table(p,S,this),S.core=this.db.core.table(p),v[p]=S},hr);function hr(){}function fi(p,v,S,O,P,j,L,H){return{name:p,keyPath:v,unique:S,multi:O,auto:P,compound:j,src:(S&&!L?"&":"")+(O?"*":"")+(P?"++":"")+Zs(v),type:H}}function Zs(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function aa(p,v,S){return{name:p,primKey:v,indexes:S,mappedClass:null,idxByName:(O=function(P){return[P.name,P]},S.reduce(function(P,j,L){return L=O(j,L),L&&(P[L[0]]=L[1]),P},{}))};var O}var sa=function(p){try{return p.only([[]]),sa=function(){return[[]]},[[]]}catch{return sa=function(){return sn},sn}};function la(p){return p==null?function(){}:typeof p=="string"?(v=p).split(".").length===1?function(S){return S[v]}:function(S){return V(S,v)}:function(S){return V(S,p)};var v}function is(p){return[].slice.call(p)}var vd=0;function In(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function xo(p,v,Q){function O(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var J=ae.lower,ne=ae.upper,re=ae.lowerOpen,ae=ae.upperOpen;return J===void 0?ne===void 0?null:v.upperBound(ne,!!ae):ne===void 0?v.lowerBound(J,!!re):v.bound(J,ne,!!re,!!ae)}function P(se){var J,ne=se.name;return{name:ne,schema:se,mutate:function(re){var ae=re.trans,fe=re.type,ye=re.keys,Ee=re.values,Re=re.range;return new Promise(function(Be,Ye){Be=$(Be);var je=ae.objectStore(ne),Ue=je.keyPath==null,Ve=fe==="put"||fe==="add";if(!Ve&&fe!=="delete"&&fe!=="deleteRange")throw new Error("Invalid operation type: "+fe);var ze,We=(ye||Ee||{length:1}).length;if(ye&&Ee&&ye.length!==Ee.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return Be({numFailures:0,failures:{},results:[],lastResult:void 0});function ut(zn){++er,vo(zn)}var mt=[],bt=[],er=0;if(fe==="deleteRange"){if(Re.type===4)return Be({numFailures:er,failures:bt,results:[],lastResult:void 0});Re.type===3?mt.push(ze=je.clear()):mt.push(ze=je.delete(O(Re)))}else{var Ue=Ve?Ue?[Ee,ye]:[Ee,null]:[ye,null],pt=Ue[0],jn=Ue[1];if(Ve)for(var vn=0;vn<We;++vn)mt.push(ze=jn&&jn[vn]!==void 0?je[fe](pt[vn],jn[vn]):je[fe](pt[vn])),ze.onerror=ut;else for(vn=0;vn<We;++vn)mt.push(ze=je[fe](pt[vn])),ze.onerror=ut}function ds(zn){zn=zn.target.result,mt.forEach(function(Ir,Gu){return Ir.error!=null&&(bt[Gu]=Ir.error)}),Be({numFailures:er,failures:bt,results:fe==="delete"?ye:mt.map(function(Ir){return Ir.result}),lastResult:zn})}ze.onerror=function(zn){ut(zn),ds(zn)},ze.onsuccess=ds})},getMany:function(re){var ae=re.trans,fe=re.keys;return new Promise(function(ye,Ee){ye=$(ye);for(var Re,Be=ae.objectStore(ne),Ye=fe.length,je=new Array(Ye),Ue=0,Ve=0,ze=function(mt){mt=mt.target,je[mt._pos]=mt.result,++Ve===Ue&&ye(je)},We=Xr(Ee),ut=0;ut<Ye;++ut)fe[ut]!=null&&((Re=Be.get(fe[ut]))._pos=ut,Re.onsuccess=ze,Re.onerror=We,++Ue);Ue===0&&ye(je)})},get:function(re){var ae=re.trans,fe=re.key;return new Promise(function(ye,Ee){ye=$(ye);var Re=ae.objectStore(ne).get(fe);Re.onsuccess=function(Be){return ye(Be.target.result)},Re.onerror=Xr(Ee)})},query:(J=Z,function(re){return new Promise(function(ae,fe){ae=$(ae);var ye,Ee,Re,Ue=re.trans,Be=re.values,Ye=re.limit,ze=re.query,je=Ye===1/0?void 0:Ye,Ve=ze.index,ze=ze.range,Ue=Ue.objectStore(ne),Ve=Ve.isPrimaryKey?Ue:Ue.index(Ve.name),ze=O(ze);if(Ye===0)return ae({result:[]});J?((je=Be?Ve.getAll(ze,je):Ve.getAllKeys(ze,je)).onsuccess=function(We){return ae({result:We.target.result})},je.onerror=Xr(fe)):(ye=0,Ee=!Be&&"openKeyCursor"in Ve?Ve.openKeyCursor(ze):Ve.openCursor(ze),Re=[],Ee.onsuccess=function(We){var ut=Ee.result;return ut?(Re.push(Be?ut.value:ut.primaryKey),++ye===Ye?ae({result:Re}):void ut.continue()):ae({result:Re})},Ee.onerror=Xr(fe))})}),openCursor:function(re){var ae=re.trans,fe=re.values,ye=re.query,Ee=re.reverse,Re=re.unique;return new Promise(function(Be,Ye){Be=$(Be);var Ve=ye.index,je=ye.range,Ue=ae.objectStore(ne),Ue=Ve.isPrimaryKey?Ue:Ue.index(Ve.name),Ve=Ee?Re?"prevunique":"prev":Re?"nextunique":"next",ze=!fe&&"openKeyCursor"in Ue?Ue.openKeyCursor(O(je),Ve):Ue.openCursor(O(je),Ve);ze.onerror=Xr(Ye),ze.onsuccess=$(function(We){var ut,mt,bt,er,pt=ze.result;pt?(pt.___id=++vd,pt.done=!1,ut=pt.continue.bind(pt),mt=(mt=pt.continuePrimaryKey)&&mt.bind(pt),bt=pt.advance.bind(pt),er=function(){throw new Error("Cursor not stopped")},pt.trans=ae,pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=function(){throw new Error("Cursor not started")},pt.fail=$(Ye),pt.next=function(){var jn=this,vn=1;return this.start(function(){return vn--?jn.continue():jn.stop()}).then(function(){return jn})},pt.start=function(jn){function vn(){if(ze.result)try{jn()}catch(zn){pt.fail(zn)}else pt.done=!0,pt.start=function(){throw new Error("Cursor behind last entry")},pt.stop()}var ds=new Promise(function(zn,Ir){zn=$(zn),ze.onerror=Xr(Ir),pt.fail=Ir,pt.stop=function(Gu){pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=er,zn(Gu)}});return ze.onsuccess=$(function(zn){ze.onsuccess=vn,vn()}),pt.continue=ut,pt.continuePrimaryKey=mt,pt.advance=bt,vn(),ds},Be(pt)):Be(null)},Ye)})},count:function(re){var ae=re.query,fe=re.trans,ye=ae.index,Ee=ae.range;return new Promise(function(Re,Be){var Ye=fe.objectStore(ne),je=ye.isPrimaryKey?Ye:Ye.index(ye.name),Ye=O(Ee),je=Ye?je.count(Ye):je.count();je.onsuccess=$(function(Ue){return Re(Ue.target.result)}),je.onerror=Xr(Be)})}}}var j,L,H,oe=(L=Q,H=is((j=p).objectStoreNames),{schema:{name:j.name,tables:H.map(function(se){return L.objectStore(se)}).map(function(se){var J=se.keyPath,ae=se.autoIncrement,ne=d(J),re={},ae={name:se.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:J==null,compound:ne,keyPath:J,autoIncrement:ae,unique:!0,extractKey:la(J)},indexes:is(se.indexNames).map(function(fe){return se.index(fe)}).map(function(Re){var ye=Re.name,Ee=Re.unique,Be=Re.multiEntry,Re=Re.keyPath,Be={name:ye,compound:d(Re),keyPath:Re,unique:Ee,multiEntry:Be,extractKey:la(Re)};return re[In(Re)]=Be}),getIndexByKeyPath:function(fe){return re[In(fe)]}};return re[":id"]=ae.primaryKey,J!=null&&(re[In(J)]=ae.primaryKey),ae})},hasGetAll:0<H.length&&"getAll"in L.objectStore(H[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),Q=oe.schema,Z=oe.hasGetAll,oe=Q.tables.map(P),K={};return oe.forEach(function(se){return K[se.name]=se}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(se){if(!K[se])throw new Error("Table '".concat(se,"' not found"));return K[se]},MIN_KEY:-1/0,MAX_KEY:sa(v),schema:Q}}function Js(p,v,S,O){var P=S.IDBKeyRange;return S.indexedDB,{dbcore:(O=xo(v,P,O),p.dbcore.reduce(function(j,L){return L=L.create,i(i({},j),L(j))},O))}}function Ki(p,O){var S=O.db,O=Js(p._middlewares,S,p._deps,O);p.core=O.dbcore,p.tables.forEach(function(P){var j=P.name;p.core.schema.tables.some(function(L){return L.name===j})&&(P.core=p.core.table(j),p[j]instanceof p.Table&&(p[j].core=P.core))})}function el(p,v,S,O){S.forEach(function(P){var j=O[P];v.forEach(function(L){var H=(function Q(Z,oe){return T(Z,oe)||(Z=h(Z))&&Q(Z,oe)})(L,P);(!H||"value"in H&&H.value===void 0)&&(L===p.Transaction.prototype||L instanceof p.Transaction?_(L,P,{get:function(){return this.table(P)},set:function(Q){w(this,P,{value:Q,writable:!0,configurable:!0,enumerable:!0})}}):L[P]=new p.Table(P,j))})})}function os(p,v){v.forEach(function(S){for(var O in S)S[O]instanceof p.Table&&delete S[O]})}function Au(p,v){return p._cfg.version-v._cfg.version}function as(p,v,S,O){var P=p._dbSchema;S.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=aa("$meta",xd("")[0],[]),p._storeNames.push("$meta"));var j=p._createTransaction("readwrite",p._storeNames,P);j.create(S),j._completion.catch(O);var L=j._reject.bind(j),H=Ge.transless||Ge;He(function(){return Ge.trans=j,Ge.transless=H,v!==0?(Ki(p,S),Z=v,((Q=j).storeNames.includes("$meta")?Q.table("$meta").get("version").then(function(oe){return oe??Z}):$e.resolve(Z)).then(function(oe){return se=oe,J=j,ne=S,re=[],oe=(K=p)._versions,ae=K._dbSchema=ua(0,K.idbdb,ne),(oe=oe.filter(function(fe){return fe._cfg.version>=se})).length!==0?(oe.forEach(function(fe){re.push(function(){var ye=ae,Ee=fe._cfg.dbschema;il(K,ye,ne),il(K,Ee,ne),ae=K._dbSchema=Ee;var Re=nl(ye,Ee);Re.add.forEach(function(Ve){Nu(ne,Ve[0],Ve[1].primKey,Ve[1].indexes)}),Re.change.forEach(function(Ve){if(Ve.recreate)throw new De.Upgrade("Not yet support for changing primary key");var ze=ne.objectStore(Ve.name);Ve.add.forEach(function(We){return rl(ze,We)}),Ve.change.forEach(function(We){ze.deleteIndex(We.name),rl(ze,We)}),Ve.del.forEach(function(We){return ze.deleteIndex(We)})});var Be=fe._cfg.contentUpgrade;if(Be&&fe._cfg.version>se){Ki(K,ne),J._memoizedTables={};var Ye=G(Ee);Re.del.forEach(function(Ve){Ye[Ve]=ye[Ve]}),os(K,[K.Transaction.prototype]),el(K,[K.Transaction.prototype],u(Ye),Ye),J.schema=Ye;var je,Ue=U(Be);return Ue&&Ke(),Re=$e.follow(function(){var Ve;(je=Be(J))&&Ue&&(Ve=Qe.bind(null,null),je.then(Ve,Ve))}),je&&typeof je.then=="function"?$e.resolve(je):Re.then(function(){return je})}}),re.push(function(ye){var Ee,Re,Be=fe._cfg.dbschema;Ee=Be,Re=ye,[].slice.call(Re.db.objectStoreNames).forEach(function(Ye){return Ee[Ye]==null&&Re.db.deleteObjectStore(Ye)}),os(K,[K.Transaction.prototype]),el(K,[K.Transaction.prototype],K._storeNames,K._dbSchema),J.schema=K._dbSchema}),re.push(function(ye){K.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(K.idbdb.version/10)===fe._cfg.version?(K.idbdb.deleteObjectStore("$meta"),delete K._dbSchema.$meta,K._storeNames=K._storeNames.filter(function(Ee){return Ee!=="$meta"})):ye.objectStore("$meta").put(fe._cfg.version,"version"))})}),(function fe(){return re.length?$e.resolve(re.shift()(J.idbtrans)).then(fe):$e.resolve()})().then(function(){bd(ae,ne)})):$e.resolve();var K,se,J,ne,re,ae}).catch(L)):(u(P).forEach(function(oe){Nu(S,oe,P[oe].primKey,P[oe].indexes)}),Ki(p,S),void $e.follow(function(){return p.on.populate.fire(j)}).catch(L));var Q,Z})}function tl(p,v){bd(p._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var S=ua(0,p.idbdb,v);il(p,p._dbSchema,v);for(var O=0,P=nl(S,p._dbSchema).change;O<P.length;O++){var j=(function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var H=v.objectStore(L.name);L.add.forEach(function(Q){gn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(Q.src)),rl(H,Q)})})(P[O]);if(typeof j=="object")return j.value}}function nl(p,v){var S,O={del:[],add:[],change:[]};for(S in p)v[S]||O.del.push(S);for(S in v){var P=p[S],j=v[S];if(P){var L={name:S,def:j,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(j.primKey.keyPath||"")||P.primKey.auto!==j.primKey.auto)L.recreate=!0,O.change.push(L);else{var H=P.idxByName,Q=j.idxByName,Z=void 0;for(Z in H)Q[Z]||L.del.push(Z);for(Z in Q){var oe=H[Z],K=Q[Z];oe?oe.src!==K.src&&L.change.push(K):L.add.push(K)}(0<L.del.length||0<L.add.length||0<L.change.length)&&O.change.push(L)}}else O.add.push([S,j])}return O}function Nu(p,v,S,O){var P=p.db.createObjectStore(v,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return O.forEach(function(j){return rl(P,j)}),P}function bd(p,v){u(p).forEach(function(S){v.db.objectStoreNames.contains(S)||(gn&&console.debug("Dexie: Creating missing table",S),Nu(v,S,p[S].primKey,p[S].indexes))})}function rl(p,v){p.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function ua(p,v,S){var O={};return D(v.objectStoreNames,0).forEach(function(P){for(var j=S.objectStore(P),L=fi(Zs(Z=j.keyPath),Z||"",!0,!1,!!j.autoIncrement,Z&&typeof Z!="string",!0),H=[],Q=0;Q<j.indexNames.length;++Q){var oe=j.index(j.indexNames[Q]),Z=oe.keyPath,oe=fi(oe.name,Z,!!oe.unique,!!oe.multiEntry,!1,Z&&typeof Z!="string",!1);H.push(oe)}O[P]=aa(P,L,H)}),O}function il(p,v,S){for(var O=S.db.objectStoreNames,P=0;P<O.length;++P){var j=O[P],L=S.objectStore(j);p._hasGetAll="getAll"in L;for(var H=0;H<L.indexNames.length;++H){var Q=L.indexNames[H],Z=L.index(Q).keyPath,oe=typeof Z=="string"?Z:"["+D(Z).join("+")+"]";!v[j]||(Z=v[j].idxByName[oe])&&(Z.name=Q,delete v[j].idxByName[oe],v[j].idxByName[Q]=Z)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function xd(p){return p.split(",").map(function(v,S){var j=v.split(":"),O=(P=j[1])===null||P===void 0?void 0:P.trim(),P=(v=j[0].trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return fi(P,j||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),d(j),S===0,O)})}var fp=(ca.prototype._createTableSchema=aa,ca.prototype._parseIndexSyntax=xd,ca.prototype._parseStoresSpec=function(p,v){var S=this;u(p).forEach(function(O){if(p[O]!==null){var P=S._parseIndexSyntax(p[O]),j=P.shift();if(!j)throw new De.Schema("Invalid schema for table "+O+": "+p[O]);if(j.unique=!0,j.multi)throw new De.Schema("Primary key cannot be multiEntry*");P.forEach(function(L){if(L.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),P=S._createTableSchema(O,j,P),v[O]=P}})},ca.prototype.stores=function(S){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,S):S;var S=v._versions,O={},P={};return S.forEach(function(j){f(O,j._cfg.storesSource),P=j._cfg.dbschema={},j._parseStoresSpec(O,P)}),v._dbSchema=P,os(v,[v._allTables,v,v.Transaction.prototype]),el(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],u(P),P),v._storeNames=u(P),this},ca.prototype.upgrade=function(p){return this._cfg.contentUpgrade=qn(this._cfg.contentUpgrade||Ze,p),this},ca);function ca(){}function Iu(p,v){var S=p._dbNamesDB;return S||(S=p._dbNamesDB=new hi(Wn,{addons:[],indexedDB:p,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function ol(p){return p&&typeof p.databases=="function"}function ju(p){return He(function(){return Ge.letThrough=!0,p()})}function zu(p){return!("from"in p)}var Jn=function(p,v){if(!this){var S=new Jn;return p&&"d"in p&&f(S,p),S}f(this,arguments.length?{d:1,from:p,to:1<arguments.length?v:p}:{d:0})};function ss(p,v,S){var O=st(v,S);if(!isNaN(O)){if(0<O)throw RangeError();if(zu(p))return f(p,{from:v,to:S,d:1});var P=p.l,O=p.r;if(st(S,p.from)<0)return P?ss(P,v,S):p.l={from:v,to:S,d:1,l:null,r:null},Sd(p);if(0<st(v,p.to))return O?ss(O,v,S):p.r={from:v,to:S,d:1,l:null,r:null},Sd(p);st(v,p.from)<0&&(p.from=v,p.l=null,p.d=O?O.d+1:1),0<st(S,p.to)&&(p.to=S,p.r=null,p.d=p.l?p.l.d+1:1),S=!p.r,P&&!p.l&&wo(p,P),O&&S&&wo(p,O)}}function wo(p,v){zu(v)||(function S(O,Q){var j=Q.from,L=Q.to,H=Q.l,Q=Q.r;ss(O,j,L),H&&S(O,H),Q&&S(O,Q)})(p,v)}function wd(p,v){var S=al(v),O=S.next();if(O.done)return!1;for(var P=O.value,j=al(p),L=j.next(P.from),H=L.value;!O.done&&!L.done;){if(st(H.from,P.to)<=0&&0<=st(H.to,P.from))return!0;st(P.from,H.from)<0?P=(O=S.next(H.from)).value:H=(L=j.next(P.from)).value}return!1}function al(p){var v=zu(p)?null:{s:0,n:p};return{next:function(S){for(var O=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,O)for(;v.n.l&&st(S,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!O||st(S,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function Sd(p){var v,S,O=(((v=p.r)===null||v===void 0?void 0:v.d)||0)-(((S=p.l)===null||S===void 0?void 0:S.d)||0),P=1<O?"r":O<-1?"l":"";P&&(v=P=="r"?"l":"r",S=i({},p),O=p[P],p.from=O.from,p.to=O.to,p[P]=O[P],S[P]=O[v],(p[v]=S).d=Fu(S)),p.d=Fu(p)}function Fu(S){var v=S.r,S=S.l;return(v?S?Math.max(v.d,S.d):v.d:S?S.d:0)+1}function sl(p,v){return u(v).forEach(function(S){p[S]?wo(p[S],v[S]):p[S]=(function O(P){var j,L,H={};for(j in P)y(P,j)&&(L=P[j],H[j]=!L||typeof L!="object"||he.has(L.constructor)?L:O(L));return H})(v[S])}),p}function ku(p,v){return p.all||v.all||Object.keys(p).some(function(S){return v[S]&&wd(v[S],p[S])})}x(Jn.prototype,((_r={add:function(p){return wo(this,p),this},addKey:function(p){return ss(this,p,p),this},addKeys:function(p){var v=this;return p.forEach(function(S){return ss(v,S,S)}),this},hasKey:function(p){var v=al(this).next(p).value;return v&&st(v.from,p)<=0&&0<=st(v.to,p)}})[B]=function(){return al(this)},_r));var So={},Lu={},Bu=!1;function ll(p){sl(Lu,p),Bu||(Bu=!0,setTimeout(function(){Bu=!1,Uu(Lu,!(Lu={}))},0))}function Uu(p,v){v===void 0&&(v=!1);var S=new Set;if(p.all)for(var O=0,P=Object.values(So);O<P.length;O++)Cd(L=P[O],p,S,v);else for(var j in p){var L,H=/^idb\:\/\/(.*)\/(.*)\//.exec(j);H&&(j=H[1],H=H[2],(L=So["idb://".concat(j,"/").concat(H)])&&Cd(L,p,S,v))}S.forEach(function(Q){return Q()})}function Cd(p,v,S,O){for(var P=[],j=0,L=Object.entries(p.queries.query);j<L.length;j++){for(var H=L[j],Q=H[0],Z=[],oe=0,K=H[1];oe<K.length;oe++){var se=K[oe];ku(v,se.obsSet)?se.subscribers.forEach(function(ae){return S.add(ae)}):O&&Z.push(se)}O&&P.push([Q,Z])}if(O)for(var J=0,ne=P;J<ne.length;J++){var re=ne[J],Q=re[0],Z=re[1];p.queries.query[Q]=Z}}function hp(p){var v=p._state,S=p._deps.indexedDB;if(v.isBeingOpened||p.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?at(v.dbOpenError):p});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var O=v.openCanceller,P=Math.round(10*p.verno),j=!1;function L(){if(v.openCanceller!==O)throw new De.DatabaseClosed("db.open() was cancelled")}function H(){return new $e(function(se,J){if(L(),!S)throw new De.MissingAPI;var ne=p.name,re=v.autoSchema||!P?S.open(ne):S.open(ne,P);if(!re)throw new De.MissingAPI;re.onerror=Xr(J),re.onblocked=$(p._fireOnBlocked),re.onupgradeneeded=$(function(ae){var fe;oe=re.transaction,v.autoSchema&&!p._options.allowEmptyDB?(re.onerror=vo,oe.abort(),re.result.close(),(fe=S.deleteDatabase(ne)).onsuccess=fe.onerror=$(function(){J(new De.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})):(oe.onerror=Xr(J),ae=ae.oldVersion>Math.pow(2,62)?0:ae.oldVersion,K=ae<1,p.idbdb=re.result,j&&tl(p,oe),as(p,ae/10,oe,J))},J),re.onsuccess=$(function(){oe=null;var ae,fe,ye,Ee,Re,Be=p.idbdb=re.result,Ye=D(Be.objectStoreNames);if(0<Ye.length)try{var je=Be.transaction((Ee=Ye).length===1?Ee[0]:Ee,"readonly");if(v.autoSchema)fe=Be,ye=je,(ae=p).verno=fe.version/10,ye=ae._dbSchema=ua(0,fe,ye),ae._storeNames=D(fe.objectStoreNames,0),el(ae,[ae._allTables],u(ye),ye);else if(il(p,p._dbSchema,je),((Re=nl(ua(0,(Re=p).idbdb,je),Re._dbSchema)).add.length||Re.change.some(function(Ue){return Ue.add.length||Ue.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Be.close(),P=Be.version+1,j=!0,se(H());Ki(p,je)}catch{}Xn.push(p),Be.onversionchange=$(function(Ue){v.vcFired=!0,p.on("versionchange").fire(Ue)}),Be.onclose=$(function(){p.close({disableAutoOpen:!1})}),K&&(Re=p._deps,je=ne,Be=Re.indexedDB,Re=Re.IDBKeyRange,ol(Be)||je===Wn||Iu(Be,Re).put({name:je}).catch(Ze)),se()},J)}).catch(function(se){switch(se?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),H();break;case"VersionError":if(0<P)return P=0,H()}return $e.reject(se)})}var Q,Z=v.dbReadyResolve,oe=null,K=!1;return $e.race([O,(typeof navigator>"u"?$e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(se){function J(){return indexedDB.databases().finally(se)}Q=setInterval(J,100),J()}).finally(function(){return clearInterval(Q)}):Promise.resolve()).then(H)]).then(function(){return L(),v.onReadyBeingFired=[],$e.resolve(ju(function(){return p.on.ready.fire(p.vip)})).then(function se(){if(0<v.onReadyBeingFired.length){var J=v.onReadyBeingFired.reduce(qn,Ze);return v.onReadyBeingFired=[],$e.resolve(ju(function(){return J(p.vip)})).then(se)}})}).finally(function(){v.openCanceller===O&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(se){v.dbOpenError=se;try{oe&&oe.abort()}catch{}return O===v.openCanceller&&p._close(),at(se)}).finally(function(){v.openComplete=!0,Z()}).then(function(){var se;return K&&(se={},p.tables.forEach(function(J){J.schema.indexes.forEach(function(ne){ne.name&&(se["idb://".concat(p.name,"/").concat(J.name,"/").concat(ne.name)]=new Jn(-1/0,[[[]]]))}),se["idb://".concat(p.name,"/").concat(J.name,"/")]=se["idb://".concat(p.name,"/").concat(J.name,"/:dels")]=new Jn(-1/0,[[[]]])}),Zn(oa).fire(se),Uu(se,!0)),p})}function ls(p){function v(j){return p.next(j)}var S=P(v),O=P(function(j){return p.throw(j)});function P(j){return function(Q){var H=j(Q),Q=H.value;return H.done?Q:Q&&typeof Q.then=="function"?Q.then(S,O):d(Q)?Promise.all(Q).then(S,O):S(Q)}}return P(v)()}function Xi(p,v,S){for(var O=d(p)?p.slice():[p],P=0;P<S;++P)O.push(v);return O}var pp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return i(i({},p),{table:function(v){var S=p.table(v),O=S.schema,P={},j=[];function L(K,se,J){var ne=In(K),re=P[ne]=P[ne]||[],ae=K==null?0:typeof K=="string"?1:K.length,fe=0<se,fe=i(i({},J),{name:fe?"".concat(ne,"(virtual-from:").concat(J.name,")"):J.name,lowLevelIndex:J,isVirtual:fe,keyTail:se,keyLength:ae,extractKey:la(K),unique:!fe&&J.unique});return re.push(fe),fe.isPrimaryKey||j.push(fe),1<ae&&L(ae===2?K[0]:K.slice(0,ae-1),se+1,J),re.sort(function(ye,Ee){return ye.keyTail-Ee.keyTail}),fe}v=L(O.primaryKey.keyPath,0,O.primaryKey),P[":id"]=[v];for(var H=0,Q=O.indexes;H<Q.length;H++){var Z=Q[H];L(Z.keyPath,0,Z)}function oe(K){var se,J=K.query.index;return J.isVirtual?i(i({},K),{query:{index:J.lowLevelIndex,range:(se=K.query.range,J=J.keyTail,{type:se.type===1?2:se.type,lower:Xi(se.lower,se.lowerOpen?p.MAX_KEY:p.MIN_KEY,J),lowerOpen:!0,upper:Xi(se.upper,se.upperOpen?p.MIN_KEY:p.MAX_KEY,J),upperOpen:!0})}}):K}return i(i({},S),{schema:i(i({},O),{primaryKey:v,indexes:j,getIndexByKeyPath:function(K){return(K=P[In(K)])&&K[0]}}),count:function(K){return S.count(oe(K))},query:function(K){return S.query(oe(K))},openCursor:function(K){var se=K.query.index,J=se.keyTail,ne=se.isVirtual,re=se.keyLength;return ne?S.openCursor(oe(K)).then(function(fe){return fe&&ae(fe)}):S.openCursor(K);function ae(fe){return Object.create(fe,{continue:{value:function(ye){ye!=null?fe.continue(Xi(ye,K.reverse?p.MAX_KEY:p.MIN_KEY,J)):K.unique?fe.continue(fe.key.slice(0,re).concat(K.reverse?p.MIN_KEY:p.MAX_KEY,J)):fe.continue()}},continuePrimaryKey:{value:function(ye,Ee){fe.continuePrimaryKey(Xi(ye,p.MAX_KEY,J),Ee)}},primaryKey:{get:function(){return fe.primaryKey}},key:{get:function(){var ye=fe.key;return re===1?ye[0]:ye.slice(0,re)}},value:{get:function(){return fe.value}}})}}})}})}};function ul(p,v,S,O){return S=S||{},O=O||"",u(p).forEach(function(P){var j,L,H;y(v,P)?(j=p[P],L=v[P],typeof j=="object"&&typeof L=="object"&&j&&L?(H=xe(j))!==xe(L)?S[O+P]=v[P]:H==="Object"?ul(j,L,S,O+P+"."):j!==L&&(S[O+P]=v[P]):j!==L&&(S[O+P]=v[P])):S[O+P]=void 0}),u(v).forEach(function(P){y(p,P)||(S[O+P]=v[P])}),S}function cl(p,v){return v.type==="delete"?v.keys:v.keys||v.values.map(p.extractKey)}var _d={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return i(i({},p),{table:function(v){var S=p.table(v),O=S.schema.primaryKey;return i(i({},S),{mutate:function(P){var j=Ge.trans,L=j.table(v).hook,H=L.deleting,Q=L.creating,Z=L.updating;switch(P.type){case"add":if(Q.fire===Ze)break;return j._promise("readwrite",function(){return oe(P)},!0);case"put":if(Q.fire===Ze&&Z.fire===Ze)break;return j._promise("readwrite",function(){return oe(P)},!0);case"delete":if(H.fire===Ze)break;return j._promise("readwrite",function(){return oe(P)},!0);case"deleteRange":if(H.fire===Ze)break;return j._promise("readwrite",function(){return(function K(se,J,ne){return S.query({trans:se,values:!1,query:{index:O,range:J},limit:ne}).then(function(re){var ae=re.result;return oe({type:"delete",keys:ae,trans:se}).then(function(fe){return 0<fe.numFailures?Promise.reject(fe.failures[0]):ae.length<ne?{failures:[],numFailures:0,lastResult:void 0}:K(se,i(i({},J),{lower:ae[ae.length-1],lowerOpen:!0}),ne)})})})(P.trans,P.range,1e4)},!0)}return S.mutate(P);function oe(K){var se,J,ne,re=Ge.trans,ae=K.keys||cl(O,K);if(!ae)throw new Error("Keys missing");return(K=K.type==="add"||K.type==="put"?i(i({},K),{keys:ae}):i({},K)).type!=="delete"&&(K.values=a([],K.values)),K.keys&&(K.keys=a([],K.keys)),se=S,ne=ae,((J=K).type==="add"?Promise.resolve([]):se.getMany({trans:J.trans,keys:ne,cache:"immutable"})).then(function(fe){var ye=ae.map(function(Ee,Re){var Be,Ye,je,Ue=fe[Re],Ve={onerror:null,onsuccess:null};return K.type==="delete"?H.fire.call(Ve,Ee,Ue,re):K.type==="add"||Ue===void 0?(Be=Q.fire.call(Ve,Ee,K.values[Re],re),Ee==null&&Be!=null&&(K.keys[Re]=Ee=Be,O.outbound||A(K.values[Re],O.keyPath,Ee))):(Be=ul(Ue,K.values[Re]),(Ye=Z.fire.call(Ve,Be,Ee,Ue,re))&&(je=K.values[Re],Object.keys(Ye).forEach(function(ze){y(je,ze)?je[ze]=Ye[ze]:A(je,ze,Ye[ze])}))),Ve});return S.mutate(K).then(function(Ee){for(var Re=Ee.failures,Be=Ee.results,Ye=Ee.numFailures,Ee=Ee.lastResult,je=0;je<ae.length;++je){var Ue=(Be||ae)[je],Ve=ye[je];Ue==null?Ve.onerror&&Ve.onerror(Re[je]):Ve.onsuccess&&Ve.onsuccess(K.type==="put"&&fe[je]?K.values[je]:Ue)}return{failures:Re,results:Be,numFailures:Ye,lastResult:Ee}}).catch(function(Ee){return ye.forEach(function(Re){return Re.onerror&&Re.onerror(Ee)}),Promise.reject(Ee)})})}}})}})}};function $u(p,v,S){try{if(!v||v.keys.length<p.length)return null;for(var O=[],P=0,j=0;P<v.keys.length&&j<p.length;++P)st(v.keys[P],p[j])===0&&(O.push(S?Oe(v.values[P]):v.values[P]),++j);return O.length===p.length?O:null}catch{return null}}var Ed={stack:"dbcore",level:-1,create:function(p){return{table:function(v){var S=p.table(v);return i(i({},S),{getMany:function(O){if(!O.cache)return S.getMany(O);var P=$u(O.keys,O.trans._cache,O.cache==="clone");return P?$e.resolve(P):S.getMany(O).then(function(j){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?Oe(j):j},j})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),S.mutate(O)}})}}}};function Co(p,v){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function Od(p,v){switch(p){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var mp={stack:"dbcore",level:0,name:"Observability",create:function(p){var v=p.schema.name,S=new Jn(p.MIN_KEY,p.MAX_KEY);return i(i({},p),{transaction:function(O,P,j){if(Ge.subscr&&P!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ge.querier));return p.transaction(O,P,j)},table:function(O){var P=p.table(O),j=P.schema,L=j.primaryKey,K=j.indexes,H=L.extractKey,Q=L.outbound,Z=L.autoIncrement&&K.filter(function(J){return J.compound&&J.keyPath.includes(L.keyPath)}),oe=i(i({},P),{mutate:function(J){function ne(ze){return ze="idb://".concat(v,"/").concat(O,"/").concat(ze),Ee[ze]||(Ee[ze]=new Jn)}var re,ae,fe,ye=J.trans,Ee=J.mutatedParts||(J.mutatedParts={}),Re=ne(""),Be=ne(":dels"),Ye=J.type,Ve=J.type==="deleteRange"?[J.range]:J.type==="delete"?[J.keys]:J.values.length<50?[cl(L,J).filter(function(ze){return ze}),J.values]:[],je=Ve[0],Ue=Ve[1],Ve=J.trans._cache;return d(je)?(Re.addKeys(je),(Ve=Ye==="delete"||je.length===Ue.length?$u(je,Ve):null)||Be.addKeys(je),(Ve||Ue)&&(re=ne,ae=Ve,fe=Ue,j.indexes.forEach(function(ze){var We=re(ze.name||"");function ut(bt){return bt!=null?ze.extractKey(bt):null}function mt(bt){return ze.multiEntry&&d(bt)?bt.forEach(function(er){return We.addKey(er)}):We.addKey(bt)}(ae||fe).forEach(function(bt,jn){var pt=ae&&ut(ae[jn]),jn=fe&&ut(fe[jn]);st(pt,jn)!==0&&(pt!=null&&mt(pt),jn!=null&&mt(jn))})}))):je?(Ue={from:(Ue=je.lower)!==null&&Ue!==void 0?Ue:p.MIN_KEY,to:(Ue=je.upper)!==null&&Ue!==void 0?Ue:p.MAX_KEY},Be.add(Ue),Re.add(Ue)):(Re.add(S),Be.add(S),j.indexes.forEach(function(ze){return ne(ze.name).add(S)})),P.mutate(J).then(function(ze){return!je||J.type!=="add"&&J.type!=="put"||(Re.addKeys(ze.results),Z&&Z.forEach(function(We){for(var ut=J.values.map(function(pt){return We.extractKey(pt)}),mt=We.keyPath.findIndex(function(pt){return pt===L.keyPath}),bt=0,er=ze.results.length;bt<er;++bt)ut[bt][mt]=ze.results[bt];ne(We.name).addKeys(ut)})),ye.mutatedParts=sl(ye.mutatedParts||{},Ee),ze})}}),K=function(ne){var re=ne.query,ne=re.index,re=re.range;return[ne,new Jn((ne=re.lower)!==null&&ne!==void 0?ne:p.MIN_KEY,(re=re.upper)!==null&&re!==void 0?re:p.MAX_KEY)]},se={get:function(J){return[L,new Jn(J.key)]},getMany:function(J){return[L,new Jn().addKeys(J.keys)]},count:K,query:K,openCursor:K};return u(se).forEach(function(J){oe[J]=function(ne){var re=Ge.subscr,ae=!!re,fe=Co(Ge,P)&&Od(J,ne)?ne.obsSet={}:re;if(ae){var ye=function(Ue){return Ue="idb://".concat(v,"/").concat(O,"/").concat(Ue),fe[Ue]||(fe[Ue]=new Jn)},Ee=ye(""),Re=ye(":dels"),re=se[J](ne),ae=re[0],re=re[1];if((J==="query"&&ae.isPrimaryKey&&!ne.values?Re:ye(ae.name||"")).add(re),!ae.isPrimaryKey){if(J!=="count"){var Be=J==="query"&&Q&&ne.values&&P.query(i(i({},ne),{values:!1}));return P[J].apply(this,arguments).then(function(Ue){if(J==="query"){if(Q&&ne.values)return Be.then(function(ut){return ut=ut.result,Ee.addKeys(ut),Ue});var Ve=ne.values?Ue.result.map(H):Ue.result;(ne.values?Ee:Re).addKeys(Ve)}else if(J==="openCursor"){var ze=Ue,We=ne.values;return ze&&Object.create(ze,{key:{get:function(){return Re.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var ut=ze.primaryKey;return Re.addKey(ut),ut}},value:{get:function(){return We&&Ee.addKey(ze.primaryKey),ze.value}}})}return Ue})}Re.add(S)}}return P[J].apply(this,arguments)}}),oe}})}};function Md(p,v,S){if(S.numFailures===0)return v;if(v.type==="deleteRange")return null;var O=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return S.numFailures===O?null:(v=i({},v),d(v.keys)&&(v.keys=v.keys.filter(function(P,j){return!(j in S.failures)})),"values"in v&&d(v.values)&&(v.values=v.values.filter(function(P,j){return!(j in S.failures)})),v)}function dl(p,v){return S=p,((O=v).lower===void 0||(O.lowerOpen?0<st(S,O.lower):0<=st(S,O.lower)))&&(p=p,(v=v).upper===void 0||(v.upperOpen?st(p,v.upper)<0:st(p,v.upper)<=0));var S,O}function Hu(p,v,se,O,P,j){if(!se||se.length===0)return p;var L=v.query.index,H=L.multiEntry,Q=v.query.range,Z=O.schema.primaryKey.extractKey,oe=L.extractKey,K=(L.lowLevelIndex||L).extractKey,se=se.reduce(function(J,ne){var re=J,ae=[];if(ne.type==="add"||ne.type==="put")for(var fe=new Jn,ye=ne.values.length-1;0<=ye;--ye){var Ee,Re=ne.values[ye],Be=Z(Re);fe.hasKey(Be)||(Ee=oe(Re),(H&&d(Ee)?Ee.some(function(ze){return dl(ze,Q)}):dl(Ee,Q))&&(fe.addKey(Be),ae.push(Re)))}switch(ne.type){case"add":var Ye=new Jn().addKeys(v.values?J.map(function(We){return Z(We)}):J),re=J.concat(v.values?ae.filter(function(We){return We=Z(We),!Ye.hasKey(We)&&(Ye.addKey(We),!0)}):ae.map(function(We){return Z(We)}).filter(function(We){return!Ye.hasKey(We)&&(Ye.addKey(We),!0)}));break;case"put":var je=new Jn().addKeys(ne.values.map(function(We){return Z(We)}));re=J.filter(function(We){return!je.hasKey(v.values?Z(We):We)}).concat(v.values?ae:ae.map(function(We){return Z(We)}));break;case"delete":var Ue=new Jn().addKeys(ne.keys);re=J.filter(function(We){return!Ue.hasKey(v.values?Z(We):We)});break;case"deleteRange":var Ve=ne.range;re=J.filter(function(We){return!dl(Z(We),Ve)})}return re},p);return se===p?p:(se.sort(function(J,ne){return st(K(J),K(ne))||st(Z(J),Z(ne))}),v.limit&&v.limit<1/0&&(se.length>v.limit?se.length=v.limit:p.length===v.limit&&se.length<v.limit&&(P.dirty=!0)),j?Object.freeze(se):se)}function da(p,v){return st(p.lower,v.lower)===0&&st(p.upper,v.upper)===0&&!!p.lowerOpen==!!v.lowerOpen&&!!p.upperOpen==!!v.upperOpen}function us(p,v){return(function(S,O,P,j){if(S===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=st(S,O))===0){if(P&&j)return 0;if(P)return 1;if(j)return-1}return O})(p.lower,v.lower,p.lowerOpen,v.lowerOpen)<=0&&0<=(function(S,O,P,j){if(S===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=st(S,O))===0){if(P&&j)return 0;if(P)return-1;if(j)return 1}return O})(p.upper,v.upper,p.upperOpen,v.upperOpen)}function gp(p,v,S,O){p.subscribers.add(S),O.addEventListener("abort",function(){var P,j;p.subscribers.delete(S),p.subscribers.size===0&&(P=p,j=v,setTimeout(function(){P.subscribers.size===0&&q(j,P)},3e3))})}var fl={stack:"dbcore",level:0,name:"Cache",create:function(p){var v=p.schema.name;return i(i({},p),{transaction:function(S,O,P){var j,L,H=p.transaction(S,O,P);return O==="readwrite"&&(L=(j=new AbortController).signal,P=function(Q){return function(){if(j.abort(),O==="readwrite"){for(var Z=new Set,oe=0,K=S;oe<K.length;oe++){var se=K[oe],J=So["idb://".concat(v,"/").concat(se)];if(J){var ne=p.table(se),re=J.optimisticOps.filter(function(We){return We.trans===H});if(H._explicit&&Q&&H.mutatedParts)for(var ae=0,fe=Object.values(J.queries.query);ae<fe.length;ae++)for(var ye=0,Ee=(Ye=fe[ae]).slice();ye<Ee.length;ye++)ku((je=Ee[ye]).obsSet,H.mutatedParts)&&(q(Ye,je),je.subscribers.forEach(function(We){return Z.add(We)}));else if(0<re.length){J.optimisticOps=J.optimisticOps.filter(function(We){return We.trans!==H});for(var Re=0,Be=Object.values(J.queries.query);Re<Be.length;Re++)for(var Ye,je,Ue,Ve=0,ze=(Ye=Be[Re]).slice();Ve<ze.length;Ve++)(je=ze[Ve]).res!=null&&H.mutatedParts&&(Q&&!je.dirty?(Ue=Object.isFrozen(je.res),Ue=Hu(je.res,je.req,re,ne,je,Ue),je.dirty?(q(Ye,je),je.subscribers.forEach(function(We){return Z.add(We)})):Ue!==je.res&&(je.res=Ue,je.promise=$e.resolve({result:Ue}))):(je.dirty&&q(Ye,je),je.subscribers.forEach(function(We){return Z.add(We)})))}}}Z.forEach(function(We){return We()})}}},H.addEventListener("abort",P(!1),{signal:L}),H.addEventListener("error",P(!1),{signal:L}),H.addEventListener("complete",P(!0),{signal:L})),H},table:function(S){var O=p.table(S),P=O.schema.primaryKey;return i(i({},O),{mutate:function(j){var L=Ge.trans;if(P.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return O.mutate(j);var H=So["idb://".concat(v,"/").concat(S)];return H?(L=O.mutate(j),j.type!=="add"&&j.type!=="put"||!(50<=j.values.length||cl(P,j).some(function(Q){return Q==null}))?(H.optimisticOps.push(j),j.mutatedParts&&ll(j.mutatedParts),L.then(function(Q){0<Q.numFailures&&(q(H.optimisticOps,j),(Q=Md(0,j,Q))&&H.optimisticOps.push(Q),j.mutatedParts&&ll(j.mutatedParts))}),L.catch(function(){q(H.optimisticOps,j),j.mutatedParts&&ll(j.mutatedParts)})):L.then(function(Q){var Z=Md(0,i(i({},j),{values:j.values.map(function(oe,K){var se;return Q.failures[K]?oe:(oe=(se=P.keyPath)!==null&&se!==void 0&&se.includes(".")?Oe(oe):i({},oe),A(oe,P.keyPath,Q.results[K]),oe)})}),Q);H.optimisticOps.push(Z),queueMicrotask(function(){return j.mutatedParts&&ll(j.mutatedParts)})}),L):O.mutate(j)},query:function(j){if(!Co(Ge,O)||!Od("query",j))return O.query(j);var L=((Z=Ge.trans)===null||Z===void 0?void 0:Z.db._options.cache)==="immutable",K=Ge,H=K.requery,Q=K.signal,Z=(function(ne,re,ae,fe){var ye=So["idb://".concat(ne,"/").concat(re)];if(!ye)return[];if(!(re=ye.queries[ae]))return[null,!1,ye,null];var Ee=re[(fe.query?fe.query.index.name:null)||""];if(!Ee)return[null,!1,ye,null];switch(ae){case"query":var Re=Ee.find(function(Be){return Be.req.limit===fe.limit&&Be.req.values===fe.values&&da(Be.req.query.range,fe.query.range)});return Re?[Re,!0,ye,Ee]:[Ee.find(function(Be){return("limit"in Be.req?Be.req.limit:1/0)>=fe.limit&&(!fe.values||Be.req.values)&&us(Be.req.query.range,fe.query.range)}),!1,ye,Ee];case"count":return Re=Ee.find(function(Be){return da(Be.req.query.range,fe.query.range)}),[Re,!!Re,ye,Ee]}})(v,S,"query",j),oe=Z[0],K=Z[1],se=Z[2],J=Z[3];return oe&&K?oe.obsSet=j.obsSet:(K=O.query(j).then(function(ne){var re=ne.result;if(oe&&(oe.res=re),L){for(var ae=0,fe=re.length;ae<fe;++ae)Object.freeze(re[ae]);Object.freeze(re)}else ne.result=Oe(re);return ne}).catch(function(ne){return J&&oe&&q(J,oe),Promise.reject(ne)}),oe={obsSet:j.obsSet,promise:K,subscribers:new Set,type:"query",req:j,dirty:!1},J?J.push(oe):(J=[oe],(se=se||(So["idb://".concat(v,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[j.query.index.name||""]=J)),gp(oe,J,H,Q),oe.promise.then(function(ne){return{result:Hu(ne.result,j,se?.optimisticOps,O,oe,L)}})}})}})}};function cs(p,v){return new Proxy(p,{get:function(S,O,P){return O==="db"?v:Reflect.get(S,O,P)}})}var hi=(dn.prototype.version=function(p){if(isNaN(p)||p<.1)throw new De.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var v=this._versions,S=v.filter(function(O){return O._cfg.version===p})[0];return S||(S=new this.Version(p),v.push(S),v.sort(Au),S.stores({}),this._state.autoSchema=!1,S)},dn.prototype._whenReady=function(p){var v=this;return this.idbdb&&(this._state.openComplete||Ge.letThrough||this._vip)?p():new $e(function(S,O){if(v._state.openComplete)return O(new De.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void O(new De.DatabaseClosed);v.open().catch(Ze)}v._state.dbReadyPromise.then(S,O)}).then(p)},dn.prototype.use=function(p){var v=p.stack,S=p.create,O=p.level,P=p.name;return P&&this.unuse({stack:v,name:P}),p=this._middlewares[v]||(this._middlewares[v]=[]),p.push({stack:v,create:S,level:O??10,name:P}),p.sort(function(j,L){return j.level-L.level}),this},dn.prototype.unuse=function(p){var v=p.stack,S=p.name,O=p.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(P){return O?P.create!==O:!!S&&P.name!==S})),this},dn.prototype.open=function(){var p=this;return Bt(At,function(){return hp(p)})},dn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var p=this._state,v=Xn.indexOf(this);if(0<=v&&Xn.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new $e(function(S){p.dbReadyResolve=S}),p.openCanceller=new $e(function(S,O){p.cancelOpen=O}))},dn.prototype.close=function(S){var v=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;v?(S.isBeingOpened&&S.cancelOpen(new De.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new De.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},dn.prototype.delete=function(p){var v=this;p===void 0&&(p={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new $e(function(P,j){function L(){v.close(p);var H=v._deps.indexedDB.deleteDatabase(v.name);H.onsuccess=$(function(){var Q,Z,oe;Q=v._deps,Z=v.name,oe=Q.indexedDB,Q=Q.IDBKeyRange,ol(oe)||Z===Wn||Iu(oe,Q).delete(Z).catch(Ze),P()}),H.onerror=Xr(j),H.onblocked=v._fireOnBlocked}if(S)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(L):L()})},dn.prototype.backendDB=function(){return this.idbdb},dn.prototype.isOpen=function(){return this.idbdb!==null},dn.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},dn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},dn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(dn.prototype,"tables",{get:function(){var p=this;return u(this._allTables).map(function(v){return p._allTables[v]})},enumerable:!1,configurable:!0}),dn.prototype.transaction=function(){var p=(function(v,S,O){var P=arguments.length;if(P<2)throw new De.InvalidArgument("Too few arguments");for(var j=new Array(P-1);--P;)j[P-1]=arguments[P];return O=j.pop(),[v,le(j),O]}).apply(this,arguments);return this._transaction.apply(this,p)},dn.prototype._transaction=function(p,v,S){var O=this,P=Ge.trans;P&&P.db===this&&p.indexOf("!")===-1||(P=null);var j,L,H=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(L=v.map(function(Z){if(Z=Z instanceof O.Table?Z.name:Z,typeof Z!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Z}),p=="r"||p===Sr)j=Sr;else{if(p!="rw"&&p!=fr)throw new De.InvalidArgument("Invalid transaction mode: "+p);j=fr}if(P){if(P.mode===Sr&&j===fr){if(!H)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&L.forEach(function(Z){if(P&&P.storeNames.indexOf(Z)===-1){if(!H)throw new De.SubTransaction("Table "+Z+" not included in parent transaction.");P=null}}),H&&P&&!P.active&&(P=null)}}catch(Z){return P?P._promise(null,function(oe,K){K(Z)}):at(Z)}var Q=(function Z(oe,K,se,J,ne){return $e.resolve().then(function(){var re=Ge.transless||Ge,ae=oe._createTransaction(K,se,oe._dbSchema,J);if(ae.explicit=!0,re={trans:ae,transless:re},J)ae.idbtrans=J.idbtrans;else try{ae.create(),ae.idbtrans._explicit=!0,oe._state.PR1398_maxLoop=3}catch(Ee){return Ee.name===nt.InvalidState&&oe.isOpen()&&0<--oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),oe.close({disableAutoOpen:!1}),oe.open().then(function(){return Z(oe,K,se,null,ne)})):at(Ee)}var fe,ye=U(ne);return ye&&Ke(),re=$e.follow(function(){var Ee;(fe=ne.call(ae,ae))&&(ye?(Ee=Qe.bind(null,null),fe.then(Ee,Ee)):typeof fe.next=="function"&&typeof fe.throw=="function"&&(fe=ls(fe)))},re),(fe&&typeof fe.then=="function"?$e.resolve(fe).then(function(Ee){return ae.active?Ee:at(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):re.then(function(){return fe})).then(function(Ee){return J&&ae._resolve(),ae._completion.then(function(){return Ee})}).catch(function(Ee){return ae._reject(Ee),at(Ee)})})}).bind(null,this,j,L,P,S);return P?P._promise(j,Q,"lock"):Ge.trans?Bt(Ge.transless,function(){return O._whenReady(Q)}):this._whenReady(Q)},dn.prototype.table=function(p){if(!y(this._allTables,p))throw new De.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},dn);function dn(p,v){var S=this;this._middlewares={},this.verno=0;var O=dn.dependencies;this._options=v=i({addons:dn.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},O=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,j,L,H,Q,Z={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ze,dbReadyPromise:null,cancelOpen:Ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};Z.dbReadyPromise=new $e(function(K){Z.dbReadyResolve=K}),Z.openCanceller=new $e(function(K,se){Z.cancelOpen=se}),this._state=Z,this.name=p,this.on=ts(this,"populate","blocked","versionchange","close",{ready:[qn,Ze]}),this.once=function(K,se){var J=function(){for(var ne=[],re=0;re<arguments.length;re++)ne[re]=arguments[re];S.on(K).unsubscribe(J),se.apply(S,ne)};return S.on(K,J)},this.on.ready.subscribe=I(this.on.ready.subscribe,function(K){return function(se,J){dn.vip(function(){var ne,re=S._state;re.openComplete?(re.dbOpenError||$e.resolve().then(se),J&&K(se)):re.onReadyBeingFired?(re.onReadyBeingFired.push(se),J&&K(se)):(K(se),ne=S,J||K(function ae(){ne.on.ready.unsubscribe(se),ne.on.ready.unsubscribe(ae)}))})}}),this.Collection=(P=this,Qn(cp.prototype,function(fe,ae){this.db=P;var J=Vi,ne=null;if(ae)try{J=ae()}catch(ye){ne=ye}var re=fe._ctx,ae=re.table,fe=ae.hook.reading.fire;this._ctx={table:ae,index:re.index,isPrimKey:!re.index||ae.schema.primKey.keyPath&&re.index===ae.schema.primKey.name,range:J,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ne,or:re.or,valueMapper:fe!==ht?fe:null}})),this.Table=(j=this,Qn(Mu.prototype,function(K,se,J){this.db=j,this._tx=J,this.name=K,this.schema=se,this.hook=j._allTables[K]?j._allTables[K].hook:ts(null,{creating:[mn,Ze],reading:[kt,ht],updating:[rr,Ze],deleting:[Rr,Ze]})})),this.Transaction=(L=this,Qn(Du.prototype,function(K,se,J,ne,re){var ae=this;K!=="readonly"&&se.forEach(function(fe){fe=(fe=J[fe])===null||fe===void 0?void 0:fe.yProps,fe&&(se=se.concat(fe.map(function(ye){return ye.updatesTable})))}),this.db=L,this.mode=K,this.storeNames=se,this.schema=J,this.chromeTransactionDurability=ne,this.idbtrans=null,this.on=ts(this,"complete","error","abort"),this.parent=re||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $e(function(fe,ye){ae._resolve=fe,ae._reject=ye}),this._completion.then(function(){ae.active=!1,ae.on.complete.fire()},function(fe){var ye=ae.active;return ae.active=!1,ae.on.error.fire(fe),ae.parent?ae.parent._reject(fe):ye&&ae.idbtrans&&ae.idbtrans.abort(),at(fe)})})),this.Version=(H=this,Qn(fp.prototype,function(K){this.db=H,this._cfg={version:K,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(Q=this,Qn(yo.prototype,function(K,se,J){if(this.db=Q,this._ctx={table:K,index:se===":id"?null:se,or:J},this._cmp=this._ascending=st,this._descending=function(ne,re){return st(re,ne)},this._max=function(ne,re){return 0<st(ne,re)?ne:re},this._min=function(ne,re){return st(ne,re)<0?ne:re},this._IDBKeyRange=Q._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(K){0<K.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(K){!K.newVersion||K.newVersion<K.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(K.oldVersion/10))}),this._maxKey=sa(v.IDBKeyRange),this._createTransaction=function(K,se,J,ne){return new S.Transaction(K,se,J,S._options.chromeTransactionDurability,ne)},this._fireOnBlocked=function(K){S.on("blocked").fire(K),Xn.filter(function(se){return se.name===S.name&&se!==S&&!se._state.vcFired}).map(function(se){return se.on("versionchange").fire(K)})},this.use(Ed),this.use(fl),this.use(mp),this.use(pp),this.use(_d);var oe=new Proxy(this,{get:function(K,se,J){if(se==="_vip")return!0;if(se==="table")return function(re){return cs(S.table(re),oe)};var ne=Reflect.get(K,se,J);return ne instanceof Mu?cs(ne,oe):se==="tables"?ne.map(function(re){return cs(re,oe)}):se==="_createTransaction"?function(){return cs(ne.apply(this,arguments),oe)}:ne}});this.vip=oe,O.forEach(function(K){return K(S)})}var fa,_r=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Td=(hl.prototype.subscribe=function(p,v,S){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:v,complete:S})},hl.prototype[_r]=function(){return this},hl);function hl(p){this._subscribe=p}try{fa={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{fa={indexedDB:null,IDBKeyRange:null}}function Rd(p){var v,S=!1,O=new Td(function(P){var j=U(p),L,H=!1,Q={},Z={},oe={get closed(){return H},unsubscribe:function(){H||(H=!0,L&&L.abort(),K&&Zn.storagemutated.unsubscribe(J))}};P.start&&P.start(oe);var K=!1,se=function(){return an(ne)},J=function(re){sl(Q,re),ku(Z,Q)&&se()},ne=function(){var re,ae,fe;!H&&fa.indexedDB&&(Q={},re={},L&&L.abort(),L=new AbortController,fe=(function(ye){var Ee=xr();try{j&&Ke();var Re=He(p,ye);return Re=j?Re.finally(Qe):Re}finally{Ee&&wr()}})(ae={subscr:re,signal:L.signal,requery:se,querier:p,trans:null}),Promise.resolve(fe).then(function(ye){S=!0,v=ye,H||ae.signal.aborted||(Q={},(function(Ee){for(var Re in Ee)if(y(Ee,Re))return;return 1})(Z=re)||K||(Zn(oa,J),K=!0),an(function(){return!H&&P.next&&P.next(ye)}))},function(ye){S=!1,["DatabaseClosedError","AbortError"].includes(ye?.name)||H||an(function(){H||P.error&&P.error(ye)})}))};return setTimeout(se,0),oe});return O.hasValue=function(){return S},O.getValue=function(){return v},O}var _o=hi;function qu(p){var v=Wi;try{Wi=!0,Zn.storagemutated.fire(p),Uu(p,!0)}finally{Wi=v}}x(_o,i(i({},ln),{delete:function(p){return new _o(p,{addons:[]}).delete()},exists:function(p){return new _o(p,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return v=_o.dependencies,S=v.indexedDB,v=v.IDBKeyRange,(ol(S)?Promise.resolve(S.databases()).then(function(O){return O.map(function(P){return P.name}).filter(function(P){return P!==Wn})}):Iu(S,v).toCollection().primaryKeys()).then(p)}catch{return at(new De.MissingAPI)}var v,S},defineClass:function(){return function(p){f(this,p)}},ignoreTransaction:function(p){return Ge.trans?Bt(Ge.transless,p):p()},vip:ju,async:function(p){return function(){try{var v=ls(p.apply(this,arguments));return v&&typeof v.then=="function"?v:$e.resolve(v)}catch(S){return at(S)}}},spawn:function(p,v,S){try{var O=ls(p.apply(S,v||[]));return O&&typeof O.then=="function"?O:$e.resolve(O)}catch(P){return at(P)}},currentTransaction:{get:function(){return Ge.trans||null}},waitFor:function(p,v){return v=$e.resolve(typeof p=="function"?_o.ignoreTransaction(p):p).timeout(v||6e4),Ge.trans?Ge.trans.waitFor(v):v},Promise:$e,debug:{get:function(){return gn},set:function(p){xn(p)}},derive:E,extend:f,props:x,override:I,Events:ts,on:Zn,liveQuery:Rd,extendObservabilitySet:sl,getByKeyPath:V,setByKeyPath:A,delByKeyPath:function(p,v){typeof v=="string"?A(p,v,void 0):"length"in v&&[].map.call(v,function(S){A(p,S,void 0)})},shallowClone:G,deepClone:Oe,getObjectDiff:ul,cmp:st,asap:k,minKey:-1/0,addons:[],connections:Xn,errnames:nt,dependencies:fa,cache:So,semVer:"4.2.1",version:"4.2.1".split(".").map(function(p){return parseInt(p)}).reduce(function(p,v,S){return p+v/Math.pow(10,2*S)})})),_o.maxKey=sa(_o.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Zn(oa,function(p){Wi||(p=new CustomEvent(bo,{detail:p}),Wi=!0,dispatchEvent(p),Wi=!1)}),addEventListener(bo,function(p){p=p.detail,Wi||qu(p)}));var ha,Wi=!1,pr=function(){};return typeof BroadcastChannel<"u"&&((pr=function(){(ha=new BroadcastChannel(bo)).onmessage=function(p){return p.data&&qu(p.data)}})(),typeof ha.unref=="function"&&ha.unref(),Zn(oa,function(p){Wi||ha.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!hi.disableBfCache&&p.persisted){gn&&console.debug("Dexie: handling persisted pagehide"),ha?.close();for(var v=0,S=Xn;v<S.length;v++)S[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!hi.disableBfCache&&p.persisted&&(gn&&console.debug("Dexie: handling persisted pageshow"),pr(),qu({all:new Jn(-1/0,[[]])}))})),$e.rejectionMapper=function(p,v){return!p||p instanceof Ce||p instanceof TypeError||p instanceof SyntaxError||!p.name||!Zt[p.name]?p:(v=new Zt[p.name](v||p.message,p),"stack"in p&&_(v,"stack",{get:function(){return this.inner.stack}}),v)},xn(gn),i(hi,Object.freeze({__proto__:null,Dexie:hi,liveQuery:Rd,Entity:Mt,cmp:st,PropModification:Kr,replacePrefix:function(p,v){return new Kr({replacePrefix:[p,v]})},add:function(p){return new Kr({add:p})},remove:function(p){return new Kr({remove:p})},default:hi,RangeSet:Jn,mergeRanges:wo,rangesOverlap:wd}),{default:hi}),hi})})(nh)),nh.exports}var Oj=Ej();const ly=wh(Oj),LS=Symbol.for("Dexie"),su=globalThis[LS]||(globalThis[LS]=ly);if(ly.semVer!==su.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${ly.semVer} and ${su.semVer}`);const{liveQuery:DL,mergeRanges:AL,rangesOverlap:NL,RangeSet:IL,cmp:jL,Entity:zL,PropModification:FL,replacePrefix:kL,add:LL,remove:BL,DexieYProvider:UL}=su;class Mj extends su{population_point;tour;parish;block;building;plate;recognition_code_info;syncState;lookups;sync_queue;constructor(){super("DehyarDB"),this.version(5).stores({population_point:"id, population_point_id",tour:"id, population_point_id",parish:"id, population_point_id",block:"id, population_point_id",building:"id, population_point_id",plate:"id, building_id, population_point_id",recognition_code_info:"id, plate_id, building_id",syncState:"layerName",lookups:"[tableName+id], tableName",sync_queue:"++id, [entityType+entityId]"})}}const Sn=new Mj,Tj={population_point:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",population_point_type_id:"number",rural_id:"number",name:"string",en_name:"string",code:"number",opt_approval:"boolean",part_id:"number",rural_name_full:"string",rural_id_full:"number",is_rural:"boolean"},tour:{province_id:"number",tour_type:"string",is_active:"boolean",name:"string",en_name:"string",code:"number",area:"number"},parish:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",parish_type:"string",name:"string",en_name:"string",code:"number",opt_approval:"boolean"},block:{province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",name:"string",en_name:"string",code:"number",area:"number",opt_approval:"boolean",parish_id:"number"},building:{building_type_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",block_id:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",gnaf_code:"string",building_name:"string",modernization_code:"string",building_number:"number",floor_count:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",parish_id:"number",is_negative:"boolean",dundas_map_id:"number"},plate:{address_id:"number",building_id:"number",plate_no:"number",old_plate_no:"number",opt_approval:"boolean",task_id:"number",plate_name:"string"},recognition_code_info:{unit_identifier:"number",unit_status_id:"number",plate_id:"number",building_id:"number",poi_type_id:"number",act_type_id1:"number",act_type_id2:"number",act_type_id3:"number",plat:"string",floor_no:"number",unit_no:"string",height:"number",part_row_no:"number",entrance:"string",grid_code:"string",first_name:"string",last_name:"string",workshop_name:"string",action_name:"string",plate_description:"string",postalcode:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",description:"string"}},Rj=async(e,t,r)=>ks(`/editor/tables/${e}/rows/${t}`,{method:"PATCH",body:JSON.stringify({data:r})}),Pj=async(e,t,r)=>{const i=Tj[e]||{},a={};Object.entries(r).forEach(([d,f])=>{if(f===""||f===null||f===void 0){a[d]=null;return}switch(i[d]){case"number":a[d]=Number(f);break;case"boolean":a[d]=f===!0||f==="true";break;case"string":a[d]=String(f);break;default:a[d]=f}});const s=await Rj(e,t,a);if(!s.ok)throw new Error(`Failed to update ${e} (Status: ${s.status})`);return(await s.json()).data};function Dj(e){let t=e,r=!1;const i=new Set;return{getState(){return t},updateState(a){t=typeof a=="function"?a(t):a},setState(a){this.updateState(a),i.forEach(s=>s(t))},initialize(a){r||(t=a,r=!0)},subscribe(a){return i.add(a),()=>i.delete(a)}}}function Aj(e){return C.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function Nj(e,t,r){const i=[],a=[],s={};for(const u of e){const d=u.position||t;s[d]=s[d]||0,s[d]+=1,s[d]<=r?a.push(u):i.push(u)}return{notifications:a,queue:i}}const Ij=()=>Dj({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Vs=Ij(),jj=(e=Vs)=>Aj(e);function Eu(e,t){const r=e.getState(),i=t([...r.notifications,...r.queue]),a=Nj(i,r.defaultPosition,r.limit);e.setState({notifications:a.notifications,queue:a.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function zj(e,t=Vs){const r=e.id||Q1();return Eu(t,i=>e.id&&i.some(a=>a.id===e.id)?i:[...i,{...e,id:r}]),r}function RE(e,t=Vs){return Eu(t,r=>r.filter(i=>i.id===e?(i.onClose?.(i),!1):!0)),e}function Fj(e,t=Vs){return Eu(t,r=>r.map(i=>i.id===e.id?{...i,...e}:i)),e.id}function kj(e=Vs){Eu(e,()=>[])}function Lj(e=Vs){Eu(e,t=>t.slice(0,e.getState().limit))}const Yo={show:zj,hide:RE,update:Fj,clean:kj,cleanQueue:Lj,updateState:Eu};function uy(e,t){return uy=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uy(e,t)}function PE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,uy(e,t)}const BS={disabled:!1},ph=Kn.createContext(null);var Bj=function(t){return t.scrollTop},Fc="unmounted",Os="exited",Ms="entering",Kl="entered",cy="exiting",ea=(function(e){PE(t,e);function t(i,a){var s;s=e.call(this,i,a)||this;var u=a,d=u&&!u.isMounting?i.enter:i.appear,f;return s.appearStatus=null,i.in?d?(f=Os,s.appearStatus=Ms):f=Kl:i.unmountOnExit||i.mountOnEnter?f=Fc:f=Os,s.state={status:f},s.nextCallback=null,s}t.getDerivedStateFromProps=function(a,s){var u=a.in;return u&&s.status===Fc?{status:Os}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var s=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Ms&&u!==Kl&&(s=Ms):(u===Ms||u===Kl)&&(s=cy)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,s,u,d;return s=u=d=a,a!=null&&typeof a!="number"&&(s=a.exit,u=a.enter,d=a.appear!==void 0?a.appear:u),{exit:s,enter:u,appear:d}},r.updateStatus=function(a,s){if(a===void 0&&(a=!1),s!==null)if(this.cancelNextCallback(),s===Ms){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Ic.findDOMNode(this);u&&Bj(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Os&&this.setState({status:Fc})},r.performEnter=function(a){var s=this,u=this.props.enter,d=this.context?this.context.isMounting:a,f=this.props.nodeRef?[d]:[Ic.findDOMNode(this),d],h=f[0],g=f[1],y=this.getTimeouts(),x=d?y.appear:y.enter;if(!a&&!u||BS.disabled){this.safeSetState({status:Kl},function(){s.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Ms},function(){s.props.onEntering(h,g),s.onTransitionEnd(x,function(){s.safeSetState({status:Kl},function(){s.props.onEntered(h,g)})})})},r.performExit=function(){var a=this,s=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:Ic.findDOMNode(this);if(!s||BS.disabled){this.safeSetState({status:Os},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:cy},function(){a.props.onExiting(d),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:Os},function(){a.props.onExited(d)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,s){s=this.setNextCallback(s),this.setState(a,s)},r.setNextCallback=function(a){var s=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,s.nextCallback=null,a(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(a,s){this.setNextCallback(s);var u=this.props.nodeRef?this.props.nodeRef.current:Ic.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===Fc)return null;var s=this.props,u=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var d=G_(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Kn.createElement(ph.Provider,{value:null},typeof u=="function"?u(a,d):Kn.cloneElement(Kn.Children.only(u),d))},t})(Kn.Component);ea.contextType=ph;ea.propTypes={};function Hl(){}ea.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hl,onEntering:Hl,onEntered:Hl,onExit:Hl,onExiting:Hl,onExited:Hl};ea.UNMOUNTED=Fc;ea.EXITED=Os;ea.ENTERING=Ms;ea.ENTERED=Kl;ea.EXITING=cy;function Uj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kv(e,t){var r=function(s){return t&&C.isValidElement(s)?t(s):s},i=Object.create(null);return e&&C.Children.map(e,function(a){return a}).forEach(function(a){i[a.key]=r(a)}),i}function $j(e,t){e=e||{},t=t||{};function r(g){return g in t?t[g]:e[g]}var i=Object.create(null),a=[];for(var s in e)s in t?a.length&&(i[s]=a,a=[]):a.push(s);var u,d={};for(var f in t){if(i[f])for(u=0;u<i[f].length;u++){var h=i[f][u];d[i[f][u]]=r(h)}d[f]=r(f)}for(u=0;u<a.length;u++)d[a[u]]=r(a[u]);return d}function Ds(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Hj(e,t){return Kv(e.children,function(r){return C.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ds(r,"appear",e),enter:Ds(r,"enter",e),exit:Ds(r,"exit",e)})})}function qj(e,t,r){var i=Kv(e.children),a=$j(t,i);return Object.keys(a).forEach(function(s){var u=a[s];if(C.isValidElement(u)){var d=s in t,f=s in i,h=t[s],g=C.isValidElement(h)&&!h.props.in;f&&(!d||g)?a[s]=C.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:Ds(u,"exit",e),enter:Ds(u,"enter",e)}):!f&&d&&!g?a[s]=C.cloneElement(u,{in:!1}):f&&d&&C.isValidElement(h)&&(a[s]=C.cloneElement(u,{onExited:r.bind(null,u),in:h.props.in,exit:Ds(u,"exit",e),enter:Ds(u,"enter",e)}))}}),a}var Gj=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Vj={component:"div",childFactory:function(t){return t}},ka=(function(e){PE(t,e);function t(i,a){var s;s=e.call(this,i,a)||this;var u=s.handleExited.bind(Uj(s));return s.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,s){var u=s.children,d=s.handleExited,f=s.firstRender;return{children:f?Hj(a,d):qj(a,u,d),firstRender:!1}},r.handleExited=function(a,s){var u=Kv(this.props.children);a.key in u||(a.props.onExited&&a.props.onExited(s),this.mounted&&this.setState(function(d){var f=ny({},d.children);return delete f[a.key],{children:f}}))},r.render=function(){var a=this.props,s=a.component,u=a.childFactory,d=G_(a,["component","childFactory"]),f=this.state.contextValue,h=Gj(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,s===null?Kn.createElement(ph.Provider,{value:f},h):Kn.createElement(ph.Provider,{value:f},Kn.createElement(s,d,h))},t})(Kn.Component);ka.propTypes={};ka.defaultProps=Vj;const DE=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function Yj(e,t){return e.reduce((r,i)=>(r[i.position||t].push(i),r),DE.reduce((r,i)=>(r[i]=[],r),{}))}const US={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Kj={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function Xj({state:e,maxHeight:t,position:r,transitionDuration:i}){const[a,s]=r.split("-"),u=s==="center"?`${a}-center`:s,d={opacity:0,maxHeight:t,transform:US[u],transitionDuration:`${i}ms, ${i}ms, ${i}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},f={opacity:1,transform:Kj[u]},h={opacity:0,maxHeight:0,transform:US[u]};return{...d,...{entering:f,entered:f,exiting:h,exited:h}[e]}}function Wj(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const AE=C.forwardRef(({data:e,onHide:t,autoClose:r,...i},a)=>{const{autoClose:s,message:u,...d}=e,f=Wj(r,e.autoClose),h=C.useRef(-1),g=()=>window.clearTimeout(h.current),y=()=>{t(e.id),g()},x=()=>{typeof f=="number"&&(h.current=window.setTimeout(y,f))};return C.useEffect(()=>{e.onOpen?.(e)},[]),C.useEffect(()=>(x(),g),[f]),R.jsx(Iv,{...i,...d,onClose:y,ref:a,onMouseEnter:g,onMouseLeave:x,children:u})});AE.displayName="@mantine/notifications/NotificationContainer";var NE={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const Qj=ea,Zj={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Hi("overlay"),store:Vs,withinPortal:!0},Jj=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":_e(r)}}),ta=Je((e,t)=>{const r=Le("Notifications",Zj,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,position:h,autoClose:g,transitionDuration:y,containerWidth:x,notificationMaxHeight:w,limit:_,zIndex:E,store:T,portalProps:N,withinPortal:D,...I}=r,F=li(),k=jj(T),V=BT(),A=_h(),G=C.useRef({}),W=C.useRef(0),he=(F.respectReducedMotion?A:!1)?1:y,de=gt({name:"Notifications",classes:NE,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,vars:f,varsResolver:Jj});C.useEffect(()=>{T?.updateState(xe=>({...xe,limit:_||5,defaultPosition:h}))},[_,h]),zs(()=>{k.notifications.length>W.current&&setTimeout(()=>V(),0),W.current=k.notifications.length},[k.notifications]);const Oe=Yj(k.notifications,h),ce=DE.reduce((xe,B)=>(xe[B]=Oe[B].map(({style:X,...q})=>R.jsx(Qj,{timeout:he,onEnter:()=>G.current[q.id].offsetHeight,nodeRef:{current:G.current[q.id]},children:ge=>R.jsx(AE,{ref:Se=>{Se&&(G.current[q.id]=Se)},data:q,onHide:Se=>RE(Se,T),autoClose:g,...de("notification",{style:{...Xj({state:ge,position:B,transitionDuration:he,maxHeight:w}),...X}})})},q.id)),xe),{});return R.jsxs(Va,{withinPortal:D,...N,children:[R.jsx(Fe,{...de("root"),"data-position":"top-center",ref:t,...I,children:R.jsx(ka,{children:ce["top-center"]})}),R.jsx(Fe,{...de("root"),"data-position":"top-left",...I,children:R.jsx(ka,{children:ce["top-left"]})}),R.jsx(Fe,{...de("root",{className:js.classNames.fullWidth}),"data-position":"top-right",...I,children:R.jsx(ka,{children:ce["top-right"]})}),R.jsx(Fe,{...de("root",{className:js.classNames.fullWidth}),"data-position":"bottom-right",...I,children:R.jsx(ka,{children:ce["bottom-right"]})}),R.jsx(Fe,{...de("root"),"data-position":"bottom-left",...I,children:R.jsx(ka,{children:ce["bottom-left"]})}),R.jsx(Fe,{...de("root"),"data-position":"bottom-center",...I,children:R.jsx(ka,{children:ce["bottom-center"]})})]})});ta.classes=NE;ta.displayName="@mantine/notifications/Notifications";ta.show=Yo.show;ta.hide=Yo.hide;ta.update=Yo.update;ta.clean=Yo.clean;ta.cleanQueue=Yo.cleanQueue;ta.updateState=Yo.updateState;function ez(e=5e3){const{isOffline:t}=Za(),r=C.useRef(!1);C.useEffect(()=>{if(t)return;const i=async()=>{if(!r.current){r.current=!0;try{const s=await Sn.sync_queue.toArray();if(s.length===0){r.current=!1;return}for(const u of s)try{const d=await Pj(u.entityType,u.entityId,u.payload),f=Sn[u.entityType];if(!d||!f||!u.id){console.warn(`Skipping sync for item ${u.id} due to missing data or table.`);continue}await f.update(Number(u.entityId),d),await Sn.sync_queue.delete(u.id),Yo.show({title:" ",message:` ${u.entityType}    .`,color:"green",id:"sync-success"})}catch(d){console.error(`Failed to sync queue item ${u.id} for ${u.entityType}:`,d)}}catch(s){console.error("Critical error processing the sync queue:",s)}finally{r.current=!1}}},a=setInterval(i,e);return i(),()=>clearInterval(a)},[t,e])}function tz(){return ez(),R.jsx(CE,{})}const nz="data:image/svg+xml,%3csvg%20width='43'%20height='43'%20viewBox='0%200%2043%2043'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5332%2017.6109L39.9674%203.49107C39.9674%203.49107%2040.765%2023.4159%2024.14%2029.562L23.985%2029.6193'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3cpath%20d='M30.47%2031.8639L35.8795%2040.7858H23.1966C23.1966%2040.7858%2018.6108%2041.6981%2013.7995%2034.5983C8.98814%2027.4985%202.63867%2016.2263%202.63867%2016.2263C2.63867%2016.2263%209.34769%209.93937%2014.3737%2018.3597C19.3997%2026.78%2020.3351%2032.5465%2026.5371%2028.7108'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3c/svg%3e";function rz(){const[e,t]=C.useState(""),[r,i]=C.useState(""),[a,s]=C.useState(!1),[u,d]=C.useState(null),{login:f}=Za(),h=pd(),g=li(),y=async x=>{x.preventDefault(),s(!0),d(null);try{const w=await xh.login(e,r);f(w),h("/")}catch(w){console.error("Login failed",w),d("      ")}finally{s(!1)}};return R.jsx(ou,{style:{height:"100vh"},children:R.jsx(Fe,{p:30,style:{width:400},children:R.jsxs($i,{gap:"lg",children:[R.jsx(ou,{children:R.jsx(Av,{src:nz,alt:"Logo",w:38,h:38})}),R.jsx(ep,{order:2,ta:"center",c:g.primaryColor,children:""}),R.jsx(qo,{ta:"center",c:"dimmed",children:"      :"}),R.jsx("form",{onSubmit:y,children:R.jsxs($i,{children:[R.jsx(au,{label:" ",value:e,onChange:x=>t(x.target.value),required:!0}),R.jsx(jv,{label:" ",value:r,onChange:x=>i(x.target.value),required:!0}),u&&R.jsx(qo,{c:"red",size:"sm",ta:"center",children:u}),R.jsx(ii,{type:"submit",fullWidth:!0,mt:"xl",loading:a,children:""})]})})]})})})}var iz={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const ho=(e,t,r,i)=>{const a=C.forwardRef(({color:s="currentColor",size:u=24,stroke:d=2,title:f,className:h,children:g,...y},x)=>C.createElement("svg",{ref:x,...iz[e],width:u,height:u,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:d,stroke:s,...y},[f&&C.createElement("title",{key:"svg-title"},f),...i.map(([w,_])=>C.createElement(w,_)),...Array.isArray(g)?g:[g]]));return a.displayName=`${r}`,a};const oz=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],az=ho("outline","alert-circle","AlertCircle",oz);const sz=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],lz=ho("outline","arrow-right","ArrowRight",sz);const uz=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],cz=ho("outline","check","Check",uz);const dz=[["path",{d:"M11 18.004h-4.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.388 0 2.585 .82 3.138 2.007",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],fz=ho("outline","cloud-check","CloudCheck",dz);const hz=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],pz=ho("outline","info-circle","InfoCircle",hz);const mz=[["path",{d:"M8 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 16v2a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-8a2 2 0 0 1 2 -2h2",key:"svg-1"}]],gz=ho("outline","layers-subtract","LayersSubtract",mz);const yz=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],vz=ho("outline","menu-2","Menu2",yz);const bz=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],xz=ho("outline","wifi-off","WifiOff",bz);const wz=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a8 8 0 0 1 11.314 0",key:"svg-2"}],["path",{d:"M3.515 9.515c4.686 -4.687 12.284 -4.687 17 0",key:"svg-3"}]],$S=ho("outline","wifi","Wifi",wz);const Sz=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],IE=ho("outline","x","X",Sz);function Ya(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}function HS(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Ya({type:"LineString",coordinates:e},t,r)}function jE(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Cz(e,t,r={}){return Ya({type:"GeometryCollection",geometries:e},t,r)}function _z(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Hc(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function qS(e){return e.type==="Feature"?e.geometry:e}function Ez(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function zE(e,t,r){if(e!==null)for(var i,a,s,u,d,f,h,g=0,y=0,x,w=e.type,_=w==="FeatureCollection",E=w==="Feature",T=_?e.features.length:1,N=0;N<T;N++){h=_?e.features[N].geometry:E?e.geometry:e,x=h?h.type==="GeometryCollection":!1,d=x?h.geometries.length:1;for(var D=0;D<d;D++){var I=0,F=0;if(u=x?h.geometries[D]:h,u!==null){f=u.coordinates;var k=u.type;switch(g=0,k){case null:break;case"Point":if(t(f,y,N,I,F)===!1)return!1;y++,I++;break;case"LineString":case"MultiPoint":for(i=0;i<f.length;i++){if(t(f[i],y,N,I,F)===!1)return!1;y++,k==="MultiPoint"&&I++}k==="LineString"&&I++;break;case"Polygon":case"MultiLineString":for(i=0;i<f.length;i++){for(a=0;a<f[i].length-g;a++){if(t(f[i][a],y,N,I,F)===!1)return!1;y++}k==="MultiLineString"&&I++,k==="Polygon"&&F++}k==="Polygon"&&I++;break;case"MultiPolygon":for(i=0;i<f.length;i++){for(F=0,a=0;a<f[i].length;a++){for(s=0;s<f[i][a].length-g;s++){if(t(f[i][a][s],y,N,I,F)===!1)return!1;y++}F++}I++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)if(zE(u.geometries[i],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Oz(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function Mz(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return zE(e,i=>{r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}var Tz=Mz;function GS(e,t,r={}){const i=_z(e),a=Hc(t);for(let s=0;s<a.length-1;s++){let u=!1;if(r.ignoreEndVertices&&(s===0&&(u="start"),s===a.length-2&&(u="end"),s===0&&s+1===a.length-1&&(u="both")),Rz(a[s],a[s+1],i,u,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}function Rz(e,t,r,i,a){const s=r[0],u=r[1],d=e[0],f=e[1],h=t[0],g=t[1],y=r[0]-d,x=r[1]-f,w=h-d,_=g-f,E=y*_-x*w;if(a!==null){if(Math.abs(E)>a)return!1}else if(E!==0)return!1;if(Math.abs(w)===Math.abs(_)&&Math.abs(w)===0)return i?!1:r[0]===e[0]&&r[1]===e[1];if(i){if(i==="start")return Math.abs(w)>=Math.abs(_)?w>0?d<s&&s<=h:h<=s&&s<d:_>0?f<u&&u<=g:g<=u&&u<f;if(i==="end")return Math.abs(w)>=Math.abs(_)?w>0?d<=s&&s<h:h<s&&s<=d:_>0?f<=u&&u<g:g<u&&u<=f;if(i==="both")return Math.abs(w)>=Math.abs(_)?w>0?d<s&&s<h:h<s&&s<d:_>0?f<u&&u<g:g<u&&u<f}else return Math.abs(w)>=Math.abs(_)?w>0?d<=s&&s<=h:h<=s&&s<=d:_>0?f<=u&&u<=g:g<=u&&u<=f;return!1}var Pz=Object.defineProperty,Ou=(e,t)=>Pz(e,"name",{value:t,configurable:!0}),FE=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,a;this.precision=10**-((r=t?.precision)!=null?r:17),this.direction=(i=t?.direction)!=null?i:!1,this.compareProperties=(a=t?.compareProperties)!=null?a:!0}compare(t,r){if(t.type!==r.type||!kc(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=dy(t),a=dy(r);return i.every(s=>a.some(u=>this.compare(s,u)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,a)=>Math.abs(i-r[a])<this.precision)}compareLine(t,r,i=0,a=!1){if(!kc(t,r))return!1;const s=t;let u=r;if(a&&!this.compareCoord(s[0],u[0])){const f=this.fixStartIndex(u,s);if(f)u=f;else return!1}const d=this.compareCoord(s[i],u[i]);return this.direction||d?this.comparePath(s,u):this.compareCoord(s[i],u[u.length-(1+i)])?this.comparePath(s.slice().reverse(),u):!1}fixStartIndex(t,r){let i,a=-1;for(let s=0;s<t.length;s++)if(this.compareCoord(t[s],r[0])){a=s;break}return a>=0&&(i=[].concat(t.slice(a,t.length),t.slice(1,a+1))),i}comparePath(t,r){return t.every((i,a)=>this.compareCoord(i,r[a]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),a=r.coordinates.slice(1,r.coordinates.length);return i.every(s=>a.some(u=>this.compareLine(s,u,1,!0)))}return!1}compareGeometryCollection(t,r){return kc(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,a)=>this.compare(i,r.geometries[a]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?Xv(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return kc(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,a)=>this.compare(i,r.features[a]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};Ou(FE,"GeojsonEquality");var Dz=FE;function kc(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}Ou(kc,"sameLength");function dy(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}Ou(dy,"explode");function kE(e,t,r){return new Dz(r).compare(e,t)}Ou(kE,"geojsonEquality");function Xv(e,t){if(e===null&&t===null)return!0;if(e===null||t===null)return!1;const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a of r){const s=e[a],u=t[a],d=VS(s)&&VS(u);if(d&&!Xv(s,u)||!d&&s!==u)return!1}return!0}Ou(Xv,"equal");var VS=Ou(e=>e!=null&&typeof e=="object","isObject");function YS(e,t={}){var r=typeof t=="object"?t.mutate:t;if(!e)throw new Error("geojson is required");var i=Ez(e),a=[];switch(i){case"LineString":a=Ag(e,i);break;case"MultiLineString":case"Polygon":Hc(e).forEach(function(u){a.push(Ag(u,i))});break;case"MultiPolygon":Hc(e).forEach(function(u){var d=[];u.forEach(function(f){d.push(Ag(f,i))}),a.push(d)});break;case"Point":return e;case"MultiPoint":var s={};Hc(e).forEach(function(u){var d=u.join("-");Object.prototype.hasOwnProperty.call(s,d)||(a.push(u),s[d]=!0)});break;default:throw new Error(i+" geometry not supported")}return e.coordinates?r===!0?(e.coordinates=a,e):{type:i,coordinates:a}:r===!0?(e.geometry.coordinates=a,e):Ya({type:i,coordinates:a},e.properties,{bbox:e.bbox,id:e.id})}function Ag(e,t){const r=Hc(e);if(r.length===2&&!KS(r[0],r[1]))return r;const i=[];let a=0,s=1,u=2;for(i.push(r[a]);u<r.length;)GS(r[s],HS([r[a],r[u]]))?s=u:(i.push(r[s]),a=s,s++,u=s),u++;if(i.push(r[s]),t==="Polygon"||t==="MultiPolygon"){if(GS(i[0],HS([i[1],i[i.length-2]]))&&(i.shift(),i.pop(),i.push(i[0])),i.length<4)throw new Error("invalid polygon, fewer than 4 points");if(!KS(i[0],i[i.length-1]))throw new Error("invalid polygon, first and last points not equal")}return i}function KS(e,t){return e[0]===t[0]&&e[1]===t[1]}function Az(e,t,r={}){let i=r.precision;if(i=i==null||isNaN(i)?6:i,typeof i!="number"||!(i>=0))throw new Error("precision must be a positive number");const a=qS(e).type,s=qS(t).type;return a!==s?!1:kE(YS(e),YS(t),{precision:i})}function Nz(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Oz(e,r=>{var i;switch((i=r.geometry)==null?void 0:i.type){case"Point":t.MultiPoint.coordinates.push(r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"MultiPoint":t.MultiPoint.coordinates.push(...r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"LineString":t.MultiLineString.coordinates.push(r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"MultiLineString":t.MultiLineString.coordinates.push(...r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break;case"MultiPolygon":t.MultiPolygon.coordinates.push(...r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break}}),jE(Object.keys(t).filter(function(r){return t[r].coordinates.length}).sort().map(function(r){var i={type:r,coordinates:t[r].coordinates},a={collectedProperties:t[r].properties};return Ya(i,a)}))}const Iz=async(e,t,r)=>{const{title:i,...a}=r,u=await ks("/task-manager/tasks",{method:"POST",body:JSON.stringify({title:i,task_type_id:13,action_area:{population_point:{id:e}},unique_features:a,assignee1:t})});if(!u.ok)throw new Error(`Failed to create task (Status: ${u.status})`);return u.json()},jz=async()=>{const e=await ks("/task-manager/tasks?$top=9999&$filter=task_type_id eq 13");if(!e.ok)throw new Error(`Failed to fetch tasks (Status: ${e.status})`);return(await e.json()).value};function zz(e,t,r){var i,a;typeof e=="function"?(i=t||[],a=r):(i=[],a=t);var s=Kn.useRef({hasResult:!1,result:a,error:null}),u=Kn.useReducer(function(h){return h+1},0);u[0];var d=u[1],f=Kn.useMemo(function(){var h=typeof e=="function"?e():e;if(!h||typeof h.subscribe!="function")throw e===h?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof h.hasValue!="function"||h.hasValue()))if(typeof h.getValue=="function")s.current.result=h.getValue(),s.current.hasResult=!0;else{var g=h.subscribe(function(y){s.current.result=y,s.current.hasResult=!0});typeof g=="function"?g():g.unsubscribe()}return h},i);if(Kn.useDebugValue(s.current.result),Kn.useEffect(function(){var h=f.subscribe(function(g){var y=s.current;(y.error!==null||y.result!==g)&&(y.error=null,y.result=g,y.hasResult=!0,d())},function(g){var y=s.current;y.error!==g&&(y.error=g,d())});return typeof h=="function"?h:h.unsubscribe.bind(h)},i),s.current.error)throw s.current.error;return s.current.result}function Ql(e,t,r){return zz(function(){return su.liveQuery(e)},t||[],r)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=su.DexieYProvider;t&&t.release(e)});const Bf={building:[{fieldKey:"building_name",inputType:"text"},{fieldKey:"floor_count",inputType:"text"},{fieldKey:"building_type_id",inputType:"select",lookupTable:"building_type",lookupLabel:"name",lookupValue:"id"}],recognition_code_info:[{fieldKey:"part_row_no",inputType:"text"},{fieldKey:"floor_no",inputType:"text"},{fieldKey:"unit_no",inputType:"text"},{fieldKey:"description",inputType:"text"},{fieldKey:"first_name",inputType:"text"},{fieldKey:"last_name",inputType:"text"},{fieldKey:"workshop_name",inputType:"text"},{fieldKey:"unit_status_id",inputType:"select",lookupTable:"unit_status",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id1",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id2",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id3",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"}],plate:[{fieldKey:"plate_no",inputType:"text"}],parish:[{fieldKey:"name",inputType:"text"}],population_point:[{fieldKey:"population_point_type_id",inputType:"select",lookupTable:"population_point_type",lookupLabel:"name",lookupValue:"id"}]},Uf=(e,t)=>{let r=`?$filter=population_point_id eq ${e} and geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},na=[{id:"population_point",label:" ",endpoint:"/editor/tables/population_point/rows",tableName:"population_point",zIndex:10,getQuery:(e,t)=>{let r=`?$filter=id eq ${e}`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},styles:[{type:"fill",paint:{"fill-color":"#3C79F5","fill-opacity":.15}},{type:"line",paint:{"line-color":"#3C79F5","line-width":3}},{type:"symbol",layout:{"text-field":["format","  ",{},["get","name"],{}],"text-size":14,"text-anchor":"center","text-font":["IranSans-Noto"]},paint:{"text-color":"#3C79F5","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"tour",label:"",endpoint:"/editor/tables/block/rows",tableName:"tour",zIndex:20,getQuery:(e,t)=>{let r=`?$filter=population_point_id eq ${e} and geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$expand=tour(id|tour_id)",r+="&$orderby=updated_at desc",r},injectVillageId:!0,transformResponse:e=>{const t=new Map;return e.forEach(r=>{r.tour&&t.set(r.tour.id,r.tour)}),Array.from(t.values())},styles:[{type:"fill",paint:{"fill-color":"#372C32","fill-opacity":.2}},{type:"line",paint:{"line-color":"#372C32","line-width":2}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#372C32","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"parish",label:"",endpoint:"/editor/tables/parish/rows",tableName:"parish",zIndex:30,getQuery:Uf,styles:[{type:"fill",paint:{"fill-color":"#d87193","fill-opacity":.2}},{type:"line",paint:{"line-color":"#d87193","line-width":1}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#d87193","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"block",label:"",endpoint:"/editor/tables/block/rows",tableName:"block",zIndex:40,getQuery:Uf,styles:[{type:"fill",paint:{"fill-color":"#fd7e14","fill-opacity":.15}},{type:"line",paint:{"line-color":"#fd7e14","line-width":1,"line-dasharray":[2,2]}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#fd7e14","text-halo-color":"#ffffff","text-halo-width":1.5}}]},{id:"passages",label:" ",endpoint:"",tableName:"block",isDisabled:!0,zIndex:50,getQuery:Uf,styles:[{type:"line",paint:{"line-color":"#868e96"}}]},{id:"building",label:"",endpoint:"/editor/tables/building/rows",tableName:"building",zIndex:60,getQuery:Uf,styles:[{type:"fill",paint:{"fill-color":"#729dec","fill-opacity":.4,"fill-outline-color":"#4dabf7"}},{type:"symbol",minzoom:16,layout:{"text-field":["get","building_number"],"text-size":11,"text-font":["IranSans-Noto"]},paint:{"text-color":"#1864ab","text-halo-color":"#ffffff","text-halo-width":1}}]},{id:"plate",label:"",endpoint:"/editor/tables/plate/rows",tableName:"plate",zIndex:70,getQuery:(e,t)=>{let r=`?$filter=building.population_point_id eq ${e} and plate_geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},transformResponse:e=>e.map(t=>{const{building:r,...i}=t;return{...i,geometry:t.plate_geometry}}),injectVillageId:!0,styles:[{type:"circle",paint:{"circle-radius":5,"circle-color":"#4A4E4A","circle-stroke-width":1,"circle-stroke-color":"#ffffff"}},{type:"symbol",minzoom:17,layout:{"text-field":["get","plate_name"],"text-size":10,"text-offset":[0,1.2],"text-anchor":"top","text-font":["IranSans-Noto"]},paint:{"text-color":"#4A4E4A","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"recognition_code_info",label:" ",endpoint:"/editor/tables/recognition_code_info/rows",tableName:"recognition_code_info",isDataOnly:!0,zIndex:0,getQuery:(e,t)=>{const r=[`building.population_point_id eq ${e}`];return t&&r.push(`updated_at gt '${t.split(" ")[0]}'`),`?$orderby=updated_at desc&$filter=${r.join(" and ")}&$expand=building(id|building_id)`},styles:[]}],fy={name:"",population_point:" ",population_point_id:" ",plate_no:" ",building_number:" ",floor_count:" ",usage:"",updated_at:" ",created_at:" ",deleted_at:" ",is_rural:" ",code:"",unit_no:" ",floor_no:"",first_name:"",last_name:" ",postalcode:" ",action_name:" ",workshop_name:" ",description:"",unit_status_id:" ",poi_type_id:" ",post_id:" ",nationa_code:" ",province_id:"",county_id:"",zone_id:"",population_point_type_id:"  ",rural_id:"",en_name:" ",grid_code:" ",opt_approval:"  ",rural_name_full:"  ",rural_id_full:"  ",tour_type:" ",is_active:"",area:"",parish_type:" ",tour_id:"",part_id:"",block_id:"",parish_id:"",building_type_id:" ",gnaf_code:" ",building_name:" ",modernization_code:"  ",dg_approval:" ",task_id:"",is_negative:" ",address_id:"",old_plate_no:"  ",plate_name:" ",act_type_id1:"  ()",act_type_id2:"  ()",act_type_id3:"  ()"};function Fz({onClose:e,resetDependency:t}){const[r,i]=C.useState(!1),a=C.useRef(0);return C.useEffect(()=>{i(!1)},[t]),{isExpanded:r,toggleExpand:()=>i(f=>!f),touchHandlers:{onTouchStart:f=>{a.current=f.touches[0].clientY},onTouchEnd:f=>{const g=f.changedTouches[0].clientY-a.current,y=40;g<-y?i(!0):g>y&&(r?i(!1):e())}}}}function kz({onClick:e,...t}){return R.jsx(ou,{mb:"sm",style:{cursor:"pointer",touchAction:"none",paddingBottom:"8px"},onClick:e,...t,children:R.jsx(Fe,{w:40,h:5,bg:"gray.4",style:{borderRadius:10}})})}function Lz(e){const t=Ql(async()=>e?na.some(i=>i.tableName===e)?await Sn[e].toArray():await Sn.lookups.where("tableName").equals(e).toArray():[],[e]);return{data:t,isLoading:t===void 0,isError:!1}}function XS({config:e,name:t,defaultValue:r,label:i,readOnly:a,...s}){const{data:u,isLoading:d,isError:f}=Lz(e.lookupTable),h=e.lookupLabel||"name",g=e.lookupValue||"id",y=u&&u.length>0?h in u[0]:!0,x=u?.map(D=>({value:String(D[g]),label:String(D[h]??D[g])}))||[],w=i||fy[e.fieldKey]||e.fieldKey,_=r!=null?String(r):null,E=x.find(D=>D.value===_),T=!y||!E&&_?` ${w}`:w;if(a||u&&u.length>0&&!y){const D=E?E.label:_||"---";return R.jsx(au,{name:t,label:T,value:D,readOnly:!0,variant:"filled",rightSection:d?R.jsx(lo,{size:"xs"}):null,error:void 0})}return R.jsx(kv,{name:t,label:T,placeholder:d?"  ...":` ${w}`,data:x,defaultValue:_,searchable:!0,clearable:!0,disabled:d||f,rightSection:d?R.jsx(lo,{size:"xs"}):null,error:void 0,nothingFoundMessage:"  ",...s})}const Bz=new Set(["id","deleted_at","geometry_updated_at","dg_approval","dundas_map_id","geometry","geocoded_point","plate_geometry","attachment","subs","available_parts","plate_id","building_id","address_id","relations"]),WS=e=>!Bz.has(e),QS=e=>e==null||e===""?"---":typeof e=="boolean"?e?"":"":String(e),ZS=e=>e.replace(/_id\d*$/,"");function Uz({properties:e,onClose:t,onStartDrawing:r}){const{entityType:i,id:a}=e||{},{isOffline:s}=Za(),[u,d]=C.useState(!1),[f,h]=C.useState(!1),g=C.useRef(!1),{isExpanded:y,toggleExpand:x,touchHandlers:w}=Fz({onClose:()=>I(!0),resetDependency:a}),_=Ql(()=>{if(!i||!a)return;const W=na.find(le=>le.id===i);if(W)return Sn[W.tableName].get(Number(a))},[i,a]),E=_?"plate_no"in _:!1,T=Ql(()=>E&&_?.id?Sn.recognition_code_info.where("plate_id").equals(_.id).toArray():[],[_,E]),N=Ql(()=>{if(!(!i||!a))return Sn.sync_queue.where({entityType:i,entityId:String(a)}).first()},[i,a]),D=Ql(()=>{if(!E||!T||T.length===0)return[];const W=T.map(le=>String(le.id));return Sn.sync_queue.where("entityType").equals("recognition_code_info").toArray().then(le=>le.filter(he=>W.includes(String(he.entityId))))},[T,E]),I=(W=!1)=>{if(u){if(g.current&&!window.confirm("  .   "))return;d(!1),g.current=!1}(!u||W)&&t()},F=()=>{d(!0),g.current=!1,y||x()},k=async W=>{W.preventDefault(),h(!0);try{const le={},he={},de=new Set(Bf[i]?.map(xe=>xe.fieldKey)||[]),Oe=new Set(Bf.recognition_code_info?.map(xe=>xe.fieldKey)||[]),ce=Array.from(W.currentTarget.elements);for(const xe of ce){if(!xe.name||xe.type==="submit"||xe.type==="button")continue;const B=xe.name,X=xe.value.trim(),q=xe.getAttribute("data-unit-id"),ge=q?T?.find(U=>U.id.toString()===q)?.[B]:_?.[B];(ge==null?"":String(ge))!==X&&(q&&Oe.has(B)?(he[q]||(he[q]={}),he[q][B]=X):!q&&de.has(B)&&(le[B]=X))}if(Object.keys(le).length>0&&_){const xe=N?{...N.payload,...le}:le;N&&N.id?await Sn.sync_queue.update(N.id,{payload:xe}):await Sn.sync_queue.add({entityType:i,entityId:String(_.id),payload:xe,createdAt:new Date().toISOString()})}for(const[xe,B]of Object.entries(he))if(Object.keys(B).length>0){const X=D?.find(ge=>ge.entityId===String(xe)),q=X?{...X.payload,...B}:B;X&&X.id?await Sn.sync_queue.update(X.id,{payload:q}):await Sn.sync_queue.add({entityType:"recognition_code_info",entityId:String(xe),payload:q,createdAt:new Date().toISOString()})}d(!1),g.current=!1}catch(le){console.error(le),alert("      .")}finally{h(!1)}};if(!e||!_)return null;const V=Object.entries(_).filter(([W])=>WS(W));if(!(V.length>0||E&&T&&T.length>0))return t(),null;const G=(W,le,he)=>{const de=he?.payload?.[W],Oe=de!==void 0;return{displayValue:Oe?de:le,isPending:Oe}};return R.jsxs(ud,{shadow:"xl",padding:"md",radius:"t-md",withBorder:!0,style:{position:"absolute",bottom:0,left:0,right:0,zIndex:100,maxHeight:y?"100dvh":"40vh",height:y?"100dvh":"auto",transition:"max-height 0.3s ease, height 0.3s ease",display:"flex",flexDirection:"column",borderBottomLeftRadius:0,borderBottomRightRadius:0},children:[R.jsx(kz,{onClick:x,...w}),R.jsxs(Li,{justify:"space-between",mb:"xs",style:{flexShrink:0},children:[R.jsx(qo,{fw:700,size:"sm",c:"dimmed",children:" "}),R.jsx(Wo,{variant:"subtle",color:"gray",onClick:()=>I(),children:R.jsx(IE,{size:20})})]}),R.jsxs("form",{onChange:()=>{g.current=!0},onSubmit:k,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[R.jsxs(Fe,{style:{overflowY:"auto",flex:1,paddingBottom:"4px"},children:[V.length>0&&R.jsx($i,{gap:"xs",children:V.map(([W,le])=>{const{displayValue:he,isPending:de}=G(W,le,N),Oe=Bf[i]?.find(q=>q.fieldKey===W),ce=u&&Oe,xe=`${W}-${u}-${he}`,B=W.endsWith("_id")||/_id\d+$/.test(W),X=()=>{if(Oe?.inputType==="select"||B){const q=Oe||{fieldKey:W,inputType:"select",lookupTable:ZS(W),lookupLabel:"name",lookupValue:"id"};return R.jsx(XS,{name:W,config:q,defaultValue:he,readOnly:!ce},xe)}return R.jsx(au,{name:W,label:fy[W]||W,defaultValue:ce?he:QS(he),readOnly:!ce,variant:!u||!ce?"filled":"default"},xe)};return R.jsx(fh,{disabled:!de,color:"orange",position:"top-start",label:R.jsx($S,{size:10}),size:16,offset:16,children:X()},`ind-${W}`)})}),E&&T&&T.length>0&&R.jsxs(Fe,{mt:"md",children:[R.jsxs(qo,{fw:700,size:"sm",c:"dimmed",mb:"xs",children:["  (",T.length,")"]}),R.jsx(ri,{variant:"separated",children:T.map((W,le)=>{const he=D?.find(de=>de.entityId===String(W.id));return R.jsxs(ri.Item,{value:W.id.toString(),children:[R.jsx(ri.Control,{children:W.unit_no?` ${W.unit_no}`:` ${le+1}`}),R.jsx(ri.Panel,{children:R.jsx($i,{gap:"xs",children:Object.entries(W).filter(([de])=>WS(de)).map(([de,Oe])=>{const{displayValue:ce,isPending:xe}=G(de,Oe,he),B=Bf.recognition_code_info?.find(U=>U.fieldKey===de),X=u&&B,q=`unit-${W.id}-${de}-${u}-${ce}`,ge=de.endsWith("_id")||/_id\d+$/.test(de),Se=()=>{if(B?.inputType==="select"||ge){const U=B||{fieldKey:de,inputType:"select",lookupTable:ZS(de),lookupLabel:"name",lookupValue:"id"};return R.jsx(XS,{name:de,"data-unit-id":W.id,config:U,defaultValue:ce,readOnly:!X},q)}return R.jsx(au,{name:de,"data-unit-id":W.id,label:fy[de]||de,defaultValue:X?ce:QS(ce),readOnly:!X,variant:!u||!X?"filled":"default"},q)};return R.jsx(fh,{disabled:!xe,color:"orange",position:"top-start",label:R.jsx($S,{size:10}),size:16,offset:4,children:Se()},`ind-unit-${W.id}-${de}`)})})})]},W.id)})})]})]}),R.jsx(Fe,{mt:"md",pt:"sm",style:{borderTop:"1px solid #eee",flexShrink:0},children:u?R.jsxs(Li,{grow:!0,children:[R.jsx(ii,{variant:"outline",onClick:()=>I(),type:"button",children:""}),R.jsx(ii,{color:"green",type:"submit",loading:f,children:""})]}):R.jsxs(Li,{grow:!0,children:[R.jsx(ii,{onClick:F,type:"button",children:" "}),R.jsx(ii,{variant:"outline",color:"blue",onClick:()=>{if(_?.geometry){let W=_.name;i==="building"&&(W=_.building_number),i==="plate"&&(W=_.plate_name),r?.({id:_.id,entityType:i,featureName:W,geometry:_.geometry})}},disabled:s,type:"button",children:" "})]})})]},`form-${_.id}-${u}`)]})}const $z="modulepreload",Hz=function(e){return"/dehyar-pwa-deploy/"+e},JS={},qz=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=f(r.map(h=>{if(h=Hz(h),h in JS)return;JS[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":$z,g||(x.as="script"),x.crossOrigin="",x.href=h,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((w,_)=>{x.addEventListener("load",w),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},LE=C.createContext(null);function Gz(){const e=C.useContext(LE)?.maps,t=C.useContext(Ys);return C.useMemo(()=>({...e,current:t?.map}),[e,t])}function Vz(e,t){const r=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0,a=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0;return r===a&&i===s}function Ur(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const a of r)if(!t.hasOwnProperty(a)||!Ur(e[a],t[a]))return!1;return!0}return!1}function e1(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function t1(e,t){const r=t.viewState||t,i={};if("longitude"in r&&"latitude"in r&&(r.longitude!==e.center.lng||r.latitude!==e.center.lat)){const a=e.center.constructor;i.center=new a(r.longitude,r.latitude)}return"zoom"in r&&r.zoom!==e.zoom&&(i.zoom=r.zoom),"bearing"in r&&r.bearing!==e.bearing&&(i.bearing=r.bearing),"pitch"in r&&r.pitch!==e.pitch&&(i.pitch=r.pitch),r.padding&&e.padding&&!Ur(r.padding,e.padding)&&(i.padding=r.padding),i}const Yz=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function n1(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const i of e.layers)t[i.id]=i;const r=e.layers.map(i=>{let a=null;"interactive"in i&&(a=Object.assign({},i),delete a.interactive);const s=t[i.ref];if(s){a=a||Object.assign({},i),delete a.ref;for(const u of Yz)u in s&&(a[u]=s[u])}return a||i});return{...e,layers:r}}const r1={version:8,sources:{},layers:[]},i1={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},o1={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},a1={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Kz=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Xz=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class lu{constructor(t,r,i){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=a=>{const s=this.props[a1[a.type]];s?s(a):a.type==="error"&&console.error(a.error)},this._onCameraEvent=a=>{if(this._internalUpdate)return;a.viewState=this._propsedCameraUpdate||e1(this._map.transform);const s=this.props[o1[a.type]];s&&s(a)},this._onCameraUpdate=a=>this._internalUpdate?a:(this._propsedCameraUpdate=e1(a),t1(a,this.props)),this._onPointerEvent=a=>{(a.type==="mousemove"||a.type==="mouseout")&&this._updateHover(a);const s=this.props[i1[a.type]];s&&(this.props.interactiveLayerIds&&a.type!=="mouseover"&&a.type!=="mouseout"&&(a.features=this._hoveredFeatures||this._queryRenderedFeatures(a.point)),s(a),delete a.features)},this._MapClass=t,this.props=r,this._initialize(i)}get map(){return this._map}setProps(t){const r=this.props;this.props=t;const i=this._updateSettings(t,r),a=this._updateSize(t),s=this._updateViewState(t);this._updateStyle(t,r),this._updateStyleComponents(t),this._updateHandlers(t,r),(i||a||s&&!this._map.isMoving())&&this.redraw()}static reuse(t,r){const i=lu.savedMaps.pop();if(!i)return null;const a=i.map,s=a.getContainer();for(r.className=s.className;s.childNodes.length>0;)r.appendChild(s.childNodes[0]);a._container=r;const u=a._resizeObserver;u&&(u.disconnect(),u.observe(r)),i.setProps({...t,styleDiffing:!1}),a.resize();const{initialViewState:d}=t;return d&&(d.bounds?a.fitBounds(d.bounds,{...d.fitBoundsOptions,duration:0}):i._updateViewState(d)),a.isStyleLoaded()?a.fire("load"):a.once("style.load",()=>a.fire("load")),a._update(),i}_initialize(t){const{props:r}=this,{mapStyle:i=r1}=r,a={...r,...r.initialViewState,container:t,style:n1(i)},s=a.initialViewState||a.viewState||a;if(Object.assign(a,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),r.gl){const d=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=d,r.gl)}const u=new this._MapClass(a);s.padding&&u.setPadding(s.padding),r.cursor&&(u.getCanvas().style.cursor=r.cursor),u.transformCameraUpdate=this._onCameraUpdate,u.on("style.load",()=>{this._styleComponents={light:u.getLight(),sky:u.getSky(),projection:u.getProjection?.(),terrain:u.getTerrain()},this._updateStyleComponents(this.props)}),u.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const d in i1)u.on(d,this._onPointerEvent);for(const d in o1)u.on(d,this._onCameraEvent);for(const d in a1)u.on(d,this._onEvent);this._map=u}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),lu.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_updateSize(t){const{viewState:r}=t;if(r){const i=this._map;if(r.width!==i.transform.width||r.height!==i.transform.height)return i.resize(),!0}return!1}_updateViewState(t){const r=this._map,i=r.transform;if(!r.isMoving()){const s=t1(i,t);if(Object.keys(s).length>0)return this._internalUpdate=!0,r.jumpTo(s),this._internalUpdate=!1,!0}return!1}_updateSettings(t,r){const i=this._map;let a=!1;for(const s of Kz)s in t&&!Ur(t[s],r[s])&&(a=!0,i[`set${s[0].toUpperCase()}${s.slice(1)}`]?.call(i,t[s]));return a}_updateStyle(t,r){if(t.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==r.mapStyle){const{mapStyle:i=r1,styleDiffing:a=!0}=t,s={diff:a};"localIdeographFontFamily"in t&&(s.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(n1(i),s)}}_updateStyleComponents({light:t,projection:r,sky:i,terrain:a}){const s=this._map,u=this._styleComponents;s.style._loaded&&(t&&!Ur(t,u.light)&&(u.light=t,s.setLight(t)),r&&!Ur(r,u.projection)&&r!==u.projection?.type&&(u.projection=typeof r=="string"?{type:r}:r,s.setProjection?.(u.projection)),i&&!Ur(i,u.sky)&&(u.sky=i,s.setSky(i)),a!==void 0&&!Ur(a,u.terrain)&&(!a||s.getSource(a.source))&&(u.terrain=a,s.setTerrain(a)))}_updateHandlers(t,r){const i=this._map;for(const a of Xz){const s=t[a]??!0,u=r[a]??!0;Ur(s,u)||(s?i[a].enable(s):i[a].disable())}}_queryRenderedFeatures(t){const r=this._map,{interactiveLayerIds:i=[]}=this.props;try{return r.queryRenderedFeatures(t,{layers:i.filter(r.getLayer.bind(r))})}catch{return[]}}_updateHover(t){const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const a=t.type,s=this._hoveredFeatures?.length>0,u=this._queryRenderedFeatures(t.point),d=u.length>0;!d&&s&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,d&&!s&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=a}else this._hoveredFeatures=null}}lu.savedMaps=[];const Wz=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Qz(e){if(!e)return null;const t=e.map,r={getMap:()=>t};for(const i of Zz(t))!(i in r)&&!Wz.includes(i)&&(r[i]=t[i].bind(t));return r}function Zz(e){const t=new Set;let r=e;for(;r;){for(const i of Object.getOwnPropertyNames(r))i[0]!=="_"&&typeof e[i]=="function"&&i!=="fire"&&i!=="setEventedParent"&&t.add(i);r=Object.getPrototypeOf(r)}return Array.from(t)}const Jz=typeof document<"u"?C.useLayoutEffect:C.useEffect;function eF(e,t){const{RTLTextPlugin:r,maxParallelImageRequests:i,workerCount:a,workerUrl:s}=t;if(r&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:u,lazy:d=!0}=typeof r=="string"?{pluginUrl:r}:r;e.setRTLTextPlugin(u,f=>{f&&console.error(f)},d)}i!==void 0&&e.setMaxParallelImageRequests(i),a!==void 0&&e.setWorkerCount(a),s!==void 0&&e.setWorkerUrl(s)}const Ys=C.createContext(null);function tF(e,t){const r=C.useContext(LE),[i,a]=C.useState(null),s=C.useRef(),{current:u}=C.useRef({mapLib:null,map:null});C.useEffect(()=>{const h=e.mapLib;let g=!0,y;return Promise.resolve(h||qz(()=>import("./maplibre-gl-D-7YVZ67.js").then(x=>x.m),[])).then(x=>{if(!g)return;if(!x)throw new Error("Invalid mapLib");const w="Map"in x?x:x.default;if(!w.Map)throw new Error("Invalid mapLib");eF(w,e),e.reuseMaps&&(y=lu.reuse(e,s.current)),y||(y=new lu(w.Map,e,s.current)),u.map=Qz(y),u.mapLib=w,a(y),r?.onMapMount(u.map,e.id)}).catch(x=>{const{onError:w}=e;w?w({type:"error",target:null,originalEvent:null,error:x}):console.error(x)}),()=>{g=!1,y&&(r?.onMapUnmount(e.id),e.reuseMaps?y.recycle():y.destroy())}},[]),Jz(()=>{i&&i.setProps(e)}),C.useImperativeHandle(t,()=>u.map,[i]);const d=C.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),f={height:"100%"};return C.createElement("div",{id:e.id,ref:s,style:d},i&&C.createElement(Ys.Provider,{value:u},C.createElement("div",{"mapboxgl-children":"",style:f},e.children)))}const nF=C.forwardRef(tF),rF=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function ra(e,t){if(!e||!t)return;const r=e.style;for(const i in t){const a=t[i];Number.isFinite(a)&&!rF.test(i)?r[i]=`${a}px`:r[i]=a}}function BE(e,t){if(e===t)return null;const r=s1(e),i=s1(t),a=[];for(const s of i)r.has(s)||a.push(s);for(const s of r)i.has(s)||a.push(s);return a.length===0?null:a}function s1(e){return new Set(e?e.trim().split(/\s+/):[])}C.memo(C.forwardRef((e,t)=>{const{map:r,mapLib:i}=C.useContext(Ys),a=C.useRef({props:e}),s=C.useMemo(()=>{let N=!1;C.Children.forEach(e.children,F=>{F&&(N=!0)});const D={...e,element:N?document.createElement("div"):void 0},I=new i.Marker(D);return I.setLngLat([e.longitude,e.latitude]),I.getElement().addEventListener("click",F=>{a.current.props.onClick?.({type:"click",target:I,originalEvent:F})}),I.on("dragstart",F=>{const k=F;k.lngLat=s.getLngLat(),a.current.props.onDragStart?.(k)}),I.on("drag",F=>{const k=F;k.lngLat=s.getLngLat(),a.current.props.onDrag?.(k)}),I.on("dragend",F=>{const k=F;k.lngLat=s.getLngLat(),a.current.props.onDragEnd?.(k)}),I},[]);C.useEffect(()=>(s.addTo(r.getMap()),()=>{s.remove()}),[]);const{longitude:u,latitude:d,offset:f,style:h,draggable:g=!1,popup:y=null,rotation:x=0,rotationAlignment:w="auto",pitchAlignment:_="auto"}=e;C.useEffect(()=>{ra(s.getElement(),h)},[h]),C.useImperativeHandle(t,()=>s,[]);const E=a.current.props;(s.getLngLat().lng!==u||s.getLngLat().lat!==d)&&s.setLngLat([u,d]),f&&!Vz(s.getOffset(),f)&&s.setOffset(f),s.isDraggable()!==g&&s.setDraggable(g),s.getRotation()!==x&&s.setRotation(x),s.getRotationAlignment()!==w&&s.setRotationAlignment(w),s.getPitchAlignment()!==_&&s.setPitchAlignment(_),s.getPopup()!==y&&s.setPopup(y);const T=BE(E.className,e.className);if(T)for(const N of T)s.toggleClassName(N);return a.current.props=e,Us.createPortal(e.children,s.getElement())}));C.memo(C.forwardRef((e,t)=>{const{map:r,mapLib:i}=C.useContext(Ys),a=C.useMemo(()=>document.createElement("div"),[]),s=C.useRef({props:e}),u=C.useMemo(()=>{const d={...e},f=new i.Popup(d);return f.setLngLat([e.longitude,e.latitude]),f.once("open",h=>{s.current.props.onOpen?.(h)}),f},[]);if(C.useEffect(()=>{const d=f=>{s.current.props.onClose?.(f)};return u.on("close",d),u.setDOMContent(a).addTo(r.getMap()),()=>{u.off("close",d),u.isOpen()&&u.remove()}},[]),C.useEffect(()=>{ra(u.getElement(),e.style)},[e.style]),C.useImperativeHandle(t,()=>u,[]),u.isOpen()){const d=s.current.props;(u.getLngLat().lng!==e.longitude||u.getLngLat().lat!==e.latitude)&&u.setLngLat([e.longitude,e.latitude]),e.offset&&!Ur(d.offset,e.offset)&&u.setOffset(e.offset),(d.anchor!==e.anchor||d.maxWidth!==e.maxWidth)&&(u.options.anchor=e.anchor,u.setMaxWidth(e.maxWidth));const f=BE(d.className,e.className);if(f)for(const h of f)u.toggleClassName(h);s.current.props=e}return Us.createPortal(e.children,a)}));function Ks(e,t,r,i){const a=C.useContext(Ys),s=C.useMemo(()=>e(a),[]);return C.useEffect(()=>{const u=t,d=null,f=typeof t=="function"?t:null,{map:h}=a;return h.hasControl(s)||(h.addControl(s,u?.position),d&&d(a)),()=>{f&&f(a),h.hasControl(s)&&h.removeControl(s)}},[]),s}function iF(e){const t=Ks(({mapLib:r})=>new r.AttributionControl(e),{position:e.position});return C.useEffect(()=>{ra(t._container,e.style)},[e.style]),null}C.memo(iF);function oF(e){const t=Ks(({mapLib:r})=>new r.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return C.useEffect(()=>{ra(t._controlContainer,e.style)},[e.style]),null}C.memo(oF);function aF(e,t){const r=C.useRef({props:e}),i=Ks(({mapLib:a})=>{const s=new a.GeolocateControl(e),u=s._setupUI;return s._setupUI=()=>{s._container.hasChildNodes()||u()},s.on("geolocate",d=>{r.current.props.onGeolocate?.(d)}),s.on("error",d=>{r.current.props.onError?.(d)}),s.on("outofmaxbounds",d=>{r.current.props.onOutOfMaxBounds?.(d)}),s.on("trackuserlocationstart",d=>{r.current.props.onTrackUserLocationStart?.(d)}),s.on("trackuserlocationend",d=>{r.current.props.onTrackUserLocationEnd?.(d)}),s},{position:e.position});return r.current.props=e,C.useImperativeHandle(t,()=>i,[]),C.useEffect(()=>{ra(i._container,e.style)},[e.style]),null}C.memo(C.forwardRef(aF));function sF(e){const t=Ks(({mapLib:r})=>new r.NavigationControl(e),{position:e.position});return C.useEffect(()=>{ra(t._container,e.style)},[e.style]),null}const lF=C.memo(sF);function uF(e){const t=Ks(({mapLib:s})=>new s.ScaleControl(e),{position:e.position}),r=C.useRef(e),i=r.current;r.current=e;const{style:a}=e;return e.maxWidth!==void 0&&e.maxWidth!==i.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==i.unit&&t.setUnit(e.unit),C.useEffect(()=>{ra(t._container,a)},[a]),null}C.memo(uF);function cF(e){const t=Ks(({mapLib:r})=>new r.TerrainControl(e),{position:e.position});return C.useEffect(()=>{ra(t._container,e.style)},[e.style]),null}C.memo(cF);function dF(e){const t=Ks(({mapLib:r})=>new r.LogoControl(e),{position:e.position});return C.useEffect(()=>{ra(t._container,e.style)},[e.style]),null}C.memo(dF);function mh(e,t){if(!e)throw new Error(t)}let fF=0;function hF(e,t,r){if(e.style&&e.style._loaded){const i={...r};return delete i.id,delete i.children,e.addSource(t,i),e.getSource(t)}return null}function pF(e,t,r){mh(t.id===r.id,"source id changed"),mh(t.type===r.type,"source type changed");let i="",a=0;for(const u in t)u!=="children"&&u!=="id"&&!Ur(r[u],t[u])&&(i=u,a++);if(!a)return;const s=t.type;if(s==="geojson")e.setData(t.data);else if(s==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else switch(i){case"coordinates":e.setCoordinates?.(t.coordinates);break;case"url":e.setUrl?.(t.url);break;case"tiles":e.setTiles?.(t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${i}`)}}function mF(e){const t=C.useContext(Ys).map.getMap(),r=C.useRef(e),[,i]=C.useState(0),a=C.useMemo(()=>e.id||`jsx-source-${fF++}`,[]);C.useEffect(()=>{if(t){const u=()=>setTimeout(()=>i(d=>d+1),0);return t.on("styledata",u),u(),()=>{if(t.off("styledata",u),t.style&&t.style._loaded&&t.getSource(a)){const d=t.getStyle()?.layers;if(d)for(const f of d)f.source===a&&t.removeLayer(f.id);t.removeSource(a)}}}},[t]);let s=t&&t.style&&t.getSource(a);return s?pF(s,e,r.current):s=hF(t,a,e),r.current=e,s&&C.Children.map(e.children,u=>u&&C.cloneElement(u,{source:a}))||null}function gF(e,t,r,i){if(mh(r.id===i.id,"layer id changed"),mh(r.type===i.type,"layer type changed"),r.type==="custom"||i.type==="custom")return;const{layout:a={},paint:s={},filter:u,minzoom:d,maxzoom:f,beforeId:h}=r;if(h!==i.beforeId&&e.moveLayer(t,h),a!==i.layout){const g=i.layout||{};for(const y in a)Ur(a[y],g[y])||e.setLayoutProperty(t,y,a[y]);for(const y in g)a.hasOwnProperty(y)||e.setLayoutProperty(t,y,void 0)}if(s!==i.paint){const g=i.paint||{};for(const y in s)Ur(s[y],g[y])||e.setPaintProperty(t,y,s[y]);for(const y in g)s.hasOwnProperty(y)||e.setPaintProperty(t,y,void 0)}Ur(u,i.filter)||e.setFilter(t,u),(d!==i.minzoom||f!==i.maxzoom)&&e.setLayerZoomRange(t,d,f)}function yF(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){const i={...r,id:t};delete i.beforeId,e.addLayer(i,r.beforeId)}}let vF=0;function bF(e){const t=C.useContext(Ys).map.getMap(),r=C.useRef(e),[,i]=C.useState(0),a=C.useMemo(()=>e.id||`jsx-layer-${vF++}`,[]);if(C.useEffect(()=>{if(t){const u=()=>i(d=>d+1);return t.on("styledata",u),u(),()=>{t.off("styledata",u),t.style&&t.style._loaded&&t.getLayer(a)&&t.removeLayer(a)}}},[t]),t&&t.style&&t.getLayer(a))try{gF(t,a,e,r.current)}catch(u){console.warn(u)}else yF(t,a,e);return r.current=e,null}function UE(e){const{user:t}=Za(),r=na.find(u=>u.id===e),a=t?.action_areas?.find(u=>u.action_area.population_point)?.action_area.population_point?.id;return{features:Ql(async()=>{if(!a||!r||r.isDisabled)return[];const u=Sn[r.tableName],d=parseInt(a.toString());return e==="population_point"?await u.where("id").equals(d).toArray():await u.where("population_point_id").equals(d).toArray()},[a,e])||[],config:r}}function xF({layerId:e,hiddenFeatureId:t}){const{features:r,config:i}=UE(e),a=C.useMemo(()=>{if(!r||r.length===0)return null;const s=t?r.filter(u=>u.id!==t):r;return jE(s.map(u=>{const d={id:u.id,name:u.name,building_number:u.building_number,plate_name:u.plate_name,entityType:e};return Ya(u.geometry,d,{id:u.id})}))},[r,e,t]);return!i||!a?null:R.jsx(mF,{id:`source-${e}`,type:"geojson",data:a,children:i.styles.map((s,u)=>R.jsx(bF,{id:`layer-${e}-${u}`,...s,type:s.type},`${e}-${u}`))})}function wF({activeLayers:e,drawingMode:t}){const r=e.filter(i=>{const a=na.find(s=>s.id===i);return a&&!a.isDataOnly});return R.jsx(R.Fragment,{children:r.map(i=>R.jsx(xF,{layerId:i,hiddenFeatureId:t?.entityType===i?t.id:void 0},i))})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Wt.apply(null,arguments)}const $a="draw",tu="edit",$E="deleteCoordinate",l1="insertMidpoint";var _t;(function(e){e.Commit="commit",e.Provisional="provisional",e.Finish="finish"})(_t||(_t={}));const SF="https://raw.githubusercontent.com/JamesLMilner/terra-draw/refs/heads/main/assets/markers/marker-blue.png",Un={SELECTED:"selected",MID_POINT:"midPoint",SELECTION_POINT_FEATURE_ID:"selectionPointFeatureId",SELECTION_POINT:"selectionPoint"},ft={MODE:"mode",CURRENTLY_DRAWING:"currentlyDrawing",EDITED:"edited",CLOSING_POINT:"closingPoint",SNAPPING_POINT:"snappingPoint",COORDINATE_POINT:"coordinatePoint",COORDINATE_POINT_FEATURE_ID:"coordinatePointFeatureId",COORDINATE_POINT_IDS:"coordinatePointIds",PROVISIONAL_COORDINATE_COUNT:"provisionalCoordinateCount",COMMITTED_COORDINATE_COUNT:"committedCoordinateCount",MARKER:"marker"},qc=10;function Ng(e){return!!(e&&typeof e=="object"&&e!==null&&!Array.isArray(e))}function u1(e){return!!(e&&typeof e=="object"&&"properties"in e&&typeof e.properties=="object"&&e.properties!==null&&"mode"in e.properties)}function c1(e){return!!(function(t){return typeof t=="number"&&!isNaN(new Date(t).valueOf())})(e)}const CF="Feature mode property does not match the mode being added to";var uu;(function(e){e.Drawing="drawing",e.Select="select",e.Static="static",e.Render="render"})(uu||(uu={}));const _F={rightClick:!0,contextMenu:!1,leftClick:!0,onDragStart:!0,onDrag:!0,onDragEnd:!0};class gd{get state(){return this._state}set state(t){throw new Error("Please use the modes lifecycle methods")}get styles(){return this._styles}set styles(t){if(typeof t!="object")throw new Error("Styling must be an object");this.onStyleChange&&this.onStyleChange([],"styling"),this._styles=t}registerBehaviors(t){}constructor(t,r=!1){this._state="unregistered",this._styles={},this.pointerEvents=_F,this.behaviors=[],this.validate=void 0,this.pointerDistance=40,this.coordinatePrecision=void 0,this.onStyleChange=void 0,this.store=void 0,this.projection="web-mercator",this.setDoubleClickToZoom=void 0,this.unproject=void 0,this.project=void 0,this.setCursor=void 0,this.isInitialUpdate=!1,this.type=uu.Drawing,this.mode="base",r?this.isInitialUpdate=!0:this.updateOptions(Wt({},t))}updateOptions(t){t!=null&&t.styles&&(this.styles=Wt({},this._styles,t.styles)),t!=null&&t.pointerDistance&&(this.pointerDistance=t.pointerDistance),t!=null&&t.validation&&(this.validate=t&&t.validation),t!=null&&t.projection&&(this.projection=t.projection),t?.pointerEvents!==void 0&&(this.pointerEvents=t.pointerEvents),t!=null&&t.modeName&&this.isInitialUpdate===!0&&(this.mode=t.modeName),this.isInitialUpdate=!1}allowPointerEvent(t,r){return typeof t=="boolean"?t:typeof t!="function"||t(r)}setDrawing(){if(this._state!=="started")throw new Error("Mode must be unregistered or stopped to start");this._state="drawing"}setStarted(){if(this._state!=="stopped"&&this._state!=="registered"&&this._state!=="drawing"&&this._state!=="selecting")throw new Error("Mode must be unregistered or stopped to start");this._state="started",this.setDoubleClickToZoom(!1)}setStopped(){if(this._state!=="started")throw new Error("Mode must be started to be stopped");this._state="stopped",this.setDoubleClickToZoom(!0)}register(t){if(this._state!=="unregistered")throw new Error("Can not register unless mode is unregistered");this._state="registered",this.store=t.store,this.store.registerOnChange(t.onChange),this.setDoubleClickToZoom=t.setDoubleClickToZoom,this.project=t.project,this.unproject=t.unproject,this.onSelect=t.onSelect,this.onDeselect=t.onDeselect,this.setCursor=t.setCursor,this.onStyleChange=t.onChange,this.onFinish=t.onFinish,this.coordinatePrecision=t.coordinatePrecision,this.registerBehaviors({mode:t.mode,store:this.store,project:this.project,unproject:this.unproject,pointerDistance:this.pointerDistance,coordinatePrecision:t.coordinatePrecision,projection:this.projection})}validateFeature(t){return this.performFeatureValidation(t)}afterFeatureAdded(t){}afterFeatureUpdated(t){}performFeatureValidation(t){if(this._state==="unregistered")throw new Error("Mode must be registered");const r=(function(i,a){let s;if(Ng(i))if(i.id==null)s="Feature has no id";else if(typeof i.id!="string"&&typeof i.id!="number")s="Feature must be string or number as per GeoJSON spec";else if(a(i.id))if(Ng(i.geometry))if(Ng(i.properties))if(typeof i.geometry.type=="string"&&["Polygon","LineString","Point"].includes(i.geometry.type))if(Array.isArray(i.geometry.coordinates)){if(!i.properties.mode||typeof i.properties.mode!="string")return{valid:!1,reason:"Feature does not have a valid mode property"}}else s="Feature coordinates is not an array";else s="Feature is not Point, LineString or Polygon";else s="Feature has no properties";else s="Feature has no geometry";else s="Feature must match the id strategy (default is UUID4)";else s="Feature is not object";return s?{valid:!1,reason:s}:{valid:!0}})(t,this.store.idStrategy.isValidId);if(this.validate){const i=this.validate(t,{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:_t.Provisional});return{valid:r.valid&&i.valid,reason:i.reason}}return{valid:r.valid,reason:r.reason}}validateModeFeature(t,r){const i=this.performFeatureValidation(t);return i.valid?t.properties.mode!==this.mode?{valid:!1,reason:CF}:r(t):{valid:!1,reason:i.reason}}onFinish(t,r){}onDeselect(t){}onSelect(t){}onKeyDown(t){}onKeyUp(t){}onMouseMove(t){}onClick(t){}onDragStart(t,r){}onDrag(t,r){}onDragEnd(t,r){}getHexColorStylingValue(t,r,i){return this.getStylingValue(t,r,i)}getNumericStylingValue(t,r,i){return this.getStylingValue(t,r,i)}getUrlStylingValue(t,r,i){return this.getStylingValue(t,r,i)}getStylingValue(t,r,i){return t===void 0?r:typeof t=="function"?t(i):t}}class EF extends gd{constructor(...t){super(...t),this.type=uu.Select}}function Ko(e,t){const r=h=>h*Math.PI/180,i=r(e[1]),a=r(e[0]),s=r(t[1]),u=s-i,d=r(t[0])-a,f=Math.sin(u/2)*Math.sin(u/2)+Math.cos(i)*Math.cos(s)*Math.sin(d/2)*Math.sin(d/2);return 2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*6371e3/1e3}const HE=63710088e-1;function $r(e){return e%360*Math.PI/180}function OF(e){return e/6371.0088}function cu(e){return e%(2*Math.PI)*180/Math.PI}function Tn(e,t=9){const r=Math.pow(10,t);return Math.round(e*r)/r}const d1=57.29577951308232,f1=.017453292519943295,gh=6378137,Mn=(e,t)=>({x:e===0?0:e*f1*gh,y:t===0?0:Math.log(Math.tan(Math.PI/4+t*f1/2))*gh}),du=(e,t)=>({lng:e===0?0:d1*(e/gh),lat:t===0?0:(2*Math.atan(Math.exp(t/gh))-Math.PI/2)*d1});function MF(e){let t;if(e.geometry.type==="Polygon")t=e.geometry.coordinates;else{if(e.geometry.type!=="LineString")throw new Error("Self intersects only accepts Polygons and LineStrings");t=[e.geometry.coordinates]}const r=[];for(let s=0;s<t.length;s++)for(let u=0;u<t[s].length-1;u++)for(let d=0;d<t.length;d++)for(let f=0;f<t[d].length-1;f++)a(s,u,d,f);return r.length>0;function i(s){return s<0||s>1}function a(s,u,d,f){const h=t[s][u],g=t[s][u+1],y=t[d][f],x=t[d][f+1],w=(function(T,N,D,I){if($f(T,D)||$f(T,I)||$f(N,D)||$f(I,D))return null;const F=T[0],k=T[1],V=N[0],A=N[1],G=D[0],W=D[1],le=I[0],he=I[1],de=(F-V)*(W-he)-(k-A)*(G-le);return de===0?null:[((F*A-k*V)*(G-le)-(F-V)*(G*he-W*le))/de,((F*A-k*V)*(W-he)-(k-A)*(G*he-W*le))/de]})(h,g,y,x);if(w===null)return;let _,E;_=g[0]!==h[0]?(w[0]-h[0])/(g[0]-h[0]):(w[1]-h[1])/(g[1]-h[1]),E=x[0]!==y[0]?(w[0]-y[0])/(x[0]-y[0]):(w[1]-y[1])/(x[1]-y[1]),i(_)||i(E)||(w.toString(),r.push(w))}}function $f(e,t){return e[0]===t[0]&&e[1]===t[1]}function ap(e,t){return h1(e[0])<=t&&h1(e[1])<=t}function Wv(e){return e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"&&e[0]!==1/0&&e[1]!==1/0&&(r=e[0])>=-180&&r<=180&&(t=e[1])>=-90&&t<=90;var t,r}function h1(e){let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}const TF="Feature has holes",RF="Feature has less than 4 coordinates",PF="Feature has invalid coordinates",DF="Feature coordinates are not closed";function AF(e,t){if(e.geometry.type!=="Polygon")return{valid:!1,reason:"Feature is not a Polygon"};if(e.geometry.coordinates.length!==1)return{valid:!1,reason:TF};if(e.geometry.coordinates[0].length<4)return{valid:!1,reason:RF};for(let a=0;a<e.geometry.coordinates[0].length;a++){if(!Wv(e.geometry.coordinates[0][a]))return{valid:!1,reason:PF};if(!ap(e.geometry.coordinates[0][a],t))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return(r=e.geometry.coordinates[0][0])[0]!==(i=e.geometry.coordinates[0][e.geometry.coordinates[0].length-1])[0]||r[1]!==i[1]?{valid:!1,reason:DF}:{valid:!0};var r,i}class nr{constructor({store:t,mode:r,project:i,unproject:a,pointerDistance:s,coordinatePrecision:u,projection:d}){this.store=void 0,this.mode=void 0,this.project=void 0,this.unproject=void 0,this.pointerDistance=void 0,this.coordinatePrecision=void 0,this.projection=void 0,this.store=t,this.mode=r,this.project=i,this.unproject=a,this.pointerDistance=s,this.coordinatePrecision=u,this.projection=d}}function p1(e){if(!(function(r){const i=r.coordinates[0];let a=0;for(let s=0;s<i.length-1;s++){const[u,d]=i[s],[f,h]=i[s+1];a+=(f-u)*(h+d)}return a<0})(e))return{type:"Polygon",coordinates:[e.coordinates[0].reverse()]}}const yh="insert-before",fu="insert-after",Or="update",As="delete",oi="replace";class sp extends nr{constructor(t,r){super(t),this.options=void 0,this.options=r}createPoint({coordinates:t,properties:r,context:i}){if(i?.updateType!==_t.Finish||this.validateGeometryWithUpdateType({geometry:{type:"Point",coordinates:t},properties:r,updateType:_t.Finish}))return this.handleCreateFeature({geometry:{type:"Point",coordinates:t},properties:r})}createLineString({coordinates:t,properties:r}){return this.handleCreateFeature({geometry:{type:"LineString",coordinates:t},properties:r})}createPolygon({coordinates:t,properties:r}){const i=p1({coordinates:[t]});return this.handleCreateFeature({geometry:{type:"Polygon",coordinates:i?i.coordinates:[t]},properties:r})}createGuidancePoint({coordinate:t,type:r}){return this.createGuidancePoints({coordinates:[t],type:r})[0]}createGuidancePoints({coordinates:t,type:r,additionalProperties:i}){const a=t.map((s,u)=>({type:"Feature",geometry:{type:"Point",coordinates:s},properties:Wt({mode:this.mode,[r]:!0},i?i(u):{})}));return this.createFeatures(a)}updatePoint({featureId:t,coordinateMutations:r,propertyMutations:i,context:a}){return this.handleMutateFeature({type:"Point",featureId:t,coordinateMutations:r,propertyMutations:i,context:a})}updatePolygon({featureId:t,coordinateMutations:r,context:i,propertyMutations:a}){return this.handleMutateFeature({type:"Polygon",featureId:t,coordinateMutations:r,propertyMutations:a,context:i})}updateLineString({featureId:t,coordinateMutations:r,context:i,propertyMutations:a}){return this.handleMutateFeature({type:"LineString",featureId:t,coordinateMutations:r,propertyMutations:a,context:i})}deleteFeatureIfPresent(t){t&&this.store.has(t)&&this.store.delete([t])}deleteFeaturesIfPresent(t){if(t.length===0)return;const r=t.filter(i=>this.store.has(i));r.length&&this.store.delete(r)}setDeselected(t){const r=t.filter(i=>this.store.has(i)).map(i=>({featureId:i,properties:{[Un.SELECTED]:!1}}));this.updateFeatureProperties(r)}setSelected(t){const{type:r}=this.store.getGeometryCopy(t),i={featureId:t,propertyMutations:{[Un.SELECTED]:!0},context:{updateType:_t.Commit}};r==="Polygon"?this.updatePolygon(i):r==="LineString"?this.updateLineString(i):r==="Point"&&this.updatePoint(i)}updateGuidancePoints(t){this.updateFeatureGeometries(t.map(({featureId:r,coordinate:i})=>({id:r,geometry:{type:"Point",coordinates:i}})))}handleCreateFeature({geometry:t,properties:r}){return this.createFeatureWithGeometry({geometry:t,properties:r})}handleMutateFeature({type:t,featureId:r,coordinateMutations:i,propertyMutations:a,context:s}){if(!this.mutateFeature({type:t,featureId:r,coordinateMutations:i,propertyMutations:a,context:s.updateType===_t.Finish?Wt({},s,{correctRightHandRule:!0}):Wt({},s)}))return null;const u=this.buildFeatureWithGeometry(r);return s.updateType!==_t.Finish||i||this.validateGeometryWithUpdateType({geometry:u.geometry,properties:u.properties,updateType:s.updateType})?u:null}epsilonOffset(){const t=1/Math.pow(10,this.coordinatePrecision-1);return Math.max(1e-6,t)}mutateFeature({type:t,featureId:r,coordinateMutations:i,propertyMutations:a,context:s}){if(!r)return!1;const u=this.store.getGeometryCopy(r),d=this.store.getPropertiesCopy(r);if(u.type!==t)throw new Error(`${t} geometries cannot be updated on features with ${u.type} geometries`);if(i){let f=this.applyCoordinateMutations(u,i);if(s.correctRightHandRule&&f.type==="Polygon"){const h=p1(f);h&&(f=h)}if(!this.validateGeometryWithUpdateType({geometry:f,properties:d,updateType:s.updateType}))return!1;this.updateFeatureGeometries([{id:r,geometry:f}])}return a&&this.updateFeatureProperties([{featureId:r,properties:a}]),!0}applyCoordinateMutations(t,r){if(this.isReplaceMutation(r))return Wt({},t,{coordinates:r.coordinates});if(t.type==="Point")throw new Error("Coordinate mutations are not supported for Point geometries");const i=t.type==="Polygon",a=i?t.coordinates[0].slice():t.coordinates.slice(),s=a.length,u=x=>{const w=x<0?s+x:x;if(w<0||w>=s)throw new RangeError(`Index ${x} (normalized to ${w}) is out of bounds`);return w},d=new Array(s).fill(void 0),f=Array.from({length:s},()=>[]),h=Array.from({length:s},()=>[]),g=[];for(const x of r){if(x.type===yh||x.type===fu){const _=x.index,E=_<0?s+_:_;if(E<0||E>s)throw new RangeError(`Index ${x.index} (normalized to ${E}) is out of bounds`);if(x.type===yh){if(E>=s)throw new RangeError(`INSERT_BEFORE index ${x.index} (normalized to ${E}) is out of bounds for length ${s}`);f[E].push(x)}else E===s?g.push(x):h[E].push(x);continue}const w=u(x.index);d[w]=Wt({},x,{index:w})}const y=[];for(let x=0;x<s;x++){const w=f[x];for(const T of w)y.push(T.coordinate);const _=d[x];_?_.type===As||y.push(_.coordinate):y.push(a[x]);const E=h[x];for(const T of E)y.push(T.coordinate)}for(const x of g)y.push(x.coordinate);return Wt({},t,i?{coordinates:[y,...t.coordinates.slice(1)]}:{coordinates:y})}isReplaceMutation(t){return t.type===oi}createFeatureWithGeometry({geometry:t,properties:r}){const[i]=this.createFeatures([{type:"Feature",geometry:t,properties:r}]);return{id:i,type:"Feature",properties:this.store.getPropertiesCopy(i),geometry:this.store.getGeometryCopy(i)}}validateGeometryWithUpdateType({geometry:t,properties:r,updateType:i}){return!this.options.validate||this.options.validate({type:"Feature",geometry:t,properties:r||{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid}buildFeatureWithGeometry(t){return{id:t,type:"Feature",properties:this.store.getPropertiesCopy(t),geometry:this.store.getGeometryCopy(t)}}createFeatures(t){return this.store.create(t)}updateFeatureGeometries(t){this.store.updateGeometry(t)}updateFeatureProperties(t){const r=t.map(({featureId:i,properties:a})=>Object.entries(a).map(([s,u])=>({id:i,property:s,value:u}))).flat();this.store.updateProperty(r)}}const Ha=(e,t)=>{const{x:r,y:i}=e,{x:a,y:s}=t,u=a-r,d=s-i;return Math.sqrt(d*d+u*u)};function qE(e,t){return e[0]===t[0]&&e[1]===t[1]}class Qv extends nr{constructor(t){super(t)}getGeometryType(t){return this.store.getGeometryCopy(t).type}coordinateAtIndexIsIdentical({featureId:t,newCoordinate:r,index:i}){const a=this.store.getGeometryCopy(t);let s;if(a.type==="Polygon")s=a.coordinates[0][i];else if(a.type==="LineString")s=a.coordinates[i];else{if(i!==0)throw new Error("Point geometries only have one coordinate at index 0");s=a.coordinates}return qE(r,s)}getGeometry(t){return this.store.getGeometryCopy(t)}getCoordinates(t){const{type:r,coordinates:i}=this.store.getGeometryCopy(t);return r==="Polygon"?i[0]:i}getCoordinate(t,r){const i=this.getCoordinates(t),a=r<0?i.length+r:r;if(a<0||a>=i.length)throw new RangeError(`Index ${r} (normalized to ${a}) is out of bounds`);return i[a]}getProperties(t){return this.store.getPropertiesCopy(t)}hasFeature(t){return this.store.has(t)}getAllFeatureIdsWhere(t){return this.store.copyAllWhere(t).map(({id:r})=>r)}}function GE({unproject:e,point:t,pointerDistance:r}){const i=r/2,{x:a,y:s}=t;return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[e(a-i,s-i),e(a+i,s-i),e(a+i,s+i),e(a-i,s+i),e(a-i,s-i)].map(u=>[u.lng,u.lat])]}}}class lp extends nr{constructor(t){super(t)}create(t){const{containerX:r,containerY:i}=t;return GE({unproject:this.unproject,point:{x:r,y:i},pointerDistance:this.pointerDistance})}}class up extends nr{constructor(t){super(t)}measure(t,r){const{x:i,y:a}=this.project(r[0],r[1]);return Ha({x:i,y:a},{x:t.containerX,y:t.containerY})}}class Zv extends nr{constructor(t,r,i){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=a=>this.getSnappable(a,s=>!!(s.properties&&s.properties.mode===this.mode)).coordinate,this.getSnappableCoordinate=(a,s)=>this.getSnappable(a,u=>!!(u.properties&&u.properties.mode===this.mode&&u.id!==s)).coordinate,this.config=t,this.pixelDistance=r,this.clickBoundingBox=i}getSnappable(t,r){const i=this.clickBoundingBox.create(t),a=this.store.search(i,r),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDist:1/0};return a.forEach(u=>{let d;if(u.geometry.type==="Polygon")d=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;d=u.geometry.coordinates}d.forEach((f,h)=>{const g=this.pixelDistance.measure(t,f);g<s.minDist&&g<this.pointerDistance&&(s.coordinate=f,s.minDist=g,s.featureId=u.id,s.featureCoordinateIndex=h)})}),s}}function m1(e,t,r){const i=$r(e[0]),a=$r(e[1]),s=$r(r),u=OF(t),d=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(s));return[cu(i+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(d))),cu(d)]}function g1(e,t){const r=$r(e[0]),i=$r(t[0]),a=$r(e[1]),s=$r(t[1]),u=Math.sin(i-r)*Math.cos(s),d=Math.cos(a)*Math.sin(s)-Math.sin(a)*Math.cos(s)*Math.cos(i-r);return cu(Math.atan2(u,d))}function NF({x:e,y:t},{x:r,y:i}){const a=r-e,s=i-t;if(a===0&&s===0)return 0;let u=Math.atan2(s,a);return u*=180/Math.PI,u>180?u-=360:u<-180&&(u+=360),u}function IF(e,t,r){const i=[],a=e.length;let s,u,d,f=0;for(let g=0;g<e.length&&!(t>=f&&g===e.length-1);g++){if(f>t&&i.length===0){if(s=t-f,!s)return i.push(e[g]),i;u=g1(e[g],e[g-1])-180,d=m1(e[g],s,u),i.push(d)}if(f>=r)return s=r-f,s?(u=g1(e[g],e[g-1])-180,d=m1(e[g],s,u),i.push(d),i):(i.push(e[g]),i);if(f>=t&&i.push(e[g]),g===e.length-1)return i;f+=Ko(e[g],e[g+1])}if(f<t&&e.length===a)throw new Error("Start position is beyond line");const h=e[e.length-1];return[h,h]}function Hf(e){return e*(Math.PI/180)}function y1(e){return e*(180/Math.PI)}class jF extends nr{constructor(t){super(t),this.config=void 0,this.config=t}generateInsertionCoordinates(t,r,i){const a=[t,r];let s=0;for(let h=0;h<a.length-1;h++)s+=Ko(a[0],a[1]);if(s<=i)return a;let u=s/i-1;Number.isInteger(u)||(u=Math.floor(u)+1);const d=[];for(let h=0;h<u;h++){const g=IF(a,i*h,i*(h+1));d.push(g)}const f=[];for(let h=0;h<d.length;h++)f.push(d[h][1]);return this.limitCoordinates(f)}generateInsertionGeodesicCoordinates(t,r,i){const a=Ko(t,r),s=(function(u,d,f){const h=[],g=Hf(u[1]),y=Hf(u[0]),x=Hf(d[1]),w=Hf(d[0]);f+=1;const _=2*Math.asin(Math.sqrt(Math.sin((x-g)/2)**2+Math.cos(g)*Math.cos(x)*Math.sin((w-y)/2)**2));if(_===0||isNaN(_))return h;for(let E=0;E<=f;E++){const T=E/f,N=Math.sin((1-T)*_)/Math.sin(_),D=Math.sin(T*_)/Math.sin(_),I=N*Math.cos(g)*Math.cos(y)+D*Math.cos(x)*Math.cos(w),F=N*Math.cos(g)*Math.sin(y)+D*Math.cos(x)*Math.sin(w),k=N*Math.sin(g)+D*Math.sin(x);if(isNaN(I)||isNaN(F)||isNaN(k))continue;const V=Math.atan2(k,Math.sqrt(I**2+F**2)),A=Math.atan2(F,I);isNaN(V)||isNaN(A)||h.push([y1(A),y1(V)])}return h.slice(1,-1)})(t,r,Math.floor(a/i));return this.limitCoordinates(s)}limitCoordinates(t){return t.map(r=>[Tn(r[0],this.config.coordinatePrecision),Tn(r[1],this.config.coordinatePrecision)])}}function zF(e,t){if(e.geometry.type!=="LineString")return{valid:!1,reason:"Feature is not a LineString"};if(e.geometry.coordinates.length<2)return{valid:!1,reason:"Feature has less than 2 coordinates"};for(let r=0;r<e.geometry.coordinates.length;r++){if(!Wv(e.geometry.coordinates[r]))return{valid:!1,reason:"Feature has invalid coordinates"};if(!ap(e.geometry.coordinates[r],t))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return{valid:!0}}function v1(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function _s(e,t){const r=(function(i,a){const[s,u,d]=i,[f,h,g]=a;return s*f+u*h+d*g})(e,t)/(v1(e)*v1(t));return Math.acos(Math.min(Math.max(r,-1),1))}function Ig(e){const t=$r(e[1]),r=$r(e[0]);return[Math.cos(t)*Math.cos(r),Math.cos(t)*Math.sin(r),Math.sin(t)]}function Es(e){const[t,r,i]=e,a=cu(Math.asin(i));return[cu(Math.atan2(r,t)),a]}function FF(e,t,r){const i=Ig(e),a=Ig(t),s=Ig(r),[u,d,f]=s,[h,g,y]=(function(he,de){const[Oe,ce,xe]=he,[B,X,q]=de;return[ce*q-xe*X,xe*B-Oe*q,Oe*X-ce*B]})(i,a),x=g*f-y*d,w=y*u-h*f,_=h*d-g*u,E=_*g-w*y,T=x*y-_*h,N=w*h-x*g,D=1/Math.sqrt(Math.pow(E,2)+Math.pow(T,2)+Math.pow(N,2)),I=[E*D,T*D,N*D],F=[-1*E*D,-1*T*D,-1*N*D],k=_s(i,a),V=_s(i,I),A=_s(a,I),G=_s(i,F),W=_s(a,F);let le;return le=V<G&&V<W||A<G&&A<W?I:F,_s(i,le)>k||_s(a,le)>k?Ko(Es(le),Es(i))<=Ko(Es(le),Es(a))?[Es(i),!0,!1]:[Es(a),!1,!0]:[Es(le),!1,!1]}function kF(e,t,r){const i=t.x-e.x,a=t.y-e.y,s=Math.max(0,Math.min(1,((r.x-e.x)*i+(r.y-e.y)*a)/(i*i+a*a)));return{x:e.x+s*i,y:e.y+s*a}}class Jv extends nr{constructor(t,r,i){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=a=>{const s=this.getSnappable(a,u=>!!(u.properties&&u.properties.mode===this.mode));return s.coordinate?[Tn(s.coordinate[0],this.config.coordinatePrecision),Tn(s.coordinate[1],this.config.coordinatePrecision)]:void 0},this.getSnappableCoordinate=(a,s)=>{const u=this.getSnappable(a,d=>!!(d.properties&&d.properties.mode===this.mode&&d.id!==s));return u.coordinate?[Tn(u.coordinate[0],this.config.coordinatePrecision),Tn(u.coordinate[1],this.config.coordinatePrecision)]:void 0},this.config=t,this.pixelDistance=r,this.clickBoundingBox=i}getSnappable(t,r){const i=this.clickBoundingBox.create(t),a=this.store.search(i,r),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDistance:1/0};return a.forEach(u=>{let d;if(u.geometry.type==="Polygon")d=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;d=u.geometry.coordinates}const f=[];for(let x=0;x<d.length-1;x++)f.push([d[x],d[x+1]]);let h;const g=[t.lng,t.lat];if(this.config.projection==="web-mercator"?h=(function(x,w){let _=[1/0,1/0],E=1/0,T=0;for(let N of w){const D=N[0],I=N[1];let F,k=1/0;const V=Mn(D[0],D[1]),A=Mn(I[0],I[1]),G=Mn(x[0],x[1]);if(D[0]===x[0]&&D[1]===x[1])F=D;else if(I[0]===x[0]&&I[1]===x[1])F=I;else{const{x:W,y:le}=kF(V,A,G),{lng:he,lat:de}=du(W,le);F=[he,de]}F&&(k=Ha(G,Mn(F[0],F[1])),k<E&&(_=F,E=k,T=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,lineIndex:T,distance:E}})(g,f):this.config.projection==="globe"&&(h=(function(x,w){let _=[1/0,1/0],E=1/0,T=0;for(let N of w){const D=N[0],I=N[1];let F,k=1/0;D[0]===x[0]&&D[1]===x[1]?F=D:I[0]===x[0]&&I[1]===x[1]?F=I:[F]=FF(D,I,x),F&&(k=Ko(x,F),k<E&&(_=F,E=k,T=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,distance:E,lineIndex:T}})(g,f)),!h)return;const y=this.pixelDistance.measure(t,h.coordinate);y<s.minDistance&&y<this.pointerDistance&&(s.featureId=u.id,s.coordinate=[Tn(h.coordinate[0],this.config.coordinatePrecision),Tn(h.coordinate[1],this.config.coordinatePrecision)],s.featureCoordinateIndex=h.lineIndex,s.minDistance=y)}),s}}function e0(e){return Array.isArray(e)&&e.length>0&&Array.isArray(e[0])&&Array.isArray(e[0][0])}const vh=e=>e0(e)?e[0].slice(0,-1):e,Gc=e=>e0(e)?e[0]:e;class VE extends nr{constructor(t,r,i,a){super(t),this.config=void 0,this.pixelDistance=void 0,this.mutateFeatureBehavior=void 0,this.readFeatureBehavior=void 0,this._startEndPoints=[],this.config=t,this.pixelDistance=r,this.mutateFeatureBehavior=i,this.readFeatureBehavior=a}get ids(){return this._startEndPoints.concat()}set ids(t){}create(t){if(this.ids.length)throw new Error("Opening and closing points already created");const r=e0(t),i=Gc(t);if(r){if(i.length<=3)throw new Error("Requires at least 4 coordinates");this._startEndPoints=this.mutateFeatureBehavior.createGuidancePoints({coordinates:[i[0],i[i.length-2]],type:ft.CLOSING_POINT})}else this._startEndPoints=[this.mutateFeatureBehavior.createGuidancePoint({coordinate:i[i.length-2],type:ft.CLOSING_POINT})]}delete(){this.ids.length&&(this.mutateFeatureBehavior.deleteFeaturesIfPresent(this.ids),this._startEndPoints=[])}updateOne(t,r){this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[t],coordinate:r}])}update(t){const r=Gc(t);this.ids.length!==1?this.ids.length===2&&this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:r[0]},{featureId:this.ids[1],coordinate:r[r.length-3]}]):this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:r[r.length-2]}])}isLineStringClosingPoint(t){if(this.ids.length!==1)return{isClosing:!1};const r=this.readFeatureBehavior.getGeometry(this.ids[0]);return{isClosing:this.pixelDistance.measure(t,r.coordinates)<this.pointerDistance}}isPolygonClosingPoints(t){if(this.ids.length!==2)return{isClosing:!1,isPreviousClosing:!1};const r=this.readFeatureBehavior.getGeometry(this.ids[0]),i=this.readFeatureBehavior.getGeometry(this.ids[1]),a=this.pixelDistance.measure(t,r.coordinates),s=this.pixelDistance.measure(t,i.coordinates);return{isClosing:a<this.pointerDistance,isPreviousClosing:s<this.pointerDistance}}}class t0 extends nr{constructor(t,r,i){super(t),this.readFeature=void 0,this.mutateFeature=void 0,this.readFeature=r,this.mutateFeature=i}createOrUpdate({featureId:t,featureCoordinates:r}){if(!this.readFeature.hasFeature(t))return void this.deleteOrphanedPoints(t);const i=vh(r),a=this.readFeature.getProperties(t),s=a.coordinatePointIds;if(s)if(s&&s.every(u=>this.readFeature.hasFeature(u))){const u=a.coordinatePointIds,d=u.map(f=>this.readFeature.getGeometry(f).coordinates);if(u.length!==i.length){this.deleteCoordinatePoints(u);const f=this.createPoints(i,a.mode,t);this.setFeatureCoordinatePoints(t,f)}else{const f=[];i.forEach((h,g)=>{h[0]===d[g][0]&&h[1]===d[g][1]||f.push({featureId:u[g],coordinate:h})}),this.mutateFeature.updateGuidancePoints(f)}}else{const u=s.filter(f=>this.readFeature.hasFeature(f));u.length&&this.deleteCoordinatePoints(u);const d=this.createPoints(i,a.mode,t);this.setFeatureCoordinatePoints(t,d)}else{const u=this.createPoints(i,a.mode,t);this.setFeatureCoordinatePoints(t,u)}}deletePointsByFeatureIds(t){for(const r of t)this.deleteIfPresent(r)}updateOneAtIndex(t,r,i){const a=this.readFeature.getProperties(t).coordinatePointIds;a&&a.length!==0&&a[r]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:a[r],coordinate:i}])}updateAllInPlace({featureId:t,featureCoordinates:r}){const i=this.readFeature.getProperties(t);if(!i.coordinatePointIds)return;const a=vh(r);a.length===i.coordinatePointIds.length&&this.mutateFeature.updateGuidancePoints(i.coordinatePointIds.map((s,u)=>({featureId:s,coordinate:a[u]})))}createPoints(t,r,i){return this.mutateFeature.createGuidancePoints({coordinates:t,type:ft.COORDINATE_POINT,additionalProperties:a=>({mode:r,[ft.COORDINATE_POINT]:!0,[ft.COORDINATE_POINT_FEATURE_ID]:i,index:a})})}setFeatureCoordinatePoints(t,r,i=_t.Commit){const a=this.readFeature.getGeometryType(t),s={featureId:t,propertyMutations:{[ft.COORDINATE_POINT_IDS]:r},context:{updateType:i}};if(a==="Polygon")this.mutateFeature.updatePolygon(s);else{if(a!=="LineString")throw new Error("Unsupported geometry type for coordinate points");this.mutateFeature.updateLineString(s)}}deleteCoordinatePoints(t){this.mutateFeature.deleteFeaturesIfPresent(t)}deleteIfPresent(t){if(!this.readFeature.hasFeature(t))return;const r=this.readFeature.getProperties(t).coordinatePointIds;r&&(this.deleteCoordinatePoints(r),this.setFeatureCoordinatePoints(t,null))}deleteOrphanedPoints(t){const r=this.readFeature.getAllFeatureIdsWhere(i=>i[ft.COORDINATE_POINT_FEATURE_ID]===t);this.mutateFeature.deleteFeaturesIfPresent(r)}}const LF={cancel:"Escape",finish:"Enter"},BF={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class UF extends gd{constructor(t){super(t,!0),this.mode="linestring",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=LF,this.snapping=void 0,this.cursors=BF,this.mouseMove=!1,this.insertCoordinates=void 0,this.lastCommittedCoordinates=void 0,this.snappedPointId=void 0,this.lastMouseMoveEvent=void 0,this.showCoordinatePoints=!1,this.finishOnNthCoordinate=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinateSnapping=void 0,this.insertPoint=void 0,this.lineSnapping=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.closingPoints=void 0,this.coordinatePoints=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),t?.finishOnNthCoordinate!==void 0&&Number.isInteger(t.finishOnNthCoordinate)&&t.finishOnNthCoordinate>1&&(this.finishOnNthCoordinate=Math.floor(t.finishOnNthCoordinate)),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t!=null&&t.snapping&&(this.snapping=t.snapping),t?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t!=null&&t.insertCoordinates&&(this.insertCoordinates=t.insertCoordinates),t&&t.editable&&(this.editable=t.editable),t?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=t.showCoordinatePoints,this.coordinatePoints&&t.showCoordinatePoints===!0)this.store.copyAllWhere(r=>r.mode===this.mode).forEach(r=>{this.coordinatePoints.createOrUpdate({featureId:r.id,featureCoordinates:r.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const r=this.store.copyAllWhere(i=>{var a;return i.mode===this.mode&&!!((a=i[ft.COORDINATE_POINT_IDS])!=null&&a.length)});this.coordinatePoints.deletePointsByFeatureIds(r.map(i=>i.id))}}}shouldFinishOnCommit(t){return!!this.finishOnNthCoordinate&&Math.max(0,t.coordinates.length-1)>=this.finishOnNthCoordinate}updateSnappedCoordinate(t){const r=this.snapCoordinate(t);return r?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:r}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:r,type:ft.SNAPPING_POINT}),t.lng=r[0],t.lat=r[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),r}close(){if(this.currentId===void 0)return;const t=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Finish,action:$a},coordinateMutations:[{type:As,index:-1}],propertyMutations:{[ft.CURRENTLY_DRAWING]:void 0}});if(!t)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:t.geometry.coordinates});const r=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.lastCommittedCoordinates=void 0,this.state==="drawing"&&this.setStarted(),this.closingPoints.delete(),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.onFinish(r,{mode:this.mode,action:$a})}generateInsertCoordinates(t,r){if(!this.insertCoordinates||!this.lastCommittedCoordinates)throw new Error("Not able to insert coordinates");if(this.insertCoordinates.strategy!=="amount")throw new Error("Strategy does not exist");const i=Ko(t,r)/(this.insertCoordinates.value+1);let a=[];return this.projection==="globe"?a=this.insertPoint.generateInsertionGeodesicCoordinates(t,r,i):this.projection==="web-mercator"&&(a=this.insertPoint.generateInsertionCoordinates(t,r,i)),a}createLine(t){const r=this.mutateFeature.createLineString({coordinates:[t,t],properties:{mode:this.mode,[ft.CURRENTLY_DRAWING]:!0}});this.lastCommittedCoordinates=r.geometry.coordinates,this.currentId=r.id,this.currentCoordinate++,this.setDrawing(),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:r.geometry.coordinates})}firstUpdateToLine(t){if(!this.currentId)return;this.setCursor(this.cursors.close);const r=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Commit},coordinateMutations:[{type:fu,index:-1,coordinate:t}]});r&&(this.closingPoints.create(r.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:r.geometry.coordinates}),this.lastCommittedCoordinates=r.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(r.geometry)&&this.close())}updateToLine(t,r){if(!this.currentId)return;const{isClosing:i}=this.closingPoints.isLineStringClosingPoint(t);if(i)return void this.close();this.setCursor(this.cursors.close);const a=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Commit},coordinateMutations:[{type:fu,index:-1,coordinate:r}]});a&&(this.closingPoints.update(a.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:a.geometry.coordinates}),this.lastCommittedCoordinates=a.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(a.geometry)&&this.close())}registerBehaviors(t){this.insertPoint=new jF(t),this.clickBoundingBox=new lp(t),this.pixelDistance=new up(t),this.lineSnapping=new Jv(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new Zv(t,this.pixelDistance,this.clickBoundingBox),this.readFeature=new Qv(t),this.mutateFeature=new sp(t,{validate:this.validate}),this.closingPoints=new VE(t,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new t0(t,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onMouseMove(t){this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=t;const r=this.updateSnappedCoordinate(t)||[t.lng,t.lat];if(this.currentId===void 0||this.currentCoordinate===0)return;const{isClosing:i}=this.closingPoints.isLineStringClosingPoint(t);i&&this.setCursor(this.cursors.close);let a=[{type:Or,index:-1,coordinate:r}];if(this.insertCoordinates){const u=this.getInsertCoordinates(r);u&&(a={type:oi,coordinates:u})}const s=this.mutateFeature.updateLineString({coordinateMutations:a,featureId:this.currentId,context:{updateType:_t.Provisional}});s&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates})}getInsertCoordinates(t){if(!this.lastCommittedCoordinates)return;const r=this.lastCommittedCoordinates[this.lastCommittedCoordinates.length-1];if(qE(r,t))return;const i=this.generateInsertCoordinates(r,t);return[...this.lastCommittedCoordinates.slice(0,-1),...i,t]}onRightClick(t){if(!this.editable||this.state!=="started")return;const{featureId:r,featureCoordinateIndex:i}=this.coordinateSnapping.getSnappable(t,d=>this.lineStringFilter(d));if(!r||i===void 0)return;const a=this.readFeature.getGeometry(r);let s;if(a.type!=="LineString"||(s=a.coordinates,s.length<=2))return;const u=this.mutateFeature.updateLineString({featureId:r,coordinateMutations:[{type:As,index:i}],context:{updateType:_t.Finish,action:tu}});u&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:r,featureCoordinates:u.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(r,{mode:this.mode,action:$E})}onLeftClick(t){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);const r=this.snapCoordinate(t)||[t.lng,t.lat];this.currentCoordinate===0?this.createLine(r):this.currentCoordinate===1&&this.currentId?this.firstUpdateToLine(r):this.currentId&&this.updateToLine(t,r)}onClick(t){this.currentId===void 0||this.readFeature.hasFeature(this.currentId)||this.cleanUp(),(t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t))&&(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,t.button==="right"?this.onRightClick(t):t.button==="left"&&this.onLeftClick(t))}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel&&this.cleanUp(),t.key===this.keyEvents.finish&&this.close()}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t)||!this.editable)return;let i;if(this.state==="started"){const a=this.lineSnapping.getSnappable(t,u=>this.lineStringFilter(u));a.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=a.featureCoordinateIndex,this.editedFeatureId=a.featureId,i=a.coordinate);const s=this.coordinateSnapping.getSnappable(t,u=>this.lineStringFilter(u));s.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,i=s.coordinate)}this.editedFeatureId&&i&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:i,type:ft.EDITED})),this.setCursor(this.cursors.dragStart),r(!1))}onDrag(t,r){if(this.allowPointerEvent(this.pointerEvents.onDrag,t)&&this.editedFeatureId!==void 0&&this.editedFeatureCoordinateIndex!==void 0){if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0){const i=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional},coordinateMutations:[{type:Or,index:this.editedFeatureCoordinateIndex,coordinate:[t.lng,t.lat]}]});if(!i)return;this.showCoordinatePoints&&(this.editedInsertIndex!==void 0?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:i.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,[t.lng,t.lat]))}else if(this.editedSnapType==="line"&&this.editedInsertIndex===void 0){this.editedInsertIndex=this.editedFeatureCoordinateIndex+1;const i=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:i.geometry.coordinates}),this.editedFeatureCoordinateIndex++}this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:[t.lng,t.lat]}]),this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional},propertyMutations:{[ft.EDITED]:!0}})}}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updateLineString({featureId:this.editedFeatureId,propertyMutations:{[ft.EDITED]:!1},context:{updateType:_t.Finish,action:tu}})))return;const i=this.editedFeatureId;r(!0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(i,{mode:this.mode,action:tu})}cleanUp(){const t=this.currentId,r=this.snappedPointId;this.snappedPointId=void 0,this.currentId=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),t&&this.showCoordinatePoints&&this.coordinatePoints.deletePointsByFeatureIds([t]),this.mutateFeature.deleteFeatureIfPresent(t),this.mutateFeature.deleteFeatureIfPresent(r),this.closingPoints.delete()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.type==="Feature"&&t.geometry.type==="LineString"&&t.properties.mode===this.mode)return r.lineStringColor=this.getHexColorStylingValue(this.styles.lineStringColor,r.lineStringColor,t),r.lineStringOpacity=this.getNumericStylingValue(this.styles.lineStringOpacity,r.lineStringOpacity===void 0?1:r.lineStringOpacity,t),r.lineStringWidth=this.getNumericStylingValue(this.styles.lineStringWidth,r.lineStringWidth,t),r.zIndex=qc,r;if(t.type==="Feature"&&t.geometry.type==="Point"&&t.properties.mode===this.mode){const i=t.properties[ft.COORDINATE_POINT],a=t.properties[ft.CLOSING_POINT]?"closingPoint":t.properties[ft.SNAPPING_POINT]?"snappingPoint":i?"coordinatePoint":void 0;if(!a)return r;const s={closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return r.pointWidth=this.getNumericStylingValue(s[a].width,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(s[a].opacity,1,t),r.pointColor=this.getHexColorStylingValue(s[a].color,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(s[a].outlineColor,"#ffffff",t),r.pointOutlineWidth=this.getNumericStylingValue(s[a].outlineWidth,2,t),r.pointOutlineOpacity=this.getNumericStylingValue(s[a].outlineOpacity,1,t),r.zIndex=i?20:50,r}return r}validateFeature(t){return this.validateModeFeature(t,r=>zF(r,this.coordinatePrecision))}lineStringFilter(t){return!!(t.geometry.type==="LineString"&&t.properties&&t.properties.mode===this.mode)}snapCoordinate(t){var r,i,a;let s;if((r=this.snapping)!=null&&r.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((i=this.snapping)!=null&&i.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((a=this.snapping)!=null&&a.toCustom){const u=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(s=u)}return s}afterFeatureUpdated(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates}),this.editedFeatureId===t.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===t.id&&(this.closingPoints.delete(),this.currentCoordinate=0,this.currentId=void 0,this.state==="drawing"&&this.setStarted())}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates})}}const $F="Feature is not a Point",HF="Feature has invalid coordinates",qF="Feature has coordinates with excessive precision";function GF(e,t){return e.geometry.type!=="Point"?{valid:!1,reason:$F}:Wv(e.geometry.coordinates)?ap(e.geometry.coordinates,t)?{valid:!0}:{valid:!1,reason:qF}:{valid:!1,reason:HF}}class VF extends nr{constructor(t,r,i){super(t),this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pixelDistance=r,this.clickBoundingBox=i}getNearestPointFeature(t){const r=this.clickBoundingBox.create(t),i=this.store.search(r);let a,s=1/0;for(let u=0;u<i.length;u++){const d=i[u];if(d.geometry.type!=="Point"||d.properties.mode!==this.mode)continue;const f=this.pixelDistance.measure(t,d.geometry.coordinates);f>s||f>this.pointerDistance||(s=f,a=d)}return a}}const YF={create:"crosshair",dragStart:"grabbing",dragEnd:"crosshair"};class KF extends gd{constructor(t){super(t,!0),this.mode="point",this.cursors=YF,this.editable=!1,this.editedFeatureId=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pointSearch=void 0,this.mutateFeature=void 0,this.updateOptions(t)}updateOptions(t){super.updateOptions(t),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t!=null&&t.editable&&(this.editable=t.editable)}start(){this.setStarted(),this.setCursor(this.cursors.create)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onClick(t){t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}onMouseMove(){}onKeyDown(){}onKeyUp(){}cleanUp(){this.editedFeatureId=void 0}onDragStart(t,r){if(this.allowPointerEvent(this.pointerEvents.onDragStart,t)){if(this.editable){const i=this.pointSearch.getNearestPointFeature(t);this.editedFeatureId=i?.id}this.editedFeatureId&&(this.setCursor(this.cursors.dragStart),r(!1))}}onDrag(t,r){this.allowPointerEvent(this.pointerEvents.onDrag,t)&&this.editedFeatureId!==void 0&&this.mutateFeature.updatePoint({featureId:this.editedFeatureId,coordinateMutations:{type:oi,coordinates:[t.lng,t.lat]},propertyMutations:{[ft.EDITED]:!0},context:{updateType:_t.Provisional}})}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||!this.mutateFeature.updatePoint({featureId:this.editedFeatureId,propertyMutations:{mode:this.mode,[ft.EDITED]:!1},context:{updateType:_t.Finish,action:"edit"}}))return;const i=this.editedFeatureId;this.setCursor(this.cursors.dragEnd),this.editedFeatureId=void 0,r(!0),this.onFinish(i,{mode:this.mode,action:$a})}registerBehaviors(t){this.pixelDistance=new up(t),this.clickBoundingBox=new lp(t),this.pointSearch=new VF(t,this.pixelDistance,this.clickBoundingBox),this.mutateFeature=new sp(t,{validate:this.validate})}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.type==="Feature"&&t.geometry.type==="Point"&&t.properties.mode===this.mode){const i=!!(t.id&&this.editedFeatureId===t.id);r.pointWidth=this.getNumericStylingValue(i?this.styles.editedPointWidth:this.styles.pointWidth,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(this.styles.pointOpacity,r.pointOpacity===void 0?1:r.pointOpacity,t),r.pointColor=this.getHexColorStylingValue(i?this.styles.editedPointColor:this.styles.pointColor,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(i?this.styles.editedPointOutlineColor:this.styles.pointOutlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.pointOutlineOpacity,r.pointOutlineOpacity===void 0?1:r.pointOutlineOpacity,t),r.pointOutlineWidth=this.getNumericStylingValue(i?this.styles.editedPointOutlineWidth:this.styles.pointOutlineWidth,2,t),r.zIndex=30}return r}validateFeature(t){return this.validateModeFeature(t,r=>GF(r,this.coordinatePrecision))}onLeftClick(t){const r=this.mutateFeature.createPoint({coordinates:[t.lng,t.lat],properties:{mode:this.mode},context:{updateType:_t.Finish,action:$a}});r&&this.onFinish(r.id,{mode:this.mode,action:$a})}onRightClick(t){if(!this.editable)return;const r=this.pointSearch.getNearestPointFeature(t);r&&this.mutateFeature.deleteFeatureIfPresent(r.id)}afterFeatureUpdated(t){this.editedFeatureId===t.id&&(this.editedFeatureId=void 0,this.setCursor(this.cursors.create))}}const XF={cancel:"Escape",finish:"Enter"},WF={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class QF extends gd{constructor(t){super(t,!0),this.mode="polygon",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=XF,this.cursors=WF,this.mouseMove=!1,this.showCoordinatePoints=!1,this.lastMouseMoveEvent=void 0,this.snapping=void 0,this.snappedPointId=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinatePoints=void 0,this.lineSnapping=void 0,this.coordinateSnapping=void 0,this.pixelDistance=void 0,this.closingPoints=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t!=null&&t.snapping&&(this.snapping=t.snapping),t?.editable!==void 0&&(this.editable=t.editable),t?.pointerEvents!==void 0&&(this.pointerEvents=t.pointerEvents),t?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=t.showCoordinatePoints,this.coordinatePoints&&t.showCoordinatePoints===!0)this.store.copyAllWhere(r=>r.mode===this.mode).forEach(r=>{this.coordinatePoints.createOrUpdate({featureId:r.id,featureCoordinates:r.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const r=this.store.copyAllWhere(i=>i.mode===this.mode&&!!i[ft.COORDINATE_POINT_IDS]);this.coordinatePoints.deletePointsByFeatureIds(r.map(i=>i.id))}}}close(){if(this.currentId===void 0||this.readFeature.getCoordinates(this.currentId).length<5)return;const t=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:As,index:-2}],propertyMutations:{[ft.CURRENTLY_DRAWING]:void 0,[ft.COMMITTED_COORDINATE_COUNT]:void 0,[ft.PROVISIONAL_COORDINATE_COUNT]:void 0},context:{updateType:_t.Finish,action:$a}});if(!t)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:t.geometry.coordinates}),this.state==="drawing"&&this.setStarted(),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.closingPoints.delete();const r=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.onFinish(r,{mode:this.mode,action:$a})}registerBehaviors(t){this.readFeature=new Qv(t),this.mutateFeature=new sp(t,{validate:this.validate}),this.clickBoundingBox=new lp(t),this.pixelDistance=new up(t),this.lineSnapping=new Jv(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new Zv(t,this.pixelDistance,this.clickBoundingBox),this.closingPoints=new VE(t,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new t0(t,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}updateSnappedCoordinate(t){const r=this.snapCoordinate(t);r?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:r}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:r,type:ft.SNAPPING_POINT}),t.lng=r[0],t.lat=r[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0)}onMouseMove(t){if(this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=t,this.updateSnappedCoordinate(t),this.currentId===void 0||this.currentCoordinate===0)return;const r=this.readFeature.getCoordinate(this.currentId,0),i=[t.lng,t.lat];let a;if(this.currentCoordinate===1)a=[{type:Or,index:1,coordinate:i},{type:Or,index:2,coordinate:[t.lng,t.lat-this.mutateFeature.epsilonOffset()]}];else if(this.currentCoordinate===2)a=[{type:Or,index:2,coordinate:i}];else{const{isClosing:u,isPreviousClosing:d}=this.closingPoints.isPolygonClosingPoints(t);d||u?(this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.setCursor(this.cursors.close),a=[{type:Or,index:-1,coordinate:r},{type:Or,index:-2,coordinate:r}]):a=[{type:Or,index:-2,coordinate:i},{type:Or,index:-1,coordinate:r}]}const s=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:a,propertyMutations:{[ft.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Provisional}});s&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates})}snapCoordinate(t){var r,i,a;let s;if((r=this.snapping)!=null&&r.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((i=this.snapping)!=null&&i.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((a=this.snapping)!=null&&a.toCustom){const u=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(s=u)}return s}polygonFilter(t){return!!(t.geometry.type==="Polygon"&&t.properties&&t.properties.mode===this.mode)}onRightClick(t){if(!this.editable||this.state!=="started")return;const{featureId:r,featureCoordinateIndex:i}=this.coordinateSnapping.getSnappable(t,f=>this.polygonFilter(f));if(!r||i===void 0)return;const a=this.readFeature.getGeometry(r);if(a.type!=="Polygon")return;const s=a.coordinates[0];if(s.length<=4)return;let u;u=i===0||i===s.length-1?[{type:As,index:0},{type:As,index:-1},{type:fu,index:-1,coordinate:s[1]}]:[{type:As,index:i}];const d=this.mutateFeature.updatePolygon({featureId:r,coordinateMutations:u,context:{updateType:_t.Finish,action:tu}});if(d){if(this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:r,featureCoordinates:d.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0,this.snapping)){const f=this.snapCoordinate(t);if(f){const[h]=this.mutateFeature.createGuidancePoints({type:ft.SNAPPING_POINT,coordinates:[f]});this.snappedPointId=h}}this.onFinish(r,{mode:this.mode,action:tu})}}onLeftClick(t){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);let r=this.snapCoordinate(t)||[t.lng,t.lat];if(this.currentCoordinate===0){const{id:i,geometry:a}=this.mutateFeature.createPolygon({coordinates:[r,r,r,r],properties:{mode:this.mode,[ft.CURRENTLY_DRAWING]:!0,[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1,[ft.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1}});this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:i,featureCoordinates:a.coordinates}),this.currentId=i,this.currentCoordinate++,this.setDrawing()}else if(this.currentCoordinate===1&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:0}))return;const i=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Or,index:1,coordinate:r},{type:Or,index:2,coordinate:r}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:i.geometry.coordinates}),this.currentCoordinate++}else if(this.currentCoordinate===2&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:1}))return;const i=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Or,index:2,coordinate:r},{type:fu,index:2,coordinate:r}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:i.geometry.coordinates}),this.currentCoordinate===2&&this.closingPoints.create(i.geometry.coordinates),this.currentCoordinate++}else if(this.currentId){const{isClosing:i,isPreviousClosing:a}=this.closingPoints.isPolygonClosingPoints(t);if(a||i)this.close();else{if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:this.currentCoordinate-1}))return;const s=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:yh,index:-1,coordinate:r}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!s)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates}),this.currentCoordinate++,this.closingPoints.ids.length&&this.closingPoints.update(s.geometry.coordinates)}}}onClick(t){this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t)||!this.editable)return;let i;if(this.state==="started"){const a=this.lineSnapping.getSnappable(t,u=>this.polygonFilter(u));a.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=a.featureCoordinateIndex,this.editedFeatureId=a.featureId,i=a.coordinate);const s=this.coordinateSnapping.getSnappable(t,u=>this.polygonFilter(u));s.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,i=s.coordinate)}this.editedFeatureId&&i&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:i,type:ft.EDITED})),this.setCursor(this.cursors.dragStart),r(!1))}onDrag(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDrag,t)||this.editedFeatureId===void 0||this.editedFeatureCoordinateIndex===void 0)return;const i=this.readFeature.getGeometry(this.editedFeatureId),a=[t.lng,t.lat];let s=[];if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0?s=this.editedFeatureCoordinateIndex===0||this.editedFeatureCoordinateIndex===i.coordinates[0].length-1?[{type:Or,index:0,coordinate:a},{type:Or,index:-1,coordinate:a}]:[{type:Or,index:this.editedFeatureCoordinateIndex,coordinate:a}]:this.editedSnapType==="line"&&this.editedInsertIndex===void 0&&(this.editedInsertIndex=this.editedFeatureCoordinateIndex+1,s=[{type:yh,index:this.editedInsertIndex,coordinate:a}],this.editedFeatureCoordinateIndex++),s.length===0)return;const u=this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,coordinateMutations:s,propertyMutations:{[ft.EDITED]:!0},context:{updateType:_t.Provisional}});u&&(this.showCoordinatePoints&&(this.editedInsertIndex?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:u.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,u.geometry.coordinates[0][this.editedFeatureCoordinateIndex])),this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:a}]))}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,propertyMutations:{[ft.EDITED]:!1},context:{updateType:_t.Finish,action:tu}})))return;const i=this.editedFeatureId;this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,r(!0),this.onFinish(i,{mode:this.mode,action:$a})}cleanUp(){const t=this.currentId,r=this.snappedPointId,i=this.editedPointId;this.currentId=void 0,this.snappedPointId=void 0,this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),t&&this.coordinatePoints.deletePointsByFeatureIds([t]),this.mutateFeature.deleteFeatureIfPresent(t),this.mutateFeature.deleteFeatureIfPresent(i),this.mutateFeature.deleteFeatureIfPresent(r),this.closingPoints.ids.length&&this.closingPoints.delete()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.properties.mode===this.mode){if(t.geometry.type==="Polygon")return r.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,r.polygonFillColor,t),r.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,r.polygonOutlineColor,t),r.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,r.polygonOutlineWidth,t),r.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,r.polygonFillOpacity,t),r.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.outlineOpacity,1,t),r.zIndex=qc,r;if(t.geometry.type==="Point"){const i=t.properties[ft.EDITED],a=t.properties[ft.COORDINATE_POINT],s=i?"editedPoint":t.properties[ft.CLOSING_POINT]?"closingPoint":t.properties[ft.SNAPPING_POINT]?"snappingPoint":a?"coordinatePoint":void 0;if(!s)return r;const u={editedPoint:{width:this.styles.editedPointOutlineWidth,color:this.styles.editedPointColor,opacity:this.styles.editedPointOpacity,outlineColor:this.styles.editedPointOutlineColor,outlineWidth:this.styles.editedPointOutlineWidth,outlineOpacity:this.styles.editedPointOutlineOpacity},closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return r.pointWidth=this.getNumericStylingValue(u[s].width,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(u[s].opacity,1,t),r.pointColor=this.getHexColorStylingValue(u[s].color,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(u[s].outlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(u[s].outlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(u[s].outlineWidth,2,t),r.zIndex=i?40:a?20:30,r}}return r}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates})}afterFeatureUpdated(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates}),this.editedFeatureId===t.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===t.id&&(this.currentCoordinate=0,this.currentId=void 0,this.closingPoints.delete(),this.state==="drawing"&&this.setStarted())}validateFeature(t){return this.validateModeFeature(t,r=>AF(r,this.coordinatePrecision))}}function hy(e,t){const r=e,i=t,a=$r(r[1]),s=$r(i[1]);let u=$r(i[0]-r[0]);u>Math.PI&&(u-=2*Math.PI),u<-Math.PI&&(u+=2*Math.PI);const d=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=(cu(Math.atan2(u,d))+360)%360;return f>180?-(360-f):f}function YE(e,t,r){let i=t;t<0&&(i=-Math.abs(i));const a=i/HE,s=e[0]*Math.PI/180,u=$r(e[1]),d=$r(r),f=a*Math.cos(d);let h=u+f;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);const g=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(u/2+Math.PI/4)),y=Math.abs(g)>1e-11?f/g:Math.cos(u),x=[(180*(s+a*Math.sin(d)/y)/Math.PI+540)%360-180,180*h/Math.PI];return x[0]+=x[0]-e[0]>180?-360:e[0]-x[0]>180?360:0,x}function ZF(e,t,r,i,a){const s=i(e[0],e[1]),u=i(t[0],t[1]),{lng:d,lat:f}=a((s.x+u.x)/2,(s.y+u.y)/2);return[Tn(d,r),Tn(f,r)]}function JF(e,t,r){const i=YE(e,1e3*Ko(e,t)/2,hy(e,t));return[Tn(i[0],r),Tn(i[1],r)]}function jg({featureCoords:e,precision:t,unproject:r,project:i,projection:a}){const s=[];for(let u=0;u<e.length-1;u++){let d;if(a==="web-mercator")d=ZF(e[u],e[u+1],t,i,r);else{if(a!=="globe")throw new Error("Invalid projection");d=JF(e[u],e[u+1],t)}s.push(d)}return s}class ek extends nr{constructor(t,r,i,a,s,u){super(t),this.config=void 0,this.selectionPointBehavior=void 0,this.coordinatePointBehavior=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.pixelDistance=void 0,this._midPoints=[],this.config=t,this.selectionPointBehavior=r,this.coordinatePointBehavior=i,this.mutateFeature=a,this.readFeature=s,this.pixelDistance=u}getMidpointConfig(t){return{featureCoords:t,precision:this.coordinatePrecision,project:this.config.project,unproject:this.config.unproject,projection:this.config.projection}}get ids(){return this._midPoints.concat()}set ids(t){}getNearestMidPoint(t){let r,i=1/0;return this.ids.forEach(a=>{const s=this.readFeature.getGeometry(a),u=this.pixelDistance.measure(t,s.coordinates);u<this.pointerDistance&&u<i&&(i=u,r=a)}),r}insert({featureId:t,midPointId:r}){const i=this.readFeature.getGeometry(r),{midPointFeatureId:a,midPointSegment:s}=this.readFeature.getProperties(r),u=this.readFeature.getGeometry(a),d={featureId:a,coordinateMutations:[{type:fu,index:s,coordinate:i.coordinates}],context:{updateType:_t.Commit}};let f=null;if(u.type==="Polygon")f=this.mutateFeature.updatePolygon(d);else{if(u.type!=="LineString")throw new Error("Midpoints can only be added to polygons or linestrings");f=this.mutateFeature.updateLineString(d)}if(!f)throw new Error("Failed to insert midpoint coordinate");const h=f.geometry.coordinates;this.readFeature.getProperties(t)[ft.COORDINATE_POINT_IDS]&&this.coordinatePointBehavior.createOrUpdate({featureId:t,featureCoordinates:h}),this.mutateFeature.deleteFeaturesIfPresent([...this.selectionPointBehavior.ids,...this._midPoints]),this.create({featureCoordinates:h,featureId:a}),this.selectionPointBehavior.create({featureCoordinates:h,featureId:t})}create({featureCoordinates:t,featureId:r}){if(!this.readFeature.hasFeature(r))throw new Error("Store does not have feature with this id");const i=Gc(t),a=jg(this.getMidpointConfig(i));this._midPoints=this.mutateFeature.createGuidancePoints({additionalProperties:s=>({mode:this.mode,midPointSegment:s,midPointFeatureId:r,[Un.MID_POINT]:!0}),coordinates:a,type:Un.MID_POINT})}delete(){this._midPoints.length&&(this.mutateFeature.deleteFeaturesIfPresent(this._midPoints),this._midPoints=[])}updateAllInPlace({featureCoordinates:t}){if(this._midPoints.length===0)return;const r=Gc(t),i=jg(this.getMidpointConfig(r));this.mutateFeature.updateGuidancePoints(this._midPoints.map((a,s)=>({featureId:a,coordinate:i[s]})))}updateOneAtIndex(t,r){if(t<0&&(t=this._midPoints.length+t),this._midPoints[t]===void 0)return;const i=Gc(r),a=jg(this.getMidpointConfig(i));this.mutateFeature.updateGuidancePoints([{featureId:this._midPoints[t],coordinate:a[t]}])}}class tk extends nr{constructor(t,r){super(t),this.mutateFeature=void 0,this._selectionPoints=[],this.mutateFeature=r}get ids(){return this._selectionPoints.concat()}set ids(t){}create({featureId:t,featureCoordinates:r}){const i=vh(r);this._selectionPoints=this.mutateFeature.createGuidancePoints({coordinates:i,type:Un.SELECTION_POINT,additionalProperties:a=>({[Un.SELECTION_POINT_FEATURE_ID]:t,index:a})})}delete(){this.ids.length&&(this.mutateFeature.deleteFeaturesIfPresent(this.ids),this._selectionPoints=[])}updateAllInPlace({featureCoordinates:t}){if(this._selectionPoints.length===0)return;const r=vh(t);r.length===this._selectionPoints.length&&this.mutateFeature.updateGuidancePoints(this._selectionPoints.map((i,a)=>({featureId:i,coordinate:r[a]})))}updateOneAtIndex(t,r){this._selectionPoints[t]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:this._selectionPoints[t],coordinate:r}])}}function KE(e,t){let r=!1;for(let u=0,d=t.length;u<d;u++){const f=t[u];for(let h=0,g=f.length,y=g-1;h<g;y=h++)(a=f[h])[1]>(i=e)[1]!=(s=f[y])[1]>i[1]&&i[0]<(s[0]-a[0])*(i[1]-a[1])/(s[1]-a[1])+a[0]&&(r=!r)}var i,a,s;return r}const py=(e,t,r)=>{const i=s=>s*s,a=(s,u)=>i(s.x-u.x)+i(s.y-u.y);return Math.sqrt(((s,u,d)=>{const f=a(u,d);if(f===0)return a(s,u);let h=((s.x-u.x)*(d.x-u.x)+(s.y-u.y)*(d.y-u.y))/f;return h=Math.max(0,Math.min(1,h)),a(s,{x:u.x+h*(d.x-u.x),y:u.y+h*(d.y-u.y)})})(e,t,r))};class nk extends nr{constructor(t,r,i){super(t),this.config=void 0,this.createClickBoundingBox=void 0,this.pixelDistance=void 0,this.config=t,this.createClickBoundingBox=r,this.pixelDistance=i}find(t,r){let i,a,s,u=1/0,d=1/0;const f=this.createClickBoundingBox.create(t),h=this.store.search(f);for(let g=0;g<h.length;g++){const y=h[g],x=y.geometry;if(x.type==="Point"){if(y.properties.selectionPoint||y.properties.coordinatePoint||!r&&y.properties[Un.MID_POINT])continue;const w=this.pixelDistance.measure(t,x.coordinates);!y.properties[Un.MID_POINT]&&w<this.pointerDistance&&w<u&&(u=w,i=y)}else if(x.type==="LineString"){if(i)continue;for(let w=0;w<x.coordinates.length-1;w++){const _=x.coordinates[w],E=x.coordinates[w+1],T=py({x:t.containerX,y:t.containerY},this.project(_[0],_[1]),this.project(E[0],E[1]));T<this.pointerDistance&&T<d&&(d=T,a=y)}}else if(x.type==="Polygon"){if(i||a)continue;KE([t.lng,t.lat],x.coordinates)&&(s=y)}}return{clickedFeature:i||a||s}}}class rk extends nr{constructor(t,r,i,a,s,u,d){super(t),this.config=void 0,this.featuresAtCursorEvent=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedFeatureId=null,this.dragPosition=void 0,this.config=t,this.featuresAtCursorEvent=r,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.readFeature=u,this.mutateFeature=d}startDragging(t,r){this.draggedFeatureId=r,this.dragPosition=[t.lng,t.lat]}stopDragging(){this.draggedFeatureId=null,this.dragPosition=void 0}isDragging(){return this.draggedFeatureId!==null}canDrag(t,r){const{clickedFeature:i}=this.featuresAtCursorEvent.find(t,!0);return!(!i||i.id!==r)}drag(t){if(!this.draggedFeatureId)return;const r=this.readFeature.getGeometry(this.draggedFeatureId),i=[t.lng,t.lat];if(r.type==="Polygon"||r.type==="LineString"){let a,s;if(r.type==="Polygon"?(a=r.coordinates[0],s=a.length-1):(a=r.coordinates,s=a.length),!this.dragPosition)return!1;for(let h=0;h<s;h++){const g=a[h];let y,x;if(this.config.projection==="web-mercator"){const w=Mn(this.dragPosition[0],this.dragPosition[1]),_=Mn(i[0],i[1]),E=Mn(g[0],g[1]),T={x:w.x-_.x,y:w.y-_.y},N=E.x-T.x,D=E.y-T.y,{lng:I,lat:F}=du(N,D);y=I,x=F}else{const w=[this.dragPosition[0]-i[0],this.dragPosition[1]-i[1]];y=g[0]-w[0],x=g[1]-w[1]}if(y=Tn(y,this.config.coordinatePrecision),x=Tn(x,this.config.coordinatePrecision),y>180||y<-180||x>90||x<-90)return!1;a[h]=[y,x]}r.type==="Polygon"&&(a[a.length-1]=[a[0][0],a[0][1]]);const u=this.draggedFeatureId;let d=null;if(r.type==="Polygon")d=this.mutateFeature.updatePolygon({featureId:u,coordinateMutations:{type:oi,coordinates:[a]},context:{updateType:_t.Provisional}});else{if(r.type!=="LineString")return;d=this.mutateFeature.updateLineString({featureId:u,coordinateMutations:{type:oi,coordinates:a},context:{updateType:_t.Provisional}})}if(!d)return!1;const f=d.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:f}),this.selectionPoints.updateAllInPlace({featureCoordinates:f}),this.coordinatePoints.updateAllInPlace({featureId:u,featureCoordinates:f}),this.dragPosition=[t.lng,t.lat]}else r.type==="Point"&&(this.mutateFeature.updatePoint({featureId:this.draggedFeatureId,coordinateMutations:{type:oi,coordinates:i},context:{updateType:_t.Provisional}}),this.dragPosition=[t.lng,t.lat])}}class ik extends nr{constructor(t,r,i,a,s,u,d,f,h){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.coordinateSnapping=void 0,this.lineSnapping=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedCoordinate={id:null,index:-1},this.config=t,this.pixelDistance=r,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.coordinateSnapping=u,this.lineSnapping=d,this.readFeature=f,this.mutateFeature=h}getClosestCoordinate(t,r){const i={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let a;if(r.type==="LineString")a=r.coordinates;else{if(r.type!=="Polygon")return i;a=r.coordinates[0]}for(let s=0;s<a.length;s++){const u=this.pixelDistance.measure(t,a[s]);if(u<this.pointerDistance&&u<i.dist){const d=r.type==="Polygon"&&(s===a.length-1||s===0);i.dist=u,i.index=d?0:s,i.isFirstOrLastPolygonCoord=d}}return i}getDraggable(t,r){const i=this.readFeature.getGeometry(r);return this.getClosestCoordinate(t,i)}getDraggableIndex(t,r){const i=this.readFeature.getGeometry(r),a=this.getClosestCoordinate(t,i);return a.index===-1?-1:a.index}snapCoordinate(t,r,i){let a=[t.lng,t.lat];const s=u=>!!(u.properties&&u.properties.mode===i.properties.mode&&u.id!==this.draggedCoordinate.id);if(r!=null&&r.toLine){let u;u=this.lineSnapping.getSnappable(t,s).coordinate,u&&(a=u)}if(r.toCoordinate){let u;u=this.coordinateSnapping.getSnappable(t,s).coordinate,u&&(a=u)}if(r!=null&&r.toCustom){let u;u=r.toCustom(t,{currentCoordinate:this.draggedCoordinate.index,currentId:i.id,getCurrentGeometrySnapshot:i.id?()=>this.readFeature.getGeometry(i.id):()=>null,project:this.project,unproject:this.unproject}),u&&(a=u)}return a}drag(t,r,i){const a=this.draggedCoordinate.id;if(a===null)return!1;const s=this.draggedCoordinate.index,u=this.readFeature.getGeometry(a),d=this.readFeature.getProperties(a),f=u.type==="LineString"?u.coordinates:u.coordinates[0],h=u.type==="Polygon"&&(s===f.length-1||s===0),g=this.snapCoordinate(t,i,{type:"Feature",id:a,geometry:u,properties:d});if(t.lng>180||t.lng<-180||t.lat>90||t.lat<-90)return!1;if(h){const w=f.length-1;f[0]=g,f[w]=g}else f[s]=g;if(u.type!=="Point"&&!r&&MF({geometry:u}))return!1;const y=a;let x=null;return u.type==="Polygon"?x=this.mutateFeature.updatePolygon({featureId:y,coordinateMutations:{type:oi,coordinates:[f]},context:{updateType:_t.Provisional}}):u.type==="LineString"&&(x=this.mutateFeature.updateLineString({featureId:y,coordinateMutations:{type:oi,coordinates:f},context:{updateType:_t.Provisional}})),!!x&&(this.midPoints.updateOneAtIndex(s>0?s-1:-1,f),this.midPoints.updateOneAtIndex(s,f),this.selectionPoints.updateOneAtIndex(s,g),this.coordinatePoints.updateOneAtIndex(y,s,g),!0)}isDragging(){return this.draggedCoordinate.id!==null}startDragging(t,r){this.draggedCoordinate={id:t,index:r}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}}function b1(e){let t=0,r=0,i=0;return(e.geometry.type==="Polygon"?e.geometry.coordinates[0].slice(0,-1):e.geometry.coordinates).forEach(a=>{t+=a[0],r+=a[1],i++},!0),[t/i,r/i]}const XE=(e,t)=>{if(t===0||t===360||t===-360)return e;const r=.017453292519943295*t,i=(e.geometry.type==="Polygon"?e.geometry.coordinates[0]:e.geometry.coordinates).map(([u,d])=>Mn(u,d)),a=i.reduce((u,d)=>({x:u.x+d.x,y:u.y+d.y}),{x:0,y:0});a.x/=i.length,a.y/=i.length;const s=i.map(u=>({x:a.x+(u.x-a.x)*Math.cos(r)-(u.y-a.y)*Math.sin(r),y:a.y+(u.x-a.x)*Math.sin(r)+(u.y-a.y)*Math.cos(r)})).map(({x:u,y:d})=>[du(u,d).lng,du(u,d).lat]);return e.geometry.type==="Polygon"?e.geometry.coordinates[0]=s:e.geometry.coordinates=s,e};function my(e){const t=(e.geometry.type==="Polygon"?e.geometry.coordinates[0]:e.geometry.coordinates).map(r=>{const{x:i,y:a}=Mn(r[0],r[1]);return[i,a]});return e.geometry.type==="Polygon"?(function(r){let i=0,a=0,s=0;const u=r.length;for(let d=0;d<u-1;d++){const[f,h]=r[d],[g,y]=r[d+1],x=f*y-g*h;i+=x,a+=(f+g)*x,s+=(h+y)*x}return i/=2,a/=6*i,s/=6*i,{x:a,y:s}})(t):(function(r){const i=r.length;let a=0,s=0;for(let u=0;u<i;u++){const[d,f]=r[u];a+=d,s+=f}return{x:a/i,y:s/i}})(t)}class ok extends nr{constructor(t,r,i,a,s,u){super(t),this.config=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryCentroid=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.config=t,this.selectionPoints=r,this.midPoints=i,this.coordinatePoints=a,this.readFeature=s,this.mutateFeature=u}reset(){this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.selectedGeometryCentroid=void 0}rotate(t,r){this.selectedGeometry||(this.selectedGeometry=this.readFeature.getGeometry(r));const i=this.selectedGeometry;if(i.type!=="Polygon"&&i.type!=="LineString")return;const a=[t.lng,t.lat];let s;const u={type:"Feature",geometry:i,properties:{}};if(this.config.projection==="web-mercator"){this.selectedGeometryWebMercatorCentroid||(this.selectedGeometryWebMercatorCentroid=my(u));const y=Mn(t.lng,t.lat);if(s=NF(this.selectedGeometryWebMercatorCentroid,y),s===0)return;if(!this.lastBearing)return void(this.lastBearing=s);XE(u,-(this.lastBearing-s))}else{if(this.config.projection!=="globe")throw new Error("Unsupported projection");if(this.selectedGeometryCentroid||(this.selectedGeometryCentroid=b1({geometry:i})),s=hy(this.selectedGeometryCentroid,a),!this.lastBearing)return void(this.lastBearing=s+180);(function(y,x){if(x===0||x===360||x===-360)return y;const w=b1(y);(y.geometry.type==="Polygon"?y.geometry.coordinates[0]:y.geometry.coordinates).forEach(_=>{const E=hy(w,_)+x,T=(function(D,I){D[0]+=D[0]-I[0]>180?-360:I[0]-D[0]>180?360:0;const F=HE,k=I[1]*Math.PI/180,V=D[1]*Math.PI/180,A=V-k;let G=Math.abs(D[0]-I[0])*Math.PI/180;G>Math.PI&&(G-=2*Math.PI);const W=Math.log(Math.tan(V/2+Math.PI/4)/Math.tan(k/2+Math.PI/4)),le=Math.abs(W)>1e-11?A/W:Math.cos(k);return Math.sqrt(A*A+le*le*G*G)*F})(w,_),N=YE(w,T,E);_[0]=N[0],_[1]=N[1]})})(u,-(this.lastBearing-(s+180)))}const d=i.type==="Polygon"?i.coordinates[0]:i.coordinates;d.forEach(y=>{y[0]=Tn(y[0],this.coordinatePrecision),y[1]=Tn(y[1],this.coordinatePrecision)});const f={featureId:r,coordinateMutations:{type:oi,coordinates:i.type==="Polygon"?[d]:d},context:{updateType:_t.Provisional}};let h=null;if(u.geometry.type==="Polygon")h=this.mutateFeature.updatePolygon(f);else{if(u.geometry.type!=="LineString")return;h=this.mutateFeature.updateLineString(f)}if(!h)return!1;const g=h.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:g}),this.selectionPoints.updateAllInPlace({featureCoordinates:g}),this.coordinatePoints.updateAllInPlace({featureId:r,featureCoordinates:g}),this.projection==="web-mercator"?this.lastBearing=s:this.projection==="globe"&&(this.lastBearing=s+180)}}class ak extends nr{constructor(t,r){super(t),this.config=void 0,this.dragCoordinateResizeBehavior=void 0,this.config=t,this.dragCoordinateResizeBehavior=r}scale(t,r){if(!this.dragCoordinateResizeBehavior.isDragging()){const i=this.dragCoordinateResizeBehavior.getDraggableIndex(t,r);this.dragCoordinateResizeBehavior.startDragging(r,i)}this.dragCoordinateResizeBehavior.drag(t,"center-fixed")}reset(){this.dragCoordinateResizeBehavior.stopDragging()}}function WE({coordinates:e,originX:t,originY:r,xScale:i,yScale:a}){i===1&&a===1||e.forEach(s=>{const{x:u,y:d}=Mn(s[0],s[1]),f=t+(u-t)*i,h=r+(d-r)*a,{lng:g,lat:y}=du(f,h);s[0]=g,s[1]=y})}class sk extends nr{constructor(t,r,i,a,s,u,d){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.minimumScale=1e-4,this.draggedCoordinate={id:null,index:-1},this.boundingBoxMaps={opposite:{0:4,1:5,2:6,3:7,4:0,5:1,6:2,7:3}},this.config=t,this.pixelDistance=r,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.readFeature=u,this.mutateFeature=d}getClosestCoordinate(t,r){const i={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let a;if(r.type==="LineString")a=r.coordinates;else{if(r.type!=="Polygon")return i;a=r.coordinates[0]}for(let s=0;s<a.length;s++){const u=this.pixelDistance.measure(t,a[s]);if(u<this.pointerDistance&&u<i.dist){const d=r.type==="Polygon"&&(s===a.length-1||s===0);i.dist=u,i.index=d?0:s,i.isFirstOrLastPolygonCoord=d}}return i}isValidDragWebMercator(t,r,i){switch(t){case 0:if(r<=0||i>=0)return!1;break;case 1:if(i>=0)return!1;break;case 2:if(r>=0||i>=0)return!1;break;case 3:if(r>=0)return!1;break;case 4:if(r>=0||i<=0)return!1;break;case 5:if(i<=0)return!1;break;case 6:if(r<=0||i<=0)return!1;break;case 7:if(r<=0)return!1}return!0}getSelectedFeatureDataWebMercator(){if(!this.draggedCoordinate.id||this.draggedCoordinate.index===-1)return null;const t=this.getFeature(this.draggedCoordinate.id);if(!t)return null;const r=this.getNormalisedCoordinates(t.geometry);return{boundingBox:this.getBBoxWebMercator(r),feature:t,updatedCoords:r,selectedCoordinate:r[this.draggedCoordinate.index]}}centerWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{feature:i,boundingBox:a,updatedCoords:s,selectedCoordinate:u}=r,d=my(i);if(!d)return null;const f=Mn(u[0],u[1]),{closestBBoxIndex:h}=this.getIndexesWebMercator(a,f),g=Mn(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:h,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:d}),s}centerFixedWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{feature:i,boundingBox:a,updatedCoords:s,selectedCoordinate:u}=r,d=my(i);if(!d)return null;const f=Mn(u[0],u[1]),{closestBBoxIndex:h}=this.getIndexesWebMercator(a,f),g=Mn(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:h,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:d}),s}scaleFixedWebMercator({closestBBoxIndex:t,webMercatorOrigin:r,webMercatorSelected:i,webMercatorCursor:a,updatedCoords:s}){if(!this.isValidDragWebMercator(t,r.x-a.x,r.y-a.y))return null;let u=Ha(r,a)/Ha(r,i);return u<0&&(u=this.minimumScale),WE({coordinates:s,originX:r.x,originY:r.y,xScale:u,yScale:u}),s}oppositeFixedWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{boundingBox:i,updatedCoords:a,selectedCoordinate:s}=r,u=Mn(s[0],s[1]),{oppositeBboxIndex:d,closestBBoxIndex:f}=this.getIndexesWebMercator(i,u),h={x:i[d][0],y:i[d][1]},g=Mn(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:f,updatedCoords:a,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:h}),a}oppositeWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{boundingBox:i,updatedCoords:a,selectedCoordinate:s}=r,u=Mn(s[0],s[1]),{oppositeBboxIndex:d,closestBBoxIndex:f}=this.getIndexesWebMercator(i,u),h={x:i[d][0],y:i[d][1]},g=Mn(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:f,updatedCoords:a,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:h}),a}scaleWebMercator({closestBBoxIndex:t,webMercatorOrigin:r,webMercatorSelected:i,webMercatorCursor:a,updatedCoords:s}){const u=r.x-a.x,d=r.y-a.y;if(!this.isValidDragWebMercator(t,u,d))return null;let f=1;u!==0&&t!==1&&t!==5&&(f=1-(r.x-i.x-u)/u);let h=1;return d!==0&&t!==3&&t!==7&&(h=1-(r.y-i.y-d)/d),this.validateScale(f,h)?(f<0&&(f=this.minimumScale),h<0&&(h=this.minimumScale),this.performWebMercatorScale(s,r.x,r.y,f,h),s):null}getFeature(t){if(this.draggedCoordinate.id===null)return null;const r=this.readFeature.getGeometry(t);return r.type!=="Polygon"&&r.type!=="LineString"?null:{id:t,type:"Feature",geometry:r,properties:{}}}getNormalisedCoordinates(t){return t.type==="Polygon"?t.coordinates[0]:t.coordinates}validateScale(t,r){const i=!isNaN(t)&&r<Number.MAX_SAFE_INTEGER,a=!isNaN(r)&&r<Number.MAX_SAFE_INTEGER;return i&&a}performWebMercatorScale(t,r,i,a,s){t.forEach(u=>{const{x:d,y:f}=Mn(u[0],u[1]),h=r+(d-r)*a,g=i+(f-i)*s,{lng:y,lat:x}=du(h,g);u[0]=y,u[1]=x})}getBBoxWebMercator(t){const r=[1/0,1/0,-1/0,-1/0];(t=t.map(d=>{const{x:f,y:h}=Mn(d[0],d[1]);return[f,h]})).forEach(([d,f])=>{d<r[0]&&(r[0]=d),f<r[1]&&(r[1]=f),d>r[2]&&(r[2]=d),f>r[3]&&(r[3]=f)});const[i,a,s,u]=r;return[[i,u],[(i+s)/2,u],[s,u],[s,u+(a-u)/2],[s,a],[(i+s)/2,a],[i,a],[i,u+(a-u)/2]]}getIndexesWebMercator(t,r){let i,a=1/0;for(let s=0;s<t.length;s++){const u=Ha({x:r.x,y:r.y},{x:t[s][0],y:t[s][1]});u<a&&(i=s,a=u)}if(i===void 0)throw new Error("No closest coordinate found");return{oppositeBboxIndex:this.boundingBoxMaps.opposite[i],closestBBoxIndex:i}}isDragging(){return this.draggedCoordinate.id!==null}startDragging(t,r){this.draggedCoordinate={id:t,index:r}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}getDraggableIndex(t,r){const i=this.readFeature.getGeometry(r),a=this.getClosestCoordinate(t,i);return a.index===-1?-1:a.index}drag(t,r){if(!this.draggedCoordinate.id)return!1;const i=this.getFeature(this.draggedCoordinate.id);if(!i)return!1;let a=null;if(r==="center"?a=this.centerWebMercatorDrag(t):r==="opposite"?a=this.oppositeWebMercatorDrag(t):r==="center-fixed"?a=this.centerFixedWebMercatorDrag(t):r==="opposite-fixed"&&(a=this.oppositeFixedWebMercatorDrag(t)),!a)return!1;for(let f=0;f<a.length;f++){const h=a[f];if(h[0]=Tn(h[0],this.coordinatePrecision),h[1]=Tn(h[1],this.coordinatePrecision),!ap(h,this.coordinatePrecision))return!1}const s=i.id;let u=null;if(i.geometry.type==="Polygon"?u=this.mutateFeature.updatePolygon({featureId:s,coordinateMutations:{type:oi,coordinates:[a]},context:{updateType:_t.Provisional}}):i.geometry.type==="LineString"&&(u=this.mutateFeature.updateLineString({featureId:s,coordinateMutations:{type:oi,coordinates:a},context:{updateType:_t.Provisional}})),!u)return!1;const d=u.geometry.coordinates;return this.midPoints.updateAllInPlace({featureCoordinates:d}),this.selectionPoints.updateAllInPlace({featureCoordinates:d}),this.coordinatePoints.updateAllInPlace({featureId:s,featureCoordinates:d}),!0}}const lk={deselect:"Escape",delete:"Delete",rotate:["Control","r"],scale:["Control","s"]},x1={pointerOver:"move",dragStart:"move",dragEnd:"move",insertMidpoint:"crosshair"};class uk extends EF{constructor(t){super(t,!0),this.mode="select",this.allowManualDeselection=!0,this.dragEventThrottle=5,this.dragEventCount=0,this.selected=[],this.flags={},this.keyEvents=lk,this.cursors=x1,this.validations={},this.dragTarget={type:"none"},this.selectionPoints=void 0,this.midPoints=void 0,this.coordinateSnap=void 0,this.featuresAtMouseEvent=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.dragFeature=void 0,this.dragCoordinate=void 0,this.rotateFeature=void 0,this.scaleFeature=void 0,this.dragCoordinateResizeFeature=void 0,this.coordinatePoints=void 0,this.lineSnap=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),this.cursors=t&&t.cursors?Wt({},this.cursors,t.cursors):x1,t?.keyEvents===null?this.keyEvents={deselect:null,delete:null,rotate:null,scale:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t?.dragEventThrottle!==void 0&&(this.dragEventThrottle=t.dragEventThrottle),t?.allowManualDeselection!==void 0&&(this.allowManualDeselection=t.allowManualDeselection),t!=null&&t.flags){this.flags=Wt({},this.flags,t.flags),this.validations={};for(const r in this.flags){const i=this.flags[r].feature;i&&i.validation&&(this.validations[r]=i.validation)}}}selectFeature(t){this.select(t,!1)}setSelecting(){if(this._state!=="started")throw new Error("Mode must be started to move to selecting state");this._state="selecting"}registerBehaviors(t){this.readFeature=new Qv(t),this.mutateFeature=new sp(t,{validate:(r,i)=>{const a=r.properties.mode;return this.validations&&this.validations[a]?this.validations[a](r,i):{valid:!0}}}),this.pixelDistance=new up(t),this.clickBoundingBox=new lp(t),this.featuresAtMouseEvent=new nk(t,this.clickBoundingBox,this.pixelDistance),this.selectionPoints=new tk(t,this.mutateFeature),this.coordinatePoints=new t0(t,this.readFeature,this.mutateFeature),this.midPoints=new ek(t,this.selectionPoints,this.coordinatePoints,this.mutateFeature,this.readFeature,this.pixelDistance),this.coordinateSnap=new Zv(t,this.pixelDistance,this.clickBoundingBox),this.lineSnap=new Jv(t,this.pixelDistance,this.clickBoundingBox),this.rotateFeature=new ok(t,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragFeature=new rk(t,this.featuresAtMouseEvent,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragCoordinate=new ik(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.coordinateSnap,this.lineSnap,this.readFeature,this.mutateFeature),this.dragCoordinateResizeFeature=new sk(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.scaleFeature=new ak(t,this.dragCoordinateResizeFeature)}deselectFeature(t){this.deselect(t)}deselect(t){this.selected.includes(t)&&(this.mutateFeature.setDeselected(this.selected),this.onDeselect(this.selected[0]),this.selected=[],this.selectionPoints.delete(),this.midPoints.delete(),this.dragTarget={type:"none"})}deleteSelected(){this.selected.length&&this.mutateFeature.deleteFeaturesIfPresent(this.selected),this.selected=[],this.dragTarget={type:"none"}}clearDragTargetAndCursor(){this.dragTarget={type:"none"},this.setCursor("unset")}getSelectedFlags(t){const r=this.readFeature.getProperties(t),i=this.flags[r.mode],a=i?.feature,s=a?.coordinates;return{featureFlags:a,coordinatesFlags:s,hasDraggableFlags:a&&(a.draggable||s?.draggable||s?.resizable||typeof s?.midpoints=="object"&&s.midpoints.draggable)}}onRightClick(t){if(!this.selectionPoints.ids.length)return;let r,i=1/0;if(this.selectionPoints.ids.forEach(x=>{const w=this.readFeature.getGeometry(x),_=this.pixelDistance.measure(t,w.coordinates);_<this.pointerDistance&&_<i&&(i=_,r=this.readFeature.getProperties(x))}),!r)return;const a=r.selectionPointFeatureId,s=r.index,u=this.readFeature.getProperties(a),d=this.flags[u.mode];if(!(d&&d.feature&&d.feature.coordinates&&d.feature.coordinates.deletable))return;const f=this.readFeature.getGeometry(a);let h;if(f.type==="Polygon"){if(h=f.coordinates[0],h.length<=4)return}else if(f.type!=="LineString"||(h=f.coordinates,h.length<=2))return;f.type!=="Polygon"||s!==0&&s!==h.length-1?h.splice(s,1):(h.shift(),h.pop(),h.push([h[0][0],h[0][1]]));let g=null;if(f.type==="Polygon"?g=this.mutateFeature.updatePolygon({featureId:a,coordinateMutations:{type:oi,coordinates:[h]},context:{updateType:_t.Commit}}):f.type==="LineString"&&(g=this.mutateFeature.updateLineString({featureId:a,coordinateMutations:{type:oi,coordinates:h},context:{updateType:_t.Commit}})),!g)return;const y=g.geometry.coordinates;this.mutateFeature.deleteFeaturesIfPresent([...this.midPoints.ids,...this.selectionPoints.ids]),u.coordinatePointIds&&this.coordinatePoints.createOrUpdate({featureId:a,featureCoordinates:y}),this.selectionPoints.create({featureCoordinates:y,featureId:a}),d&&d.feature&&d.feature.coordinates&&d.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:y,featureId:a}),this.onFinish(a,{action:$E,mode:this.mode})}select(t,r=!0){if(this.selected[0]===t)return;const{mode:i}=this.readFeature.getProperties(t),a=this.flags[i];if(!a||!a.feature)return;const s=this.selected[0];if(s){if(s===t)return;this.deselect(s)}r&&this.setCursor(this.cursors.pointerOver),this.selected=[t],this.mutateFeature.setSelected(t),this.onSelect(t);const{type:u,coordinates:d}=this.readFeature.getGeometry(t);u!=="LineString"&&u!=="Polygon"||d&&a&&a.feature.coordinates&&(this.selectionPoints.create({featureCoordinates:d,featureId:t}),a.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:d,featureId:t}))}onLeftClick(t){const{clickedFeature:r}=this.featuresAtMouseEvent.find(t,this.selected.length>0),i=this.midPoints.getNearestMidPoint(t),a=this.selected[0];if(a){var s;const{featureFlags:u}=this.getSelectedFlags(a);if(u!=null&&(s=u.coordinates)!=null&&s.midpoints&&i){if(u.coordinates.draggable){const d=this.pixelDistance.measure(t,this.readFeature.getGeometry(i).coordinates),{dist:f}=this.dragCoordinate.getDraggable(t,a);if(f!==void 0&&d>f)return}return this.midPoints.insert({featureId:a,midPointId:i}),void this.onFinish(this.selected[0],{action:l1,mode:this.mode})}}if(r!=null&&r.id)this.select(r.id,!0);else if(this.selected.length&&this.allowManualDeselection)return void this.deselect(this.selected[0])}start(){this.setStarted(),this.setSelecting()}stop(){this.cleanUp(),this.setStarted(),this.setStopped()}onClick(t){t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}canScale(t){return this.keyEvents.scale&&this.keyEvents.scale.every(r=>t.heldKeys.includes(r))}canRotate(t){return this.keyEvents.rotate&&this.keyEvents.rotate.every(r=>t.heldKeys.includes(r))}preventDefaultKeyEvent(t){const r=this.canRotate(t),i=this.canScale(t);(r||i)&&t.preventDefault()}onKeyDown(t){this.preventDefaultKeyEvent(t)}onKeyUp(t){if(this.preventDefaultKeyEvent(t),this.keyEvents.delete&&t.key===this.keyEvents.delete){if(!this.selected.length)return;const r=this.selected[0];this.onDeselect(this.selected[0]),this.coordinatePoints.deletePointsByFeatureIds([r]),this.deleteSelected(),this.selectionPoints.delete(),this.midPoints.delete()}else this.keyEvents.deselect&&t.key===this.keyEvents.deselect&&this.cleanUp()}cleanUp(){this.selected.length&&this.deselect(this.selected[0])}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t))return;const i=this.selected[0];if(!i)return;const{featureFlags:a,coordinatesFlags:s,hasDraggableFlags:u}=this.getSelectedFlags(i);if(!u)return;this.dragEventCount=0;const d=this.dragTarget.type!=="none"&&this.dragTarget.featureId===i?this.dragTarget:{type:"none"},f=d.type==="coordinate"?d.coordinateIndex:this.dragCoordinate.getDraggableIndex(t,i),h=d.type==="resize"?d.coordinateIndex:this.dragCoordinateResizeFeature.getDraggableIndex(t,i),g=s?.resizable&&h!==-1,y=s?.draggable&&f!==-1,x=s&&typeof s.midpoints=="object"&&s.midpoints.draggable,w=a?.draggable&&(d.type==="feature"||this.dragFeature.canDrag(t,i));if(g)return this.setCursor(this.cursors.dragStart),this.dragCoordinateResizeFeature.startDragging(i,h),void r(!1);if(y)return this.setCursor(this.cursors.dragStart),this.dragCoordinate.startDragging(i,f),void r(!1);if(x){const _=d.type==="midpoint"?d.midPointId:this.midPoints.getNearestMidPoint(t);if(this.selected.length&&_){this.midPoints.insert({featureId:i,midPointId:_}),this.onFinish(this.selected[0],{action:l1,mode:this.mode});const E=this.dragCoordinate.getDraggableIndex(t,i);return this.dragCoordinate.startDragging(i,E),void r(!1)}}if(w)return this.setCursor(this.cursors.dragStart),this.dragFeature.startDragging(t,i),void r(!1);this.setCursor("unset")}onDrag(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDrag,t))return;const i=this.selected[0];if(!i)return;const a=this.readFeature.getProperties(i),s=this.flags[a.mode],u=(s&&s.feature&&s.feature.selfIntersectable)===!0;if(this.dragEventCount++,this.dragEventCount%this.dragEventThrottle!=0){if(s&&s.feature&&s.feature.rotateable&&this.canRotate(t))return r(!1),void this.rotateFeature.rotate(t,i);if(s&&s.feature&&s.feature.scaleable&&this.canScale(t))return r(!1),void this.scaleFeature.scale(t,i);if(this.dragCoordinateResizeFeature.isDragging()&&s.feature&&s.feature.coordinates&&s.feature.coordinates.resizable){if(this.projection==="globe")throw new Error("Globe is currently unsupported projection for resizable");return r(!1),void this.dragCoordinateResizeFeature.drag(t,s.feature.coordinates.resizable)}if(this.dragCoordinate.isDragging()){var d;const f=(d=s.feature)==null||(d=d.coordinates)==null?void 0:d.snappable;let h={toCoordinate:!1};return f===!0?h={toCoordinate:!0}:typeof f=="object"&&(h=f),void this.dragCoordinate.drag(t,u,h)}this.dragFeature.isDragging()?this.dragFeature.drag(t):r(!0)}}onDragEnd(t,r){this.allowPointerEvent(this.pointerEvents.onDragEnd,t)&&(this.setCursor(this.cursors.dragEnd),this.dragCoordinate.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinate"}):this.dragFeature.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragFeature"}):this.dragCoordinateResizeFeature.isDragging()&&this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinateResize"}),this.dragCoordinate.stopDragging(),this.dragFeature.stopDragging(),this.dragCoordinateResizeFeature.stopDragging(),this.rotateFeature.reset(),this.scaleFeature.reset(),r(!0))}onMouseMove(t){const r=this.selected[0];if(!r)return void this.clearDragTargetAndCursor();if(this.dragFeature.isDragging()||this.dragCoordinate.isDragging()||this.dragCoordinateResizeFeature.isDragging())return;const{featureFlags:i}=this.getSelectedFlags(r);if(!i)return void this.clearDragTargetAndCursor();let a;const s=i.coordinates;if(s!=null&&s.midpoints&&(a=this.midPoints.getNearestMidPoint(t),a&&(this.dragTarget={type:"midpoint",featureId:r,midPointId:a},this.setCursor(this.cursors.insertMidpoint))),s&&s.draggable){const{index:u,dist:d}=this.dragCoordinate.getDraggable(t,r);if(u>-1)return a&&this.pixelDistance.measure(t,this.readFeature.getGeometry(a).coordinates)<d?void 0:(this.dragTarget={type:"coordinate",featureId:r,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver))}if(s&&s.resizable){const u=this.dragCoordinateResizeFeature.getDraggableIndex(t,r);if(u>-1)return this.dragTarget={type:"resize",featureId:r,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver)}if(i.draggable&&this.dragFeature.canDrag(t,r))return a?void 0:(this.dragTarget={type:"feature",featureId:r},void this.setCursor(this.cursors.pointerOver));a||this.clearDragTargetAndCursor()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.properties.mode===this.mode&&t.geometry.type==="Point"){if(t.properties[Un.SELECTION_POINT])return r.pointColor=this.getHexColorStylingValue(this.styles.selectionPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.selectionPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectionPointOutlineColor,r.pointOutlineColor,t),r.pointWidth=this.getNumericStylingValue(this.styles.selectionPointWidth,r.pointWidth,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectionPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectionPointOutlineWidth,2,t),r.zIndex=30,r;if(t.properties[Un.MID_POINT])return r.pointColor=this.getHexColorStylingValue(this.styles.midPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.midPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.midPointOutlineColor,r.pointOutlineColor,t),r.pointWidth=this.getNumericStylingValue(this.styles.midPointWidth,4,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.midPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.midPointOutlineWidth,2,t),r.zIndex=50,r}else if(t.properties[Un.SELECTED]){if(t.geometry.type==="Point"&&t.properties[ft.MARKER])return r.markerUrl=this.getUrlStylingValue(this.styles.selectedMarkerUrl,SF,t),r.markerHeight=this.getNumericStylingValue(this.styles.selectedMarkerHeight,40,t),r.markerWidth=this.getNumericStylingValue(this.styles.selectedMarkerWidth,32,t),r;if(t.geometry.type==="Polygon")return r.polygonFillColor=this.getHexColorStylingValue(this.styles.selectedPolygonColor,r.polygonFillColor,t),r.polygonOutlineWidth=this.getNumericStylingValue(this.styles.selectedPolygonOutlineWidth,r.polygonOutlineWidth,t),r.polygonOutlineColor=this.getHexColorStylingValue(this.styles.selectedPolygonOutlineColor,r.polygonOutlineColor,t),r.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPolygonOutlineOpacity,1,t),r.polygonFillOpacity=this.getNumericStylingValue(this.styles.selectedPolygonFillOpacity,r.polygonFillOpacity,t),r.zIndex=qc,r;if(t.geometry.type==="LineString")return r.lineStringColor=this.getHexColorStylingValue(this.styles.selectedLineStringColor,r.lineStringColor,t),r.lineStringWidth=this.getNumericStylingValue(this.styles.selectedLineStringWidth,r.lineStringWidth,t),r.zIndex=qc,r;if(t.geometry.type==="Point")return r.pointWidth=this.getNumericStylingValue(this.styles.selectedPointWidth,r.pointWidth,t),r.pointColor=this.getHexColorStylingValue(this.styles.selectedPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.selectedPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectedPointOutlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectedPointOutlineWidth,r.pointOutlineWidth,t),r.zIndex=qc,r}return r}afterFeatureUpdated(t){if(this.selected.length&&t.id===this.selected[0]){var r,i;const a=this.flags[t.properties.mode];if(a==null||(r=a.feature)==null||!r.coordinates)return;const s=t.geometry.type,u=t.id;if(this.selectionPoints.delete(),this.midPoints.delete(),s!=="LineString"&&s!=="Polygon")return;const d=t.geometry.coordinates;this.selectionPoints.create({featureCoordinates:d,featureId:u}),a!=null&&(i=a.feature)!=null&&(i=i.coordinates)!=null&&i.midpoints&&this.midPoints.create({featureCoordinates:d,featureId:u})}}}class ck extends gd{constructor(...t){super(...t),this.type=uu.Static,this.mode="static"}start(){}stop(){}onKeyUp(){}onKeyDown(){}onClick(){}onDragStart(){}onDrag(){}onDragEnd(){}onMouseMove(){}cleanUp(){}styleFeature(){return Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0})}}function QE(e,t,r,i,a){for(;i>r;){if(i-r>600){const f=i-r+1,h=t-r+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1);QE(e,t,Math.max(r,Math.floor(t-h*y/f+x)),Math.min(i,Math.floor(t+(f-h)*y/f+x)),a)}const s=e[t];let u=r,d=i;for(Ac(e,r,t),a(e[i],s)>0&&Ac(e,r,i);u<d;){for(Ac(e,u,d),u++,d--;a(e[u],s)<0;)u++;for(;a(e[d],s)>0;)d--}a(e[r],s)===0?Ac(e,r,d):(d++,Ac(e,d,i)),d<=t&&(r=d+1),t<=d&&(i=d-1)}}function Ac(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function ql(e,t){Lc(e,0,e.children.length,t,e)}function Lc(e,t,r,i,a){a||(a=Xl([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let s=t;s<r;s++){const u=e.children[s];Bc(a,e.leaf?i(u):u)}return a}function Bc(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function dk(e,t){return e.minX-t.minX}function fk(e,t){return e.minY-t.minY}function zg(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function qf(e){return e.maxX-e.minX+(e.maxY-e.minY)}function hk(e,t){const r=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,a-r)*Math.max(0,s-i)}function Fg(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function Gf(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Xl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function w1(e,t,r,i,a){const s=[t,r];for(;s.length;){if((r=s.pop())-(t=s.pop())<=i)continue;const u=t+Math.ceil((r-t)/i/2)*i;QE(e,u,t,r,a),s.push(t,u,u,r)}}class pk{constructor(t){this._maxEntries=void 0,this._minEntries=void 0,this.data=void 0,this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}search(t){let r=this.data;const i=[];if(!Gf(t,r))return i;const a=this.toBBox,s=[];for(;r;){for(let u=0;u<r.children.length;u++){const d=r.children[u],f=r.leaf?a(d):d;Gf(t,f)&&(r.leaf?i.push(d):Fg(t,f)?this._all(d,i):s.push(d))}r=s.pop()}return i}collides(t){let r=this.data;if(Gf(t,r)){const i=[];for(;r;){for(let a=0;a<r.children.length;a++){const s=r.children[a],u=r.leaf?this.toBBox(s):s;if(Gf(t,u)){if(r.leaf||Fg(t,u))return!0;i.push(s)}}r=i.pop()}}return!1}load(t){if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return}let r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){const i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r}insert(t){this._insert(t,this.data.height-1)}clear(){this.data=Xl([])}remove(t){let r=this.data;const i=this.toBBox(t),a=[],s=[];let u,d,f=!1;for(;r||a.length;){if(r||(r=a.pop(),d=a[a.length-1],u=s.pop(),f=!0),r.leaf){const h=r.children.indexOf(t);h!==-1&&(r.children.splice(h,1),a.push(r),this._condense(a))}f||r.leaf||!Fg(r,i)?d?(u++,r=d.children[u],f=!1):r=null:(a.push(r),s.push(u),u=0,d=r,r=r.children[0])}}toBBox(t){return t}compareMinX(t,r){return t.minX-r.minX}compareMinY(t,r){return t.minY-r.minY}_all(t,r){const i=[];for(;t;)t.leaf?r.push(...t.children):i.push(...t.children),t=i.pop();return r}_build(t,r,i,a){const s=i-r+1;let u,d=this._maxEntries;if(s<=d)return u=Xl(t.slice(r,i+1)),ql(u,this.toBBox),u;a||(a=Math.ceil(Math.log(s)/Math.log(d)),d=Math.ceil(s/Math.pow(d,a-1))),u=Xl([]),u.leaf=!1,u.height=a;const f=Math.ceil(s/d),h=f*Math.ceil(Math.sqrt(d));w1(t,r,i,h,this.compareMinX);for(let g=r;g<=i;g+=h){const y=Math.min(g+h-1,i);w1(t,g,y,f,this.compareMinY);for(let x=g;x<=y;x+=f){const w=Math.min(x+f-1,y);u.children.push(this._build(t,x,w,a-1))}}return ql(u,this.toBBox),u}_chooseSubtree(t,r,i,a){for(;a.push(r),!r.leaf&&a.length-1!==i;){let d,f=1/0,h=1/0;for(let g=0;g<r.children.length;g++){const y=r.children[g],x=zg(y),w=(s=t,u=y,(Math.max(u.maxX,s.maxX)-Math.min(u.minX,s.minX))*(Math.max(u.maxY,s.maxY)-Math.min(u.minY,s.minY))-x);w<h?(h=w,f=x<f?x:f,d=y):w===h&&x<f&&(f=x,d=y)}r=d||r.children[0]}var s,u;return r}_insert(t,r,i){const a=i?t:this.toBBox(t),s=[],u=this._chooseSubtree(a,this.data,r,s);for(u.children.push(t),Bc(u,a);r>=0&&s[r].children.length>this._maxEntries;)this._split(s,r),r--;this._adjustParentBBoxes(a,s,r)}_split(t,r){const i=t[r],a=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,a);const u=this._chooseSplitIndex(i,s,a),d=Xl(i.children.splice(u,i.children.length-u));d.height=i.height,d.leaf=i.leaf,ql(i,this.toBBox),ql(d,this.toBBox),r?t[r-1].children.push(d):this._splitRoot(i,d)}_splitRoot(t,r){this.data=Xl([t,r]),this.data.height=t.height+1,this.data.leaf=!1,ql(this.data,this.toBBox)}_chooseSplitIndex(t,r,i){let a,s=1/0,u=1/0;for(let d=r;d<=i-r;d++){const f=Lc(t,0,d,this.toBBox),h=Lc(t,d,i,this.toBBox),g=hk(f,h),y=zg(f)+zg(h);g<s?(s=g,a=d,u=y<u?y:u):g===s&&y<u&&(u=y,a=d)}return a||i-r}_chooseSplitAxis(t,r,i){const a=t.leaf?this.compareMinX:dk,s=t.leaf?this.compareMinY:fk;this._allDistMargin(t,r,i,a)<this._allDistMargin(t,r,i,s)&&t.children.sort(a)}_allDistMargin(t,r,i,a){t.children.sort(a);const s=this.toBBox,u=Lc(t,0,r,s),d=Lc(t,i-r,i,s);let f=qf(u)+qf(d);for(let h=r;h<i-r;h++){const g=t.children[h];Bc(u,t.leaf?s(g):g),f+=qf(u)}for(let h=i-r-1;h>=r;h--){const g=t.children[h];Bc(d,t.leaf?s(g):g),f+=qf(d)}return f}_adjustParentBBoxes(t,r,i){for(let a=i;a>=0;a--)Bc(r[a],t)}_condense(t){for(let r,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(r=t[i-1].children,r.splice(r.indexOf(t[i]),1)):this.clear():ql(t[i],this.toBBox)}}class mk{constructor(t){this.tree=void 0,this.idToNode=void 0,this.nodeToId=void 0,this.tree=new pk(t&&t.maxEntries?t.maxEntries:9),this.idToNode=new Map,this.nodeToId=new Map}setMaps(t,r){this.idToNode.set(t.id,r),this.nodeToId.set(r,t.id)}toBBox(t){const r=[],i=[];let a;if(t.geometry.type==="Polygon")a=t.geometry.coordinates[0];else if(t.geometry.type==="LineString")a=t.geometry.coordinates;else{if(t.geometry.type!=="Point")throw new Error("Not a valid feature to turn into a bounding box");a=[t.geometry.coordinates]}for(let d=0;d<a.length;d++)i.push(a[d][1]),r.push(a[d][0]);const s=Math.min(...i),u=Math.max(...i);return{minX:Math.min(...r),minY:s,maxX:Math.max(...r),maxY:u}}insert(t){if(this.idToNode.get(String(t.id)))throw new Error("Feature already exists");const r=this.toBBox(t);this.setMaps(t,r),this.tree.insert(r)}load(t){const r=[],i=new Set;t.forEach(a=>{const s=this.toBBox(a);if(this.setMaps(a,s),i.has(String(a.id)))throw new Error(`Duplicate feature ID found ${a.id}`);i.add(String(a.id)),r.push(s)}),this.tree.load(r)}update(t){this.remove(t.id);const r=this.toBBox(t);this.setMaps(t,r),this.tree.insert(r)}remove(t){const r=this.idToNode.get(t);if(!r)throw new Error(`${t} not inserted into the spatial index`);this.tree.remove(r)}clear(){this.tree.clear()}search(t){return this.tree.search(this.toBBox(t)).map(r=>this.nodeToId.get(r))}collides(t){return this.tree.collides(this.toBBox(t))}}const gk={getId:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return(e=="x"?t:3&t|8).toString(16)}),isValidId:e=>typeof e=="string"&&e.length===36},S1={target:"geometry"},C1={target:"properties"};class yk{constructor(t){this.idStrategy=void 0,this.tracked=void 0,this.spatialIndex=void 0,this.store=void 0,this._onChange=()=>{},this.store={},this.spatialIndex=new mk,this.tracked=!t||t.tracked!==!1,this.idStrategy=t&&t.idStrategy?t.idStrategy:gk}clone(t){return JSON.parse(JSON.stringify(t))}getId(){return this.idStrategy.getId()}has(t){return!!this.store[t]}load(t,r,i,a){if(t.length===0)return[];let s=this.clone(t);const u=[],d=[];s=s.filter(h=>{h.id==null&&(h.id=this.idStrategy.getId());const g=h.id;if(r){const y=r(h);if(!y.valid)return u.push({id:g,valid:!1,reason:y.reason}),!1}if(this.tracked){if(h.properties.createdAt){if(!c1(h.properties.createdAt))return u.push({id:h.id,valid:!1,reason:"createdAt is not a valid numeric timestamp"}),!1}else h.properties.createdAt=+new Date;if(h.properties.updatedAt){if(!c1(h.properties.updatedAt))return u.push({id:h.id,valid:!1,reason:"updatedAt is not a valid numeric timestamp"}),!1}else h.properties.updatedAt=+new Date}return this.has(g)?(u.push({id:g,valid:!1,reason:`Feature already exists with this id: ${g}`}),!1):(this.store[g]=h,d.push(h),u.push({id:g,valid:!0}),!0)}),this.spatialIndex.load(s);const f=d.map(({id:h})=>h);return f.length>0&&(this._onChange(f,"create",a),i&&d.forEach(h=>{i(h)})),u}search(t,r){const i=this.spatialIndex.search(t).map(a=>this.store[a]);return this.clone(r?i.filter(r):i)}registerOnChange(t){this._onChange=(r,i,a)=>{t(r,i,a)}}getGeometryCopy(t){const r=this.store[t];if(!r)throw new Error(`No feature with this id (${t}), can not get geometry copy`);return this.clone(r.geometry)}getPropertiesCopy(t){const r=this.store[t];if(!r)throw new Error(`No feature with this id (${t}), can not get properties copy`);return this.clone(r.properties)}updateProperty(t,r){const i=new Set;t.forEach(({id:a,property:s,value:u})=>{const d=this.store[a];if(!d)throw new Error(`No feature with this (${a}), can not update geometry`);d.properties[s]!==u&&(i.add(a),u===void 0?delete d.properties[s]:d.properties[s]=u,this.tracked&&(d.properties.updatedAt=+new Date))}),this._onChange&&i.size>0&&this._onChange(Array.from(i),"update",r?Wt({},r,C1):C1)}updateGeometry(t,r){const i=new Set;t.forEach(({id:a,geometry:s})=>{i.add(a);const u=this.store[a];if(!u)throw new Error(`No feature with this (${a}), can not update geometry`);u.geometry=this.clone(s),this.spatialIndex.update(u),this.tracked&&(u.properties.updatedAt=+new Date)}),this._onChange&&i.size>0&&this._onChange(Array.from(i),"update",r?Wt({},r,S1):S1)}create(t,r){const i=[];return t.forEach(({geometry:a,properties:s})=>{let u,d=Wt({},s);this.tracked&&(u=+new Date,s?(d.createdAt=typeof s.createdAt=="number"?s.createdAt:u,d.updatedAt=typeof s.updatedAt=="number"?s.updatedAt:u):d={createdAt:u,updatedAt:u});const f=this.getId(),h={id:f,type:"Feature",geometry:a,properties:d};this.store[f]=h,this.spatialIndex.insert(h),i.push(f)}),this._onChange&&this._onChange([...i],"create",r),i}delete(t,r){t.forEach(i=>{if(!this.store[i])throw new Error(`No feature with id ${i}, can not delete`);delete this.store[i],this.spatialIndex.remove(i)}),this._onChange&&this._onChange([...t],"delete",r)}copy(t){return this.clone(this.store[t])}copyAll(){return this.clone(Object.keys(this.store).map(t=>this.store[t]))}copyAllWhere(t){return this.clone(Object.keys(this.store).map(r=>this.store[r]).filter(r=>r.properties&&t(r.properties)))}clear(){this.store={},this.spatialIndex.clear()}size(){return Object.keys(this.store).length}}class Gl{constructor({name:t,callback:r,unregister:i,register:a}){this.name=void 0,this.callback=void 0,this.registered=!1,this.register=void 0,this.unregister=void 0,this.name=t,this.register=()=>{this.registered||(this.registered=!0,a(r))},this.unregister=()=>{this.register&&(this.registered=!1,i(r))},this.callback=r}}var vk={__proto__:null,TerraDrawBaseAdapter:class{constructor(e){this._nextKeyUpIsContextMenu=!1,this._lastPointerDownEventTarget=void 0,this._ignoreMismatchedPointerEvents=!1,this._minPixelDragDistance=void 0,this._minPixelDragDistanceDrawing=void 0,this._minPixelDragDistanceSelecting=void 0,this._lastDrawEvent=void 0,this._coordinatePrecision=void 0,this._heldKeys=new Set,this._listeners=[],this._dragState="not-dragging",this._currentModeCallbacks=void 0,this._ignoreMismatchedPointerEvents=typeof e.ignoreMismatchedPointerEvents=="boolean"&&e.ignoreMismatchedPointerEvents,this._minPixelDragDistance=typeof e.minPixelDragDistance=="number"?e.minPixelDragDistance:1,this._minPixelDragDistanceSelecting=typeof e.minPixelDragDistanceSelecting=="number"?e.minPixelDragDistanceSelecting:1,this._minPixelDragDistanceDrawing=typeof e.minPixelDragDistanceDrawing=="number"?e.minPixelDragDistanceDrawing:8,this._coordinatePrecision=typeof e.coordinatePrecision=="number"?e.coordinatePrecision:9}getButton(e){return e.button===-1?"neither":e.button===0?"left":e.button===1?"middle":e.button===2?"right":"neither"}getMapElementXYPosition(e){const t=this.getMapEventElement(e.type),{left:r,top:i}=t.getBoundingClientRect();return{containerX:e.clientX-r,containerY:e.clientY-i}}getDrawEventFromEvent(e,t=!1){const r=this.getLngLatFromEvent(e);if(!r)return null;const{lng:i,lat:a}=r,{containerX:s,containerY:u}=this.getMapElementXYPosition(e),d=this.getButton(e),f=Array.from(this._heldKeys);return{lng:Tn(i,this._coordinatePrecision),lat:Tn(a,this._coordinatePrecision),containerX:s,containerY:u,button:d,heldKeys:f,isContextMenu:t}}register(e){this._currentModeCallbacks=e,this._listeners=this.getAdapterListeners(),this._listeners.forEach(t=>{t.register()})}getCoordinatePrecision(){return this._coordinatePrecision}getAdapterListeners(){return[new Gl({name:"pointerdown",callback:e=>{if(!this._currentModeCallbacks||!e.isPrimary)return;const t=this.getDrawEventFromEvent(e);t&&(this._dragState="pre-dragging",this._lastDrawEvent=t,this._lastPointerDownEventTarget=e.target?e.target:void 0)},register:e=>{this.getMapEventElement("pointerdown").addEventListener("pointerdown",e)},unregister:e=>{this.getMapEventElement("pointerdown").removeEventListener("pointerdown",e)}}),new Gl({name:"pointermove",callback:e=>{if(!this._currentModeCallbacks||!e.isPrimary)return;e.preventDefault();const t=this.getDrawEventFromEvent(e);if(t)if(this._dragState==="not-dragging")this._currentModeCallbacks.onMouseMove(t),this._lastDrawEvent=t;else if(this._dragState==="pre-dragging"){if(!this._lastDrawEvent)return;const r={x:this._lastDrawEvent.containerX,y:this._lastDrawEvent.containerY},i={x:t.containerX,y:t.containerY},a=this._currentModeCallbacks.getState(),s=Ha(r,i);let u=!1;if(u=a==="drawing"?s<this._minPixelDragDistanceDrawing:a==="selecting"?s<this._minPixelDragDistanceSelecting:s<this._minPixelDragDistance,u)return;this._nextKeyUpIsContextMenu=!1,this._dragState="dragging",this._currentModeCallbacks.onDragStart(t,d=>{this.setDraggability.bind(this)(d)})}else this._dragState==="dragging"&&this._currentModeCallbacks.onDrag(t,r=>{this.setDraggability.bind(this)(r)})},register:e=>{this.getMapEventElement("pointermove").addEventListener("pointermove",e)},unregister:e=>{this.getMapEventElement("pointermove").removeEventListener("pointermove",e)}}),new Gl({name:"contextmenu",callback:e=>{this._currentModeCallbacks&&(e.preventDefault(),this._nextKeyUpIsContextMenu=!0)},register:e=>{this.getMapEventElement("contextmenu").addEventListener("contextmenu",e)},unregister:e=>{this.getMapEventElement("contextmenu").removeEventListener("contextmenu",e)}}),new Gl({name:"pointerup",callback:e=>{if(!this._currentModeCallbacks||e.target!==this.getMapEventElement("pointerup")||this._ignoreMismatchedPointerEvents&&this._lastPointerDownEventTarget!==e.target||(this._lastPointerDownEventTarget=void 0,!e.isPrimary))return;const t=this.getDrawEventFromEvent(e);t&&(this._dragState==="dragging"?this._currentModeCallbacks.onDragEnd(t,r=>{this.setDraggability.bind(this)(r)}):this._dragState!=="not-dragging"&&this._dragState!=="pre-dragging"||(this._nextKeyUpIsContextMenu&&(t.isContextMenu=!0,this._nextKeyUpIsContextMenu=!1),this._currentModeCallbacks.onClick(t)),this._dragState="not-dragging",this.setDraggability(!0))},register:e=>{this.getMapEventElement("pointerup").addEventListener("pointerup",e)},unregister:e=>{this.getMapEventElement("pointerup").removeEventListener("pointerup",e)}}),new Gl({name:"keyup",callback:e=>{this._currentModeCallbacks&&(this._heldKeys.delete(e.key),this._currentModeCallbacks.onKeyUp({key:e.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>e.preventDefault()}))},register:e=>{this.getMapEventElement("keyup").addEventListener("keyup",e)},unregister:e=>{this.getMapEventElement("keyup").removeEventListener("keyup",e)}}),new Gl({name:"keydown",callback:e=>{this._currentModeCallbacks&&(this._heldKeys.add(e.key),this._currentModeCallbacks.onKeyDown({key:e.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>e.preventDefault()}))},register:e=>{this.getMapEventElement("keydown").addEventListener("keydown",e)},unregister:e=>{this.getMapEventElement("keydown").removeEventListener("keydown",e)}})]}unregister(){this._listeners.forEach(e=>{e.unregister()}),this.clear(),this._currentModeCallbacks=void 0,this._lastDrawEvent=void 0,this._lastPointerDownEventTarget=void 0,this._nextKeyUpIsContextMenu=!1}}};function gy(e){if(e===null||typeof e=="boolean"||typeof e=="string")return!0;if(e===void 0)return!1;if(typeof e=="number")return Number.isFinite(e);if(typeof e=="bigint"||typeof e=="symbol"||typeof e=="function"||e instanceof RegExp||e instanceof Map||e instanceof Set||e instanceof Date)return!1;if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const t=Object.getPrototypeOf(e);if(t!==Object.prototype&&t!==null)return!1}if(ArrayBuffer.isView(e)&&!(e instanceof DataView))return!1;if(Array.isArray(e)){for(const t of e)if(!gy(t))return!1}return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string"&&gy(e[t]))}class bk{constructor(t){this._modes=void 0,this._mode=void 0,this._adapter=void 0,this._enabled=!1,this._store=void 0,this._eventListeners=void 0,this._instanceSelectModes=void 0,this._adapter=t.adapter,this._instanceSelectModes=[],this._mode=new ck;const r=new Set,i=t.modes.reduce((g,y)=>{if(r.has(y.mode))throw new Error(`There is already a ${y.mode} mode provided`);return r.add(y.mode),g[y.mode]=y,g},{}),a=Object.keys(i);if(a.length===0)throw new Error("No modes provided");a.forEach(g=>{i[g].type===uu.Select&&this._instanceSelectModes.push(g)}),this._modes=Wt({},i,{static:this._mode}),this._eventListeners={change:[],select:[],deselect:[],finish:[],ready:[]},this._store=new yk({tracked:!!t.tracked,idStrategy:t.idStrategy?t.idStrategy:void 0});const s=g=>{const y=[],x=this._store.copyAll().filter(w=>!g.includes(w.id)||(y.push(w),!1));return{changed:y,unchanged:x}},u=(g,y)=>{this._enabled&&this._eventListeners.finish.forEach(x=>{x(g,y)})},d=(g,y,x)=>{if(!this._enabled)return;this._eventListeners.change.forEach(E=>{E(g,y,x)});const{changed:w,unchanged:_}=s(g);y==="create"?this._adapter.render({created:w,deletedIds:[],unchanged:_,updated:[]},this.getModeStyles()):y==="update"?this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:w},this.getModeStyles()):y==="delete"?this._adapter.render({created:[],deletedIds:g,unchanged:_,updated:[]},this.getModeStyles()):y==="styling"&&this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:[]},this.getModeStyles())},f=g=>{if(!this._enabled)return;this._eventListeners.select.forEach(w=>{w(g)});const{changed:y,unchanged:x}=s([g]);this._adapter.render({created:[],deletedIds:[],unchanged:x,updated:y},this.getModeStyles())},h=g=>{if(!this._enabled)return;this._eventListeners.deselect.forEach(w=>{w(g)});const{changed:y,unchanged:x}=s([g]);y&&this._adapter.render({created:[],deletedIds:[],unchanged:x,updated:y},this.getModeStyles())};Object.keys(this._modes).forEach(g=>{this._modes[g].register({mode:g,store:this._store,setCursor:this._adapter.setCursor.bind(this._adapter),project:this._adapter.project.bind(this._adapter),unproject:this._adapter.unproject.bind(this._adapter),setDoubleClickToZoom:this._adapter.setDoubleClickToZoom.bind(this._adapter),onChange:d,onSelect:f,onDeselect:h,onFinish:u,coordinatePrecision:this._adapter.getCoordinatePrecision()})})}checkEnabled(){if(!this._enabled)throw new Error("Terra Draw is not enabled")}getModeStyles(){const t={},r=this._instanceSelectModes.includes(this._mode.mode)?this._mode.mode:void 0;return Object.keys(this._modes).forEach(i=>{t[i]=a=>r&&a.properties[Un.SELECTED]?this._modes[r].styleFeature.bind(this._modes[r])(a):this._modes[i].styleFeature.bind(this._modes[i])(a)}),t}featuresAtLocation({lng:t,lat:r},i){const a=i&&i.pointerDistance!==void 0?i.pointerDistance:30,s=!i||i.ignoreSelectFeatures===void 0||i.ignoreSelectFeatures,u=!(!i||i.ignoreCoordinatePoints===void 0)&&i.ignoreCoordinatePoints,d=!(!i||i.ignoreCurrentlyDrawing===void 0)&&i.ignoreCurrentlyDrawing,f=!(!i||i.ignoreClosingPoints===void 0)&&i.ignoreClosingPoints,h=!(!i||i.ignoreSnappingPoints===void 0)&&i.ignoreSnappingPoints,g=this._adapter.unproject.bind(this._adapter),y=this._adapter.project.bind(this._adapter),x=y(t,r),w=GE({unproject:g,point:x,pointerDistance:a});return this._store.search(w).filter(_=>{if(s&&(_.properties[Un.MID_POINT]||_.properties[Un.SELECTION_POINT])||u&&_.properties[ft.COORDINATE_POINT]||f&&_.properties[ft.CLOSING_POINT]||d&&_.properties[ft.CURRENTLY_DRAWING]||h&&_.properties[ft.SNAPPING_POINT])return!1;if(_.geometry.type==="Point"){const E=_.geometry.coordinates,T=y(E[0],E[1]);return Ha(x,T)<a}if(_.geometry.type==="LineString"){const E=_.geometry.coordinates;for(let T=0;T<E.length-1;T++){const N=E[T],D=E[T+1];if(py(x,y(N[0],N[1]),y(D[0],D[1]))<a)return!0}return!1}if(KE([t,r],_.geometry.coordinates))return!0;if(i!=null&&i.includePolygonsWithinPointerDistance){const E=_.geometry.coordinates;for(const T of E)for(let N=0;N<T.length-1;N++){const D=T[N],I=T[N+1],F=y(D[0],D[1]),k=y(I[0],I[1]);if(py(x,F,k)<a)return!0}}return!1}).map(_=>{if(i==null||!i.addClosestCoordinateInfoToProperties)return _;let E;if(_.geometry.type==="Polygon")E=_.geometry.coordinates[0].slice(0,-1);else{if(_.geometry.type!=="LineString")return _;E=_.geometry.coordinates}let T,N=-1,D=1/0;for(let I=0;I<E.length;I++){const F=E[I],k=Ha(y(F[0],F[1]),x);k<D&&(N=I,D=k,T=F)}return _.properties.closestCoordinateIndexToEvent=N,_.properties.closestCoordinatePixelDistanceToEvent=D,_.properties.closestCoordinateDistanceKmToEvent=Ko(T,[t,r]),_})}getSelectModeOrThrow(t=void 0){const r=this.getSelectMode({switchToSelectMode:!0,selectMode:t});if(!r)throw new Error("No select mode defined in instance");return r}getSelectMode({switchToSelectMode:t,selectMode:r}){this.checkEnabled();const i=this.getMode();if(this._instanceSelectModes.length===0)return null;if(r!==void 0&&!this._instanceSelectModes.includes(r))throw new Error(`No select mode with this name present: ${r}`);let a;return a=r!==void 0?r:this._instanceSelectModes.includes(i)?i:this._instanceSelectModes[0],t&&i!==a&&this.setMode(a),this._modes[a]}isGuidanceFeature(t){return!!(t.properties[Un.MID_POINT]||t.properties[Un.SELECTION_POINT]||t.properties[ft.COORDINATE_POINT]||t.properties[ft.SNAPPING_POINT])}setModeStyles(t,r){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._modes[t].styles=r}updateModeOptions(t,r){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._modes[t].updateOptions(r)}getSnapshot(){return this._store.copyAll()}getSnapshotFeature(t){if(this._store.has(t))return this._store.copy(t)}clear(){this.checkEnabled(),this._adapter.clear()}get enabled(){return this._enabled}set enabled(t){throw new Error("Enabled is read only")}getMode(){return this._mode.mode}getModeState(){return this._mode.state}setMode(t){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._mode.stop(),this._mode=this._modes[t],this._mode.start()}removeFeatures(t){this.checkEnabled();const r=[],i=[];let a;t.forEach(s=>{if(!this._store.has(s))throw new Error(`No feature with id ${s}, can not delete`);const u=this._store.getPropertiesCopy(s);u[Un.SELECTED]&&this.deselectFeature(s),u[ft.CURRENTLY_DRAWING]&&this._modes[u.mode]?a=u.mode:(u[ft.COORDINATE_POINT_IDS]&&r.push(...u[ft.COORDINATE_POINT_IDS]),i.push(s))}),this._store.delete([...i,...r],{origin:"api"}),a&&this._modes[a]&&this._modes[a].cleanUp()&&this._modes[a].cleanUp()}selectFeature(t,r){this.getSelectModeOrThrow(r).selectFeature(t)}deselectFeature(t){this.getSelectModeOrThrow().deselectFeature(t)}getFeatureId(){return this._store.getId()}hasFeature(t){return this._store.has(t)}checkIsReservedProperty(t){return![...Object.values(Un),...Object.values(ft)].includes(t)}updateFeatureProperties(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);const i=this._store.copy(t);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");const a=i.properties.mode;if(!this._modes[a])throw new Error(`No mode with name ${a} present in instance`);const s=Object.entries(r);s.forEach(([u,d])=>{if(!this.checkIsReservedProperty(u))throw new Error(`You are trying to update a reserved property name: ${u}. Please choose another name.`);if(d!==void 0&&!gy(d))throw new Error(`Invalid JSON value provided for property ${u}`)}),this._store.updateProperty(s.map(([u,d])=>({id:i.id,property:u,value:d})),{origin:"api"})}updateFeatureGeometry(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);const i=this._store.copy(t);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");if(!(i&&r&&r.type&&r.coordinates))throw new Error("Invalid geometry provided");if(r.type!==i.geometry.type)throw new Error(`Geometry type mismatch: expected ${i.geometry.type}, got ${r.type}`);const a=i.properties.mode,s=this._modes[a];if(!s)throw new Error(`No mode with name ${a} present in instance`);const u=Wt({},i,{geometry:r}),d=s.validateFeature(u);if(!d.valid)throw new Error(`Feature validation failed: ${d.reason||"Unknown reason"}`);if(this._store.updateGeometry([{id:i.id,geometry:r}],{origin:"api"}),s.afterFeatureUpdated){s.afterFeatureUpdated(u);const f=u.properties[Un.SELECTED],h=this.getSelectMode({switchToSelectMode:!1});h&&f&&h.afterFeatureUpdated(u)}}transformFeatureGeometry(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);let i=this._store.copy(t);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");const a=i.properties.mode,s=this._modes[a];if(!s)throw new Error(`No mode with name ${a} present in instance`);let u;if(i.geometry.type==="Polygon")u=i.geometry.coordinates[0];else{if(i.geometry.type!=="LineString")throw new Error(`Feature geometry type ${i.geometry.type} is not supported for transformation`);u=i.geometry.coordinates}if(r.projection!="web-mercator")throw new Error(`Projection ${r.projection} is not currently supported for transformation`);if(r.type==="scale"){const{x:d,y:f}=Mn(r.origin[0],r.origin[1]);WE({coordinates:u,originX:d,originY:f,xScale:r.options.xScale||1,yScale:r.options.yScale||1})}else r.type==="rotate"&&(i=XE(i,r.options.angle||0),u=i.geometry.type==="Polygon"?i.geometry.coordinates[0]:i.geometry.coordinates);if(u=u.map(d=>[Tn(d[0],this._adapter.getCoordinatePrecision()),Tn(d[1],this._adapter.getCoordinatePrecision())]),i.geometry.coordinates=i.geometry.type==="Polygon"?[u]:u,this._store.updateGeometry([{id:i.id,geometry:i.geometry}],{origin:"api"}),s.afterFeatureUpdated){s.afterFeatureUpdated(i);const d=i.properties[Un.SELECTED],f=this.getSelectMode({switchToSelectMode:!1});f&&d&&f.afterFeatureUpdated(i)}}addFeatures(t){return this.checkEnabled(),t.length===0?[]:this._store.load(t,r=>{if(u1(r)){const i=r.properties.mode,a=this._modes[i];if(!a)return{id:r.id,valid:!1,reason:`${i} mode is not in the list of instantiated modes`};const s=a.validateFeature.bind(a)(r);return{id:r.id,valid:s.valid,reason:s.reason?s.reason:s.valid?void 0:"Feature is invalid"}}return{id:r.id,valid:!1,reason:"Mode property does not exist"}},r=>{if(u1(r)){const i=this._modes[r.properties.mode];i&&i.afterFeatureAdded&&i.afterFeatureAdded(r)}},{origin:"api"})}start(){this._enabled||(this._enabled=!0,this._adapter.register({onReady:()=>{this._eventListeners.ready.forEach(t=>{t()})},getState:()=>this._mode.state,onClick:t=>{this._mode.onClick(t)},onMouseMove:t=>{this._mode.onMouseMove(t)},onKeyDown:t=>{this._mode.onKeyDown(t)},onKeyUp:t=>{this._mode.onKeyUp(t)},onDragStart:(t,r)=>{this._mode.onDragStart(t,r)},onDrag:(t,r)=>{this._mode.onDrag(t,r)},onDragEnd:(t,r)=>{this._mode.onDragEnd(t,r)},onClear:()=>{this._mode.cleanUp(),this._store.clear()}}))}getFeaturesAtLngLat(t,r){const{lng:i,lat:a}=t;return this.featuresAtLocation({lng:i,lat:a},r)}getFeaturesAtPointerEvent(t,r){const i=this._adapter.getLngLatFromEvent.bind(this._adapter)(t);return i===null?[]:this.featuresAtLocation(i,r)}stop(){this._enabled&&(this._enabled=!1,this._adapter.unregister())}on(t,r){const i=this._eventListeners[t];i.includes(r)||i.push(r)}off(t,r){const i=this._eventListeners[t];i.includes(r)&&i.splice(i.indexOf(r),1)}}class xk extends vk.TerraDrawBaseAdapter{constructor(t){super(t),this._renderBeforeLayerId=void 0,this._prefixId=void 0,this._initialDragPan=void 0,this._initialDragRotate=void 0,this._nextRender=void 0,this._map=void 0,this._container=void 0,this.changedIds={deletion:!1,points:!1,linestrings:!1,polygons:!1,styling:!1},this._map=t.map,this._container=this._map.getContainer(),this._initialDragRotate=this._map.dragRotate.isEnabled(),this._initialDragPan=this._map.dragPan.isEnabled(),this._renderBeforeLayerId=t.renderBelowLayerId,this._prefixId=t.prefixId||"td"}hashCode(t){let r=0;for(let i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return Math.abs(r)}resizeImage(t,r,i,a){const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{const u=document.createElement("canvas");u.width=r,u.height=i;const d=u.getContext("2d");if(!d)throw new Error("Could not get canvas context");d.drawImage(s,0,0,r,i);const f=u.toDataURL();a(f)},s.src=t}_addGeoJSONSource(t,r){this._map.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:r},tolerance:0})}_addFillLayer(t){return this._map.addLayer({id:t,source:t,type:"fill",layout:{"fill-sort-key":["get","zIndex"]},paint:{"fill-color":["get","polygonFillColor"],"fill-opacity":["get","polygonFillOpacity"]}})}_addFillOutlineLayer(t){return this._map.addLayer({id:t+"-outline",source:t,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","polygonOutlineWidth"],"line-color":["get","polygonOutlineColor"],"line-opacity":["get","polygonOutlineOpacity"]}})}_addLineLayer(t){return this._map.addLayer({id:t,source:t,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","lineStringWidth"],"line-color":["get","lineStringColor"],"line-opacity":["get","lineStringOpacity"]}})}_addPointLayer(t){return this._map.addLayer({id:t,source:t,type:"circle",layout:{"circle-sort-key":["get","zIndex"]},paint:{"circle-stroke-color":["get","pointOutlineColor"],"circle-stroke-width":["get","pointOutlineWidth"],"circle-stroke-opacity":["get","pointOutlineOpacity"],"circle-radius":["get","pointWidth"],"circle-color":["get","pointColor"],"circle-opacity":["get","pointOpacity"]}})}_addMarkerLayer(t){return this._map.addLayer({id:t+"-marker",source:t,type:"symbol",filter:["has","markerId"],layout:{"icon-image":["image",["get","markerId"]],"icon-anchor":"bottom","icon-allow-overlap":!0}})}_addLayer(t,r){r==="Point"&&(this._addPointLayer(t),this._addMarkerLayer(t)),r==="LineString"&&this._addLineLayer(t),r==="Polygon"&&(this._addFillLayer(t),this._addFillOutlineLayer(t))}_addGeoJSONLayer(t,r){const i=`${this._prefixId}-${t.toLowerCase()}`;return this._addGeoJSONSource(i,r),this._addLayer(i,t),i}_setGeoJSONLayerData(t,r){const i=`${this._prefixId}-${t.toLowerCase()}`;return this._map.getSource(i).setData({type:"FeatureCollection",features:r}),i}updateChangedIds(t){[...t.updated,...t.created].forEach(r=>{r.geometry.type==="Point"?this.changedIds.points=!0:r.geometry.type==="LineString"?this.changedIds.linestrings=!0:r.geometry.type==="Polygon"&&(this.changedIds.polygons=!0)}),t.deletedIds.length>0&&(this.changedIds.deletion=!0),t.created.length===0&&t.updated.length===0&&t.deletedIds.length===0&&(this.changedIds.styling=!0)}getLngLatFromEvent(t){const{left:r,top:i}=this._container.getBoundingClientRect();return this.unproject(t.clientX-r,t.clientY-i)}getMapEventElement(){return this._map.getCanvas()}setDraggability(t){t?(this._initialDragRotate&&this._map.dragRotate.enable(),this._initialDragPan&&this._map.dragPan.enable()):(this._initialDragRotate&&this._map.dragRotate.disable(),this._initialDragPan&&this._map.dragPan.disable())}project(t,r){const{x:i,y:a}=this._map.project({lng:t,lat:r});return{x:i,y:a}}unproject(t,r){const{lng:i,lat:a}=this._map.unproject({x:t,y:r});return{lng:i,lat:a}}setCursor(t){const r=this._map.getCanvas();t==="unset"?r.style.removeProperty("cursor"):r.style.cursor=t}setDoubleClickToZoom(t){t?this._map.doubleClickZoom.enable():this._map.doubleClickZoom.disable()}render(t,r){this.updateChangedIds(t),this._nextRender&&cancelAnimationFrame(this._nextRender),this._nextRender=requestAnimationFrame(()=>{if(!this._currentModeCallbacks)return;const i=[...t.created,...t.updated,...t.unchanged],a=[],s=[],u=[];for(let g=0;g<i.length;g++){const y=i[g],{properties:x}=y,w=r[x.mode](y);if(x.zIndex=w.zIndex,x.zIndex=w.zIndex,y.geometry.type==="Point"){x.pointColor=w.pointColor,x.pointOutlineColor=w.pointOutlineColor,x.pointOutlineWidth=w.pointOutlineWidth;const _=w.pointOutlineOpacity;x.pointOutlineOpacity=_===void 0?1:_,x.pointWidth=w.pointWidth;const E=w.pointOpacity;if(x.pointOpacity=E===void 0?1:E,w.markerUrl&&w.markerWidth&&w.markerHeight){const T=`marker-${this.hashCode(w.markerUrl)}`;this._map.hasImage(T)||this.resizeImage(w.markerUrl,w.markerWidth,w.markerHeight,N=>{this._map.loadImage(N).then(D=>{this._map.hasImage(T)||this._map.addImage(T,D.data)})}),x.markerId=T,x.pointWidth=0}a.push(y)}else if(y.geometry.type==="LineString"){x.lineStringColor=w.lineStringColor,x.lineStringWidth=w.lineStringWidth;const _=w.lineStringOpacity;x.lineStringOpacity=_===void 0?1:_,s.push(y)}else if(y.geometry.type==="Polygon"){const _=w.polygonOutlineOpacity;x.polygonFillColor=w.polygonFillColor,x.polygonFillOpacity=w.polygonFillOpacity,x.polygonOutlineOpacity=_===void 0?1:_,x.polygonOutlineColor=w.polygonOutlineColor,x.polygonOutlineWidth=w.polygonOutlineWidth,u.push(y)}}const d=this.changedIds.deletion||this.changedIds.styling,f=d||this.changedIds.linestrings,h=d||this.changedIds.polygons;(d||this.changedIds.points)&&this._setGeoJSONLayerData("Point",a),f&&this._setGeoJSONLayerData("LineString",s),h&&this._setGeoJSONLayerData("Polygon",u),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1}})}clear(){this._currentModeCallbacks&&(this._currentModeCallbacks.onClear(),this._nextRender&&(cancelAnimationFrame(this._nextRender),this._nextRender=void 0),this._setGeoJSONLayerData("Point",[]),this._setGeoJSONLayerData("LineString",[]),this._setGeoJSONLayerData("Polygon",[]))}getCoordinatePrecision(){return super.getCoordinatePrecision()}unregister(){super.unregister(),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1},this._map.removeLayer(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-point-marker`),this._map.removeSource(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-linestring`),this._map.removeSource(`${this._prefixId}-linestring`),this._map.removeLayer(`${this._prefixId}-polygon`),this._map.removeLayer(`${this._prefixId}-polygon-outline`),this._map.removeSource(`${this._prefixId}-polygon`)}register(t){var r;super.register(t);const i=this._addGeoJSONLayer("Polygon",[]),a=this._addGeoJSONLayer("LineString",[]),s=this._addGeoJSONLayer("Point",[]);var u;this._renderBeforeLayerId&&(this._map.moveLayer(s,this._renderBeforeLayerId),this._map.moveLayer(a,s),this._map.moveLayer(`${i}-outline`,a),this._map.moveLayer(i,`${i}-outline`)),(r=this._currentModeCallbacks)!=null&&r.onReady&&((u=this._currentModeCallbacks)==null||u.onReady())}}const wk=e=>{const t=e.toLowerCase(),r=[new uk({flags:{polygon:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0,midpoints:!0}}},linestring:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0}}},point:{feature:{draggable:!0}}}})];return(t.includes("point")||t.includes("geometry"))&&r.push(new KF),(t.includes("line")||t.includes("geometry"))&&r.push(new UF),(t.includes("polygon")||t.includes("geometry"))&&r.push(new QF),r},Sk=(e,t)=>{const r=e.toLowerCase();if(r.includes("multi"))return Nz(t).features[0].geometry;if(r.includes("collection")){const i=t.features.map(s=>s.geometry);return Cz(i).geometry}return t.features[0].geometry},Ck=C.forwardRef((e,t)=>{const{geojsonData:r}=e,{current:i}=Gz(),a=C.useRef(null),s=C.useRef(r);return C.useEffect(()=>{if(!i)return;const u=i.getMap(),d=wk(s.current.type),f=new bk({adapter:new xk({map:u}),modes:d});if(f.start(),a.current=f,s.current){const h=s.current.type.toLowerCase();let g="polygon";h.includes("point")?g="point":h.includes("line")&&(g="linestring");const y=s.current.type==="FeatureCollection"?s.current.features.map(x=>({...x,properties:{...x.properties,mode:g}})):[{type:"Feature",geometry:s.current,properties:{mode:g}}];f.addFeatures(y),f.setMode("select")}return()=>{f.stop(),a.current=null}},[i]),C.useImperativeHandle(t,()=>({getFeatures:()=>a.current?{type:"FeatureCollection",features:a.current.getSnapshot()}:{type:"FeatureCollection",features:[]},setMode:u=>{a.current&&a.current.setMode(u)}})),null}),_k="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",Ek="https://map.ir/vector/styles/main/mapir-xyz-style.json";function Ok({onGeometryLoad:e,onFeatureClick:t,activeLayers:r,drawingMode:i,drawRef:a}){const s=C.useRef(null),{features:u}=UE("population_point");C.useEffect(()=>{if(u&&u.length>0){const f=u[0].geometry;if(e&&e(f),s.current)try{const h=Ya(f),g=Tz(h);s.current.fitBounds([[g[0],g[1]],[g[2],g[3]]],{padding:100,duration:1e3})}catch(h){console.warn("Could not calculate bounds for village geometry",h)}}},[u,e]);const d=C.useMemo(()=>na.filter(f=>r.includes(f.id)).flatMap(f=>f.styles.map((h,g)=>`layer-${f.id}-${g}`)),[r]);return R.jsxs(nF,{ref:s,initialViewState:{longitude:51.4015,latitude:35.6425,zoom:14},style:{width:"100%",height:"100%"},mapStyle:Ek,transformRequest:f=>({url:f,headers:{"x-api-key":_k}}),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",interactiveLayerIds:d,onClick:f=>{if(t){const h=f.features?.[0];h&&h.properties?(f.originalEvent.stopPropagation(),t({id:h.properties.id,entityType:h.properties.entityType})):t(null)}},children:[R.jsx(lF,{position:"bottom-left"}),R.jsx(wF,{activeLayers:r,drawingMode:i}),i&&R.jsx(Ck,{ref:a,geojsonData:i.geometry})]})}function Mk({activeLayers:e,toggleLayer:t}){const[r,{open:i,close:a}]=rC(!1),s=na.filter(u=>!u.isDataOnly);return R.jsxs(R.Fragment,{children:[R.jsx(Wo,{variant:"default",size:"xl",radius:"md",style:{position:"absolute",bottom:100,right:20,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},onClick:i,children:R.jsx(gz,{size:24})}),R.jsx(Pi,{opened:r,onClose:a,title:" ",position:"bottom",size:"md",styles:{title:{fontWeight:"bold"}},children:R.jsx($i,{gap:"sm",children:s.map(u=>{const d=e.includes(u.id);return R.jsxs(Li,{justify:"space-between",align:"center",children:[R.jsx(wu,{label:u.label,checked:d,onChange:()=>t(u.id),disabled:u.isDisabled,styles:{label:{cursor:u.isDisabled?"not-allowed":"pointer"}}}),u.isDisabled&&R.jsx(Uo,{color:"gray",size:"sm",children:" "})]},u.id)})})})]})}async function _1(e,t){const r=na.find(g=>g.id===e);if(!r||r.isDisabled)return 0;const a=(await Sn.syncState.get(e))?.lastSync||null,s=r.getQuery(t,a),u=r.endpoint,d=await ks(`${u}${s}&$top=99999999`);if(!d.ok)throw new Error(`Failed to sync ${e}: ${d.statusText}`);let h=(await d.json()).value;if(r.transformResponse&&(h=r.transformResponse(h)),h.length>0){const g=Sn[r.tableName],y=r.injectVillageId?h.map(w=>({...w,population_point_id:Number(t)})):h;await Sn.transaction("rw",g,async()=>{await g.bulkPut(y)});const x=h[0].updated_at;x&&await Sn.syncState.put({layerName:e,lastSync:x})}return h.length}async function Tk(e){const t=await ks(`/editor/tables/${e}/rows?$top=9999999`);if(!t.ok)throw new Error(`Failed to sync lookup ${e}: ${t.statusText}`);const i=(await t.json()).value.map(a=>({...a,tableName:e}));return i.length>0&&await Sn.transaction("rw",Sn.lookups,async()=>{await Sn.lookups.where("tableName").equals(e).delete(),await Sn.lookups.bulkPut(i)}),i.length}var Nc={},kg,E1;function Rk(){if(E1)return kg;E1=1;var e=Math.PI/180,t=180/Math.PI;function r(D){var I=a(D[0]+1,D[2]),F=a(D[0],D[2]),k=s(D[1]+1,D[2]),V=s(D[1],D[2]);return[F,k,I,V]}function i(D){var I=r(D),F={type:"Polygon",coordinates:[[[I[0],I[3]],[I[0],I[1]],[I[2],I[1]],[I[2],I[3]],[I[0],I[3]]]]};return F}function a(D,I){return D/Math.pow(2,I)*360-180}function s(D,I){var F=Math.PI-2*Math.PI*D/Math.pow(2,I);return t*Math.atan(.5*(Math.exp(F)-Math.exp(-F)))}function u(D,I,F){var k=N(D,I,F);return k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k}function d(D){return[[D[0]*2,D[1]*2,D[2]+1],[D[0]*2+1,D[1]*2,D[2]+1],[D[0]*2+1,D[1]*2+1,D[2]+1],[D[0]*2,D[1]*2+1,D[2]+1]]}function f(D){return[D[0]>>1,D[1]>>1,D[2]-1]}function h(D){return d(f(D))}function g(D,I){for(var F=h(D),k=0;k<F.length;k++)if(!y(I,F[k]))return!1;return!0}function y(D,I){for(var F=0;F<D.length;F++)if(x(D[F],I))return!0;return!1}function x(D,I){return D[0]===I[0]&&D[1]===I[1]&&D[2]===I[2]}function w(D){for(var I="",F=D[2];F>0;F--){var k=0,V=1<<F-1;(D[0]&V)!==0&&k++,(D[1]&V)!==0&&(k+=2),I+=k.toString()}return I}function _(D){for(var I=0,F=0,k=D.length,V=k;V>0;V--){var A=1<<V-1,G=+D[k-V];G===1&&(I|=A),G===2&&(F|=A),G===3&&(I|=A,F|=A)}return[I,F,k]}function E(D){var I=u(D[0],D[1],32),F=u(D[2],D[3],32),k=[I[0],I[1],F[0],F[1]],V=T(k);if(V===0)return[0,0,0];var A=k[0]>>>32-V,G=k[1]>>>32-V;return[A,G,V]}function T(D){for(var I=28,F=0;F<I;F++){var k=1<<32-(F+1);if((D[0]&k)!==(D[2]&k)||(D[1]&k)!==(D[3]&k))return F}return I}function N(D,I,F){var k=Math.sin(I*e),V=Math.pow(2,F),A=V*(D/360+.5),G=V*(.5-.25*Math.log((1+k)/(1-k))/Math.PI);return A=A%V,A<0&&(A=A+V),[A,G,F]}return kg={tileToGeoJSON:i,tileToBBOX:r,getChildren:d,getParent:f,getSiblings:h,hasTile:y,hasSiblings:g,tilesEqual:x,tileToQuadkey:w,quadkeyToTile:_,pointToTile:u,bboxToTile:E,pointToTileFraction:N},kg}var O1;function Pk(){if(O1)return Nc;O1=1;var e=Rk();Nc.geojson=function(g,y){return{type:"FeatureCollection",features:r(g,y).map(t)}};function t(g){return{type:"Feature",geometry:e.tileToGeoJSON(g),properties:{}}}Nc.tiles=r,Nc.indexes=function(g,y){return r(g,y).map(e.tileToQuadkey)};function r(g,y){var x,w,_=g.coordinates,E=y.max_zoom,T={},N=[];if(g.type==="Point")return[e.pointToTile(_[0],_[1],E)];if(g.type==="MultiPoint")for(x=0;x<_.length;x++)w=e.pointToTile(_[x][0],_[x][1],E),T[f(w[0],w[1],w[2])]=!0;else if(g.type==="LineString")u(T,_,E);else if(g.type==="MultiLineString")for(x=0;x<_.length;x++)u(T,_[x],E);else if(g.type==="Polygon")a(T,N,_,E);else if(g.type==="MultiPolygon")for(x=0;x<_.length;x++)a(T,N,_[x],E);else throw new Error("Geometry type not implemented");if(y.min_zoom!==E){var D=N.length;for(d(T,N),x=0;x<D;x++){var I=N[x];T[f(I[0],I[1],I[2])]=!0}return i(T,N,y)}return d(T,N),N}function i(g,y,x){for(var w=[],_=x.max_zoom;_>x.min_zoom;_--){for(var E={},T=[],N=0;N<y.length;N++){var D=y[N];if(D[0]%2===0&&D[1]%2===0){var I=f(D[0]+1,D[1],_),F=f(D[0],D[1]+1,_),k=f(D[0]+1,D[1]+1,_);if(g[I]&&g[F]&&g[k]){g[f(D[0],D[1],D[2])]=!1,g[I]=!1,g[F]=!1,g[k]=!1;var V=[D[0]/2,D[1]/2,_-1];_-1===x.min_zoom?w.push(V):(E[f(D[0]/2,D[1]/2,_-1)]=!0,T.push(V))}}}for(N=0;N<y.length;N++)D=y[N],g[f(D[0],D[1],D[2])]&&w.push(D);g=E,y=T}return w}function a(g,y,x,w){for(var _=[],E=0;E<x.length;E++){var T=[];u(g,x[E],w,T);for(var N=0,D=T.length,I=D-1;N<D;I=N++){var F=(N+1)%D,k=T[N][1];(k>T[I][1]||k>T[F][1])&&(k<T[I][1]||k<T[F][1])&&k!==T[F][1]&&_.push(T[N])}}for(_.sort(s),E=0;E<_.length;E+=2){k=_[E][1];for(var V=_[E][0]+1;V<_[E+1][0];V++){var A=f(V,k,w);g[A]||y.push([V,k,w])}}}function s(g,y){return g[1]-y[1]||g[0]-y[0]}function u(g,y,x,w){for(var _,E,T=0;T<y.length-1;T++){var N=e.pointToTileFraction(y[T][0],y[T][1],x),D=e.pointToTileFraction(y[T+1][0],y[T+1][1],x),I=N[0],F=N[1],k=D[0],V=D[1],A=k-I,G=V-F;if(!(G===0&&A===0)){var W=A>0?1:-1,le=G>0?1:-1,he=Math.floor(I),de=Math.floor(F),Oe=A===0?1/0:Math.abs(((A>0?1:0)+he-I)/A),ce=G===0?1/0:Math.abs(((G>0?1:0)+de-F)/G),xe=Math.abs(W/A),B=Math.abs(le/G);for((he!==_||de!==E)&&(g[f(he,de,x)]=!0,w&&de!==E&&w.push([he,de]),_=he,E=de);Oe<1||ce<1;)Oe<ce?(Oe+=xe,he+=W):(ce+=B,de+=le),g[f(he,de,x)]=!0,w&&de!==E&&w.push([he,de]),_=he,E=de}}w&&de===w[0][1]&&w.pop()}function d(g,y){for(var x=Object.keys(g),w=0;w<x.length;w++)y.push(h(+x[w]))}function f(g,y,x){var w=2*(1<<x);return(w*y+g)*32+x}function h(g){var y=g%32,x=2*(1<<y),w=(g-y)/32,_=w%x,E=(w-_)/x%x;return[_,E,y]}return Nc}var Dk=Pk();const Ak=wh(Dk),Nk="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",Ik=(e,t,r)=>`https://map.ir/vector/xyz/1.0.0/Shiveh:Vector@EPSG:900913@pbf/${r}/${e}/${t}.pbf`;async function jk(e){const r=await caches.open("offline-map-tiles"),i=0,a=14,s=10;let u=[];try{for(let d=i;d<=a;d++){const f=Ak.tiles(e,{min_zoom:d,max_zoom:d});u.push(...f)}}catch(d){throw console.error("Error calculating tiles",d),new Error("Geometry too complex or invalid")}for(let d=0;d<u.length;d+=s){const f=u.slice(d,d+s);await Promise.all(f.map(async([h,g,y])=>{const x=Ik(h,g,y);if(!await r.match(x))try{const _=await fetch(x,{headers:{"x-api-key":Nk}});_.ok&&await r.put(x,_)}catch(_){console.warn(`Failed to download tile ${y}/${h}/${g}`,_)}}))}}const M1=["building_type","unit_status","act_type","population_point_type","province","county","zone","part"];function zk(){const{user:e,isOffline:t}=Za(),[r,i]=C.useState({status:"idle",progress:"",lastUpdated:null,error:null}),s=e?.action_areas?.find(f=>f.action_area.population_point)?.action_area.population_point?.id,u=C.useRef(!1),d=C.useCallback(async()=>{if(!(!s||t||u.current))try{u.current=!0,i(E=>({...E,status:"syncing",error:null})),i(E=>({...E,progress:"    ..."})),await _1("population_point",s);const h=(await Sn.population_point.get(Number(s)))?.geometry,g=na.filter(E=>!E.isDisabled&&E.id!=="population_point"),y=g.length+(h?1:0)+M1.length;let x=0;const w=()=>{x++,i(E=>({...E,progress:`${x}  ${y}`}))},_=[];g.forEach(E=>{_.push(_1(E.id,s).then(()=>w()).catch(T=>console.error(`Failed layer ${E.id}`,T)))}),h?_.push(jk(h).then(()=>{w()})):console.warn("No geometry found for village, skipping tiles."),M1.forEach(E=>{_.push(Tk(E).then(()=>w()).catch(T=>console.error(`Failed lookup ${E}`,T)))}),await Promise.all(_),i({status:"complete",progress:"100%",lastUpdated:new Date,error:null})}catch(f){console.error("Sync failed",f),i(h=>({...h,status:"error",error:"  "}))}finally{u.current=!1}},[s,t]);return C.useEffect(()=>{if(s&&!t){d();const f=setInterval(d,300*1e3);return()=>clearInterval(f)}},[s,t,d]),r}function Fk(){const{isOffline:e}=Za(),{status:t,progress:r,lastUpdated:i}=zk();return e?R.jsx(Uo,{color:"gray",leftSection:R.jsx(xz,{size:14}),children:""}):t==="syncing"?R.jsx(Uo,{color:"blue",variant:"light",leftSection:R.jsx(lo,{size:12,color:"blue"}),children:r}):t==="error"?R.jsx(Uo,{color:"red",variant:"light",leftSection:R.jsx(az,{size:14}),children:""}):t==="complete"&&i?R.jsx(cd,{label:` : ${i.toLocaleTimeString("fa-IR")}`,children:R.jsx(Uo,{color:"green",variant:"light",leftSection:R.jsx(fz,{size:14}),style:{cursor:"help"},children:""})}):null}function kk(){const[e,{open:t,close:r}]=rC(!1),{logout:i,user:a,isOffline:s}=Za(),u=pd(),[,d]=C.useState(null),[f,h]=C.useState(["population_point"]),[g,y]=C.useState(null),[x,w]=C.useState(null),[_,E]=C.useState(!1),T=C.useRef(null),N=a?.action_areas?.find(A=>A.action_area.population_point),D=N?.action_area.population_point?.name,I=N?.action_area.population_point?.id,F=A=>{y(null),w(A)},k=async()=>{if(!(!x||!T.current||!I||!a?.id)){E(!0);try{const A=T.current.getFeatures();if(A.features.length===0)throw new Error("No geometry found");const G=Sk(x.geometry.type,A);if(Az(Ya(x.geometry),Ya(G))){w(null);return}const le=na.find(ce=>ce.id===x.entityType),he=le?le.label:x.entityType,de=x.featureName?` ${x.featureName}`:"",Oe=`  ${he}${de}`;await Iz(Number(I),a.id,{entityType:x.entityType,row_id:x.id,title:Oe,suggested_geometry:G}),Yo.show({title:" ",message:"           .",color:"green",icon:R.jsx(cz,{size:16})}),w(null)}catch(A){console.error("Failed to save geometry task",A),Yo.show({title:"",message:"    .    .",color:"red",icon:R.jsx(IE,{size:16})})}finally{E(!1)}}},V=A=>{h(G=>G.includes(A)?G.filter(W=>W!==A):[...G,A])};return R.jsxs(qr,{header:{height:60},padding:"0",children:[R.jsx(qr.Header,{children:R.jsxs(Li,{h:"100%",px:"md",justify:"space-between",align:"center",children:[R.jsxs(Li,{gap:"xs",children:[R.jsxs(Zh,{children:[" ",D||""]}),R.jsx(Fk,{})]}),R.jsx(Wo,{variant:"subtle",color:"dark",onClick:t,size:"lg",children:R.jsx(vz,{size:28})})]})}),R.jsx(qr.Main,{style:{height:"100dvh",display:"flex",flexDirection:"column"},children:R.jsxs("div",{style:{flex:1,position:"relative"},children:[x&&R.jsx(Fe,{style:{position:"absolute",top:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"90%",maxWidth:500},children:R.jsx(uv,{title:" ",color:"blue",icon:R.jsx(pz,{}),styles:{root:{padding:"var(--mantine-spacing-xs)"},body:{gap:0}},children:R.jsxs($i,{gap:"sm",mt:"xs",children:[R.jsx("span",{style:{fontSize:"14px"},children:"      ."}),R.jsxs(Li,{justify:"flex-end",children:[R.jsx(ii,{variant:"default",size:"sm",onClick:()=>w(null),disabled:_,children:""}),R.jsx(ii,{color:"green",size:"sm",onClick:k,loading:_,children:""})]})]})})}),R.jsx(Ok,{onGeometryLoad:d,activeLayers:f,onFeatureClick:A=>{x||y(A)},drawingMode:x,drawRef:T}),R.jsx(Mk,{activeLayers:f,toggleLayer:V}),!x&&R.jsx(Uz,{properties:g,onClose:()=>y(null),onStartDrawing:F})]})}),R.jsx(Pi,{opened:e,onClose:r,title:"",position:"right",children:R.jsxs($i,{children:[R.jsx(ii,{variant:"default",c:"dark",onClick:()=>{r(),u("/tasks")},children:" "}),R.jsx(ii,{color:"red",onClick:i,variant:"light",disabled:s,children:"  "})]})})]})}var yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lk={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Bk=class{#e=Lk;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Ns=new Bk;function Uk(e){setTimeout(e,0)}var Ls=typeof window>"u"||"Deno"in globalThis;function Br(){}function $k(e,t){return typeof e=="function"?e(t):e}function yy(e){return typeof e=="number"&&e>=0&&e!==1/0}function ZE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qa(e,t){return typeof e=="function"?e(t):e}function Ci(e,t){return typeof e=="function"?e(t):e}function T1(e,t){const{type:r="all",exact:i,fetchStatus:a,predicate:s,queryKey:u,stale:d}=e;if(u){if(i){if(t.queryHash!==n0(u,t.options))return!1}else if(!ed(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function R1(e,t){const{exact:r,status:i,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Jc(t.options.mutationKey)!==Jc(s))return!1}else if(!ed(t.options.mutationKey,s))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function n0(e,t){return(t?.queryKeyHashFn||Jc)(e)}function Jc(e){return JSON.stringify(e,(t,r)=>by(r)?Object.keys(r).sort().reduce((i,a)=>(i[a]=r[a],i),{}):r)}function ed(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>ed(e[r],t[r])):!1}var Hk=Object.prototype.hasOwnProperty;function JE(e,t){if(e===t)return e;const r=P1(e)&&P1(t);if(!r&&!(by(e)&&by(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),u=s.length,d=r?new Array(u):{};let f=0;for(let h=0;h<u;h++){const g=r?h:s[h],y=e[g],x=t[g];if(y===x){d[g]=y,(r?h<a:Hk.call(e,g))&&f++;continue}if(y===null||x===null||typeof y!="object"||typeof x!="object"){d[g]=x;continue}const w=JE(y,x);d[g]=w,w===y&&f++}return a===u&&f===a?e:d}function vy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function P1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function by(e){if(!D1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!D1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function D1(e){return Object.prototype.toString.call(e)==="[object Object]"}function qk(e){return new Promise(t=>{Ns.setTimeout(t,e)})}function xy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?JE(e,t):t}function Gk(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function Vk(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var r0=Symbol();function eO(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===r0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function tO(e,t){return typeof e=="function"?e(...t):!!e}function Yk(e,t,r){let i=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=t(),i||(i=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Kk=class extends yd{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Ls&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},i0=new Kk;function wy(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function i(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},r.reject=a=>{i({status:"rejected",reason:a}),t(a)},r}var Xk=Uk;function Wk(){let e=[],t=0,r=d=>{d()},i=d=>{d()},a=Xk;const s=d=>{t?e.push(d):a(()=>{r(d)})},u=()=>{const d=e;e=[],d.length&&a(()=>{i(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var cr=Wk(),Qk=class extends yd{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Ls&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},bh=new Qk;function Zk(e){return Math.min(1e3*2**e,3e4)}function nO(e){return(e??"online")==="online"?bh.isOnline():!0}var Sy=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function rO(e){let t=!1,r=0,i;const a=wy(),s=()=>a.status!=="pending",u=E=>{if(!s()){const T=new Sy(E);x(T),e.onCancel?.(T)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>i0.isFocused()&&(e.networkMode==="always"||bh.isOnline())&&e.canRun(),g=()=>nO(e.networkMode)&&e.canRun(),y=E=>{s()||(i?.(),a.resolve(E))},x=E=>{s()||(i?.(),a.reject(E))},w=()=>new Promise(E=>{i=T=>{(s()||h())&&E(T)},e.onPause?.()}).then(()=>{i=void 0,s()||e.onContinue?.()}),_=()=>{if(s())return;let E;const T=r===0?e.initialPromise:void 0;try{E=T??e.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(y).catch(N=>{if(s())return;const D=e.retry??(Ls?0:3),I=e.retryDelay??Zk,F=typeof I=="function"?I(r,N):I,k=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,N);if(t||!k){x(N);return}r++,e.onFail?.(r,N),qk(F).then(()=>h()?void 0:w()).then(()=>{t?x(N):_()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(i?.(),a),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?_():w().then(_),a)}}var iO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),yy(this.gcTime)&&(this.#e=Ns.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ls?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Ns.clearTimeout(this.#e),this.#e=void 0)}},Jk=class extends iO{#e;#t;#n;#i;#r;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=N1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=N1(this.options);t.data!==void 0&&(this.setState(A1(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=xy(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Br).catch(Br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ci(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===r0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!ZE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const d=eO(this.options,t),h=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#a=!1,this.options.persister?this.options.persister(d,h,this):d(h)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#o({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=rO({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof Sy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Sy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#o({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#o(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...oO(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...A1(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),cr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function oO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function A1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function N1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var eL=class extends yd{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#a=wy(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#s;#a;#o;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),I1(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Cy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Cy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ci(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!vy(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&j1(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==r||Ci(this.options.enabled,this.#t)!==Ci(t.enabled,this.#t)||qa(this.options.staleTime,this.#t)!==qa(t.staleTime,this.#t))&&this.#g();const a=this.#y();i&&(this.#t!==r||Ci(this.options.enabled,this.#t)!==Ci(t.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return nL(this,r)&&(this.#i=r,this.#s=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Br)),t}#g(){this.#x();const e=qa(this.options.staleTime,this.#t);if(Ls||this.#i.isStale||!yy(e))return;const r=ZE(this.#i.dataUpdatedAt,e)+1;this.#u=Ns.setTimeout(()=>{this.#i.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(Ls||Ci(this.options.enabled,this.#t)===!1||!yy(this.#l)||this.#l===0)&&(this.#c=Ns.setInterval(()=>{(this.options.refetchIntervalInBackground||i0.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#u&&(Ns.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(Ns.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#t,i=this.options,a=this.#i,s=this.#r,u=this.#s,f=e!==r?e.state:this.#n,{state:h}=e;let g={...h},y=!1,x;if(t._optimisticResults){const G=this.hasListeners(),W=!G&&I1(e,t),le=G&&j1(e,r,t,i);(W||le)&&(g={...g,...oO(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:_,status:E}=g;x=g.data;let T=!1;if(t.placeholderData!==void 0&&x===void 0&&E==="pending"){let G;a?.isPlaceholderData&&t.placeholderData===u?.placeholderData?(G=a.data,T=!0):G=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,G!==void 0&&(E="success",x=xy(a?.data,G,t),y=!0)}if(t.select&&x!==void 0&&!T)if(a&&x===s?.data&&t.select===this.#m)x=this.#f;else try{this.#m=t.select,x=t.select(x),x=xy(a?.data,x,t),this.#f=x,this.#o=null}catch(G){this.#o=G}this.#o&&(w=this.#o,x=this.#f,_=Date.now(),E="error");const N=g.fetchStatus==="fetching",D=E==="pending",I=E==="error",F=D&&N,k=x!==void 0,A={status:E,fetchStatus:g.fetchStatus,isPending:D,isSuccess:E==="success",isError:I,isInitialLoading:F,isLoading:F,data:x,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:_,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!D,isLoadingError:I&&!k,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:I&&k,isStale:o0(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Ci(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const G=he=>{A.status==="error"?he.reject(A.error):A.data!==void 0&&he.resolve(A.data)},W=()=>{const he=this.#a=A.promise=wy();G(he)},le=this.#a;switch(le.status){case"pending":e.queryHash===r.queryHash&&G(le);break;case"fulfilled":(A.status==="error"||A.data!==le.value)&&W();break;case"rejected":(A.status!=="error"||A.error!==le.reason)&&W();break}}return A}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),vy(t,e))return;this.#i=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const s=new Set(a??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(u=>{const d=u;return this.#i[d]!==e[d]&&s.has(d)})};this.#C({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){cr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function tL(e,t){return Ci(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function I1(e,t){return tL(e,t)||e.state.data!==void 0&&Cy(e,t,t.refetchOnMount)}function Cy(e,t,r){if(Ci(t.enabled,e)!==!1&&qa(t.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&o0(e,t)}return!1}function j1(e,t,r,i){return(e!==t||Ci(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&o0(e,r)}function o0(e,t){return Ci(t.enabled,e)!==!1&&e.isStaleByTime(qa(t.staleTime,e))}function nL(e,t){return!vy(e.getCurrentResult(),t)}function z1(e){return{onFetch:(t,r)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let g=!1;const y=_=>{Yk(_,()=>t.signal,()=>g=!0)},x=eO(t.options,t.fetchOptions),w=async(_,E,T)=>{if(g)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const D=(()=>{const V={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return y(V),V})(),I=await x(D),{maxPages:F}=t.options,k=T?Vk:Gk;return{pages:k(_.pages,I,F),pageParams:k(_.pageParams,E,F)}};if(a&&s.length){const _=a==="backward",E=_?rL:F1,T={pages:s,pageParams:u},N=E(i,T);d=await w(T,N,_)}else{const _=e??s.length;do{const E=f===0?u[0]??i.initialPageParam:F1(i,d);if(f>0&&E==null)break;d=await w(d,E),f++}while(f<_)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function F1(e,{pages:t,pageParams:r}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}function rL(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var iL=class extends iO{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||oL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=rO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,u)=>{this.#r({type:"failed",failureCount:s,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#i.canStart();try{if(i)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#r({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,e,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onError?.(s,e,this.state.context,r)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,s,e,this.state.context,r)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),cr.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function oL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var aL=class extends yd{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const i=new iL({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){this.#e.add(e);const t=Vf(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Vf(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Vf(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Vf(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){cr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>R1(t,r))}findAll(e={}){return this.getAll().filter(t=>R1(e,t))}notify(e){cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return cr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Br))))}};function Vf(e){return e.options.scope?.id}var sL=class extends yd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const i=t.queryKey,a=t.queryHash??n0(i,t);let s=this.get(a);return s||(s=new Jk({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){cr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>T1(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>T1(e,r)):t}notify(e){cr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){cr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){cr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},lL=class{#e;#t;#n;#i;#r;#s;#a;#o;constructor(e={}){this.#e=e.queryCache||new sL,this.#t=e.mutationCache||new aL,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=i0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=bh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(qa(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(i.queryHash)?.state.data,u=$k(t,s);if(u!==void 0)return this.#e.build(this,i).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return cr.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;cr.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return cr.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},i=cr.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(i).then(Br).catch(Br)}invalidateQueries(e,t={}){return cr.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},i=cr.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Br)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Br)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(qa(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Br).catch(Br)}fetchInfiniteQuery(e){return e.behavior=z1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Br).catch(Br)}ensureInfiniteQueryData(e){return e.behavior=z1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return bh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Jc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(i=>{ed(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Jc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(i=>{ed(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=n0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===r0&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},aO=C.createContext(void 0),uL=e=>{const t=C.useContext(aO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},cL=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),R.jsx(aO.Provider,{value:e,children:t})),sO=C.createContext(!1),dL=()=>C.useContext(sO);sO.Provider;function fL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var hL=C.createContext(fL()),pL=()=>C.useContext(hL),mL=(e,t,r)=>{const i=r?.state.error&&typeof e.throwOnError=="function"?tO(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},gL=e=>{C.useEffect(()=>{e.clearReset()},[e])},yL=({result:e,errorResetBoundary:t,throwOnError:r,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||tO(r,[e.error,i])),vL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...a)=>r(i(...a)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},bL=(e,t)=>e.isLoading&&e.isFetching&&!t,xL=(e,t)=>e?.suspense&&t.isPending,k1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function wL(e,t,r){const i=dL(),a=pL(),s=uL(),u=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const d=s.getQueryCache().get(u.queryHash);u._optimisticResults=i?"isRestoring":"optimistic",vL(u),mL(u,a,d),gL(a);const f=!s.getQueryCache().get(u.queryHash),[h]=C.useState(()=>new t(s,u)),g=h.getOptimisticResult(u),y=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(x=>{const w=y?h.subscribe(cr.batchCalls(x)):Br;return h.updateResult(),w},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),C.useEffect(()=>{h.setOptions(u)},[u,h]),xL(u,g))throw k1(u,h,a);if(yL({result:g,errorResetBoundary:a,throwOnError:u.throwOnError,query:d,suspense:u.suspense}))throw g.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!Ls&&bL(g,i)&&(f?k1(u,h,a):d?.promise)?.catch(Br).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?g:h.trackResult(g)}function SL(e,t){return wL(e,eL)}function CL(){const e=pd(),{data:t,isLoading:r,isError:i}=SL({queryKey:["tasks"],queryFn:jz}),a=u=>{switch(u){case"todo":return{label:" ",color:"blue"};case"in_progress":return{label:"  ",color:"yellow"};case"done":return{label:" ",color:"green"};default:return{label:u,color:"gray"}}},s=u=>u?u.split(" ")[0]:"";return R.jsxs(qr,{header:{height:60},padding:"0",children:[R.jsx(qr.Header,{children:R.jsxs(Li,{h:"100%",px:"md",align:"center",children:[R.jsx(Wo,{variant:"subtle",color:"dark",onClick:()=>e(-1),size:"lg",children:R.jsx(lz,{size:24})}),R.jsx(ep,{order:4,children:" "})]})}),R.jsx(qr.Main,{children:R.jsxs($i,{p:"md",gap:"sm",children:[r&&R.jsx(ou,{py:"xl",children:R.jsx(lo,{})}),i&&R.jsx(qo,{c:"red",ta:"center",mt:"md",children:"   "}),!r&&t?.length===0&&R.jsx(qo,{c:"dimmed",ta:"center",mt:"md",children:"   "}),t?.map(u=>{const d=a(u.state);return R.jsx(ud,{shadow:"sm",padding:"md",radius:"md",withBorder:!0,children:R.jsxs($i,{gap:"xs",children:[R.jsx(qo,{fw:500,size:"sm",children:u.title}),R.jsxs(Li,{gap:"xs",children:[R.jsx(Uo,{color:"gray",variant:"light",children:s(u.created_at)}),R.jsx(Uo,{color:d.color,variant:"light",children:d.label})]})]})},u.id)})]})})]})}const _L=()=>{const{isAuthenticated:e}=Za();return e?R.jsx(CE,{}):R.jsx(B3,{to:"/login",replace:!0})},_y=dj([{path:"/",element:R.jsx(tz,{}),children:[{element:R.jsx(_L,{}),children:[{index:!0,element:R.jsx(kk,{})},{path:"tasks",element:R.jsx(CL,{})}]},{path:"login",element:R.jsx(rz,{})}]}]),L1={login:"/register/tokens/user",me:"/register/users/my-self"},xh={getUserProfile:async()=>{const e=await ks(L1.me);if(!e.ok){const t=new Error("Failed to fetch user profile");throw t.status=e.status,t}return e.json()},login:async(e,t)=>{const r=await ks(L1.login,{method:"POST",body:JSON.stringify({grant_type:"password",client_id:1,client_secret:"MapIr",username:e,password:t})});if(!r.ok)throw new Error("Login failed");const i=await r.json();return YN(i.access_token,i.refresh_token),xh.getUserProfile()},logout:()=>{XN(),_y?_y.navigate("/login"):window.location.hash="/login"}},lO=C.createContext(void 0),EL=({children:e})=>{const[t,r]=C.useState(null),[i,a]=C.useState(!!lS()),[s,u]=C.useState(!0),d=HT(),f=()=>{r(null),a(!1),xh.logout()};C.useEffect(()=>{(async()=>{if(!lS()){u(!1);return}if(t){u(!1);return}try{const x=await xh.getUserProfile();r(x),uS(x),a(!0)}catch(x){console.error("Failed to load user profile",x);const w=x;if(w.status===401||w.status===403){console.warn("Token expired, logging out."),f();return}const _=KN();_?(console.log("Network failed. Restoring user from offline cache."),r(_),a(!0)):f()}finally{u(!1)}})()},[t]);const h=g=>{r(g),uS(g),a(!0)};return R.jsx(lO.Provider,{value:{user:t,isAuthenticated:i,isLoading:s,login:h,logout:f,isOffline:!d.online},children:e})},Za=()=>{const e=C.useContext(lO);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},OL=["#e8ecf4","#d0d9e9","#b9c6df","#a1b3d4","#8aa0c9","#728dbe","#5b7ab3","#4367a9","#2c549e","#144193"],ML={primaryColor:"blue",primaryShade:9,colors:{blue:OL}},TL=new lL;function RL(){return R.jsx(nP,{initialDirection:"rtl",children:R.jsxs(cC,{theme:ML,children:[R.jsx(ta,{position:"top-center",zIndex:1e3}),R.jsx(cL,{client:TL,children:R.jsx(EL,{children:R.jsx(Cj,{router:_y})})})]})})}jM.createRoot(document.getElementById("root")).render(R.jsx(C.StrictMode,{children:R.jsx(RL,{})}));export{wh as g};
