function vO(e,t){for(var r=0;r<t.length;r++){const o=t[r];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(o,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();var bO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Rm={exports:{}},rc={};var Mx;function xO(){if(Mx)return rc;Mx=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(o,s,l){var u=null;if(l!==void 0&&(u=""+l),s.key!==void 0&&(u=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:o,key:u,ref:s!==void 0?s:null,props:l}}return rc.Fragment=t,rc.jsx=r,rc.jsxs=r,rc}var Tx;function wO(){return Tx||(Tx=1,Rm.exports=xO()),Rm.exports}var D=wO(),Dm={exports:{}},mt={};var Px;function SO(){if(Px)return mt;Px=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=x&&H[x]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function N(H,re,we){this.props=H,this.context=re,this.refs=T,this.updater=we||_}N.prototype.isReactComponent={},N.prototype.setState=function(H,re){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,re,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function R(){}R.prototype=N.prototype;function j(H,re,we){this.props=H,this.context=re,this.refs=T,this.updater=we||_}var L=j.prototype=new R;L.constructor=j,E(L,N.prototype),L.isPureReactComponent=!0;var F=Array.isArray;function U(){}var I={H:null,A:null,T:null,S:null},G=Object.prototype.hasOwnProperty;function le(H,re,we){var De=we.ref;return{$$typeof:e,type:H,key:re,ref:De!==void 0?De:null,props:we}}function he(H,re){return le(H.type,re,H.props)}function ve(H){return typeof H=="object"&&H!==null&&H.$$typeof===e}function pe(H){var re={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(we){return re[we]})}var Me=/\/+/g;function ce(H,re){return typeof H=="object"&&H!==null&&H.key!=null?pe(""+H.key):re.toString(36)}function Oe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(U,U):(H.status="pending",H.then(function(re){H.status==="pending"&&(H.status="fulfilled",H.value=re)},function(re){H.status==="pending"&&(H.status="rejected",H.reason=re)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function B(H,re,we,De,Ie){var He=typeof H;(He==="undefined"||He==="boolean")&&(H=null);var nt=!1;if(H===null)nt=!0;else switch(He){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(H.$$typeof){case e:case t:nt=!0;break;case g:return nt=H._init,B(nt(H._payload),re,we,De,Ie)}}if(nt)return Ie=Ie(H),nt=De===""?"."+ce(H,0):De,F(Ie)?(we="",nt!=null&&(we=nt.replace(Me,"$&/")+"/"),B(Ie,re,we,"",function(Zt){return Zt})):Ie!=null&&(ve(Ie)&&(Ie=he(Ie,we+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(Me,"$&/")+"/")+nt)),re.push(Ie)),1;nt=0;var xt=De===""?".":De+":";if(F(H))for(var Ae=0;Ae<H.length;Ae++)De=H[Ae],He=xt+ce(De,Ae),nt+=B(De,re,we,He,Ie);else if(Ae=w(H),typeof Ae=="function")for(H=Ae.call(H),Ae=0;!(De=H.next()).done;)De=De.value,He=xt+ce(De,Ae++),nt+=B(De,re,we,He,Ie);else if(He==="object"){if(typeof H.then=="function")return B(Oe(H),re,we,De,Ie);throw re=String(H),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return nt}function J(H,re,we){if(H==null)return H;var De=[],Ie=0;return B(H,De,"","",function(He){return re.call(we,He,Ie++)}),De}function K(H){if(H._status===-1){var re=H._result;re=re(),re.then(function(we){(H._status===0||H._status===-1)&&(H._status=1,H._result=we)},function(we){(H._status===0||H._status===-1)&&(H._status=2,H._result=we)}),H._status===-1&&(H._status=0,H._result=re)}if(H._status===1)return H._result.default;throw H._result}var be=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Ce={map:J,forEach:function(H,re,we){J(H,function(){re.apply(this,arguments)},we)},count:function(H){var re=0;return J(H,function(){re++}),re},toArray:function(H){return J(H,function(re){return re})||[]},only:function(H){if(!ve(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return mt.Activity=y,mt.Children=Ce,mt.Component=N,mt.Fragment=r,mt.Profiler=s,mt.PureComponent=j,mt.StrictMode=o,mt.Suspense=f,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,mt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return I.H.useMemoCache(H)}},mt.cache=function(H){return function(){return H.apply(null,arguments)}},mt.cacheSignal=function(){return null},mt.cloneElement=function(H,re,we){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var De=E({},H.props),Ie=H.key;if(re!=null)for(He in re.key!==void 0&&(Ie=""+re.key),re)!G.call(re,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&re.ref===void 0||(De[He]=re[He]);var He=arguments.length-2;if(He===1)De.children=we;else if(1<He){for(var nt=Array(He),xt=0;xt<He;xt++)nt[xt]=arguments[xt+2];De.children=nt}return le(H.type,Ie,De)},mt.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:l,_context:H},H},mt.createElement=function(H,re,we){var De,Ie={},He=null;if(re!=null)for(De in re.key!==void 0&&(He=""+re.key),re)G.call(re,De)&&De!=="key"&&De!=="__self"&&De!=="__source"&&(Ie[De]=re[De]);var nt=arguments.length-2;if(nt===1)Ie.children=we;else if(1<nt){for(var xt=Array(nt),Ae=0;Ae<nt;Ae++)xt[Ae]=arguments[Ae+2];Ie.children=xt}if(H&&H.defaultProps)for(De in nt=H.defaultProps,nt)Ie[De]===void 0&&(Ie[De]=nt[De]);return le(H,He,Ie)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(H){return{$$typeof:d,render:H}},mt.isValidElement=ve,mt.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:K}},mt.memo=function(H,re){return{$$typeof:p,type:H,compare:re===void 0?null:re}},mt.startTransition=function(H){var re=I.T,we={};I.T=we;try{var De=H(),Ie=I.S;Ie!==null&&Ie(we,De),typeof De=="object"&&De!==null&&typeof De.then=="function"&&De.then(U,be)}catch(He){be(He)}finally{re!==null&&we.types!==null&&(re.types=we.types),I.T=re}},mt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},mt.use=function(H){return I.H.use(H)},mt.useActionState=function(H,re,we){return I.H.useActionState(H,re,we)},mt.useCallback=function(H,re){return I.H.useCallback(H,re)},mt.useContext=function(H){return I.H.useContext(H)},mt.useDebugValue=function(){},mt.useDeferredValue=function(H,re){return I.H.useDeferredValue(H,re)},mt.useEffect=function(H,re){return I.H.useEffect(H,re)},mt.useEffectEvent=function(H){return I.H.useEffectEvent(H)},mt.useId=function(){return I.H.useId()},mt.useImperativeHandle=function(H,re,we){return I.H.useImperativeHandle(H,re,we)},mt.useInsertionEffect=function(H,re){return I.H.useInsertionEffect(H,re)},mt.useLayoutEffect=function(H,re){return I.H.useLayoutEffect(H,re)},mt.useMemo=function(H,re){return I.H.useMemo(H,re)},mt.useOptimistic=function(H,re){return I.H.useOptimistic(H,re)},mt.useReducer=function(H,re,we){return I.H.useReducer(H,re,we)},mt.useRef=function(H){return I.H.useRef(H)},mt.useState=function(H){return I.H.useState(H)},mt.useSyncExternalStore=function(H,re,we){return I.H.useSyncExternalStore(H,re,we)},mt.useTransition=function(){return I.H.useTransition()},mt.version="19.2.3",mt}var Rx;function Yg(){return Rx||(Rx=1,Dm.exports=SO()),Dm.exports}var C=Yg();const Qi=Xf(C),Kg=vO({__proto__:null,default:Qi},[C]);var Am={exports:{}},ic={},Nm={exports:{}},Im={};var Dx;function CO(){return Dx||(Dx=1,(function(e){function t(B,J){var K=B.length;B.push(J);e:for(;0<K;){var be=K-1>>>1,Ce=B[be];if(0<s(Ce,J))B[be]=J,B[K]=Ce,K=be;else break e}}function r(B){return B.length===0?null:B[0]}function o(B){if(B.length===0)return null;var J=B[0],K=B.pop();if(K!==J){B[0]=K;e:for(var be=0,Ce=B.length,H=Ce>>>1;be<H;){var re=2*(be+1)-1,we=B[re],De=re+1,Ie=B[De];if(0>s(we,K))De<Ce&&0>s(Ie,we)?(B[be]=Ie,B[De]=K,be=De):(B[be]=we,B[re]=K,be=re);else if(De<Ce&&0>s(Ie,K))B[be]=Ie,B[De]=K,be=De;else break e}}return J}function s(B,J){var K=B.sortIndex-J.sortIndex;return K!==0?K:B.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,y=null,x=3,w=!1,_=!1,E=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function L(B){for(var J=r(p);J!==null;){if(J.callback===null)o(p);else if(J.startTime<=B)o(p),J.sortIndex=J.expirationTime,t(f,J);else break;J=r(p)}}function F(B){if(E=!1,L(B),!_)if(r(f)!==null)_=!0,U||(U=!0,pe());else{var J=r(p);J!==null&&Oe(F,J.startTime-B)}}var U=!1,I=-1,G=5,le=-1;function he(){return T?!0:!(e.unstable_now()-le<G)}function ve(){if(T=!1,U){var B=e.unstable_now();le=B;var J=!0;try{e:{_=!1,E&&(E=!1,R(I),I=-1),w=!0;var K=x;try{t:{for(L(B),y=r(f);y!==null&&!(y.expirationTime>B&&he());){var be=y.callback;if(typeof be=="function"){y.callback=null,x=y.priorityLevel;var Ce=be(y.expirationTime<=B);if(B=e.unstable_now(),typeof Ce=="function"){y.callback=Ce,L(B),J=!0;break t}y===r(f)&&o(f),L(B)}else o(f);y=r(f)}if(y!==null)J=!0;else{var H=r(p);H!==null&&Oe(F,H.startTime-B),J=!1}}break e}finally{y=null,x=K,w=!1}J=void 0}}finally{J?pe():U=!1}}}var pe;if(typeof j=="function")pe=function(){j(ve)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,ce=Me.port2;Me.port1.onmessage=ve,pe=function(){ce.postMessage(null)}}else pe=function(){N(ve,0)};function Oe(B,J){I=N(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var K=x;x=J;try{return B()}finally{x=K}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=x;x=B;try{return J()}finally{x=K}},e.unstable_scheduleCallback=function(B,J,K){var be=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?be+K:be):K=be,B){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=K+Ce,B={id:g++,callback:J,priorityLevel:B,startTime:K,expirationTime:Ce,sortIndex:-1},K>be?(B.sortIndex=K,t(p,B),r(f)===null&&B===r(p)&&(E?(R(I),I=-1):E=!0,Oe(F,K-be))):(B.sortIndex=Ce,t(f,B),_||w||(_=!0,U||(U=!0,pe()))),B},e.unstable_shouldYield=he,e.unstable_wrapCallback=function(B){var J=x;return function(){var K=x;x=J;try{return B.apply(this,arguments)}finally{x=K}}}})(Im)),Im}var Ax;function _O(){return Ax||(Ax=1,Nm.exports=CO()),Nm.exports}var jm={exports:{}},hr={};var Nx;function EO(){if(Nx)return hr;Nx=1;var e=Yg();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var o={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:y==null?null:""+y,children:f,containerInfo:p,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return hr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,hr.createPortal=function(f,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return l(f,p,null,g)},hr.flushSync=function(f){var p=u.T,g=o.p;try{if(u.T=null,o.p=2,f)return f()}finally{u.T=p,o.p=g,o.d.f()}},hr.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(f,p))},hr.prefetchDNS=function(f){typeof f=="string"&&o.d.D(f)},hr.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,w=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?o.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:w}):g==="script"&&o.d.X(f,{crossOrigin:y,integrity:x,fetchPriority:w,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},hr.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);o.d.M(f,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(f)},hr.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin);o.d.L(f,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},hr.preloadModule=function(f,p){if(typeof f=="string")if(p){var g=d(p.as,p.crossOrigin);o.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(f)},hr.requestFormReset=function(f){o.d.r(f)},hr.unstable_batchedUpdates=function(f,p){return f(p)},hr.useFormState=function(f,p,g){return u.H.useFormState(f,p,g)},hr.useFormStatus=function(){return u.H.useHostTransitionStatus()},hr.version="19.2.3",hr}var Ix;function K1(){if(Ix)return jm.exports;Ix=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jm.exports=EO(),jm.exports}var jx;function OO(){if(jx)return ic;jx=1;var e=_O(),t=Yg(),r=K1();function o(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function u(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function d(n){if(n.tag===31){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function f(n){if(l(n)!==n)throw Error(o(188))}function p(n){var i=n.alternate;if(!i){if(i=l(n),i===null)throw Error(o(188));return i!==n?null:n}for(var a=n,c=i;;){var m=a.return;if(m===null)break;var b=m.alternate;if(b===null){if(c=m.return,c!==null){a=c;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===a)return f(m),n;if(b===c)return f(m),i;b=b.sibling}throw Error(o(188))}if(a.return!==c.return)a=m,c=b;else{for(var M=!1,z=m.child;z;){if(z===a){M=!0,a=m,c=b;break}if(z===c){M=!0,c=m,a=b;break}z=z.sibling}if(!M){for(z=b.child;z;){if(z===a){M=!0,a=b,c=m;break}if(z===c){M=!0,c=b,a=m;break}z=z.sibling}if(!M)throw Error(o(189))}}if(a.alternate!==c)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),j=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),he=Symbol.for("react.memo_cache_sentinel"),ve=Symbol.iterator;function pe(n){return n===null||typeof n!="object"?null:(n=ve&&n[ve]||n["@@iterator"],typeof n=="function"?n:null)}var Me=Symbol.for("react.client.reference");function ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Me?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case F:return"Suspense";case U:return"SuspenseList";case le:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case j:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case L:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case I:return i=n.displayName||null,i!==null?i:ce(n.type)||"Memo";case G:i=n._payload,n=n._init;try{return ce(n(i))}catch{}}return null}var Oe=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},be=[],Ce=-1;function H(n){return{current:n}}function re(n){0>Ce||(n.current=be[Ce],be[Ce]=null,Ce--)}function we(n,i){Ce++,be[Ce]=n.current,n.current=i}var De=H(null),Ie=H(null),He=H(null),nt=H(null);function xt(n,i){switch(we(He,i),we(Ie,n),we(De,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?Wb(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=Wb(i),n=Qb(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}re(De),we(De,n)}function Ae(){re(De),re(Ie),re(He)}function Zt(n){n.memoizedState!==null&&we(nt,n);var i=De.current,a=Qb(i,n.type);i!==a&&(we(Ie,n),we(De,a))}function sn(n){Ie.current===n&&(re(De),re(Ie)),nt.current===n&&(re(nt),Ju._currentValue=K)}var Ze,ft;function $t(n){if(Ze===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ze=i&&i[1]||"",ft=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+n+ft}var nn=!1;function gn(n,i){if(!n||nn)return"";nn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(xe){var ge=xe}Reflect.construct(n,[],Re)}else{try{Re.call()}catch(xe){ge=xe}n.call(Re.prototype)}}else{try{throw Error()}catch(xe){ge=xe}(Re=n())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(xe){if(xe&&ge&&typeof xe.stack=="string")return[xe.stack,ge.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),M=b[0],z=b[1];if(M&&z){var V=M.split(`
`),fe=z.split(`
`);for(m=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;m<fe.length&&!fe[m].includes("DetermineComponentFrameRoot");)m++;if(c===V.length||m===fe.length)for(c=V.length-1,m=fe.length-1;1<=c&&0<=m&&V[c]!==fe[m];)m--;for(;1<=c&&0<=m;c--,m--)if(V[c]!==fe[m]){if(c!==1||m!==1)do if(c--,m--,0>m||V[c]!==fe[m]){var Ee=`
`+V[c].replace(" at new "," at ");return n.displayName&&Ee.includes("<anonymous>")&&(Ee=Ee.replace("<anonymous>",n.displayName)),Ee}while(1<=c&&0<=m);break}}}finally{nn=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?$t(a):""}function yr(n,i){switch(n.tag){case 26:case 27:case 5:return $t(n.type);case 16:return $t("Lazy");case 13:return n.child!==i&&i!==null?$t("Suspense Fallback"):$t("Suspense");case 19:return $t("SuspenseList");case 0:case 15:return gn(n.type,!1);case 11:return gn(n.type.render,!1);case 1:return gn(n.type,!0);case 31:return $t("Activity");default:return""}}function Yn(n){try{var i="",a=null;do i+=yr(n,a),a=n,n=n.return;while(n);return i}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Jt=Object.prototype.hasOwnProperty,En=e.unstable_scheduleCallback,ln=e.unstable_cancelCallback,wn=e.unstable_shouldYield,un=e.unstable_requestPaint,qt=e.unstable_now,_t=e.unstable_getCurrentPriorityLevel,qn=e.unstable_ImmediatePriority,jt=e.unstable_UserBlockingPriority,Ht=e.unstable_NormalPriority,On=e.unstable_LowPriority,ur=e.unstable_IdlePriority,ni=e.log,Sn=e.unstable_setDisableYieldValue,rn=null,At=null;function Cn(n){if(typeof ni=="function"&&Sn(n),At&&typeof At.setStrictMode=="function")try{At.setStrictMode(rn,n)}catch{}}var Ye=Math.clz32?Math.clz32:yn,ri=Math.log,Ur=Math.LN2;function yn(n){return n>>>=0,n===0?32:31-(ri(n)/Ur|0)|0}var Le=256,vr=262144,Ei=4194304;function $r(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Bi(n,i,a){var c=n.pendingLanes;if(c===0)return 0;var m=0,b=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var z=c&134217727;return z!==0?(c=z&~b,c!==0?m=$r(c):(M&=z,M!==0?m=$r(M):a||(a=z&~n,a!==0&&(m=$r(a))))):(z=c&~b,z!==0?m=$r(z):M!==0?m=$r(M):a||(a=c&~n,a!==0&&(m=$r(a)))),m===0?0:i!==0&&i!==m&&(i&b)===0&&(b=m&-m,a=i&-i,b>=a||b===32&&(a&4194048)!==0)?i:m}function Oi(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Ds(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uo(){var n=Ei;return Ei<<=1,(Ei&62914560)===0&&(Ei=4194304),n}function br(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function xr(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Ua(n,i,a,c,m,b){var M=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var z=n.entanglements,V=n.expirationTimes,fe=n.hiddenUpdates;for(a=M&~a;0<a;){var Ee=31-Ye(a),Re=1<<Ee;z[Ee]=0,V[Ee]=-1;var ge=fe[Ee];if(ge!==null)for(fe[Ee]=null,Ee=0;Ee<ge.length;Ee++){var xe=ge[Ee];xe!==null&&(xe.lane&=-536870913)}a&=~Re}c!==0&&co(n,c,0),b!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=b&~(M&~i))}function co(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var c=31-Ye(i);n.entangledLanes|=i,n.entanglements[c]=n.entanglements[c]|1073741824|a&261930}function $(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var c=31-Ye(a),m=1<<c;m&i|n[c]&i&&(n[c]|=i),a&=~m}}function ee(n,i){var a=i&-i;return a=(a&42)!==0?1:ye(a),(a&(n.suspendedLanes|i))!==0?0:a}function ye(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ne(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fe(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:xx(n.type))}function et(n,i){var a=J.p;try{return J.p=n,i()}finally{J.p=a}}var Xe=Math.random().toString(36).slice(2),$e="__reactFiber$"+Xe,Ke="__reactProps$"+Xe,Qe="__reactContainer$"+Xe,ot="__reactEvents$"+Xe,it="__reactListeners$"+Xe,gt="__reactHandles$"+Xe,Ot="__reactResources$"+Xe,kt="__reactMarker$"+Xe;function cn(n){delete n[$e],delete n[Ke],delete n[ot],delete n[it],delete n[gt]}function on(n){var i=n[$e];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Qe]||a[$e]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=ix(n);n!==null;){if(a=n[$e])return a;n=ix(n)}return i}n=a,a=n.parentNode}return null}function at(n){if(n=n[$e]||n[Qe]){var i=n.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return n}return null}function an(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(o(33))}function vn(n){var i=n[Ot];return i||(i=n[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function en(n){n[kt]=!0}var Kn=new Set,Xn={};function wr(n,i){cr(n,i),cr(n+"Capture",i)}function cr(n,i){for(Xn[n]=i,n=0;n<i.length;n++)Kn.add(i[n])}var rr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ui={},ii={};function Mt(n){return Jt.call(ii,n)?!0:Jt.call(Ui,n)?!1:rr.test(n)?ii[n]=!0:(Ui[n]=!0,!1)}function st(n,i,a){if(Mt(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function Pr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Nn(n,i,a,c){if(c===null)n.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+c)}}function St(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Hr(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function $a(n,i,a){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,i);if(!n.hasOwnProperty(i)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return m.call(this)},set:function(M){a=""+M,b.call(this,M)}}),Object.defineProperty(n,i,{enumerable:c.enumerable}),{getValue:function(){return a},setValue:function(M){a=""+M},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Xo(n){if(!n._valueTracker){var i=Hr(n)?"checked":"value";n._valueTracker=$a(n,i,""+n[i])}}function au(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return n&&(c=Hr(n)?n.checked?"true":"false":n.value),n=c,n!==a?(i.setValue(n),!0):!1}function Bt(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ha=/[\n"\\]/g;function Wn(n){return n.replace(Ha,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function $i(n,i,a,c,m,b,M,z){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),i!=null?M==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+St(i)):n.value!==""+St(i)&&(n.value=""+St(i)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),i!=null?qa(n,M,St(i)):a!=null?qa(n,M,St(a)):c!=null&&n.removeAttribute("value"),m==null&&b!=null&&(n.defaultChecked=!!b),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?n.name=""+St(z):n.removeAttribute("name")}function As(n,i,a,c,m,b,M,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),i!=null||a!=null){if(!(b!=="submit"&&b!=="reset"||i!=null)){Xo(n);return}a=a!=null?""+St(a):"",i=i!=null?""+St(i):a,z||i===n.value||(n.value=i),n.defaultValue=i}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=z?n.checked:!!c,n.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),Xo(n)}function qa(n,i,a){i==="number"&&Bt(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Mi(n,i,a,c){if(n=n.options,i){i={};for(var m=0;m<a.length;m++)i["$"+a[m]]=!0;for(a=0;a<n.length;a++)m=i.hasOwnProperty("$"+n[a].value),n[a].selected!==m&&(n[a].selected=m),m&&c&&(n[a].defaultSelected=!0)}else{for(a=""+St(a),i=null,m=0;m<n.length;m++){if(n[m].value===a){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}i!==null||n[m].disabled||(i=n[m])}i!==null&&(i.selected=!0)}}function su(n,i,a){if(i!=null&&(i=""+St(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+St(a):""}function Ga(n,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(o(92));if(Oe(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=St(i),n.defaultValue=a,c=n.textContent,c===a&&c!==""&&c!==null&&(n.value=c),Xo(n)}function fo(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(n,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":c?n.setProperty(i,a):typeof a!="number"||a===0||kh.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function lu(n,i,a){if(i!=null&&typeof i!="object")throw Error(o(62));if(n=n.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in i)c=i[m],i.hasOwnProperty(m)&&a[m]!==c&&Nt(n,m,c)}else for(var b in i)i.hasOwnProperty(b)&&Nt(n,b,i[b])}function uu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ti(n){return Sr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Rr(){}var oi=null;function Ns(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ho=null,dn=null;function qr(n){var i=at(n);if(i&&(n=i.stateNode)){var a=n[Ke]||null;e:switch(n=i.stateNode,i.type){case"input":if($i(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Wn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==n&&c.form===n.form){var m=c[Ke]||null;if(!m)throw Error(o(90));$i(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===n.form&&au(c)}break e;case"textarea":su(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Mi(n,!!a.multiple,i,!1)}}}var po=!1;function Wo(n,i,a){if(po)return n(i,a);po=!0;try{var c=n(i);return c}finally{if(po=!1,(ho!==null||dn!==null)&&(jd(),ho&&(i=ho,n=dn,dn=ho=null,qr(i),n)))for(i=0;i<n.length;i++)qr(n[i])}}function mo(n,i){var a=n.stateNode;if(a===null)return null;var c=a[Ke]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(o(231,i,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(Qn)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){cu=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{cu=!1}var ai=null,Is=null,Qo=null;function Zo(){if(Qo)return Qo;var n,i=Is,a=i.length,c,m="value"in ai?ai.value:ai.textContent,b=m.length;for(n=0;n<a&&i[n]===m[n];n++);var M=a-n;for(c=1;c<=M&&i[a-c]===m[b-c];c++);return Qo=m.slice(n,1<c?1-c:void 0)}function Jo(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Va(){return!0}function Yc(){return!1}function In(n){function i(a,c,m,b,M){this._reactName=a,this._targetInst=m,this.type=c,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(a=n[z],this[z]=a?a(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Va:Yc,this.isPropagationStopped=Yc,this}return y(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Va)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Va)},persist:function(){},isPersistent:Va}),i}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},js=In(go),Hi=y({},go,{view:0,detail:0}),zs=In(Hi),Ya,du,Ka,Ls=y({},Hi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ka&&(Ka&&n.type==="mousemove"?(Ya=n.screenX-Ka.screenX,du=n.screenY-Ka.screenY):du=Ya=0,Ka=n),Ya)},movementY:function(n){return"movementY"in n?n.movementY:du}}),Fs=In(Ls),fu=y({},Ls,{dataTransfer:0}),Kc=In(fu),ks=y({},Hi,{relatedTarget:0}),ea=In(ks),Bs=y({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),Xc=In(Bs),Uh=y({},go,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ta=In(Uh),hu=y({},go,{data:0}),Us=In(hu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xa(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Zn[n])?!!i[n]:!1}function yo(){return Xa}var Wc=y({},Hi,{key:function(n){if(n.key){var i=pu[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Jo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?mu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yo,charCode:function(n){return n.type==="keypress"?Jo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Jo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),$s=In(Wc),Qc=y({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=In(Qc),Hs=y({},Hi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yo}),yu=In(Hs),vo=y({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=In(vo),bu=y({},Ls,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),qs=In(bu),xu=y({},go,{newState:0,oldState:0}),Zc=In(xu),$h=[9,13,27,32],Wa=Qn&&"CompositionEvent"in window,qi=null;Qn&&"documentMode"in document&&(qi=document.documentMode);var Hh=Qn&&"TextEvent"in window&&!qi,Gs=Qn&&(!Wa||qi&&8<qi&&11>=qi),Vs=" ",Jc=!1;function wu(n,i){switch(n){case"keyup":return $h.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ed(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var bo=!1;function td(n,i){switch(n){case"compositionend":return ed(i);case"keypress":return i.which!==32?null:(Jc=!0,Vs);case"textInput":return n=i.data,n===Vs&&Jc?null:n;default:return null}}function qh(n,i){if(bo)return n==="compositionend"||!Wa&&wu(n,i)?(n=Zo(),Qo=Is=ai=null,bo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Gs&&i.locale!=="ko"?null:i.data;default:return null}}var nd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ys(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!nd[n.type]:i==="textarea"}function Su(n,i,a,c){ho?dn?dn.push(c):dn=[c]:ho=c,i=$d(i,"onChange"),0<i.length&&(a=new js("onChange","change",null,a,c),n.push({event:a,listeners:i}))}var na=null,Qa=null;function Gh(n){qb(n,0)}function Ks(n){var i=an(n);if(au(i))return n}function Za(n,i){if(n==="change")return i}var si=!1;if(Qn){var fn;if(Qn){var ra="oninput"in document;if(!ra){var Cr=document.createElement("div");Cr.setAttribute("oninput","return;"),ra=typeof Cr.oninput=="function"}fn=ra}else fn=!1;si=fn&&(!document.documentMode||9<document.documentMode)}function rd(){na&&(na.detachEvent("onpropertychange",Xs),Qa=na=null)}function Xs(n){if(n.propertyName==="value"&&Ks(Qa)){var i=[];Su(i,Qa,n,Ns(n)),Wo(Gh,i)}}function id(n,i,a){n==="focusin"?(rd(),na=i,Qa=a,na.attachEvent("onpropertychange",Xs)):n==="focusout"&&rd()}function xo(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Ks(Qa)}function Cu(n,i){if(n==="click")return Ks(i)}function ia(n,i){if(n==="input"||n==="change")return Ks(i)}function Gi(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var fr=typeof Object.is=="function"?Object.is:Gi;function h(n,i){if(fr(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var m=a[c];if(!Jt.call(i,m)||!fr(n[m],i[m]))return!1}return!0}function v(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function S(n,i){var a=v(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=i&&c>=i)return{node:a,offset:i-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=v(a)}}function O(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?O(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function P(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=Bt(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=Bt(n.document)}return i}function A(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var k=Qn&&"documentMode"in document&&11>=document.documentMode,q=null,X=null,W=null,ie=!1;function Y(n,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ie||q==null||q!==Bt(c)||(c=q,"selectionStart"in c&&A(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),W&&h(W,c)||(W=c,c=$d(X,"onSelect"),0<c.length&&(i=new js("onSelect","select",null,i,a),n.push({event:i,listeners:c}),i.target=q)))}function ae(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Q={animationend:ae("Animation","AnimationEnd"),animationiteration:ae("Animation","AnimationIteration"),animationstart:ae("Animation","AnimationStart"),transitionrun:ae("Transition","TransitionRun"),transitionstart:ae("Transition","TransitionStart"),transitioncancel:ae("Transition","TransitionCancel"),transitionend:ae("Transition","TransitionEnd")},te={},ne={};Qn&&(ne=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);function oe(n){if(te[n])return te[n];if(!Q[n])return n;var i=Q[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in ne)return te[n]=i[a];return n}var ue=oe("animationend"),me=oe("animationiteration"),Se=oe("animationstart"),Pe=oe("transitionrun"),ke=oe("transitionstart"),Ve=oe("transitioncancel"),je=oe("transitionend"),Be=new Map,qe="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qe.push("scrollEnd");function ze(n,i){Be.set(n,i),wr(i,[n])}var We=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},lt=[],pt=0,vt=0;function Jn(){for(var n=pt,i=vt=pt=0;i<n;){var a=lt[i];lt[i++]=null;var c=lt[i];lt[i++]=null;var m=lt[i];lt[i++]=null;var b=lt[i];if(lt[i++]=null,c!==null&&m!==null){var M=c.pending;M===null?m.next=m:(m.next=M.next,M.next=m),c.pending=m}b!==0&&Ja(a,m,b)}}function ht(n,i,a,c){lt[pt++]=n,lt[pt++]=i,lt[pt++]=a,lt[pt++]=c,vt|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function jn(n,i,a,c){return ht(n,i,a,c),zn(n)}function bn(n,i){return ht(n,null,null,i),zn(n)}function Ja(n,i,a){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a);for(var m=!1,b=n.return;b!==null;)b.childLanes|=a,c=b.alternate,c!==null&&(c.childLanes|=a),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(m=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,m&&i!==null&&(m=31-Ye(a),n=b.hiddenUpdates,c=n[m],c===null?n[m]=[i]:c.push(i),i.lane=a|536870912),b):null}function zn(n){if(50<Vu)throw Vu=0,em=null,Error(o(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Dr={};function _u(n,i,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(n,i,a,c){return new _u(n,i,a,c)}function Vh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wo(n,i){var a=n.alternate;return a===null?(a=Gr(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Ov(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function od(n,i,a,c,m,b){var M=0;if(c=n,typeof n=="function")Vh(n)&&(M=1);else if(typeof n=="string")M=aO(n,a,De.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case le:return n=Gr(31,a,i,m),n.elementType=le,n.lanes=b,n;case E:return es(a.children,m,b,i);case T:M=8,m|=24;break;case N:return n=Gr(12,a,i,m|2),n.elementType=N,n.lanes=b,n;case F:return n=Gr(13,a,i,m),n.elementType=F,n.lanes=b,n;case U:return n=Gr(19,a,i,m),n.elementType=U,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case j:M=10;break e;case R:M=9;break e;case L:M=11;break e;case I:M=14;break e;case G:M=16,c=null;break e}M=29,a=Error(o(130,n===null?"null":typeof n,"")),c=null}return i=Gr(M,a,i,m),i.elementType=n,i.type=c,i.lanes=b,i}function es(n,i,a,c){return n=Gr(7,n,c,i),n.lanes=a,n}function Yh(n,i,a){return n=Gr(6,n,null,i),n.lanes=a,n}function Mv(n){var i=Gr(18,null,null,0);return i.stateNode=n,i}function Kh(n,i,a){return i=Gr(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Tv=new WeakMap;function li(n,i){if(typeof n=="object"&&n!==null){var a=Tv.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Yn(i)},Tv.set(n,i),i)}return{value:n,source:i,stack:Yn(i)}}var Ws=[],Qs=0,ad=null,Eu=0,ui=[],ci=0,oa=null,Vi=1,Yi="";function So(n,i){Ws[Qs++]=Eu,Ws[Qs++]=ad,ad=n,Eu=i}function Pv(n,i,a){ui[ci++]=Vi,ui[ci++]=Yi,ui[ci++]=oa,oa=n;var c=Vi;n=Yi;var m=32-Ye(c)-1;c&=~(1<<m),a+=1;var b=32-Ye(i)+m;if(30<b){var M=m-m%5;b=(c&(1<<M)-1).toString(32),c>>=M,m-=M,Vi=1<<32-Ye(i)+m|a<<m|c,Yi=b+n}else Vi=1<<b|a<<m|c,Yi=n}function Xh(n){n.return!==null&&(So(n,1),Pv(n,1,0))}function Wh(n){for(;n===ad;)ad=Ws[--Qs],Ws[Qs]=null,Eu=Ws[--Qs],Ws[Qs]=null;for(;n===oa;)oa=ui[--ci],ui[ci]=null,Yi=ui[--ci],ui[ci]=null,Vi=ui[--ci],ui[ci]=null}function Rv(n,i){ui[ci++]=Vi,ui[ci++]=Yi,ui[ci++]=oa,Vi=i.id,Yi=i.overflow,oa=n}var ir=null,hn=null,It=!1,aa=null,di=!1,Qh=Error(o(519));function sa(n){var i=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ou(li(i,n)),Qh}function Dv(n){var i=n.stateNode,a=n.type,c=n.memoizedProps;switch(i[$e]=n,i[Ke]=c,a){case"dialog":Pt("cancel",i),Pt("close",i);break;case"iframe":case"object":case"embed":Pt("load",i);break;case"video":case"audio":for(a=0;a<Ku.length;a++)Pt(Ku[a],i);break;case"source":Pt("error",i);break;case"img":case"image":case"link":Pt("error",i),Pt("load",i);break;case"details":Pt("toggle",i);break;case"input":Pt("invalid",i),As(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Pt("invalid",i);break;case"textarea":Pt("invalid",i),Ga(i,c.value,c.defaultValue,c.children)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Kb(i.textContent,a)?(c.popover!=null&&(Pt("beforetoggle",i),Pt("toggle",i)),c.onScroll!=null&&Pt("scroll",i),c.onScrollEnd!=null&&Pt("scrollend",i),c.onClick!=null&&(i.onclick=Rr),i=!0):i=!1,i||sa(n,!0)}function Av(n){for(ir=n.return;ir;)switch(ir.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:ir=ir.return}}function Zs(n){if(n!==ir)return!1;if(!It)return Av(n),It=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||mm(n.type,n.memoizedProps)),a=!a),a&&hn&&sa(n),Av(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));hn=rx(n)}else if(i===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(317));hn=rx(n)}else i===27?(i=hn,wa(n.type)?(n=xm,xm=null,hn=n):hn=i):hn=ir?hi(n.stateNode.nextSibling):null;return!0}function ts(){hn=ir=null,It=!1}function Zh(){var n=aa;return n!==null&&(jr===null?jr=n:jr.push.apply(jr,n),aa=null),n}function Ou(n){aa===null?aa=[n]:aa.push(n)}var Jh=H(null),ns=null,Co=null;function la(n,i,a){we(Jh,i._currentValue),i._currentValue=a}function _o(n){n._currentValue=Jh.current,re(Jh)}function ep(n,i,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),n===a)break;n=n.return}}function tp(n,i,a,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var b=m.dependencies;if(b!==null){var M=m.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=m;for(var V=0;V<i.length;V++)if(z.context===i[V]){b.lanes|=a,z=b.alternate,z!==null&&(z.lanes|=a),ep(b.return,a,n),c||(M=null);break e}b=z.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(o(341));M.lanes|=a,b=M.alternate,b!==null&&(b.lanes|=a),ep(M,a,n),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===n){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function Js(n,i,a,c){n=null;for(var m=i,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(o(387));if(M=M.memoizedProps,M!==null){var z=m.type;fr(m.pendingProps.value,M.value)||(n!==null?n.push(z):n=[z])}}else if(m===nt.current){if(M=m.alternate,M===null)throw Error(o(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(Ju):n=[Ju])}m=m.return}n!==null&&tp(i,n,a,c),i.flags|=262144}function sd(n){for(n=n.firstContext;n!==null;){if(!fr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function rs(n){ns=n,Co=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function or(n){return Nv(ns,n)}function ld(n,i){return ns===null&&rs(n),Nv(n,i)}function Nv(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Co===null){if(n===null)throw Error(o(308));Co=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Co=Co.next=i;return a}var nE=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,c){n.push(c)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},rE=e.unstable_scheduleCallback,iE=e.unstable_NormalPriority,Ln={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function np(){return{controller:new nE,data:new Map,refCount:0}}function Mu(n){n.refCount--,n.refCount===0&&rE(iE,function(){n.controller.abort()})}var Tu=null,rp=0,el=0,tl=null;function oE(n,i){if(Tu===null){var a=Tu=[];rp=0,el=am(),tl={status:"pending",value:void 0,then:function(c){a.push(c)}}}return rp++,i.then(Iv,Iv),i}function Iv(){if(--rp===0&&Tu!==null){tl!==null&&(tl.status="fulfilled");var n=Tu;Tu=null,el=0,tl=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function aE(n,i){var a=[],c={status:"pending",value:null,reason:null,then:function(m){a.push(m)}};return n.then(function(){c.status="fulfilled",c.value=i;for(var m=0;m<a.length;m++)(0,a[m])(i)},function(m){for(c.status="rejected",c.reason=m,m=0;m<a.length;m++)(0,a[m])(void 0)}),c}var jv=B.S;B.S=function(n,i){vb=qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&oE(n,i),jv!==null&&jv(n,i)};var is=H(null);function ip(){var n=is.current;return n!==null?n:tn.pooledCache}function ud(n,i){i===null?we(is,is.current):we(is,i.pool)}function zv(){var n=ip();return n===null?null:{parent:Ln._currentValue,pool:n}}var nl=Error(o(460)),op=Error(o(474)),cd=Error(o(542)),dd={then:function(){}};function Lv(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Fv(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(Rr,Rr),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Bv(n),n;default:if(typeof i.status=="string")i.then(Rr,Rr);else{if(n=tn,n!==null&&100<n.shellSuspendCounter)throw Error(o(482));n=i,n.status="pending",n.then(function(c){if(i.status==="pending"){var m=i;m.status="fulfilled",m.value=c}},function(c){if(i.status==="pending"){var m=i;m.status="rejected",m.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,Bv(n),n}throw as=i,nl}}function os(n){try{var i=n._init;return i(n._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(as=a,nl):a}}var as=null;function kv(){if(as===null)throw Error(o(459));var n=as;return as=null,n}function Bv(n){if(n===nl||n===cd)throw Error(o(483))}var rl=null,Pu=0;function fd(n){var i=Pu;return Pu+=1,rl===null&&(rl=[]),Fv(rl,n,i)}function Ru(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function hd(n,i){throw i.$$typeof===x?Error(o(525)):(n=Object.prototype.toString.call(i),Error(o(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Uv(n){function i(se,Z){if(n){var de=se.deletions;de===null?(se.deletions=[Z],se.flags|=16):de.push(Z)}}function a(se,Z){if(!n)return null;for(;Z!==null;)i(se,Z),Z=Z.sibling;return null}function c(se){for(var Z=new Map;se!==null;)se.key!==null?Z.set(se.key,se):Z.set(se.index,se),se=se.sibling;return Z}function m(se,Z){return se=wo(se,Z),se.index=0,se.sibling=null,se}function b(se,Z,de){return se.index=de,n?(de=se.alternate,de!==null?(de=de.index,de<Z?(se.flags|=67108866,Z):de):(se.flags|=67108866,Z)):(se.flags|=1048576,Z)}function M(se){return n&&se.alternate===null&&(se.flags|=67108866),se}function z(se,Z,de,Te){return Z===null||Z.tag!==6?(Z=Yh(de,se.mode,Te),Z.return=se,Z):(Z=m(Z,de),Z.return=se,Z)}function V(se,Z,de,Te){var ut=de.type;return ut===E?Ee(se,Z,de.props.children,Te,de.key):Z!==null&&(Z.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===G&&os(ut)===Z.type)?(Z=m(Z,de.props),Ru(Z,de),Z.return=se,Z):(Z=od(de.type,de.key,de.props,null,se.mode,Te),Ru(Z,de),Z.return=se,Z)}function fe(se,Z,de,Te){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==de.containerInfo||Z.stateNode.implementation!==de.implementation?(Z=Kh(de,se.mode,Te),Z.return=se,Z):(Z=m(Z,de.children||[]),Z.return=se,Z)}function Ee(se,Z,de,Te,ut){return Z===null||Z.tag!==7?(Z=es(de,se.mode,Te,ut),Z.return=se,Z):(Z=m(Z,de),Z.return=se,Z)}function Re(se,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Yh(""+Z,se.mode,de),Z.return=se,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return de=od(Z.type,Z.key,Z.props,null,se.mode,de),Ru(de,Z),de.return=se,de;case _:return Z=Kh(Z,se.mode,de),Z.return=se,Z;case G:return Z=os(Z),Re(se,Z,de)}if(Oe(Z)||pe(Z))return Z=es(Z,se.mode,de,null),Z.return=se,Z;if(typeof Z.then=="function")return Re(se,fd(Z),de);if(Z.$$typeof===j)return Re(se,ld(se,Z),de);hd(se,Z)}return null}function ge(se,Z,de,Te){var ut=Z!==null?Z.key:null;if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return ut!==null?null:z(se,Z,""+de,Te);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return de.key===ut?V(se,Z,de,Te):null;case _:return de.key===ut?fe(se,Z,de,Te):null;case G:return de=os(de),ge(se,Z,de,Te)}if(Oe(de)||pe(de))return ut!==null?null:Ee(se,Z,de,Te,null);if(typeof de.then=="function")return ge(se,Z,fd(de),Te);if(de.$$typeof===j)return ge(se,Z,ld(se,de),Te);hd(se,de)}return null}function xe(se,Z,de,Te,ut){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return se=se.get(de)||null,z(Z,se,""+Te,ut);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:return se=se.get(Te.key===null?de:Te.key)||null,V(Z,se,Te,ut);case _:return se=se.get(Te.key===null?de:Te.key)||null,fe(Z,se,Te,ut);case G:return Te=os(Te),xe(se,Z,de,Te,ut)}if(Oe(Te)||pe(Te))return se=se.get(de)||null,Ee(Z,se,Te,ut,null);if(typeof Te.then=="function")return xe(se,Z,de,fd(Te),ut);if(Te.$$typeof===j)return xe(se,Z,de,ld(Z,Te),ut);hd(Z,Te)}return null}function Je(se,Z,de,Te){for(var ut=null,zt=null,rt=Z,wt=Z=0,Dt=null;rt!==null&&wt<de.length;wt++){rt.index>wt?(Dt=rt,rt=null):Dt=rt.sibling;var Lt=ge(se,rt,de[wt],Te);if(Lt===null){rt===null&&(rt=Dt);break}n&&rt&&Lt.alternate===null&&i(se,rt),Z=b(Lt,Z,wt),zt===null?ut=Lt:zt.sibling=Lt,zt=Lt,rt=Dt}if(wt===de.length)return a(se,rt),It&&So(se,wt),ut;if(rt===null){for(;wt<de.length;wt++)rt=Re(se,de[wt],Te),rt!==null&&(Z=b(rt,Z,wt),zt===null?ut=rt:zt.sibling=rt,zt=rt);return It&&So(se,wt),ut}for(rt=c(rt);wt<de.length;wt++)Dt=xe(rt,se,wt,de[wt],Te),Dt!==null&&(n&&Dt.alternate!==null&&rt.delete(Dt.key===null?wt:Dt.key),Z=b(Dt,Z,wt),zt===null?ut=Dt:zt.sibling=Dt,zt=Dt);return n&&rt.forEach(function(Oa){return i(se,Oa)}),It&&So(se,wt),ut}function ct(se,Z,de,Te){if(de==null)throw Error(o(151));for(var ut=null,zt=null,rt=Z,wt=Z=0,Dt=null,Lt=de.next();rt!==null&&!Lt.done;wt++,Lt=de.next()){rt.index>wt?(Dt=rt,rt=null):Dt=rt.sibling;var Oa=ge(se,rt,Lt.value,Te);if(Oa===null){rt===null&&(rt=Dt);break}n&&rt&&Oa.alternate===null&&i(se,rt),Z=b(Oa,Z,wt),zt===null?ut=Oa:zt.sibling=Oa,zt=Oa,rt=Dt}if(Lt.done)return a(se,rt),It&&So(se,wt),ut;if(rt===null){for(;!Lt.done;wt++,Lt=de.next())Lt=Re(se,Lt.value,Te),Lt!==null&&(Z=b(Lt,Z,wt),zt===null?ut=Lt:zt.sibling=Lt,zt=Lt);return It&&So(se,wt),ut}for(rt=c(rt);!Lt.done;wt++,Lt=de.next())Lt=xe(rt,se,wt,Lt.value,Te),Lt!==null&&(n&&Lt.alternate!==null&&rt.delete(Lt.key===null?wt:Lt.key),Z=b(Lt,Z,wt),zt===null?ut=Lt:zt.sibling=Lt,zt=Lt);return n&&rt.forEach(function(yO){return i(se,yO)}),It&&So(se,wt),ut}function Xt(se,Z,de,Te){if(typeof de=="object"&&de!==null&&de.type===E&&de.key===null&&(de=de.props.children),typeof de=="object"&&de!==null){switch(de.$$typeof){case w:e:{for(var ut=de.key;Z!==null;){if(Z.key===ut){if(ut=de.type,ut===E){if(Z.tag===7){a(se,Z.sibling),Te=m(Z,de.props.children),Te.return=se,se=Te;break e}}else if(Z.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===G&&os(ut)===Z.type){a(se,Z.sibling),Te=m(Z,de.props),Ru(Te,de),Te.return=se,se=Te;break e}a(se,Z);break}else i(se,Z);Z=Z.sibling}de.type===E?(Te=es(de.props.children,se.mode,Te,de.key),Te.return=se,se=Te):(Te=od(de.type,de.key,de.props,null,se.mode,Te),Ru(Te,de),Te.return=se,se=Te)}return M(se);case _:e:{for(ut=de.key;Z!==null;){if(Z.key===ut)if(Z.tag===4&&Z.stateNode.containerInfo===de.containerInfo&&Z.stateNode.implementation===de.implementation){a(se,Z.sibling),Te=m(Z,de.children||[]),Te.return=se,se=Te;break e}else{a(se,Z);break}else i(se,Z);Z=Z.sibling}Te=Kh(de,se.mode,Te),Te.return=se,se=Te}return M(se);case G:return de=os(de),Xt(se,Z,de,Te)}if(Oe(de))return Je(se,Z,de,Te);if(pe(de)){if(ut=pe(de),typeof ut!="function")throw Error(o(150));return de=ut.call(de),ct(se,Z,de,Te)}if(typeof de.then=="function")return Xt(se,Z,fd(de),Te);if(de.$$typeof===j)return Xt(se,Z,ld(se,de),Te);hd(se,de)}return typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint"?(de=""+de,Z!==null&&Z.tag===6?(a(se,Z.sibling),Te=m(Z,de),Te.return=se,se=Te):(a(se,Z),Te=Yh(de,se.mode,Te),Te.return=se,se=Te),M(se)):a(se,Z)}return function(se,Z,de,Te){try{Pu=0;var ut=Xt(se,Z,de,Te);return rl=null,ut}catch(rt){if(rt===nl||rt===cd)throw rt;var zt=Gr(29,rt,null,se.mode);return zt.lanes=Te,zt.return=se,zt}}}var ss=Uv(!0),$v=Uv(!1),ua=!1;function ap(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sp(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ca(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function da(n,i,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Ut&2)!==0){var m=c.pending;return m===null?i.next=i:(i.next=m.next,m.next=i),c.pending=i,i=zn(n),Ja(n,null,a),i}return ht(n,c,i,a),zn(n)}function Du(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,$(n,a)}}function lp(n,i){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var m=null,b=null;if(a=a.firstBaseUpdate,a!==null){do{var M={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};b===null?m=b=M:b=b.next=M,a=a.next}while(a!==null);b===null?m=b=i:b=b.next=i}else m=b=i;a={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var up=!1;function Au(){if(up){var n=tl;if(n!==null)throw n}}function Nu(n,i,a,c){up=!1;var m=n.updateQueue;ua=!1;var b=m.firstBaseUpdate,M=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var V=z,fe=V.next;V.next=null,M===null?b=fe:M.next=fe,M=V;var Ee=n.alternate;Ee!==null&&(Ee=Ee.updateQueue,z=Ee.lastBaseUpdate,z!==M&&(z===null?Ee.firstBaseUpdate=fe:z.next=fe,Ee.lastBaseUpdate=V))}if(b!==null){var Re=m.baseState;M=0,Ee=fe=V=null,z=b;do{var ge=z.lane&-536870913,xe=ge!==z.lane;if(xe?(Rt&ge)===ge:(c&ge)===ge){ge!==0&&ge===el&&(up=!0),Ee!==null&&(Ee=Ee.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Je=n,ct=z;ge=i;var Xt=a;switch(ct.tag){case 1:if(Je=ct.payload,typeof Je=="function"){Re=Je.call(Xt,Re,ge);break e}Re=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=ct.payload,ge=typeof Je=="function"?Je.call(Xt,Re,ge):Je,ge==null)break e;Re=y({},Re,ge);break e;case 2:ua=!0}}ge=z.callback,ge!==null&&(n.flags|=64,xe&&(n.flags|=8192),xe=m.callbacks,xe===null?m.callbacks=[ge]:xe.push(ge))}else xe={lane:ge,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Ee===null?(fe=Ee=xe,V=Re):Ee=Ee.next=xe,M|=ge;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;xe=z,z=xe.next,xe.next=null,m.lastBaseUpdate=xe,m.shared.pending=null}}while(!0);Ee===null&&(V=Re),m.baseState=V,m.firstBaseUpdate=fe,m.lastBaseUpdate=Ee,b===null&&(m.shared.lanes=0),ga|=M,n.lanes=M,n.memoizedState=Re}}function Hv(n,i){if(typeof n!="function")throw Error(o(191,n));n.call(i)}function qv(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)Hv(a[n],i)}var il=H(null),pd=H(0);function Gv(n,i){n=No,we(pd,n),we(il,i),No=n|i.baseLanes}function cp(){we(pd,No),we(il,il.current)}function dp(){No=pd.current,re(il),re(pd)}var Vr=H(null),fi=null;function fa(n){var i=n.alternate;we(Dn,Dn.current&1),we(Vr,n),fi===null&&(i===null||il.current!==null||i.memoizedState!==null)&&(fi=n)}function fp(n){we(Dn,Dn.current),we(Vr,n),fi===null&&(fi=n)}function Vv(n){n.tag===22?(we(Dn,Dn.current),we(Vr,n),fi===null&&(fi=n)):ha()}function ha(){we(Dn,Dn.current),we(Vr,Vr.current)}function Yr(n){re(Vr),fi===n&&(fi=null),re(Dn)}var Dn=H(0);function md(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||vm(a)||bm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Eo=0,bt=null,Yt=null,Fn=null,gd=!1,ol=!1,ls=!1,yd=0,Iu=0,al=null,sE=0;function Mn(){throw Error(o(321))}function hp(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!fr(n[a],i[a]))return!1;return!0}function pp(n,i,a,c,m,b){return Eo=b,bt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=n===null||n.memoizedState===null?P0:Pp,ls=!1,b=a(c,m),ls=!1,ol&&(b=Kv(i,a,c,m)),Yv(n),b}function Yv(n){B.H=Lu;var i=Yt!==null&&Yt.next!==null;if(Eo=0,Fn=Yt=bt=null,gd=!1,Iu=0,al=null,i)throw Error(o(300));n===null||kn||(n=n.dependencies,n!==null&&sd(n)&&(kn=!0))}function Kv(n,i,a,c){bt=n;var m=0;do{if(ol&&(al=null),Iu=0,ol=!1,25<=m)throw Error(o(301));if(m+=1,Fn=Yt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=R0,b=i(a,c)}while(ol);return b}function lE(){var n=B.H,i=n.useState()[0];return i=typeof i.then=="function"?ju(i):i,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(bt.flags|=1024),i}function mp(){var n=yd!==0;return yd=0,n}function gp(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function yp(n){if(gd){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}gd=!1}Eo=0,Fn=Yt=bt=null,ol=!1,Iu=yd=0,al=null}function _r(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fn===null?bt.memoizedState=Fn=n:Fn=Fn.next=n,Fn}function An(){if(Yt===null){var n=bt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var i=Fn===null?bt.memoizedState:Fn.next;if(i!==null)Fn=i,Yt=n;else{if(n===null)throw bt.alternate===null?Error(o(467)):Error(o(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Fn===null?bt.memoizedState=Fn=n:Fn=Fn.next=n}return Fn}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ju(n){var i=Iu;return Iu+=1,al===null&&(al=[]),n=Fv(al,n,i),i=bt,(Fn===null?i.memoizedState:Fn.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?P0:Pp),n}function bd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ju(n);if(n.$$typeof===j)return or(n)}throw Error(o(438,String(n)))}function vp(n){var i=null,a=bt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=bt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(m){return m.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=vd(),bt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),c=0;c<n;c++)a[c]=he;return i.index++,a}function Oo(n,i){return typeof i=="function"?i(n):i}function xd(n){var i=An();return bp(i,Yt,n)}function bp(n,i,a){var c=n.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=a;var m=n.baseQueue,b=c.pending;if(b!==null){if(m!==null){var M=m.next;m.next=b.next,b.next=M}i.baseQueue=m=b,c.pending=null}if(b=n.baseState,m===null)n.memoizedState=b;else{i=m.next;var z=M=null,V=null,fe=i,Ee=!1;do{var Re=fe.lane&-536870913;if(Re!==fe.lane?(Rt&Re)===Re:(Eo&Re)===Re){var ge=fe.revertLane;if(ge===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Re===el&&(Ee=!0);else if((Eo&ge)===ge){fe=fe.next,ge===el&&(Ee=!0);continue}else Re={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},V===null?(z=V=Re,M=b):V=V.next=Re,bt.lanes|=ge,ga|=ge;Re=fe.action,ls&&a(b,Re),b=fe.hasEagerState?fe.eagerState:a(b,Re)}else ge={lane:Re,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},V===null?(z=V=ge,M=b):V=V.next=ge,bt.lanes|=Re,ga|=Re;fe=fe.next}while(fe!==null&&fe!==i);if(V===null?M=b:V.next=z,!fr(b,n.memoizedState)&&(kn=!0,Ee&&(a=tl,a!==null)))throw a;n.memoizedState=b,n.baseState=M,n.baseQueue=V,c.lastRenderedState=b}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function xp(n){var i=An(),a=i.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=n;var c=a.dispatch,m=a.pending,b=i.memoizedState;if(m!==null){a.pending=null;var M=m=m.next;do b=n(b,M.action),M=M.next;while(M!==m);fr(b,i.memoizedState)||(kn=!0),i.memoizedState=b,i.baseQueue===null&&(i.baseState=b),a.lastRenderedState=b}return[b,c]}function Xv(n,i,a){var c=bt,m=An(),b=It;if(b){if(a===void 0)throw Error(o(407));a=a()}else a=i();var M=!fr((Yt||m).memoizedState,a);if(M&&(m.memoizedState=a,kn=!0),m=m.queue,Cp(Zv.bind(null,c,m,n),[n]),m.getSnapshot!==i||M||Fn!==null&&Fn.memoizedState.tag&1){if(c.flags|=2048,sl(9,{destroy:void 0},Qv.bind(null,c,m,a,i),null),tn===null)throw Error(o(349));b||(Eo&127)!==0||Wv(c,i,a)}return a}function Wv(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=bt.updateQueue,i===null?(i=vd(),bt.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function Qv(n,i,a,c){i.value=a,i.getSnapshot=c,Jv(i)&&e0(n)}function Zv(n,i,a){return a(function(){Jv(i)&&e0(n)})}function Jv(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!fr(n,a)}catch{return!0}}function e0(n){var i=bn(n,2);i!==null&&zr(i,n,2)}function wp(n){var i=_r();if(typeof n=="function"){var a=n;if(n=a(),ls){Cn(!0);try{a()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:n},i}function t0(n,i,a,c){return n.baseState=a,bp(n,Yt,typeof c=="function"?c:Oo)}function uE(n,i,a,c,m){if(Cd(n))throw Error(o(485));if(n=i.action,n!==null){var b={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};B.T!==null?a(!0):b.isTransition=!1,c(b),a=i.pending,a===null?(b.next=i.pending=b,n0(i,b)):(b.next=a.next,i.pending=a.next=b)}}function n0(n,i){var a=i.action,c=i.payload,m=n.state;if(i.isTransition){var b=B.T,M={};B.T=M;try{var z=a(m,c),V=B.S;V!==null&&V(M,z),r0(n,i,z)}catch(fe){Sp(n,i,fe)}finally{b!==null&&M.types!==null&&(b.types=M.types),B.T=b}}else try{b=a(m,c),r0(n,i,b)}catch(fe){Sp(n,i,fe)}}function r0(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){i0(n,i,c)},function(c){return Sp(n,i,c)}):i0(n,i,a)}function i0(n,i,a){i.status="fulfilled",i.value=a,o0(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,n0(n,a)))}function Sp(n,i,a){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,o0(i),i=i.next;while(i!==c)}n.action=null}function o0(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function a0(n,i){return i}function s0(n,i){if(It){var a=tn.formState;if(a!==null){e:{var c=bt;if(It){if(hn){t:{for(var m=hn,b=di;m.nodeType!==8;){if(!b){m=null;break t}if(m=hi(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){hn=hi(m.nextSibling),c=m.data==="F!";break e}}sa(c)}c=!1}c&&(i=a[0])}}return a=_r(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a0,lastRenderedState:i},a.queue=c,a=O0.bind(null,bt,c),c.dispatch=a,c=wp(!1),b=Tp.bind(null,bt,!1,c.queue),c=_r(),m={state:i,dispatch:null,action:n,pending:null},c.queue=m,a=uE.bind(null,bt,m,b,a),m.dispatch=a,c.memoizedState=n,[i,a,!1]}function l0(n){var i=An();return u0(i,Yt,n)}function u0(n,i,a){if(i=bp(n,i,a0)[0],n=xd(Oo)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=ju(i)}catch(M){throw M===nl?cd:M}else c=i;i=An();var m=i.queue,b=m.dispatch;return a!==i.memoizedState&&(bt.flags|=2048,sl(9,{destroy:void 0},cE.bind(null,m,a),null)),[c,b,n]}function cE(n,i){n.action=i}function c0(n){var i=An(),a=Yt;if(a!==null)return u0(i,a,n);An(),i=i.memoizedState,a=An();var c=a.queue.dispatch;return a.memoizedState=n,[i,c,!1]}function sl(n,i,a,c){return n={tag:n,create:a,deps:c,inst:i,next:null},i=bt.updateQueue,i===null&&(i=vd(),bt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,i.lastEffect=n),n}function d0(){return An().memoizedState}function wd(n,i,a,c){var m=_r();bt.flags|=n,m.memoizedState=sl(1|i,{destroy:void 0},a,c===void 0?null:c)}function Sd(n,i,a,c){var m=An();c=c===void 0?null:c;var b=m.memoizedState.inst;Yt!==null&&c!==null&&hp(c,Yt.memoizedState.deps)?m.memoizedState=sl(i,b,a,c):(bt.flags|=n,m.memoizedState=sl(1|i,b,a,c))}function f0(n,i){wd(8390656,8,n,i)}function Cp(n,i){Sd(2048,8,n,i)}function dE(n){bt.flags|=4;var i=bt.updateQueue;if(i===null)i=vd(),bt.updateQueue=i,i.events=[n];else{var a=i.events;a===null?i.events=[n]:a.push(n)}}function h0(n){var i=An().memoizedState;return dE({ref:i,nextImpl:n}),function(){if((Ut&2)!==0)throw Error(o(440));return i.impl.apply(void 0,arguments)}}function p0(n,i){return Sd(4,2,n,i)}function m0(n,i){return Sd(4,4,n,i)}function g0(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function y0(n,i,a){a=a!=null?a.concat([n]):null,Sd(4,4,g0.bind(null,i,n),a)}function _p(){}function v0(n,i){var a=An();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&hp(i,c[1])?c[0]:(a.memoizedState=[n,i],n)}function b0(n,i){var a=An();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&hp(i,c[1]))return c[0];if(c=n(),ls){Cn(!0);try{n()}finally{Cn(!1)}}return a.memoizedState=[c,i],c}function Ep(n,i,a){return a===void 0||(Eo&1073741824)!==0&&(Rt&261930)===0?n.memoizedState=i:(n.memoizedState=a,n=xb(),bt.lanes|=n,ga|=n,a)}function x0(n,i,a,c){return fr(a,i)?a:il.current!==null?(n=Ep(n,a,c),fr(n,i)||(kn=!0),n):(Eo&42)===0||(Eo&1073741824)!==0&&(Rt&261930)===0?(kn=!0,n.memoizedState=a):(n=xb(),bt.lanes|=n,ga|=n,i)}function w0(n,i,a,c,m){var b=J.p;J.p=b!==0&&8>b?b:8;var M=B.T,z={};B.T=z,Tp(n,!1,i,a);try{var V=m(),fe=B.S;if(fe!==null&&fe(z,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Ee=aE(V,c);zu(n,i,Ee,Wr(n))}else zu(n,i,c,Wr(n))}catch(Re){zu(n,i,{then:function(){},status:"rejected",reason:Re},Wr())}finally{J.p=b,M!==null&&z.types!==null&&(M.types=z.types),B.T=M}}function fE(){}function Op(n,i,a,c){if(n.tag!==5)throw Error(o(476));var m=S0(n).queue;w0(n,m,i,K,a===null?fE:function(){return C0(n),a(c)})}function S0(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:K},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function C0(n){var i=S0(n);i.next===null&&(i=n.alternate.memoizedState),zu(n,i.next.queue,{},Wr())}function Mp(){return or(Ju)}function _0(){return An().memoizedState}function E0(){return An().memoizedState}function hE(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Wr();n=ca(a);var c=da(i,n,a);c!==null&&(zr(c,i,a),Du(c,i,a)),i={cache:np()},n.payload=i;return}i=i.return}}function pE(n,i,a){var c=Wr();a={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Cd(n)?M0(i,a):(a=jn(n,i,a,c),a!==null&&(zr(a,n,c),T0(a,i,c)))}function O0(n,i,a){var c=Wr();zu(n,i,a,c)}function zu(n,i,a,c){var m={lane:c,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Cd(n))M0(i,m);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=i.lastRenderedReducer,b!==null))try{var M=i.lastRenderedState,z=b(M,a);if(m.hasEagerState=!0,m.eagerState=z,fr(z,M))return ht(n,i,m,0),tn===null&&Jn(),!1}catch{}if(a=jn(n,i,m,c),a!==null)return zr(a,n,c),T0(a,i,c),!0}return!1}function Tp(n,i,a,c){if(c={lane:2,revertLane:am(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Cd(n)){if(i)throw Error(o(479))}else i=jn(n,a,c,2),i!==null&&zr(i,n,2)}function Cd(n){var i=n.alternate;return n===bt||i!==null&&i===bt}function M0(n,i){ol=gd=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function T0(n,i,a){if((a&4194048)!==0){var c=i.lanes;c&=n.pendingLanes,a|=c,i.lanes=a,$(n,a)}}var Lu={readContext:or,use:bd,useCallback:Mn,useContext:Mn,useEffect:Mn,useImperativeHandle:Mn,useLayoutEffect:Mn,useInsertionEffect:Mn,useMemo:Mn,useReducer:Mn,useRef:Mn,useState:Mn,useDebugValue:Mn,useDeferredValue:Mn,useTransition:Mn,useSyncExternalStore:Mn,useId:Mn,useHostTransitionStatus:Mn,useFormState:Mn,useActionState:Mn,useOptimistic:Mn,useMemoCache:Mn,useCacheRefresh:Mn};Lu.useEffectEvent=Mn;var P0={readContext:or,use:bd,useCallback:function(n,i){return _r().memoizedState=[n,i===void 0?null:i],n},useContext:or,useEffect:f0,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,wd(4194308,4,g0.bind(null,i,n),a)},useLayoutEffect:function(n,i){return wd(4194308,4,n,i)},useInsertionEffect:function(n,i){wd(4,2,n,i)},useMemo:function(n,i){var a=_r();i=i===void 0?null:i;var c=n();if(ls){Cn(!0);try{n()}finally{Cn(!1)}}return a.memoizedState=[c,i],c},useReducer:function(n,i,a){var c=_r();if(a!==void 0){var m=a(i);if(ls){Cn(!0);try{a(i)}finally{Cn(!1)}}}else m=i;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=pE.bind(null,bt,n),[c.memoizedState,n]},useRef:function(n){var i=_r();return n={current:n},i.memoizedState=n},useState:function(n){n=wp(n);var i=n.queue,a=O0.bind(null,bt,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:_p,useDeferredValue:function(n,i){var a=_r();return Ep(a,n,i)},useTransition:function(){var n=wp(!1);return n=w0.bind(null,bt,n.queue,!0,!1),_r().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var c=bt,m=_r();if(It){if(a===void 0)throw Error(o(407));a=a()}else{if(a=i(),tn===null)throw Error(o(349));(Rt&127)!==0||Wv(c,i,a)}m.memoizedState=a;var b={value:a,getSnapshot:i};return m.queue=b,f0(Zv.bind(null,c,b,n),[n]),c.flags|=2048,sl(9,{destroy:void 0},Qv.bind(null,c,b,a,i),null),a},useId:function(){var n=_r(),i=tn.identifierPrefix;if(It){var a=Yi,c=Vi;a=(c&~(1<<32-Ye(c)-1)).toString(32)+a,i="_"+i+"R_"+a,a=yd++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=sE++,i="_"+i+"r_"+a.toString(32)+"_";return n.memoizedState=i},useHostTransitionStatus:Mp,useFormState:s0,useActionState:s0,useOptimistic:function(n){var i=_r();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Tp.bind(null,bt,!0,a),a.dispatch=i,[n,i]},useMemoCache:vp,useCacheRefresh:function(){return _r().memoizedState=hE.bind(null,bt)},useEffectEvent:function(n){var i=_r(),a={impl:n};return i.memoizedState=a,function(){if((Ut&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},Pp={readContext:or,use:bd,useCallback:v0,useContext:or,useEffect:Cp,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:b0,useReducer:xd,useRef:d0,useState:function(){return xd(Oo)},useDebugValue:_p,useDeferredValue:function(n,i){var a=An();return x0(a,Yt.memoizedState,n,i)},useTransition:function(){var n=xd(Oo)[0],i=An().memoizedState;return[typeof n=="boolean"?n:ju(n),i]},useSyncExternalStore:Xv,useId:_0,useHostTransitionStatus:Mp,useFormState:l0,useActionState:l0,useOptimistic:function(n,i){var a=An();return t0(a,Yt,n,i)},useMemoCache:vp,useCacheRefresh:E0};Pp.useEffectEvent=h0;var R0={readContext:or,use:bd,useCallback:v0,useContext:or,useEffect:Cp,useImperativeHandle:y0,useInsertionEffect:p0,useLayoutEffect:m0,useMemo:b0,useReducer:xp,useRef:d0,useState:function(){return xp(Oo)},useDebugValue:_p,useDeferredValue:function(n,i){var a=An();return Yt===null?Ep(a,n,i):x0(a,Yt.memoizedState,n,i)},useTransition:function(){var n=xp(Oo)[0],i=An().memoizedState;return[typeof n=="boolean"?n:ju(n),i]},useSyncExternalStore:Xv,useId:_0,useHostTransitionStatus:Mp,useFormState:c0,useActionState:c0,useOptimistic:function(n,i){var a=An();return Yt!==null?t0(a,Yt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:vp,useCacheRefresh:E0};R0.useEffectEvent=h0;function Rp(n,i,a,c){i=n.memoizedState,a=a(c,i),a=a==null?i:y({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Dp={enqueueSetState:function(n,i,a){n=n._reactInternals;var c=Wr(),m=ca(c);m.payload=i,a!=null&&(m.callback=a),i=da(n,m,c),i!==null&&(zr(i,n,c),Du(i,n,c))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var c=Wr(),m=ca(c);m.tag=1,m.payload=i,a!=null&&(m.callback=a),i=da(n,m,c),i!==null&&(zr(i,n,c),Du(i,n,c))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Wr(),c=ca(a);c.tag=2,i!=null&&(c.callback=i),i=da(n,c,a),i!==null&&(zr(i,n,a),Du(i,n,a))}};function D0(n,i,a,c,m,b,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,b,M):i.prototype&&i.prototype.isPureReactComponent?!h(a,c)||!h(m,b):!0}function A0(n,i,a,c){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==n&&Dp.enqueueReplaceState(i,i.state,null)}function us(n,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(n=n.defaultProps){a===i&&(a=y({},a));for(var m in n)a[m]===void 0&&(a[m]=n[m])}return a}function N0(n){We(n)}function I0(n){console.error(n)}function j0(n){We(n)}function _d(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function z0(n,i,a){try{var c=n.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Ap(n,i,a){return a=ca(a),a.tag=3,a.payload={element:null},a.callback=function(){_d(n,i)},a}function L0(n){return n=ca(n),n.tag=3,n}function F0(n,i,a,c){var m=a.type.getDerivedStateFromError;if(typeof m=="function"){var b=c.value;n.payload=function(){return m(b)},n.callback=function(){z0(i,a,c)}}var M=a.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){z0(i,a,c),typeof m!="function"&&(ya===null?ya=new Set([this]):ya.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})})}function mE(n,i,a,c,m){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Js(i,a,m,!0),a=Vr.current,a!==null){switch(a.tag){case 31:case 13:return fi===null?zd():a.alternate===null&&Tn===0&&(Tn=3),a.flags&=-257,a.flags|=65536,a.lanes=m,c===dd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),rm(n,c,m)),!1;case 22:return a.flags|=65536,c===dd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),rm(n,c,m)),!1}throw Error(o(435,a.tag))}return rm(n,c,m),zd(),!1}if(It)return i=Vr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=m,c!==Qh&&(n=Error(o(422),{cause:c}),Ou(li(n,a)))):(c!==Qh&&(i=Error(o(423),{cause:c}),Ou(li(i,a))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=li(c,a),m=Ap(n.stateNode,c,m),lp(n,m),Tn!==4&&(Tn=2)),!1;var b=Error(o(520),{cause:c});if(b=li(b,a),Gu===null?Gu=[b]:Gu.push(b),Tn!==4&&(Tn=2),i===null)return!0;c=li(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=m&-m,a.lanes|=n,n=Ap(a.stateNode,c,n),lp(a,n),!1;case 1:if(i=a.type,b=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ya===null||!ya.has(b))))return a.flags|=65536,m&=-m,a.lanes|=m,m=L0(m),F0(m,n,a,c),lp(a,m),!1}a=a.return}while(a!==null);return!1}var Np=Error(o(461)),kn=!1;function ar(n,i,a,c){i.child=n===null?$v(i,null,a,c):ss(i,n.child,a,c)}function k0(n,i,a,c,m){a=a.render;var b=i.ref;if("ref"in c){var M={};for(var z in c)z!=="ref"&&(M[z]=c[z])}else M=c;return rs(i),c=pp(n,i,a,M,b,m),z=mp(),n!==null&&!kn?(gp(n,i,m),Mo(n,i,m)):(It&&z&&Xh(i),i.flags|=1,ar(n,i,c,m),i.child)}function B0(n,i,a,c,m){if(n===null){var b=a.type;return typeof b=="function"&&!Vh(b)&&b.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=b,U0(n,i,b,c,m)):(n=od(a.type,null,c,i,i.mode,m),n.ref=i.ref,n.return=i,i.child=n)}if(b=n.child,!Up(n,m)){var M=b.memoizedProps;if(a=a.compare,a=a!==null?a:h,a(M,c)&&n.ref===i.ref)return Mo(n,i,m)}return i.flags|=1,n=wo(b,c),n.ref=i.ref,n.return=i,i.child=n}function U0(n,i,a,c,m){if(n!==null){var b=n.memoizedProps;if(h(b,c)&&n.ref===i.ref)if(kn=!1,i.pendingProps=c=b,Up(n,m))(n.flags&131072)!==0&&(kn=!0);else return i.lanes=n.lanes,Mo(n,i,m)}return Ip(n,i,a,c,m)}function $0(n,i,a,c){var m=c.children,b=n!==null?n.memoizedState:null;if(n===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((i.flags&128)!==0){if(b=b!==null?b.baseLanes|a:a,n!==null){for(c=i.child=n.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~b}else c=0,i.child=null;return H0(n,i,b,a,c)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ud(i,b!==null?b.cachePool:null),b!==null?Gv(i,b):cp(),Vv(i);else return c=i.lanes=536870912,H0(n,i,b!==null?b.baseLanes|a:a,a,c)}else b!==null?(ud(i,b.cachePool),Gv(i,b),ha(),i.memoizedState=null):(n!==null&&ud(i,null),cp(),ha());return ar(n,i,m,a),i.child}function Fu(n,i){return n!==null&&n.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function H0(n,i,a,c,m){var b=ip();return b=b===null?null:{parent:Ln._currentValue,pool:b},i.memoizedState={baseLanes:a,cachePool:b},n!==null&&ud(i,null),cp(),Vv(i),n!==null&&Js(n,i,c,!0),i.childLanes=m,null}function Ed(n,i){return i=Md({mode:i.mode,children:i.children},n.mode),i.ref=n.ref,n.child=i,i.return=n,i}function q0(n,i,a){return ss(i,n.child,null,a),n=Ed(i,i.pendingProps),n.flags|=2,Yr(i),i.memoizedState=null,n}function gE(n,i,a){var c=i.pendingProps,m=(i.flags&128)!==0;if(i.flags&=-129,n===null){if(It){if(c.mode==="hidden")return n=Ed(i,c),i.lanes=536870912,Fu(null,n);if(fp(i),(n=hn)?(n=nx(n,di),n=n!==null&&n.data==="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:oa!==null?{id:Vi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Mv(n),a.return=i,i.child=a,ir=i,hn=null)):n=null,n===null)throw sa(i);return i.lanes=536870912,null}return Ed(i,c)}var b=n.memoizedState;if(b!==null){var M=b.dehydrated;if(fp(i),m)if(i.flags&256)i.flags&=-257,i=q0(n,i,a);else if(i.memoizedState!==null)i.child=n.child,i.flags|=128,i=null;else throw Error(o(558));else if(kn||Js(n,i,a,!1),m=(a&n.childLanes)!==0,kn||m){if(c=tn,c!==null&&(M=ee(c,a),M!==0&&M!==b.retryLane))throw b.retryLane=M,bn(n,M),zr(c,n,M),Np;zd(),i=q0(n,i,a)}else n=b.treeContext,hn=hi(M.nextSibling),ir=i,It=!0,aa=null,di=!1,n!==null&&Rv(i,n),i=Ed(i,c),i.flags|=4096;return i}return n=wo(n.child,{mode:c.mode,children:c.children}),n.ref=i.ref,i.child=n,n.return=i,n}function Od(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Ip(n,i,a,c,m){return rs(i),a=pp(n,i,a,c,void 0,m),c=mp(),n!==null&&!kn?(gp(n,i,m),Mo(n,i,m)):(It&&c&&Xh(i),i.flags|=1,ar(n,i,a,m),i.child)}function G0(n,i,a,c,m,b){return rs(i),i.updateQueue=null,a=Kv(i,c,a,m),Yv(n),c=mp(),n!==null&&!kn?(gp(n,i,b),Mo(n,i,b)):(It&&c&&Xh(i),i.flags|=1,ar(n,i,a,b),i.child)}function V0(n,i,a,c,m){if(rs(i),i.stateNode===null){var b=Dr,M=a.contextType;typeof M=="object"&&M!==null&&(b=or(M)),b=new a(c,b),i.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Dp,i.stateNode=b,b._reactInternals=i,b=i.stateNode,b.props=c,b.state=i.memoizedState,b.refs={},ap(i),M=a.contextType,b.context=typeof M=="object"&&M!==null?or(M):Dr,b.state=i.memoizedState,M=a.getDerivedStateFromProps,typeof M=="function"&&(Rp(i,a,M,c),b.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&Dp.enqueueReplaceState(b,b.state,null),Nu(i,c,b,m),Au(),b.state=i.memoizedState),typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(n===null){b=i.stateNode;var z=i.memoizedProps,V=us(a,z);b.props=V;var fe=b.context,Ee=a.contextType;M=Dr,typeof Ee=="object"&&Ee!==null&&(M=or(Ee));var Re=a.getDerivedStateFromProps;Ee=typeof Re=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=i.pendingProps!==z,Ee||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||fe!==M)&&A0(i,b,c,M),ua=!1;var ge=i.memoizedState;b.state=ge,Nu(i,c,b,m),Au(),fe=i.memoizedState,z||ge!==fe||ua?(typeof Re=="function"&&(Rp(i,a,Re,c),fe=i.memoizedState),(V=ua||D0(i,a,V,c,ge,fe,M))?(Ee||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(i.flags|=4194308)):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=fe),b.props=c,b.state=fe,b.context=M,c=V):(typeof b.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{b=i.stateNode,sp(n,i),M=i.memoizedProps,Ee=us(a,M),b.props=Ee,Re=i.pendingProps,ge=b.context,fe=a.contextType,V=Dr,typeof fe=="object"&&fe!==null&&(V=or(fe)),z=a.getDerivedStateFromProps,(fe=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Re||ge!==V)&&A0(i,b,c,V),ua=!1,ge=i.memoizedState,b.state=ge,Nu(i,c,b,m),Au();var xe=i.memoizedState;M!==Re||ge!==xe||ua||n!==null&&n.dependencies!==null&&sd(n.dependencies)?(typeof z=="function"&&(Rp(i,a,z,c),xe=i.memoizedState),(Ee=ua||D0(i,a,Ee,c,ge,xe,V)||n!==null&&n.dependencies!==null&&sd(n.dependencies))?(fe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,xe,V),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,xe,V)),typeof b.componentDidUpdate=="function"&&(i.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&ge===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ge===n.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=xe),b.props=c,b.state=xe,b.context=V,c=Ee):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&ge===n.memoizedState||(i.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ge===n.memoizedState||(i.flags|=1024),c=!1)}return b=c,Od(n,i),c=(i.flags&128)!==0,b||c?(b=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:b.render(),i.flags|=1,n!==null&&c?(i.child=ss(i,n.child,null,m),i.child=ss(i,null,a,m)):ar(n,i,a,m),i.memoizedState=b.state,n=i.child):n=Mo(n,i,m),n}function Y0(n,i,a,c){return ts(),i.flags|=256,ar(n,i,a,c),i.child}var jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zp(n){return{baseLanes:n,cachePool:zv()}}function Lp(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Xr),n}function K0(n,i,a){var c=i.pendingProps,m=!1,b=(i.flags&128)!==0,M;if((M=b)||(M=n!==null&&n.memoizedState===null?!1:(Dn.current&2)!==0),M&&(m=!0,i.flags&=-129),M=(i.flags&32)!==0,i.flags&=-33,n===null){if(It){if(m?fa(i):ha(),(n=hn)?(n=nx(n,di),n=n!==null&&n.data!=="&"?n:null,n!==null&&(i.memoizedState={dehydrated:n,treeContext:oa!==null?{id:Vi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},a=Mv(n),a.return=i,i.child=a,ir=i,hn=null)):n=null,n===null)throw sa(i);return bm(n)?i.lanes=32:i.lanes=536870912,null}var z=c.children;return c=c.fallback,m?(ha(),m=i.mode,z=Md({mode:"hidden",children:z},m),c=es(c,m,a,null),z.return=i,c.return=i,z.sibling=c,i.child=z,c=i.child,c.memoizedState=zp(a),c.childLanes=Lp(n,M,a),i.memoizedState=jp,Fu(null,c)):(fa(i),Fp(i,z))}var V=n.memoizedState;if(V!==null&&(z=V.dehydrated,z!==null)){if(b)i.flags&256?(fa(i),i.flags&=-257,i=kp(n,i,a)):i.memoizedState!==null?(ha(),i.child=n.child,i.flags|=128,i=null):(ha(),z=c.fallback,m=i.mode,c=Md({mode:"visible",children:c.children},m),z=es(z,m,a,null),z.flags|=2,c.return=i,z.return=i,c.sibling=z,i.child=c,ss(i,n.child,null,a),c=i.child,c.memoizedState=zp(a),c.childLanes=Lp(n,M,a),i.memoizedState=jp,i=Fu(null,c));else if(fa(i),bm(z)){if(M=z.nextSibling&&z.nextSibling.dataset,M)var fe=M.dgst;M=fe,c=Error(o(419)),c.stack="",c.digest=M,Ou({value:c,source:null,stack:null}),i=kp(n,i,a)}else if(kn||Js(n,i,a,!1),M=(a&n.childLanes)!==0,kn||M){if(M=tn,M!==null&&(c=ee(M,a),c!==0&&c!==V.retryLane))throw V.retryLane=c,bn(n,c),zr(M,n,c),Np;vm(z)||zd(),i=kp(n,i,a)}else vm(z)?(i.flags|=192,i.child=n.child,i=null):(n=V.treeContext,hn=hi(z.nextSibling),ir=i,It=!0,aa=null,di=!1,n!==null&&Rv(i,n),i=Fp(i,c.children),i.flags|=4096);return i}return m?(ha(),z=c.fallback,m=i.mode,V=n.child,fe=V.sibling,c=wo(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,fe!==null?z=wo(fe,z):(z=es(z,m,a,null),z.flags|=2),z.return=i,c.return=i,c.sibling=z,i.child=c,Fu(null,c),c=i.child,z=n.child.memoizedState,z===null?z=zp(a):(m=z.cachePool,m!==null?(V=Ln._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=zv(),z={baseLanes:z.baseLanes|a,cachePool:m}),c.memoizedState=z,c.childLanes=Lp(n,M,a),i.memoizedState=jp,Fu(n.child,c)):(fa(i),a=n.child,n=a.sibling,a=wo(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,n!==null&&(M=i.deletions,M===null?(i.deletions=[n],i.flags|=16):M.push(n)),i.child=a,i.memoizedState=null,a)}function Fp(n,i){return i=Md({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Md(n,i){return n=Gr(22,n,null,i),n.lanes=0,n}function kp(n,i,a){return ss(i,n.child,null,a),n=Fp(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function X0(n,i,a){n.lanes|=i;var c=n.alternate;c!==null&&(c.lanes|=i),ep(n.return,i,a)}function Bp(n,i,a,c,m,b){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:m,treeForkCount:b}:(M.isBackwards=i,M.rendering=null,M.renderingStartTime=0,M.last=c,M.tail=a,M.tailMode=m,M.treeForkCount=b)}function W0(n,i,a){var c=i.pendingProps,m=c.revealOrder,b=c.tail;c=c.children;var M=Dn.current,z=(M&2)!==0;if(z?(M=M&1|2,i.flags|=128):M&=1,we(Dn,M),ar(n,i,c,a),c=It?Eu:0,!z&&n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&X0(n,a,i);else if(n.tag===19)X0(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(a=i.child,m=null;a!==null;)n=a.alternate,n!==null&&md(n)===null&&(m=a),a=a.sibling;a=m,a===null?(m=i.child,i.child=null):(m=a.sibling,a.sibling=null),Bp(i,!1,m,a,b,c);break;case"backwards":case"unstable_legacy-backwards":for(a=null,m=i.child,i.child=null;m!==null;){if(n=m.alternate,n!==null&&md(n)===null){i.child=m;break}n=m.sibling,m.sibling=a,a=m,m=n}Bp(i,!0,a,null,b,c);break;case"together":Bp(i,!1,null,null,void 0,c);break;default:i.memoizedState=null}return i.child}function Mo(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ga|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(Js(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(o(153));if(i.child!==null){for(n=i.child,a=wo(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=wo(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Up(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&sd(n)))}function yE(n,i,a){switch(i.tag){case 3:xt(i,i.stateNode.containerInfo),la(i,Ln,n.memoizedState.cache),ts();break;case 27:case 5:Zt(i);break;case 4:xt(i,i.stateNode.containerInfo);break;case 10:la(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,fp(i),null;break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(fa(i),i.flags|=128,null):(a&i.child.childLanes)!==0?K0(n,i,a):(fa(i),n=Mo(n,i,a),n!==null?n.sibling:null);fa(i);break;case 19:var m=(n.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Js(n,i,a,!1),c=(a&i.childLanes)!==0),m){if(c)return W0(n,i,a);i.flags|=128}if(m=i.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),we(Dn,Dn.current),c)break;return null;case 22:return i.lanes=0,$0(n,i,a,i.pendingProps);case 24:la(i,Ln,n.memoizedState.cache)}return Mo(n,i,a)}function Q0(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)kn=!0;else{if(!Up(n,a)&&(i.flags&128)===0)return kn=!1,yE(n,i,a);kn=(n.flags&131072)!==0}else kn=!1,It&&(i.flags&1048576)!==0&&Pv(i,Eu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var c=i.pendingProps;if(n=os(i.elementType),i.type=n,typeof n=="function")Vh(n)?(c=us(n,c),i.tag=1,i=V0(null,i,n,c,a)):(i.tag=0,i=Ip(null,i,n,c,a));else{if(n!=null){var m=n.$$typeof;if(m===L){i.tag=11,i=k0(null,i,n,c,a);break e}else if(m===I){i.tag=14,i=B0(null,i,n,c,a);break e}}throw i=ce(n)||n,Error(o(306,i,""))}}return i;case 0:return Ip(n,i,i.type,i.pendingProps,a);case 1:return c=i.type,m=us(c,i.pendingProps),V0(n,i,c,m,a);case 3:e:{if(xt(i,i.stateNode.containerInfo),n===null)throw Error(o(387));c=i.pendingProps;var b=i.memoizedState;m=b.element,sp(n,i),Nu(i,c,null,a);var M=i.memoizedState;if(c=M.cache,la(i,Ln,c),c!==b.cache&&tp(i,[Ln],a,!0),Au(),c=M.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:M.cache},i.updateQueue.baseState=b,i.memoizedState=b,i.flags&256){i=Y0(n,i,c,a);break e}else if(c!==m){m=li(Error(o(424)),i),Ou(m),i=Y0(n,i,c,a);break e}else for(n=i.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,hn=hi(n.firstChild),ir=i,It=!0,aa=null,di=!0,a=$v(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ts(),c===m){i=Mo(n,i,a);break e}ar(n,i,c,a)}i=i.child}return i;case 26:return Od(n,i),n===null?(a=lx(i.type,null,i.pendingProps,null))?i.memoizedState=a:It||(a=i.type,n=i.pendingProps,c=Hd(He.current).createElement(a),c[$e]=i,c[Ke]=n,sr(c,a,n),en(c),i.stateNode=c):i.memoizedState=lx(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Zt(i),n===null&&It&&(c=i.stateNode=ox(i.type,i.pendingProps,He.current),ir=i,di=!0,m=hn,wa(i.type)?(xm=m,hn=hi(c.firstChild)):hn=m),ar(n,i,i.pendingProps.children,a),Od(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&It&&((m=c=hn)&&(c=YE(c,i.type,i.pendingProps,di),c!==null?(i.stateNode=c,ir=i,hn=hi(c.firstChild),di=!1,m=!0):m=!1),m||sa(i)),Zt(i),m=i.type,b=i.pendingProps,M=n!==null?n.memoizedProps:null,c=b.children,mm(m,b)?c=null:M!==null&&mm(m,M)&&(i.flags|=32),i.memoizedState!==null&&(m=pp(n,i,lE,null,null,a),Ju._currentValue=m),Od(n,i),ar(n,i,c,a),i.child;case 6:return n===null&&It&&((n=a=hn)&&(a=KE(a,i.pendingProps,di),a!==null?(i.stateNode=a,ir=i,hn=null,n=!0):n=!1),n||sa(i)),null;case 13:return K0(n,i,a);case 4:return xt(i,i.stateNode.containerInfo),c=i.pendingProps,n===null?i.child=ss(i,null,c,a):ar(n,i,c,a),i.child;case 11:return k0(n,i,i.type,i.pendingProps,a);case 7:return ar(n,i,i.pendingProps,a),i.child;case 8:return ar(n,i,i.pendingProps.children,a),i.child;case 12:return ar(n,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,la(i,i.type,c.value),ar(n,i,c.children,a),i.child;case 9:return m=i.type._context,c=i.pendingProps.children,rs(i),m=or(m),c=c(m),i.flags|=1,ar(n,i,c,a),i.child;case 14:return B0(n,i,i.type,i.pendingProps,a);case 15:return U0(n,i,i.type,i.pendingProps,a);case 19:return W0(n,i,a);case 31:return gE(n,i,a);case 22:return $0(n,i,a,i.pendingProps);case 24:return rs(i),c=or(Ln),n===null?(m=ip(),m===null&&(m=tn,b=np(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=a),m=b),i.memoizedState={parent:c,cache:m},ap(i),la(i,Ln,m)):((n.lanes&a)!==0&&(sp(n,i),Nu(i,null,null,a),Au()),m=n.memoizedState,b=i.memoizedState,m.parent!==c?(m={parent:c,cache:c},i.memoizedState=m,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=m),la(i,Ln,c)):(c=b.cache,la(i,Ln,c),c!==m.cache&&tp(i,[Ln],a,!0))),ar(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(o(156,i.tag))}function To(n){n.flags|=4}function $p(n,i,a,c,m){if((i=(n.mode&32)!==0)&&(i=!1),i){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(_b())n.flags|=8192;else throw as=dd,op}else n.flags&=-16777217}function Z0(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!hx(i))if(_b())n.flags|=8192;else throw as=dd,op}function Td(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?uo():536870912,n.lanes|=i,dl|=i)}function ku(n,i){if(!It)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function pn(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(i)for(var m=n.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)a|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=a,i}function vE(n,i,a){var c=i.pendingProps;switch(Wh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(i),null;case 1:return pn(i),null;case 3:return a=i.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),_o(Ln),Ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Zs(i)?To(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zh())),pn(i),null;case 26:var m=i.type,b=i.memoizedState;return n===null?(To(i),b!==null?(pn(i),Z0(i,b)):(pn(i),$p(i,m,null,c,a))):b?b!==n.memoizedState?(To(i),pn(i),Z0(i,b)):(pn(i),i.flags&=-16777217):(n=n.memoizedProps,n!==c&&To(i),pn(i),$p(i,m,n,c,a)),null;case 27:if(sn(i),a=He.current,m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&To(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return pn(i),null}n=De.current,Zs(i)?Dv(i):(n=ox(m,c,a),i.stateNode=n,To(i))}return pn(i),null;case 5:if(sn(i),m=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==c&&To(i);else{if(!c){if(i.stateNode===null)throw Error(o(166));return pn(i),null}if(b=De.current,Zs(i))Dv(i);else{var M=Hd(He.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?M.createElement("select",{is:c.is}):M.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?M.createElement(m,{is:c.is}):M.createElement(m)}}b[$e]=i,b[Ke]=c;e:for(M=i.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===i)break e;for(;M.sibling===null;){if(M.return===null||M.return===i)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}i.stateNode=b;e:switch(sr(b,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&To(i)}}return pn(i),$p(i,i.type,n===null?null:n.memoizedProps,i.pendingProps,a),null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==c&&To(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(o(166));if(n=He.current,Zs(i)){if(n=i.stateNode,a=i.memoizedProps,c=null,m=ir,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[$e]=i,n=!!(n.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Kb(n.nodeValue,a)),n||sa(i,!0)}else n=Hd(n).createTextNode(c),n[$e]=i,i.stateNode=n}return pn(i),null;case 31:if(a=i.memoizedState,n===null||n.memoizedState!==null){if(c=Zs(i),a!==null){if(n===null){if(!c)throw Error(o(318));if(n=i.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(o(557));n[$e]=i}else ts(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),n=!1}else a=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=a),n=!0;if(!n)return i.flags&256?(Yr(i),i):(Yr(i),null);if((i.flags&128)!==0)throw Error(o(558))}return pn(i),null;case 13:if(c=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=Zs(i),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(o(318));if(m=i.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(o(317));m[$e]=i}else ts(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;pn(i),m=!1}else m=Zh(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return i.flags&256?(Yr(i),i):(Yr(i),null)}return Yr(i),(i.flags&128)!==0?(i.lanes=a,i):(a=c!==null,n=n!==null&&n.memoizedState!==null,a&&(c=i.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048)),a!==n&&a&&(i.child.flags|=8192),Td(i,i.updateQueue),pn(i),null);case 4:return Ae(),n===null&&cm(i.stateNode.containerInfo),pn(i),null;case 10:return _o(i.type),pn(i),null;case 19:if(re(Dn),c=i.memoizedState,c===null)return pn(i),null;if(m=(i.flags&128)!==0,b=c.rendering,b===null)if(m)ku(c,!1);else{if(Tn!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(b=md(n),b!==null){for(i.flags|=128,ku(c,!1),n=b.updateQueue,i.updateQueue=n,Td(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Ov(a,n),a=a.sibling;return we(Dn,Dn.current&1|2),It&&So(i,c.treeForkCount),i.child}n=n.sibling}c.tail!==null&&qt()>Nd&&(i.flags|=128,m=!0,ku(c,!1),i.lanes=4194304)}else{if(!m)if(n=md(b),n!==null){if(i.flags|=128,m=!0,n=n.updateQueue,i.updateQueue=n,Td(i,n),ku(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!It)return pn(i),null}else 2*qt()-c.renderingStartTime>Nd&&a!==536870912&&(i.flags|=128,m=!0,ku(c,!1),i.lanes=4194304);c.isBackwards?(b.sibling=i.child,i.child=b):(n=c.last,n!==null?n.sibling=b:i.child=b,c.last=b)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=qt(),n.sibling=null,a=Dn.current,we(Dn,m?a&1|2:a&1),It&&So(i,c.treeForkCount),n):(pn(i),null);case 22:case 23:return Yr(i),dp(),c=i.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&(pn(i),i.subtreeFlags&6&&(i.flags|=8192)):pn(i),a=i.updateQueue,a!==null&&Td(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),n!==null&&re(is),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),_o(Ln),pn(i),null;case 25:return null;case 30:return null}throw Error(o(156,i.tag))}function bE(n,i){switch(Wh(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return _o(Ln),Ae(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return sn(i),null;case 31:if(i.memoizedState!==null){if(Yr(i),i.alternate===null)throw Error(o(340));ts()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 13:if(Yr(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(o(340));ts()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return re(Dn),null;case 4:return Ae(),null;case 10:return _o(i.type),null;case 22:case 23:return Yr(i),dp(),n!==null&&re(is),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return _o(Ln),null;case 25:return null;default:return null}}function J0(n,i){switch(Wh(i),i.tag){case 3:_o(Ln),Ae();break;case 26:case 27:case 5:sn(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&Yr(i);break;case 13:Yr(i);break;case 19:re(Dn);break;case 10:_o(i.type);break;case 22:case 23:Yr(i),dp(),n!==null&&re(is);break;case 24:_o(Ln)}}function Bu(n,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var m=c.next;a=m;do{if((a.tag&n)===n){c=void 0;var b=a.create,M=a.inst;c=b(),M.destroy=c}a=a.next}while(a!==m)}}catch(z){Vt(i,i.return,z)}}function pa(n,i,a){try{var c=i.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&n)===n){var M=c.inst,z=M.destroy;if(z!==void 0){M.destroy=void 0,m=i;var V=a,fe=z;try{fe()}catch(Ee){Vt(m,V,Ee)}}}c=c.next}while(c!==b)}}catch(Ee){Vt(i,i.return,Ee)}}function eb(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{qv(i,a)}catch(c){Vt(n,n.return,c)}}}function tb(n,i,a){a.props=us(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(c){Vt(n,i,c)}}function Uu(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof a=="function"?n.refCleanup=a(c):a.current=c}}catch(m){Vt(n,i,m)}}function Ki(n,i){var a=n.ref,c=n.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(m){Vt(n,i,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(m){Vt(n,i,m)}else a.current=null}function nb(n){var i=n.type,a=n.memoizedProps,c=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(m){Vt(n,n.return,m)}}function Hp(n,i,a){try{var c=n.stateNode;UE(c,n.type,a,i),c[Ke]=i}catch(m){Vt(n,n.return,m)}}function rb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&wa(n.type)||n.tag===4}function qp(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||rb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&wa(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Gp(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Rr));else if(c!==4&&(c===27&&wa(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Gp(n,i,a),n=n.sibling;n!==null;)Gp(n,i,a),n=n.sibling}function Pd(n,i,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(c!==4&&(c===27&&wa(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Pd(n,i,a),n=n.sibling;n!==null;)Pd(n,i,a),n=n.sibling}function ib(n){var i=n.stateNode,a=n.memoizedProps;try{for(var c=n.type,m=i.attributes;m.length;)i.removeAttributeNode(m[0]);sr(i,c,a),i[$e]=n,i[Ke]=a}catch(b){Vt(n,n.return,b)}}var Po=!1,Bn=!1,Vp=!1,ob=typeof WeakSet=="function"?WeakSet:Set,er=null;function xE(n,i){if(n=n.containerInfo,hm=Wd,n=P(n),A(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var m=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{a.nodeType,b.nodeType}catch{a=null;break e}var M=0,z=-1,V=-1,fe=0,Ee=0,Re=n,ge=null;t:for(;;){for(var xe;Re!==a||m!==0&&Re.nodeType!==3||(z=M+m),Re!==b||c!==0&&Re.nodeType!==3||(V=M+c),Re.nodeType===3&&(M+=Re.nodeValue.length),(xe=Re.firstChild)!==null;)ge=Re,Re=xe;for(;;){if(Re===n)break t;if(ge===a&&++fe===m&&(z=M),ge===b&&++Ee===c&&(V=M),(xe=Re.nextSibling)!==null)break;Re=ge,ge=Re.parentNode}Re=xe}a=z===-1||V===-1?null:{start:z,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(pm={focusedElem:n,selectionRange:a},Wd=!1,er=i;er!==null;)if(i=er,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,er=n;else for(;er!==null;){switch(i=er,b=i.alternate,n=i.flags,i.tag){case 0:if((n&4)!==0&&(n=i.updateQueue,n=n!==null?n.events:null,n!==null))for(a=0;a<n.length;a++)m=n[a],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,a=i,m=b.memoizedProps,b=b.memoizedState,c=a.stateNode;try{var Je=us(a.type,m);n=c.getSnapshotBeforeUpdate(Je,b),c.__reactInternalSnapshotBeforeUpdate=n}catch(ct){Vt(a,a.return,ct)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(o(163))}if(n=i.sibling,n!==null){n.return=i.return,er=n;break}er=i.return}}function ab(n,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Do(n,a),c&4&&Bu(5,a);break;case 1:if(Do(n,a),c&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(M){Vt(a,a.return,M)}else{var m=us(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(m,i,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Vt(a,a.return,M)}}c&64&&eb(a),c&512&&Uu(a,a.return);break;case 3:if(Do(n,a),c&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{qv(n,i)}catch(M){Vt(a,a.return,M)}}break;case 27:i===null&&c&4&&ib(a);case 26:case 5:Do(n,a),i===null&&c&4&&nb(a),c&512&&Uu(a,a.return);break;case 12:Do(n,a);break;case 31:Do(n,a),c&4&&ub(n,a);break;case 13:Do(n,a),c&4&&cb(n,a),c&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=PE.bind(null,a),XE(n,a))));break;case 22:if(c=a.memoizedState!==null||Po,!c){i=i!==null&&i.memoizedState!==null||Bn,m=Po;var b=Bn;Po=c,(Bn=i)&&!b?Ao(n,a,(a.subtreeFlags&8772)!==0):Do(n,a),Po=m,Bn=b}break;case 30:break;default:Do(n,a)}}function sb(n){var i=n.alternate;i!==null&&(n.alternate=null,sb(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&cn(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var xn=null,Ar=!1;function Ro(n,i,a){for(a=a.child;a!==null;)lb(n,i,a),a=a.sibling}function lb(n,i,a){if(At&&typeof At.onCommitFiberUnmount=="function")try{At.onCommitFiberUnmount(rn,a)}catch{}switch(a.tag){case 26:Bn||Ki(a,i),Ro(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Bn||Ki(a,i);var c=xn,m=Ar;wa(a.type)&&(xn=a.stateNode,Ar=!1),Ro(n,i,a),Wu(a.stateNode),xn=c,Ar=m;break;case 5:Bn||Ki(a,i);case 6:if(c=xn,m=Ar,xn=null,Ro(n,i,a),xn=c,Ar=m,xn!==null)if(Ar)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(a.stateNode)}catch(b){Vt(a,i,b)}else try{xn.removeChild(a.stateNode)}catch(b){Vt(a,i,b)}break;case 18:xn!==null&&(Ar?(n=xn,ex(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),bl(n)):ex(xn,a.stateNode));break;case 4:c=xn,m=Ar,xn=a.stateNode.containerInfo,Ar=!0,Ro(n,i,a),xn=c,Ar=m;break;case 0:case 11:case 14:case 15:pa(2,a,i),Bn||pa(4,a,i),Ro(n,i,a);break;case 1:Bn||(Ki(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&tb(a,i,c)),Ro(n,i,a);break;case 21:Ro(n,i,a);break;case 22:Bn=(c=Bn)||a.memoizedState!==null,Ro(n,i,a),Bn=c;break;default:Ro(n,i,a)}}function ub(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{bl(n)}catch(a){Vt(i,i.return,a)}}}function cb(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{bl(n)}catch(a){Vt(i,i.return,a)}}function wE(n){switch(n.tag){case 31:case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new ob),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new ob),i;default:throw Error(o(435,n.tag))}}function Rd(n,i){var a=wE(n);i.forEach(function(c){if(!a.has(c)){a.add(c);var m=RE.bind(null,n,c);c.then(m,m)}})}function Nr(n,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var m=a[c],b=n,M=i,z=M;e:for(;z!==null;){switch(z.tag){case 27:if(wa(z.type)){xn=z.stateNode,Ar=!1;break e}break;case 5:xn=z.stateNode,Ar=!1;break e;case 3:case 4:xn=z.stateNode.containerInfo,Ar=!0;break e}z=z.return}if(xn===null)throw Error(o(160));lb(b,M,m),xn=null,Ar=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)db(i,n),i=i.sibling}var Pi=null;function db(n,i){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nr(i,n),Ir(n),c&4&&(pa(3,n,n.return),Bu(3,n),pa(5,n,n.return));break;case 1:Nr(i,n),Ir(n),c&512&&(Bn||a===null||Ki(a,a.return)),c&64&&Po&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var m=Pi;if(Nr(i,n),Ir(n),c&512&&(Bn||a===null||Ki(a,a.return)),c&4){var b=a!==null?a.memoizedState:null;if(c=n.memoizedState,a===null)if(c===null)if(n.stateNode===null){e:{c=n.type,a=n.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":b=m.getElementsByTagName("title")[0],(!b||b[kt]||b[$e]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(c),m.head.insertBefore(b,m.querySelector("head > title"))),sr(b,c,a),b[$e]=n,en(b),c=b;break e;case"link":var M=dx("link","href",m).get(c+(a.href||""));if(M){for(var z=0;z<M.length;z++)if(b=M[z],b.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&b.getAttribute("rel")===(a.rel==null?null:a.rel)&&b.getAttribute("title")===(a.title==null?null:a.title)&&b.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){M.splice(z,1);break t}}b=m.createElement(c),sr(b,c,a),m.head.appendChild(b);break;case"meta":if(M=dx("meta","content",m).get(c+(a.content||""))){for(z=0;z<M.length;z++)if(b=M[z],b.getAttribute("content")===(a.content==null?null:""+a.content)&&b.getAttribute("name")===(a.name==null?null:a.name)&&b.getAttribute("property")===(a.property==null?null:a.property)&&b.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&b.getAttribute("charset")===(a.charSet==null?null:a.charSet)){M.splice(z,1);break t}}b=m.createElement(c),sr(b,c,a),m.head.appendChild(b);break;default:throw Error(o(468,c))}b[$e]=n,en(b),c=b}n.stateNode=c}else fx(m,n.type,n.stateNode);else n.stateNode=cx(m,c,n.memoizedProps);else b!==c?(b===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):b.count--,c===null?fx(m,n.type,n.stateNode):cx(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Hp(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nr(i,n),Ir(n),c&512&&(Bn||a===null||Ki(a,a.return)),a!==null&&c&4&&Hp(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nr(i,n),Ir(n),c&512&&(Bn||a===null||Ki(a,a.return)),n.flags&32){m=n.stateNode;try{fo(m,"")}catch(Je){Vt(n,n.return,Je)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,Hp(n,m,a!==null?a.memoizedProps:m)),c&1024&&(Vp=!0);break;case 6:if(Nr(i,n),Ir(n),c&4){if(n.stateNode===null)throw Error(o(162));c=n.memoizedProps,a=n.stateNode;try{a.nodeValue=c}catch(Je){Vt(n,n.return,Je)}}break;case 3:if(Vd=null,m=Pi,Pi=qd(i.containerInfo),Nr(i,n),Pi=m,Ir(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{bl(i.containerInfo)}catch(Je){Vt(n,n.return,Je)}Vp&&(Vp=!1,fb(n));break;case 4:c=Pi,Pi=qd(n.stateNode.containerInfo),Nr(i,n),Ir(n),Pi=c;break;case 12:Nr(i,n),Ir(n);break;case 31:Nr(i,n),Ir(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Rd(n,c)));break;case 13:Nr(i,n),Ir(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=qt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Rd(n,c)));break;case 22:m=n.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,fe=Po,Ee=Bn;if(Po=fe||m,Bn=Ee||V,Nr(i,n),Bn=Ee,Po=fe,Ir(n),c&8192)e:for(i=n.stateNode,i._visibility=m?i._visibility&-2:i._visibility|1,m&&(a===null||V||Po||Bn||cs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){V=a=i;try{if(b=V.stateNode,m)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{z=V.stateNode;var Re=V.memoizedProps.style,ge=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;z.style.display=ge==null||typeof ge=="boolean"?"":(""+ge).trim()}}catch(Je){Vt(V,V.return,Je)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(Je){Vt(V,V.return,Je)}}}else if(i.tag===18){if(a===null){V=i;try{var xe=V.stateNode;m?tx(xe,!0):tx(V.stateNode,!1)}catch(Je){Vt(V,V.return,Je)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=n.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Rd(n,a))));break;case 19:Nr(i,n),Ir(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Rd(n,c)));break;case 30:break;case 21:break;default:Nr(i,n),Ir(n)}}function Ir(n){var i=n.flags;if(i&2){try{for(var a,c=n.return;c!==null;){if(rb(c)){a=c;break}c=c.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var m=a.stateNode,b=qp(n);Pd(n,b,m);break;case 5:var M=a.stateNode;a.flags&32&&(fo(M,""),a.flags&=-33);var z=qp(n);Pd(n,z,M);break;case 3:case 4:var V=a.stateNode.containerInfo,fe=qp(n);Gp(n,fe,V);break;default:throw Error(o(161))}}catch(Ee){Vt(n,n.return,Ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function fb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;fb(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Do(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ab(n,i.alternate,i),i=i.sibling}function cs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:pa(4,i,i.return),cs(i);break;case 1:Ki(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&tb(i,i.return,a),cs(i);break;case 27:Wu(i.stateNode);case 26:case 5:Ki(i,i.return),cs(i);break;case 22:i.memoizedState===null&&cs(i);break;case 30:cs(i);break;default:cs(i)}n=n.sibling}}function Ao(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,m=n,b=i,M=b.flags;switch(b.tag){case 0:case 11:case 15:Ao(m,b,a),Bu(4,b);break;case 1:if(Ao(m,b,a),c=b,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(fe){Vt(c,c.return,fe)}if(c=b,m=c.updateQueue,m!==null){var z=c.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)Hv(V[m],z)}catch(fe){Vt(c,c.return,fe)}}a&&M&64&&eb(b),Uu(b,b.return);break;case 27:ib(b);case 26:case 5:Ao(m,b,a),a&&c===null&&M&4&&nb(b),Uu(b,b.return);break;case 12:Ao(m,b,a);break;case 31:Ao(m,b,a),a&&M&4&&ub(m,b);break;case 13:Ao(m,b,a),a&&M&4&&cb(m,b);break;case 22:b.memoizedState===null&&Ao(m,b,a),Uu(b,b.return);break;case 30:break;default:Ao(m,b,a)}i=i.sibling}}function Yp(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&Mu(a))}function Kp(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Mu(n))}function Ri(n,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hb(n,i,a,c),i=i.sibling}function hb(n,i,a,c){var m=i.flags;switch(i.tag){case 0:case 11:case 15:Ri(n,i,a,c),m&2048&&Bu(9,i);break;case 1:Ri(n,i,a,c);break;case 3:Ri(n,i,a,c),m&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Mu(n)));break;case 12:if(m&2048){Ri(n,i,a,c),n=i.stateNode;try{var b=i.memoizedProps,M=b.id,z=b.onPostCommit;typeof z=="function"&&z(M,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){Vt(i,i.return,V)}}else Ri(n,i,a,c);break;case 31:Ri(n,i,a,c);break;case 13:Ri(n,i,a,c);break;case 23:break;case 22:b=i.stateNode,M=i.alternate,i.memoizedState!==null?b._visibility&2?Ri(n,i,a,c):$u(n,i):b._visibility&2?Ri(n,i,a,c):(b._visibility|=2,ll(n,i,a,c,(i.subtreeFlags&10256)!==0||!1)),m&2048&&Yp(M,i);break;case 24:Ri(n,i,a,c),m&2048&&Kp(i.alternate,i);break;default:Ri(n,i,a,c)}}function ll(n,i,a,c,m){for(m=m&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var b=n,M=i,z=a,V=c,fe=M.flags;switch(M.tag){case 0:case 11:case 15:ll(b,M,z,V,m),Bu(8,M);break;case 23:break;case 22:var Ee=M.stateNode;M.memoizedState!==null?Ee._visibility&2?ll(b,M,z,V,m):$u(b,M):(Ee._visibility|=2,ll(b,M,z,V,m)),m&&fe&2048&&Yp(M.alternate,M);break;case 24:ll(b,M,z,V,m),m&&fe&2048&&Kp(M.alternate,M);break;default:ll(b,M,z,V,m)}i=i.sibling}}function $u(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,c=i,m=c.flags;switch(c.tag){case 22:$u(a,c),m&2048&&Yp(c.alternate,c);break;case 24:$u(a,c),m&2048&&Kp(c.alternate,c);break;default:$u(a,c)}i=i.sibling}}var Hu=8192;function ul(n,i,a){if(n.subtreeFlags&Hu)for(n=n.child;n!==null;)pb(n,i,a),n=n.sibling}function pb(n,i,a){switch(n.tag){case 26:ul(n,i,a),n.flags&Hu&&n.memoizedState!==null&&sO(a,Pi,n.memoizedState,n.memoizedProps);break;case 5:ul(n,i,a);break;case 3:case 4:var c=Pi;Pi=qd(n.stateNode.containerInfo),ul(n,i,a),Pi=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=Hu,Hu=16777216,ul(n,i,a),Hu=c):ul(n,i,a));break;default:ul(n,i,a)}}function mb(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function qu(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];er=c,yb(c,n)}mb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)gb(n),n=n.sibling}function gb(n){switch(n.tag){case 0:case 11:case 15:qu(n),n.flags&2048&&pa(9,n,n.return);break;case 3:qu(n);break;case 12:qu(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Dd(n)):qu(n);break;default:qu(n)}}function Dd(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];er=c,yb(c,n)}mb(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:pa(8,i,i.return),Dd(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Dd(i));break;default:Dd(i)}n=n.sibling}}function yb(n,i){for(;er!==null;){var a=er;switch(a.tag){case 0:case 11:case 15:pa(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Mu(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,er=c;else e:for(a=n;er!==null;){c=er;var m=c.sibling,b=c.return;if(sb(c),c===a){er=null;break e}if(m!==null){m.return=b,er=m;break e}er=b}}}var SE={getCacheForType:function(n){var i=or(Ln),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a},cacheSignal:function(){return or(Ln).controller.signal}},CE=typeof WeakMap=="function"?WeakMap:Map,Ut=0,tn=null,Tt=null,Rt=0,Gt=0,Kr=null,ma=!1,cl=!1,Xp=!1,No=0,Tn=0,ga=0,ds=0,Wp=0,Xr=0,dl=0,Gu=null,jr=null,Qp=!1,Ad=0,vb=0,Nd=1/0,Id=null,ya=null,Gn=0,va=null,fl=null,Io=0,Zp=0,Jp=null,bb=null,Vu=0,em=null;function Wr(){return(Ut&2)!==0&&Rt!==0?Rt&-Rt:B.T!==null?am():Fe()}function xb(){if(Xr===0)if((Rt&536870912)===0||It){var n=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Xr=n}else Xr=536870912;return n=Vr.current,n!==null&&(n.flags|=32),Xr}function zr(n,i,a){(n===tn&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(hl(n,0),ba(n,Rt,Xr,!1)),xr(n,a),((Ut&2)===0||n!==tn)&&(n===tn&&((Ut&2)===0&&(ds|=a),Tn===4&&ba(n,Rt,Xr,!1)),Xi(n))}function wb(n,i,a){if((Ut&6)!==0)throw Error(o(327));var c=!a&&(i&127)===0&&(i&n.expiredLanes)===0||Oi(n,i),m=c?OE(n,i):nm(n,i,!0),b=c;do{if(m===0){cl&&!c&&ba(n,i,0,!1);break}else{if(a=n.current.alternate,b&&!_E(a)){m=nm(n,i,!1),b=!1;continue}if(m===2){if(b=i,n.errorRecoveryDisabledLanes&b)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){i=M;e:{var z=n;m=Gu;var V=z.current.memoizedState.isDehydrated;if(V&&(hl(z,M).flags|=256),M=nm(z,M,!1),M!==2){if(Xp&&!V){z.errorRecoveryDisabledLanes|=b,ds|=b,m=4;break e}b=jr,jr=m,b!==null&&(jr===null?jr=b:jr.push.apply(jr,b))}m=M}if(b=!1,m!==2)continue}}if(m===1){hl(n,0),ba(n,i,0,!0);break}e:{switch(c=n,b=m,b){case 0:case 1:throw Error(o(345));case 4:if((i&4194048)!==i)break;case 6:ba(c,i,Xr,!ma);break e;case 2:jr=null;break;case 3:case 5:break;default:throw Error(o(329))}if((i&62914560)===i&&(m=Ad+300-qt(),10<m)){if(ba(c,i,Xr,!ma),Bi(c,0,!0)!==0)break e;Io=i,c.timeoutHandle=Zb(Sb.bind(null,c,a,jr,Id,Qp,i,Xr,ds,dl,ma,b,"Throttled",-0,0),m);break e}Sb(c,a,jr,Id,Qp,i,Xr,ds,dl,ma,b,null,-0,0)}}break}while(!0);Xi(n)}function Sb(n,i,a,c,m,b,M,z,V,fe,Ee,Re,ge,xe){if(n.timeoutHandle=-1,Re=i.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rr},pb(i,b,Re);var Je=(b&62914560)===b?Ad-qt():(b&4194048)===b?vb-qt():0;if(Je=lO(Re,Je),Je!==null){Io=b,n.cancelPendingCommit=Je(Rb.bind(null,n,i,b,a,c,m,M,z,V,Ee,Re,null,ge,xe)),ba(n,b,M,!fe);return}}Rb(n,i,b,a,c,m,M,z,V)}function _E(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var m=a[c],b=m.getSnapshot;m=m.value;try{if(!fr(b(),m))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ba(n,i,a,c){i&=~Wp,i&=~ds,n.suspendedLanes|=i,n.pingedLanes&=~i,c&&(n.warmLanes|=i),c=n.expirationTimes;for(var m=i;0<m;){var b=31-Ye(m),M=1<<b;c[b]=-1,m&=~M}a!==0&&co(n,a,i)}function jd(){return(Ut&6)===0?(Yu(0),!1):!0}function tm(){if(Tt!==null){if(Gt===0)var n=Tt.return;else n=Tt,Co=ns=null,yp(n),rl=null,Pu=0,n=Tt;for(;n!==null;)J0(n.alternate,n),n=n.return;Tt=null}}function hl(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,qE(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Io=0,tm(),tn=n,Tt=a=wo(n.current,null),Rt=i,Gt=0,Kr=null,ma=!1,cl=Oi(n,i),Xp=!1,dl=Xr=Wp=ds=ga=Tn=0,jr=Gu=null,Qp=!1,(i&8)!==0&&(i|=i&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=i;0<c;){var m=31-Ye(c),b=1<<m;i|=n[m],c&=~b}return No=i,Jn(),a}function Cb(n,i){bt=null,B.H=Lu,i===nl||i===cd?(i=kv(),Gt=3):i===op?(i=kv(),Gt=4):Gt=i===Np?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Kr=i,Tt===null&&(Tn=1,_d(n,li(i,n.current)))}function _b(){var n=Vr.current;return n===null?!0:(Rt&4194048)===Rt?fi===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?n===fi:!1}function Eb(){var n=B.H;return B.H=Lu,n===null?Lu:n}function Ob(){var n=B.A;return B.A=SE,n}function zd(){Tn=4,ma||(Rt&4194048)!==Rt&&Vr.current!==null||(cl=!0),(ga&134217727)===0&&(ds&134217727)===0||tn===null||ba(tn,Rt,Xr,!1)}function nm(n,i,a){var c=Ut;Ut|=2;var m=Eb(),b=Ob();(tn!==n||Rt!==i)&&(Id=null,hl(n,i)),i=!1;var M=Tn;e:do try{if(Gt!==0&&Tt!==null){var z=Tt,V=Kr;switch(Gt){case 8:tm(),M=6;break e;case 3:case 2:case 9:case 6:Vr.current===null&&(i=!0);var fe=Gt;if(Gt=0,Kr=null,pl(n,z,V,fe),a&&cl){M=0;break e}break;default:fe=Gt,Gt=0,Kr=null,pl(n,z,V,fe)}}EE(),M=Tn;break}catch(Ee){Cb(n,Ee)}while(!0);return i&&n.shellSuspendCounter++,Co=ns=null,Ut=c,B.H=m,B.A=b,Tt===null&&(tn=null,Rt=0,Jn()),M}function EE(){for(;Tt!==null;)Mb(Tt)}function OE(n,i){var a=Ut;Ut|=2;var c=Eb(),m=Ob();tn!==n||Rt!==i?(Id=null,Nd=qt()+500,hl(n,i)):cl=Oi(n,i);e:do try{if(Gt!==0&&Tt!==null){i=Tt;var b=Kr;t:switch(Gt){case 1:Gt=0,Kr=null,pl(n,i,b,1);break;case 2:case 9:if(Lv(b)){Gt=0,Kr=null,Tb(i);break}i=function(){Gt!==2&&Gt!==9||tn!==n||(Gt=7),Xi(n)},b.then(i,i);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:Lv(b)?(Gt=0,Kr=null,Tb(i)):(Gt=0,Kr=null,pl(n,i,b,7));break;case 5:var M=null;switch(Tt.tag){case 26:M=Tt.memoizedState;case 5:case 27:var z=Tt;if(M?hx(M):z.stateNode.complete){Gt=0,Kr=null;var V=z.sibling;if(V!==null)Tt=V;else{var fe=z.return;fe!==null?(Tt=fe,Ld(fe)):Tt=null}break t}}Gt=0,Kr=null,pl(n,i,b,5);break;case 6:Gt=0,Kr=null,pl(n,i,b,6);break;case 8:tm(),Tn=6;break e;default:throw Error(o(462))}}ME();break}catch(Ee){Cb(n,Ee)}while(!0);return Co=ns=null,B.H=c,B.A=m,Ut=a,Tt!==null?0:(tn=null,Rt=0,Jn(),Tn)}function ME(){for(;Tt!==null&&!wn();)Mb(Tt)}function Mb(n){var i=Q0(n.alternate,n,No);n.memoizedProps=n.pendingProps,i===null?Ld(n):Tt=i}function Tb(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=G0(a,i,i.pendingProps,i.type,void 0,Rt);break;case 11:i=G0(a,i,i.pendingProps,i.type.render,i.ref,Rt);break;case 5:yp(i);default:J0(a,i),i=Tt=Ov(i,No),i=Q0(a,i,No)}n.memoizedProps=n.pendingProps,i===null?Ld(n):Tt=i}function pl(n,i,a,c){Co=ns=null,yp(i),rl=null,Pu=0;var m=i.return;try{if(mE(n,m,i,a,Rt)){Tn=1,_d(n,li(a,n.current)),Tt=null;return}}catch(b){if(m!==null)throw Tt=m,b;Tn=1,_d(n,li(a,n.current)),Tt=null;return}i.flags&32768?(It||c===1?n=!0:cl||(Rt&536870912)!==0?n=!1:(ma=n=!0,(c===2||c===9||c===3||c===6)&&(c=Vr.current,c!==null&&c.tag===13&&(c.flags|=16384))),Pb(i,n)):Ld(i)}function Ld(n){var i=n;do{if((i.flags&32768)!==0){Pb(i,ma);return}n=i.return;var a=vE(i.alternate,i,No);if(a!==null){Tt=a;return}if(i=i.sibling,i!==null){Tt=i;return}Tt=i=n}while(i!==null);Tn===0&&(Tn=5)}function Pb(n,i){do{var a=bE(n.alternate,n);if(a!==null){a.flags&=32767,Tt=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Tt=n;return}Tt=n=a}while(n!==null);Tn=6,Tt=null}function Rb(n,i,a,c,m,b,M,z,V){n.cancelPendingCommit=null;do Fd();while(Gn!==0);if((Ut&6)!==0)throw Error(o(327));if(i!==null){if(i===n.current)throw Error(o(177));if(b=i.lanes|i.childLanes,b|=vt,Ua(n,a,b,M,z,V),n===tn&&(Tt=tn=null,Rt=0),fl=i,va=n,Io=a,Zp=b,Jp=m,bb=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,DE(Ht,function(){return jb(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,m=J.p,J.p=2,M=Ut,Ut|=4;try{xE(n,i,a)}finally{Ut=M,J.p=m,B.T=c}}Gn=1,Db(),Ab(),Nb()}}function Db(){if(Gn===1){Gn=0;var n=va,i=fl,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var c=J.p;J.p=2;var m=Ut;Ut|=4;try{db(i,n);var b=pm,M=P(n.containerInfo),z=b.focusedElem,V=b.selectionRange;if(M!==z&&z&&z.ownerDocument&&O(z.ownerDocument.documentElement,z)){if(V!==null&&A(z)){var fe=V.start,Ee=V.end;if(Ee===void 0&&(Ee=fe),"selectionStart"in z)z.selectionStart=fe,z.selectionEnd=Math.min(Ee,z.value.length);else{var Re=z.ownerDocument||document,ge=Re&&Re.defaultView||window;if(ge.getSelection){var xe=ge.getSelection(),Je=z.textContent.length,ct=Math.min(V.start,Je),Xt=V.end===void 0?ct:Math.min(V.end,Je);!xe.extend&&ct>Xt&&(M=Xt,Xt=ct,ct=M);var se=S(z,ct),Z=S(z,Xt);if(se&&Z&&(xe.rangeCount!==1||xe.anchorNode!==se.node||xe.anchorOffset!==se.offset||xe.focusNode!==Z.node||xe.focusOffset!==Z.offset)){var de=Re.createRange();de.setStart(se.node,se.offset),xe.removeAllRanges(),ct>Xt?(xe.addRange(de),xe.extend(Z.node,Z.offset)):(de.setEnd(Z.node,Z.offset),xe.addRange(de))}}}}for(Re=[],xe=z;xe=xe.parentNode;)xe.nodeType===1&&Re.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Re.length;z++){var Te=Re[z];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}Wd=!!hm,pm=hm=null}finally{Ut=m,J.p=c,B.T=a}}n.current=i,Gn=2}}function Ab(){if(Gn===2){Gn=0;var n=va,i=fl,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var c=J.p;J.p=2;var m=Ut;Ut|=4;try{ab(n,i.alternate,i)}finally{Ut=m,J.p=c,B.T=a}}Gn=3}}function Nb(){if(Gn===4||Gn===3){Gn=0,un();var n=va,i=fl,a=Io,c=bb;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Gn=5:(Gn=0,fl=va=null,Ib(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(ya=null),Ne(a),i=i.stateNode,At&&typeof At.onCommitFiberRoot=="function")try{At.onCommitFiberRoot(rn,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=B.T,m=J.p,J.p=2,B.T=null;try{for(var b=n.onRecoverableError,M=0;M<c.length;M++){var z=c[M];b(z.value,{componentStack:z.stack})}}finally{B.T=i,J.p=m}}(Io&3)!==0&&Fd(),Xi(n),m=n.pendingLanes,(a&261930)!==0&&(m&42)!==0?n===em?Vu++:(Vu=0,em=n):Vu=0,Yu(0)}}function Ib(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Mu(i)))}function Fd(){return Db(),Ab(),Nb(),jb()}function jb(){if(Gn!==5)return!1;var n=va,i=Zp;Zp=0;var a=Ne(Io),c=B.T,m=J.p;try{J.p=32>a?32:a,B.T=null,a=Jp,Jp=null;var b=va,M=Io;if(Gn=0,fl=va=null,Io=0,(Ut&6)!==0)throw Error(o(331));var z=Ut;if(Ut|=4,gb(b.current),hb(b,b.current,M,a),Ut=z,Yu(0,!1),At&&typeof At.onPostCommitFiberRoot=="function")try{At.onPostCommitFiberRoot(rn,b)}catch{}return!0}finally{J.p=m,B.T=c,Ib(n,i)}}function zb(n,i,a){i=li(a,i),i=Ap(n.stateNode,i,2),n=da(n,i,2),n!==null&&(xr(n,2),Xi(n))}function Vt(n,i,a){if(n.tag===3)zb(n,n,a);else for(;i!==null;){if(i.tag===3){zb(i,n,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ya===null||!ya.has(c))){n=li(a,n),a=L0(2),c=da(i,a,2),c!==null&&(F0(a,c,i,n),xr(c,2),Xi(c));break}}i=i.return}}function rm(n,i,a){var c=n.pingCache;if(c===null){c=n.pingCache=new CE;var m=new Set;c.set(i,m)}else m=c.get(i),m===void 0&&(m=new Set,c.set(i,m));m.has(a)||(Xp=!0,m.add(a),n=TE.bind(null,n,i,a),i.then(n,n))}function TE(n,i,a){var c=n.pingCache;c!==null&&c.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,tn===n&&(Rt&a)===a&&(Tn===4||Tn===3&&(Rt&62914560)===Rt&&300>qt()-Ad?(Ut&2)===0&&hl(n,0):Wp|=a,dl===Rt&&(dl=0)),Xi(n)}function Lb(n,i){i===0&&(i=uo()),n=bn(n,i),n!==null&&(xr(n,i),Xi(n))}function PE(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),Lb(n,a)}function RE(n,i){var a=0;switch(n.tag){case 31:case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(a=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(o(314))}c!==null&&c.delete(i),Lb(n,a)}function DE(n,i){return En(n,i)}var kd=null,ml=null,im=!1,Bd=!1,om=!1,xa=0;function Xi(n){n!==ml&&n.next===null&&(ml===null?kd=ml=n:ml=ml.next=n),Bd=!0,im||(im=!0,NE())}function Yu(n,i){if(!om&&Bd){om=!0;do for(var a=!1,c=kd;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var b=0;else{var M=c.suspendedLanes,z=c.pingedLanes;b=(1<<31-Ye(42|n)+1)-1,b&=m&~(M&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(a=!0,Ub(c,b))}else b=Rt,b=Bi(c,c===tn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Oi(c,b)||(a=!0,Ub(c,b));c=c.next}while(a);om=!1}}function AE(){Fb()}function Fb(){Bd=im=!1;var n=0;xa!==0&&HE()&&(n=xa);for(var i=qt(),a=null,c=kd;c!==null;){var m=c.next,b=kb(c,i);b===0?(c.next=null,a===null?kd=m:a.next=m,m===null&&(ml=a)):(a=c,(n!==0||(b&3)!==0)&&(Bd=!0)),c=m}Gn!==0&&Gn!==5||Yu(n),xa!==0&&(xa=0)}function kb(n,i){for(var a=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var M=31-Ye(b),z=1<<M,V=m[M];V===-1?((z&a)===0||(z&c)!==0)&&(m[M]=Ds(z,i)):V<=i&&(n.expiredLanes|=z),b&=~z}if(i=tn,a=Rt,a=Bi(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,a===0||n===i&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ln(c),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Oi(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(c!==null&&ln(c),Ne(a)){case 2:case 8:a=jt;break;case 32:a=Ht;break;case 268435456:a=ur;break;default:a=Ht}return c=Bb.bind(null,n),a=En(a,c),n.callbackPriority=i,n.callbackNode=a,i}return c!==null&&c!==null&&ln(c),n.callbackPriority=2,n.callbackNode=null,2}function Bb(n,i){if(Gn!==0&&Gn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Fd()&&n.callbackNode!==a)return null;var c=Rt;return c=Bi(n,n===tn?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(wb(n,c,i),kb(n,qt()),n.callbackNode!=null&&n.callbackNode===a?Bb.bind(null,n):null)}function Ub(n,i){if(Fd())return null;wb(n,i,!0)}function NE(){GE(function(){(Ut&6)!==0?En(qn,AE):Fb()})}function am(){if(xa===0){var n=el;n===0&&(n=Le,Le<<=1,(Le&261888)===0&&(Le=256)),xa=n}return xa}function $b(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ti(""+n)}function Hb(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function IE(n,i,a,c,m){if(i==="submit"&&a&&a.stateNode===m){var b=$b((m[Ke]||null).action),M=c.submitter;M&&(i=(i=M[Ke]||null)?$b(i.formAction):M.getAttribute("formAction"),i!==null&&(b=i,M=null));var z=new js("action","action",null,c,m);n.push({event:z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(xa!==0){var V=M?Hb(m,M):new FormData(m);Op(a,{pending:!0,data:V,method:m.method,action:b},null,V)}}else typeof b=="function"&&(z.preventDefault(),V=M?Hb(m,M):new FormData(m),Op(a,{pending:!0,data:V,method:m.method,action:b},b,V))},currentTarget:m}]})}}for(var sm=0;sm<qe.length;sm++){var lm=qe[sm],jE=lm.toLowerCase(),zE=lm[0].toUpperCase()+lm.slice(1);ze(jE,"on"+zE)}ze(ue,"onAnimationEnd"),ze(me,"onAnimationIteration"),ze(Se,"onAnimationStart"),ze("dblclick","onDoubleClick"),ze("focusin","onFocus"),ze("focusout","onBlur"),ze(Pe,"onTransitionRun"),ze(ke,"onTransitionStart"),ze(Ve,"onTransitionCancel"),ze(je,"onTransitionEnd"),cr("onMouseEnter",["mouseout","mouseover"]),cr("onMouseLeave",["mouseout","mouseover"]),cr("onPointerEnter",["pointerout","pointerover"]),cr("onPointerLeave",["pointerout","pointerover"]),wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wr("onBeforeInput",["compositionend","keypress","textInput","paste"]),wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function qb(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],m=c.event;c=c.listeners;e:{var b=void 0;if(i)for(var M=c.length-1;0<=M;M--){var z=c[M],V=z.instance,fe=z.currentTarget;if(z=z.listener,V!==b&&m.isPropagationStopped())break e;b=z,m.currentTarget=fe;try{b(m)}catch(Ee){We(Ee)}m.currentTarget=null,b=V}else for(M=0;M<c.length;M++){if(z=c[M],V=z.instance,fe=z.currentTarget,z=z.listener,V!==b&&m.isPropagationStopped())break e;b=z,m.currentTarget=fe;try{b(m)}catch(Ee){We(Ee)}m.currentTarget=null,b=V}}}}function Pt(n,i){var a=i[ot];a===void 0&&(a=i[ot]=new Set);var c=n+"__bubble";a.has(c)||(Gb(i,n,2,!1),a.add(c))}function um(n,i,a){var c=0;i&&(c|=4),Gb(a,n,c,i)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[Ud]){n[Ud]=!0,Kn.forEach(function(a){a!=="selectionchange"&&(LE.has(a)||um(a,!1,n),um(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Ud]||(i[Ud]=!0,um("selectionchange",!1,i))}}function Gb(n,i,a,c){switch(xx(i)){case 2:var m=dO;break;case 8:m=fO;break;default:m=Em}a=m.bind(null,i,a,n),m=void 0,!cu||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(i,a,{capture:!0,passive:m}):n.addEventListener(i,a,!0):m!==void 0?n.addEventListener(i,a,{passive:m}):n.addEventListener(i,a,!1)}function dm(n,i,a,c,m){var b=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var z=c.stateNode.containerInfo;if(z===m)break;if(M===4)for(M=c.return;M!==null;){var V=M.tag;if((V===3||V===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;z!==null;){if(M=on(z),M===null)return;if(V=M.tag,V===5||V===6||V===26||V===27){c=b=M;continue e}z=z.parentNode}}c=c.return}Wo(function(){var fe=b,Ee=Ns(a),Re=[];e:{var ge=Be.get(n);if(ge!==void 0){var xe=js,Je=n;switch(n){case"keypress":if(Jo(a)===0)break e;case"keydown":case"keyup":xe=$s;break;case"focusin":Je="focus",xe=ea;break;case"focusout":Je="blur",xe=ea;break;case"beforeblur":case"afterblur":xe=ea;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Fs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=yu;break;case ue:case me:case Se:xe=Xc;break;case je:xe=vu;break;case"scroll":case"scrollend":xe=zs;break;case"wheel":xe=qs;break;case"copy":case"cut":case"paste":xe=ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=gu;break;case"toggle":case"beforetoggle":xe=Zc}var ct=(i&4)!==0,Xt=!ct&&(n==="scroll"||n==="scrollend"),se=ct?ge!==null?ge+"Capture":null:ge;ct=[];for(var Z=fe,de;Z!==null;){var Te=Z;if(de=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||de===null||se===null||(Te=mo(Z,se),Te!=null&&ct.push(Xu(Z,Te,de))),Xt)break;Z=Z.return}0<ct.length&&(ge=new xe(ge,Je,null,a,Ee),Re.push({event:ge,listeners:ct}))}}if((i&7)===0){e:{if(ge=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",ge&&a!==oi&&(Je=a.relatedTarget||a.fromElement)&&(on(Je)||Je[Qe]))break e;if((xe||ge)&&(ge=Ee.window===Ee?Ee:(ge=Ee.ownerDocument)?ge.defaultView||ge.parentWindow:window,xe?(Je=a.relatedTarget||a.toElement,xe=fe,Je=Je?on(Je):null,Je!==null&&(Xt=l(Je),ct=Je.tag,Je!==Xt||ct!==5&&ct!==27&&ct!==6)&&(Je=null)):(xe=null,Je=fe),xe!==Je)){if(ct=Fs,Te="onMouseLeave",se="onMouseEnter",Z="mouse",(n==="pointerout"||n==="pointerover")&&(ct=gu,Te="onPointerLeave",se="onPointerEnter",Z="pointer"),Xt=xe==null?ge:an(xe),de=Je==null?ge:an(Je),ge=new ct(Te,Z+"leave",xe,a,Ee),ge.target=Xt,ge.relatedTarget=de,Te=null,on(Ee)===fe&&(ct=new ct(se,Z+"enter",Je,a,Ee),ct.target=de,ct.relatedTarget=Xt,Te=ct),Xt=Te,xe&&Je)t:{for(ct=FE,se=xe,Z=Je,de=0,Te=se;Te;Te=ct(Te))de++;Te=0;for(var ut=Z;ut;ut=ct(ut))Te++;for(;0<de-Te;)se=ct(se),de--;for(;0<Te-de;)Z=ct(Z),Te--;for(;de--;){if(se===Z||Z!==null&&se===Z.alternate){ct=se;break t}se=ct(se),Z=ct(Z)}ct=null}else ct=null;xe!==null&&Vb(Re,ge,xe,ct,!1),Je!==null&&Xt!==null&&Vb(Re,Xt,Je,ct,!0)}}e:{if(ge=fe?an(fe):window,xe=ge.nodeName&&ge.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ge.type==="file")var zt=Za;else if(Ys(ge))if(si)zt=ia;else{zt=xo;var rt=id}else xe=ge.nodeName,!xe||xe.toLowerCase()!=="input"||ge.type!=="checkbox"&&ge.type!=="radio"?fe&&uu(fe.elementType)&&(zt=Za):zt=Cu;if(zt&&(zt=zt(n,fe))){Su(Re,zt,a,Ee);break e}rt&&rt(n,ge,fe),n==="focusout"&&fe&&ge.type==="number"&&fe.memoizedProps.value!=null&&qa(ge,"number",ge.value)}switch(rt=fe?an(fe):window,n){case"focusin":(Ys(rt)||rt.contentEditable==="true")&&(q=rt,X=fe,W=null);break;case"focusout":W=X=q=null;break;case"mousedown":ie=!0;break;case"contextmenu":case"mouseup":case"dragend":ie=!1,Y(Re,a,Ee);break;case"selectionchange":if(k)break;case"keydown":case"keyup":Y(Re,a,Ee)}var wt;if(Wa)e:{switch(n){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else bo?wu(n,a)&&(Dt="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Dt="onCompositionStart");Dt&&(Gs&&a.locale!=="ko"&&(bo||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&bo&&(wt=Zo()):(ai=Ee,Is="value"in ai?ai.value:ai.textContent,bo=!0)),rt=$d(fe,Dt),0<rt.length&&(Dt=new Us(Dt,n,null,a,Ee),Re.push({event:Dt,listeners:rt}),wt?Dt.data=wt:(wt=ed(a),wt!==null&&(Dt.data=wt)))),(wt=Hh?td(n,a):qh(n,a))&&(Dt=$d(fe,"onBeforeInput"),0<Dt.length&&(rt=new Us("onBeforeInput","beforeinput",null,a,Ee),Re.push({event:rt,listeners:Dt}),rt.data=wt)),IE(Re,n,fe,a,Ee)}qb(Re,i)})}function Xu(n,i,a){return{instance:n,listener:i,currentTarget:a}}function $d(n,i){for(var a=i+"Capture",c=[];n!==null;){var m=n,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=mo(n,a),m!=null&&c.unshift(Xu(n,m,b)),m=mo(n,i),m!=null&&c.push(Xu(n,m,b))),n.tag===3)return c;n=n.return}return[]}function FE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function Vb(n,i,a,c,m){for(var b=i._reactName,M=[];a!==null&&a!==c;){var z=a,V=z.alternate,fe=z.stateNode;if(z=z.tag,V!==null&&V===c)break;z!==5&&z!==26&&z!==27||fe===null||(V=fe,m?(fe=mo(a,b),fe!=null&&M.unshift(Xu(a,fe,V))):m||(fe=mo(a,b),fe!=null&&M.push(Xu(a,fe,V)))),a=a.return}M.length!==0&&n.push({event:i,listeners:M})}var kE=/\r\n?/g,BE=/\u0000|\uFFFD/g;function Yb(n){return(typeof n=="string"?n:""+n).replace(kE,`
`).replace(BE,"")}function Kb(n,i){return i=Yb(i),Yb(n)===i}function Kt(n,i,a,c,m,b){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||fo(n,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&fo(n,""+c);break;case"className":Pr(n,"class",c);break;case"tabIndex":Pr(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(n,a,c);break;case"style":lu(n,c,b);break;case"data":if(i!=="object"){Pr(n,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Ti(""+c),n.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(a==="formAction"?(i!=="input"&&Kt(n,i,"name",m.name,m,null),Kt(n,i,"formEncType",m.formEncType,m,null),Kt(n,i,"formMethod",m.formMethod,m,null),Kt(n,i,"formTarget",m.formTarget,m,null)):(Kt(n,i,"encType",m.encType,m,null),Kt(n,i,"method",m.method,m,null),Kt(n,i,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(a);break}c=Ti(""+c),n.setAttribute(a,c);break;case"onClick":c!=null&&(n.onclick=Rr);break;case"onScroll":c!=null&&Pt("scroll",n);break;case"onScrollEnd":c!=null&&Pt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}a=Ti(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""+c):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":c===!0?n.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(a,c):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(a,c):n.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(a):n.setAttribute(a,c);break;case"popover":Pt("beforetoggle",n),Pt("toggle",n),st(n,"popover",c);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":st(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Bh.get(a)||a,st(n,a,c))}}function fm(n,i,a,c,m,b){switch(a){case"style":lu(n,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(o(61));if(a=c.__html,a!=null){if(m.children!=null)throw Error(o(60));n.innerHTML=a}}break;case"children":typeof c=="string"?fo(n,c):(typeof c=="number"||typeof c=="bigint")&&fo(n,""+c);break;case"onScroll":c!=null&&Pt("scroll",n);break;case"onScrollEnd":c!=null&&Pt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(m=a.endsWith("Capture"),i=a.slice(2,m?a.length-7:void 0),b=n[Ke]||null,b=b!=null?b[a]:null,typeof b=="function"&&n.removeEventListener(i,b,m),typeof c=="function")){typeof b!="function"&&b!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,c,m);break e}a in n?n[a]=c:c===!0?n.setAttribute(a,""):st(n,a,c)}}}function sr(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",n),Pt("load",n);var c=!1,m=!1,b;for(b in a)if(a.hasOwnProperty(b)){var M=a[b];if(M!=null)switch(b){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Kt(n,i,b,M,a,null)}}m&&Kt(n,i,"srcSet",a.srcSet,a,null),c&&Kt(n,i,"src",a.src,a,null);return;case"input":Pt("invalid",n);var z=b=M=m=null,V=null,fe=null;for(c in a)if(a.hasOwnProperty(c)){var Ee=a[c];if(Ee!=null)switch(c){case"name":m=Ee;break;case"type":M=Ee;break;case"checked":V=Ee;break;case"defaultChecked":fe=Ee;break;case"value":b=Ee;break;case"defaultValue":z=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(o(137,i));break;default:Kt(n,i,c,Ee,a,null)}}As(n,b,z,V,fe,M,m,!1);return;case"select":Pt("invalid",n),c=M=b=null;for(m in a)if(a.hasOwnProperty(m)&&(z=a[m],z!=null))switch(m){case"value":b=z;break;case"defaultValue":M=z;break;case"multiple":c=z;default:Kt(n,i,m,z,a,null)}i=b,a=M,n.multiple=!!c,i!=null?Mi(n,!!c,i,!1):a!=null&&Mi(n,!!c,a,!0);return;case"textarea":Pt("invalid",n),b=m=c=null;for(M in a)if(a.hasOwnProperty(M)&&(z=a[M],z!=null))switch(M){case"value":c=z;break;case"defaultValue":m=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(o(91));break;default:Kt(n,i,M,z,a,null)}Ga(n,c,m,b);return;case"option":for(V in a)a.hasOwnProperty(V)&&(c=a[V],c!=null)&&(V==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":Kt(n,i,V,c,a,null));return;case"dialog":Pt("beforetoggle",n),Pt("toggle",n),Pt("cancel",n),Pt("close",n);break;case"iframe":case"object":Pt("load",n);break;case"video":case"audio":for(c=0;c<Ku.length;c++)Pt(Ku[c],n);break;case"image":Pt("error",n),Pt("load",n);break;case"details":Pt("toggle",n);break;case"embed":case"source":case"link":Pt("error",n),Pt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in a)if(a.hasOwnProperty(fe)&&(c=a[fe],c!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,i));default:Kt(n,i,fe,c,a,null)}return;default:if(uu(i)){for(Ee in a)a.hasOwnProperty(Ee)&&(c=a[Ee],c!==void 0&&fm(n,i,Ee,c,a,void 0));return}}for(z in a)a.hasOwnProperty(z)&&(c=a[z],c!=null&&Kt(n,i,z,c,a,null))}function UE(n,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,M=null,z=null,V=null,fe=null,Ee=null;for(xe in a){var Re=a[xe];if(a.hasOwnProperty(xe)&&Re!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":V=Re;default:c.hasOwnProperty(xe)||Kt(n,i,xe,null,c,Re)}}for(var ge in c){var xe=c[ge];if(Re=a[ge],c.hasOwnProperty(ge)&&(xe!=null||Re!=null))switch(ge){case"type":b=xe;break;case"name":m=xe;break;case"checked":fe=xe;break;case"defaultChecked":Ee=xe;break;case"value":M=xe;break;case"defaultValue":z=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(o(137,i));break;default:xe!==Re&&Kt(n,i,ge,xe,c,Re)}}$i(n,M,z,V,fe,Ee,b,m);return;case"select":xe=M=z=ge=null;for(b in a)if(V=a[b],a.hasOwnProperty(b)&&V!=null)switch(b){case"value":break;case"multiple":xe=V;default:c.hasOwnProperty(b)||Kt(n,i,b,null,c,V)}for(m in c)if(b=c[m],V=a[m],c.hasOwnProperty(m)&&(b!=null||V!=null))switch(m){case"value":ge=b;break;case"defaultValue":z=b;break;case"multiple":M=b;default:b!==V&&Kt(n,i,m,b,c,V)}i=z,a=M,c=xe,ge!=null?Mi(n,!!a,ge,!1):!!c!=!!a&&(i!=null?Mi(n,!!a,i,!0):Mi(n,!!a,a?[]:"",!1));return;case"textarea":xe=ge=null;for(z in a)if(m=a[z],a.hasOwnProperty(z)&&m!=null&&!c.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Kt(n,i,z,null,c,m)}for(M in c)if(m=c[M],b=a[M],c.hasOwnProperty(M)&&(m!=null||b!=null))switch(M){case"value":ge=m;break;case"defaultValue":xe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(o(91));break;default:m!==b&&Kt(n,i,M,m,c,b)}su(n,ge,xe);return;case"option":for(var Je in a)ge=a[Je],a.hasOwnProperty(Je)&&ge!=null&&!c.hasOwnProperty(Je)&&(Je==="selected"?n.selected=!1:Kt(n,i,Je,null,c,ge));for(V in c)ge=c[V],xe=a[V],c.hasOwnProperty(V)&&ge!==xe&&(ge!=null||xe!=null)&&(V==="selected"?n.selected=ge&&typeof ge!="function"&&typeof ge!="symbol":Kt(n,i,V,ge,c,xe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in a)ge=a[ct],a.hasOwnProperty(ct)&&ge!=null&&!c.hasOwnProperty(ct)&&Kt(n,i,ct,null,c,ge);for(fe in c)if(ge=c[fe],xe=a[fe],c.hasOwnProperty(fe)&&ge!==xe&&(ge!=null||xe!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(o(137,i));break;default:Kt(n,i,fe,ge,c,xe)}return;default:if(uu(i)){for(var Xt in a)ge=a[Xt],a.hasOwnProperty(Xt)&&ge!==void 0&&!c.hasOwnProperty(Xt)&&fm(n,i,Xt,void 0,c,ge);for(Ee in c)ge=c[Ee],xe=a[Ee],!c.hasOwnProperty(Ee)||ge===xe||ge===void 0&&xe===void 0||fm(n,i,Ee,ge,c,xe);return}}for(var se in a)ge=a[se],a.hasOwnProperty(se)&&ge!=null&&!c.hasOwnProperty(se)&&Kt(n,i,se,null,c,ge);for(Re in c)ge=c[Re],xe=a[Re],!c.hasOwnProperty(Re)||ge===xe||ge==null&&xe==null||Kt(n,i,Re,ge,c,xe)}function Xb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $E(){if(typeof performance.getEntriesByType=="function"){for(var n=0,i=0,a=performance.getEntriesByType("resource"),c=0;c<a.length;c++){var m=a[c],b=m.transferSize,M=m.initiatorType,z=m.duration;if(b&&z&&Xb(M)){for(M=0,z=m.responseEnd,c+=1;c<a.length;c++){var V=a[c],fe=V.startTime;if(fe>z)break;var Ee=V.transferSize,Re=V.initiatorType;Ee&&Xb(Re)&&(V=V.responseEnd,M+=Ee*(V<z?1:(z-fe)/(V-fe)))}if(--c,i+=8*(b+M)/(m.duration/1e3),n++,10<n)break}}if(0<n)return i/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var hm=null,pm=null;function Hd(n){return n.nodeType===9?n:n.ownerDocument}function Wb(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function mm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function HE(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var Zb=typeof setTimeout=="function"?setTimeout:void 0,qE=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,GE=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(n){return Jb.resolve(null).then(n).catch(VE)}:Zb;function VE(n){setTimeout(function(){throw n})}function wa(n){return n==="head"}function ex(n,i){var a=i,c=0;do{var m=a.nextSibling;if(n.removeChild(a),m&&m.nodeType===8)if(a=m.data,a==="/$"||a==="/&"){if(c===0){n.removeChild(m),bl(i);return}c--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")c++;else if(a==="html")Wu(n.ownerDocument.documentElement);else if(a==="head"){a=n.ownerDocument.head,Wu(a);for(var b=a.firstChild;b;){var M=b.nextSibling,z=b.nodeName;b[kt]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=M}}else a==="body"&&Wu(n.ownerDocument.body);a=m}while(a);bl(i)}function tx(n,i){var a=n;n=0;do{var c=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),c&&c.nodeType===8)if(a=c.data,a==="/$"){if(n===0)break;n--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||n++;a=c}while(a)}function ym(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ym(a),cn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function YE(n,i,a,c){for(;n.nodeType===1;){var m=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[kt])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=hi(n.nextSibling),n===null)break}return null}function KE(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=hi(n.nextSibling),n===null))return null;return n}function nx(n,i){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!i||(n=hi(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$?"||n.data==="$~"}function bm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function XE(n,i){var a=n.ownerDocument;if(n.data==="$~")n._reactRetry=i;else if(n.data!=="$?"||a.readyState!=="loading")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function hi(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return n}var xm=null;function rx(n){n=n.nextSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"||a==="/&"){if(i===0)return hi(n.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}n=n.nextSibling}return null}function ix(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return n;i--}else a!=="/$"&&a!=="/&"||i++}n=n.previousSibling}return null}function ox(n,i,a){switch(i=Hd(a),n){case"html":if(n=i.documentElement,!n)throw Error(o(452));return n;case"head":if(n=i.head,!n)throw Error(o(453));return n;case"body":if(n=i.body,!n)throw Error(o(454));return n;default:throw Error(o(451))}}function Wu(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);cn(n)}var pi=new Map,ax=new Set;function qd(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var jo=J.d;J.d={f:WE,r:QE,D:ZE,C:JE,L:eO,m:tO,X:rO,S:nO,M:iO};function WE(){var n=jo.f(),i=jd();return n||i}function QE(n){var i=at(n);i!==null&&i.tag===5&&i.type==="form"?C0(i):jo.r(n)}var gl=typeof document>"u"?null:document;function sx(n,i,a){var c=gl;if(c&&typeof i=="string"&&i){var m=Wn(i);m='link[rel="'+n+'"][href="'+m+'"]',typeof a=="string"&&(m+='[crossorigin="'+a+'"]'),ax.has(m)||(ax.add(m),n={rel:n,crossOrigin:a,href:i},c.querySelector(m)===null&&(i=c.createElement("link"),sr(i,"link",n),en(i),c.head.appendChild(i)))}}function ZE(n){jo.D(n),sx("dns-prefetch",n,null)}function JE(n,i){jo.C(n,i),sx("preconnect",n,i)}function eO(n,i,a){jo.L(n,i,a);var c=gl;if(c&&n&&i){var m='link[rel="preload"][as="'+Wn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(m+='[imagesrcset="'+Wn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(m+='[imagesizes="'+Wn(a.imageSizes)+'"]')):m+='[href="'+Wn(n)+'"]';var b=m;switch(i){case"style":b=yl(n);break;case"script":b=vl(n)}pi.has(b)||(n=y({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),pi.set(b,n),c.querySelector(m)!==null||i==="style"&&c.querySelector(Qu(b))||i==="script"&&c.querySelector(Zu(b))||(i=c.createElement("link"),sr(i,"link",n),en(i),c.head.appendChild(i)))}}function tO(n,i){jo.m(n,i);var a=gl;if(a&&n){var c=i&&typeof i.as=="string"?i.as:"script",m='link[rel="modulepreload"][as="'+Wn(c)+'"][href="'+Wn(n)+'"]',b=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=vl(n)}if(!pi.has(b)&&(n=y({rel:"modulepreload",href:n},i),pi.set(b,n),a.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Zu(b)))return}c=a.createElement("link"),sr(c,"link",n),en(c),a.head.appendChild(c)}}}function nO(n,i,a){jo.S(n,i,a);var c=gl;if(c&&n){var m=vn(c).hoistableStyles,b=yl(n);i=i||"default";var M=m.get(b);if(!M){var z={loading:0,preload:null};if(M=c.querySelector(Qu(b)))z.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":i},a),(a=pi.get(b))&&wm(n,a);var V=M=c.createElement("link");en(V),sr(V,"link",n),V._p=new Promise(function(fe,Ee){V.onload=fe,V.onerror=Ee}),V.addEventListener("load",function(){z.loading|=1}),V.addEventListener("error",function(){z.loading|=2}),z.loading|=4,Gd(M,i,c)}M={type:"stylesheet",instance:M,count:1,state:z},m.set(b,M)}}}function rO(n,i){jo.X(n,i);var a=gl;if(a&&n){var c=vn(a).hoistableScripts,m=vl(n),b=c.get(m);b||(b=a.querySelector(Zu(m)),b||(n=y({src:n,async:!0},i),(i=pi.get(m))&&Sm(n,i),b=a.createElement("script"),en(b),sr(b,"link",n),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function iO(n,i){jo.M(n,i);var a=gl;if(a&&n){var c=vn(a).hoistableScripts,m=vl(n),b=c.get(m);b||(b=a.querySelector(Zu(m)),b||(n=y({src:n,async:!0,type:"module"},i),(i=pi.get(m))&&Sm(n,i),b=a.createElement("script"),en(b),sr(b,"link",n),a.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function lx(n,i,a,c){var m=(m=He.current)?qd(m):null;if(!m)throw Error(o(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=yl(a.href),a=vn(m).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=yl(a.href);var b=vn(m).hoistableStyles,M=b.get(n);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,M),(b=m.querySelector(Qu(n)))&&!b._p&&(M.instance=b,M.state.loading=5),pi.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},pi.set(n,a),b||oO(m,n,a,M.state))),i&&c===null)throw Error(o(528,""));return M}if(i&&c!==null)throw Error(o(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=vl(a),a=vn(m).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,n))}}function yl(n){return'href="'+Wn(n)+'"'}function Qu(n){return'link[rel="stylesheet"]['+n+"]"}function ux(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function oO(n,i,a,c){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=n.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),sr(i,"link",a),en(i),n.head.appendChild(i))}function vl(n){return'[src="'+Wn(n)+'"]'}function Zu(n){return"script[async]"+n}function cx(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=n.querySelector('style[data-href~="'+Wn(a.href)+'"]');if(c)return i.instance=c,en(c),c;var m=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),en(c),sr(c,"style",m),Gd(c,a.precedence,n),i.instance=c;case"stylesheet":m=yl(a.href);var b=n.querySelector(Qu(m));if(b)return i.state.loading|=4,i.instance=b,en(b),b;c=ux(a),(m=pi.get(m))&&wm(c,m),b=(n.ownerDocument||n).createElement("link"),en(b);var M=b;return M._p=new Promise(function(z,V){M.onload=z,M.onerror=V}),sr(b,"link",c),i.state.loading|=4,Gd(b,a.precedence,n),i.instance=b;case"script":return b=vl(a.src),(m=n.querySelector(Zu(b)))?(i.instance=m,en(m),m):(c=a,(m=pi.get(b))&&(c=y({},a),Sm(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),en(m),sr(m,"link",c),n.head.appendChild(m),i.instance=m);case"void":return null;default:throw Error(o(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Gd(c,a.precedence,n));return i.instance}function Gd(n,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,b=m,M=0;M<c.length;M++){var z=c[M];if(z.dataset.precedence===i)b=z;else if(b!==m)break}b?b.parentNode.insertBefore(n,b.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function wm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Sm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Vd=null;function dx(n,i,a){if(Vd===null){var c=new Map,m=Vd=new Map;m.set(a,c)}else m=Vd,c=m.get(a),c||(c=new Map,m.set(a,c));if(c.has(n))return c;for(c.set(n,null),a=a.getElementsByTagName(n),m=0;m<a.length;m++){var b=a[m];if(!(b[kt]||b[$e]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(i)||"";M=n+M;var z=c.get(M);z?z.push(b):c.set(M,[b])}}return c}function fx(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function aO(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;return i.rel==="stylesheet"?(n=i.disabled,typeof i.precedence=="string"&&n==null):!0;case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function hx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function sO(n,i,a,c){if(a.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var m=yl(c.href),b=i.querySelector(Qu(m));if(b){i=b._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(n.count++,n=Yd.bind(n),i.then(n,n)),a.state.loading|=4,a.instance=b,en(b);return}b=i.ownerDocument||i,c=ux(c),(m=pi.get(m))&&wm(c,m),b=b.createElement("link"),en(b);var M=b;M._p=new Promise(function(z,V){M.onload=z,M.onerror=V}),sr(b,"link",c),a.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(n.count++,a=Yd.bind(n),i.addEventListener("load",a),i.addEventListener("error",a))}}var Cm=0;function lO(n,i){return n.stylesheets&&n.count===0&&Xd(n,n.stylesheets),0<n.count||0<n.imgCount?function(a){var c=setTimeout(function(){if(n.stylesheets&&Xd(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+i);0<n.imgBytes&&Cm===0&&(Cm=62500*$E());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Xd(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>Cm?50:800)+i);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function Yd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Kd=null;function Xd(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Kd=new Map,i.forEach(uO,n),Kd=null,Yd.call(n))}function uO(n,i){if(!(i.state.loading&4)){var a=Kd.get(n);if(a)var c=a.get(null);else{a=new Map,Kd.set(n,a);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var M=m[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(a.set(M.dataset.precedence,M),c=M)}c&&a.set(null,c)}m=i.instance,M=m.getAttribute("data-precedence"),b=a.get(M)||c,b===c&&a.set(null,m),a.set(M,m),this.count++,c=Yd.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),b?b.parentNode.insertBefore(m,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),i.state.loading|=4}}var Ju={$$typeof:j,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function cO(n,i,a,c,m,b,M,z,V){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function px(n,i,a,c,m,b,M,z,V,fe,Ee,Re){return n=new cO(n,i,a,M,V,fe,Ee,Re,z),i=1,b===!0&&(i|=24),b=Gr(3,null,null,i),n.current=b,b.stateNode=n,i=np(),i.refCount++,n.pooledCache=i,i.refCount++,b.memoizedState={element:c,isDehydrated:a,cache:i},ap(b),n}function mx(n){return n?(n=Dr,n):Dr}function gx(n,i,a,c,m,b){m=mx(m),c.context===null?c.context=m:c.pendingContext=m,c=ca(i),c.payload={element:a},b=b===void 0?null:b,b!==null&&(c.callback=b),a=da(n,c,i),a!==null&&(zr(a,n,i),Du(a,n,i))}function yx(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function _m(n,i){yx(n,i),(n=n.alternate)&&yx(n,i)}function vx(n){if(n.tag===13||n.tag===31){var i=bn(n,67108864);i!==null&&zr(i,n,67108864),_m(n,67108864)}}function bx(n){if(n.tag===13||n.tag===31){var i=Wr();i=ye(i);var a=bn(n,i);a!==null&&zr(a,n,i),_m(n,i)}}var Wd=!0;function dO(n,i,a,c){var m=B.T;B.T=null;var b=J.p;try{J.p=2,Em(n,i,a,c)}finally{J.p=b,B.T=m}}function fO(n,i,a,c){var m=B.T;B.T=null;var b=J.p;try{J.p=8,Em(n,i,a,c)}finally{J.p=b,B.T=m}}function Em(n,i,a,c){if(Wd){var m=Om(c);if(m===null)dm(n,i,c,Qd,a),wx(n,c);else if(pO(m,n,i,a,c))c.stopPropagation();else if(wx(n,c),i&4&&-1<hO.indexOf(n)){for(;m!==null;){var b=at(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=$r(b.pendingLanes);if(M!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;M;){var V=1<<31-Ye(M);z.entanglements[1]|=V,M&=~V}Xi(b),(Ut&6)===0&&(Nd=qt()+500,Yu(0))}}break;case 31:case 13:z=bn(b,2),z!==null&&zr(z,b,2),jd(),_m(b,2)}if(b=Om(c),b===null&&dm(n,i,c,Qd,a),b===m)break;m=b}m!==null&&c.stopPropagation()}else dm(n,i,c,null,a)}}function Om(n){return n=Ns(n),Mm(n)}var Qd=null;function Mm(n){if(Qd=null,n=on(n),n!==null){var i=l(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=u(i),n!==null)return n;n=null}else if(a===31){if(n=d(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Qd=n,null}function xx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_t()){case qn:return 2;case jt:return 8;case Ht:case On:return 32;case ur:return 268435456;default:return 32}default:return 32}}var Tm=!1,Sa=null,Ca=null,_a=null,ec=new Map,tc=new Map,Ea=[],hO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function wx(n,i){switch(n){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":ec.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(i.pointerId)}}function nc(n,i,a,c,m,b){return n===null||n.nativeEvent!==b?(n={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:b,targetContainers:[m]},i!==null&&(i=at(i),i!==null&&vx(i)),n):(n.eventSystemFlags|=c,i=n.targetContainers,m!==null&&i.indexOf(m)===-1&&i.push(m),n)}function pO(n,i,a,c,m){switch(i){case"focusin":return Sa=nc(Sa,n,i,a,c,m),!0;case"dragenter":return Ca=nc(Ca,n,i,a,c,m),!0;case"mouseover":return _a=nc(_a,n,i,a,c,m),!0;case"pointerover":var b=m.pointerId;return ec.set(b,nc(ec.get(b)||null,n,i,a,c,m)),!0;case"gotpointercapture":return b=m.pointerId,tc.set(b,nc(tc.get(b)||null,n,i,a,c,m)),!0}return!1}function Sx(n){var i=on(n.target);if(i!==null){var a=l(i);if(a!==null){if(i=a.tag,i===13){if(i=u(a),i!==null){n.blockedOn=i,et(n.priority,function(){bx(a)});return}}else if(i===31){if(i=d(a),i!==null){n.blockedOn=i,et(n.priority,function(){bx(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Zd(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=Om(n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);oi=c,a.target.dispatchEvent(c),oi=null}else return i=at(a),i!==null&&vx(i),n.blockedOn=a,!1;i.shift()}return!0}function Cx(n,i,a){Zd(n)&&a.delete(i)}function mO(){Tm=!1,Sa!==null&&Zd(Sa)&&(Sa=null),Ca!==null&&Zd(Ca)&&(Ca=null),_a!==null&&Zd(_a)&&(_a=null),ec.forEach(Cx),tc.forEach(Cx)}function Jd(n,i){n.blockedOn===i&&(n.blockedOn=null,Tm||(Tm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,mO)))}var ef=null;function _x(n){ef!==n&&(ef=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ef===n&&(ef=null);for(var i=0;i<n.length;i+=3){var a=n[i],c=n[i+1],m=n[i+2];if(typeof c!="function"){if(Mm(c||a)===null)continue;break}var b=at(a);b!==null&&(n.splice(i,3),i-=3,Op(b,{pending:!0,data:m,method:a.method,action:c},c,m))}}))}function bl(n){function i(V){return Jd(V,n)}Sa!==null&&Jd(Sa,n),Ca!==null&&Jd(Ca,n),_a!==null&&Jd(_a,n),ec.forEach(i),tc.forEach(i);for(var a=0;a<Ea.length;a++){var c=Ea[a];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Ea.length&&(a=Ea[0],a.blockedOn===null);)Sx(a),a.blockedOn===null&&Ea.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var m=a[c],b=a[c+1],M=m[Ke]||null;if(typeof b=="function")M||_x(a);else if(M){var z=null;if(b&&b.hasAttribute("formAction")){if(m=b,M=b[Ke]||null)z=M.formAction;else if(Mm(m)!==null)continue}else z=M.action;typeof z=="function"?a[c+1]=z:(a.splice(c,3),c-=3),_x(a)}}}function Ex(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return m=M})},focusReset:"manual",scroll:"manual"})}function i(){m!==null&&(m(),m=null),c||setTimeout(a,20)}function a(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),m!==null&&(m(),m=null)}}}function Pm(n){this._internalRoot=n}tf.prototype.render=Pm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(o(409));var a=i.current,c=Wr();gx(a,c,n,i,null,null)},tf.prototype.unmount=Pm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;gx(n.current,2,null,n,null,null),jd(),i[Qe]=null}};function tf(n){this._internalRoot=n}tf.prototype.unstable_scheduleHydration=function(n){if(n){var i=Fe();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Ea.length&&i!==0&&i<Ea[a].priority;a++);Ea.splice(a,0,n),a===0&&Sx(n)}};var Ox=t.version;if(Ox!=="19.2.3")throw Error(o(527,Ox,"19.2.3"));J.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(o(188)):(n=Object.keys(n).join(","),Error(o(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var gO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nf.isDisabled&&nf.supportsFiber)try{rn=nf.inject(gO),At=nf}catch{}}return ic.createRoot=function(n,i){if(!s(n))throw Error(o(299));var a=!1,c="",m=N0,b=I0,M=j0;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(m=i.onUncaughtError),i.onCaughtError!==void 0&&(b=i.onCaughtError),i.onRecoverableError!==void 0&&(M=i.onRecoverableError)),i=px(n,1,!1,null,null,a,c,null,m,b,M,Ex),n[Qe]=i.current,cm(n),new Pm(i)},ic.hydrateRoot=function(n,i,a){if(!s(n))throw Error(o(299));var c=!1,m="",b=N0,M=I0,z=j0,V=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onUncaughtError!==void 0&&(b=a.onUncaughtError),a.onCaughtError!==void 0&&(M=a.onCaughtError),a.onRecoverableError!==void 0&&(z=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),i=px(n,1,!0,i,a??null,c,m,V,b,M,z,Ex),i.context=mx(null),a=i.current,c=Wr(),c=ye(c),m=ca(c),m.callback=null,da(a,m,c),a=c,i.current.lanes=a,xr(i,a),Xi(i),n[Qe]=i.current,cm(n),new tf(i)},ic.version="19.2.3",ic}var zx;function MO(){if(zx)return Am.exports;zx=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Am.exports=OO(),Am.exports}var TO=MO(),Zi=function(){return Zi=Object.assign||function(t){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(t[l]=r[l])}return t},Zi.apply(this,arguments)};function X1(e,t){var r={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(r[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,o=Object.getOwnPropertySymbols(e);s<o.length;s++)t.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(e,o[s])&&(r[o[s]]=e[o[s]]);return r}function PO(e,t,r){if(r||arguments.length===2)for(var o=0,s=t.length,l;o<s;o++)(l||!(o in t))&&(l||(l=Array.prototype.slice.call(t,0,o)),l[o]=t[o]);return e.concat(l||Array.prototype.slice.call(t))}var Sf="right-scroll-bar-position",Cf="width-before-scroll-bar",RO="with-scroll-bars-hidden",DO="--removed-body-scroll-bar-size";function zm(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function AO(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(o){var s=r.value;s!==o&&(r.value=o,r.callback(o,s))}}}})[0];return r.callback=t,r.facade}var NO=typeof window<"u"?C.useLayoutEffect:C.useEffect,Lx=new WeakMap;function IO(e,t){var r=AO(null,function(o){return e.forEach(function(s){return zm(s,o)})});return NO(function(){var o=Lx.get(r);if(o){var s=new Set(o),l=new Set(e),u=r.current;s.forEach(function(d){l.has(d)||zm(d,null)}),l.forEach(function(d){s.has(d)||zm(d,u)})}Lx.set(r,e)},[e]),r}function jO(e){return e}function zO(e,t){t===void 0&&(t=jO);var r=[],o=!1,s={read:function(){if(o)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(l){var u=t(l,o);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(l){for(o=!0;r.length;){var u=r;r=[],u.forEach(l)}r={push:function(d){return l(d)},filter:function(){return r}}},assignMedium:function(l){o=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(l),u=r}var f=function(){var g=u;u=[],g.forEach(l)},p=function(){return Promise.resolve().then(f)};p(),r={push:function(g){u.push(g),p()},filter:function(g){return u=u.filter(g),r}}}};return s}function LO(e){e===void 0&&(e={});var t=zO(null);return t.options=Zi({async:!0,ssr:!1},e),t}var W1=function(e){var t=e.sideCar,r=X1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=t.read();if(!o)throw new Error("Sidecar medium not found");return C.createElement(o,Zi({},r))};W1.isSideCarExport=!0;function FO(e,t){return e.useMedium(t),W1}var Q1=LO(),Lm=function(){},Wf=C.forwardRef(function(e,t){var r=C.useRef(null),o=C.useState({onScrollCapture:Lm,onWheelCapture:Lm,onTouchMoveCapture:Lm}),s=o[0],l=o[1],u=e.forwardProps,d=e.children,f=e.className,p=e.removeScrollBar,g=e.enabled,y=e.shards,x=e.sideCar,w=e.noRelative,_=e.noIsolation,E=e.inert,T=e.allowPinchZoom,N=e.as,R=N===void 0?"div":N,j=e.gapMode,L=X1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),F=x,U=IO([r,t]),I=Zi(Zi({},L),s);return C.createElement(C.Fragment,null,g&&C.createElement(F,{sideCar:Q1,removeScrollBar:p,shards:y,noRelative:w,noIsolation:_,inert:E,setCallbacks:l,allowPinchZoom:!!T,lockRef:r,gapMode:j}),u?C.cloneElement(C.Children.only(d),Zi(Zi({},I),{ref:U})):C.createElement(R,Zi({},I,{className:f,ref:U}),d))});Wf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wf.classNames={fullWidth:Cf,zeroRight:Sf};var kO=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function BO(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=kO();return t&&e.setAttribute("nonce",t),e}function UO(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $O(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var HO=function(){var e=0,t=null;return{add:function(r){e==0&&(t=BO())&&(UO(t,r),$O(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},qO=function(){var e=HO();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},Z1=function(){var e=qO(),t=function(r){var o=r.styles,s=r.dynamic;return e(o,s),null};return t},GO={left:0,top:0,right:0,gap:0},Fm=function(e){return parseInt(e||"",10)||0},VO=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],o=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Fm(r),Fm(o),Fm(s)]},YO=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return GO;var t=VO(e),r=document.documentElement.clientWidth,o=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,o-r+t[2]-t[0])}},KO=Z1(),Dl="data-scroll-locked",XO=function(e,t,r,o){var s=e.left,l=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(RO,` {
   overflow: hidden `).concat(o,`;
   padding-right: `).concat(d,"px ").concat(o,`;
  }
  body[`).concat(Dl,`] {
    overflow: hidden `).concat(o,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(o,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(l,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(o,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(o,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Sf,` {
    right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Cf,` {
    margin-right: `).concat(d,"px ").concat(o,`;
  }
  
  .`).concat(Sf," .").concat(Sf,` {
    right: 0 `).concat(o,`;
  }
  
  .`).concat(Cf," .").concat(Cf,` {
    margin-right: 0 `).concat(o,`;
  }
  
  body[`).concat(Dl,`] {
    `).concat(DO,": ").concat(d,`px;
  }
`)},Fx=function(){var e=parseInt(document.body.getAttribute(Dl)||"0",10);return isFinite(e)?e:0},WO=function(){C.useEffect(function(){return document.body.setAttribute(Dl,(Fx()+1).toString()),function(){var e=Fx()-1;e<=0?document.body.removeAttribute(Dl):document.body.setAttribute(Dl,e.toString())}},[])},QO=function(e){var t=e.noRelative,r=e.noImportant,o=e.gapMode,s=o===void 0?"margin":o;WO();var l=C.useMemo(function(){return YO(s)},[s]);return C.createElement(KO,{styles:XO(l,!t,s,r?"":"!important")})},hg=!1;if(typeof window<"u")try{var rf=Object.defineProperty({},"passive",{get:function(){return hg=!0,!0}});window.addEventListener("test",rf,rf),window.removeEventListener("test",rf,rf)}catch{hg=!1}var xl=hg?{passive:!1}:!1,ZO=function(e){return e.tagName==="TEXTAREA"},J1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!ZO(e)&&r[t]==="visible")},JO=function(e){return J1(e,"overflowY")},eM=function(e){return J1(e,"overflowX")},kx=function(e,t){var r=t.ownerDocument,o=t;do{typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&(o=o.host);var s=eS(e,o);if(s){var l=tS(e,o),u=l[1],d=l[2];if(u>d)return!0}o=o.parentNode}while(o&&o!==r.body);return!1},tM=function(e){var t=e.scrollTop,r=e.scrollHeight,o=e.clientHeight;return[t,r,o]},nM=function(e){var t=e.scrollLeft,r=e.scrollWidth,o=e.clientWidth;return[t,r,o]},eS=function(e,t){return e==="v"?JO(t):eM(t)},tS=function(e,t){return e==="v"?tM(t):nM(t)},rM=function(e,t){return e==="h"&&t==="rtl"?-1:1},iM=function(e,t,r,o,s){var l=rM(e,window.getComputedStyle(t).direction),u=l*o,d=r.target,f=t.contains(d),p=!1,g=u>0,y=0,x=0;do{if(!d)break;var w=tS(e,d),_=w[0],E=w[1],T=w[2],N=E-T-l*_;(_||N)&&eS(e,d)&&(y+=N,x+=_);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(p=!0),p},of=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Bx=function(e){return[e.deltaX,e.deltaY]},Ux=function(e){return e&&"current"in e?e.current:e},oM=function(e,t){return e[0]===t[0]&&e[1]===t[1]},aM=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},sM=0,wl=[];function lM(e){var t=C.useRef([]),r=C.useRef([0,0]),o=C.useRef(),s=C.useState(sM++)[0],l=C.useState(Z1)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var E=PO([e.lockRef.current],(e.shards||[]).map(Ux),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var d=C.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var N=of(E),R=r.current,j="deltaX"in E?E.deltaX:R[0]-N[0],L="deltaY"in E?E.deltaY:R[1]-N[1],F,U=E.target,I=Math.abs(j)>Math.abs(L)?"h":"v";if("touches"in E&&I==="h"&&U.type==="range")return!1;var G=window.getSelection(),le=G&&G.anchorNode,he=le?le===U||le.contains(U):!1;if(he)return!1;var ve=kx(I,U);if(!ve)return!0;if(ve?F=I:(F=I==="v"?"h":"v",ve=kx(I,U)),!ve)return!1;if(!o.current&&"changedTouches"in E&&(j||L)&&(o.current=F),!F)return!0;var pe=o.current||F;return iM(pe,T,E,pe==="h"?j:L)},[]),f=C.useCallback(function(E){var T=E;if(!(!wl.length||wl[wl.length-1]!==l)){var N="deltaY"in T?Bx(T):of(T),R=t.current.filter(function(F){return F.name===T.type&&(F.target===T.target||T.target===F.shadowParent)&&oM(F.delta,N)})[0];if(R&&R.should){T.cancelable&&T.preventDefault();return}if(!R){var j=(u.current.shards||[]).map(Ux).filter(Boolean).filter(function(F){return F.contains(T.target)}),L=j.length>0?d(T,j[0]):!u.current.noIsolation;L&&T.cancelable&&T.preventDefault()}}},[]),p=C.useCallback(function(E,T,N,R){var j={name:E,delta:T,target:N,should:R,shadowParent:uM(N)};t.current.push(j),setTimeout(function(){t.current=t.current.filter(function(L){return L!==j})},1)},[]),g=C.useCallback(function(E){r.current=of(E),o.current=void 0},[]),y=C.useCallback(function(E){p(E.type,Bx(E),E.target,d(E,e.lockRef.current))},[]),x=C.useCallback(function(E){p(E.type,of(E),E.target,d(E,e.lockRef.current))},[]);C.useEffect(function(){return wl.push(l),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",f,xl),document.addEventListener("touchmove",f,xl),document.addEventListener("touchstart",g,xl),function(){wl=wl.filter(function(E){return E!==l}),document.removeEventListener("wheel",f,xl),document.removeEventListener("touchmove",f,xl),document.removeEventListener("touchstart",g,xl)}},[]);var w=e.removeScrollBar,_=e.inert;return C.createElement(C.Fragment,null,_?C.createElement(l,{styles:aM(s)}):null,w?C.createElement(QO,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function uM(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const cM=FO(Q1,lM);var Ac=C.forwardRef(function(e,t){return C.createElement(Wf,Zi({},e,{ref:t,sideCar:cM}))});Ac.classNames=Wf.classNames;function lr(e){return Object.keys(e)}function km(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Xg(e,t){const r={...e},o=t;return km(e)&&km(t)&&Object.keys(t).forEach(s=>{km(o[s])&&s in e?r[s]=Xg(r[s],o[s]):r[s]=o[s]}),r}function dM(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function fM(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function pg(e){const t=fM(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function $x(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function nS(e,{shouldScale:t=!1}={}){function r(o){if(o===0||o==="0")return`0${e}`;if(typeof o=="number"){const s=`${o/16}${e}`;return t?$x(s):s}if(typeof o=="string"){if(o===""||o.startsWith("calc(")||o.startsWith("clamp(")||o.includes("rgba("))return o;if(o.includes(","))return o.split(",").map(l=>r(l)).join(",");if(o.includes(" "))return o.split(" ").map(l=>r(l)).join(" ");const s=o.replace("px","");if(!Number.isNaN(Number(s))){const l=`${Number(s)/16}${e}`;return t?$x(l):l}}return o}return r}const _e=nS("rem",{shouldScale:!0}),Af=nS("em");function Wg(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function rS(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(o=>t.test(o))}return!1}function iS(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==C.Fragment:!1}function ao(e){const t=C.createContext(null);return[({children:s,value:l})=>D.jsx(t.Provider,{value:l,children:s}),()=>{const s=C.useContext(t);if(s===null)throw new Error(e);return s}]}function Yl(e=null){const t=C.createContext(e);return[({children:s,value:l})=>D.jsx(t.Provider,{value:l,children:s}),()=>C.useContext(t)]}function Hx(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function mg(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function hM(e,t,r){for(let o=e-1;o>=0;o-=1)if(!t[o].disabled)return o;if(r){for(let o=t.length-1;o>-1;o-=1)if(!t[o].disabled)return o}return e}function pM(e,t,r){for(let o=e+1;o<t.length;o+=1)if(!t[o].disabled)return o;if(r){for(let o=0;o<t.length;o+=1)if(!t[o].disabled)return o}return e}function mM(e,t,r){return mg(e,r)===mg(t,r)}function gM({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:o=!0,activateOnFocus:s=!1,dir:l="rtl",orientation:u}){return d=>{r?.(d);const f=Array.from(mg(d.currentTarget,e)?.querySelectorAll(t)||[]).filter(x=>mM(d.currentTarget,x,e)),p=f.findIndex(x=>d.currentTarget===x),g=pM(p,f,o),y=hM(p,f,o);switch(d.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{d.stopPropagation(),d.preventDefault(),f[y].focus(),s&&f[y].click();break}case"ArrowDown":{d.stopPropagation(),d.preventDefault(),f[g].focus(),s&&f[g].click();break}case"Home":{d.stopPropagation(),d.preventDefault(),!f[0].disabled&&f[0].focus();break}case"End":{d.stopPropagation(),d.preventDefault();const x=f.length-1;!f[x].disabled&&f[x].focus();break}}}}const yM={app:100,modal:200,popover:300,overlay:400,max:9999};function so(e){return yM[e]}const vM=()=>{};function bM(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||vM:r=>{r.key==="Escape"&&(e(r),t.onTrigger?.())}}function Ft(e,t="size",r=!0){if(e!==void 0)return rS(e)?r?_e(e):e:`var(--${t}-${e})`}function Kl(e){return Ft(e,"mantine-spacing")}function Vn(e){return e===void 0?"var(--mantine-radius-default)":Ft(e,"mantine-radius")}function gr(e){return Ft(e,"mantine-font-size")}function xM(e){return Ft(e,"mantine-line-height",!1)}function Qg(e){if(e)return Ft(e,"mantine-shadow",!1)}function Zg(e,t){return e in t?pg(t[e]):pg(e)}function qx(e,t){const r=e.map(o=>({value:o,px:Zg(o,t)}));return r.sort((o,s)=>o.px-s.px),r}function wM(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function ps(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>((...r)=>t.current?.(...r)),[])}function Qf(e,t){const{delay:r,flushOnUnmount:o,leading:s}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,l=ps(e),u=C.useRef(0),d=C.useMemo(()=>{const f=Object.assign((...p)=>{window.clearTimeout(u.current);const g=f._isFirstCall;f._isFirstCall=!1;function y(){window.clearTimeout(u.current),u.current=0,f._isFirstCall=!0}if(s&&g){l(...p);const _=()=>{y()},E=()=>{u.current!==0&&(y(),l(...p))},T=()=>{y()};f.flush=E,f.cancel=T,u.current=window.setTimeout(_,r);return}if(s&&!g){const _=()=>{u.current!==0&&(y(),l(...p))},E=()=>{y()};f.flush=_,f.cancel=E;const T=()=>{y()};u.current=window.setTimeout(T,r);return}const x=()=>{u.current!==0&&(y(),l(...p))},w=()=>{y()};f.flush=x,f.cancel=w,u.current=window.setTimeout(x,r)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return f},[l,r,s]);return C.useEffect(()=>()=>{o?d.flush():d.cancel()},[d,o]),d}const SM=["mousedown","touchstart"];function CM(e,t,r){const o=C.useRef(null),s=t||SM;return C.useEffect(()=>{const l=u=>{const{target:d}=u??{};if(Array.isArray(r)){const f=!document.body.contains(d)&&d?.tagName!=="HTML";r.every(g=>!!g&&!u.composedPath().includes(g))&&!f&&e(u)}else o.current&&!o.current.contains(d)&&e(u)};return s.forEach(u=>document.addEventListener(u,l)),()=>{s.forEach(u=>document.removeEventListener(u,l))}},[o,e,r]),o}function _M(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function EM(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function OM(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[o,s]=C.useState(r?t:EM(e));return C.useEffect(()=>{try{const l=window.matchMedia(e);return s(l.matches),_M(l,u=>s(u.matches))}catch{return}},[e]),o||!1}const za=typeof document<"u"?C.useLayoutEffect:C.useEffect;function jl(e,t){const r=C.useRef(!1);C.useEffect(()=>()=>{r.current=!1},[]),C.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function oS({opened:e,shouldReturnFocus:t=!0}){const r=C.useRef(null),o=()=>{r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&r.current?.focus({preventScroll:!0})};return jl(()=>{let s=-1;const l=u=>{u.key==="Tab"&&window.clearTimeout(s)};return document.addEventListener("keydown",l),e?r.current=document.activeElement:t&&(s=window.setTimeout(o,10)),()=>{window.clearTimeout(s),document.removeEventListener("keydown",l)}},[e,t]),o}const MM=/input|select|textarea|button|object/,aS="a, input, select, textarea, button, object, [tabindex]";function TM(e){return e.style.display==="none"}function PM(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(TM(r))return!1;r=r.parentNode}return!0}function sS(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function gg(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(sS(e));return(MM.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&PM(e)}function lS(e){const t=sS(e);return(Number.isNaN(t)||t>=0)&&gg(e)}function RM(e){return Array.from(e.querySelectorAll(aS)).filter(lS)}function DM(e,t){const r=RM(e);if(!r.length){t.preventDefault();return}const o=r[t.shiftKey?0:r.length-1],s=e.getRootNode();let l=o===s.activeElement||e===s.activeElement;const u=s.activeElement;if(u.tagName==="INPUT"&&u.getAttribute("type")==="radio"&&(l=r.filter(g=>g.getAttribute("type")==="radio"&&g.getAttribute("name")===u.getAttribute("name")).includes(o)),!l)return;t.preventDefault();const f=r[t.shiftKey?r.length-1:0];f&&f.focus()}function AM(e=!0){const t=C.useRef(null),r=s=>{let l=s.querySelector("[data-autofocus]");if(!l){const u=Array.from(s.querySelectorAll(aS));l=u.find(lS)||u.find(gg)||null,!l&&gg(s)&&(l=s)}l&&l.focus({preventScroll:!0})},o=C.useCallback(s=>{e&&s!==null&&t.current!==s&&(s?(setTimeout(()=>{s.getRootNode()&&r(s)}),t.current=s):t.current=null)},[e]);return C.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const s=l=>{l.key==="Tab"&&t.current&&DM(t.current,l)};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e]),o}const NM=Qi.useId||(()=>{});function IM(){const e=NM();return e?`mantine-${e.replace(/:/g,"")}`:""}function Fi(e){const t=IM(),[r,o]=C.useState(t);return za(()=>{o(wM())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function Nf(e,t,r){C.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function yg(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function uS(...e){const t=new Map;return r=>{if(e.forEach(o=>{const s=yg(o,r);s&&t.set(o,s)}),t.size>0)return()=>{e.forEach(o=>{const s=t.get(o);s&&typeof s=="function"?s():yg(o,null)}),t.clear()}}}function Br(...e){return C.useCallback(uS(...e),e)}function Ia({value:e,defaultValue:t,finalValue:r,onChange:o=()=>{}}){const[s,l]=C.useState(t!==void 0?t:r),u=(d,...f)=>{l(d),o?.(d,...f)};return e!==void 0?[e,o,!0]:[s,u,!1]}function Jg(e,t){return OM("(prefers-reduced-motion: reduce)",e,t)}function cS(e=!1,t={}){const[r,o]=C.useState(e),s=C.useCallback(()=>{o(d=>d||(t.onOpen?.(),!0))},[t.onOpen]),l=C.useCallback(()=>{o(d=>d&&(t.onClose?.(),!1))},[t.onClose]),u=C.useCallback(()=>{r?l():s()},[l,s,r]);return[r,{open:s,close:l,toggle:u}]}function af(){if(typeof navigator>"u")return{};const e=navigator,t=e.connection||e.mozConnection||e.webkitConnection;return t?{downlink:t?.downlink,downlinkMax:t?.downlinkMax,effectiveType:t?.effectiveType,rtt:t?.rtt,saveData:t?.saveData,type:t?.type}:{}}function jM(){const[e,t]=C.useState({online:!0}),r=C.useCallback(()=>t(o=>({...o,...af()})),[]);return Nf("online",()=>t({online:!0,...af()})),Nf("offline",()=>t({online:!1,...af()})),C.useEffect(()=>{const o=navigator;if(o.connection)return t({online:o.onLine,...af()}),o.connection.addEventListener("change",r),()=>o.connection.removeEventListener("change",r);typeof o.onLine=="boolean"&&t(s=>({...s,online:o.onLine}))},[]),e}function zM(e){const t=C.useRef(void 0);return C.useEffect(()=>{t.current=e},[e]),t.current}function LM(e,t,r){const o=C.useRef(null),s=C.useRef(null);return C.useEffect(()=>{const l=typeof r=="function"?r():r;return(l||s.current)&&(o.current=new MutationObserver(e),o.current.observe(l||s.current,t)),()=>{o.current?.disconnect()}},[e,t]),s}function Zf(e){const t=Qi.version;return typeof Qi.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function _f(e,t=document){const r=t.querySelector(e);if(r)return r;const o=t.querySelectorAll("*");for(let s=0;s<o.length;s+=1){const l=o[s];if(l.shadowRoot){const u=_f(e,l.shadowRoot);if(u)return u}}return null}function Ta(e,t=document){const r=[],o=t.querySelectorAll(e);r.push(...Array.from(o));const s=t.querySelectorAll("*");for(let l=0;l<s.length;l+=1){const u=s[l];if(u.shadowRoot){const d=Ta(e,u.shadowRoot);r.push(...d)}}return r}function Ma(e){if(!e)return document;const t=e.getRootNode();return t instanceof ShadowRoot||t instanceof Document?t:document}function Xl(e){const t=C.Children.toArray(e);return t.length!==1||!iS(t[0])?null:t[0]}function dS(e){var t,r,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=dS(e[t]))&&(o&&(o+=" "),o+=r)}else for(r in e)e[r]&&(o&&(o+=" "),o+=r);return o}function $n(){for(var e,t,r=0,o="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=dS(e))&&(o&&(o+=" "),o+=t);return o}const FM={};function kM(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([o,s])=>{t[o]?t[o]=$n(t[o],s):t[o]=s})}),t}function Jf({theme:e,classNames:t,props:r,stylesCtx:o}){const l=(Array.isArray(t)?t:[t]).map(u=>typeof u=="function"?u(e,r,o):u||FM);return kM(l)}function If({theme:e,styles:t,props:r,stylesCtx:o}){return(Array.isArray(t)?t:[t]).reduce((l,u)=>typeof u=="function"?{...l,...u(e,r,o)}:{...l,...u},{})}const fS=C.createContext(null);function qo(){const e=C.useContext(fS);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function BM(){return qo().cssVariablesResolver}function UM(){return qo().classNamesPrefix}function ey(){return qo().getStyleNonce}function $M(){return qo().withStaticClasses}function HM(){return qo().headless}function qM(){return qo().stylesTransform?.sx}function GM(){return qo().stylesTransform?.styles}function eh(){return qo().env||"default"}function VM(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function YM(e){let t=e.replace("#","");if(t.length===3){const u=t.split("");t=[u[0],u[0],u[1],u[1],u[2],u[2]].join("")}if(t.length===8){const u=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:u}}const r=parseInt(t,16),o=r>>16&255,s=r>>8&255,l=r&255;return{r:o,g:s,b:l,a:1}}function KM(e){const[t,r,o,s]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:o,a:s===void 0?1:s}}function XM(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const o=parseInt(r[1],10),s=parseInt(r[2],10)/100,l=parseInt(r[3],10)/100,u=r[5]?parseFloat(r[5]):void 0,d=(1-Math.abs(2*l-1))*s,f=o/60,p=d*(1-Math.abs(f%2-1)),g=l-d/2;let y,x,w;return f>=0&&f<1?(y=d,x=p,w=0):f>=1&&f<2?(y=p,x=d,w=0):f>=2&&f<3?(y=0,x=d,w=p):f>=3&&f<4?(y=0,x=p,w=d):f>=4&&f<5?(y=p,x=0,w=d):(y=d,x=0,w=p),{r:Math.round((y+g)*255),g:Math.round((x+g)*255),b:Math.round((w+g)*255),a:u||1}}function ty(e){return VM(e)?YM(e):e.startsWith("rgb")?KM(e):e.startsWith("hsl")?XM(e):{r:0,g:0,b:0,a:1}}function sf(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:o,b:s,a:l}=ty(e),u=1-t,d=f=>Math.round(f*u);return`rgba(${d(r)}, ${d(o)}, ${d(s)}, ${l})`}function wc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function Bm(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function WM(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function QM(e){if(e.startsWith("oklch("))return(WM(e)||0)/100;const{r:t,g:r,b:o}=ty(e),s=t/255,l=r/255,u=o/255,d=Bm(s),f=Bm(l),p=Bm(u);return .2126*d+.7152*f+.0722*p}function oc(e,t=.179){return e.startsWith("var(")?!1:QM(e)>t}function Ss({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:oc(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:oc(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:oc(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[o,s]=e.split("."),l=s?Number(s):void 0,u=o in t.colors;if(u){const d=l!==void 0?t.colors[o][l]:t.colors[o][wc(t,r||"light")];return{color:o,value:d,shade:l,isThemeColor:u,isLight:oc(d,t.luminanceThreshold),variable:s?`--mantine-color-${o}-${l}`:`--mantine-color-${o}-filled`}}return{color:e,value:e,isThemeColor:u,isLight:oc(e,t.luminanceThreshold),shade:l,variable:void 0}}function ji(e,t){const r=Ss({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function vg(e,t){const r={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},o=ji(r.from,t),s=ji(r.to,t);return`linear-gradient(${r.deg}deg, ${o} 0%, ${s} 100%)`}function Wi(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const l=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${l}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:o,b:s}=ty(e);return`rgba(${r}, ${o}, ${s}, ${t})`}const Sl=Wi,ZM=({color:e,theme:t,variant:r,gradient:o,autoContrast:s})=>{const l=Ss({color:e,theme:t}),u=typeof s=="boolean"?s:t.autoContrast;if(r==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(r==="filled"){const d=u&&l.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return l.isThemeColor?l.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:d,border:`${_e(1)} solid transparent`}:{background:`var(--mantine-color-${l.color}-${l.shade})`,hover:`var(--mantine-color-${l.color}-${l.shade===9?8:l.shade+1})`,color:d,border:`${_e(1)} solid transparent`}:{background:e,hover:sf(e,.1),color:d,border:`${_e(1)} solid transparent`}}if(r==="light"){if(l.isThemeColor){if(l.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const d=t.colors[l.color][l.shade];return{background:Wi(d,.1),hover:Wi(d,.12),color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:Wi(e,.1),hover:Wi(e,.12),color:e,border:`${_e(1)} solid transparent`}}if(r==="outline")return l.isThemeColor?l.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${_e(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:Wi(t.colors[l.color][l.shade],.05),color:`var(--mantine-color-${l.color}-${l.shade})`,border:`${_e(1)} solid var(--mantine-color-${l.color}-${l.shade})`}:{background:"transparent",hover:Wi(e,.05),color:e,border:`${_e(1)} solid ${e}`};if(r==="subtle"){if(l.isThemeColor){if(l.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`};const d=t.colors[l.color][l.shade];return{background:"transparent",hover:Wi(d,.12),color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:"transparent",hover:Wi(e,.12),color:e,border:`${_e(1)} solid transparent`}}return r==="transparent"?l.isThemeColor?l.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${l.color}-${Math.min(l.shade,6)})`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${_e(1)} solid transparent`}:r==="white"?l.isThemeColor?l.shade===void 0?{background:"var(--mantine-color-white)",hover:sf(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:sf(t.white,.01),color:`var(--mantine-color-${l.color}-${l.shade})`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:sf(t.white,.01),color:e,border:`${_e(1)} solid transparent`}:r==="gradient"?{background:vg(o,t),hover:vg(o,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${_e(1)} solid var(--mantine-color-default-border)`}:{}},JM={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Gx="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",ny={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:JM,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:ZM,autoContrast:!1,luminanceThreshold:.3,fontFamily:Gx,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Gx,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:_e(34),lineHeight:"1.3"},h2:{fontSize:_e(26),lineHeight:"1.35"},h3:{fontSize:_e(22),lineHeight:"1.4"},h4:{fontSize:_e(18),lineHeight:"1.45"},h5:{fontSize:_e(16),lineHeight:"1.5"},h6:{fontSize:_e(14),lineHeight:"1.5"}}},fontSizes:{xs:_e(12),sm:_e(14),md:_e(16),lg:_e(18),xl:_e(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:_e(2),sm:_e(4),md:_e(8),lg:_e(16),xl:_e(32)},spacing:{xs:_e(10),sm:_e(12),md:_e(16),lg:_e(20),xl:_e(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), 0 ${_e(1)} ${_e(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(10)} ${_e(15)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(7)} ${_e(7)} ${_e(-5)}`,md:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(20)} ${_e(25)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(10)} ${_e(10)} ${_e(-5)}`,lg:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(28)} ${_e(23)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(12)} ${_e(12)} ${_e(-7)}`,xl:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(36)} ${_e(28)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(17)} ${_e(17)} ${_e(-7)}`},other:{},components:{}};function Vx(e){return e==="auto"||e==="dark"||e==="light"}function eT({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const o=window.localStorage.getItem(e);return Vx(o)?o:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(o){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",o)}},subscribe:r=>{t=o=>{o.storageArea===window.localStorage&&o.key===e&&Vx(o.newValue)&&r(o.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const tT="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Yx="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function Um(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Kx(e){if(!(e.primaryColor in e.colors))throw new Error(tT);if(typeof e.primaryShade=="object"&&(!Um(e.primaryShade.dark)||!Um(e.primaryShade.light)))throw new Error(Yx);if(typeof e.primaryShade=="number"&&!Um(e.primaryShade))throw new Error(Yx)}function nT(e,t){if(!t)return Kx(e),e;const r=Xg(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(r.headings.fontFamily=t.fontFamily),Kx(r),r}const ry=C.createContext(null),rT=()=>C.useContext(ry)||ny;function xi(){const e=C.useContext(ry);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function hS({theme:e,children:t,inherit:r=!0}){const o=rT(),s=C.useMemo(()=>nT(r?o:ny,e),[e,o,r]);return D.jsx(ry.Provider,{value:s,children:t})}hS.displayName="@mantine/core/MantineThemeProvider";function iT(){const e=xi(),t=ey(),r=lr(e.breakpoints).reduce((o,s)=>{const l=e.breakpoints[s].includes("px"),u=pg(e.breakpoints[s]),d=l?`${u-.1}px`:Af(u-.1),f=l?`${u}px`:Af(u);return`${o}@media (max-width: ${d}) {.mantine-visible-from-${s} {display: none !important;}}@media (min-width: ${f}) {.mantine-hidden-from-${s} {display: none !important;}}`},"");return D.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:r}})}function $m(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function pS(e,t){const r=t?[t]:[":root",":host"],o=$m(e.variables),s=o?`${r.join(", ")}{${o}}`:"",l=$m(e.dark),u=$m(e.light),d=g=>r.map(y=>y===":host"?`${y}([data-mantine-color-scheme="${g}"])`:`${y}[data-mantine-color-scheme="${g}"]`).join(", "),f=l?`${d("dark")}{${l}}`:"",p=u?`${d("light")}{${u}}`:"";return`${s}

${f}

${p}`}function iy({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ss({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Xx(e,t){return iy({color:e.colors[e.primaryColor][wc(e,t)],theme:e,autoContrast:null})}function lf({theme:e,color:t,colorScheme:r,name:o=t,withColorValues:s=!0}){if(!e.colors[t])return{};if(r==="light"){const d=wc(e,"light"),f={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-filled)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${d})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${d===9?8:d+1})`,[`--mantine-color-${o}-light`]:Sl(e.colors[t][d],.1),[`--mantine-color-${o}-light-hover`]:Sl(e.colors[t][d],.12),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${d})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${d})`,[`--mantine-color-${o}-outline-hover`]:Sl(e.colors[t][d],.05)};return s?{[`--mantine-color-${o}-0`]:e.colors[t][0],[`--mantine-color-${o}-1`]:e.colors[t][1],[`--mantine-color-${o}-2`]:e.colors[t][2],[`--mantine-color-${o}-3`]:e.colors[t][3],[`--mantine-color-${o}-4`]:e.colors[t][4],[`--mantine-color-${o}-5`]:e.colors[t][5],[`--mantine-color-${o}-6`]:e.colors[t][6],[`--mantine-color-${o}-7`]:e.colors[t][7],[`--mantine-color-${o}-8`]:e.colors[t][8],[`--mantine-color-${o}-9`]:e.colors[t][9],...f}:f}const l=wc(e,"dark"),u={[`--mantine-color-${o}-text`]:`var(--mantine-color-${o}-4)`,[`--mantine-color-${o}-filled`]:`var(--mantine-color-${o}-${l})`,[`--mantine-color-${o}-filled-hover`]:`var(--mantine-color-${o}-${l===9?8:l+1})`,[`--mantine-color-${o}-light`]:Sl(e.colors[t][Math.max(0,l-2)],.15),[`--mantine-color-${o}-light-hover`]:Sl(e.colors[t][Math.max(0,l-2)],.2),[`--mantine-color-${o}-light-color`]:`var(--mantine-color-${o}-${Math.max(l-5,0)})`,[`--mantine-color-${o}-outline`]:`var(--mantine-color-${o}-${Math.max(l-4,0)})`,[`--mantine-color-${o}-outline-hover`]:Sl(e.colors[t][Math.max(l-4,0)],.05)};return s?{[`--mantine-color-${o}-0`]:e.colors[t][0],[`--mantine-color-${o}-1`]:e.colors[t][1],[`--mantine-color-${o}-2`]:e.colors[t][2],[`--mantine-color-${o}-3`]:e.colors[t][3],[`--mantine-color-${o}-4`]:e.colors[t][4],[`--mantine-color-${o}-5`]:e.colors[t][5],[`--mantine-color-${o}-6`]:e.colors[t][6],[`--mantine-color-${o}-7`]:e.colors[t][7],[`--mantine-color-${o}-8`]:e.colors[t][8],[`--mantine-color-${o}-9`]:e.colors[t][9],...u}:u}function oT(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Cl(e,t,r){lr(t).forEach(o=>Object.assign(e,{[`--mantine-${r}-${o}`]:t[o]}))}const mS=e=>{const t=wc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:_e(e.defaultRadius),o={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":Xx(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":Xx(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Cl(o.variables,e.breakpoints,"breakpoint"),Cl(o.variables,e.spacing,"spacing"),Cl(o.variables,e.fontSizes,"font-size"),Cl(o.variables,e.lineHeights,"line-height"),Cl(o.variables,e.shadows,"shadow"),Cl(o.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((l,u)=>{o.variables[`--mantine-primary-color-${u}`]=`var(--mantine-color-${e.primaryColor}-${u})`}),lr(e.colors).forEach(l=>{const u=e.colors[l];if(oT(u)){Object.assign(o.light,lf({theme:e,name:u.name,color:u.light,colorScheme:"light",withColorValues:!0})),Object.assign(o.dark,lf({theme:e,name:u.name,color:u.dark,colorScheme:"dark",withColorValues:!0}));return}u.forEach((d,f)=>{o.variables[`--mantine-color-${l}-${f}`]=d}),Object.assign(o.light,lf({theme:e,color:l,colorScheme:"light",withColorValues:!1})),Object.assign(o.dark,lf({theme:e,color:l,colorScheme:"dark",withColorValues:!1}))});const s=e.headings.sizes;return lr(s).forEach(l=>{o.variables[`--mantine-${l}-font-size`]=s[l].fontSize,o.variables[`--mantine-${l}-line-height`]=s[l].lineHeight,o.variables[`--mantine-${l}-font-weight`]=s[l].fontWeight||e.headings.fontWeight}),o};function aT({theme:e,generator:t}){const r=mS(e),o=t?.(e);return o?Xg(r,o):r}const Hm=mS(ny);function sT(e){const t={variables:{},light:{},dark:{}};return lr(e.variables).forEach(r=>{Hm.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),lr(e.light).forEach(r=>{Hm.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),lr(e.dark).forEach(r=>{Hm.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function lT(e){return pS({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},e)}function gS({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=xi(),o=ey(),s=BM(),l=aT({theme:r,generator:s}),u=(e===void 0||e===":root"||e===":host")&&t,d=u?sT(l):l,f=pS(d,e);return f?D.jsx("style",{"data-mantine-styles":!0,nonce:o?.(),dangerouslySetInnerHTML:{__html:`${f}${u?"":lT(e)}`}}):null}gS.displayName="@mantine/CssVariables";function _l(e,t){const r=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,o=e!=="auto"?e:r?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",o)}function uT({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:o}){const s=C.useRef(null),[l,u]=C.useState(()=>e.get(t)),d=o||l,f=C.useCallback(g=>{o||(_l(g,r),u(g),e.set(g))},[e.set,d,o]),p=C.useCallback(()=>{u(t),_l(t,r),e.clear()},[e.clear,t]);return C.useEffect(()=>(e.subscribe(f),e.unsubscribe),[e.subscribe,e.unsubscribe]),za(()=>{_l(e.get(t),r)},[]),C.useEffect(()=>{if(o)return _l(o,r),()=>{};o===void 0&&_l(l,r),typeof window<"u"&&"matchMedia"in window&&(s.current=window.matchMedia("(prefers-color-scheme: dark)"));const g=y=>{l==="auto"&&_l(y.matches?"dark":"light",r)};return s.current?.addEventListener("change",g),()=>s.current?.removeEventListener("change",g)},[l,o]),{colorScheme:d,setColorScheme:f,clearColorScheme:p}}function cT({respectReducedMotion:e,getRootElement:t}){za(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function yS({theme:e,children:t,getStyleNonce:r,withStaticClasses:o=!0,withGlobalClasses:s=!0,deduplicateCssVariables:l=!0,withCssVariables:u=!0,cssVariablesSelector:d,classNamesPrefix:f="mantine",colorSchemeManager:p=eT(),defaultColorScheme:g="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:x,forceColorScheme:w,stylesTransform:_,env:E}){const{colorScheme:T,setColorScheme:N,clearColorScheme:R}=uT({defaultColorScheme:g,forceColorScheme:w,manager:p,getRootElement:y});return cT({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:y}),D.jsx(fS.Provider,{value:{colorScheme:T,setColorScheme:N,clearColorScheme:R,getRootElement:y,classNamesPrefix:f,getStyleNonce:r,cssVariablesResolver:x,cssVariablesSelector:d??":root",withStaticClasses:o,stylesTransform:_,env:E},children:D.jsxs(hS,{theme:e,children:[u&&D.jsx(gS,{cssVariablesSelector:d,deduplicateCssVariables:l}),s&&D.jsx(iT,{}),t]})})}yS.displayName="@mantine/core/MantineProvider";function th({classNames:e,styles:t,props:r,stylesCtx:o}){const s=xi();return{resolvedClassNames:Jf({theme:s,classNames:e,props:r,stylesCtx:o||void 0}),resolvedStyles:If({theme:s,styles:t,props:r,stylesCtx:o||void 0})}}const dT={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function fT({theme:e,options:t,unstyled:r}){return $n(t?.focusable&&!r&&(e.focusClassName||dT[e.focusRing]),t?.active&&!r&&e.activeClassName)}function hT({selector:e,stylesCtx:t,options:r,props:o,theme:s}){return Jf({theme:s,classNames:r?.classNames,props:r?.props||o,stylesCtx:t})[e]}function Wx({selector:e,stylesCtx:t,theme:r,classNames:o,props:s}){return Jf({theme:r,classNames:o,props:s,stylesCtx:t})[e]}function pT({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function mT({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function gT({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:o}){return o===!1?[]:e.map(s=>`${t}-${s}-${r}`)}function yT({themeName:e,theme:t,selector:r,props:o,stylesCtx:s}){return e.map(l=>Jf({theme:t,classNames:t.components[l]?.classNames,props:o,stylesCtx:s})?.[r])}function vT({options:e,classes:t,selector:r,unstyled:o}){return e?.variant&&!o?t[`${r}--${e.variant}`]:void 0}function bT({theme:e,options:t,themeName:r,selector:o,classNamesPrefix:s,classNames:l,classes:u,unstyled:d,className:f,rootSelector:p,props:g,stylesCtx:y,withStaticClasses:x,headless:w,transformedStyles:_}){return $n(fT({theme:e,options:t,unstyled:d||w}),yT({theme:e,themeName:r,selector:o,props:g,stylesCtx:y}),vT({options:t,classes:u,selector:o,unstyled:d}),Wx({selector:o,stylesCtx:y,theme:e,classNames:l,props:g}),Wx({selector:o,stylesCtx:y,theme:e,classNames:_,props:g}),hT({selector:o,stylesCtx:y,options:t,props:g,theme:e}),pT({rootSelector:p,selector:o,className:f}),mT({selector:o,classes:u,unstyled:d||w}),x&&!w&&gT({themeName:r,classNamesPrefix:s,selector:o,withStaticClass:t?.withStaticClass}),t?.className)}function xT({theme:e,themeName:t,props:r,stylesCtx:o,selector:s}){return t.map(l=>If({theme:e,styles:e.components[l]?.styles,props:r,stylesCtx:o})[s]).reduce((l,u)=>({...l,...u}),{})}function bg({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,o)=>({...r,...bg({style:o,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function wT(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(o=>{t[o]={...t[o],...Wg(r[o])}}),t),{})}function ST({vars:e,varsResolver:t,theme:r,props:o,stylesCtx:s,selector:l,themeName:u,headless:d}){return wT([d?{}:t?.(r,o,s),...u.map(f=>r.components?.[f]?.vars?.(r,o,s)),e?.(r,o,s)])?.[l]}function CT({theme:e,themeName:t,selector:r,options:o,props:s,stylesCtx:l,rootSelector:u,styles:d,style:f,vars:p,varsResolver:g,headless:y,withStylesTransform:x}){return{...!x&&xT({theme:e,themeName:t,props:s,stylesCtx:l,selector:r}),...!x&&If({theme:e,styles:d,props:s,stylesCtx:l})[r],...!x&&If({theme:e,styles:o?.styles,props:o?.props||s,stylesCtx:l})[r],...ST({theme:e,props:s,stylesCtx:l,vars:p,varsResolver:g,selector:r,themeName:t,headless:y}),...u===r?bg({style:f,theme:e}):null,...bg({style:o?.style,theme:e})}}function _T({props:e,stylesCtx:t,themeName:r}){const o=xi(),s=GM()?.();return{getTransformedStyles:u=>s?[...u.map(f=>s(f,{props:e,theme:o,ctx:t})),...r.map(f=>s(o.components[f]?.styles,{props:e,theme:o,ctx:t}))].filter(Boolean):[],withStylesTransform:!!s}}function yt({name:e,classes:t,props:r,stylesCtx:o,className:s,style:l,rootSelector:u="root",unstyled:d,classNames:f,styles:p,vars:g,varsResolver:y,attributes:x}){const w=xi(),_=UM(),E=$M(),T=HM(),N=(Array.isArray(e)?e:[e]).filter(L=>L),{withStylesTransform:R,getTransformedStyles:j}=_T({props:r,stylesCtx:o,themeName:N});return(L,F)=>({className:bT({theme:w,options:F,themeName:N,selector:L,classNamesPrefix:_,classNames:f,classes:t,unstyled:d,className:s,rootSelector:u,props:r,stylesCtx:o,withStaticClasses:E,headless:T,transformedStyles:j([F?.styles,p])}),style:CT({theme:w,themeName:N,selector:L,options:F,props:r,stylesCtx:o,rootSelector:u,styles:p,style:l,vars:g,varsResolver:y,headless:T,withStylesTransform:R}),...x?.[L]})}function vS(e,t){return typeof e=="boolean"?e:t.autoContrast}function Ue(e,t,r){const o=xi(),s=o.components[e]?.defaultProps,l=typeof s=="function"?s(o):s;return{...t,...l,...Wg(r)}}function qm(e){return lr(e).reduce((t,r)=>e[r]!==void 0?`${t}${dM(r)}:${e[r]};`:t,"").trim()}function ET({selector:e,styles:t,media:r,container:o}){const s=t?qm(t):"",l=Array.isArray(r)?r.map(d=>`@media${d.query}{${e}{${qm(d.styles)}}}`):[],u=Array.isArray(o)?o.map(d=>`@container ${d.query}{${e}{${qm(d.styles)}}}`):[];return`${s?`${e}{${s}}`:""}${l.join("")}${u.join("")}`.trim()}function bS(e){const t=ey();return D.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:ET(e)}})}function Nc(e){const{m:t,mx:r,my:o,mt:s,mb:l,ml:u,mr:d,me:f,ms:p,p:g,px:y,py:x,pt:w,pb:_,pl:E,pr:T,pe:N,ps:R,bd:j,bdrs:L,bg:F,c:U,opacity:I,ff:G,fz:le,fw:he,lts:ve,ta:pe,lh:Me,fs:ce,tt:Oe,td:B,w:J,miw:K,maw:be,h:Ce,mih:H,mah:re,bgsz:we,bgp:De,bgr:Ie,bga:He,pos:nt,top:xt,left:Ae,bottom:Zt,right:sn,inset:Ze,display:ft,flex:$t,hiddenFrom:nn,visibleFrom:gn,lightHidden:yr,darkHidden:Yn,sx:Jt,...En}=e;return{styleProps:Wg({m:t,mx:r,my:o,mt:s,mb:l,ml:u,mr:d,me:f,ms:p,p:g,px:y,py:x,pt:w,pb:_,pl:E,pr:T,pe:N,ps:R,bd:j,bg:F,c:U,opacity:I,ff:G,fz:le,fw:he,lts:ve,ta:pe,lh:Me,fs:ce,tt:Oe,td:B,w:J,miw:K,maw:be,h:Ce,mih:H,mah:re,bgsz:we,bgp:De,bgr:Ie,bga:He,pos:nt,top:xt,left:Ae,bottom:Zt,right:sn,inset:Ze,display:ft,flex:$t,bdrs:L,hiddenFrom:nn,visibleFrom:gn,lightHidden:yr,darkHidden:Yn,sx:Jt}),rest:En}}const OT={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function oy(e,t){const r=Ss({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function MT(e,t){const r=Ss({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:oy(e,t)}function TT(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const[r,o,...s]=e.split(" ").filter(u=>u.trim()!=="");let l=`${_e(r)}`;return o&&(l+=` ${o}`),s.length>0&&(l+=` ${oy(s.join(" "),t)}`),l.trim()}return e}const Qx={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function PT(e){return typeof e=="string"&&e in Qx?Qx[e]:e}const RT=["h1","h2","h3","h4","h5","h6"];function DT(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&RT.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?_e(e):e}function AT(e){return e}const NT=["h1","h2","h3","h4","h5","h6"];function IT(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&NT.includes(e)?`var(--mantine-${e}-line-height)`:e}function jT(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?_e(e):e}function zT(e){return typeof e=="number"?_e(e):e}function LT(e,t){if(typeof e=="number")return _e(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return _e(e);const o=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${o}) * -1)`:`var(${o})`}return e}const Gm={color:oy,textColor:MT,fontSize:DT,spacing:LT,radius:jT,identity:AT,size:zT,lineHeight:IT,fontFamily:PT,border:TT};function Zx(e){return e.replace("(min-width: ","").replace("em)","")}function FT({media:e,...t}){const o=Object.keys(e).sort((s,l)=>Number(Zx(s))-Number(Zx(l))).map(s=>({query:s,styles:e[s]}));return{...t,media:o}}function kT(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function BT(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function UT(e){return typeof e=="object"&&e!==null?lr(e).filter(t=>t!=="base"):[]}function $T(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function HT({styleProps:e,data:t,theme:r}){return FT(lr(e).reduce((o,s)=>{if(s==="hiddenFrom"||s==="visibleFrom"||s==="sx")return o;const l=t[s],u=Array.isArray(l.property)?l.property:[l.property],d=BT(e[s]);if(!kT(e[s]))return u.forEach(p=>{o.inlineStyles[p]=Gm[l.type](d,r)}),o;o.hasResponsiveStyles=!0;const f=UT(e[s]);return u.forEach(p=>{d!=null&&(o.styles[p]=Gm[l.type](d,r)),f.forEach(g=>{const y=`(min-width: ${r.breakpoints[g]})`;o.media[y]={...o.media[y],[p]:Gm[l.type]($T(e[s],g),r)}})}),o},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function qT(){return`__m__-${C.useId().replace(/[:]/g,"")}`}function ay(e,t){return Array.isArray(e)?[...e].reduce((r,o)=>({...r,...ay(o,t)}),{}):typeof e=="function"?e(t):e??{}}function xS(e){return e.startsWith("data-")?e:`data-${e}`}function GT(e){return Object.keys(e).reduce((t,r)=>{const o=e[r];return o===void 0||o===""||o===!1||o===null||(t[xS(r)]=e[r]),t},{})}function wS(e){return e?typeof e=="string"?{[xS(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...wS(r)}),{}):GT(e):null}function xg(e,t){return Array.isArray(e)?[...e].reduce((r,o)=>({...r,...xg(o,t)}),{}):typeof e=="function"?e(t):e??{}}function VT({theme:e,style:t,vars:r,styleProps:o}){const s=xg(t,e),l=xg(r,e);return{...s,...l,...o}}const SS=C.forwardRef(({component:e,style:t,__vars:r,className:o,variant:s,mod:l,size:u,hiddenFrom:d,visibleFrom:f,lightHidden:p,darkHidden:g,renderRoot:y,__size:x,...w},_)=>{const E=xi(),T=e||"div",{styleProps:N,rest:R}=Nc(w),L=qM()?.()?.(N.sx),F=qT(),U=HT({styleProps:N,theme:E,data:OT}),I={ref:_,style:VT({theme:E,style:t,vars:r,styleProps:U.inlineStyles}),className:$n(o,L,{[F]:U.hasResponsiveStyles,"mantine-light-hidden":p,"mantine-dark-hidden":g,[`mantine-hidden-from-${d}`]:d,[`mantine-visible-from-${f}`]:f}),"data-variant":s,"data-size":rS(u)?void 0:u||void 0,size:x,...wS(l),...R};return D.jsxs(D.Fragment,{children:[U.hasResponsiveStyles&&D.jsx(bS,{selector:`.${F}`,styles:U.styles,media:U.media}),typeof y=="function"?y(I):D.jsx(T,{...I})]})});SS.displayName="@mantine/core/Box";const Ge=SS;function CS(e){return e}function YT(e){const t=e;return r=>{const o=C.forwardRef((s,l)=>D.jsx(t,{...r,...s,ref:l}));return o.extend=t.extend,o.displayName=`WithProps(${t.displayName})`,o}}function tt(e){const t=C.forwardRef(e);return t.extend=CS,t.withProps=r=>{const o=C.forwardRef((s,l)=>D.jsx(t,{...r,...s,ref:l}));return o.extend=t.extend,o.displayName=`WithProps(${t.displayName})`,o},t}function Tr(e){const t=C.forwardRef(e);return t.withProps=r=>{const o=C.forwardRef((s,l)=>D.jsx(t,{...r,...s,ref:l}));return o.extend=t.extend,o.displayName=`WithProps(${t.displayName})`,o},t.extend=CS,t}const _S=C.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Ic(){return C.useContext(_S)}function KT({children:e,initialDirection:t="ltr",detectDirection:r=!0}){const[o,s]=C.useState(t),l=C.useCallback(f=>{s(f),document.documentElement.getAttribute("dir")!==f&&document.documentElement.setAttribute("dir",f)},[]),u=()=>l(o==="ltr"?"rtl":"ltr");za(()=>{if(r){const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&s(f)}},[]);const d=C.useCallback(()=>{if(typeof document>"u")return;const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&s(p=>p!==f?f:p)},[]);return LM(d,r?{attributes:!0,attributeFilter:["dir"]}:{},typeof document<"u"&&r?document.documentElement:null),D.jsx(_S.Provider,{value:{dir:o,toggleDirection:u,setDirection:l},children:e})}var Cs=K1();const XT=Xf(Cs);function WT(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Vm(e){return e?.current?e.current.scrollHeight:"auto"}const ac=typeof window<"u"&&window.requestAnimationFrame,Jx=0,QT=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function ZT({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:o,keepMounted:s=!1}){const l=C.useRef(null),u=QT(s),[d,f]=C.useState(o?{}:u),p=_=>{Cs.flushSync(()=>f(_))},g=_=>{p(E=>({...E,..._}))};function y(_){const E=e||WT(_);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}jl(()=>{typeof ac=="function"&&ac(o?()=>{g({willChange:"height",display:"block",overflow:"hidden"}),ac(()=>{const _=Vm(l);g({...y(_),height:_})})}:()=>{const _=Vm(l);g({...y(_),willChange:"height",height:_}),ac(()=>g({height:Jx,overflow:"hidden"}))})},[o]);const x=_=>{if(!(_.target!==l.current||_.propertyName!=="height"))if(o){const E=Vm(l);E===d.height?p({}):g({height:E}),r()}else d.height===Jx&&(p(u),r())};function w({style:_={},refKey:E="ref",...T}={}){const N=T[E],R={"aria-hidden":!o,...T,[E]:uS(l,N),onTransitionEnd:x,style:{boxSizing:"border-box",..._,...d}};return Qi.version.startsWith("18")?o||(R.inert=""):R.inert=!o,R}return w}const JT={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},ES=tt((e,t)=>{const{children:r,in:o,transitionDuration:s,transitionTimingFunction:l,style:u,onTransitionEnd:d,animateOpacity:f,keepMounted:p,...g}=Ue("Collapse",JT,e),y=xi(),x=Jg(),_=(y.respectReducedMotion?x:!1)?0:s,E=ZT({opened:o,transitionDuration:_,transitionTimingFunction:l,onTransitionEnd:d,keepMounted:p});return _===0?o?D.jsx(Ge,{...g,children:r}):null:D.jsx(Ge,{...E({style:{opacity:o||!f?1:0,transition:f?`opacity ${_}ms ${l}`:"none",...ay(u,y)},ref:t,...g}),children:r})});ES.displayName="@mantine/core/Collapse";function nh(){return typeof window<"u"}function Wl(e){return OS(e)?(e.nodeName||"").toLowerCase():"#document"}function kr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function lo(e){var t;return(t=(OS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function OS(e){return nh()?e instanceof Node||e instanceof kr(e).Node:!1}function mn(e){return nh()?e instanceof Element||e instanceof kr(e).Element:!1}function ei(e){return nh()?e instanceof HTMLElement||e instanceof kr(e).HTMLElement:!1}function wg(e){return!nh()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof kr(e).ShadowRoot}const eP=new Set(["inline","contents"]);function jc(e){const{overflow:t,overflowX:r,overflowY:o,display:s}=vi(e);return/auto|scroll|overlay|hidden|clip/.test(t+o+r)&&!eP.has(s)}const tP=new Set(["table","td","th"]);function nP(e){return tP.has(Wl(e))}const rP=[":popover-open",":modal"];function rh(e){return rP.some(t=>{try{return e.matches(t)}catch{return!1}})}const iP=["transform","translate","scale","rotate","perspective"],oP=["transform","translate","scale","rotate","perspective","filter"],aP=["paint","layout","strict","content"];function sy(e){const t=ih(),r=mn(e)?vi(e):e;return iP.some(o=>r[o]?r[o]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||oP.some(o=>(r.willChange||"").includes(o))||aP.some(o=>(r.contain||"").includes(o))}function sP(e){let t=Bo(e);for(;ei(t)&&!Lo(t);){if(sy(t))return t;if(rh(t))return null;t=Bo(t)}return null}function ih(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lP=new Set(["html","body","#document"]);function Lo(e){return lP.has(Wl(e))}function vi(e){return kr(e).getComputedStyle(e)}function oh(e){return mn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Bo(e){if(Wl(e)==="html")return e;const t=e.assignedSlot||e.parentNode||wg(e)&&e.host||lo(e);return wg(t)?t.host:t}function MS(e){const t=Bo(e);return Lo(t)?e.ownerDocument?e.ownerDocument.body:e.body:ei(t)&&jc(t)?t:MS(t)}function Fo(e,t,r){var o;t===void 0&&(t=[]),r===void 0&&(r=!0);const s=MS(e),l=s===((o=e.ownerDocument)==null?void 0:o.body),u=kr(s);if(l){const d=Sg(u);return t.concat(u,u.visualViewport||[],jc(s)?s:[],d&&r?Fo(d):[])}return t.concat(s,Fo(s,[],r))}function Sg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const uP=["top","right","bottom","left"],zi=Math.min,mr=Math.max,jf=Math.round,uf=Math.floor,eo=e=>({x:e,y:e}),cP={left:"right",right:"left",bottom:"top",top:"bottom"},dP={start:"end",end:"start"};function Cg(e,t,r){return mr(e,zi(t,r))}function ro(e,t){return typeof e=="function"?e(t):e}function Li(e){return e.split("-")[0]}function Ql(e){return e.split("-")[1]}function ly(e){return e==="x"?"y":"x"}function uy(e){return e==="y"?"height":"width"}const fP=new Set(["top","bottom"]);function Ai(e){return fP.has(Li(e))?"y":"x"}function cy(e){return ly(Ai(e))}function hP(e,t,r){r===void 0&&(r=!1);const o=Ql(e),s=cy(e),l=uy(s);let u=s==="x"?o===(r?"end":"start")?"right":"left":o==="start"?"bottom":"top";return t.reference[l]>t.floating[l]&&(u=zf(u)),[u,zf(u)]}function pP(e){const t=zf(e);return[_g(e),t,_g(t)]}function _g(e){return e.replace(/start|end/g,t=>dP[t])}const ew=["left","right"],tw=["right","left"],mP=["top","bottom"],gP=["bottom","top"];function yP(e,t,r){switch(e){case"top":case"bottom":return r?t?tw:ew:t?ew:tw;case"left":case"right":return t?mP:gP;default:return[]}}function vP(e,t,r,o){const s=Ql(e);let l=yP(Li(e),r==="start",o);return s&&(l=l.map(u=>u+"-"+s),t&&(l=l.concat(l.map(_g)))),l}function zf(e){return e.replace(/left|right|bottom|top/g,t=>cP[t])}function bP(e){return{top:0,right:0,bottom:0,left:0,...e}}function dy(e){return typeof e!="number"?bP(e):{top:e,right:e,bottom:e,left:e}}function zl(e){const{x:t,y:r,width:o,height:s}=e;return{width:o,height:s,top:r,left:t,right:t+o,bottom:r+s,x:t,y:r}}function xP(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function wP(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:o}=t;return r+"/"+o}).join(" "):navigator.userAgent}function SP(){return/apple/i.test(navigator.vendor)}function CP(){return xP().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function _P(){return wP().includes("jsdom/")}const nw="data-floating-ui-focusable",EP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function rw(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Sc(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&wg(r)){let o=t;for(;o;){if(e===o)return!0;o=o.parentNode||o.host}}return!1}function Ml(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Ym(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function OP(e){return e.matches("html,body")}function ms(e){return e?.ownerDocument||document}function MP(e){return ei(e)&&e.matches(EP)}function TP(e){if(!e||_P())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function PP(e){return e?e.hasAttribute(nw)?e:e.querySelector("["+nw+"]")||e:null}function Ef(e,t,r){return r===void 0&&(r=!0),e.filter(s=>{var l;return s.parentId===t&&(!r||((l=s.context)==null?void 0:l.open))}).flatMap(s=>[s,...Ef(e,s.id,r)])}function RP(e){return"nativeEvent"in e}function Eg(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}var DP=typeof document<"u",AP=function(){},to=DP?C.useLayoutEffect:AP;const NP={...Kg};function cf(e){const t=C.useRef(e);return to(()=>{t.current=e}),t}const IP=NP.useInsertionEffect,jP=IP||(e=>e());function Ji(e){const t=C.useRef(()=>{});return jP(()=>{t.current=e}),C.useCallback(function(){for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t.current==null?void 0:t.current(...o)},[])}function iw(e,t,r){let{reference:o,floating:s}=e;const l=Ai(t),u=cy(t),d=uy(u),f=Li(t),p=l==="y",g=o.x+o.width/2-s.width/2,y=o.y+o.height/2-s.height/2,x=o[d]/2-s[d]/2;let w;switch(f){case"top":w={x:g,y:o.y-s.height};break;case"bottom":w={x:g,y:o.y+o.height};break;case"right":w={x:o.x+o.width,y};break;case"left":w={x:o.x-s.width,y};break;default:w={x:o.x,y:o.y}}switch(Ql(t)){case"start":w[u]-=x*(r&&p?-1:1);break;case"end":w[u]+=x*(r&&p?-1:1);break}return w}const zP=async(e,t,r)=>{const{placement:o="bottom",strategy:s="absolute",middleware:l=[],platform:u}=r,d=l.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let p=await u.getElementRects({reference:e,floating:t,strategy:s}),{x:g,y}=iw(p,o,f),x=o,w={},_=0;for(let E=0;E<d.length;E++){const{name:T,fn:N}=d[E],{x:R,y:j,data:L,reset:F}=await N({x:g,y,initialPlacement:o,placement:x,strategy:s,middlewareData:w,rects:p,platform:u,elements:{reference:e,floating:t}});g=R??g,y=j??y,w={...w,[T]:{...w[T],...L}},F&&_<=50&&(_++,typeof F=="object"&&(F.placement&&(x=F.placement),F.rects&&(p=F.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:s}):F.rects),{x:g,y}=iw(p,x,f)),E=-1)}return{x:g,y,placement:x,strategy:s,middlewareData:w}};async function Cc(e,t){var r;t===void 0&&(t={});const{x:o,y:s,platform:l,rects:u,elements:d,strategy:f}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=ro(t,e),_=dy(w),T=d[x?y==="floating"?"reference":"floating":y],N=zl(await l.getClippingRect({element:(r=await(l.isElement==null?void 0:l.isElement(T)))==null||r?T:T.contextElement||await(l.getDocumentElement==null?void 0:l.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:f})),R=y==="floating"?{x:o,y:s,width:u.floating.width,height:u.floating.height}:u.reference,j=await(l.getOffsetParent==null?void 0:l.getOffsetParent(d.floating)),L=await(l.isElement==null?void 0:l.isElement(j))?await(l.getScale==null?void 0:l.getScale(j))||{x:1,y:1}:{x:1,y:1},F=zl(l.convertOffsetParentRelativeRectToViewportRelativeRect?await l.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:j,strategy:f}):R);return{top:(N.top-F.top+_.top)/L.y,bottom:(F.bottom-N.bottom+_.bottom)/L.y,left:(N.left-F.left+_.left)/L.x,right:(F.right-N.right+_.right)/L.x}}const LP=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:o,placement:s,rects:l,platform:u,elements:d,middlewareData:f}=t,{element:p,padding:g=0}=ro(e,t)||{};if(p==null)return{};const y=dy(g),x={x:r,y:o},w=cy(s),_=uy(w),E=await u.getDimensions(p),T=w==="y",N=T?"top":"left",R=T?"bottom":"right",j=T?"clientHeight":"clientWidth",L=l.reference[_]+l.reference[w]-x[w]-l.floating[_],F=x[w]-l.reference[w],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let I=U?U[j]:0;(!I||!await(u.isElement==null?void 0:u.isElement(U)))&&(I=d.floating[j]||l.floating[_]);const G=L/2-F/2,le=I/2-E[_]/2-1,he=zi(y[N],le),ve=zi(y[R],le),pe=he,Me=I-E[_]-ve,ce=I/2-E[_]/2+G,Oe=Cg(pe,ce,Me),B=!f.arrow&&Ql(s)!=null&&ce!==Oe&&l.reference[_]/2-(ce<pe?he:ve)-E[_]/2<0,J=B?ce<pe?ce-pe:ce-Me:0;return{[w]:x[w]+J,data:{[w]:Oe,centerOffset:ce-Oe-J,...B&&{alignmentOffset:J}},reset:B}}}),FP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,o;const{placement:s,middlewareData:l,rects:u,initialPlacement:d,platform:f,elements:p}=t,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...T}=ro(e,t);if((r=l.arrow)!=null&&r.alignmentOffset)return{};const N=Li(s),R=Ai(d),j=Li(d)===d,L=await(f.isRTL==null?void 0:f.isRTL(p.floating)),F=x||(j||!E?[zf(d)]:pP(d)),U=_!=="none";!x&&U&&F.push(...vP(d,E,_,L));const I=[d,...F],G=await Cc(t,T),le=[];let he=((o=l.flip)==null?void 0:o.overflows)||[];if(g&&le.push(G[N]),y){const ce=hP(s,u,L);le.push(G[ce[0]],G[ce[1]])}if(he=[...he,{placement:s,overflows:le}],!le.every(ce=>ce<=0)){var ve,pe;const ce=(((ve=l.flip)==null?void 0:ve.index)||0)+1,Oe=I[ce];if(Oe&&(!(y==="alignment"?R!==Ai(Oe):!1)||he.every(K=>Ai(K.placement)===R?K.overflows[0]>0:!0)))return{data:{index:ce,overflows:he},reset:{placement:Oe}};let B=(pe=he.filter(J=>J.overflows[0]<=0).sort((J,K)=>J.overflows[1]-K.overflows[1])[0])==null?void 0:pe.placement;if(!B)switch(w){case"bestFit":{var Me;const J=(Me=he.filter(K=>{if(U){const be=Ai(K.placement);return be===R||be==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(be=>be>0).reduce((be,Ce)=>be+Ce,0)]).sort((K,be)=>K[1]-be[1])[0])==null?void 0:Me[0];J&&(B=J);break}case"initialPlacement":B=d;break}if(s!==B)return{reset:{placement:B}}}return{}}}};function ow(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aw(e){return uP.some(t=>e[t]>=0)}const kP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:o="referenceHidden",...s}=ro(e,t);switch(o){case"referenceHidden":{const l=await Cc(t,{...s,elementContext:"reference"}),u=ow(l,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:aw(u)}}}case"escaped":{const l=await Cc(t,{...s,altBoundary:!0}),u=ow(l,r.floating);return{data:{escapedOffsets:u,escaped:aw(u)}}}default:return{}}}}};function TS(e){const t=zi(...e.map(l=>l.left)),r=zi(...e.map(l=>l.top)),o=mr(...e.map(l=>l.right)),s=mr(...e.map(l=>l.bottom));return{x:t,y:r,width:o-t,height:s-r}}function BP(e){const t=e.slice().sort((s,l)=>s.y-l.y),r=[];let o=null;for(let s=0;s<t.length;s++){const l=t[s];!o||l.y-o.y>o.height/2?r.push([l]):r[r.length-1].push(l),o=l}return r.map(s=>zl(TS(s)))}const UP=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:o,rects:s,platform:l,strategy:u}=t,{padding:d=2,x:f,y:p}=ro(e,t),g=Array.from(await(l.getClientRects==null?void 0:l.getClientRects(o.reference))||[]),y=BP(g),x=zl(TS(g)),w=dy(d);function _(){if(y.length===2&&y[0].left>y[1].right&&f!=null&&p!=null)return y.find(T=>f>T.left-w.left&&f<T.right+w.right&&p>T.top-w.top&&p<T.bottom+w.bottom)||x;if(y.length>=2){if(Ai(r)==="y"){const he=y[0],ve=y[y.length-1],pe=Li(r)==="top",Me=he.top,ce=ve.bottom,Oe=pe?he.left:ve.left,B=pe?he.right:ve.right,J=B-Oe,K=ce-Me;return{top:Me,bottom:ce,left:Oe,right:B,width:J,height:K,x:Oe,y:Me}}const T=Li(r)==="left",N=mr(...y.map(he=>he.right)),R=zi(...y.map(he=>he.left)),j=y.filter(he=>T?he.left===R:he.right===N),L=j[0].top,F=j[j.length-1].bottom,U=R,I=N,G=I-U,le=F-L;return{top:L,bottom:F,left:U,right:I,width:G,height:le,x:U,y:L}}return x}const E=await l.getElementRects({reference:{getBoundingClientRect:_},floating:o.floating,strategy:u});return s.reference.x!==E.reference.x||s.reference.y!==E.reference.y||s.reference.width!==E.reference.width||s.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},PS=new Set(["left","top"]);async function $P(e,t){const{placement:r,platform:o,elements:s}=e,l=await(o.isRTL==null?void 0:o.isRTL(s.floating)),u=Li(r),d=Ql(r),f=Ai(r)==="y",p=PS.has(u)?-1:1,g=l&&f?-1:1,y=ro(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof _=="number"&&(w=d==="end"?_*-1:_),f?{x:w*g,y:x*p}:{x:x*p,y:w*g}}const HP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,o;const{x:s,y:l,placement:u,middlewareData:d}=t,f=await $P(t,e);return u===((r=d.offset)==null?void 0:r.placement)&&(o=d.arrow)!=null&&o.alignmentOffset?{}:{x:s+f.x,y:l+f.y,data:{...f,placement:u}}}}},qP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:o,placement:s}=t,{mainAxis:l=!0,crossAxis:u=!1,limiter:d={fn:T=>{let{x:N,y:R}=T;return{x:N,y:R}}},...f}=ro(e,t),p={x:r,y:o},g=await Cc(t,f),y=Ai(Li(s)),x=ly(y);let w=p[x],_=p[y];if(l){const T=x==="y"?"top":"left",N=x==="y"?"bottom":"right",R=w+g[T],j=w-g[N];w=Cg(R,w,j)}if(u){const T=y==="y"?"top":"left",N=y==="y"?"bottom":"right",R=_+g[T],j=_-g[N];_=Cg(R,_,j)}const E=d.fn({...t,[x]:w,[y]:_});return{...E,data:{x:E.x-r,y:E.y-o,enabled:{[x]:l,[y]:u}}}}}},GP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:o,placement:s,rects:l,middlewareData:u}=t,{offset:d=0,mainAxis:f=!0,crossAxis:p=!0}=ro(e,t),g={x:r,y:o},y=Ai(s),x=ly(y);let w=g[x],_=g[y];const E=ro(d,t),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const j=x==="y"?"height":"width",L=l.reference[x]-l.floating[j]+T.mainAxis,F=l.reference[x]+l.reference[j]-T.mainAxis;w<L?w=L:w>F&&(w=F)}if(p){var N,R;const j=x==="y"?"width":"height",L=PS.has(Li(s)),F=l.reference[y]-l.floating[j]+(L&&((N=u.offset)==null?void 0:N[y])||0)+(L?0:T.crossAxis),U=l.reference[y]+l.reference[j]+(L?0:((R=u.offset)==null?void 0:R[y])||0)-(L?T.crossAxis:0);_<F?_=F:_>U&&(_=U)}return{[x]:w,[y]:_}}}},VP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,o;const{placement:s,rects:l,platform:u,elements:d}=t,{apply:f=()=>{},...p}=ro(e,t),g=await Cc(t,p),y=Li(s),x=Ql(s),w=Ai(s)==="y",{width:_,height:E}=l.floating;let T,N;y==="top"||y==="bottom"?(T=y,N=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=y,T=x==="end"?"top":"bottom");const R=E-g.top-g.bottom,j=_-g.left-g.right,L=zi(E-g[T],R),F=zi(_-g[N],j),U=!t.middlewareData.shift;let I=L,G=F;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(G=j),(o=t.middlewareData.shift)!=null&&o.enabled.y&&(I=R),U&&!x){const he=mr(g.left,0),ve=mr(g.right,0),pe=mr(g.top,0),Me=mr(g.bottom,0);w?G=_-2*(he!==0||ve!==0?he+ve:mr(g.left,g.right)):I=E-2*(pe!==0||Me!==0?pe+Me:mr(g.top,g.bottom))}await f({...t,availableWidth:G,availableHeight:I});const le=await u.getDimensions(d.floating);return _!==le.width||E!==le.height?{reset:{rects:!0}}:{}}}};function RS(e){const t=vi(e);let r=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const s=ei(e),l=s?e.offsetWidth:r,u=s?e.offsetHeight:o,d=jf(r)!==l||jf(o)!==u;return d&&(r=l,o=u),{width:r,height:o,$:d}}function fy(e){return mn(e)?e:e.contextElement}function Al(e){const t=fy(e);if(!ei(t))return eo(1);const r=t.getBoundingClientRect(),{width:o,height:s,$:l}=RS(t);let u=(l?jf(r.width):r.width)/o,d=(l?jf(r.height):r.height)/s;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const YP=eo(0);function DS(e){const t=kr(e);return!ih()||!t.visualViewport?YP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function KP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==kr(e)?!1:t}function xs(e,t,r,o){t===void 0&&(t=!1),r===void 0&&(r=!1);const s=e.getBoundingClientRect(),l=fy(e);let u=eo(1);t&&(o?mn(o)&&(u=Al(o)):u=Al(e));const d=KP(l,r,o)?DS(l):eo(0);let f=(s.left+d.x)/u.x,p=(s.top+d.y)/u.y,g=s.width/u.x,y=s.height/u.y;if(l){const x=kr(l),w=o&&mn(o)?kr(o):o;let _=x,E=Sg(_);for(;E&&o&&w!==_;){const T=Al(E),N=E.getBoundingClientRect(),R=vi(E),j=N.left+(E.clientLeft+parseFloat(R.paddingLeft))*T.x,L=N.top+(E.clientTop+parseFloat(R.paddingTop))*T.y;f*=T.x,p*=T.y,g*=T.x,y*=T.y,f+=j,p+=L,_=kr(E),E=Sg(_)}}return zl({width:g,height:y,x:f,y:p})}function ah(e,t){const r=oh(e).scrollLeft;return t?t.left+r:xs(lo(e)).left+r}function AS(e,t){const r=e.getBoundingClientRect(),o=r.left+t.scrollLeft-ah(e,r),s=r.top+t.scrollTop;return{x:o,y:s}}function XP(e){let{elements:t,rect:r,offsetParent:o,strategy:s}=e;const l=s==="fixed",u=lo(o),d=t?rh(t.floating):!1;if(o===u||d&&l)return r;let f={scrollLeft:0,scrollTop:0},p=eo(1);const g=eo(0),y=ei(o);if((y||!y&&!l)&&((Wl(o)!=="body"||jc(u))&&(f=oh(o)),ei(o))){const w=xs(o);p=Al(o),g.x=w.x+o.clientLeft,g.y=w.y+o.clientTop}const x=u&&!y&&!l?AS(u,f):eo(0);return{width:r.width*p.x,height:r.height*p.y,x:r.x*p.x-f.scrollLeft*p.x+g.x+x.x,y:r.y*p.y-f.scrollTop*p.y+g.y+x.y}}function WP(e){return Array.from(e.getClientRects())}function QP(e){const t=lo(e),r=oh(e),o=e.ownerDocument.body,s=mr(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),l=mr(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let u=-r.scrollLeft+ah(e);const d=-r.scrollTop;return vi(o).direction==="rtl"&&(u+=mr(t.clientWidth,o.clientWidth)-s),{width:s,height:l,x:u,y:d}}const sw=25;function ZP(e,t){const r=kr(e),o=lo(e),s=r.visualViewport;let l=o.clientWidth,u=o.clientHeight,d=0,f=0;if(s){l=s.width,u=s.height;const g=ih();(!g||g&&t==="fixed")&&(d=s.offsetLeft,f=s.offsetTop)}const p=ah(o);if(p<=0){const g=o.ownerDocument,y=g.body,x=getComputedStyle(y),w=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,_=Math.abs(o.clientWidth-y.clientWidth-w);_<=sw&&(l-=_)}else p<=sw&&(l+=p);return{width:l,height:u,x:d,y:f}}const JP=new Set(["absolute","fixed"]);function eR(e,t){const r=xs(e,!0,t==="fixed"),o=r.top+e.clientTop,s=r.left+e.clientLeft,l=ei(e)?Al(e):eo(1),u=e.clientWidth*l.x,d=e.clientHeight*l.y,f=s*l.x,p=o*l.y;return{width:u,height:d,x:f,y:p}}function lw(e,t,r){let o;if(t==="viewport")o=ZP(e,r);else if(t==="document")o=QP(lo(e));else if(mn(t))o=eR(t,r);else{const s=DS(e);o={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return zl(o)}function NS(e,t){const r=Bo(e);return r===t||!mn(r)||Lo(r)?!1:vi(r).position==="fixed"||NS(r,t)}function tR(e,t){const r=t.get(e);if(r)return r;let o=Fo(e,[],!1).filter(d=>mn(d)&&Wl(d)!=="body"),s=null;const l=vi(e).position==="fixed";let u=l?Bo(e):e;for(;mn(u)&&!Lo(u);){const d=vi(u),f=sy(u);!f&&d.position==="fixed"&&(s=null),(l?!f&&!s:!f&&d.position==="static"&&!!s&&JP.has(s.position)||jc(u)&&!f&&NS(e,u))?o=o.filter(g=>g!==u):s=d,u=Bo(u)}return t.set(e,o),o}function nR(e){let{element:t,boundary:r,rootBoundary:o,strategy:s}=e;const u=[...r==="clippingAncestors"?rh(t)?[]:tR(t,this._c):[].concat(r),o],d=u[0],f=u.reduce((p,g)=>{const y=lw(t,g,s);return p.top=mr(y.top,p.top),p.right=zi(y.right,p.right),p.bottom=zi(y.bottom,p.bottom),p.left=mr(y.left,p.left),p},lw(t,d,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function rR(e){const{width:t,height:r}=RS(e);return{width:t,height:r}}function iR(e,t,r){const o=ei(t),s=lo(t),l=r==="fixed",u=xs(e,!0,l,t);let d={scrollLeft:0,scrollTop:0};const f=eo(0);function p(){f.x=ah(s)}if(o||!o&&!l)if((Wl(t)!=="body"||jc(s))&&(d=oh(t)),o){const w=xs(t,!0,l,t);f.x=w.x+t.clientLeft,f.y=w.y+t.clientTop}else s&&p();l&&!o&&s&&p();const g=s&&!o&&!l?AS(s,d):eo(0),y=u.left+d.scrollLeft-f.x-g.x,x=u.top+d.scrollTop-f.y-g.y;return{x:y,y:x,width:u.width,height:u.height}}function Km(e){return vi(e).position==="static"}function uw(e,t){if(!ei(e)||vi(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return lo(e)===r&&(r=r.ownerDocument.body),r}function IS(e,t){const r=kr(e);if(rh(e))return r;if(!ei(e)){let s=Bo(e);for(;s&&!Lo(s);){if(mn(s)&&!Km(s))return s;s=Bo(s)}return r}let o=uw(e,t);for(;o&&nP(o)&&Km(o);)o=uw(o,t);return o&&Lo(o)&&Km(o)&&!sy(o)?r:o||sP(e)||r}const oR=async function(e){const t=this.getOffsetParent||IS,r=this.getDimensions,o=await r(e.floating);return{reference:iR(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:o.width,height:o.height}}};function aR(e){return vi(e).direction==="rtl"}const sR={convertOffsetParentRelativeRectToViewportRelativeRect:XP,getDocumentElement:lo,getClippingRect:nR,getOffsetParent:IS,getElementRects:oR,getClientRects:WP,getDimensions:rR,getScale:Al,isElement:mn,isRTL:aR};function jS(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function lR(e,t){let r=null,o;const s=lo(e);function l(){var d;clearTimeout(o),(d=r)==null||d.disconnect(),r=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),l();const p=e.getBoundingClientRect(),{left:g,top:y,width:x,height:w}=p;if(d||t(),!x||!w)return;const _=uf(y),E=uf(s.clientWidth-(g+x)),T=uf(s.clientHeight-(y+w)),N=uf(g),j={rootMargin:-_+"px "+-E+"px "+-T+"px "+-N+"px",threshold:mr(0,zi(1,f))||1};let L=!0;function F(U){const I=U[0].intersectionRatio;if(I!==f){if(!L)return u();I?u(!1,I):o=setTimeout(()=>{u(!1,1e-7)},1e3)}I===1&&!jS(p,e.getBoundingClientRect())&&u(),L=!1}try{r=new IntersectionObserver(F,{...j,root:s.ownerDocument})}catch{r=new IntersectionObserver(F,j)}r.observe(e)}return u(!0),l}function Og(e,t,r,o){o===void 0&&(o={});const{ancestorScroll:s=!0,ancestorResize:l=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=o,p=fy(e),g=s||l?[...p?Fo(p):[],...Fo(t)]:[];g.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),l&&N.addEventListener("resize",r)});const y=p&&d?lR(p,r):null;let x=-1,w=null;u&&(w=new ResizeObserver(N=>{let[R]=N;R&&R.target===p&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var j;(j=w)==null||j.observe(t)})),r()}),p&&!f&&w.observe(p),w.observe(t));let _,E=f?xs(e):null;f&&T();function T(){const N=xs(e);E&&!jS(E,N)&&r(),E=N,_=requestAnimationFrame(T)}return r(),()=>{var N;g.forEach(R=>{s&&R.removeEventListener("scroll",r),l&&R.removeEventListener("resize",r)}),y?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(_)}}const uR=HP,cR=qP,dR=FP,fR=VP,hR=kP,cw=LP,pR=UP,mR=GP,gR=(e,t,r)=>{const o=new Map,s={platform:sR,...r},l={...s.platform,_c:o};return zP(e,t,{...s,platform:l})};var yR=typeof document<"u",vR=function(){},Of=yR?C.useLayoutEffect:vR;function Lf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,o,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(o=r;o--!==0;)if(!Lf(e[o],t[o]))return!1;return!0}if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!{}.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){const l=s[o];if(!(l==="_owner"&&e.$$typeof)&&!Lf(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function zS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dw(e,t){const r=zS(e);return Math.round(t*r)/r}function Xm(e){const t=C.useRef(e);return Of(()=>{t.current=e}),t}function bR(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:o=[],platform:s,elements:{reference:l,floating:u}={},transform:d=!0,whileElementsMounted:f,open:p}=e,[g,y]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=C.useState(o);Lf(x,o)||w(o);const[_,E]=C.useState(null),[T,N]=C.useState(null),R=C.useCallback(K=>{K!==U.current&&(U.current=K,E(K))},[]),j=C.useCallback(K=>{K!==I.current&&(I.current=K,N(K))},[]),L=l||_,F=u||T,U=C.useRef(null),I=C.useRef(null),G=C.useRef(g),le=f!=null,he=Xm(f),ve=Xm(s),pe=Xm(p),Me=C.useCallback(()=>{if(!U.current||!I.current)return;const K={placement:t,strategy:r,middleware:x};ve.current&&(K.platform=ve.current),gR(U.current,I.current,K).then(be=>{const Ce={...be,isPositioned:pe.current!==!1};ce.current&&!Lf(G.current,Ce)&&(G.current=Ce,Cs.flushSync(()=>{y(Ce)}))})},[x,t,r,ve,pe]);Of(()=>{p===!1&&G.current.isPositioned&&(G.current.isPositioned=!1,y(K=>({...K,isPositioned:!1})))},[p]);const ce=C.useRef(!1);Of(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Of(()=>{if(L&&(U.current=L),F&&(I.current=F),L&&F){if(he.current)return he.current(L,F,Me);Me()}},[L,F,Me,he,le]);const Oe=C.useMemo(()=>({reference:U,floating:I,setReference:R,setFloating:j}),[R,j]),B=C.useMemo(()=>({reference:L,floating:F}),[L,F]),J=C.useMemo(()=>{const K={position:r,left:0,top:0};if(!B.floating)return K;const be=dw(B.floating,g.x),Ce=dw(B.floating,g.y);return d?{...K,transform:"translate("+be+"px, "+Ce+"px)",...zS(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:be,top:Ce}},[r,d,B.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:Me,refs:Oe,elements:B,floatingStyles:J}),[g,Me,Oe,B,J])}const xR=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:o,padding:s}=typeof e=="function"?e(r):e;return o&&t(o)?o.current!=null?cw({element:o.current,padding:s}).fn(r):{}:o?cw({element:o,padding:s}).fn(r):{}}}},LS=(e,t)=>({...uR(e),options:[e,t]}),hy=(e,t)=>({...cR(e),options:[e,t]}),fw=(e,t)=>({...mR(e),options:[e,t]}),Ff=(e,t)=>({...dR(e),options:[e,t]}),wR=(e,t)=>({...fR(e),options:[e,t]}),SR=(e,t)=>({...hR(e),options:[e,t]}),yc=(e,t)=>({...pR(e),options:[e,t]}),FS=(e,t)=>({...xR(e),options:[e,t]});function kS(e){const t=C.useRef(void 0),r=C.useCallback(o=>{const s=e.map(l=>{if(l!=null){if(typeof l=="function"){const u=l,d=u(o);return typeof d=="function"?d:()=>{u(null)}}return l.current=o,()=>{l.current=null}}});return()=>{s.forEach(l=>l?.())}},e);return C.useMemo(()=>e.every(o=>o==null)?null:o=>{t.current&&(t.current(),t.current=void 0),o!=null&&(t.current=r(o))},e)}const CR="data-floating-ui-focusable",hw="active",pw="selected",_R={...Kg};let mw=!1,ER=0;const gw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+ER++;function OR(){const[e,t]=C.useState(()=>mw?gw():void 0);return to(()=>{e==null&&t(gw())},[]),C.useEffect(()=>{mw=!0},[]),e}const MR=_R.useId,BS=MR||OR;function TR(){const e=new Map;return{emit(t,r){var o;(o=e.get(t))==null||o.forEach(s=>s(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var o;(o=e.get(t))==null||o.delete(r)}}}const PR=C.createContext(null),RR=C.createContext(null),py=()=>{var e;return((e=C.useContext(PR))==null?void 0:e.id)||null},my=()=>C.useContext(RR);function gy(e){return"data-floating-ui-"+e}function mi(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const yw=gy("safe-polygon");function Mf(e,t,r){if(r&&!Eg(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const o=e();return typeof o=="number"?o:o?.[t]}return e?.[t]}function Wm(e){return typeof e=="function"?e():e}function DR(e,t){t===void 0&&(t={});const{open:r,onOpenChange:o,dataRef:s,events:l,elements:u}=e,{enabled:d=!0,delay:f=0,handleClose:p=null,mouseOnly:g=!1,restMs:y=0,move:x=!0}=t,w=my(),_=py(),E=cf(p),T=cf(f),N=cf(r),R=cf(y),j=C.useRef(),L=C.useRef(-1),F=C.useRef(),U=C.useRef(-1),I=C.useRef(!0),G=C.useRef(!1),le=C.useRef(()=>{}),he=C.useRef(!1),ve=Ji(()=>{var J;const K=(J=s.current.openEvent)==null?void 0:J.type;return K?.includes("mouse")&&K!=="mousedown"});C.useEffect(()=>{if(!d)return;function J(K){let{open:be}=K;be||(mi(L),mi(U),I.current=!0,he.current=!1)}return l.on("openchange",J),()=>{l.off("openchange",J)}},[d,l]),C.useEffect(()=>{if(!d||!E.current||!r)return;function J(be){ve()&&o(!1,be,"hover")}const K=ms(u.floating).documentElement;return K.addEventListener("mouseleave",J),()=>{K.removeEventListener("mouseleave",J)}},[u.floating,r,o,d,E,ve]);const pe=C.useCallback(function(J,K,be){K===void 0&&(K=!0),be===void 0&&(be="hover");const Ce=Mf(T.current,"close",j.current);Ce&&!F.current?(mi(L),L.current=window.setTimeout(()=>o(!1,J,be),Ce)):K&&(mi(L),o(!1,J,be))},[T,o]),Me=Ji(()=>{le.current(),F.current=void 0}),ce=Ji(()=>{if(G.current){const J=ms(u.floating).body;J.style.pointerEvents="",J.removeAttribute(yw),G.current=!1}}),Oe=Ji(()=>s.current.openEvent?["click","mousedown"].includes(s.current.openEvent.type):!1);C.useEffect(()=>{if(!d)return;function J(re){if(mi(L),I.current=!1,g&&!Eg(j.current)||Wm(R.current)>0&&!Mf(T.current,"open"))return;const we=Mf(T.current,"open",j.current);we?L.current=window.setTimeout(()=>{N.current||o(!0,re,"hover")},we):r||o(!0,re,"hover")}function K(re){if(Oe()){ce();return}le.current();const we=ms(u.floating);if(mi(U),he.current=!1,E.current&&s.current.floatingContext){r||mi(L),F.current=E.current({...s.current.floatingContext,tree:w,x:re.clientX,y:re.clientY,onClose(){ce(),Me(),Oe()||pe(re,!0,"safe-polygon")}});const Ie=F.current;we.addEventListener("mousemove",Ie),le.current=()=>{we.removeEventListener("mousemove",Ie)};return}(j.current!=="touch"||!Sc(u.floating,re.relatedTarget))&&pe(re)}function be(re){Oe()||s.current.floatingContext&&(E.current==null||E.current({...s.current.floatingContext,tree:w,x:re.clientX,y:re.clientY,onClose(){ce(),Me(),Oe()||pe(re)}})(re))}function Ce(){mi(L)}function H(re){Oe()||pe(re,!1)}if(mn(u.domReference)){const re=u.domReference,we=u.floating;return r&&re.addEventListener("mouseleave",be),x&&re.addEventListener("mousemove",J,{once:!0}),re.addEventListener("mouseenter",J),re.addEventListener("mouseleave",K),we&&(we.addEventListener("mouseleave",be),we.addEventListener("mouseenter",Ce),we.addEventListener("mouseleave",H)),()=>{r&&re.removeEventListener("mouseleave",be),x&&re.removeEventListener("mousemove",J),re.removeEventListener("mouseenter",J),re.removeEventListener("mouseleave",K),we&&(we.removeEventListener("mouseleave",be),we.removeEventListener("mouseenter",Ce),we.removeEventListener("mouseleave",H))}}},[u,d,e,g,x,pe,Me,ce,o,r,N,w,T,E,s,Oe,R]),to(()=>{var J;if(d&&r&&(J=E.current)!=null&&(J=J.__options)!=null&&J.blockPointerEvents&&ve()){G.current=!0;const be=u.floating;if(mn(u.domReference)&&be){var K;const Ce=ms(u.floating).body;Ce.setAttribute(yw,"");const H=u.domReference,re=w==null||(K=w.nodesRef.current.find(we=>we.id===_))==null||(K=K.context)==null?void 0:K.elements.floating;return re&&(re.style.pointerEvents=""),Ce.style.pointerEvents="none",H.style.pointerEvents="auto",be.style.pointerEvents="auto",()=>{Ce.style.pointerEvents="",H.style.pointerEvents="",be.style.pointerEvents=""}}}},[d,r,_,u,w,E,ve]),to(()=>{r||(j.current=void 0,he.current=!1,Me(),ce())},[r,Me,ce]),C.useEffect(()=>()=>{Me(),mi(L),mi(U),ce()},[d,u.domReference,Me,ce]);const B=C.useMemo(()=>{function J(K){j.current=K.pointerType}return{onPointerDown:J,onPointerEnter:J,onMouseMove(K){const{nativeEvent:be}=K;function Ce(){!I.current&&!N.current&&o(!0,be,"hover")}g&&!Eg(j.current)||r||Wm(R.current)===0||he.current&&K.movementX**2+K.movementY**2<2||(mi(U),j.current==="touch"?Ce():(he.current=!0,U.current=window.setTimeout(Ce,Wm(R.current))))}}},[g,o,r,N,R]);return C.useMemo(()=>d?{reference:B}:{},[d,B])}const Mg=()=>{},US=C.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Mg,setState:Mg,isInstantPhase:!1}),AR=()=>C.useContext(US);function NR(e){const{children:t,delay:r,timeoutMs:o=0}=e,[s,l]=C.useReducer((f,p)=>({...f,...p}),{delay:r,timeoutMs:o,initialDelay:r,currentId:null,isInstantPhase:!1}),u=C.useRef(null),d=C.useCallback(f=>{l({currentId:f})},[]);return to(()=>{s.currentId?u.current===null?u.current=s.currentId:s.isInstantPhase||l({isInstantPhase:!0}):(s.isInstantPhase&&l({isInstantPhase:!1}),u.current=null)},[s.currentId,s.isInstantPhase]),D.jsx(US.Provider,{value:C.useMemo(()=>({...s,setState:l,setCurrentId:d}),[s,d]),children:t})}function IR(e,t){t===void 0&&(t={});const{open:r,onOpenChange:o,floatingId:s}=e,{id:l,enabled:u=!0}=t,d=l??s,f=AR(),{currentId:p,setCurrentId:g,initialDelay:y,setState:x,timeoutMs:w}=f;return to(()=>{u&&p&&(x({delay:{open:1,close:Mf(y,"close")}}),p!==d&&o(!1))},[u,d,o,x,p,y]),to(()=>{function _(){o(!1),x({delay:y,currentId:null})}if(u&&p&&!r&&p===d){if(w){const E=window.setTimeout(_,w);return()=>{clearTimeout(E)}}_()}},[u,r,x,p,d,o,y,w]),to(()=>{u&&(g===Mg||!r||g(d))},[u,r,g,d]),f}const jR={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},zR={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},vw=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};function LR(e,t){t===void 0&&(t={});const{open:r,onOpenChange:o,elements:s,dataRef:l}=e,{enabled:u=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:p="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:x=!1,bubbles:w,capture:_}=t,E=my(),T=Ji(typeof f=="function"?f:()=>!1),N=typeof f=="function"?T:f,R=C.useRef(!1),{escapeKey:j,outsidePress:L}=vw(w),{escapeKey:F,outsidePress:U}=vw(_),I=C.useRef(!1),G=Ji(ce=>{var Oe;if(!r||!u||!d||ce.key!=="Escape"||I.current)return;const B=(Oe=l.current.floatingContext)==null?void 0:Oe.nodeId,J=E?Ef(E.nodesRef.current,B):[];if(!j&&(ce.stopPropagation(),J.length>0)){let K=!0;if(J.forEach(be=>{var Ce;if((Ce=be.context)!=null&&Ce.open&&!be.context.dataRef.current.__escapeKeyBubbles){K=!1;return}}),!K)return}o(!1,RP(ce)?ce.nativeEvent:ce,"escape-key")}),le=Ji(ce=>{var Oe;const B=()=>{var J;G(ce),(J=Ml(ce))==null||J.removeEventListener("keydown",B)};(Oe=Ml(ce))==null||Oe.addEventListener("keydown",B)}),he=Ji(ce=>{var Oe;const B=l.current.insideReactTree;l.current.insideReactTree=!1;const J=R.current;if(R.current=!1,p==="click"&&J||B||typeof N=="function"&&!N(ce))return;const K=Ml(ce),be="["+gy("inert")+"]",Ce=ms(s.floating).querySelectorAll(be);let H=mn(K)?K:null;for(;H&&!Lo(H);){const Ie=Bo(H);if(Lo(Ie)||!mn(Ie))break;H=Ie}if(Ce.length&&mn(K)&&!OP(K)&&!Sc(K,s.floating)&&Array.from(Ce).every(Ie=>!Sc(H,Ie)))return;if(ei(K)&&Me){const Ie=Lo(K),He=vi(K),nt=/auto|scroll/,xt=Ie||nt.test(He.overflowX),Ae=Ie||nt.test(He.overflowY),Zt=xt&&K.clientWidth>0&&K.scrollWidth>K.clientWidth,sn=Ae&&K.clientHeight>0&&K.scrollHeight>K.clientHeight,Ze=He.direction==="rtl",ft=sn&&(Ze?ce.offsetX<=K.offsetWidth-K.clientWidth:ce.offsetX>K.clientWidth),$t=Zt&&ce.offsetY>K.clientHeight;if(ft||$t)return}const re=(Oe=l.current.floatingContext)==null?void 0:Oe.nodeId,we=E&&Ef(E.nodesRef.current,re).some(Ie=>{var He;return Ym(ce,(He=Ie.context)==null?void 0:He.elements.floating)});if(Ym(ce,s.floating)||Ym(ce,s.domReference)||we)return;const De=E?Ef(E.nodesRef.current,re):[];if(De.length>0){let Ie=!0;if(De.forEach(He=>{var nt;if((nt=He.context)!=null&&nt.open&&!He.context.dataRef.current.__outsidePressBubbles){Ie=!1;return}}),!Ie)return}o(!1,ce,"outside-press")}),ve=Ji(ce=>{var Oe;const B=()=>{var J;he(ce),(J=Ml(ce))==null||J.removeEventListener(p,B)};(Oe=Ml(ce))==null||Oe.addEventListener(p,B)});C.useEffect(()=>{if(!r||!u)return;l.current.__escapeKeyBubbles=j,l.current.__outsidePressBubbles=L;let ce=-1;function Oe(Ce){o(!1,Ce,"ancestor-scroll")}function B(){window.clearTimeout(ce),I.current=!0}function J(){ce=window.setTimeout(()=>{I.current=!1},ih()?5:0)}const K=ms(s.floating);d&&(K.addEventListener("keydown",F?le:G,F),K.addEventListener("compositionstart",B),K.addEventListener("compositionend",J)),N&&K.addEventListener(p,U?ve:he,U);let be=[];return x&&(mn(s.domReference)&&(be=Fo(s.domReference)),mn(s.floating)&&(be=be.concat(Fo(s.floating))),!mn(s.reference)&&s.reference&&s.reference.contextElement&&(be=be.concat(Fo(s.reference.contextElement)))),be=be.filter(Ce=>{var H;return Ce!==((H=K.defaultView)==null?void 0:H.visualViewport)}),be.forEach(Ce=>{Ce.addEventListener("scroll",Oe,{passive:!0})}),()=>{d&&(K.removeEventListener("keydown",F?le:G,F),K.removeEventListener("compositionstart",B),K.removeEventListener("compositionend",J)),N&&K.removeEventListener(p,U?ve:he,U),be.forEach(Ce=>{Ce.removeEventListener("scroll",Oe)}),window.clearTimeout(ce)}},[l,s,d,N,p,r,o,x,u,j,L,G,F,le,he,U,ve]),C.useEffect(()=>{l.current.insideReactTree=!1},[l,N,p]);const pe=C.useMemo(()=>({onKeyDown:G,...g&&{[jR[y]]:ce=>{o(!1,ce.nativeEvent,"reference-press")},...y!=="click"&&{onClick(ce){o(!1,ce.nativeEvent,"reference-press")}}}}),[G,o,g,y]),Me=C.useMemo(()=>({onKeyDown:G,onMouseDown(){R.current=!0},onMouseUp(){R.current=!0},[zR[p]]:()=>{l.current.insideReactTree=!0}}),[G,p,l]);return C.useMemo(()=>u?{reference:pe,floating:Me}:{},[u,pe,Me])}function FR(e){const{open:t=!1,onOpenChange:r,elements:o}=e,s=BS(),l=C.useRef({}),[u]=C.useState(()=>TR()),d=py()!=null,[f,p]=C.useState(o.reference),g=Ji((w,_,E)=>{l.current.openEvent=w?_:void 0,u.emit("openchange",{open:w,event:_,reason:E,nested:d}),r?.(w,_,E)}),y=C.useMemo(()=>({setPositionReference:p}),[]),x=C.useMemo(()=>({reference:f||o.reference||null,floating:o.floating||null,domReference:o.reference}),[f,o.reference,o.floating]);return C.useMemo(()=>({dataRef:l,open:t,onOpenChange:g,elements:x,events:u,floatingId:s,refs:y}),[t,g,x,u,s,y])}function yy(e){e===void 0&&(e={});const{nodeId:t}=e,r=FR({...e,elements:{reference:null,floating:null,...e.elements}}),o=e.rootContext||r,s=o.elements,[l,u]=C.useState(null),[d,f]=C.useState(null),g=s?.domReference||l,y=C.useRef(null),x=my();to(()=>{g&&(y.current=g)},[g]);const w=bR({...e,elements:{...s,...d&&{reference:d}}}),_=C.useCallback(j=>{const L=mn(j)?{getBoundingClientRect:()=>j.getBoundingClientRect(),getClientRects:()=>j.getClientRects(),contextElement:j}:j;f(L),w.refs.setReference(L)},[w.refs]),E=C.useCallback(j=>{(mn(j)||j===null)&&(y.current=j,u(j)),(mn(w.refs.reference.current)||w.refs.reference.current===null||j!==null&&!mn(j))&&w.refs.setReference(j)},[w.refs]),T=C.useMemo(()=>({...w.refs,setReference:E,setPositionReference:_,domReference:y}),[w.refs,E,_]),N=C.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),R=C.useMemo(()=>({...w,...o,refs:T,elements:N,nodeId:t}),[w,T,N,t,o]);return to(()=>{o.dataRef.current.floatingContext=R;const j=x?.nodesRef.current.find(L=>L.id===t);j&&(j.context=R)}),C.useMemo(()=>({...w,context:R,refs:T,elements:N}),[w,T,N,R])}function Qm(){return CP()&&SP()}function kR(e,t){t===void 0&&(t={});const{open:r,onOpenChange:o,events:s,dataRef:l,elements:u}=e,{enabled:d=!0,visibleOnly:f=!0}=t,p=C.useRef(!1),g=C.useRef(-1),y=C.useRef(!0);C.useEffect(()=>{if(!d)return;const w=kr(u.domReference);function _(){!r&&ei(u.domReference)&&u.domReference===rw(ms(u.domReference))&&(p.current=!0)}function E(){y.current=!0}function T(){y.current=!1}return w.addEventListener("blur",_),Qm()&&(w.addEventListener("keydown",E,!0),w.addEventListener("pointerdown",T,!0)),()=>{w.removeEventListener("blur",_),Qm()&&(w.removeEventListener("keydown",E,!0),w.removeEventListener("pointerdown",T,!0))}},[u.domReference,r,d]),C.useEffect(()=>{if(!d)return;function w(_){let{reason:E}=_;(E==="reference-press"||E==="escape-key")&&(p.current=!0)}return s.on("openchange",w),()=>{s.off("openchange",w)}},[s,d]),C.useEffect(()=>()=>{mi(g)},[]);const x=C.useMemo(()=>({onMouseLeave(){p.current=!1},onFocus(w){if(p.current)return;const _=Ml(w.nativeEvent);if(f&&mn(_)){if(Qm()&&!w.relatedTarget){if(!y.current&&!MP(_))return}else if(!TP(_))return}o(!0,w.nativeEvent,"focus")},onBlur(w){p.current=!1;const _=w.relatedTarget,E=w.nativeEvent,T=mn(_)&&_.hasAttribute(gy("focus-guard"))&&_.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var N;const R=rw(u.domReference?u.domReference.ownerDocument:document);!_&&R===u.domReference||Sc((N=l.current.floatingContext)==null?void 0:N.refs.floating.current,R)||Sc(u.domReference,R)||T||o(!1,E,"focus")})}}),[l,u.domReference,o,f]);return C.useMemo(()=>d?{reference:x}:{},[d,x])}function Zm(e,t,r){const o=new Map,s=r==="item";let l=e;if(s&&e){const{[hw]:u,[pw]:d,...f}=e;l=f}return{...r==="floating"&&{tabIndex:-1,[CR]:""},...l,...t.map(u=>{const d=u?u[r]:null;return typeof d=="function"?e?d(e):null:d}).concat(e).reduce((u,d)=>(d&&Object.entries(d).forEach(f=>{let[p,g]=f;if(!(s&&[hw,pw].includes(p)))if(p.indexOf("on")===0){if(o.has(p)||o.set(p,[]),typeof g=="function"){var y;(y=o.get(p))==null||y.push(g),u[p]=function(){for(var x,w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];return(x=o.get(p))==null?void 0:x.map(T=>T(..._)).find(T=>T!==void 0)}}}else u[p]=g}),u),{})}}function BR(e){e===void 0&&(e=[]);const t=e.map(d=>d?.reference),r=e.map(d=>d?.floating),o=e.map(d=>d?.item),s=C.useCallback(d=>Zm(d,e,"reference"),t),l=C.useCallback(d=>Zm(d,e,"floating"),r),u=C.useCallback(d=>Zm(d,e,"item"),o);return C.useMemo(()=>({getReferenceProps:s,getFloatingProps:l,getItemProps:u}),[s,l,u])}const UR=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function $R(e,t){var r,o;t===void 0&&(t={});const{open:s,elements:l,floatingId:u}=e,{enabled:d=!0,role:f="dialog"}=t,p=BS(),g=((r=l.domReference)==null?void 0:r.id)||p,y=C.useMemo(()=>{var R;return((R=PP(l.floating))==null?void 0:R.id)||u},[l.floating,u]),x=(o=UR.get(f))!=null?o:f,_=py()!=null,E=C.useMemo(()=>x==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:s?y:void 0}:{"aria-expanded":s?"true":"false","aria-haspopup":x==="alertdialog"?"dialog":x,"aria-controls":s?y:void 0,...x==="listbox"&&{role:"combobox"},...x==="menu"&&{id:g},...x==="menu"&&_&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[x,y,_,s,g,f]),T=C.useMemo(()=>{const R={id:y,...x&&{role:x}};return x==="tooltip"||f==="label"?R:{...R,...x==="menu"&&{"aria-labelledby":g}}},[x,y,g,f]),N=C.useCallback(R=>{let{active:j,selected:L}=R;const F={role:"option",...j&&{id:y+"-fui-option"}};switch(f){case"select":case"combobox":return{...F,"aria-selected":L}}return{}},[y,f]);return C.useMemo(()=>d?{reference:E,floating:T,item:N}:{},[d,E,T,N])}const[HR,wi]=ao("ScrollArea.Root component was not found in tree");function Ll(e,t){const r=ps(t);za(()=>{let o=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(o),o=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(o),s.unobserve(e)}}},[e,r])}const qR=C.forwardRef((e,t)=>{const{style:r,...o}=e,s=wi(),[l,u]=C.useState(0),[d,f]=C.useState(0),p=!!(l&&d);return Ll(s.scrollbarX,()=>{const g=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(g),f(g)}),Ll(s.scrollbarY,()=>{const g=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(g),u(g)}),p?D.jsx("div",{...o,ref:t,style:{...r,width:l,height:d}}):null}),GR=C.forwardRef((e,t)=>{const r=wi(),o=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&o?D.jsx(qR,{...e,ref:t}):null}),VR={scrollHideDelay:1e3,type:"hover"},$S=C.forwardRef((e,t)=>{const{type:r,scrollHideDelay:o,scrollbars:s,getStyles:l,...u}=Ue("ScrollAreaRoot",VR,e),[d,f]=C.useState(null),[p,g]=C.useState(null),[y,x]=C.useState(null),[w,_]=C.useState(null),[E,T]=C.useState(null),[N,R]=C.useState(0),[j,L]=C.useState(0),[F,U]=C.useState(!1),[I,G]=C.useState(!1),le=Br(t,he=>f(he));return D.jsx(HR,{value:{type:r,scrollHideDelay:o,scrollArea:d,viewport:p,onViewportChange:g,content:y,onContentChange:x,scrollbarX:w,onScrollbarXChange:_,scrollbarXEnabled:F,onScrollbarXEnabledChange:U,scrollbarY:E,onScrollbarYChange:T,scrollbarYEnabled:I,onScrollbarYEnabledChange:G,onCornerWidthChange:R,onCornerHeightChange:L,getStyles:l},children:D.jsx(Ge,{...u,ref:le,__vars:{"--sa-corner-width":s!=="xy"?"0px":`${N}px`,"--sa-corner-height":s!=="xy"?"0px":`${j}px`}})})});$S.displayName="@mantine/core/ScrollAreaRoot";function HS(e,t){const r=e/t;return Number.isNaN(r)?0:r}function sh(e){const t=HS(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=(e.scrollbar.size-r)*t;return Math.max(o,18)}function qS(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const o=(t[1]-t[0])/(e[1]-e[0]);return t[0]+o*(r-e[0])}}function YR(e,[t,r]){return Math.min(r,Math.max(t,e))}function bw(e,t,r="ltr"){const o=sh(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-s,u=t.content-t.viewport,d=l-o,f=r==="ltr"?[0,u]:[u*-1,0],p=YR(e,f);return qS([0,u],[0,d])(p)}function KR(e,t,r,o="ltr"){const s=sh(r),l=s/2,u=t||l,d=s-u,f=r.scrollbar.paddingStart+u,p=r.scrollbar.size-r.scrollbar.paddingEnd-d,g=r.content-r.viewport,y=o==="ltr"?[0,g]:[g*-1,0];return qS([f,p],y)(e)}function GS(e,t){return e>0&&e<t}function kf(e){return e?parseInt(e,10):0}function bs(e,t,{checkForDefaultPrevented:r=!0}={}){return o=>{e?.(o),(r===!1||!o.defaultPrevented)&&t?.(o)}}const[XR,VS]=ao("ScrollAreaScrollbar was not found in tree"),YS=C.forwardRef((e,t)=>{const{sizes:r,hasThumb:o,onThumbChange:s,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:g,...y}=e,x=wi(),[w,_]=C.useState(null),E=Br(t,G=>_(G)),T=C.useRef(null),N=C.useRef(""),{viewport:R}=x,j=r.content-r.viewport,L=ps(p),F=ps(d),U=Qf(g,10),I=G=>{if(T.current){const le=G.clientX-T.current.left,he=G.clientY-T.current.top;f({x:le,y:he})}};return C.useEffect(()=>{const G=le=>{const he=le.target;w?.contains(he)&&L(le,j)};return document.addEventListener("wheel",G,{passive:!1}),()=>document.removeEventListener("wheel",G,{passive:!1})},[R,w,j,L]),C.useEffect(F,[r,F]),Ll(w,U),Ll(x.content,U),D.jsx(XR,{value:{scrollbar:w,hasThumb:o,onThumbChange:ps(s),onThumbPointerUp:ps(l),onThumbPositionChange:F,onThumbPointerDown:ps(u)},children:D.jsx("div",{...y,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:bs(e.onPointerDown,G=>{G.preventDefault(),G.button===0&&(G.target.setPointerCapture(G.pointerId),T.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(G))}),onPointerMove:bs(e.onPointerMove,I),onPointerUp:bs(e.onPointerUp,G=>{const le=G.target;le.hasPointerCapture(G.pointerId)&&(G.preventDefault(),le.releasePointerCapture(G.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=N.current,T.current=null}})})}),KS=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,style:s,...l}=e,u=wi(),[d,f]=C.useState(),p=C.useRef(null),g=Br(t,p,u.onScrollbarXChange);return C.useEffect(()=>{p.current&&f(getComputedStyle(p.current))},[p]),D.jsx(YS,{"data-orientation":"horizontal",...l,ref:g,sizes:r,style:{...s,"--sa-thumb-width":`${sh(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,x)=>{if(u.viewport){const w=u.viewport.scrollLeft+y.deltaX;e.onWheelScroll(w),GS(w,x)&&y.preventDefault()}},onResize:()=>{p.current&&u.viewport&&d&&o({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:p.current.clientWidth,paddingStart:kf(d.paddingLeft),paddingEnd:kf(d.paddingRight)}})}})});KS.displayName="@mantine/core/ScrollAreaScrollbarX";const XS=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:o,style:s,...l}=e,u=wi(),[d,f]=C.useState(),p=C.useRef(null),g=Br(t,p,u.onScrollbarYChange);return C.useEffect(()=>{p.current&&f(window.getComputedStyle(p.current))},[]),D.jsx(YS,{...l,"data-orientation":"vertical",ref:g,sizes:r,style:{"--sa-thumb-height":`${sh(r)}px`,...s},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,x)=>{if(u.viewport){const w=u.viewport.scrollTop+y.deltaY;e.onWheelScroll(w),GS(w,x)&&y.preventDefault()}},onResize:()=>{p.current&&u.viewport&&d&&o({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:p.current.clientHeight,paddingStart:kf(d.paddingTop),paddingEnd:kf(d.paddingBottom)}})}})});XS.displayName="@mantine/core/ScrollAreaScrollbarY";const lh=C.forwardRef((e,t)=>{const{orientation:r="vertical",...o}=e,{dir:s}=Ic(),l=wi(),u=C.useRef(null),d=C.useRef(0),[f,p]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=HS(f.viewport,f.content),y={...o,sizes:f,onSizesChange:p,hasThumb:g>0&&g<1,onThumbChange:w=>{u.current=w},onThumbPointerUp:()=>{d.current=0},onThumbPointerDown:w=>{d.current=w}},x=(w,_)=>KR(w,d.current,f,_);return r==="horizontal"?D.jsx(KS,{...y,ref:t,onThumbPositionChange:()=>{if(l.viewport&&u.current){const w=l.viewport.scrollLeft,_=bw(w,f,s);u.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:w=>{l.viewport&&(l.viewport.scrollLeft=w)},onDragScroll:w=>{l.viewport&&(l.viewport.scrollLeft=x(w,s))}}):r==="vertical"?D.jsx(XS,{...y,ref:t,onThumbPositionChange:()=>{if(l.viewport&&u.current){const w=l.viewport.scrollTop,_=bw(w,f);f.scrollbar.size===0?u.current.style.setProperty("--thumb-opacity","0"):u.current.style.setProperty("--thumb-opacity","1"),u.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:w=>{l.viewport&&(l.viewport.scrollTop=w)},onDragScroll:w=>{l.viewport&&(l.viewport.scrollTop=x(w))}}):null});lh.displayName="@mantine/core/ScrollAreaScrollbarVisible";const vy=C.forwardRef((e,t)=>{const r=wi(),{forceMount:o,...s}=e,[l,u]=C.useState(!1),d=e.orientation==="horizontal",f=Qf(()=>{if(r.viewport){const p=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?p:g)}},10);return Ll(r.viewport,f),Ll(r.content,f),o||l?D.jsx(lh,{"data-state":l?"visible":"hidden",...s,ref:t}):null});vy.displayName="@mantine/core/ScrollAreaScrollbarAuto";const WS=C.forwardRef((e,t)=>{const{forceMount:r,...o}=e,s=wi(),[l,u]=C.useState(!1);return C.useEffect(()=>{const{scrollArea:d}=s;let f=0;if(d){const p=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),s.scrollHideDelay)};return d.addEventListener("pointerenter",p),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",p),d.removeEventListener("pointerleave",g)}}},[s.scrollArea,s.scrollHideDelay]),r||l?D.jsx(vy,{"data-state":l?"visible":"hidden",...o,ref:t}):null});WS.displayName="@mantine/core/ScrollAreaScrollbarHover";const WR=C.forwardRef((e,t)=>{const{forceMount:r,...o}=e,s=wi(),l=e.orientation==="horizontal",[u,d]=C.useState("hidden"),f=Qf(()=>d("idle"),100);return C.useEffect(()=>{if(u==="idle"){const p=window.setTimeout(()=>d("hidden"),s.scrollHideDelay);return()=>window.clearTimeout(p)}},[u,s.scrollHideDelay]),C.useEffect(()=>{const{viewport:p}=s,g=l?"scrollLeft":"scrollTop";if(p){let y=p[g];const x=()=>{const w=p[g];y!==w&&(d("scrolling"),f()),y=w};return p.addEventListener("scroll",x),()=>p.removeEventListener("scroll",x)}},[s.viewport,l,f]),r||u!=="hidden"?D.jsx(lh,{"data-state":u==="hidden"?"hidden":"visible",...o,ref:t,onPointerEnter:bs(e.onPointerEnter,()=>d("interacting")),onPointerLeave:bs(e.onPointerLeave,()=>d("idle"))}):null}),Tg=C.forwardRef((e,t)=>{const{forceMount:r,...o}=e,s=wi(),{onScrollbarXEnabledChange:l,onScrollbarYEnabledChange:u}=s,d=e.orientation==="horizontal";return C.useEffect(()=>(d?l(!0):u(!0),()=>{d?l(!1):u(!1)}),[d,l,u]),s.type==="hover"?D.jsx(WS,{...o,ref:t,forceMount:r}):s.type==="scroll"?D.jsx(WR,{...o,ref:t,forceMount:r}):s.type==="auto"?D.jsx(vy,{...o,ref:t,forceMount:r}):s.type==="always"?D.jsx(lh,{...o,ref:t}):null});Tg.displayName="@mantine/core/ScrollAreaScrollbar";function QR(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},o=0;return(function s(){const l={left:e.scrollLeft,top:e.scrollTop},u=r.left!==l.left,d=r.top!==l.top;(u||d)&&t(),r=l,o=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(o)}const QS=C.forwardRef((e,t)=>{const{style:r,...o}=e,s=wi(),l=VS(),{onThumbPositionChange:u}=l,d=Br(t,g=>l.onThumbChange(g)),f=C.useRef(void 0),p=Qf(()=>{f.current&&(f.current(),f.current=void 0)},100);return C.useEffect(()=>{const{viewport:g}=s;if(g){const y=()=>{if(p(),!f.current){const x=QR(g,u);f.current=x,u()}};return u(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[s.viewport,p,u]),D.jsx("div",{"data-state":l.hasThumb?"visible":"hidden",...o,ref:d,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:bs(e.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),w=g.clientX-x.left,_=g.clientY-x.top;l.onThumbPointerDown({x:w,y:_})}),onPointerUp:bs(e.onPointerUp,l.onThumbPointerUp)})});QS.displayName="@mantine/core/ScrollAreaThumb";const Pg=C.forwardRef((e,t)=>{const{forceMount:r,...o}=e,s=VS();return r||s.hasThumb?D.jsx(QS,{ref:t,...o}):null});Pg.displayName="@mantine/core/ScrollAreaThumb";const ZS=C.forwardRef(({children:e,style:t,...r},o)=>{const s=wi(),l=Br(o,s.onViewportChange);return D.jsx(Ge,{...r,ref:l,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:D.jsx("div",{...s.getStyles("content"),ref:s.onContentChange,children:e})})});ZS.displayName="@mantine/core/ScrollAreaViewport";var by={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const JS={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},ZR=(e,{scrollbarSize:t,overscrollBehavior:r})=>({root:{"--scrollarea-scrollbar-size":_e(t),"--scrollarea-over-scroll-behavior":r}}),Zl=tt((e,t)=>{const r=Ue("ScrollArea",JS,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,scrollbarSize:f,vars:p,type:g,scrollHideDelay:y,viewportProps:x,viewportRef:w,onScrollPositionChange:_,children:E,offsetScrollbars:T,scrollbars:N,onBottomReached:R,onTopReached:j,overscrollBehavior:L,attributes:F,...U}=r,[I,G]=C.useState(!1),[le,he]=C.useState(!1),[ve,pe]=C.useState(!1),Me=yt({name:"ScrollArea",props:r,classes:by,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:F,vars:p,varsResolver:ZR}),ce=C.useRef(null),Oe=kS([w,ce]);return C.useEffect(()=>{if(!ce.current||T!=="present")return;const B=ce.current,J=new ResizeObserver(()=>{const{scrollHeight:K,clientHeight:be,scrollWidth:Ce,clientWidth:H}=B;he(K>be),pe(Ce>H)});return J.observe(B),()=>J.disconnect()},[ce,T]),D.jsxs($S,{getStyles:Me,type:g==="never"?"always":g,scrollHideDelay:y,ref:t,scrollbars:N,...Me("root"),...U,children:[D.jsx(ZS,{...x,...Me("viewport",{style:x?.style}),ref:Oe,"data-offset-scrollbars":T===!0?"xy":T||void 0,"data-scrollbars":N||void 0,"data-horizontal-hidden":T==="present"&&!ve?"true":void 0,"data-vertical-hidden":T==="present"&&!le?"true":void 0,onScroll:B=>{x?.onScroll?.(B),_?.({x:B.currentTarget.scrollLeft,y:B.currentTarget.scrollTop});const{scrollTop:J,scrollHeight:K,clientHeight:be}=B.currentTarget;J-(K-be)>=-.6&&R?.(),J===0&&j?.()},children:E}),(N==="xy"||N==="x")&&D.jsx(Tg,{...Me("scrollbar"),orientation:"horizontal","data-hidden":g==="never"||T==="present"&&!ve?!0:void 0,forceMount:!0,onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),children:D.jsx(Pg,{...Me("thumb")})}),(N==="xy"||N==="y")&&D.jsx(Tg,{...Me("scrollbar"),orientation:"vertical","data-hidden":g==="never"||T==="present"&&!le?!0:void 0,forceMount:!0,onMouseEnter:()=>G(!0),onMouseLeave:()=>G(!1),children:D.jsx(Pg,{...Me("thumb")})}),D.jsx(GR,{...Me("corner"),"data-hovered":I||void 0,"data-hidden":g==="never"||void 0})]})});Zl.displayName="@mantine/core/ScrollArea";const xy=tt((e,t)=>{const{children:r,classNames:o,styles:s,scrollbarSize:l,scrollHideDelay:u,type:d,dir:f,offsetScrollbars:p,viewportRef:g,onScrollPositionChange:y,unstyled:x,variant:w,viewportProps:_,scrollbars:E,style:T,vars:N,onBottomReached:R,onTopReached:j,onOverflowChange:L,...F}=Ue("ScrollAreaAutosize",JS,e),U=C.useRef(null),I=kS([g,U]),[G,le]=C.useState(!1),he=C.useRef(!1);return C.useEffect(()=>{if(!L)return;const ve=U.current;if(!ve)return;const pe=()=>{const ce=ve.scrollHeight>ve.clientHeight;ce!==G&&(he.current?L?.(ce):(he.current=!0,ce&&L?.(!0)),le(ce))};pe();const Me=new ResizeObserver(pe);return Me.observe(ve),()=>Me.disconnect()},[L,G]),D.jsx(Ge,{...F,ref:t,style:[{display:"flex",overflow:"hidden"},T],children:D.jsx(Ge,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...E==="y"&&{minWidth:0},...E==="x"&&{minHeight:0},...E==="xy"&&{minWidth:0,minHeight:0},...E===!1&&{minWidth:0,minHeight:0}},children:D.jsx(Zl,{classNames:o,styles:s,scrollHideDelay:u,scrollbarSize:l,type:d,dir:f,offsetScrollbars:p,viewportRef:I,onScrollPositionChange:y,unstyled:x,variant:w,viewportProps:_,vars:N,scrollbars:E,onBottomReached:R,onTopReached:j,"data-autosize":"true",children:r})})})});Zl.classes=by;xy.displayName="@mantine/core/ScrollAreaAutosize";xy.classes=by;Zl.Autosize=xy;var eC={root:"m_87cf2631"};const JR={__staticSelector:"UnstyledButton"},_s=Tr((e,t)=>{const r=Ue("UnstyledButton",JR,e),{className:o,component:s="button",__staticSelector:l,unstyled:u,classNames:d,styles:f,style:p,attributes:g,...y}=r,x=yt({name:l,props:r,classes:eC,className:o,style:p,classNames:d,styles:f,unstyled:u,attributes:g});return D.jsx(Ge,{...x("root",{focusable:!0}),component:s,ref:t,type:s==="button"?"button":void 0,...y})});_s.classes=eC;_s.displayName="@mantine/core/UnstyledButton";var tC={root:"m_515a97f8"};const wy=tt((e,t)=>{const r=Ue("VisuallyHidden",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,attributes:p,...g}=r,y=yt({name:"VisuallyHidden",classes:tC,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:p});return D.jsx(Ge,{component:"span",ref:t,...y("root"),...g})});wy.classes=tC;wy.displayName="@mantine/core/VisuallyHidden";var nC={root:"m_1b7284a3"};const eD=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:Vn(t),"--paper-shadow":Qg(r)}}),uh=Tr((e,t)=>{const r=Ue("Paper",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,withBorder:f,vars:p,radius:g,shadow:y,variant:x,mod:w,attributes:_,...E}=r,T=yt({name:"Paper",props:r,classes:nC,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:_,vars:p,varsResolver:eD});return D.jsx(Ge,{ref:t,mod:[{"data-with-border":f},w],...T("root"),variant:x,...E})});uh.classes=nC;uh.displayName="@mantine/core/Paper";function xw(e,t,r,o){return e==="center"||o==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function ww(e,t,r,o,s){return e==="center"||o==="center"?{left:t}:e==="end"?{[s==="ltr"?"right":"left"]:r}:e==="start"?{[s==="ltr"?"left":"right"]:r}:{}}const tD={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function nD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:o,arrowPosition:s,arrowX:l,arrowY:u,dir:d}){const[f,p="center"]=e.split("-"),g={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[tD[f]]:o},y=-t/2;return f==="left"?{...g,...xw(p,u,r,s),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:f==="right"?{...g,...xw(p,u,r,s),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:f==="top"?{...g,...ww(p,l,r,s,d),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:f==="bottom"?{...g,...ww(p,l,r,s,d),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const Bf=C.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:o,arrowPosition:s,visible:l,arrowX:u,arrowY:d,style:f,...p},g)=>{const{dir:y}=Ic();return l?D.jsx("div",{...p,ref:g,style:{...f,...nD({position:e,arrowSize:t,arrowOffset:r,arrowRadius:o,arrowPosition:s,dir:y,arrowX:u,arrowY:d})}}):null});Bf.displayName="@mantine/core/FloatingArrow";function rC(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,o]=t.split("-"),s=r==="right"?"left":"right";return o===void 0?s:`${s}-${o}`}return t}var iC={root:"m_9814e45f"};const rD={zIndex:so("modal")},iD=(e,{gradient:t,color:r,backgroundOpacity:o,blur:s,radius:l,zIndex:u})=>({root:{"--overlay-bg":t||(r!==void 0||o!==void 0)&&Wi(r||"#000",o??.6)||void 0,"--overlay-filter":s?`blur(${_e(s)})`:void 0,"--overlay-radius":l===void 0?void 0:Vn(l),"--overlay-z-index":u?.toString()}}),ch=Tr((e,t)=>{const r=Ue("Overlay",rD,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,fixed:p,center:g,children:y,radius:x,zIndex:w,gradient:_,blur:E,color:T,backgroundOpacity:N,mod:R,attributes:j,...L}=r,F=yt({name:"Overlay",props:r,classes:iC,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:j,vars:f,varsResolver:iD});return D.jsx(Ge,{ref:t,...F("root"),mod:[{center:g,fixed:p},R],...L,children:y})});ch.classes=iC;ch.displayName="@mantine/core/Overlay";function Jm(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function oD({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||Jm(r):e;if(t){const o=document.querySelector("[data-mantine-shared-portal-node]");if(o)return o;const s=Jm(r);return s.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(s),s}return Jm(r)}const aD={reuseTargetNode:!0},oC=tt((e,t)=>{const{children:r,target:o,reuseTargetNode:s,...l}=Ue("Portal",aD,e),[u,d]=C.useState(!1),f=C.useRef(null);return za(()=>(d(!0),f.current=oD({target:o,reuseTargetNode:s,...l}),yg(t,f.current),!o&&!s&&f.current&&document.body.appendChild(f.current),()=>{!o&&!s&&f.current&&document.body.removeChild(f.current)}),[o]),!u||!f.current?null:Cs.createPortal(D.jsx(D.Fragment,{children:r}),f.current)});oC.displayName="@mantine/core/Portal";const ws=tt(({withinPortal:e=!0,children:t,...r},o)=>eh()==="test"||!e?D.jsx(D.Fragment,{children:t}):D.jsx(oC,{ref:o,...r,children:t}));ws.displayName="@mantine/core/OptionalPortal";const sc=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),df={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...sc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...sc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...sc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...sc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...sc("top"),common:{transformOrigin:"top right"}}},Sw={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function sD({transition:e,state:t,duration:r,timingFunction:o}){const s={WebkitBackfaceVisibility:"hidden",transitionDuration:`${r}ms`,transitionTimingFunction:o};return typeof e=="string"?e in df?{transitionProperty:df[e].transitionProperty,...s,...df[e].common,...df[e][Sw[t]]}:{}:{transitionProperty:e.transitionProperty,...s,...e.common,...e[Sw[t]]}}function lD({duration:e,exitDuration:t,timingFunction:r,mounted:o,onEnter:s,onExit:l,onEntered:u,onExited:d,enterDelay:f,exitDelay:p}){const g=xi(),y=Jg(),x=g.respectReducedMotion?y:!1,[w,_]=C.useState(x?0:e),[E,T]=C.useState(o?"entered":"exited"),N=C.useRef(-1),R=C.useRef(-1),j=C.useRef(-1);function L(){window.clearTimeout(N.current),window.clearTimeout(R.current),cancelAnimationFrame(j.current)}const F=I=>{L();const G=I?s:l,le=I?u:d,he=x?0:I?e:t;_(he),he===0?(typeof G=="function"&&G(),typeof le=="function"&&le(),T(I?"entered":"exited")):j.current=requestAnimationFrame(()=>{XT.flushSync(()=>{T(I?"pre-entering":"pre-exiting")}),j.current=requestAnimationFrame(()=>{typeof G=="function"&&G(),T(I?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof le=="function"&&le(),T(I?"entered":"exited")},he)})})},U=I=>{if(L(),typeof(I?f:p)!="number"){F(I);return}R.current=window.setTimeout(()=>{F(I)},I?f:p)};return jl(()=>{U(o)},[o]),C.useEffect(()=>()=>{L()},[]),{transitionDuration:w,transitionStatus:E,transitionTimingFunction:r||"ease"}}function Uo({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:o=r,mounted:s,children:l,timingFunction:u="ease",onExit:d,onEntered:f,onEnter:p,onExited:g,enterDelay:y,exitDelay:x}){const w=eh(),{transitionDuration:_,transitionStatus:E,transitionTimingFunction:T}=lD({mounted:s,exitDuration:o,duration:r,timingFunction:u,onExit:d,onEntered:f,onEnter:p,onExited:g,enterDelay:y,exitDelay:x});return _===0||w==="test"?s?D.jsx(D.Fragment,{children:l({})}):e?l({display:"none"}):null:E==="exited"?e?l({display:"none"}):null:D.jsx(D.Fragment,{children:l(sD({transition:t,duration:_,state:E,timingFunction:T}))})}Uo.displayName="@mantine/core/Transition";const[uD,aC]=ao("Popover component was not found in the tree");function dh({children:e,active:t=!0,refProp:r="ref",innerRef:o}){const s=AM(t),l=Br(s,o),u=Xl(e);return u?C.cloneElement(u,{[r]:l}):e}function sC(e){return D.jsx(wy,{tabIndex:-1,"data-autofocus":!0,...e})}dh.displayName="@mantine/core/FocusTrap";sC.displayName="@mantine/core/FocusTrapInitialFocus";dh.InitialFocus=sC;var lC={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};const Sy=tt((e,t)=>{const r=Ue("PopoverDropdown",null,e),{className:o,style:s,vars:l,children:u,onKeyDownCapture:d,variant:f,classNames:p,styles:g,...y}=r,x=aC(),w=oS({opened:x.opened,shouldReturnFocus:x.returnFocus}),_=x.withRoles?{"aria-labelledby":x.getTargetId(),id:x.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=Br(t,x.floating);return x.disabled?null:D.jsx(ws,{...x.portalProps,withinPortal:x.withinPortal,children:D.jsx(Uo,{mounted:x.opened,...x.transitionProps,transition:x.transitionProps?.transition||"fade",duration:x.transitionProps?.duration??150,keepMounted:x.keepMounted,exitDuration:typeof x.transitionProps?.exitDuration=="number"?x.transitionProps.exitDuration:x.transitionProps?.duration,children:T=>D.jsx(dh,{active:x.trapFocus&&x.opened,innerRef:E,children:D.jsxs(Ge,{..._,...y,variant:f,onKeyDownCapture:bM(()=>{x.onClose?.(),x.onDismiss?.()},{active:x.closeOnEscape,onTrigger:w,onKeyDown:d}),"data-position":x.placement,"data-fixed":x.floatingStrategy==="fixed"||void 0,...x.getStyles("dropdown",{className:o,props:r,classNames:p,styles:g,style:[{...T,zIndex:x.zIndex,top:x.y??0,left:x.x??0,width:x.width==="target"?void 0:_e(x.width),...x.referenceHidden?{display:"none"}:null},x.resolvedStyles.dropdown,g?.dropdown,s]}),children:[u,D.jsx(Bf,{ref:x.arrowRef,arrowX:x.arrowX,arrowY:x.arrowY,visible:x.withArrow,position:x.placement,arrowSize:x.arrowSize,arrowRadius:x.arrowRadius,arrowOffset:x.arrowOffset,arrowPosition:x.arrowPosition,...x.getStyles("arrow",{props:r,classNames:p,styles:g})})]})})})})});Sy.classes=lC;Sy.displayName="@mantine/core/PopoverDropdown";const cD={refProp:"ref",popupType:"dialog"},uC=tt((e,t)=>{const{children:r,refProp:o,popupType:s,...l}=Ue("PopoverTarget",cD,e),u=Xl(r);if(!u)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=l,f=aC(),p=Br(f.reference,Zf(u),t),g=f.withRoles?{"aria-haspopup":s,"aria-expanded":f.opened,"aria-controls":f.getDropdownId(),id:f.getTargetId()}:{},y=u.props;return C.cloneElement(u,{...d,...g,...f.targetProps,className:$n(f.targetProps.className,d.className,y.className),[o]:p,...f.controlled?null:{onClick:()=>{f.onToggle(),y.onClick?.()}}})});uC.displayName="@mantine/core/PopoverTarget";function dD(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function fD(e,t,r){const o=dD(e.middlewares),s=[LS(e.offset),SR()];return e.dropdownVisible&&r!=="test"&&e.preventPositionChangeWhenVisible&&(o.flip=!1),o.shift&&s.push(hy(typeof o.shift=="boolean"?{limiter:fw(),padding:5}:{limiter:fw(),padding:5,...o.shift})),o.flip&&s.push(typeof o.flip=="boolean"?Ff():Ff(o.flip)),o.inline&&s.push(typeof o.inline=="boolean"?yc():yc(o.inline)),s.push(FS({element:e.arrowRef,padding:e.arrowOffset})),(o.size||e.width==="target")&&s.push(wR({...typeof o.size=="boolean"?{}:o.size,apply({rects:l,availableWidth:u,availableHeight:d,...f}){const g=t().refs.floating.current?.style??{};o.size&&(typeof o.size=="object"&&o.size.apply?o.size.apply({rects:l,availableWidth:u,availableHeight:d,...f}):Object.assign(g,{maxWidth:`${u}px`,maxHeight:`${d}px`})),e.width==="target"&&Object.assign(g,{width:`${l.reference.width}px`})}})),s}function hD(e){const t=eh(),[r,o]=Ia({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),s=C.useRef(r),l=()=>{r&&!e.disabled&&o(!1)},u=()=>{e.disabled||o(!r)},d=yy({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:fD(e,()=>d,t),whileElementsMounted:e.keepMounted?void 0:Og});return C.useEffect(()=>{if(!(!d.refs.reference.current||!d.refs.floating.current)&&r)return Og(d.refs.reference.current,d.refs.floating.current,d.update)},[r,d.update]),jl(()=>{e.onPositionChange?.(d.placement),e.positionRef.current=d.placement},[d.placement,e.preventPositionChangeWhenVisible]),jl(()=>{r!==s.current&&(r?e.onOpen?.():e.onClose?.()),s.current=r},[r,e.onClose,e.onOpen]),za(()=>{let f=-1;return r&&(f=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(f)}},[r,e.position]),{floating:d,controlled:typeof e.opened=="boolean",opened:r,onClose:l,onToggle:u}}const pD={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:so("popover"),__staticSelector:"Popover",width:"max-content"},mD=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:Vn(t),"--popover-shadow":Qg(r)}});function La(e){const t=Ue("Popover",pD,e),{children:r,position:o,offset:s,onPositionChange:l,positionDependencies:u,opened:d,transitionProps:f,onExitTransitionEnd:p,onEnterTransitionEnd:g,width:y,middlewares:x,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:N,unstyled:R,classNames:j,styles:L,closeOnClickOutside:F,withinPortal:U,portalProps:I,closeOnEscape:G,clickOutsideEvents:le,trapFocus:he,onClose:ve,onDismiss:pe,onOpen:Me,onChange:ce,zIndex:Oe,radius:B,shadow:J,id:K,defaultOpened:be,__staticSelector:Ce,withRoles:H,disabled:re,returnFocus:we,variant:De,keepMounted:Ie,vars:He,floatingStrategy:nt,withOverlay:xt,overlayProps:Ae,hideDetached:Zt,attributes:sn,preventPositionChangeWhenVisible:Ze,...ft}=t,$t=yt({name:Ce,props:t,classes:lC,classNames:j,styles:L,unstyled:R,attributes:sn,rootSelector:"dropdown",vars:He,varsResolver:mD}),{resolvedStyles:nn}=th({classNames:j,styles:L,props:t}),[gn,yr]=C.useState(d??be??!1),Yn=C.useRef(o),Jt=C.useRef(null),[En,ln]=C.useState(null),[wn,un]=C.useState(null),{dir:qt}=Ic(),_t=eh(),qn=Fi(K),jt=hD({middlewares:x,width:y,position:rC(qt,o),offset:typeof s=="number"?s+(w?_/2:0):s,arrowRef:Jt,arrowOffset:E,onPositionChange:l,positionDependencies:u,opened:d,defaultOpened:be,onChange:ce,onOpen:Me,onClose:ve,onDismiss:pe,strategy:nt,dropdownVisible:gn,setDropdownVisible:yr,positionRef:Yn,disabled:re,preventPositionChangeWhenVisible:Ze,keepMounted:Ie});CM(()=>{F&&(jt.onClose(),pe?.())},le,[En,wn]);const Ht=C.useCallback(Sn=>{ln(Sn),jt.floating.refs.setReference(Sn)},[jt.floating.refs.setReference]),On=C.useCallback(Sn=>{un(Sn),jt.floating.refs.setFloating(Sn)},[jt.floating.refs.setFloating]),ur=C.useCallback(()=>{f?.onExited?.(),p?.(),yr(!1),Ze||(Yn.current=o)},[f?.onExited,p,Ze,o]),ni=C.useCallback(()=>{f?.onEntered?.(),g?.()},[f?.onEntered,g]);return D.jsxs(uD,{value:{returnFocus:we,disabled:re,controlled:jt.controlled,reference:Ht,floating:On,x:jt.floating.x,y:jt.floating.y,arrowX:jt.floating?.middlewareData?.arrow?.x,arrowY:jt.floating?.middlewareData?.arrow?.y,opened:jt.opened,arrowRef:Jt,transitionProps:{...f,onExited:ur,onEntered:ni},width:y,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:N,placement:jt.floating.placement,trapFocus:he,withinPortal:U,portalProps:I,zIndex:Oe,radius:B,shadow:J,closeOnEscape:G,onDismiss:pe,onClose:jt.onClose,onToggle:jt.onToggle,getTargetId:()=>`${qn}-target`,getDropdownId:()=>`${qn}-dropdown`,withRoles:H,targetProps:ft,__staticSelector:Ce,classNames:j,styles:L,unstyled:R,variant:De,keepMounted:Ie,getStyles:$t,resolvedStyles:nn,floatingStrategy:nt,referenceHidden:Zt&&_t!=="test"?jt.floating.middlewareData.hide?.referenceHidden:!1},children:[r,xt&&D.jsx(Uo,{transition:"fade",mounted:jt.opened,duration:f?.duration||250,exitDuration:f?.exitDuration||250,children:Sn=>D.jsx(ws,{withinPortal:U,children:D.jsx(ch,{...Ae,...$t("overlay",{className:Ae?.className,style:[Sn,Ae?.style]})})})})]})}La.Target=uC;La.Dropdown=Sy;La.displayName="@mantine/core/Popover";La.extend=e=>e;var Ni={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const cC=C.forwardRef(({className:e,...t},r)=>D.jsxs(Ge,{component:"span",className:$n(Ni.barsLoader,e),...t,ref:r,children:[D.jsx("span",{className:Ni.bar}),D.jsx("span",{className:Ni.bar}),D.jsx("span",{className:Ni.bar})]}));cC.displayName="@mantine/core/Bars";const dC=C.forwardRef(({className:e,...t},r)=>D.jsxs(Ge,{component:"span",className:$n(Ni.dotsLoader,e),...t,ref:r,children:[D.jsx("span",{className:Ni.dot}),D.jsx("span",{className:Ni.dot}),D.jsx("span",{className:Ni.dot})]}));dC.displayName="@mantine/core/Dots";const fC=C.forwardRef(({className:e,...t},r)=>D.jsx(Ge,{component:"span",className:$n(Ni.ovalLoader,e),...t,ref:r}));fC.displayName="@mantine/core/Oval";const hC={bars:cC,oval:fC,dots:dC},gD={loaders:hC,type:"oval"},yD=(e,{size:t,color:r})=>({root:{"--loader-size":Ft(t,"loader-size"),"--loader-color":r?ji(r,e):void 0}}),ja=tt((e,t)=>{const r=Ue("Loader",gD,e),{size:o,color:s,type:l,vars:u,className:d,style:f,classNames:p,styles:g,unstyled:y,loaders:x,variant:w,children:_,attributes:E,...T}=r,N=yt({name:"Loader",props:r,classes:Ni,className:d,style:f,classNames:p,styles:g,unstyled:y,attributes:E,vars:u,varsResolver:yD});return _?D.jsx(Ge,{...N("root"),ref:t,...T,children:_}):D.jsx(Ge,{...N("root"),ref:t,component:x[l],variant:w,size:o,...T})});ja.defaultLoaders=hC;ja.classes=Ni;ja.displayName="@mantine/core/Loader";var Jl={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const Cw={orientation:"horizontal"},vD=(e,{borderWidth:t})=>({group:{"--ai-border-width":_e(t)}}),Cy=tt((e,t)=>{const r=Ue("ActionIconGroup",Cw,e),{className:o,style:s,classNames:l,styles:u,unstyled:d,orientation:f,vars:p,borderWidth:g,variant:y,mod:x,attributes:w,..._}=Ue("ActionIconGroup",Cw,e),E=yt({name:"ActionIconGroup",props:r,classes:Jl,className:o,style:s,classNames:l,styles:u,unstyled:d,attributes:w,vars:p,varsResolver:vD,rootSelector:"group"});return D.jsx(Ge,{...E("group"),ref:t,variant:y,mod:[{"data-orientation":f},x],role:"group",..._})});Cy.classes=Jl;Cy.displayName="@mantine/core/ActionIconGroup";const bD=(e,{radius:t,color:r,gradient:o,variant:s,autoContrast:l,size:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:o,variant:s||"filled",autoContrast:l});return{groupSection:{"--section-height":Ft(u,"section-height"),"--section-padding-x":Ft(u,"section-padding-x"),"--section-fz":gr(u),"--section-radius":t===void 0?void 0:Vn(t),"--section-bg":r||s?d.background:void 0,"--section-color":d.color,"--section-bd":r||s?d.border:void 0}}},_y=tt((e,t)=>{const r=Ue("ActionIconGroupSection",null,e),{className:o,style:s,classNames:l,styles:u,unstyled:d,vars:f,variant:p,gradient:g,radius:y,autoContrast:x,attributes:w,..._}=r,E=yt({name:"ActionIconGroupSection",props:r,classes:Jl,className:o,style:s,classNames:l,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:bD,rootSelector:"groupSection"});return D.jsx(Ge,{...E("groupSection"),ref:t,variant:p,..._})});_y.classes=Jl;_y.displayName="@mantine/core/ActionIconGroupSection";const xD=(e,{size:t,radius:r,variant:o,gradient:s,color:l,autoContrast:u})=>{const d=e.variantColorResolver({color:l||e.primaryColor,theme:e,gradient:s,variant:o||"filled",autoContrast:u});return{root:{"--ai-size":Ft(t,"ai-size"),"--ai-radius":r===void 0?void 0:Vn(r),"--ai-bg":l||o?d.background:void 0,"--ai-hover":l||o?d.hover:void 0,"--ai-hover-color":l||o?d.hoverColor:void 0,"--ai-color":d.color,"--ai-bd":l||o?d.border:void 0}}},Fa=Tr((e,t)=>{const r=Ue("ActionIcon",null,e),{className:o,unstyled:s,variant:l,classNames:u,styles:d,style:f,loading:p,loaderProps:g,size:y,color:x,radius:w,__staticSelector:_,gradient:E,vars:T,children:N,disabled:R,"data-disabled":j,autoContrast:L,mod:F,attributes:U,...I}=r,G=yt({name:["ActionIcon",_],props:r,className:o,style:f,classes:Jl,classNames:u,styles:d,unstyled:s,attributes:U,vars:T,varsResolver:xD});return D.jsxs(_s,{...G("root",{active:!R&&!p&&!j}),...I,unstyled:s,variant:l,size:y,disabled:R||p,ref:t,mod:[{loading:p,disabled:R||j},F],children:[typeof p=="boolean"&&D.jsx(Uo,{mounted:p,transition:"slide-down",duration:150,children:le=>D.jsx(Ge,{component:"span",...G("loader",{style:le}),"aria-hidden":!0,children:D.jsx(ja,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...g})})}),D.jsx(Ge,{component:"span",mod:{loading:p},...G("icon"),children:N})]})});Fa.classes=Jl;Fa.displayName="@mantine/core/ActionIcon";Fa.Group=Cy;Fa.GroupSection=_y;const pC=C.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},o)=>D.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:o,...r,children:D.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));pC.displayName="@mantine/core/CloseIcon";var mC={root:"m_86a44da5","root--subtle":"m_220c80f2"};const wD={variant:"subtle"},SD=(e,{size:t,radius:r,iconSize:o})=>({root:{"--cb-size":Ft(t,"cb-size"),"--cb-radius":r===void 0?void 0:Vn(r),"--cb-icon-size":_e(o)}}),eu=Tr((e,t)=>{const r=Ue("CloseButton",wD,e),{iconSize:o,children:s,vars:l,radius:u,className:d,classNames:f,style:p,styles:g,unstyled:y,"data-disabled":x,disabled:w,variant:_,icon:E,mod:T,attributes:N,__staticSelector:R,...j}=r,L=yt({name:R||"CloseButton",props:r,className:d,style:p,classes:mC,classNames:f,styles:g,unstyled:y,attributes:N,vars:l,varsResolver:SD});return D.jsxs(_s,{ref:t,...j,unstyled:y,variant:_,disabled:w,mod:[{disabled:w||x},T],...L("root",{variant:_,active:!w&&!x}),children:[E||D.jsx(pC,{}),s]})});eu.classes=mC;eu.displayName="@mantine/core/CloseButton";function CD(e){return C.Children.toArray(e).filter(Boolean)}var gC={root:"m_4081bf90"};const _D={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},ED=(e,{grow:t,preventGrowOverflow:r,gap:o,align:s,justify:l,wrap:u},{childWidth:d})=>({root:{"--group-child-width":t&&r?d:void 0,"--group-gap":Kl(o),"--group-align":s,"--group-justify":l,"--group-wrap":u}}),ko=tt((e,t)=>{const r=Ue("Group",_D,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,children:f,gap:p,align:g,justify:y,wrap:x,grow:w,preventGrowOverflow:_,vars:E,variant:T,__size:N,mod:R,attributes:j,...L}=r,F=CD(f),U=F.length,I=Kl(p??"md"),le={childWidth:`calc(${100/U}% - (${I} - ${I} / ${U}))`},he=yt({name:"Group",props:r,stylesCtx:le,className:s,style:l,classes:gC,classNames:o,styles:u,unstyled:d,attributes:j,vars:E,varsResolver:ED});return D.jsx(Ge,{...he("root"),ref:t,variant:T,mod:[{grow:w},R],size:N,...L,children:F})});ko.classes=gC;ko.displayName="@mantine/core/Group";const[OD,Go]=ao("ModalBase component was not found in tree");function MD({opened:e,transitionDuration:t}){const[r,o]=C.useState(e),s=C.useRef(-1),u=Jg()?0:t;return C.useEffect(()=>(e?(o(!0),window.clearTimeout(s.current)):u===0?o(!1):s.current=window.setTimeout(()=>o(!1),u),()=>window.clearTimeout(s.current)),[e,u]),r}function TD({id:e,transitionProps:t,opened:r,trapFocus:o,closeOnEscape:s,onClose:l,returnFocus:u}){const d=Fi(e),[f,p]=C.useState(!1),[g,y]=C.useState(!1),x=typeof t?.duration=="number"?t?.duration:200,w=MD({opened:r,transitionDuration:x});return Nf("keydown",_=>{_.key==="Escape"&&s&&!_.isComposing&&r&&_.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&l()},{capture:!0}),oS({opened:r,shouldReturnFocus:o&&u}),{_id:d,titleMounted:f,bodyMounted:g,shouldLockScroll:w,setTitleMounted:p,setBodyMounted:y}}const yC=C.forwardRef(({keepMounted:e,opened:t,onClose:r,id:o,transitionProps:s,onExitTransitionEnd:l,onEnterTransitionEnd:u,trapFocus:d,closeOnEscape:f,returnFocus:p,closeOnClickOutside:g,withinPortal:y,portalProps:x,lockScroll:w,children:_,zIndex:E,shadow:T,padding:N,__vars:R,unstyled:j,removeScrollProps:L,...F},U)=>{const{_id:I,titleMounted:G,bodyMounted:le,shouldLockScroll:he,setTitleMounted:ve,setBodyMounted:pe}=TD({id:o,transitionProps:s,opened:t,trapFocus:d,closeOnEscape:f,onClose:r,returnFocus:p}),{key:Me,...ce}=L||{};return D.jsx(ws,{...x,withinPortal:y,children:D.jsx(OD,{value:{opened:t,onClose:r,closeOnClickOutside:g,onExitTransitionEnd:l,onEnterTransitionEnd:u,transitionProps:{...s,keepMounted:e},getTitleId:()=>`${I}-title`,getBodyId:()=>`${I}-body`,titleMounted:G,bodyMounted:le,setTitleMounted:ve,setBodyMounted:pe,trapFocus:d,closeOnEscape:f,zIndex:E,unstyled:j},children:D.jsx(Ac,{enabled:he&&w,...ce,children:D.jsx(Ge,{ref:U,...F,__vars:{...R,"--mb-z-index":(E||so("modal")).toString(),"--mb-shadow":Qg(T),"--mb-padding":Kl(N)},children:_})},Me)})})});yC.displayName="@mantine/core/ModalBase";function PD(){const e=Go();return C.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}var Fl={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const vC=C.forwardRef(({className:e,...t},r)=>{const o=PD(),s=Go();return D.jsx(Ge,{ref:r,...t,id:o,className:$n({[Fl.body]:!s.unstyled},e)})});vC.displayName="@mantine/core/ModalBaseBody";const bC=C.forwardRef(({className:e,onClick:t,...r},o)=>{const s=Go();return D.jsx(eu,{ref:o,...r,onClick:l=>{s.onClose(),t?.(l)},className:$n({[Fl.close]:!s.unstyled},e),unstyled:s.unstyled})});bC.displayName="@mantine/core/ModalBaseCloseButton";const xC=C.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:o,style:s,...l},u)=>{const d=Go();return D.jsx(Uo,{mounted:d.opened,transition:"pop",...d.transitionProps,onExited:()=>{d.onExitTransitionEnd?.(),d.transitionProps?.onExited?.()},onEntered:()=>{d.onEnterTransitionEnd?.(),d.transitionProps?.onEntered?.()},...e,children:f=>D.jsx("div",{...r,className:$n({[Fl.inner]:!d.unstyled},r.className),children:D.jsx(dh,{active:d.opened&&d.trapFocus,innerRef:u,children:D.jsx(uh,{...l,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":d.bodyMounted?d.getBodyId():void 0,"aria-labelledby":d.titleMounted?d.getTitleId():void 0,style:[s,f],className:$n({[Fl.content]:!d.unstyled},t),unstyled:d.unstyled,children:l.children})})})})});xC.displayName="@mantine/core/ModalBaseContent";const wC=C.forwardRef(({className:e,...t},r)=>{const o=Go();return D.jsx(Ge,{component:"header",ref:r,className:$n({[Fl.header]:!o.unstyled},e),...t})});wC.displayName="@mantine/core/ModalBaseHeader";const RD={duration:200,timingFunction:"ease",transition:"fade"};function DD(e){const t=Go();return{...RD,...t.transitionProps,...e}}const SC=C.forwardRef(({onClick:e,transitionProps:t,style:r,visible:o,...s},l)=>{const u=Go(),d=DD(t);return D.jsx(Uo,{mounted:o!==void 0?o:u.opened,...d,transition:"fade",children:f=>D.jsx(ch,{ref:l,fixed:!0,style:[r,f],zIndex:u.zIndex,unstyled:u.unstyled,onClick:p=>{e?.(p),u.closeOnClickOutside&&u.onClose()},...s})})});SC.displayName="@mantine/core/ModalBaseOverlay";function AD(){const e=Go();return C.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const CC=C.forwardRef(({className:e,...t},r)=>{const o=AD(),s=Go();return D.jsx(Ge,{component:"h2",ref:r,className:$n({[Fl.title]:!s.unstyled},e),...t,id:o})});CC.displayName="@mantine/core/ModalBaseTitle";function ND({children:e}){return D.jsx(D.Fragment,{children:e})}const[ID,jD]=Yl({size:"sm"}),_C=tt((e,t)=>{const r=Ue("InputClearButton",null,e),{size:o,variant:s,vars:l,classNames:u,styles:d,...f}=r,p=jD(),{resolvedClassNames:g,resolvedStyles:y}=th({classNames:u,styles:d,props:r});return D.jsx(eu,{variant:s||"transparent",ref:t,size:o||p?.size||"sm",classNames:g,styles:y,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...f.style},...f})});_C.displayName="@mantine/core/InputClearButton";const zD={xs:7,sm:8,md:10,lg:12,xl:15};function LD({__clearable:e,__clearSection:t,rightSection:r,__defaultRightSection:o,size:s="sm"}){const l=e&&t;return l&&(r||o)?D.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:zD[s]},children:[l,r||o]}):r===null?null:r||l||o}const[FD,zc]=Yl({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var Si={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const kD=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${gr(t)} - ${_e(2)})`}}),fh=tt((e,t)=>{const r=Ue("InputDescription",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,size:p,__staticSelector:g,__inheritStyles:y=!0,attributes:x,variant:w,..._}=Ue("InputDescription",null,r),E=zc(),T=yt({name:["InputWrapper",g],props:r,classes:Si,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:x,rootSelector:"description",vars:f,varsResolver:kD}),N=y&&E?.getStyles||T;return D.jsx(Ge,{component:"p",ref:t,variant:w,size:p,...N("description",E?.getStyles?{className:s,style:l}:void 0),..._})});fh.classes=Si;fh.displayName="@mantine/core/InputDescription";const BD=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${gr(t)} - ${_e(2)})`}}),hh=tt((e,t)=>{const r=Ue("InputError",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,size:p,attributes:g,__staticSelector:y,__inheritStyles:x=!0,variant:w,..._}=r,E=yt({name:["InputWrapper",y],props:r,classes:Si,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:g,rootSelector:"error",vars:f,varsResolver:BD}),T=zc(),N=x&&T?.getStyles||E;return D.jsx(Ge,{component:"p",ref:t,variant:w,size:p,...N("error",T?.getStyles?{className:s,style:l}:void 0),..._})});hh.classes=Si;hh.displayName="@mantine/core/InputError";const _w={labelElement:"label"},UD=(e,{size:t})=>({label:{"--input-label-size":gr(t),"--input-asterisk-color":void 0}}),ph=tt((e,t)=>{const r=Ue("InputLabel",_w,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,labelElement:p,size:g,required:y,htmlFor:x,onMouseDown:w,children:_,__staticSelector:E,variant:T,mod:N,attributes:R,...j}=Ue("InputLabel",_w,r),L=yt({name:["InputWrapper",E],props:r,classes:Si,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:R,rootSelector:"label",vars:f,varsResolver:UD}),F=zc(),U=F?.getStyles||L;return D.jsxs(Ge,{...U("label",F?.getStyles?{className:s,style:l}:void 0),component:p,variant:T,size:g,ref:t,htmlFor:p==="label"?x:void 0,mod:[{required:y},N],onMouseDown:I=>{w?.(I),!I.defaultPrevented&&I.detail>1&&I.preventDefault()},...j,children:[_,y&&D.jsx("span",{...U("required"),"aria-hidden":!0,children:" *"})]})});ph.classes=Si;ph.displayName="@mantine/core/InputLabel";const Ey=tt((e,t)=>{const r=Ue("InputPlaceholder",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,__staticSelector:p,variant:g,error:y,mod:x,attributes:w,..._}=r,E=yt({name:["InputPlaceholder",p],props:r,classes:Si,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:w,rootSelector:"placeholder"});return D.jsx(Ge,{...E("placeholder"),mod:[{error:!!y},x],component:"span",variant:g,ref:t,..._})});Ey.classes=Si;Ey.displayName="@mantine/core/InputPlaceholder";function $D(e,{hasDescription:t,hasError:r}){const o=e.findIndex(f=>f==="input"),s=e.slice(0,o),l=e.slice(o+1),u=t&&s.includes("description")||r&&s.includes("error");return{offsetBottom:t&&l.includes("description")||r&&l.includes("error"),offsetTop:u}}const HD={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},qD=(e,{size:t})=>({label:{"--input-label-size":gr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${gr(t)} - ${_e(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${gr(t)} - ${_e(2)})`}}),Oy=tt((e,t)=>{const r=Ue("InputWrapper",HD,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,size:p,variant:g,__staticSelector:y,inputContainer:x,inputWrapperOrder:w,label:_,error:E,description:T,labelProps:N,descriptionProps:R,errorProps:j,labelElement:L,children:F,withAsterisk:U,id:I,required:G,__stylesApiProps:le,mod:he,attributes:ve,...pe}=r,Me=yt({name:["InputWrapper",y],props:le||r,classes:Si,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:ve,vars:f,varsResolver:qD}),ce={size:p,variant:g,__staticSelector:y},Oe=Fi(I),B=typeof U=="boolean"?U:G,J=j?.id||`${Oe}-error`,K=R?.id||`${Oe}-description`,be=Oe,Ce=!!E&&typeof E!="boolean",H=!!T,re=`${Ce?J:""} ${H?K:""}`,we=re.trim().length>0?re.trim():void 0,De=N?.id||`${Oe}-label`,Ie=_&&D.jsx(ph,{labelElement:L,id:De,htmlFor:be,required:B,...ce,...N,children:_},"label"),He=H&&D.jsx(fh,{...R,...ce,size:R?.size||ce.size,id:R?.id||K,children:T},"description"),nt=D.jsx(C.Fragment,{children:x(F)},"input"),xt=Ce&&C.createElement(hh,{...j,...ce,size:j?.size||ce.size,key:"error",id:j?.id||J},E),Ae=w.map(Zt=>{switch(Zt){case"label":return Ie;case"input":return nt;case"description":return He;case"error":return xt;default:return null}});return D.jsx(FD,{value:{getStyles:Me,describedBy:we,inputId:be,labelId:De,...$D(w,{hasDescription:H,hasError:Ce})},children:D.jsx(Ge,{ref:t,variant:g,size:p,mod:[{error:!!E},he],...Me("root"),...pe,children:Ae})})});Oy.classes=Si;Oy.displayName="@mantine/core/InputWrapper";const GD={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},VD=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ft(t.size,"input-height"),"--input-fz":gr(t.size),"--input-radius":t.radius===void 0?void 0:Vn(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?_e(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?_e(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ft(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Hn=Tr((e,t)=>{const r=Ue("Input",GD,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,required:f,__staticSelector:p,__stylesApiProps:g,size:y,wrapperProps:x,error:w,disabled:_,leftSection:E,leftSectionProps:T,leftSectionWidth:N,rightSection:R,rightSectionProps:j,rightSectionWidth:L,rightSectionPointerEvents:F,leftSectionPointerEvents:U,variant:I,vars:G,pointer:le,multiline:he,radius:ve,id:pe,withAria:Me,withErrorStyles:ce,mod:Oe,inputSize:B,attributes:J,__clearSection:K,__clearable:be,__defaultRightSection:Ce,...H}=r,{styleProps:re,rest:we}=Nc(H),De=zc(),Ie={offsetBottom:De?.offsetBottom,offsetTop:De?.offsetTop},He=yt({name:["Input",p],props:g||r,classes:Si,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:J,stylesCtx:Ie,rootSelector:"wrapper",vars:G,varsResolver:VD}),nt=Me?{required:f,disabled:_,"aria-invalid":!!w,"aria-describedby":De?.describedBy,id:De?.inputId||pe}:{},xt=LD({__clearable:be,__clearSection:K,rightSection:R,__defaultRightSection:Ce,size:y});return D.jsx(ID,{value:{size:y||"sm"},children:D.jsxs(Ge,{...He("wrapper"),...re,...x,mod:[{error:!!w&&ce,pointer:le,disabled:_,multiline:he,"data-with-right-section":!!xt,"data-with-left-section":!!E},Oe],variant:I,size:y,children:[E&&D.jsx("div",{...T,"data-position":"left",...He("section",{className:T?.className,style:T?.style}),children:E}),D.jsx(Ge,{component:"input",...we,...nt,ref:t,required:f,mod:{disabled:_,error:!!w&&ce},variant:I,__size:B,...He("input")}),xt&&D.jsx("div",{...j,"data-position":"right",...He("section",{className:j?.className,style:j?.style}),children:xt})]})})});Hn.classes=Si;Hn.Wrapper=Oy;Hn.Label=ph;Hn.Error=hh;Hn.Description=fh;Hn.Placeholder=Ey;Hn.ClearButton=_C;Hn.displayName="@mantine/core/Input";function YD(e,t,r){const o=Ue(e,t,r),{label:s,description:l,error:u,required:d,classNames:f,styles:p,className:g,unstyled:y,__staticSelector:x,__stylesApiProps:w,errorProps:_,labelProps:E,descriptionProps:T,wrapperProps:N,id:R,size:j,style:L,inputContainer:F,inputWrapperOrder:U,withAsterisk:I,variant:G,vars:le,mod:he,attributes:ve,...pe}=o,{styleProps:Me,rest:ce}=Nc(pe),Oe={label:s,description:l,error:u,required:d,classNames:f,className:g,__staticSelector:x,__stylesApiProps:w||o,errorProps:_,labelProps:E,descriptionProps:T,unstyled:y,styles:p,size:j,style:L,inputContainer:F,inputWrapperOrder:U,withAsterisk:I,variant:G,id:R,mod:he,attributes:ve,...N};return{...ce,classNames:f,styles:p,unstyled:y,wrapperProps:{...Oe,...Me},inputProps:{required:d,classNames:f,styles:p,unstyled:y,size:j,__staticSelector:x,__stylesApiProps:w||o,error:u,variant:G,id:R,attributes:ve}}}const KD={__staticSelector:"InputBase",withAria:!0,size:"sm"},Es=Tr((e,t)=>{const{inputProps:r,wrapperProps:o,...s}=YD("InputBase",KD,e);return D.jsx(Hn.Wrapper,{...o,children:D.jsx(Hn,{...r,...s,ref:t})})});Es.classes={...Hn.classes,...Hn.Wrapper.classes};Es.displayName="@mantine/core/InputBase";const[XD,My]=ao("Accordion component was not found in the tree");function Ty({style:e,size:t=16,...r}){return D.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:_e(t),height:_e(t),display:"block"},...r,children:D.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}Ty.displayName="@mantine/core/AccordionChevron";const[WD,EC]=ao("Accordion.Item component was not found in the tree");var Lc={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};const Py=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,chevron:d,icon:f,onClick:p,onKeyDown:g,children:y,disabled:x,mod:w,..._}=Ue("AccordionControl",null,e),{value:E}=EC(),T=My(),N=T.isItemActive(E),R=typeof T.order=="number",j=`h${T.order}`,L=D.jsxs(_s,{..._,...T.getStyles("control",{className:o,classNames:r,style:s,styles:l,variant:T.variant}),unstyled:T.unstyled,mod:["accordion-control",{active:N,"chevron-position":T.chevronPosition,disabled:x},w],ref:t,onClick:F=>{p?.(F),T.onChange(E)},type:"button",disabled:x,"aria-expanded":N,"aria-controls":T.getRegionId(E),id:T.getControlId(E),onKeyDown:gM({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:T.loop,orientation:"vertical",onKeyDown:g}),children:[D.jsx(Ge,{component:"span",mod:{rotate:!T.disableChevronRotation&&N,position:T.chevronPosition},...T.getStyles("chevron",{classNames:r,styles:l}),children:d||T.chevron}),D.jsx("span",{...T.getStyles("label",{classNames:r,styles:l}),children:y}),f&&D.jsx(Ge,{component:"span",mod:{"chevron-position":T.chevronPosition},...T.getStyles("icon",{classNames:r,styles:l}),children:f})]});return R?D.jsx(j,{...T.getStyles("itemTitle",{classNames:r,styles:l}),children:L}):L});Py.displayName="@mantine/core/AccordionControl";Py.classes=Lc;const Ry=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,value:d,mod:f,...p}=Ue("AccordionItem",null,e),g=My();return D.jsx(WD,{value:{value:d},children:D.jsx(Ge,{ref:t,mod:[{active:g.isItemActive(d)},f],...g.getStyles("item",{className:o,classNames:r,styles:l,style:s,variant:g.variant}),...p})})});Ry.displayName="@mantine/core/AccordionItem";Ry.classes=Lc;const Dy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,children:d,...f}=Ue("AccordionPanel",null,e),{value:p}=EC(),g=My();return D.jsx(ES,{ref:t,...g.getStyles("panel",{className:o,classNames:r,style:s,styles:l}),...f,in:g.isItemActive(p),transitionDuration:g.transitionDuration??200,role:"region",id:g.getRegionId(p),"aria-labelledby":g.getControlId(p),children:D.jsx("div",{...g.getStyles("content",{classNames:r,styles:l}),children:d})})});Dy.displayName="@mantine/core/AccordionPanel";Dy.classes=Lc;const QD={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},ZD=(e,{transitionDuration:t,chevronSize:r,radius:o})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":r===void 0?void 0:_e(r),"--accordion-radius":o===void 0?void 0:Vn(o)}});function Zr(e){const t=Ue("Accordion",QD,e),{classNames:r,className:o,style:s,styles:l,unstyled:u,vars:d,children:f,multiple:p,value:g,defaultValue:y,onChange:x,id:w,loop:_,transitionDuration:E,disableChevronRotation:T,chevronPosition:N,chevronSize:R,order:j,chevron:L,variant:F,radius:U,chevronIconSize:I,attributes:G,...le}=t,he=Fi(w),[ve,pe]=Ia({value:g,defaultValue:y,finalValue:p?[]:null,onChange:x}),Me=B=>Array.isArray(ve)?ve.includes(B):B===ve,ce=B=>{const J=Array.isArray(ve)?ve.includes(B)?ve.filter(K=>K!==B):[...ve,B]:B===ve?null:B;pe(J)},Oe=yt({name:"Accordion",classes:Lc,props:t,className:o,style:s,classNames:r,styles:l,unstyled:u,attributes:G,vars:d,varsResolver:ZD});return D.jsx(XD,{value:{isItemActive:Me,onChange:ce,getControlId:Hx(`${he}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:Hx(`${he}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:L===null?null:L||D.jsx(Ty,{size:I}),transitionDuration:E,disableChevronRotation:T,chevronPosition:N,order:j,loop:_,getStyles:Oe,variant:F,unstyled:u},children:D.jsx(Ge,{...Oe("root"),id:he,...le,variant:F,"data-accordion":!0,children:f})})}const JD=e=>e;Zr.extend=JD;Zr.withProps=YT(Zr);Zr.classes=Lc;Zr.displayName="@mantine/core/Accordion";Zr.Item=Ry;Zr.Panel=Dy;Zr.Control=Py;Zr.Chevron=Ty;var OC={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const e2=(e,{radius:t,color:r,variant:o,autoContrast:s})=>{const l=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:o||"light",autoContrast:s});return{root:{"--alert-radius":t===void 0?void 0:Vn(t),"--alert-bg":r||o?l.background:void 0,"--alert-color":l.color,"--alert-bd":r||o?l.border:void 0}}},Ay=tt((e,t)=>{const r=Ue("Alert",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,radius:p,color:g,title:y,children:x,id:w,icon:_,withCloseButton:E,onClose:T,closeButtonLabel:N,variant:R,autoContrast:j,role:L,attributes:F,...U}=r,I=yt({name:"Alert",classes:OC,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:F,vars:f,varsResolver:e2}),G=Fi(w),le=y&&`${G}-title`||void 0,he=`${G}-body`;return D.jsx(Ge,{id:G,...I("root",{variant:R}),variant:R,ref:t,role:L||"alert",...U,"aria-describedby":x?he:void 0,"aria-labelledby":y?le:void 0,children:D.jsxs("div",{...I("wrapper"),children:[_&&D.jsx("div",{...I("icon"),children:_}),D.jsxs("div",{...I("body"),children:[y&&D.jsx("div",{...I("title"),"data-with-close-button":E||void 0,children:D.jsx("span",{id:le,...I("label"),children:y})}),x&&D.jsx("div",{id:he,...I("message"),"data-variant":R,children:x})]}),E&&D.jsx(eu,{...I("closeButton"),onClick:T,variant:"transparent",size:16,iconSize:16,"aria-label":N,unstyled:d})]})})});Ay.classes=OC;Ay.displayName="@mantine/core/Alert";var MC={root:"m_b6d8b162"};function t2(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const n2={inherit:!1},r2=(e,{variant:t,lineClamp:r,gradient:o,size:s,color:l})=>({root:{"--text-fz":gr(s),"--text-lh":xM(s),"--text-gradient":t==="gradient"?vg(o,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":l?ji(l,e):void 0}}),kl=Tr((e,t)=>{const r=Ue("Text",n2,e),{lineClamp:o,truncate:s,inline:l,inherit:u,gradient:d,span:f,__staticSelector:p,vars:g,className:y,style:x,classNames:w,styles:_,unstyled:E,variant:T,mod:N,size:R,attributes:j,...L}=r,F=yt({name:["Text",p],props:r,classes:MC,className:y,style:x,classNames:w,styles:_,unstyled:E,attributes:j,vars:g,varsResolver:r2});return D.jsx(Ge,{...F("root",{focusable:!0}),ref:t,component:f?"span":"p",variant:T,mod:[{"data-truncate":t2(s),"data-line-clamp":typeof o=="number","data-inline":l,"data-inherit":u},N],size:R,...L})});kl.classes=MC;kl.displayName="@mantine/core/Text";const[i2,tu]=ao("AppShell was not found in tree");var ka={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const Ny=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,unstyled:u,vars:d,withBorder:f,zIndex:p,mod:g,...y}=Ue("AppShellAside",null,e),x=tu();return x.disabled?null:D.jsx(Ge,{component:"aside",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("aside",{className:$n({[Ac.classNames.zeroRight]:x.offsetScrollbars},o),classNames:r,styles:l,style:s}),...y,__vars:{"--app-shell-aside-z-index":`calc(${p??x.zIndex} + 1)`}})});Ny.classes=ka;Ny.displayName="@mantine/core/AppShellAside";const Iy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,unstyled:u,vars:d,withBorder:f,zIndex:p,mod:g,...y}=Ue("AppShellFooter",null,e),x=tu();return x.disabled?null:D.jsx(Ge,{component:"footer",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("footer",{className:$n({[Ac.classNames.zeroRight]:x.offsetScrollbars},o),classNames:r,styles:l,style:s}),...y,__vars:{"--app-shell-footer-z-index":(p??x.zIndex)?.toString()}})});Iy.classes=ka;Iy.displayName="@mantine/core/AppShellFooter";const jy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,unstyled:u,vars:d,withBorder:f,zIndex:p,mod:g,...y}=Ue("AppShellHeader",null,e),x=tu();return x.disabled?null:D.jsx(Ge,{component:"header",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("header",{className:$n({[Ac.classNames.zeroRight]:x.offsetScrollbars},o),classNames:r,styles:l,style:s}),...y,__vars:{"--app-shell-header-z-index":(p??x.zIndex)?.toString()}})});jy.classes=ka;jy.displayName="@mantine/core/AppShellHeader";const zy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,...d}=Ue("AppShellMain",null,e),f=tu();return D.jsx(Ge,{component:"main",ref:t,...f.getStyles("main",{className:o,style:s,classNames:r,styles:l}),...d})});zy.classes=ka;zy.displayName="@mantine/core/AppShellMain";function Fc(e){return typeof e=="object"?e.base:e}function kc(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function Bc(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function o2({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,aside:o,theme:s}){const l=o?.width,u="translateX(var(--app-shell-aside-width))",d="translateX(calc(var(--app-shell-aside-width) * -1))";if(o?.breakpoint&&!o?.collapsed?.mobile&&(r[o?.breakpoint]=r[o?.breakpoint]||{},r[o?.breakpoint]["--app-shell-aside-width"]="100%",r[o?.breakpoint]["--app-shell-aside-offset"]="0px"),kc(l)){const f=_e(Fc(l));e["--app-shell-aside-width"]=f,e["--app-shell-aside-offset"]=f}if(Bc(l)&&(typeof l.base<"u"&&(e["--app-shell-aside-width"]=_e(l.base),e["--app-shell-aside-offset"]=_e(l.base)),lr(l).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-aside-width"]=_e(l[f]),t[f]["--app-shell-aside-offset"]=_e(l[f]))})),o?.collapsed?.desktop){const f=o.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-aside-transform"]=u,t[f]["--app-shell-aside-transform-rtl"]=d,t[f]["--app-shell-aside-offset"]="0px !important",t[f]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(o?.collapsed?.mobile){const f=Zg(o.breakpoint,s.breakpoints)-.1;r[f]=r[f]||{},r[f]["--app-shell-aside-width"]="100%",r[f]["--app-shell-aside-offset"]="0px",r[f]["--app-shell-aside-transform"]=u,r[f]["--app-shell-aside-transform-rtl"]=d,r[f]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function a2({baseStyles:e,minMediaStyles:t,footer:r}){const o=r?.height,s="translateY(var(--app-shell-footer-height))",l=r?.offset??!0;if(kc(o)){const u=_e(Fc(o));e["--app-shell-footer-height"]=u,l&&(e["--app-shell-footer-offset"]=u)}Bc(o)&&(typeof o.base<"u"&&(e["--app-shell-footer-height"]=_e(o.base),l&&(e["--app-shell-footer-offset"]=_e(o.base))),lr(o).forEach(u=>{u!=="base"&&(t[u]=t[u]||{},t[u]["--app-shell-footer-height"]=_e(o[u]),l&&(t[u]["--app-shell-footer-offset"]=_e(o[u])))})),r?.collapsed&&(e["--app-shell-footer-transform"]=s,e["--app-shell-footer-offset"]="0px !important")}function s2({baseStyles:e,minMediaStyles:t,header:r}){const o=r?.height,s="translateY(calc(var(--app-shell-header-height) * -1))",l=r?.offset??!0;if(kc(o)){const u=_e(Fc(o));e["--app-shell-header-height"]=u,l&&(e["--app-shell-header-offset"]=u)}Bc(o)&&(typeof o.base<"u"&&(e["--app-shell-header-height"]=_e(o.base),l&&(e["--app-shell-header-offset"]=_e(o.base))),lr(o).forEach(u=>{u!=="base"&&(t[u]=t[u]||{},t[u]["--app-shell-header-height"]=_e(o[u]),l&&(t[u]["--app-shell-header-offset"]=_e(o[u])))})),r?.collapsed&&(e["--app-shell-header-transform"]=s,e["--app-shell-header-offset"]="0px !important")}function l2({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,navbar:o,theme:s}){const l=o?.width,u="translateX(calc(var(--app-shell-navbar-width) * -1))",d="translateX(var(--app-shell-navbar-width))";if(o?.breakpoint&&!o?.collapsed?.mobile&&(r[o?.breakpoint]=r[o?.breakpoint]||{},r[o?.breakpoint]["--app-shell-navbar-width"]="100%",r[o?.breakpoint]["--app-shell-navbar-offset"]="0px"),kc(l)){const f=_e(Fc(l));e["--app-shell-navbar-width"]=f,e["--app-shell-navbar-offset"]=f}if(Bc(l)&&(typeof l.base<"u"&&(e["--app-shell-navbar-width"]=_e(l.base),e["--app-shell-navbar-offset"]=_e(l.base)),lr(l).forEach(f=>{f!=="base"&&(t[f]=t[f]||{},t[f]["--app-shell-navbar-width"]=_e(l[f]),t[f]["--app-shell-navbar-offset"]=_e(l[f]))})),o?.collapsed?.desktop){const f=o.breakpoint;t[f]=t[f]||{},t[f]["--app-shell-navbar-transform"]=u,t[f]["--app-shell-navbar-transform-rtl"]=d,t[f]["--app-shell-navbar-offset"]="0px !important"}if(o?.collapsed?.mobile){const f=Zg(o.breakpoint,s.breakpoints)-.1;r[f]=r[f]||{},r[f]["--app-shell-navbar-width"]="100%",r[f]["--app-shell-navbar-offset"]="0px",r[f]["--app-shell-navbar-transform"]=u,r[f]["--app-shell-navbar-transform-rtl"]=d}}function eg(e){return Number(e)===0?"0px":Kl(e)}function u2({padding:e,baseStyles:t,minMediaStyles:r}){kc(e)&&(t["--app-shell-padding"]=eg(Fc(e))),Bc(e)&&(e.base&&(t["--app-shell-padding"]=eg(e.base)),lr(e).forEach(o=>{o!=="base"&&(r[o]=r[o]||{},r[o]["--app-shell-padding"]=eg(e[o]))}))}function c2({navbar:e,header:t,footer:r,aside:o,padding:s,theme:l}){const u={},d={},f={};l2({baseStyles:f,minMediaStyles:u,maxMediaStyles:d,navbar:e,theme:l}),o2({baseStyles:f,minMediaStyles:u,maxMediaStyles:d,aside:o,theme:l}),s2({baseStyles:f,minMediaStyles:u,header:t}),a2({baseStyles:f,minMediaStyles:u,footer:r}),u2({baseStyles:f,minMediaStyles:u,padding:s});const p=qx(lr(u),l.breakpoints).map(x=>({query:`(min-width: ${Af(x.px)})`,styles:u[x.value]})),g=qx(lr(d),l.breakpoints).map(x=>({query:`(max-width: ${Af(x.px)})`,styles:d[x.value]})),y=[...p,...g];return{baseStyles:f,media:y}}function d2({navbar:e,header:t,aside:r,footer:o,padding:s}){const l=xi(),u=qo(),{media:d,baseStyles:f}=c2({navbar:e,header:t,footer:o,aside:r,padding:s,theme:l});return D.jsx(bS,{media:d,styles:f,selector:u.cssVariablesSelector})}const Ly=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,unstyled:u,vars:d,withBorder:f,zIndex:p,mod:g,...y}=Ue("AppShellNavbar",null,e),x=tu();return x.disabled?null:D.jsx(Ge,{component:"nav",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("navbar",{className:o,classNames:r,styles:l,style:s}),...y,__vars:{"--app-shell-navbar-z-index":`calc(${p??x.zIndex} + 1)`}})});Ly.classes=ka;Ly.displayName="@mantine/core/AppShellNavbar";const Fy=Tr((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,grow:d,mod:f,...p}=Ue("AppShellSection",null,e),g=tu();return D.jsx(Ge,{ref:t,mod:[{grow:d},f],...g.getStyles("section",{className:o,style:s,classNames:r,styles:l}),...p})});Fy.classes=ka;Fy.displayName="@mantine/core/AppShellSection";function f2({transitionDuration:e,disabled:t}){const[r,o]=C.useState(!0),s=C.useRef(-1),l=C.useRef(-1);return Nf("resize",()=>{o(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>C.startTransition(()=>{o(!1)}),200)}),za(()=>{o(!0),clearTimeout(l.current),l.current=window.setTimeout(()=>C.startTransition(()=>{o(!1)}),e||0)},[t,e]),r}const h2={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:so("app")},p2=(e,{transitionDuration:t,transitionTimingFunction:r})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":r}}),Ii=tt((e,t)=>{const r=Ue("AppShell",h2,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,navbar:p,withBorder:g,padding:y,transitionDuration:x,transitionTimingFunction:w,header:_,zIndex:E,layout:T,disabled:N,aside:R,footer:j,offsetScrollbars:L=!0,mod:F,attributes:U,...I}=r,G=yt({name:"AppShell",classes:ka,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:U,vars:f,varsResolver:p2}),le=f2({disabled:N,transitionDuration:x});return D.jsxs(i2,{value:{getStyles:G,withBorder:g,zIndex:E,disabled:N,offsetScrollbars:L},children:[D.jsx(d2,{navbar:p,header:_,aside:R,footer:j,padding:y}),D.jsx(Ge,{ref:t,...G("root"),mod:[{resizing:le,layout:T,disabled:N},F],...I})]})});Ii.classes=ka;Ii.displayName="@mantine/core/AppShell";Ii.Navbar=Ly;Ii.Header=jy;Ii.Main=zy;Ii.Aside=Ny;Ii.Footer=Iy;Ii.Section=Fy;function TC(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>TC(t))}:e}function m2(e){return e?e.map(t=>TC(t)):[]}function PC(e){return e.reduce((t,r)=>"group"in r?{...t,...PC(r.items)}:(t[r.value]=r,t),{})}var Mr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const g2={error:null},y2=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Ft(t,"combobox-chevron-size"),"--combobox-chevron-color":r?ji(r,e):void 0}}),ky=tt((e,t)=>{const r=Ue("ComboboxChevron",g2,e),{size:o,error:s,style:l,className:u,classNames:d,styles:f,unstyled:p,vars:g,mod:y,...x}=r,w=yt({name:"ComboboxChevron",classes:Mr,props:r,style:l,className:u,classNames:d,styles:f,unstyled:p,vars:g,varsResolver:y2,rootSelector:"chevron"});return D.jsx(Ge,{component:"svg",...x,...w("chevron"),size:o,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:s},y],ref:t,children:D.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});ky.classes=Mr;ky.displayName="@mantine/core/ComboboxChevron";const[v2,Ci]=ao("Combobox component was not found in tree"),RC=C.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:o,...s},l)=>D.jsx(Hn.ClearButton,{ref:l,tabIndex:-1,"aria-hidden":!0,...s,onMouseDown:u=>{u.preventDefault(),t?.(u)},onClick:u=>{o(),r?.(u)}}));RC.displayName="@mantine/core/ComboboxClearButton";const By=tt((e,t)=>{const{classNames:r,styles:o,className:s,style:l,hidden:u,...d}=Ue("ComboboxDropdown",null,e),f=Ci();return D.jsx(La.Dropdown,{...d,ref:t,role:"presentation","data-hidden":u||void 0,...f.getStyles("dropdown",{className:s,style:l,classNames:r,styles:o})})});By.classes=Mr;By.displayName="@mantine/core/ComboboxDropdown";const b2={refProp:"ref"},DC=tt((e,t)=>{const{children:r,refProp:o}=Ue("ComboboxDropdownTarget",b2,e);if(Ci(),!iS(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return D.jsx(La.Target,{ref:t,refProp:o,children:r})});DC.displayName="@mantine/core/ComboboxDropdownTarget";const Uy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,...d}=Ue("ComboboxEmpty",null,e),f=Ci();return D.jsx(Ge,{ref:t,...f.getStyles("empty",{className:o,classNames:r,styles:l,style:s}),...d})});Uy.classes=Mr;Uy.displayName="@mantine/core/ComboboxEmpty";function $y({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:o,targetType:s,autoComplete:l}){const u=Ci(),[d,f]=C.useState(null),p=y=>{if(e?.(y),!u.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectNextOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectPreviousOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const x=u.store.getSelectedOptionIndex();u.store.dropdownOpened&&x!==-1?(y.preventDefault(),u.store.clickSelectedOption()):s==="button"&&(y.preventDefault(),u.store.openDropdown("keyboard"))}y.key==="Escape"&&u.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&s==="button"&&(y.preventDefault(),u.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":o?!!(u.store.listId&&u.store.dropdownOpened):void 0,"aria-controls":u.store.dropdownOpened&&u.store.listId?u.store.listId:void 0,"aria-activedescendant":u.store.dropdownOpened&&d||void 0,autoComplete:l,"data-expanded":u.store.dropdownOpened||void 0,"data-mantine-stop-propagation":u.store.dropdownOpened||void 0}:{},onKeyDown:p}}const x2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},AC=tt((e,t)=>{const{children:r,refProp:o,withKeyboardNavigation:s,withAriaAttributes:l,withExpandedAttribute:u,targetType:d,autoComplete:f,...p}=Ue("ComboboxEventsTarget",x2,e),g=Xl(r);if(!g)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=Ci(),x=$y({targetType:d,withAriaAttributes:l,withKeyboardNavigation:s,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f});return C.cloneElement(g,{...x,...p,[o]:Br(t,y.store.targetRef,Zf(g))})});AC.displayName="@mantine/core/ComboboxEventsTarget";const Hy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,...d}=Ue("ComboboxFooter",null,e),f=Ci();return D.jsx(Ge,{ref:t,...f.getStyles("footer",{className:o,classNames:r,style:s,styles:l}),...d,onMouseDown:p=>{p.preventDefault()}})});Hy.classes=Mr;Hy.displayName="@mantine/core/ComboboxFooter";const qy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,children:d,label:f,id:p,...g}=Ue("ComboboxGroup",null,e),y=Ci(),x=Fi(p);return D.jsxs(Ge,{ref:t,role:"group","aria-labelledby":f?x:void 0,...y.getStyles("group",{className:o,classNames:r,style:s,styles:l}),...g,children:[f&&D.jsx("div",{id:x,...y.getStyles("groupLabel",{classNames:r,styles:l}),children:f}),d]})});qy.classes=Mr;qy.displayName="@mantine/core/ComboboxGroup";const Gy=tt((e,t)=>{const{classNames:r,className:o,style:s,styles:l,vars:u,...d}=Ue("ComboboxHeader",null,e),f=Ci();return D.jsx(Ge,{ref:t,...f.getStyles("header",{className:o,classNames:r,style:s,styles:l}),...d,onMouseDown:p=>{p.preventDefault()}})});Gy.classes=Mr;Gy.displayName="@mantine/core/ComboboxHeader";function NC({value:e,valuesDivider:t=",",...r}){return D.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}NC.displayName="@mantine/core/ComboboxHiddenInput";const Vy=tt((e,t)=>{const r=Ue("ComboboxOption",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,onClick:f,id:p,active:g,onMouseDown:y,onMouseOver:x,disabled:w,selected:_,mod:E,...T}=r,N=Ci(),R=C.useId(),j=p||R;return D.jsx(Ge,{...N.getStyles("option",{className:s,classNames:o,styles:u,style:l}),...T,ref:t,id:j,mod:["combobox-option",{"combobox-active":g,"combobox-disabled":w,"combobox-selected":_},E],role:"option",onClick:L=>{w?L.preventDefault():(N.onOptionSubmit?.(r.value,r),f?.(L))},onMouseDown:L=>{L.preventDefault(),y?.(L)},onMouseOver:L=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),x?.(L)}})});Vy.classes=Mr;Vy.displayName="@mantine/core/ComboboxOption";const Yy=tt((e,t)=>{const r=Ue("ComboboxOptions",null,e),{classNames:o,className:s,style:l,styles:u,id:d,onMouseDown:f,labelledBy:p,...g}=r,y=Ci(),x=Fi(d);return C.useEffect(()=>{y.store.setListId(x)},[x]),D.jsx(Ge,{ref:t,...y.getStyles("options",{className:s,style:l,classNames:o,styles:u}),...g,id:x,role:"listbox","aria-labelledby":p,onMouseDown:w=>{w.preventDefault(),f?.(w)}})});Yy.classes=Mr;Yy.displayName="@mantine/core/ComboboxOptions";const w2={withAriaAttributes:!0,withKeyboardNavigation:!0},Ky=tt((e,t)=>{const r=Ue("ComboboxSearch",w2,e),{classNames:o,styles:s,unstyled:l,vars:u,withAriaAttributes:d,onKeyDown:f,withKeyboardNavigation:p,size:g,...y}=r,x=Ci(),w=x.getStyles("search"),_=$y({targetType:"input",withAriaAttributes:d,withKeyboardNavigation:p,withExpandedAttribute:!1,onKeyDown:f,autoComplete:"off"});return D.jsx(Hn,{ref:Br(t,x.store.searchRef),classNames:[{input:w.className},o],styles:[{input:w.style},s],size:g||x.size,..._,...y,__staticSelector:"Combobox"})});Ky.classes=Mr;Ky.displayName="@mantine/core/ComboboxSearch";const S2={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},IC=tt((e,t)=>{const{children:r,refProp:o,withKeyboardNavigation:s,withAriaAttributes:l,withExpandedAttribute:u,targetType:d,autoComplete:f,...p}=Ue("ComboboxTarget",S2,e),g=Xl(r);if(!g)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=Ci(),x=$y({targetType:d,withAriaAttributes:l,withKeyboardNavigation:s,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f}),w=C.cloneElement(g,{...x,...p});return D.jsx(La.Target,{ref:Br(t,y.store.targetRef),children:w})});IC.displayName="@mantine/core/ComboboxTarget";function C2(e,t,r){for(let o=e-1;o>=0;o-=1)if(!t[o].hasAttribute("data-combobox-disabled"))return o;if(r){for(let o=t.length-1;o>-1;o-=1)if(!t[o].hasAttribute("data-combobox-disabled"))return o}return e}function _2(e,t,r){for(let o=e+1;o<t.length;o+=1)if(!t[o].hasAttribute("data-combobox-disabled"))return o;if(r){for(let o=0;o<t.length;o+=1)if(!t[o].hasAttribute("data-combobox-disabled"))return o}return e}function E2(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function jC({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:o,onDropdownOpen:s,loop:l=!0,scrollBehavior:u="instant"}={}){const[d,f]=Ia({value:t,defaultValue:e,finalValue:!1,onChange:r}),p=C.useRef(null),g=C.useRef(-1),y=C.useRef(null),x=C.useRef(null),w=C.useRef(-1),_=C.useRef(-1),E=C.useRef(-1),T=C.useCallback((B="unknown")=>{d||(f(!0),s?.(B))},[f,s,d]),N=C.useCallback((B="unknown")=>{d&&(f(!1),o?.(B))},[f,o,d]),R=C.useCallback((B="unknown")=>{d?N(B):T(B)},[N,T,d]),j=C.useCallback(()=>{const B=Ma(x.current),J=_f(`#${p.current} [data-combobox-selected]`,B);J?.removeAttribute("data-combobox-selected"),J?.removeAttribute("aria-selected")},[]),L=C.useCallback(B=>{const J=Ma(x.current),K=_f(`#${p.current}`,J),be=K?Ta("[data-combobox-option]",K):null;if(!be)return null;const Ce=B>=be.length?0:B<0?be.length-1:B;return g.current=Ce,be?.[Ce]&&!be[Ce].hasAttribute("data-combobox-disabled")?(j(),be[Ce].setAttribute("data-combobox-selected","true"),be[Ce].setAttribute("aria-selected","true"),be[Ce].scrollIntoView({block:"nearest",behavior:u}),be[Ce].id):null},[u,j]),F=C.useCallback(()=>{const B=Ma(x.current),J=_f(`#${p.current} [data-combobox-active]`,B);if(J){const be=Ta(`#${p.current} [data-combobox-option]`,B).findIndex(Ce=>Ce===J);return L(be)}return L(0)},[L]),U=C.useCallback(()=>{const B=Ma(x.current),J=Ta(`#${p.current} [data-combobox-option]`,B);return L(_2(g.current,J,l))},[L,l]),I=C.useCallback(()=>{const B=Ma(x.current),J=Ta(`#${p.current} [data-combobox-option]`,B);return L(C2(g.current,J,l))},[L,l]),G=C.useCallback(()=>{const B=Ma(x.current),J=Ta(`#${p.current} [data-combobox-option]`,B);return L(E2(J))},[L]),le=C.useCallback((B="selected",J)=>{E.current=window.setTimeout(()=>{const K=Ma(x.current),be=Ta(`#${p.current} [data-combobox-option]`,K),Ce=be.findIndex(H=>H.hasAttribute(`data-combobox-${B}`));g.current=Ce,J?.scrollIntoView&&be[Ce]?.scrollIntoView({block:"nearest",behavior:u})},0)},[]),he=C.useCallback(()=>{g.current=-1,j()},[j]),ve=C.useCallback(()=>{const B=Ma(x.current);Ta(`#${p.current} [data-combobox-option]`,B)?.[g.current]?.click()},[]),pe=C.useCallback(B=>{p.current=B},[]),Me=C.useCallback(()=>{w.current=window.setTimeout(()=>y.current?.focus(),0)},[]),ce=C.useCallback(()=>{_.current=window.setTimeout(()=>x.current?.focus(),0)},[]),Oe=C.useCallback(()=>g.current,[]);return C.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(_.current),window.clearTimeout(E.current)},[]),{dropdownOpened:d,openDropdown:T,closeDropdown:N,toggleDropdown:R,selectedOptionIndex:g.current,getSelectedOptionIndex:Oe,selectOption:L,selectFirstOption:G,selectActiveOption:F,selectNextOption:U,selectPreviousOption:I,resetSelectedOption:he,updateSelectedOptionIndex:le,listId:p.current,setListId:pe,clickSelectedOption:ve,searchRef:y,focusSearchInput:Me,targetRef:x,focusTarget:ce}}const O2={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},M2=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":gr(t),"--combobox-option-padding":Ft(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:_e(r),"--combobox-option-fz":gr(t),"--combobox-option-padding":Ft(t,"combobox-option-padding")}});function Qt(e){const t=Ue("Combobox",O2,e),{classNames:r,styles:o,unstyled:s,children:l,store:u,vars:d,onOptionSubmit:f,onClose:p,size:g,dropdownPadding:y,resetSelectionOnOptionHover:x,__staticSelector:w,readOnly:_,attributes:E,...T}=t,N=jC(),R=u||N,j=yt({name:w||"Combobox",classes:Mr,props:t,classNames:r,styles:o,unstyled:s,attributes:E,vars:d,varsResolver:M2}),L=()=>{p?.(),R.closeDropdown()};return D.jsx(v2,{value:{getStyles:j,store:R,onOptionSubmit:f,size:g,resetSelectionOnOptionHover:x,readOnly:_},children:D.jsx(La,{opened:R.dropdownOpened,preventPositionChangeWhenVisible:!0,...T,onChange:F=>!F&&L(),withRoles:!1,unstyled:s,children:l})})}const T2=e=>e;Qt.extend=T2;Qt.classes=Mr;Qt.displayName="@mantine/core/Combobox";Qt.Target=IC;Qt.Dropdown=By;Qt.Options=Yy;Qt.Option=Vy;Qt.Search=Ky;Qt.Empty=Uy;Qt.Chevron=ky;Qt.Footer=Hy;Qt.Header=Gy;Qt.EventsTarget=AC;Qt.DropdownTarget=DC;Qt.Group=qy;Qt.ClearButton=RC;Qt.HiddenInput=NC;var zC={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const P2=zC,LC=C.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:r,classNames:o,styles:s,unstyled:l,children:u,label:d,description:f,id:p,disabled:g,error:y,size:x,labelPosition:w="left",bodyElement:_="div",labelElement:E="label",variant:T,style:N,vars:R,mod:j,attributes:L,...F},U)=>{const I=yt({name:e,props:t,className:r,style:N,classes:zC,classNames:o,styles:s,unstyled:l,attributes:L});return D.jsx(Ge,{...I("root"),ref:U,__vars:{"--label-fz":gr(x),"--label-lh":Ft(x,"label-lh")},mod:[{"label-position":w},j],variant:T,size:x,...F,children:D.jsxs(Ge,{component:_,htmlFor:_==="label"?p:void 0,...I("body"),children:[u,D.jsxs("div",{...I("labelWrapper"),"data-disabled":g||void 0,children:[d&&D.jsx(Ge,{component:E,htmlFor:E==="label"?p:void 0,...I("label"),"data-disabled":g||void 0,children:d}),f&&D.jsx(Hn.Description,{size:x,__inheritStyles:!1,...I("description"),children:f}),y&&typeof y!="boolean"&&D.jsx(Hn.Error,{size:x,__inheritStyles:!1,...I("error"),children:y})]})]})})});LC.displayName="@mantine/core/InlineInput";const FC=C.createContext(null),R2=FC.Provider,kC=()=>C.useContext(FC),[D2,A2]=Yl();var BC={card:"m_26775b0a"};const N2={withBorder:!0},I2=(e,{radius:t})=>({card:{"--card-radius":Vn(t)}}),Xy=tt((e,t)=>{const r=Ue("CheckboxCard",N2,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,checked:p,mod:g,withBorder:y,value:x,onClick:w,defaultChecked:_,onChange:E,attributes:T,...N}=r,R=yt({name:"CheckboxCard",classes:BC,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:T,vars:f,varsResolver:I2,rootSelector:"card"}),j=kC(),L=typeof p=="boolean"?p:j?j.value.includes(x||""):void 0,[F,U]=Ia({value:L,defaultValue:_,finalValue:!1,onChange:E});return D.jsx(D2,{value:{checked:F},children:D.jsx(_s,{ref:t,mod:[{"with-border":y,checked:F},g],...R("card"),...N,role:"checkbox","aria-checked":F,onClick:I=>{w?.(I),j?.onChange(x||""),U(!F)}})})});Xy.displayName="@mantine/core/CheckboxCard";Xy.classes=BC;function j2({children:e,role:t}){const r=zc();return r?D.jsx("div",{role:t,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:e}):D.jsx(D.Fragment,{children:e})}const Wy=tt((e,t)=>{const{value:r,defaultValue:o,onChange:s,size:l,wrapperProps:u,children:d,readOnly:f,disabled:p,...g}=Ue("CheckboxGroup",null,e),[y,x]=Ia({value:r,defaultValue:o,finalValue:[],onChange:s}),w=_=>{const E=typeof _=="string"?_:_.currentTarget.value;!f&&x(y.includes(E)?y.filter(T=>T!==E):[...y,E])};return D.jsx(R2,{value:{value:y,onChange:w,size:l,disabled:p},children:D.jsx(Hn.Wrapper,{size:l,ref:t,...u,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:D.jsx(j2,{role:"group",children:d})})})});Wy.classes=Hn.Wrapper.classes;Wy.displayName="@mantine/core/CheckboxGroup";function UC({size:e,style:t,...r}){const o=e!==void 0?{width:_e(e),height:_e(e),...t}:t;return D.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:o,"aria-hidden":!0,...r,children:D.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function $C({indeterminate:e,...t}){return e?D.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:D.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):D.jsx(UC,{...t})}var HC={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const z2={icon:$C,variant:"filled"},L2=(e,{radius:t,color:r,size:o,iconColor:s,variant:l,autoContrast:u})=>{const d=Ss({color:r||e.primaryColor,theme:e}),f=d.isThemeColor&&d.shade===void 0?`var(--mantine-color-${d.color}-outline)`:d.color;return{indicator:{"--checkbox-size":Ft(o,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Vn(t),"--checkbox-color":l==="outline"?f:ji(r,e),"--checkbox-icon-color":s?ji(s,e):vS(u,e)?iy({color:r,theme:e,autoContrast:u}):void 0}}},Qy=tt((e,t)=>{const r=Ue("CheckboxIndicator",z2,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,icon:p,indeterminate:g,radius:y,color:x,iconColor:w,autoContrast:_,checked:E,mod:T,variant:N,disabled:R,attributes:j,...L}=r,F=yt({name:"CheckboxIndicator",classes:HC,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:j,vars:f,varsResolver:L2,rootSelector:"indicator"}),U=A2(),I=typeof E=="boolean"||typeof g=="boolean"?E||g:U?.checked||!1;return D.jsx(Ge,{ref:t,...F("indicator",{variant:N}),variant:N,mod:[{checked:I,disabled:R},T],...L,children:D.jsx(p,{indeterminate:g,...F("icon")})})});Qy.displayName="@mantine/core/CheckboxIndicator";Qy.classes=HC;var qC={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const F2={labelPosition:"right",icon:$C,variant:"filled"},k2=(e,{radius:t,color:r,size:o,iconColor:s,variant:l,autoContrast:u})=>{const d=Ss({color:r||e.primaryColor,theme:e}),f=d.isThemeColor&&d.shade===void 0?`var(--mantine-color-${d.color}-outline)`:d.color;return{root:{"--checkbox-size":Ft(o,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:Vn(t),"--checkbox-color":l==="outline"?f:ji(r,e),"--checkbox-icon-color":s?ji(s,e):vS(u,e)?iy({color:r,theme:e,autoContrast:u}):void 0}}},nu=tt((e,t)=>{const r=Ue("Checkbox",F2,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,color:p,label:g,id:y,size:x,radius:w,wrapperProps:_,checked:E,labelPosition:T,description:N,error:R,disabled:j,variant:L,indeterminate:F,icon:U,rootRef:I,iconColor:G,onChange:le,autoContrast:he,mod:ve,attributes:pe,...Me}=r,ce=kC(),Oe=x||ce?.size,B=yt({name:"Checkbox",props:r,classes:qC,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:pe,vars:f,varsResolver:k2}),{styleProps:J,rest:K}=Nc(Me),be=Fi(y),Ce={checked:ce?.value.includes(K.value)??E,onChange:we=>{ce?.onChange(we),le?.(we)},disabled:ce?.disabled??j},H=C.useRef(null),re=t||H;return C.useEffect(()=>{re&&"current"in re&&re.current&&(re.current.indeterminate=F||!1,F?re.current.setAttribute("data-indeterminate","true"):re.current.removeAttribute("data-indeterminate"))},[F,re]),D.jsx(LC,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:r,id:be,size:Oe,labelPosition:T,label:g,description:N,error:R,disabled:Ce.disabled,classNames:o,styles:u,unstyled:d,"data-checked":Ce.checked||E||void 0,variant:L,ref:I,mod:ve,...J,..._,children:D.jsxs(Ge,{...B("inner"),mod:{"data-label-position":T},children:[D.jsx(Ge,{component:"input",id:be,ref:re,mod:{error:!!R},...B("input",{focusable:!0,variant:L}),...K,...Ce,type:"checkbox"}),D.jsx(U,{indeterminate:F,...B("icon")})]})})});nu.classes={...qC,...P2};nu.displayName="@mantine/core/Checkbox";nu.Group=Wy;nu.Indicator=Qy;nu.Card=Xy;function _c(e){return"group"in e}function GC({options:e,search:t,limit:r}){const o=t.trim().toLowerCase(),s=[];for(let l=0;l<e.length;l+=1){const u=e[l];if(s.length===r)return s;_c(u)&&s.push({group:u.group,items:GC({options:u.items,search:t,limit:r-s.length})}),_c(u)||u.label.toLowerCase().includes(o)&&s.push(u)}return s}function B2(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function VC(e,t=new Set){if(Array.isArray(e))for(const r of e)if(_c(r))VC(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function U2(e,t){return Array.isArray(e)?e.includes(t):e===t}function YC({data:e,withCheckIcon:t,withAlignedLabels:r,value:o,checkIconPosition:s,unstyled:l,renderOption:u}){if(!_c(e)){const f=U2(o,e.value),p=t&&(f?D.jsx(UC,{className:Mr.optionsDropdownCheckIcon}):r?D.jsx("div",{className:Mr.optionsDropdownCheckPlaceholder}):null),g=D.jsxs(D.Fragment,{children:[s==="left"&&p,D.jsx("span",{children:e.label}),s==="right"&&p]});return D.jsx(Qt.Option,{value:e.value,disabled:e.disabled,className:$n({[Mr.optionsDropdownOption]:!l}),"data-reverse":s==="right"||void 0,"data-checked":f||void 0,"aria-selected":f,active:f,children:typeof u=="function"?u({option:e,checked:f}):g})}const d=e.items.map(f=>D.jsx(YC,{data:f,value:o,unstyled:l,withCheckIcon:t,withAlignedLabels:r,checkIconPosition:s,renderOption:u},f.value));return D.jsx(Qt.Group,{label:e.group,children:d})}function $2({data:e,hidden:t,hiddenWhenEmpty:r,filter:o,search:s,limit:l,maxDropdownHeight:u,withScrollArea:d=!0,filterOptions:f=!0,withCheckIcon:p=!1,withAlignedLabels:g=!1,value:y,checkIconPosition:x,nothingFoundMessage:w,unstyled:_,labelId:E,renderOption:T,scrollAreaProps:N,"aria-label":R}){VC(e);const L=typeof s=="string"?(o||GC)({options:e,search:f?s:"",limit:l??1/0}):e,F=B2(L),U=L.map(I=>D.jsx(YC,{data:I,withCheckIcon:p,withAlignedLabels:g,value:y,checkIconPosition:x,unstyled:_,renderOption:T},_c(I)?I.group:I.value));return D.jsx(Qt.Dropdown,{hidden:t||r&&F,"data-composed":!0,children:D.jsxs(Qt.Options,{labelledBy:E,"aria-label":R,children:[d?D.jsx(Zl.Autosize,{mah:u??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...N,children:U}):U,F&&w&&D.jsx(Qt.Empty,{children:w})]})})}var KC={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const H2=(e,{radius:t,color:r,gradient:o,variant:s,size:l,autoContrast:u,circle:d})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:o,variant:s||"filled",autoContrast:u});return{root:{"--badge-height":Ft(l,"badge-height"),"--badge-padding-x":Ft(l,"badge-padding-x"),"--badge-fz":Ft(l,"badge-fz"),"--badge-radius":d||t===void 0?void 0:Vn(t),"--badge-bg":r||s?f.background:void 0,"--badge-color":r||s?f.color:void 0,"--badge-bd":r||s?f.border:void 0,"--badge-dot-color":s==="dot"?ji(r,e):void 0}}},gs=Tr((e,t)=>{const r=Ue("Badge",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,radius:p,color:g,gradient:y,leftSection:x,rightSection:w,children:_,variant:E,fullWidth:T,autoContrast:N,circle:R,mod:j,attributes:L,...F}=r,U=yt({name:"Badge",props:r,classes:KC,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:L,vars:f,varsResolver:H2});return D.jsxs(Ge,{variant:E,mod:[{block:T,circle:R,"with-right-section":!!w,"with-left-section":!!x},j],...U("root",{variant:E}),ref:t,...F,children:[x&&D.jsx("span",{...U("section"),"data-position":"left",children:x}),D.jsx("span",{...U("label"),children:_}),w&&D.jsx("span",{...U("section"),"data-position":"right",children:w})]})});gs.classes=KC;gs.displayName="@mantine/core/Badge";var ru={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const Ew={orientation:"horizontal"},q2=(e,{borderWidth:t})=>({group:{"--button-border-width":_e(t)}}),Zy=tt((e,t)=>{const r=Ue("ButtonGroup",Ew,e),{className:o,style:s,classNames:l,styles:u,unstyled:d,orientation:f,vars:p,borderWidth:g,variant:y,mod:x,attributes:w,..._}=Ue("ButtonGroup",Ew,e),E=yt({name:"ButtonGroup",props:r,classes:ru,className:o,style:s,classNames:l,styles:u,unstyled:d,attributes:w,vars:p,varsResolver:q2,rootSelector:"group"});return D.jsx(Ge,{...E("group"),ref:t,variant:y,mod:[{"data-orientation":f},x],role:"group",..._})});Zy.classes=ru;Zy.displayName="@mantine/core/ButtonGroup";const G2=(e,{radius:t,color:r,gradient:o,variant:s,autoContrast:l,size:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:o,variant:s||"filled",autoContrast:l});return{groupSection:{"--section-height":Ft(u,"section-height"),"--section-padding-x":Ft(u,"section-padding-x"),"--section-fz":u?.includes("compact")?gr(u.replace("compact-","")):gr(u),"--section-radius":t===void 0?void 0:Vn(t),"--section-bg":r||s?d.background:void 0,"--section-color":d.color,"--section-bd":r||s?d.border:void 0}}},Jy=tt((e,t)=>{const r=Ue("ButtonGroupSection",null,e),{className:o,style:s,classNames:l,styles:u,unstyled:d,vars:f,variant:p,gradient:g,radius:y,autoContrast:x,attributes:w,..._}=r,E=yt({name:"ButtonGroupSection",props:r,classes:ru,className:o,style:s,classNames:l,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:G2,rootSelector:"groupSection"});return D.jsx(Ge,{...E("groupSection"),ref:t,variant:p,..._})});Jy.classes=ru;Jy.displayName="@mantine/core/ButtonGroupSection";const V2={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${_e(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Y2=(e,{radius:t,color:r,gradient:o,variant:s,size:l,justify:u,autoContrast:d})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:o,variant:s||"filled",autoContrast:d});return{root:{"--button-justify":u,"--button-height":Ft(l,"button-height"),"--button-padding-x":Ft(l,"button-padding-x"),"--button-fz":l?.includes("compact")?gr(l.replace("compact-","")):gr(l),"--button-radius":t===void 0?void 0:Vn(t),"--button-bg":r||s?f.background:void 0,"--button-hover":r||s?f.hover:void 0,"--button-color":f.color,"--button-bd":r||s?f.border:void 0,"--button-hover-color":r||s?f.hoverColor:void 0}}},yi=Tr((e,t)=>{const r=Ue("Button",null,e),{style:o,vars:s,className:l,color:u,disabled:d,children:f,leftSection:p,rightSection:g,fullWidth:y,variant:x,radius:w,loading:_,loaderProps:E,gradient:T,classNames:N,styles:R,unstyled:j,"data-disabled":L,autoContrast:F,mod:U,attributes:I,...G}=r,le=yt({name:"Button",props:r,classes:ru,className:l,style:o,classNames:N,styles:R,unstyled:j,attributes:I,vars:s,varsResolver:Y2}),he=!!p,ve=!!g;return D.jsxs(_s,{ref:t,...le("root",{active:!d&&!_&&!L}),unstyled:j,variant:x,disabled:d||_,mod:[{disabled:d||L,loading:_,block:y,"with-left-section":he,"with-right-section":ve},U],...G,children:[typeof _=="boolean"&&D.jsx(Uo,{mounted:_,transition:V2,duration:150,children:pe=>D.jsx(Ge,{component:"span",...le("loader",{style:pe}),"aria-hidden":!0,children:D.jsx(ja,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),D.jsxs("span",{...le("inner"),children:[p&&D.jsx(Ge,{component:"span",...le("section"),mod:{position:"left"},children:p}),D.jsx(Ge,{component:"span",mod:{loading:_},...le("label"),children:f}),g&&D.jsx(Ge,{component:"span",...le("section"),mod:{position:"right"},children:g})]})]})});yi.classes=ru;yi.displayName="@mantine/core/Button";yi.Group=Zy;yi.GroupSection=Jy;const[K2,X2]=ao("Card component was not found in tree");var ev={root:"m_e615b15f",section:"m_599a2148"};const mh=Tr((e,t)=>{const r=Ue("CardSection",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,withBorder:f,inheritPadding:p,mod:g,...y}=r,x=X2();return D.jsx(Ge,{ref:t,mod:[{"with-border":f,"inherit-padding":p},g],...x.getStyles("section",{className:s,style:l,styles:u,classNames:o}),...y})});mh.classes=ev;mh.displayName="@mantine/core/CardSection";const W2=(e,{padding:t})=>({root:{"--card-padding":Kl(t)}}),gh=Tr((e,t)=>{const r=Ue("Card",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,children:p,padding:g,attributes:y,...x}=r,w=yt({name:"Card",props:r,classes:ev,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:y,vars:f,varsResolver:W2}),_=C.Children.toArray(p),E=_.map((T,N)=>typeof T=="object"&&T&&"type"in T&&T.type===mh?C.cloneElement(T,{"data-first-section":N===0||void 0,"data-last-section":N===_.length-1||void 0}):T);return D.jsx(K2,{value:{getStyles:w},children:D.jsx(uh,{ref:t,unstyled:d,...w("root"),...x,children:E})})});gh.classes=ev;gh.displayName="@mantine/core/Card";gh.Section=mh;var XC={root:"m_4451eb3a"};const Ec=Tr((e,t)=>{const r=Ue("Center",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,inline:p,mod:g,attributes:y,...x}=r,w=yt({name:"Center",props:r,classes:XC,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:y,vars:f});return D.jsx(Ge,{ref:t,mod:[{inline:p},g],...w("root"),...x})});Ec.classes=XC;Ec.displayName="@mantine/core/Center";const[Q2,iu]=ao("Drawer component was not found in tree");var Vo={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const yh=tt((e,t)=>{const r=Ue("DrawerBody",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,...f}=r,p=iu();return D.jsx(vC,{ref:t,...p.getStyles("body",{classNames:o,style:l,styles:u,className:s}),...f})});yh.classes=Vo;yh.displayName="@mantine/core/DrawerBody";const vh=tt((e,t)=>{const r=Ue("DrawerCloseButton",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,...f}=r,p=iu();return D.jsx(bC,{ref:t,...p.getStyles("close",{classNames:o,style:l,styles:u,className:s}),...f})});vh.classes=Vo;vh.displayName="@mantine/core/DrawerCloseButton";const bh=tt((e,t)=>{const r=Ue("DrawerContent",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,children:f,radius:p,__hidden:g,...y}=r,x=iu(),w=x.scrollAreaComponent||ND;return D.jsx(xC,{...x.getStyles("content",{className:s,style:l,styles:u,classNames:o}),innerProps:x.getStyles("inner",{className:s,style:l,styles:u,classNames:o}),ref:t,...y,radius:p||x.radius||0,"data-hidden":g||void 0,children:D.jsx(w,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:f})})});bh.classes=Vo;bh.displayName="@mantine/core/DrawerContent";const xh=tt((e,t)=>{const r=Ue("DrawerHeader",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,...f}=r,p=iu();return D.jsx(wC,{ref:t,...p.getStyles("header",{classNames:o,style:l,styles:u,className:s}),...f})});xh.classes=Vo;xh.displayName="@mantine/core/DrawerHeader";const wh=tt((e,t)=>{const r=Ue("DrawerOverlay",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,...f}=r,p=iu();return D.jsx(SC,{ref:t,...p.getStyles("overlay",{classNames:o,style:l,styles:u,className:s}),...f})});wh.classes=Vo;wh.displayName="@mantine/core/DrawerOverlay";function Z2(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function J2(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const eA={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},tA={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},nA={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:so("modal"),position:"left"},rA=(e,{position:t,size:r,offset:o})=>({root:{"--drawer-size":Ft(r,"drawer-size"),"--drawer-flex":J2(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":Z2(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":_e(o)}}),Sh=tt((e,t)=>{const r=Ue("DrawerRoot",nA,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,scrollAreaComponent:p,position:g,transitionProps:y,radius:x,attributes:w,..._}=r,{dir:E}=Ic(),T=yt({name:"Drawer",classes:Vo,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:rA}),N=(E==="rtl"?tA:eA)[g];return D.jsx(Q2,{value:{scrollAreaComponent:p,getStyles:T,radius:x},children:D.jsx(yC,{ref:t,...T("root"),transitionProps:{transition:N,...y},"data-offset-scrollbars":p===Zl.Autosize||void 0,unstyled:d,..._})})});Sh.classes=Vo;Sh.displayName="@mantine/core/DrawerRoot";const[iA,oA]=Yl();function WC({children:e}){const[t,r]=C.useState([]),[o,s]=C.useState(so("modal"));return D.jsx(iA,{value:{stack:t,addModal:(l,u)=>{r(d=>[...new Set([...d,l])]),s(d=>typeof u=="number"&&typeof d=="number"?Math.max(d,u):d)},removeModal:l=>r(u=>u.filter(d=>d!==l)),getZIndex:l=>`calc(${o} + ${t.indexOf(l)} + 1)`,currentId:t[t.length-1],maxZIndex:o},children:e})}WC.displayName="@mantine/core/DrawerStack";const Ch=tt((e,t)=>{const r=Ue("DrawerTitle",null,e),{classNames:o,className:s,style:l,styles:u,vars:d,...f}=r,p=iu();return D.jsx(CC,{ref:t,...p.getStyles("title",{classNames:o,style:l,styles:u,className:s}),...f})});Ch.classes=Vo;Ch.displayName="@mantine/core/DrawerTitle";const aA={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:so("modal"),withOverlay:!0,withCloseButton:!0},_i=tt((e,t)=>{const{title:r,withOverlay:o,overlayProps:s,withCloseButton:l,closeButtonProps:u,children:d,opened:f,stackId:p,zIndex:g,...y}=Ue("Drawer",aA,e),x=oA(),w=!!r||l,_=x&&p?{closeOnEscape:x.currentId===p,trapFocus:x.currentId===p,zIndex:x.getZIndex(p)}:{},E=o===!1?!1:p&&x?x.currentId===p:f;return C.useEffect(()=>{x&&p&&(f?x.addModal(p,g||so("modal")):x.removeModal(p))},[f,p,g]),D.jsxs(Sh,{ref:t,opened:f,zIndex:x&&p?x.getZIndex(p):g,...y,..._,children:[o&&D.jsx(wh,{visible:E,transitionProps:x&&p?{duration:0}:void 0,...s}),D.jsxs(bh,{__hidden:x&&p&&f?p!==x.currentId:!1,children:[w&&D.jsxs(xh,{children:[r&&D.jsx(Ch,{children:r}),l&&D.jsx(vh,{...u})]}),D.jsx(yh,{children:d})]})]})});_i.classes=Vo;_i.displayName="@mantine/core/Drawer";_i.Root=Sh;_i.Overlay=wh;_i.Content=bh;_i.Body=yh;_i.Header=xh;_i.Title=Ch;_i.CloseButton=vh;_i.Stack=WC;var QC={root:"m_9e117634"};const sA=(e,{radius:t,fit:r})=>({root:{"--image-radius":t===void 0?void 0:Vn(t),"--image-object-fit":r}}),tv=Tr((e,t)=>{const r=Ue("Image",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,onError:p,src:g,radius:y,fit:x,fallbackSrc:w,mod:_,attributes:E,...T}=r,[N,R]=C.useState(!g);C.useEffect(()=>R(!g),[g]);const j=yt({name:"Image",classes:QC,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:E,vars:f,varsResolver:sA});return N&&w?D.jsx(Ge,{component:"img",ref:t,src:w,...j("root"),onError:p,mod:["fallback",_],...T}):D.jsx(Ge,{component:"img",ref:t,...j("root"),src:g,onError:L=>{p?.(L),R(!0)},mod:_,...T})});tv.classes=QC;tv.displayName="@mantine/core/Image";const[EL,ZC]=Yl(),[lA,uA]=Yl();var _h={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const cA=(e,{gap:t},{size:r})=>({group:{"--pg-gap":t!==void 0?Ft(t):Ft(r,"pg-gap")}}),nv=tt((e,t)=>{const r=Ue("PillGroup",null,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,size:p,disabled:g,attributes:y,...x}=r,_=ZC()?.size||p||void 0,E=yt({name:"PillGroup",classes:_h,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:y,vars:f,varsResolver:cA,stylesCtx:{size:_},rootSelector:"group"});return D.jsx(lA,{value:{size:_,disabled:g},children:D.jsx(Ge,{ref:t,size:_,...E("group"),...x})})});nv.classes=_h;nv.displayName="@mantine/core/PillGroup";const dA={variant:"default"},fA=(e,{radius:t},{size:r})=>({root:{"--pill-fz":Ft(r,"pill-fz"),"--pill-height":Ft(r,"pill-height"),"--pill-radius":t===void 0?void 0:Vn(t)}}),Eh=tt((e,t)=>{const r=Ue("Pill",dA,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,variant:p,children:g,withRemoveButton:y,onRemove:x,removeButtonProps:w,radius:_,size:E,disabled:T,mod:N,attributes:R,...j}=r,L=uA(),F=ZC(),U=E||L?.size||void 0,I=F?.variant==="filled"?"contrast":p||"default",G=yt({name:"Pill",classes:_h,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:R,vars:f,varsResolver:fA,stylesCtx:{size:U}});return D.jsxs(Ge,{component:"span",ref:t,variant:I,size:U,...G("root",{variant:I}),mod:[{"with-remove":y&&!T,disabled:T||L?.disabled},N],...j,children:[D.jsx("span",{...G("label"),children:g}),y&&D.jsx(eu,{variant:"transparent",radius:_,tabIndex:-1,"aria-hidden":!0,unstyled:d,...w,...G("remove",{className:w?.className,style:w?.style}),onMouseDown:le=>{le.preventDefault(),le.stopPropagation(),w?.onMouseDown?.(le)},onClick:le=>{le.stopPropagation(),x?.(),w?.onClick?.(le)}})]})});Eh.classes=_h;Eh.displayName="@mantine/core/Pill";Eh.Group=nv;const hA=({reveal:e})=>D.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:D.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})});var Rg={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const pA={visibilityToggleIcon:hA},mA=(e,{size:t})=>({root:{"--psi-icon-size":Ft(t,"psi-icon-size"),"--psi-button-size":Ft(t,"psi-button-size")}}),rv=tt((e,t)=>{const r=Ue("PasswordInput",pA,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,required:p,error:g,leftSection:y,disabled:x,id:w,variant:_,inputContainer:E,description:T,label:N,size:R,errorProps:j,descriptionProps:L,labelProps:F,withAsterisk:U,inputWrapperOrder:I,wrapperProps:G,radius:le,rightSection:he,rightSectionWidth:ve,rightSectionPointerEvents:pe,leftSectionWidth:Me,visible:ce,defaultVisible:Oe,onVisibilityChange:B,visibilityToggleIcon:J,visibilityToggleButtonProps:K,rightSectionProps:be,leftSectionProps:Ce,leftSectionPointerEvents:H,withErrorStyles:re,mod:we,attributes:De,...Ie}=r,He=Fi(w),[nt,xt]=Ia({value:ce,defaultValue:Oe,finalValue:!1,onChange:B}),Ae=()=>xt(!nt),Zt=yt({name:"PasswordInput",classes:Rg,props:r,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:De,vars:f,varsResolver:mA}),{resolvedClassNames:sn,resolvedStyles:Ze}=th({classNames:o,styles:u,props:r}),{styleProps:ft,rest:$t}=Nc(Ie),nn=j?.id||`${He}-error`,gn=L?.id||`${He}-description`,Jt=`${!!g&&typeof g!="boolean"?nn:""} ${!!T?gn:""}`,En=Jt.trim().length>0?Jt.trim():void 0,ln=D.jsx(Fa,{...Zt("visibilityToggle"),disabled:x,radius:le,"aria-hidden":!K,"aria-pressed":nt,tabIndex:-1,...K,variant:K?.variant??"subtle",color:"gray",unstyled:d,onTouchEnd:wn=>{wn.preventDefault(),K?.onTouchEnd?.(wn),Ae()},onMouseDown:wn=>{wn.preventDefault(),K?.onMouseDown?.(wn),Ae()},onKeyDown:wn=>{K?.onKeyDown?.(wn),wn.key===" "&&(wn.preventDefault(),Ae())},children:D.jsx(J,{reveal:nt})});return D.jsx(Hn.Wrapper,{required:p,id:He,label:N,error:g,description:T,size:R,classNames:sn,styles:Ze,__staticSelector:"PasswordInput",unstyled:d,withAsterisk:U,inputWrapperOrder:I,inputContainer:E,variant:_,labelProps:{...F,htmlFor:He},descriptionProps:{...L,id:gn},errorProps:{...j,id:nn},mod:we,attributes:De,...Zt("root"),...ft,...G,children:D.jsx(Hn,{component:"div",error:g,leftSection:y,size:R,classNames:{...sn,input:$n(Rg.input,sn.input)},styles:Ze,radius:le,disabled:x,__staticSelector:"PasswordInput",rightSectionWidth:ve,rightSection:he??ln,variant:_,unstyled:d,leftSectionWidth:Me,rightSectionPointerEvents:pe||"all",rightSectionProps:be,leftSectionProps:Ce,leftSectionPointerEvents:H,withAria:!1,withErrorStyles:re,attributes:De,children:D.jsx("input",{required:p,"data-invalid":!!g||void 0,"data-with-left-section":!!y||void 0,...Zt("innerInput"),disabled:x,id:He,ref:t,...$t,"aria-describedby":En,autoComplete:$t.autoComplete||"off",type:nt?"text":"password"})})})});rv.classes={...Es.classes,...Rg};rv.displayName="@mantine/core/PasswordInput";const gA={duration:100,transition:"fade"};function Ow(e,t){return{...gA,...t,...e}}function yA({offset:e,position:t,defaultOpened:r}){const[o,s]=C.useState(r),l=C.useRef(null),{x:u,y:d,elements:f,refs:p,update:g,placement:y}=yy({placement:t,middleware:[hy({crossAxis:!0,padding:5,rootBoundary:"document"})]}),x=y.includes("right")?e:t.includes("left")?e*-1:0,w=y.includes("bottom")?e:t.includes("top")?e*-1:0,_=C.useCallback(({clientX:E,clientY:T})=>{p.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:E,y:T,left:E+x,top:T+w,right:E,bottom:T}}})},[f.reference]);return C.useEffect(()=>{if(p.floating.current){const E=l.current;E.addEventListener("mousemove",_);const T=Fo(p.floating.current);return T.forEach(N=>{N.addEventListener("scroll",g)}),()=>{E.removeEventListener("mousemove",_),T.forEach(N=>{N.removeEventListener("scroll",g)})}}},[f.reference,p.floating.current,g,_,o]),{handleMouseMove:_,x:u,y:d,opened:o,setOpened:s,boundaryRef:l,floating:p.setFloating}}var Oh={tooltip:"m_1b3c8819",arrow:"m_f898399f"};const vA={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:so("popover")},bA=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:Vn(t),"--tooltip-bg":r?ji(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),iv=tt((e,t)=>{const r=Ue("TooltipFloating",vA,e),{children:o,refProp:s,withinPortal:l,style:u,className:d,classNames:f,styles:p,unstyled:g,radius:y,color:x,label:w,offset:_,position:E,multiline:T,zIndex:N,disabled:R,defaultOpened:j,variant:L,vars:F,portalProps:U,attributes:I,...G}=r,le=xi(),he=yt({name:"TooltipFloating",props:r,classes:Oh,className:d,style:u,classNames:f,styles:p,unstyled:g,attributes:I,rootSelector:"tooltip",vars:F,varsResolver:bA}),{handleMouseMove:ve,x:pe,y:Me,opened:ce,boundaryRef:Oe,floating:B,setOpened:J}=yA({offset:_,position:E,defaultOpened:j}),K=Xl(o);if(!K)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const be=Br(Oe,Zf(K),t),Ce=K.props,H=we=>{Ce.onMouseEnter?.(we),ve(we),J(!0)},re=we=>{Ce.onMouseLeave?.(we),J(!1)};return D.jsxs(D.Fragment,{children:[D.jsx(ws,{...U,withinPortal:l,children:D.jsx(Ge,{...G,...he("tooltip",{style:{...ay(u,le),zIndex:N,display:!R&&ce?"block":"none",top:(Me&&Math.round(Me))??"",left:(pe&&Math.round(pe))??""}}),variant:L,ref:B,mod:{multiline:T},children:w})}),C.cloneElement(K,{...Ce,[s]:be,onMouseEnter:H,onMouseLeave:re})]})});iv.classes=Oh;iv.displayName="@mantine/core/TooltipFloating";const JC=C.createContext(!1),xA=JC.Provider,wA=()=>C.useContext(JC),SA={openDelay:0,closeDelay:0};function ov(e){const{openDelay:t,closeDelay:r,children:o}=Ue("TooltipGroup",SA,e);return D.jsx(xA,{value:!0,children:D.jsx(NR,{delay:{open:t,close:r},children:o})})}ov.displayName="@mantine/core/TooltipGroup";ov.extend=e=>e;function CA(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function _A(e){const t=CA(e.middlewares),r=[LS(e.offset)];return t.shift&&r.push(hy(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?Ff():Ff(t.flip)),r.push(FS({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?yc():yc(t.inline)):e.inline&&r.push(yc()),r}function EA(e){const[t,r]=C.useState(e.defaultOpened),s=typeof e.opened=="boolean"?e.opened:t,l=wA(),u=Fi(),d=C.useCallback(F=>{r(F),F&&N(u)},[u]),{x:f,y:p,context:g,refs:y,placement:x,middlewareData:{arrow:{x:w,y:_}={}}}=yy({strategy:e.strategy,placement:e.position,open:s,onOpenChange:d,middleware:_A(e),whileElementsMounted:Og}),{delay:E,currentId:T,setCurrentId:N}=IR(g,{id:u}),{getReferenceProps:R,getFloatingProps:j}=BR([DR(g,{enabled:e.events?.hover,delay:l?E:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),kR(g,{enabled:e.events?.focus,visibleOnly:!0}),$R(g,{role:"tooltip"}),LR(g,{enabled:typeof e.opened>"u"})]);jl(()=>{e.onPositionChange?.(x)},[x]);const L=s&&T&&T!==u;return{x:f,y:p,arrowX:w,arrowY:_,reference:y.setReference,floating:y.setFloating,getFloatingProps:j,getReferenceProps:R,isGroupPhase:L,opened:s,placement:x}}const Mw={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:so("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},OA=(e,{radius:t,color:r,variant:o,autoContrast:s})=>{const l=e.variantColorResolver({theme:e,color:r||e.primaryColor,autoContrast:s,variant:o||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:Vn(t),"--tooltip-bg":r?l.background:void 0,"--tooltip-color":r?l.color:void 0}}},Uc=tt((e,t)=>{const r=Ue("Tooltip",Mw,e),{children:o,position:s,refProp:l,label:u,openDelay:d,closeDelay:f,onPositionChange:p,opened:g,defaultOpened:y,withinPortal:x,radius:w,color:_,classNames:E,styles:T,unstyled:N,style:R,className:j,withArrow:L,arrowSize:F,arrowOffset:U,arrowRadius:I,arrowPosition:G,offset:le,transitionProps:he,multiline:ve,events:pe,zIndex:Me,disabled:ce,positionDependencies:Oe,onClick:B,onMouseEnter:J,onMouseLeave:K,inline:be,variant:Ce,keepMounted:H,vars:re,portalProps:we,mod:De,floatingStrategy:Ie,middlewares:He,autoContrast:nt,attributes:xt,target:Ae,...Zt}=Ue("Tooltip",Mw,r),{dir:sn}=Ic(),Ze=C.useRef(null),ft=EA({position:rC(sn,s),closeDelay:f,openDelay:d,onPositionChange:p,opened:g,defaultOpened:y,events:pe,arrowRef:Ze,arrowOffset:U,offset:typeof le=="number"?le+(L?F/2:0):le,positionDependencies:[...Oe,Ae??o],inline:be,strategy:Ie,middlewares:He});C.useEffect(()=>{const Jt=Ae instanceof HTMLElement?Ae:typeof Ae=="string"?document.querySelector(Ae):Ae?.current||null;Jt&&ft.reference(Jt)},[Ae,ft]);const $t=yt({name:"Tooltip",props:r,classes:Oh,className:j,style:R,classNames:E,styles:T,unstyled:N,attributes:xt,rootSelector:"tooltip",vars:re,varsResolver:OA}),nn=Xl(o);if(!Ae&&!nn)return null;if(Ae){const Jt=Ow(he,{duration:100,transition:"fade"});return D.jsx(D.Fragment,{children:D.jsx(ws,{...we,withinPortal:x,children:D.jsx(Uo,{...Jt,keepMounted:H,mounted:!ce&&!!ft.opened,duration:ft.isGroupPhase?10:Jt.duration,children:En=>D.jsxs(Ge,{...Zt,"data-fixed":Ie==="fixed"||void 0,variant:Ce,mod:[{multiline:ve},De],...ft.getFloatingProps({ref:ft.floating,className:$t("tooltip").className,style:{...$t("tooltip").style,...En,zIndex:Me,top:ft.y??0,left:ft.x??0}}),children:[u,D.jsx(Bf,{ref:Ze,arrowX:ft.arrowX,arrowY:ft.arrowY,visible:L,position:ft.placement,arrowSize:F,arrowOffset:U,arrowRadius:I,arrowPosition:G,...$t("arrow")})]})})})})}const gn=nn.props,yr=Br(ft.reference,Zf(nn),t),Yn=Ow(he,{duration:100,transition:"fade"});return D.jsxs(D.Fragment,{children:[D.jsx(ws,{...we,withinPortal:x,children:D.jsx(Uo,{...Yn,keepMounted:H,mounted:!ce&&!!ft.opened,duration:ft.isGroupPhase?10:Yn.duration,children:Jt=>D.jsxs(Ge,{...Zt,"data-fixed":Ie==="fixed"||void 0,variant:Ce,mod:[{multiline:ve},De],...ft.getFloatingProps({ref:ft.floating,className:$t("tooltip").className,style:{...$t("tooltip").style,...Jt,zIndex:Me,top:ft.y??0,left:ft.x??0}}),children:[u,D.jsx(Bf,{ref:Ze,arrowX:ft.arrowX,arrowY:ft.arrowY,visible:L,position:ft.placement,arrowSize:F,arrowOffset:U,arrowRadius:I,arrowPosition:G,...$t("arrow")})]})})}),C.cloneElement(nn,ft.getReferenceProps({onClick:B,onMouseEnter:J,onMouseLeave:K,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,...gn,className:$n(j,gn.className),[l]:yr}))]})});Uc.classes=Oh;Uc.displayName="@mantine/core/Tooltip";Uc.Floating=iv;Uc.Group=ov;const MA={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left"},av=tt((e,t)=>{const r=Ue("Select",MA,e),{classNames:o,styles:s,unstyled:l,vars:u,dropdownOpened:d,defaultDropdownOpened:f,onDropdownClose:p,onDropdownOpen:g,onFocus:y,onBlur:x,onClick:w,onChange:_,data:E,value:T,defaultValue:N,selectFirstOptionOnChange:R,onOptionSubmit:j,comboboxProps:L,readOnly:F,disabled:U,filter:I,limit:G,withScrollArea:le,maxDropdownHeight:he,size:ve,searchable:pe,rightSection:Me,checkIconPosition:ce,withCheckIcon:Oe,withAlignedLabels:B,nothingFoundMessage:J,name:K,form:be,searchValue:Ce,defaultSearchValue:H,onSearchChange:re,allowDeselect:we,error:De,rightSectionPointerEvents:Ie,id:He,clearable:nt,clearButtonProps:xt,hiddenInputProps:Ae,renderOption:Zt,onClear:sn,autoComplete:Ze,scrollAreaProps:ft,__defaultRightSection:$t,__clearSection:nn,__clearable:gn,chevronColor:yr,autoSelectOnBlur:Yn,attributes:Jt,...En}=r,ln=C.useMemo(()=>m2(E),[E]),wn=C.useRef({}),un=C.useMemo(()=>PC(ln),[ln]),qt=Fi(He),[_t,qn,jt]=Ia({value:T,defaultValue:N,finalValue:null,onChange:_}),Ht=typeof _t=="string"?_t in un?un[_t]:wn.current[_t]:void 0,On=zM(Ht),[ur,ni,Sn]=Ia({value:Ce,defaultValue:H,finalValue:Ht?Ht.label:"",onChange:re}),rn=jC({opened:d,defaultOpened:f,onDropdownOpen:()=>{g?.(),rn.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{p?.(),setTimeout(rn.resetSelectedOption,0)}}),At=yn=>{ni(yn),rn.resetSelectedOption()},{resolvedClassNames:Cn,resolvedStyles:Ye}=th({props:r,styles:s,classNames:o});C.useEffect(()=>{R&&rn.selectFirstOption()},[R,ur]),C.useEffect(()=>{T===null&&At(""),typeof T=="string"&&Ht&&(On?.value!==Ht.value||On?.label!==Ht.label)&&At(Ht.label)},[T,Ht]),C.useEffect(()=>{!jt&&!Sn&&At(typeof _t=="string"?_t in un?un[_t]?.label:wn.current[_t]?.label||"":"")},[un,_t]),C.useEffect(()=>{_t&&_t in un&&(wn.current[_t]=un[_t])},[un,_t]);const ri=D.jsx(Qt.ClearButton,{...xt,onClear:()=>{qn(null,null),At(""),sn?.()}}),Ur=nt&&!!_t&&!U&&!F;return D.jsxs(D.Fragment,{children:[D.jsxs(Qt,{store:rn,__staticSelector:"Select",classNames:Cn,styles:Ye,unstyled:l,readOnly:F,size:ve,attributes:Jt,keepMounted:Yn,onOptionSubmit:yn=>{j?.(yn);const Le=we&&un[yn].value===_t?null:un[yn],vr=Le?Le.value:null;vr!==_t&&qn(vr,Le),!jt&&At(typeof vr=="string"&&Le?.label||""),rn.closeDropdown()},...L,children:[D.jsx(Qt.Target,{targetType:pe?"input":"button",autoComplete:Ze,children:D.jsx(Es,{id:qt,ref:t,__defaultRightSection:D.jsx(Qt.Chevron,{size:ve,error:De,unstyled:l,color:yr}),__clearSection:ri,__clearable:Ur,rightSection:Me,rightSectionPointerEvents:Ie||"none",...En,size:ve,__staticSelector:"Select",disabled:U,readOnly:F||!pe,value:ur,onChange:yn=>{At(yn.currentTarget.value),rn.openDropdown(),R&&rn.selectFirstOption()},onFocus:yn=>{pe&&rn.openDropdown(),y?.(yn)},onBlur:yn=>{Yn&&rn.clickSelectedOption(),pe&&rn.closeDropdown();const Le=typeof _t=="string"&&(_t in un?un[_t]:wn.current[_t]);At(Le&&Le.label||""),x?.(yn)},onClick:yn=>{pe?rn.openDropdown():rn.toggleDropdown(),w?.(yn)},classNames:Cn,styles:Ye,unstyled:l,pointer:!pe,error:De,attributes:Jt})}),D.jsx($2,{data:ln,hidden:F||U,filter:I,search:ur,limit:G,hiddenWhenEmpty:!J,withScrollArea:le,maxDropdownHeight:he,filterOptions:!!pe&&Ht?.label!==ur,value:_t,checkIconPosition:ce,withCheckIcon:Oe,withAlignedLabels:B,nothingFoundMessage:J,unstyled:l,labelId:En.label?`${qt}-label`:void 0,"aria-label":En.label?void 0:En["aria-label"],renderOption:Zt,scrollAreaProps:ft})]}),D.jsx(Qt.HiddenInput,{value:_t,name:K,form:be,disabled:U,...Ae})]})});av.classes={...Es.classes,...Qt.classes};av.displayName="@mantine/core/Select";var e_={root:"m_6d731127"};const TA={gap:"md",align:"stretch",justify:"flex-start"},PA=(e,{gap:t,align:r,justify:o})=>({root:{"--stack-gap":Kl(t),"--stack-align":r,"--stack-justify":o}}),$o=tt((e,t)=>{const r=Ue("Stack",TA,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,vars:f,align:p,justify:g,gap:y,variant:x,attributes:w,..._}=r,E=yt({name:"Stack",props:r,classes:e_,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:PA});return D.jsx(Ge,{ref:t,...E("root"),variant:x,..._})});$o.classes=e_;$o.displayName="@mantine/core/Stack";const Bl=tt((e,t)=>{const r=Ue("TextInput",null,e);return D.jsx(Es,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});Bl.classes=Es.classes;Bl.displayName="@mantine/core/TextInput";const RA=["h1","h2","h3","h4","h5","h6"],DA=["xs","sm","md","lg","xl"];function AA(e,t){const r=t!==void 0?t:`h${e}`;return RA.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:DA.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:_e(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var t_={root:"m_8a5d1357"};const NA={order:1},IA=(e,{order:t,size:r,lineClamp:o,textWrap:s})=>{const l=AA(t||1,r);return{root:{"--title-fw":l.fontWeight,"--title-lh":l.lineHeight,"--title-fz":l.fontSize,"--title-line-clamp":typeof o=="number"?o.toString():void 0,"--title-text-wrap":s}}},sv=tt((e,t)=>{const r=Ue("Title",NA,e),{classNames:o,className:s,style:l,styles:u,unstyled:d,order:f,vars:p,size:g,variant:y,lineClamp:x,textWrap:w,mod:_,attributes:E,...T}=r,N=yt({name:"Title",props:r,classes:t_,className:s,style:l,classNames:o,styles:u,unstyled:d,attributes:E,vars:p,varsResolver:IA});return[1,2,3,4,5,6].includes(f)?D.jsx(Ge,{...N("root"),component:`h${f}`,variant:y,ref:t,mod:[{order:f,"data-line-clamp":typeof x=="number"},_],size:g,...T}):null});sv.classes=t_;sv.displayName="@mantine/core/Title";const jA=(e,t)=>{localStorage.setItem("sessionToken",e),localStorage.setItem("refreshToken",t)},Tw=()=>localStorage.getItem("sessionToken"),Pw=e=>{localStorage.setItem("user",JSON.stringify(e))},zA=()=>{const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch{return null}},LA=()=>{localStorage.removeItem("sessionToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},FA="https://gnaf-dev.map.ir",kA="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImY5ODkzNDMwZDIxNjI4MzJlYzNlMzZjYWQyZmRlOTM0MjYwMzY5YTA4NmViYzU3ZjBjMTU1MzcyNjVmNzE5ZTU1OWY3MTQ4ZDI2MDE4YjdmIn0.eyJhdWQiOiIxIiwianRpIjoiZjk4OTM0MzBkMjE2MjgzMmVjM2UzNmNhZDJmZGU5MzQyNjAzNjlhMDg2ZWJjNTdmMGMxNTUzNzI2NWY3MTllNTU5ZjcxNDhkMjYwMThiN2YiLCJpYXQiOjE2MzYxOTA2ODAsIm5iZiI6MTYzNjE5MDY4MCwiZXhwIjoxNjM3NjU5NDgwLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.FBzATSA1ffB_-M4anRL98P9ddgRfGaTjgTj5lTr4l0FAggl752DLZRRM93LIPeGzGfPD7lpaZZBEgMI0JdEIgqQNXs0WC06gdog_a4ioicuLrgXJvVKQ8YVmh5uA8LdQbNT8Zm12tXXBY40O6P3AMlx25LPAH3g-PpZNbFYS31_gatigi51SjywRWPmR5XkEXol1u7XytdUEJtMllHm2p7tL5rsFvaA76Ej_Vx9qbqZW5wPQAbfgvYLfwV0tW_TVg-6uNuIs_Pm8Wfen3uAqhTXF-q8oVx4Vh6v2-OntTLJfUTFRy0DjcEZSg686o1tL22Mw6zH48YcMuu3EukIdHQ",Oc=async(e,t={})=>{const r=localStorage.getItem("sessionToken"),o={"Content-Type":"application/json","x-api-key":kA,...r&&{token:r},...t.headers},s={...t,headers:o};return await fetch(`${FA}${e}`,s)};var n_=e=>{throw TypeError(e)},BA=(e,t,r)=>t.has(e)||n_("Cannot "+r),tg=(e,t,r)=>(BA(e,t,"read from private field"),r?r.call(e):t.get(e)),UA=(e,t,r)=>t.has(e)?n_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Rw="popstate";function $A(e={}){function t(s,l){let{pathname:u="/",search:d="",hash:f=""}=Yo(s.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Mc("",{pathname:u,search:d,hash:f},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function r(s,l){let u=s.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=s.location.href,p=f.indexOf("#");d=p===-1?f:f.slice(0,p)}return d+"#"+(typeof l=="string"?l:io(l))}function o(s,l){_n(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return qA(t,r,o,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _n(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function HA(){return Math.random().toString(36).substring(2,10)}function Dw(e,t){return{usr:e.state,key:e.key,idx:t}}function Mc(e,t,r=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Yo(t):t,state:r,key:t&&t.key||o||HA()}}function io({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function qA(e,t,r,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,u=s.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let T=g(),N=T==null?null:T-p;p=T,f&&f({action:d,location:E.location,delta:N})}function x(T,N){d="PUSH";let R=Mc(E.location,T,N);r&&r(R,T),p=g()+1;let j=Dw(R,p),L=E.createHref(R);try{u.pushState(j,"",L)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(L)}l&&f&&f({action:d,location:E.location,delta:1})}function w(T,N){d="REPLACE";let R=Mc(E.location,T,N);r&&r(R,T),p=g();let j=Dw(R,p),L=E.createHref(R);u.replaceState(j,"",L),l&&f&&f({action:d,location:E.location,delta:0})}function _(T){return r_(T)}let E={get action(){return d},get location(){return e(s,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Rw,y),f=T,()=>{s.removeEventListener(Rw,y),f=null}},createHref(T){return t(s,T)},createURL:_,encodeLocation(T){let N=_(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(T){return u.go(T)}};return E}function r_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Et(r,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:io(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=r+o),new URL(o,r)}var hc,Aw=class{constructor(e){if(UA(this,hc,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(tg(this,hc).has(e))return tg(this,hc).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){tg(this,hc).set(e,t)}};hc=new WeakMap;var GA=new Set(["lazy","caseSensitive","path","id","index","children"]);function VA(e){return GA.has(e)}var YA=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function KA(e){return YA.has(e)}function XA(e){return e.index===!0}function Tc(e,t,r=[],o={},s=!1){return e.map((l,u)=>{let d=[...r,String(u)],f=typeof l.id=="string"?l.id:d.join("-");if(Et(l.index!==!0||!l.children,"Cannot specify children on an index route"),Et(s||!o[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),XA(l)){let p={...l,id:f};return o[f]=Nw(p,t(p)),p}else{let p={...l,id:f,children:void 0};return o[f]=Nw(p,t(p)),l.children&&(p.children=Tc(l.children,t,d,o,s)),p}})}function Nw(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function Pa(e,t,r="/"){return pc(e,t,r,!1)}function pc(e,t,r,o){let s=typeof t=="string"?Yo(t):t,l=bi(s.pathname||"/",r);if(l==null)return null;let u=i_(e);QA(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=lN(l);d=aN(u[f],p,o)}return d}function WA(e,t){let{route:r,pathname:o,params:s}=e;return{id:r.id,pathname:o,params:s,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function i_(e,t=[],r=[],o="",s=!1){let l=(u,d,f=s,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&f)return;Et(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let y=no([o,g.relativePath]),x=r.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),i_(u.children,t,x,y,f)),!(u.path==null&&!u.index)&&t.push({path:y,score:iN(y,u.index),routesMeta:x})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))l(u,d);else for(let f of o_(u.path))l(u,d,!0,f)}),t}function o_(e){let t=e.split("/");if(t.length===0)return[];let[r,...o]=t,s=r.endsWith("?"),l=r.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let u=o_(o.join("/")),d=[];return d.push(...u.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function QA(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:oN(t.routesMeta.map(o=>o.childrenIndex),r.routesMeta.map(o=>o.childrenIndex)))}var ZA=/^:[\w-]+$/,JA=3,eN=2,tN=1,nN=10,rN=-2,Iw=e=>e==="*";function iN(e,t){let r=e.split("/"),o=r.length;return r.some(Iw)&&(o+=rN),t&&(o+=eN),r.filter(s=>!Iw(s)).reduce((s,l)=>s+(ZA.test(l)?JA:l===""?tN:nN),o)}function oN(e,t){return e.length===t.length&&e.slice(0,-1).every((o,s)=>o===t[s])?e[e.length-1]-t[t.length-1]:0}function aN(e,t,r=!1){let{routesMeta:o}=e,s={},l="/",u=[];for(let d=0;d<o.length;++d){let f=o[d],p=d===o.length-1,g=l==="/"?t:t.slice(l.length)||"/",y=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),x=f.route;if(!y&&p&&r&&!o[o.length-1].route.index&&(y=Uf({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(s,y.params),u.push({params:s,pathname:no([l,y.pathname]),pathnameBase:dN(no([l,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(l=no([l,y.pathnameBase]))}return u}function Uf(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,o]=sN(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let l=s[0],u=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:o.reduce((p,{paramName:g,isOptional:y},x)=>{if(g==="*"){let _=d[x]||"";u=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const w=d[x];return y&&!w?p[g]=void 0:p[g]=(w||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:e}}function sN(e,t=!1,r=!0){_n(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(o.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),o]}function lN(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return _n(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function bi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,o=e.charAt(r);return o&&o!=="/"?null:e.slice(r)||"/"}function uN({basename:e,pathname:t}){return t==="/"?e:no([e,t])}var a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mh=e=>a_.test(e);function cN(e,t="/"){let{pathname:r,search:o="",hash:s=""}=typeof e=="string"?Yo(e):e,l;if(r)if(Mh(r))l=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),_n(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?l=jw(r.substring(1),"/"):l=jw(r,t)}else l=t;return{pathname:l,search:fN(o),hash:hN(s)}}function jw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function ng(e,t,r,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s_(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Th(e){let t=s_(e);return t.map((r,o)=>o===t.length-1?r.pathname:r.pathnameBase)}function Ph(e,t,r,o=!1){let s;typeof e=="string"?s=Yo(e):(s={...e},Et(!s.pathname||!s.pathname.includes("?"),ng("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),ng("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),ng("#","search","hash",s)));let l=e===""||s.pathname==="",u=l?"/":s.pathname,d;if(u==null)d=r;else{let y=t.length-1;if(!o&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),y-=1;s.pathname=x.join("/")}d=y>=0?t[y]:"/"}let f=cN(s,d),p=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var no=e=>e.join("/").replace(/\/\/+/g,"/"),dN=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),fN=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hN=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,$c=class{constructor(e,t,r,o=!1){this.status=e,this.statusText=t||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Pc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Hc(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var l_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function u_(e,t){let r=e;if(typeof r!="string"||!a_.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let o=r,s=!1;if(l_)try{let l=new URL(window.location.href),u=r.startsWith("//")?new URL(l.protocol+r):new URL(r),d=bi(u.pathname,t);u.origin===l.origin&&d!=null?r=d+u.search+u.hash:s=!0}catch{_n(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:s,to:r}}var Da=Symbol("Uninstrumented");function pN(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(s=>s({id:t.id,index:t.index,path:t.path,instrument(l){let u=Object.keys(r);for(let d of u)l[d]&&r[d].push(l[d])}}));let o={};if(typeof t.lazy=="function"&&r.lazy.length>0){let s=Rl(r.lazy,t.lazy,()=>{});s&&(o.lazy=s)}if(typeof t.lazy=="object"){let s=t.lazy;["middleware","loader","action"].forEach(l=>{let u=s[l],d=r[`lazy.${l}`];if(typeof u=="function"&&d.length>0){let f=Rl(d,u,()=>{});f&&(o.lazy=Object.assign(o.lazy||{},{[l]:f}))}})}return["loader","action"].forEach(s=>{let l=t[s];if(typeof l=="function"&&r[s].length>0){let u=l[Da]??l,d=Rl(r[s],u,(...f)=>zw(f[0]));d&&(d[Da]=u,o[s]=d)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(o.middleware=t.middleware.map(s=>{let l=s[Da]??s,u=Rl(r.middleware,l,(...d)=>zw(d[0]));return u?(u[Da]=l,u):s})),o}function mN(e,t){let r={navigate:[],fetch:[]};if(t.forEach(o=>o({instrument(s){let l=Object.keys(s);for(let u of l)s[u]&&r[u].push(s[u])}})),r.navigate.length>0){let o=e.navigate[Da]??e.navigate,s=Rl(r.navigate,o,(...l)=>{let[u,d]=l;return{to:typeof u=="number"||typeof u=="string"?u:u?io(u):".",...Lw(e,d??{})}});s&&(s[Da]=o,e.navigate=s)}if(r.fetch.length>0){let o=e.fetch[Da]??e.fetch,s=Rl(r.fetch,o,(...l)=>{let[u,,d,f]=l;return{href:d??".",fetcherKey:u,...Lw(e,f??{})}});s&&(s[Da]=o,e.fetch=s)}return e}function Rl(e,t,r){return e.length===0?null:async(...o)=>{let s=await c_(e,r(...o),()=>t(...o),e.length-1);if(s.type==="error")throw s.value;return s.value}}async function c_(e,t,r,o){let s=e[o],l;if(s){let u,d=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=c_(e,t,r,o-1),l=await u,Et(l,"Expected a result"),l.type==="error"&&l.value instanceof Error?{status:"error",error:l.value}:{status:"success",error:void 0});try{await s(d,t)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await d(),await u}else try{l={type:"success",value:await r()}}catch(u){l={type:"error",value:u}}return l||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function zw(e){let{request:t,context:r,params:o,unstable_pattern:s}=e;return{request:gN(t),params:{...o},unstable_pattern:s,context:yN(r)}}function Lw(e,t){return{currentUrl:io(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function gN(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function yN(e){if(bN(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var vN=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bN(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===vN}var d_=["POST","PUT","PATCH","DELETE"],xN=new Set(d_),wN=["GET",...d_],SN=new Set(wN),f_=new Set([301,302,303,307,308]),CN=new Set([307,308]),rg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},_N={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},EN=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),h_="remix-router-transitions",p_=Symbol("ResetLoaderData");function ON(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Et(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=e.hydrationRouteProperties||[],s=e.mapRouteProperties||EN,l=s;if(e.unstable_instrumentations){let $=e.unstable_instrumentations;l=ee=>({...s(ee),...pN($.map(ye=>ye.route).filter(Boolean),ee)})}let u={},d=Tc(e.routes,l,void 0,u),f,p=e.basename||"/";p.startsWith("/")||(p=`/${p}`);let g=e.dataStrategy||DN,y={...e.future},x=null,w=new Set,_=null,E=null,T=null,N=e.hydrationData!=null,R=Pa(d,e.history.location,p),j=!1,L=null,F;if(R==null&&!e.patchRoutesOnNavigation){let $=gi(404,{pathname:e.history.location.pathname}),{matches:ee,route:ye}=ff(d);F=!0,R=ee,L={[ye.id]:$}}else if(R&&!e.hydrationData&&uo(R,d,e.history.location.pathname).active&&(R=null),R)if(R.some($=>$.route.lazy))F=!1;else if(!R.some($=>lv($.route)))F=!0;else{let $=e.hydrationData?e.hydrationData.loaderData:null,ee=e.hydrationData?e.hydrationData.errors:null;if(ee){let ye=R.findIndex(Ne=>ee[Ne.route.id]!==void 0);F=R.slice(0,ye+1).every(Ne=>!Ag(Ne.route,$,ee))}else F=R.every(ye=>!Ag(ye.route,$,ee))}else{F=!1,R=[];let $=uo(null,d,e.history.location.pathname);$.active&&$.matches&&(j=!0,R=$.matches)}let U,I={historyAction:e.history.action,location:e.history.location,matches:R,initialized:F,navigation:rg,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||L,fetchers:new Map,blockers:new Map},G="POP",le=null,he=!1,ve,pe=!1,Me=new Map,ce=null,Oe=!1,B=!1,J=new Set,K=new Map,be=0,Ce=-1,H=new Map,re=new Set,we=new Map,De=new Map,Ie=new Set,He=new Map,nt,xt=null;function Ae(){if(x=e.history.listen(({action:$,location:ee,delta:ye})=>{if(nt){nt(),nt=void 0;return}_n(He.size===0||ye!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ne=vr({currentLocation:I.location,nextLocation:ee,historyAction:$});if(Ne&&ye!=null){let Fe=new Promise(et=>{nt=et});e.history.go(ye*-1),Le(Ne,{state:"blocked",location:ee,proceed(){Le(Ne,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Fe.then(()=>e.history.go(ye))},reset(){let et=new Map(I.blockers);et.set(Ne,lc),Ze({blockers:et})}}),le?.resolve(),le=null;return}return gn($,ee)}),r){XN(t,Me);let $=()=>WN(t,Me);t.addEventListener("pagehide",$),ce=()=>t.removeEventListener("pagehide",$)}return I.initialized||gn("POP",I.location,{initialHydration:!0}),U}function Zt(){x&&x(),ce&&ce(),w.clear(),ve&&ve.abort(),I.fetchers.forEach(($,ee)=>Sn(ee)),I.blockers.forEach(($,ee)=>yn(ee))}function sn($){return w.add($),()=>w.delete($)}function Ze($,ee={}){$.matches&&($.matches=$.matches.map(Fe=>{let et=u[Fe.route.id],Xe=Fe.route;return Xe.element!==et.element||Xe.errorElement!==et.errorElement||Xe.hydrateFallbackElement!==et.hydrateFallbackElement?{...Fe,route:et}:Fe})),I={...I,...$};let ye=[],Ne=[];I.fetchers.forEach((Fe,et)=>{Fe.state==="idle"&&(Ie.has(et)?ye.push(et):Ne.push(et))}),Ie.forEach(Fe=>{!I.fetchers.has(Fe)&&!K.has(Fe)&&ye.push(Fe)}),[...w].forEach(Fe=>Fe(I,{deletedFetchers:ye,newErrors:$.errors??null,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),ye.forEach(Fe=>Sn(Fe)),Ne.forEach(Fe=>I.fetchers.delete(Fe))}function ft($,ee,{flushSync:ye}={}){let Ne=I.actionData!=null&&I.navigation.formMethod!=null&&pr(I.navigation.formMethod)&&I.navigation.state==="loading"&&$.state?._isRedirect!==!0,Fe;ee.actionData?Object.keys(ee.actionData).length>0?Fe=ee.actionData:Fe=null:Ne?Fe=I.actionData:Fe=null;let et=ee.loaderData?Yw(I.loaderData,ee.loaderData,ee.matches||[],ee.errors):I.loaderData,Xe=I.blockers;Xe.size>0&&(Xe=new Map(Xe),Xe.forEach((ot,it)=>Xe.set(it,lc)));let $e=Oe?!1:Ds($,ee.matches||I.matches),Ke=he===!0||I.navigation.formMethod!=null&&pr(I.navigation.formMethod)&&$.state?._isRedirect!==!0;f&&(d=f,f=void 0),Oe||G==="POP"||(G==="PUSH"?e.history.push($,$.state):G==="REPLACE"&&e.history.replace($,$.state));let Qe;if(G==="POP"){let ot=Me.get(I.location.pathname);ot&&ot.has($.pathname)?Qe={currentLocation:I.location,nextLocation:$}:Me.has($.pathname)&&(Qe={currentLocation:$,nextLocation:I.location})}else if(pe){let ot=Me.get(I.location.pathname);ot?ot.add($.pathname):(ot=new Set([$.pathname]),Me.set(I.location.pathname,ot)),Qe={currentLocation:I.location,nextLocation:$}}Ze({...ee,actionData:Fe,loaderData:et,historyAction:G,location:$,initialized:!0,navigation:rg,revalidation:"idle",restoreScrollPosition:$e,preventScrollReset:Ke,blockers:Xe},{viewTransitionOpts:Qe,flushSync:ye===!0}),G="POP",he=!1,pe=!1,Oe=!1,B=!1,le?.resolve(),le=null,xt?.resolve(),xt=null}async function $t($,ee){if(le?.resolve(),le=null,typeof $=="number"){le||(le=Qw());let Ot=le.promise;return e.history.go($),Ot}let ye=Dg(I.location,I.matches,p,$,ee?.fromRouteId,ee?.relative),{path:Ne,submission:Fe,error:et}=Fw(!1,ye,ee),Xe=I.location,$e=Mc(I.location,Ne,ee&&ee.state);$e={...$e,...e.history.encodeLocation($e)};let Ke=ee&&ee.replace!=null?ee.replace:void 0,Qe="PUSH";Ke===!0?Qe="REPLACE":Ke===!1||Fe!=null&&pr(Fe.formMethod)&&Fe.formAction===I.location.pathname+I.location.search&&(Qe="REPLACE");let ot=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,it=(ee&&ee.flushSync)===!0,gt=vr({currentLocation:Xe,nextLocation:$e,historyAction:Qe});if(gt){Le(gt,{state:"blocked",location:$e,proceed(){Le(gt,{state:"proceeding",proceed:void 0,reset:void 0,location:$e}),$t($,ee)},reset(){let Ot=new Map(I.blockers);Ot.set(gt,lc),Ze({blockers:Ot})}});return}await gn(Qe,$e,{submission:Fe,pendingError:et,preventScrollReset:ot,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:it,callSiteDefaultShouldRevalidate:ee&&ee.unstable_defaultShouldRevalidate})}function nn(){xt||(xt=Qw()),jt(),Ze({revalidation:"loading"});let $=xt.promise;return I.navigation.state==="submitting"?$:I.navigation.state==="idle"?(gn(I.historyAction,I.location,{startUninterruptedRevalidation:!0}),$):(gn(G||I.historyAction,I.navigation.location,{overrideNavigation:I.navigation,enableViewTransition:pe===!0}),$)}async function gn($,ee,ye){ve&&ve.abort(),ve=null,G=$,Oe=(ye&&ye.startUninterruptedRevalidation)===!0,Oi(I.location,I.matches),he=(ye&&ye.preventScrollReset)===!0,pe=(ye&&ye.enableViewTransition)===!0;let Ne=f||d,Fe=ye&&ye.overrideNavigation,et=ye?.initialHydration&&I.matches&&I.matches.length>0&&!j?I.matches:Pa(Ne,ee,p),Xe=(ye&&ye.flushSync)===!0;if(et&&I.initialized&&!B&&kN(I.location,ee)&&!(ye&&ye.submission&&pr(ye.submission.formMethod))){ft(ee,{matches:et},{flushSync:Xe});return}let $e=uo(et,Ne,ee.pathname);if($e.active&&$e.matches&&(et=$e.matches),!et){let{error:cn,notFoundMatches:on,route:at}=Ei(ee.pathname);ft(ee,{matches:on,loaderData:{},errors:{[at.id]:cn}},{flushSync:Xe});return}ve=new AbortController;let Ke=Tl(e.history,ee,ve.signal,ye&&ye.submission),Qe=e.getContext?await e.getContext():new Aw,ot;if(ye&&ye.pendingError)ot=[Ra(et).route.id,{type:"error",error:ye.pendingError}];else if(ye&&ye.submission&&pr(ye.submission.formMethod)){let cn=await yr(Ke,ee,ye.submission,et,Qe,$e.active,ye&&ye.initialHydration===!0,{replace:ye.replace,flushSync:Xe});if(cn.shortCircuited)return;if(cn.pendingActionResult){let[on,at]=cn.pendingActionResult;if(Qr(at)&&Pc(at.error)&&at.error.status===404){ve=null,ft(ee,{matches:cn.matches,loaderData:{},errors:{[on]:at.error}});return}}et=cn.matches||et,ot=cn.pendingActionResult,Fe=ig(ee,ye.submission),Xe=!1,$e.active=!1,Ke=Tl(e.history,Ke.url,Ke.signal)}let{shortCircuited:it,matches:gt,loaderData:Ot,errors:kt}=await Yn(Ke,ee,et,Qe,$e.active,Fe,ye&&ye.submission,ye&&ye.fetcherSubmission,ye&&ye.replace,ye&&ye.initialHydration===!0,Xe,ot,ye&&ye.callSiteDefaultShouldRevalidate);it||(ve=null,ft(ee,{matches:gt||et,...Kw(ot),loaderData:Ot,errors:kt}))}async function yr($,ee,ye,Ne,Fe,et,Xe,$e={}){jt();let Ke=YN(ee,ye);if(Ze({navigation:Ke},{flushSync:$e.flushSync===!0}),et){let it=await br(Ne,ee.pathname,$.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){if(it.partialMatches.length===0){let{matches:Ot,route:kt}=ff(d);return{matches:Ot,pendingActionResult:[kt.id,{type:"error",error:it.error}]}}let gt=Ra(it.partialMatches).route.id;return{matches:it.partialMatches,pendingActionResult:[gt,{type:"error",error:it.error}]}}else if(it.matches)Ne=it.matches;else{let{notFoundMatches:gt,error:Ot,route:kt}=Ei(ee.pathname);return{matches:gt,pendingActionResult:[kt.id,{type:"error",error:Ot}]}}}let Qe,ot=Tf(Ne,ee);if(!ot.route.action&&!ot.route.lazy)Qe={type:"error",error:gi(405,{method:$.method,pathname:ee.pathname,routeId:ot.route.id})};else{let it=Nl(l,u,$,Ne,ot,Xe?[]:o,Fe),gt=await _t($,it,Fe,null);if(Qe=gt[ot.route.id],!Qe){for(let Ot of Ne)if(gt[Ot.route.id]){Qe=gt[Ot.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(ys(Qe)){let it;return $e&&$e.replace!=null?it=$e.replace:it=qw(Qe.response.headers.get("Location"),new URL($.url),p)===I.location.pathname+I.location.search,await qt($,Qe,!0,{submission:ye,replace:it}),{shortCircuited:!0}}if(Qr(Qe)){let it=Ra(Ne,ot.route.id);return($e&&$e.replace)!==!0&&(G="PUSH"),{matches:Ne,pendingActionResult:[it.route.id,Qe,ot.route.id]}}return{matches:Ne,pendingActionResult:[ot.route.id,Qe]}}async function Yn($,ee,ye,Ne,Fe,et,Xe,$e,Ke,Qe,ot,it,gt){let Ot=et||ig(ee,Xe),kt=Xe||$e||Ww(Ot),cn=!Oe&&!Qe;if(Fe){if(cn){let st=Jt(it);Ze({navigation:Ot,...st!==void 0?{actionData:st}:{}},{flushSync:ot})}let Mt=await br(ye,ee.pathname,$.signal);if(Mt.type==="aborted")return{shortCircuited:!0};if(Mt.type==="error"){if(Mt.partialMatches.length===0){let{matches:Pr,route:Nn}=ff(d);return{matches:Pr,loaderData:{},errors:{[Nn.id]:Mt.error}}}let st=Ra(Mt.partialMatches).route.id;return{matches:Mt.partialMatches,loaderData:{},errors:{[st]:Mt.error}}}else if(Mt.matches)ye=Mt.matches;else{let{error:st,notFoundMatches:Pr,route:Nn}=Ei(ee.pathname);return{matches:Pr,loaderData:{},errors:{[Nn.id]:st}}}}let on=f||d,{dsMatches:at,revalidatingFetchers:an}=kw($,Ne,l,u,e.history,I,ye,kt,ee,Qe?[]:o,Qe===!0,B,J,Ie,we,re,on,p,e.patchRoutesOnNavigation!=null,it,gt);if(Ce=++be,!e.dataStrategy&&!at.some(Mt=>Mt.shouldLoad)&&!at.some(Mt=>Mt.route.middleware&&Mt.route.middleware.length>0)&&an.length===0){let Mt=Ye();return ft(ee,{matches:ye,loaderData:{},errors:it&&Qr(it[1])?{[it[0]]:it[1].error}:null,...Kw(it),...Mt?{fetchers:new Map(I.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(cn){let Mt={};if(!Fe){Mt.navigation=Ot;let st=Jt(it);st!==void 0&&(Mt.actionData=st)}an.length>0&&(Mt.fetchers=En(an)),Ze(Mt,{flushSync:ot})}an.forEach(Mt=>{At(Mt.key),Mt.controller&&K.set(Mt.key,Mt.controller)});let vn=()=>an.forEach(Mt=>At(Mt.key));ve&&ve.signal.addEventListener("abort",vn);let{loaderResults:en,fetcherResults:Kn}=await qn(at,an,$,Ne);if($.signal.aborted)return{shortCircuited:!0};ve&&ve.signal.removeEventListener("abort",vn),an.forEach(Mt=>K.delete(Mt.key));let Xn=hf(en);if(Xn)return await qt($,Xn.result,!0,{replace:Ke}),{shortCircuited:!0};if(Xn=hf(Kn),Xn)return re.add(Xn.key),await qt($,Xn.result,!0,{replace:Ke}),{shortCircuited:!0};let{loaderData:wr,errors:cr}=Vw(I,ye,en,it,an,Kn);Qe&&I.errors&&(cr={...I.errors,...cr});let rr=Ye(),Ui=ri(Ce),ii=rr||Ui||an.length>0;return{matches:ye,loaderData:wr,errors:cr,...ii?{fetchers:new Map(I.fetchers)}:{}}}function Jt($){if($&&!Qr($[1]))return{[$[0]]:$[1].data};if(I.actionData)return Object.keys(I.actionData).length===0?null:I.actionData}function En($){return $.forEach(ee=>{let ye=I.fetchers.get(ee.key),Ne=uc(void 0,ye?ye.data:void 0);I.fetchers.set(ee.key,Ne)}),new Map(I.fetchers)}async function ln($,ee,ye,Ne){At($);let Fe=(Ne&&Ne.flushSync)===!0,et=f||d,Xe=Dg(I.location,I.matches,p,ye,ee,Ne?.relative),$e=Pa(et,Xe,p),Ke=uo($e,et,Xe);if(Ke.active&&Ke.matches&&($e=Ke.matches),!$e){On($,ee,gi(404,{pathname:Xe}),{flushSync:Fe});return}let{path:Qe,submission:ot,error:it}=Fw(!0,Xe,Ne);if(it){On($,ee,it,{flushSync:Fe});return}let gt=e.getContext?await e.getContext():new Aw,Ot=(Ne&&Ne.preventScrollReset)===!0;if(ot&&pr(ot.formMethod)){await wn($,ee,Qe,$e,gt,Ke.active,Fe,Ot,ot,Ne&&Ne.unstable_defaultShouldRevalidate);return}we.set($,{routeId:ee,path:Qe}),await un($,ee,Qe,$e,gt,Ke.active,Fe,Ot,ot)}async function wn($,ee,ye,Ne,Fe,et,Xe,$e,Ke,Qe){jt(),we.delete($);let ot=I.fetchers.get($);Ht($,KN(Ke,ot),{flushSync:Xe});let it=new AbortController,gt=Tl(e.history,ye,it.signal,Ke);if(et){let St=await br(Ne,new URL(gt.url).pathname,gt.signal,$);if(St.type==="aborted")return;if(St.type==="error"){On($,ee,St.error,{flushSync:Xe});return}else if(St.matches)Ne=St.matches;else{On($,ee,gi(404,{pathname:ye}),{flushSync:Xe});return}}let Ot=Tf(Ne,ye);if(!Ot.route.action&&!Ot.route.lazy){let St=gi(405,{method:Ke.formMethod,pathname:ye,routeId:ee});On($,ee,St,{flushSync:Xe});return}K.set($,it);let kt=be,cn=Nl(l,u,gt,Ne,Ot,o,Fe),on=await _t(gt,cn,Fe,$),at=on[Ot.route.id];if(!at){for(let St of cn)if(on[St.route.id]){at=on[St.route.id];break}}if(gt.signal.aborted){K.get($)===it&&K.delete($);return}if(Ie.has($)){if(ys(at)||Qr(at)){Ht($,zo(void 0));return}}else{if(ys(at))if(K.delete($),Ce>kt){Ht($,zo(void 0));return}else return re.add($),Ht($,uc(Ke)),qt(gt,at,!1,{fetcherSubmission:Ke,preventScrollReset:$e});if(Qr(at)){On($,ee,at.error);return}}let an=I.navigation.location||I.location,vn=Tl(e.history,an,it.signal),en=f||d,Kn=I.navigation.state!=="idle"?Pa(en,I.navigation.location,p):I.matches;Et(Kn,"Didn't find any matches after fetcher action");let Xn=++be;H.set($,Xn);let wr=uc(Ke,at.data);I.fetchers.set($,wr);let{dsMatches:cr,revalidatingFetchers:rr}=kw(vn,Fe,l,u,e.history,I,Kn,Ke,an,o,!1,B,J,Ie,we,re,en,p,e.patchRoutesOnNavigation!=null,[Ot.route.id,at],Qe);rr.filter(St=>St.key!==$).forEach(St=>{let Hr=St.key,$a=I.fetchers.get(Hr),Xo=uc(void 0,$a?$a.data:void 0);I.fetchers.set(Hr,Xo),At(Hr),St.controller&&K.set(Hr,St.controller)}),Ze({fetchers:new Map(I.fetchers)});let Ui=()=>rr.forEach(St=>At(St.key));it.signal.addEventListener("abort",Ui);let{loaderResults:ii,fetcherResults:Mt}=await qn(cr,rr,vn,Fe);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",Ui),H.delete($),K.delete($),rr.forEach(St=>K.delete(St.key)),I.fetchers.has($)){let St=zo(at.data);I.fetchers.set($,St)}let st=hf(ii);if(st)return qt(vn,st.result,!1,{preventScrollReset:$e});if(st=hf(Mt),st)return re.add(st.key),qt(vn,st.result,!1,{preventScrollReset:$e});let{loaderData:Pr,errors:Nn}=Vw(I,Kn,ii,void 0,rr,Mt);ri(Xn),I.navigation.state==="loading"&&Xn>Ce?(Et(G,"Expected pending action"),ve&&ve.abort(),ft(I.navigation.location,{matches:Kn,loaderData:Pr,errors:Nn,fetchers:new Map(I.fetchers)})):(Ze({errors:Nn,loaderData:Yw(I.loaderData,Pr,Kn,Nn),fetchers:new Map(I.fetchers)}),B=!1)}async function un($,ee,ye,Ne,Fe,et,Xe,$e,Ke){let Qe=I.fetchers.get($);Ht($,uc(Ke,Qe?Qe.data:void 0),{flushSync:Xe});let ot=new AbortController,it=Tl(e.history,ye,ot.signal);if(et){let at=await br(Ne,new URL(it.url).pathname,it.signal,$);if(at.type==="aborted")return;if(at.type==="error"){On($,ee,at.error,{flushSync:Xe});return}else if(at.matches)Ne=at.matches;else{On($,ee,gi(404,{pathname:ye}),{flushSync:Xe});return}}let gt=Tf(Ne,ye);K.set($,ot);let Ot=be,kt=Nl(l,u,it,Ne,gt,o,Fe),on=(await _t(it,kt,Fe,$))[gt.route.id];if(K.get($)===ot&&K.delete($),!it.signal.aborted){if(Ie.has($)){Ht($,zo(void 0));return}if(ys(on))if(Ce>Ot){Ht($,zo(void 0));return}else{re.add($),await qt(it,on,!1,{preventScrollReset:$e});return}if(Qr(on)){On($,ee,on.error);return}Ht($,zo(on.data))}}async function qt($,ee,ye,{submission:Ne,fetcherSubmission:Fe,preventScrollReset:et,replace:Xe}={}){ye||(le?.resolve(),le=null),ee.response.headers.has("X-Remix-Revalidate")&&(B=!0);let $e=ee.response.headers.get("Location");Et($e,"Expected a Location header on the redirect Response"),$e=qw($e,new URL($.url),p);let Ke=Mc(I.location,$e,{_isRedirect:!0});if(r){let kt=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))kt=!0;else if(Mh($e)){const cn=r_($e,!0);kt=cn.origin!==t.location.origin||bi(cn.pathname,p)==null}if(kt){Xe?t.location.replace($e):t.location.assign($e);return}}ve=null;let Qe=Xe===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:it,formEncType:gt}=I.navigation;!Ne&&!Fe&&ot&&it&&gt&&(Ne=Ww(I.navigation));let Ot=Ne||Fe;if(CN.has(ee.response.status)&&Ot&&pr(Ot.formMethod))await gn(Qe,Ke,{submission:{...Ot,formAction:$e},preventScrollReset:et||he,enableViewTransition:ye?pe:void 0});else{let kt=ig(Ke,Ne);await gn(Qe,Ke,{overrideNavigation:kt,fetcherSubmission:Fe,preventScrollReset:et||he,enableViewTransition:ye?pe:void 0})}}async function _t($,ee,ye,Ne){let Fe,et={};try{Fe=await NN(g,$,ee,Ne,ye,!1)}catch(Xe){return ee.filter($e=>$e.shouldLoad).forEach($e=>{et[$e.route.id]={type:"error",error:Xe}}),et}if($.signal.aborted)return et;if(!pr($.method))for(let Xe of ee){if(Fe[Xe.route.id]?.type==="error")break;!Fe.hasOwnProperty(Xe.route.id)&&!I.loaderData.hasOwnProperty(Xe.route.id)&&(!I.errors||!I.errors.hasOwnProperty(Xe.route.id))&&Xe.shouldCallHandler()&&(Fe[Xe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Xe.route.id}`)})}for(let[Xe,$e]of Object.entries(Fe))if(HN($e)){let Ke=$e.result;et[Xe]={type:"redirect",response:LN(Ke,$,Xe,ee,p)}}else et[Xe]=await zN($e);return et}async function qn($,ee,ye,Ne){let Fe=_t(ye,$,Ne,null),et=Promise.all(ee.map(async Ke=>{if(Ke.matches&&Ke.match&&Ke.request&&Ke.controller){let ot=(await _t(Ke.request,Ke.matches,Ne,Ke.key))[Ke.match.route.id];return{[Ke.key]:ot}}else return Promise.resolve({[Ke.key]:{type:"error",error:gi(404,{pathname:Ke.path})}})})),Xe=await Fe,$e=(await et).reduce((Ke,Qe)=>Object.assign(Ke,Qe),{});return{loaderResults:Xe,fetcherResults:$e}}function jt(){B=!0,we.forEach(($,ee)=>{K.has(ee)&&J.add(ee),At(ee)})}function Ht($,ee,ye={}){I.fetchers.set($,ee),Ze({fetchers:new Map(I.fetchers)},{flushSync:(ye&&ye.flushSync)===!0})}function On($,ee,ye,Ne={}){let Fe=Ra(I.matches,ee);Sn($),Ze({errors:{[Fe.route.id]:ye},fetchers:new Map(I.fetchers)},{flushSync:(Ne&&Ne.flushSync)===!0})}function ur($){return De.set($,(De.get($)||0)+1),Ie.has($)&&Ie.delete($),I.fetchers.get($)||_N}function ni($,ee){At($,ee?.reason),Ht($,zo(null))}function Sn($){let ee=I.fetchers.get($);K.has($)&&!(ee&&ee.state==="loading"&&H.has($))&&At($),we.delete($),H.delete($),re.delete($),Ie.delete($),J.delete($),I.fetchers.delete($)}function rn($){let ee=(De.get($)||0)-1;ee<=0?(De.delete($),Ie.add($)):De.set($,ee),Ze({fetchers:new Map(I.fetchers)})}function At($,ee){let ye=K.get($);ye&&(ye.abort(ee),K.delete($))}function Cn($){for(let ee of $){let ye=ur(ee),Ne=zo(ye.data);I.fetchers.set(ee,Ne)}}function Ye(){let $=[],ee=!1;for(let ye of re){let Ne=I.fetchers.get(ye);Et(Ne,`Expected fetcher: ${ye}`),Ne.state==="loading"&&(re.delete(ye),$.push(ye),ee=!0)}return Cn($),ee}function ri($){let ee=[];for(let[ye,Ne]of H)if(Ne<$){let Fe=I.fetchers.get(ye);Et(Fe,`Expected fetcher: ${ye}`),Fe.state==="loading"&&(At(ye),H.delete(ye),ee.push(ye))}return Cn(ee),ee.length>0}function Ur($,ee){let ye=I.blockers.get($)||lc;return He.get($)!==ee&&He.set($,ee),ye}function yn($){I.blockers.delete($),He.delete($)}function Le($,ee){let ye=I.blockers.get($)||lc;Et(ye.state==="unblocked"&&ee.state==="blocked"||ye.state==="blocked"&&ee.state==="blocked"||ye.state==="blocked"&&ee.state==="proceeding"||ye.state==="blocked"&&ee.state==="unblocked"||ye.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${ye.state} -> ${ee.state}`);let Ne=new Map(I.blockers);Ne.set($,ee),Ze({blockers:Ne})}function vr({currentLocation:$,nextLocation:ee,historyAction:ye}){if(He.size===0)return;He.size>1&&_n(!1,"A router only supports one blocker at a time");let Ne=Array.from(He.entries()),[Fe,et]=Ne[Ne.length-1],Xe=I.blockers.get(Fe);if(!(Xe&&Xe.state==="proceeding")&&et({currentLocation:$,nextLocation:ee,historyAction:ye}))return Fe}function Ei($){let ee=gi(404,{pathname:$}),ye=f||d,{matches:Ne,route:Fe}=ff(ye);return{notFoundMatches:Ne,route:Fe,error:ee}}function $r($,ee,ye){if(_=$,T=ee,E=ye||null,!N&&I.navigation===rg){N=!0;let Ne=Ds(I.location,I.matches);Ne!=null&&Ze({restoreScrollPosition:Ne})}return()=>{_=null,T=null,E=null}}function Bi($,ee){return E&&E($,ee.map(Ne=>WA(Ne,I.loaderData)))||$.key}function Oi($,ee){if(_&&T){let ye=Bi($,ee);_[ye]=T()}}function Ds($,ee){if(_){let ye=Bi($,ee),Ne=_[ye];if(typeof Ne=="number")return Ne}return null}function uo($,ee,ye){if(e.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:pc(ee,ye,p,!0)}}else return{active:!0,matches:pc(ee,ye,p,!0)||[]};return{active:!1,matches:null}}async function br($,ee,ye,Ne){if(!e.patchRoutesOnNavigation)return{type:"success",matches:$};let Fe=$;for(;;){let et=f==null,Xe=f||d,$e=u;try{await e.patchRoutesOnNavigation({signal:ye,path:ee,matches:Fe,fetcherKey:Ne,patch:(ot,it)=>{ye.aborted||Bw(ot,it,Xe,$e,l,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Fe}}finally{et&&!ye.aborted&&(d=[...d])}if(ye.aborted)return{type:"aborted"};let Ke=Pa(Xe,ee,p),Qe=null;if(Ke){if(Object.keys(Ke[0].params).length===0)return{type:"success",matches:Ke};if(Qe=pc(Xe,ee,p,!0),!(Qe&&Fe.length<Qe.length&&xr(Fe,Qe.slice(0,Fe.length))))return{type:"success",matches:Ke}}if(Qe||(Qe=pc(Xe,ee,p,!0)),!Qe||xr(Fe,Qe))return{type:"success",matches:null};Fe=Qe}}function xr($,ee){return $.length===ee.length&&$.every((ye,Ne)=>ye.route.id===ee[Ne].route.id)}function Ua($){u={},f=Tc($,l,void 0,u)}function co($,ee,ye=!1){let Ne=f==null;Bw($,ee,f||d,u,l,ye),Ne&&(d=[...d],Ze({}))}return U={get basename(){return p},get future(){return y},get state(){return I},get routes(){return d},get window(){return t},initialize:Ae,subscribe:sn,enableScrollRestoration:$r,navigate:$t,fetch:ln,revalidate:nn,createHref:$=>e.history.createHref($),encodeLocation:$=>e.history.encodeLocation($),getFetcher:ur,resetFetcher:ni,deleteFetcher:rn,dispose:Zt,getBlocker:Ur,deleteBlocker:yn,patchRoutes:co,_internalFetchControllers:K,_internalSetRoutes:Ua,_internalSetStateDoNotUseOrYouWillBreakYourApp($){Ze($)}},e.unstable_instrumentations&&(U=mN(U,e.unstable_instrumentations.map($=>$.router).filter(Boolean))),U}function MN(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function Dg(e,t,r,o,s,l){let u,d;if(s){u=[];for(let p of t)if(u.push(p),p.route.id===s){d=p;break}}else u=t,d=t[t.length-1];let f=Ph(o||".",Th(u),bi(e.pathname,r)||e.pathname,l==="path");if(o==null&&(f.search=e.search,f.hash=e.hash),(o==null||o===""||o===".")&&d){let p=cv(f.search);if(d.route.index&&!p)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&p){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(w=>w).forEach(w=>g.append("index",w));let x=g.toString();f.search=x?`?${x}`:""}}return r!=="/"&&(f.pathname=uN({basename:r,pathname:f.pathname})),io(f)}function Fw(e,t,r){if(!r||!MN(r))return{path:t};if(r.formMethod&&!VN(r.formMethod))return{path:t,error:gi(405,{method:r.formMethod})};let o=()=>({path:t,error:gi(400,{type:"invalid-body"})}),l=(r.formMethod||"get").toUpperCase(),u=x_(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!pr(l))return o();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,[w,_])=>`${x}${w}=${_}
`,""):String(r.body);return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!pr(l))return o();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:l,formAction:u,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return o()}}}Et(typeof FormData=="function","FormData is not available in this environment");let d,f;if(r.formData)d=Ig(r.formData),f=r.formData;else if(r.body instanceof FormData)d=Ig(r.body),f=r.body;else if(r.body instanceof URLSearchParams)d=r.body,f=Gw(d);else if(r.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(r.body),f=Gw(d)}catch{return o()}let p={formMethod:l,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(pr(p.formMethod))return{path:t,submission:p};let g=Yo(t);return e&&g.search&&cv(g.search)&&d.append("index",""),g.search=`?${d}`,{path:io(g),submission:p}}function kw(e,t,r,o,s,l,u,d,f,p,g,y,x,w,_,E,T,N,R,j,L){let F=j?Qr(j[1])?j[1].error:j[1].data:void 0,U=s.createURL(l.location),I=s.createURL(f),G;if(g&&l.errors){let Oe=Object.keys(l.errors)[0];G=u.findIndex(B=>B.route.id===Oe)}else if(j&&Qr(j[1])){let Oe=j[0];G=u.findIndex(B=>B.route.id===Oe)-1}let le=j?j[1].statusCode:void 0,he=le&&le>=400,ve={currentUrl:U,currentParams:l.matches[0]?.params||{},nextUrl:I,nextParams:u[0].params,...d,actionResult:F,actionStatus:le},pe=Hc(u),Me=u.map((Oe,B)=>{let{route:J}=Oe,K=null;if(G!=null&&B>G?K=!1:J.lazy?K=!0:lv(J)?g?K=Ag(J,l.loaderData,l.errors):TN(l.loaderData,l.matches[B],Oe)&&(K=!0):K=!1,K!==null)return Ng(r,o,e,pe,Oe,p,t,K);let be=!1;typeof L=="boolean"?be=L:he?be=!1:(y||U.pathname+U.search===I.pathname+I.search||U.search!==I.search||PN(l.matches[B],Oe))&&(be=!0);let Ce={...ve,defaultShouldRevalidate:be},H=vc(Oe,Ce);return Ng(r,o,e,pe,Oe,p,t,H,Ce,L)}),ce=[];return _.forEach((Oe,B)=>{if(g||!u.some(De=>De.route.id===Oe.routeId)||w.has(B))return;let J=l.fetchers.get(B),K=J&&J.state!=="idle"&&J.data===void 0,be=Pa(T,Oe.path,N);if(!be){if(R&&K)return;ce.push({key:B,routeId:Oe.routeId,path:Oe.path,matches:null,match:null,request:null,controller:null});return}if(E.has(B))return;let Ce=Tf(be,Oe.path),H=new AbortController,re=Tl(s,Oe.path,H.signal),we=null;if(x.has(B))x.delete(B),we=Nl(r,o,re,be,Ce,p,t);else if(K)y&&(we=Nl(r,o,re,be,Ce,p,t));else{let De;typeof L=="boolean"?De=L:he?De=!1:De=y;let Ie={...ve,defaultShouldRevalidate:De};vc(Ce,Ie)&&(we=Nl(r,o,re,be,Ce,p,t,Ie))}we&&ce.push({key:B,routeId:Oe.routeId,path:Oe.path,matches:we,match:Ce,request:re,controller:H})}),{dsMatches:Me,revalidatingFetchers:ce}}function lv(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function Ag(e,t,r){if(e.lazy)return!0;if(!lv(e))return!1;let o=t!=null&&e.id in t,s=r!=null&&r[e.id]!==void 0;return!o&&s?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!o&&!s}function TN(e,t,r){let o=!t||r.route.id!==t.route.id,s=!e.hasOwnProperty(r.route.id);return o||s}function PN(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function vc(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Bw(e,t,r,o,s,l){let u;if(e){let p=o[e];Et(p,`No route found to patch children into: routeId = ${e}`),p.children||(p.children=[]),u=p.children}else u=r;let d=[],f=[];if(t.forEach(p=>{let g=u.find(y=>m_(p,y));g?f.push({existingRoute:g,newRoute:p}):d.push(p)}),d.length>0){let p=Tc(d,s,[e||"_","patch",String(u?.length||"0")],o);u.push(...p)}if(l&&f.length>0)for(let p=0;p<f.length;p++){let{existingRoute:g,newRoute:y}=f[p],x=g,[w]=Tc([y],s,[],{},!0);Object.assign(x,{element:w.element?w.element:x.element,errorElement:w.errorElement?w.errorElement:x.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:x.hydrateFallbackElement})}}function m_(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,o)=>t.children?.some(s=>m_(r,s))):!1}var Uw=new WeakMap,g_=({key:e,route:t,manifest:r,mapRouteProperties:o})=>{let s=r[t.id];if(Et(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let l=s.lazy[e];if(!l)return;let u=Uw.get(s);u||(u={},Uw.set(s,u));let d=u[e];if(d)return d;let f=(async()=>{let p=VA(e),y=s[e]!==void 0&&e!=="hasErrorBoundary";if(p)_n(!p,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(y)_n(!1,`Route "${s.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await l();x!=null&&(Object.assign(s,{[e]:x}),Object.assign(s,o(s)))}typeof s.lazy=="object"&&(s.lazy[e]=void 0,Object.values(s.lazy).every(x=>x===void 0)&&(s.lazy=void 0))})();return u[e]=f,f},$w=new WeakMap;function RN(e,t,r,o,s){let l=r[e.id];if(Et(l,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=$w.get(l);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{Et(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),w={};for(let _ in x){let E=x[_];if(E===void 0)continue;let T=KA(_),R=l[_]!==void 0&&_!=="hasErrorBoundary";T?_n(!T,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):R?_n(!R,`Route "${l.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):w[_]=E}Object.assign(l,w),Object.assign(l,{...o(l),lazy:void 0})})();return $w.set(l,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let u=Object.keys(e.lazy),d=[],f;for(let g of u){if(s&&s.includes(g))continue;let y=g_({key:g,route:e,manifest:r,mapRouteProperties:o});y&&(d.push(y),g===t&&(f=y))}let p=d.length>0?Promise.all(d).then(()=>{}):void 0;return p?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:p,lazyHandlerPromise:f}}async function Hw(e){let t=e.matches.filter(s=>s.shouldLoad),r={};return(await Promise.all(t.map(s=>s.resolve()))).forEach((s,l)=>{r[t[l].route.id]=s}),r}async function DN(e){return e.matches.some(t=>t.route.middleware)?y_(e,()=>Hw(e)):Hw(e)}function y_(e,t){return AN(e,t,o=>{if(GN(o))throw o;return o},UN,r);function r(o,s,l){if(l)return Promise.resolve(Object.assign(l.value,{[s]:{type:"error",result:o}}));{let{matches:u}=e,d=Math.min(Math.max(u.findIndex(p=>p.route.id===s),0),Math.max(u.findIndex(p=>p.shouldCallHandler()),0)),f=Ra(u,u[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:o}})}}}async function AN(e,t,r,o,s){let{matches:l,request:u,params:d,context:f,unstable_pattern:p}=e,g=l.flatMap(x=>x.route.middleware?x.route.middleware.map(w=>[x.route.id,w]):[]);return await v_({request:u,params:d,context:f,unstable_pattern:p},g,t,r,o,s)}async function v_(e,t,r,o,s,l,u=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=t[u];if(!f)return await r();let[p,g]=f,y,x=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await v_(e,t,r,o,s,l,u+1)},y.value}catch(w){return y={value:await l(w,p,y)},y.value}};try{let w=await g(e,x),_=w!=null?o(w):void 0;return s(_)?_:y?_??y.value:(y={value:await x()},y.value)}catch(w){return await l(w,p,y)}}function b_(e,t,r,o,s){let l=g_({key:"middleware",route:o.route,manifest:t,mapRouteProperties:e}),u=RN(o.route,pr(r.method)?"action":"loader",t,e,s);return{middleware:l,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Ng(e,t,r,o,s,l,u,d,f=null,p){let g=!1,y=b_(e,t,r,s,l);return{...s,_lazyPromises:y,shouldLoad:d,shouldRevalidateArgs:f,shouldCallHandler(x){return g=!0,f?typeof p=="boolean"?vc(s,{...f,defaultShouldRevalidate:p}):typeof x=="boolean"?vc(s,{...f,defaultShouldRevalidate:x}):vc(s,f):d},resolve(x){let{lazy:w,loader:_,middleware:E}=s.route,T=g||d||x&&!pr(r.method)&&(w||_),N=E&&E.length>0&&!_&&!w;return T&&(pr(r.method)||!N)?IN({request:r,unstable_pattern:o,match:s,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:x,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Nl(e,t,r,o,s,l,u,d=null){return o.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:b_(e,t,r,f,l),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Ng(e,t,r,Hc(o),f,l,u,!0,d))}async function NN(e,t,r,o,s,l){r.some(p=>p._lazyPromises?.middleware)&&await Promise.all(r.map(p=>p._lazyPromises?.middleware));let u={request:t,unstable_pattern:Hc(r),params:r[0].params,context:s,matches:r},f=await e({...u,fetcherKey:o,runClientMiddleware:p=>{let g=u;return y_(g,()=>p({...g,fetcherKey:o,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(p=>[p._lazyPromises?.handler,p._lazyPromises?.route]))}catch{}return f}async function IN({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:o,lazyRoutePromise:s,handlerOverride:l,scopedContext:u}){let d,f,p=pr(e.method),g=p?"action":"loader",y=x=>{let w,_=new Promise((N,R)=>w=R);f=()=>w(),e.signal.addEventListener("abort",f);let E=N=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${r.route.id}]`)):x({request:e,unstable_pattern:t,params:r.params,context:u},...N!==void 0?[N]:[]),T=(async()=>{try{return{type:"data",result:await(l?l(R=>E(R)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([T,_])};try{let x=p?r.route.action:r.route.loader;if(o||s)if(x){let w,[_]=await Promise.all([y(x).catch(E=>{w=E}),o,s]);if(w!==void 0)throw w;d=_}else{await o;let w=p?r.route.action:r.route.loader;if(w)[d]=await Promise.all([y(w),s]);else if(g==="action"){let _=new URL(e.url),E=_.pathname+_.search;throw gi(405,{method:e.method,pathname:E,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(x)d=await y(x);else{let w=new URL(e.url),_=w.pathname+w.search;throw gi(404,{pathname:_})}}catch(x){return{type:"error",result:x}}finally{f&&e.signal.removeEventListener("abort",f)}return d}async function jN(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function zN(e){let{result:t,type:r}=e;if(uv(t)){let o;try{o=await jN(t)}catch(s){return{type:"error",error:s}}return r==="error"?{type:"error",error:new $c(t.status,t.statusText,o),statusCode:t.status,headers:t.headers}:{type:"data",data:o,statusCode:t.status,headers:t.headers}}return r==="error"?Xw(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:BN(t),statusCode:Pc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Pc(t)?t.status:void 0}:Xw(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function LN(e,t,r,o,s){let l=e.headers.get("Location");if(Et(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Mh(l)){let u=o.slice(0,o.findIndex(d=>d.route.id===r)+1);l=Dg(new URL(t.url),u,s,l),e.headers.set("Location",l)}return e}function qw(e,t,r){if(Mh(e)){let o=e,s=o.startsWith("//")?new URL(t.protocol+o):new URL(o),l=bi(s.pathname,r)!=null;if(s.origin===t.origin&&l)return s.pathname+s.search+s.hash}return e}function Tl(e,t,r,o){let s=e.createURL(x_(t)).toString(),l={signal:r};if(o&&pr(o.formMethod)){let{formMethod:u,formEncType:d}=o;l.method=u.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(o.json)):d==="text/plain"?l.body=o.text:d==="application/x-www-form-urlencoded"&&o.formData?l.body=Ig(o.formData):l.body=o.formData}return new Request(s,l)}function Ig(e){let t=new URLSearchParams;for(let[r,o]of e.entries())t.append(r,typeof o=="string"?o:o.name);return t}function Gw(e){let t=new FormData;for(let[r,o]of e.entries())t.append(r,o);return t}function FN(e,t,r,o=!1,s=!1){let l={},u=null,d,f=!1,p={},g=r&&Qr(r[1])?r[1].error:void 0;return e.forEach(y=>{if(!(y.route.id in t))return;let x=y.route.id,w=t[x];if(Et(!ys(w),"Cannot handle redirect results in processLoaderData"),Qr(w)){let _=w.error;if(g!==void 0&&(_=g,g=void 0),u=u||{},s)u[x]=_;else{let E=Ra(e,x);u[E.route.id]==null&&(u[E.route.id]=_)}o||(l[x]=p_),f||(f=!0,d=Pc(w.error)?w.error.status:500),w.headers&&(p[x]=w.headers)}else l[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(p[x]=w.headers)}),g!==void 0&&r&&(u={[r[0]]:g},r[2]&&(l[r[2]]=void 0)),{loaderData:l,errors:u,statusCode:d||200,loaderHeaders:p}}function Vw(e,t,r,o,s,l){let{loaderData:u,errors:d}=FN(t,r,o);return s.filter(f=>!f.matches||f.matches.some(p=>p.shouldLoad)).forEach(f=>{let{key:p,match:g,controller:y}=f;if(y&&y.signal.aborted)return;let x=l[p];if(Et(x,"Did not find corresponding fetcher result"),Qr(x)){let w=Ra(e.matches,g?.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:x.error}),e.fetchers.delete(p)}else if(ys(x))Et(!1,"Unhandled fetcher revalidation redirect");else{let w=zo(x.data);e.fetchers.set(p,w)}}),{loaderData:u,errors:d}}function Yw(e,t,r,o){let s=Object.entries(t).filter(([,l])=>l!==p_).reduce((l,[u,d])=>(l[u]=d,l),{});for(let l of r){let u=l.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&l.route.loader&&(s[u]=e[u]),o&&o.hasOwnProperty(u))break}return s}function Kw(e){return e?Qr(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function Ra(e,t){return(t?e.slice(0,e.findIndex(o=>o.route.id===t)+1):[...e]).reverse().find(o=>o.route.hasErrorBoundary===!0)||e[0]}function ff(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function gi(e,{pathname:t,routeId:r,method:o,type:s,message:l}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(u="Bad Request",o&&t&&r?d=`You made a ${o} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):e===403?(u="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(u="Not Found",d=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",o&&t&&r?d=`You made a ${o.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:o&&(d=`Invalid request method "${o.toUpperCase()}"`)),new $c(e||500,u,new Error(d),!0)}function hf(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[o,s]=t[r];if(ys(s))return{key:o,result:s}}}function x_(e){let t=typeof e=="string"?Yo(e):e;return io({...t,hash:""})}function kN(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function BN(e){return new $c(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function UN(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&$N(r))}function $N(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function HN(e){return uv(e.result)&&f_.has(e.result.status)}function Qr(e){return e.type==="error"}function ys(e){return(e&&e.type)==="redirect"}function Xw(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function uv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function qN(e){return f_.has(e)}function GN(e){return uv(e)&&qN(e.status)&&e.headers.has("Location")}function VN(e){return SN.has(e.toUpperCase())}function pr(e){return xN.has(e.toUpperCase())}function cv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Tf(e,t){let r=typeof t=="string"?Yo(t).search:t.search;if(e[e.length-1].route.index&&cv(r||""))return e[e.length-1];let o=s_(e);return o[o.length-1]}function Ww(e){let{formMethod:t,formAction:r,formEncType:o,text:s,formData:l,json:u}=e;if(!(!t||!r||!o)){if(s!=null)return{formMethod:t,formAction:r,formEncType:o,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:t,formAction:r,formEncType:o,formData:l,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:r,formEncType:o,formData:void 0,json:u,text:void 0}}}function ig(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function YN(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function uc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function KN(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function zo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function XN(e,t){try{let r=e.sessionStorage.getItem(h_);if(r){let o=JSON.parse(r);for(let[s,l]of Object.entries(o||{}))l&&Array.isArray(l)&&t.set(s,new Set(l||[]))}}catch{}}function WN(e,t){if(t.size>0){let r={};for(let[o,s]of t)r[o]=[...s];try{e.sessionStorage.setItem(h_,JSON.stringify(r))}catch(o){_n(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function Qw(){let e,t,r=new Promise((o,s)=>{e=async l=>{o(l);try{await r}catch{}},t=async l=>{s(l);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Os=C.createContext(null);Os.displayName="DataRouter";var qc=C.createContext(null);qc.displayName="DataRouterState";var w_=C.createContext(!1);function QN(){return C.useContext(w_)}var dv=C.createContext({isTransitioning:!1});dv.displayName="ViewTransition";var S_=C.createContext(new Map);S_.displayName="Fetchers";var ZN=C.createContext(null);ZN.displayName="Await";var ti=C.createContext(null);ti.displayName="Navigation";var Rh=C.createContext(null);Rh.displayName="Location";var ki=C.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var fv=C.createContext(null);fv.displayName="RouteError";var C_="REACT_ROUTER_ERROR",JN="REDIRECT",e3="ROUTE_ERROR_RESPONSE";function t3(e){if(e.startsWith(`${C_}:${JN}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function n3(e){if(e.startsWith(`${C_}:${e3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new $c(t.status,t.statusText,t.data)}catch{}}function r3(e,{relative:t}={}){Et(ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:o}=C.useContext(ti),{hash:s,pathname:l,search:u}=Gc(e,{relative:t}),d=l;return r!=="/"&&(d=l==="/"?r:no([r,l])),o.createHref({pathname:d,search:u,hash:s})}function ou(){return C.useContext(Rh)!=null}function Ba(){return Et(ou(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(Rh).location}var __="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E_(e){C.useContext(ti).static||C.useLayoutEffect(e)}function hv(){let{isDataRoute:e}=C.useContext(ki);return e?v3():i3()}function i3(){Et(ou(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(Os),{basename:t,navigator:r}=C.useContext(ti),{matches:o}=C.useContext(ki),{pathname:s}=Ba(),l=JSON.stringify(Th(o)),u=C.useRef(!1);return E_(()=>{u.current=!0}),C.useCallback((f,p={})=>{if(_n(u.current,__),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=Ph(f,JSON.parse(l),s,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:no([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,l,s,e])}var o3=C.createContext(null);function a3(e){let t=C.useContext(ki).outlet;return C.useMemo(()=>t&&C.createElement(o3.Provider,{value:e},t),[t,e])}function Gc(e,{relative:t}={}){let{matches:r}=C.useContext(ki),{pathname:o}=Ba(),s=JSON.stringify(Th(r));return C.useMemo(()=>Ph(e,JSON.parse(s),o,t==="path"),[e,s,o,t])}function s3(e,t,r,o,s){Et(ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=C.useContext(ti),{matches:u}=C.useContext(ki),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let R=y&&y.path||"";M_(p,!y||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let x=Ba(),w;w=x;let _=w.pathname||"/",E=_;if(g!=="/"){let R=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(R.length).join("/")}let T=Pa(e,{pathname:E});return _n(y||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),_n(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),f3(T&&T.map(R=>Object.assign({},R,{params:Object.assign({},f,R.params),pathname:no([g,l.encodeLocation?l.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:no([g,l.encodeLocation?l.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),u,r,o,s)}function l3(){let e=y3(),t=Pc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:l},"ErrorBoundary")," or"," ",C.createElement("code",{style:l},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:s},r):null,u)}var u3=C.createElement(l3,null),O_=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=n3(e.digest);r&&(e=r)}let t=e!==void 0?C.createElement(ki.Provider,{value:this.props.routeContext},C.createElement(fv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?C.createElement(c3,{error:e},t):t}};O_.contextType=w_;var og=new WeakMap;function c3({children:e,error:t}){let{basename:r}=C.useContext(ti);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let o=t3(t.digest);if(o){let s=og.get(t);if(s)throw s;let l=u_(o.location,r);if(l_&&!og.get(t))if(l.isExternal||o.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:o.replace}));throw og.set(t,u),u}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return e}function d3({routeContext:e,match:t,children:r}){let o=C.useContext(Os);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(ki.Provider,{value:e},r)}function f3(e,t=[],r=null,o=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let l=e,u=r?.errors;if(u!=null){let g=l.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,f=-1;if(r)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:x,errors:w}=r,_=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||_){d=!0,f>=0?l=l.slice(0,f+1):l=[l[0]];break}}}let p=r&&o?(g,y)=>{o(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:Hc(r.matches),errorInfo:y})}:void 0;return l.reduceRight((g,y,x)=>{let w,_=!1,E=null,T=null;r&&(w=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||u3,d&&(f<0&&x===0?(M_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):f===x&&(_=!0,T=y.route.hydrateFallbackElement||null)));let N=t.concat(l.slice(0,x+1)),R=()=>{let j;return w?j=E:_?j=T:y.route.Component?j=C.createElement(y.route.Component,null):y.route.element?j=y.route.element:j=g,C.createElement(d3,{match:y,routeContext:{outlet:g,matches:N,isDataRoute:r!=null},children:j})};return r&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?C.createElement(O_,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:p}):R()},null)}function pv(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function h3(e){let t=C.useContext(Os);return Et(t,pv(e)),t}function p3(e){let t=C.useContext(qc);return Et(t,pv(e)),t}function m3(e){let t=C.useContext(ki);return Et(t,pv(e)),t}function mv(e){let t=m3(e),r=t.matches[t.matches.length-1];return Et(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function g3(){return mv("useRouteId")}function y3(){let e=C.useContext(fv),t=p3("useRouteError"),r=mv("useRouteError");return e!==void 0?e:t.errors?.[r]}function v3(){let{router:e}=h3("useNavigate"),t=mv("useNavigate"),r=C.useRef(!1);return E_(()=>{r.current=!0}),C.useCallback(async(s,l={})=>{_n(r.current,__),r.current&&(typeof s=="number"?await e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var Zw={};function M_(e,t,r){!t&&!Zw[e]&&(Zw[e]=!0,_n(!1,r))}var Jw={};function e1(e,t){!e&&!Jw[t]&&(Jw[t]=!0,console.warn(t))}var b3="useOptimistic",t1=Kg[b3],x3=()=>{};function w3(e){return t1?t1(e):[e,x3]}function S3(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&_n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&_n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&_n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var C3=["HydrateFallback","hydrateFallbackElement"],_3=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function E3({router:e,flushSync:t,onError:r,unstable_useTransitions:o}){o=QN()||o;let[l,u]=C.useState(e.state),[d,f]=w3(l),[p,g]=C.useState(),[y,x]=C.useState({isTransitioning:!1}),[w,_]=C.useState(),[E,T]=C.useState(),[N,R]=C.useState(),j=C.useRef(new Map),L=C.useCallback((G,{deletedFetchers:le,newErrors:he,flushSync:ve,viewTransitionOpts:pe})=>{he&&r&&Object.values(he).forEach(ce=>r(ce,{location:G.location,params:G.matches[0]?.params??{},unstable_pattern:Hc(G.matches)})),G.fetchers.forEach((ce,Oe)=>{ce.data!==void 0&&j.current.set(Oe,ce.data)}),le.forEach(ce=>j.current.delete(ce)),e1(ve===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Me=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(e1(pe==null||Me,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!pe||!Me){t&&ve?t(()=>u(G)):o===!1?u(G):C.startTransition(()=>{o===!0&&f(ce=>n1(ce,G)),u(G)});return}if(t&&ve){t(()=>{E&&(w?.resolve(),E.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})});let ce=e.window.document.startViewTransition(()=>{t(()=>u(G))});ce.finished.finally(()=>{t(()=>{_(void 0),T(void 0),g(void 0),x({isTransitioning:!1})})}),t(()=>T(ce));return}E?(w?.resolve(),E.skipTransition(),R({state:G,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation})):(g(G),x({isTransitioning:!0,flushSync:!1,currentLocation:pe.currentLocation,nextLocation:pe.nextLocation}))},[e.window,t,E,w,o,f,r]);C.useLayoutEffect(()=>e.subscribe(L),[e,L]),C.useEffect(()=>{y.isTransitioning&&!y.flushSync&&_(new _3)},[y]),C.useEffect(()=>{if(w&&p&&e.window){let G=p,le=w.promise,he=e.window.document.startViewTransition(async()=>{o===!1?u(G):C.startTransition(()=>{o===!0&&f(ve=>n1(ve,G)),u(G)}),await le});he.finished.finally(()=>{_(void 0),T(void 0),g(void 0),x({isTransitioning:!1})}),T(he)}},[p,w,e.window,o,f]),C.useEffect(()=>{w&&p&&d.location.key===p.location.key&&w.resolve()},[w,E,d.location,p]),C.useEffect(()=>{!y.isTransitioning&&N&&(g(N.state),x({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),R(void 0))},[y.isTransitioning,N]);let F=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:G=>e.navigate(G),push:(G,le,he)=>e.navigate(G,{state:le,preventScrollReset:he?.preventScrollReset}),replace:(G,le,he)=>e.navigate(G,{replace:!0,state:le,preventScrollReset:he?.preventScrollReset})}),[e]),U=e.basename||"/",I=C.useMemo(()=>({router:e,navigator:F,static:!1,basename:U,onError:r}),[e,F,U,r]);return C.createElement(C.Fragment,null,C.createElement(Os.Provider,{value:I},C.createElement(qc.Provider,{value:d},C.createElement(S_.Provider,{value:j.current},C.createElement(dv.Provider,{value:y},C.createElement(P3,{basename:U,location:d.location,navigationType:d.historyAction,navigator:F,unstable_useTransitions:o},C.createElement(O3,{routes:e.routes,future:e.future,state:d,onError:r})))))),null)}function n1(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var O3=C.memo(M3);function M3({routes:e,future:t,state:r,onError:o}){return s3(e,void 0,r,o,t)}function T3({to:e,replace:t,state:r,relative:o}){Et(ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=C.useContext(ti);_n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=C.useContext(ki),{pathname:u}=Ba(),d=hv(),f=Ph(e,Th(l),u,o==="path"),p=JSON.stringify(f);return C.useEffect(()=>{d(JSON.parse(p),{replace:t,state:r,relative:o})},[d,p,o,t,r]),null}function T_(e){return a3(e.context)}function P3({basename:e="/",children:t=null,location:r,navigationType:o="POP",navigator:s,static:l=!1,unstable_useTransitions:u}){Et(!ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:u,future:{}}),[d,s,l,u]);typeof r=="string"&&(r=Yo(r));let{pathname:p="/",search:g="",hash:y="",state:x=null,key:w="default"}=r,_=C.useMemo(()=>{let E=bi(p,d);return E==null?null:{location:{pathname:E,search:g,hash:y,state:x,key:w},navigationType:o}},[d,p,g,y,x,w,o]);return _n(_!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:C.createElement(ti.Provider,{value:f},C.createElement(Rh.Provider,{children:t,value:_}))}var Pf="get",Rf="application/x-www-form-urlencoded";function Dh(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function R3(e){return Dh(e)&&e.tagName.toLowerCase()==="button"}function D3(e){return Dh(e)&&e.tagName.toLowerCase()==="form"}function A3(e){return Dh(e)&&e.tagName.toLowerCase()==="input"}function N3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function I3(e,t){return e.button===0&&(!t||t==="_self")&&!N3(e)}var pf=null;function j3(){if(pf===null)try{new FormData(document.createElement("form"),0),pf=!1}catch{pf=!0}return pf}var z3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ag(e){return e!=null&&!z3.has(e)?(_n(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Rf}"`),null):e}function L3(e,t){let r,o,s,l,u;if(D3(e)){let d=e.getAttribute("action");o=d?bi(d,t):null,r=e.getAttribute("method")||Pf,s=ag(e.getAttribute("enctype"))||Rf,l=new FormData(e)}else if(R3(e)||A3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(o=f?bi(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Pf,s=ag(e.getAttribute("formenctype"))||ag(d.getAttribute("enctype"))||Rf,l=new FormData(d,e),!j3()){let{name:p,type:g,value:y}=e;if(g==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,y)}}else{if(Dh(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Pf,o=null,s=Rf,u=e}return l&&s==="text/plain"&&(u=l,l=void 0),{action:o,method:r.toLowerCase(),encType:s,formData:l,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function gv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function F3(e,t,r){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${r}`:t&&bi(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${r}`,o}async function k3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function U3(e,t,r){let o=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let u=await k3(l,r);return u.links?u.links():[]}return[]}));return G3(o.flat(1).filter(B3).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function r1(e,t,r,o,s,l){let u=(f,p)=>r[p]?f.route.id!==r[p].route.id:!0,d=(f,p)=>r[p].pathname!==f.pathname||r[p].route.path?.endsWith("*")&&r[p].params["*"]!==f.params["*"];return l==="assets"?t.filter((f,p)=>u(f,p)||d(f,p)):l==="data"?t.filter((f,p)=>{let g=o.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function $3(e,t,{includeHydrateFallback:r}={}){return H3(e.map(o=>{let s=t.routes[o.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function H3(e){return[...new Set(e)]}function q3(e){let t={},r=Object.keys(e).sort();for(let o of r)t[o]=e[o];return t}function G3(e,t){let r=new Set;return new Set(t),e.reduce((o,s)=>{let l=JSON.stringify(q3(s));return r.has(l)||(r.add(l),o.push({key:l,link:s})),o},[])}function P_(){let e=C.useContext(Os);return gv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function V3(){let e=C.useContext(qc);return gv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var yv=C.createContext(void 0);yv.displayName="FrameworkContext";function R_(){let e=C.useContext(yv);return gv(e,"You must render this element inside a <HydratedRouter> element"),e}function Y3(e,t){let r=C.useContext(yv),[o,s]=C.useState(!1),[l,u]=C.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,x=C.useRef(null);C.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=N=>{N.forEach(R=>{u(R.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[e]),C.useEffect(()=>{if(o){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[o]);let w=()=>{s(!0)},_=()=>{s(!1),u(!1)};return r?e!=="intent"?[l,x,{}]:[l,x,{onFocus:cc(d,w),onBlur:cc(f,_),onMouseEnter:cc(p,w),onMouseLeave:cc(g,_),onTouchStart:cc(y,w)}]:[!1,x,{}]}function cc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function K3({page:e,...t}){let{router:r}=P_(),o=C.useMemo(()=>Pa(r.routes,e,r.basename),[r.routes,e,r.basename]);return o?C.createElement(W3,{page:e,matches:o,...t}):null}function X3(e){let{manifest:t,routeModules:r}=R_(),[o,s]=C.useState([]);return C.useEffect(()=>{let l=!1;return U3(e,t,r).then(u=>{l||s(u)}),()=>{l=!0}},[e,t,r]),o}function W3({page:e,matches:t,...r}){let o=Ba(),{manifest:s,routeModules:l}=R_(),{basename:u}=P_(),{loaderData:d,matches:f}=V3(),p=C.useMemo(()=>r1(e,t,f,s,o,"data"),[e,t,f,s,o]),g=C.useMemo(()=>r1(e,t,f,s,o,"assets"),[e,t,f,s,o]),y=C.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let _=new Set,E=!1;if(t.forEach(N=>{let R=s.routes[N.route.id];!R||!R.hasLoader||(!p.some(j=>j.route.id===N.route.id)&&N.route.id in d&&l[N.route.id]?.shouldRevalidate||R.hasClientLoader?E=!0:_.add(N.route.id))}),_.size===0)return[];let T=F3(e,u,"data");return E&&_.size>0&&T.searchParams.set("_routes",t.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[u,d,o,s,p,t,e,l]),x=C.useMemo(()=>$3(g,s),[g,s]),w=X3(g);return C.createElement(C.Fragment,null,y.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),x.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),w.map(({key:_,link:E})=>C.createElement("link",{key:_,nonce:r.nonce,...E})))}function Q3(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Z3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z3&&(window.__reactRouterVersion="7.11.0")}catch{}function J3(e,t){return ON({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:$A({window:t?.window}),hydrationData:eI(),routes:e,mapRouteProperties:S3,hydrationRouteProperties:C3,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function eI(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:tI(e.errors)}),e}function tI(e){if(!e)return null;let t=Object.entries(e),r={};for(let[o,s]of t)if(s&&s.__type==="RouteErrorResponse")r[o]=new $c(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let u=new l(s.message);u.stack="",r[o]=u}catch{}}if(r[o]==null){let l=new Error(s.message);l.stack="",r[o]=l}}else r[o]=s;return r}var D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A_=C.forwardRef(function({onClick:t,discover:r="render",prefetch:o="none",relative:s,reloadDocument:l,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},_){let{basename:E,unstable_useTransitions:T}=C.useContext(ti),N=typeof p=="string"&&D_.test(p),R=u_(p,E);p=R.to;let j=r3(p,{relative:s}),[L,F,U]=Y3(o,w),I=oI(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:T});function G(he){t&&t(he),he.defaultPrevented||I(he)}let le=C.createElement("a",{...w,...U,href:R.absoluteURL||j,onClick:R.isExternal||l?t:G,ref:Q3(_,F),target:f,"data-discover":!N&&r==="render"?"true":void 0});return L&&!N?C.createElement(C.Fragment,null,le,C.createElement(K3,{page:j})):le});A_.displayName="Link";var nI=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:o="",end:s=!1,style:l,to:u,viewTransition:d,children:f,...p},g){let y=Gc(u,{relative:p.relative}),x=Ba(),w=C.useContext(qc),{navigator:_,basename:E}=C.useContext(ti),T=w!=null&&cI(y)&&d===!0,N=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,R=x.pathname,j=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(R=R.toLowerCase(),j=j?j.toLowerCase():null,N=N.toLowerCase()),j&&E&&(j=bi(j,E)||j);const L=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let F=R===N||!s&&R.startsWith(N)&&R.charAt(L)==="/",U=j!=null&&(j===N||!s&&j.startsWith(N)&&j.charAt(N.length)==="/"),I={isActive:F,isPending:U,isTransitioning:T},G=F?t:void 0,le;typeof o=="function"?le=o(I):le=[o,F?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let he=typeof l=="function"?l(I):l;return C.createElement(A_,{...p,"aria-current":G,className:le,ref:g,style:he,to:u,viewTransition:d},typeof f=="function"?f(I):f)});nI.displayName="NavLink";var rI=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:o,replace:s,state:l,method:u=Pf,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},_)=>{let{unstable_useTransitions:E}=C.useContext(ti),T=lI(),N=uI(d,{relative:p}),R=u.toLowerCase()==="get"?"get":"post",j=typeof d=="string"&&D_.test(d),L=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let U=F.nativeEvent.submitter,I=U?.getAttribute("formmethod")||u,G=()=>T(U||F.currentTarget,{fetcherKey:t,method:I,navigate:r,replace:s,state:l,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x});E&&r!==!1?C.startTransition(()=>G()):G()};return C.createElement("form",{ref:_,method:R,action:N,onSubmit:o?f:L,...w,"data-discover":!j&&e==="render"?"true":void 0})});rI.displayName="Form";function iI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N_(e){let t=C.useContext(Os);return Et(t,iI(e)),t}function oI(e,{target:t,replace:r,state:o,preventScrollReset:s,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=hv(),g=Ba(),y=Gc(e,{relative:l});return C.useCallback(x=>{if(I3(x,t)){x.preventDefault();let w=r!==void 0?r:io(g)===io(y),_=()=>p(e,{replace:w,state:o,preventScrollReset:s,relative:l,viewTransition:u,unstable_defaultShouldRevalidate:d});f?C.startTransition(()=>_()):_()}},[g,p,y,r,o,t,e,s,l,u,d,f])}var aI=0,sI=()=>`__${String(++aI)}__`;function lI(){let{router:e}=N_("useSubmit"),{basename:t}=C.useContext(ti),r=g3(),o=e.fetch,s=e.navigate;return C.useCallback(async(l,u={})=>{let{action:d,method:f,encType:p,formData:g,body:y}=L3(l,t);if(u.navigate===!1){let x=u.fetcherKey||sI();await o(x,r,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await s(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[o,s,t,r])}function uI(e,{relative:t}={}){let{basename:r}=C.useContext(ti),o=C.useContext(ki);Et(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...Gc(e||".",{relative:t})},u=Ba();if(e==null){l.search=u.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(l.pathname=l.pathname==="/"?r:no([r,l.pathname])),io(l)}function cI(e,{relative:t}={}){let r=C.useContext(dv);Et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=N_("useViewTransitionState"),s=Gc(e,{relative:t});if(!r.isTransitioning)return!1;let l=bi(r.currentLocation.pathname,o)||r.currentLocation.pathname,u=bi(r.nextLocation.pathname,o)||r.nextLocation.pathname;return Uf(s.pathname,u)!=null||Uf(s.pathname,l)!=null}function dI(e){return C.createElement(E3,{flushSync:Cs.flushSync,...e})}function fI(){return D.jsx(T_,{})}const hI="data:image/svg+xml,%3csvg%20width='43'%20height='43'%20viewBox='0%200%2043%2043'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5332%2017.6109L39.9674%203.49107C39.9674%203.49107%2040.765%2023.4159%2024.14%2029.562L23.985%2029.6193'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3cpath%20d='M30.47%2031.8639L35.8795%2040.7858H23.1966C23.1966%2040.7858%2018.6108%2041.6981%2013.7995%2034.5983C8.98814%2027.4985%202.63867%2016.2263%202.63867%2016.2263C2.63867%2016.2263%209.34769%209.93937%2014.3737%2018.3597C19.3997%2026.78%2020.3351%2032.5465%2026.5371%2028.7108'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3c/svg%3e";function pI(){const[e,t]=C.useState(""),[r,o]=C.useState(""),[s,l]=C.useState(!1),[u,d]=C.useState(null),{login:f}=Rs(),p=hv(),g=xi(),y=async x=>{x.preventDefault(),l(!0),d(null);try{const w=await Yf.login(e,r);f(w),p("/")}catch(w){console.error("Login failed",w),d("      ")}finally{l(!1)}};return D.jsx(Ec,{style:{height:"100vh"},children:D.jsx(Ge,{p:30,style:{width:400},children:D.jsxs($o,{gap:"lg",children:[D.jsx(Ec,{children:D.jsx(tv,{src:hI,alt:"Logo",w:38,h:38})}),D.jsx(sv,{order:2,ta:"center",c:g.primaryColor,children:""}),D.jsx(kl,{ta:"center",c:"dimmed",children:"      :"}),D.jsx("form",{onSubmit:y,children:D.jsxs($o,{children:[D.jsx(Bl,{label:" ",value:e,onChange:x=>t(x.target.value),required:!0}),D.jsx(rv,{label:" ",value:r,onChange:x=>o(x.target.value),required:!0}),u&&D.jsx(kl,{c:"red",size:"sm",ta:"center",children:u}),D.jsx(yi,{type:"submit",fullWidth:!0,mt:"xl",loading:s,children:""})]})})]})})})}var mI={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const Ms=(e,t,r,o)=>{const s=C.forwardRef(({color:l="currentColor",size:u=24,stroke:d=2,title:f,className:p,children:g,...y},x)=>C.createElement("svg",{ref:x,...mI[e],width:u,height:u,className:["tabler-icon",`tabler-icon-${t}`,p].join(" "),strokeWidth:d,stroke:l,...y},[f&&C.createElement("title",{key:"svg-title"},f),...o.map(([w,_])=>C.createElement(w,_)),...Array.isArray(g)?g:[g]]));return s.displayName=`${r}`,s};const gI=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],yI=Ms("outline","alert-circle","AlertCircle",gI);const vI=[["path",{d:"M11 18.004h-4.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.388 0 2.585 .82 3.138 2.007",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],bI=Ms("outline","cloud-check","CloudCheck",vI);const xI=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],wI=Ms("outline","info-circle","InfoCircle",xI);const SI=[["path",{d:"M8 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 16v2a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-8a2 2 0 0 1 2 -2h2",key:"svg-1"}]],CI=Ms("outline","layers-subtract","LayersSubtract",SI);const _I=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],EI=Ms("outline","menu-2","Menu2",_I);const OI=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],MI=Ms("outline","wifi-off","WifiOff",OI);const TI=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],PI=Ms("outline","x","X",TI),RI={population_point:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",population_point_type_id:"number",rural_id:"number",name:"string",en_name:"string",code:"number",opt_approval:"boolean",part_id:"number",rural_name_full:"string",rural_id_full:"number",is_rural:"boolean"},tour:{province_id:"number",tour_type:"string",is_active:"boolean",name:"string",en_name:"string",code:"number",area:"number"},parish:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",parish_type:"string",name:"string",en_name:"string",code:"number",opt_approval:"boolean"},block:{province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",name:"string",en_name:"string",code:"number",area:"number",opt_approval:"boolean",parish_id:"number"},building:{building_type_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",block_id:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",gnaf_code:"string",building_name:"string",modernization_code:"string",building_number:"number",floor_count:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",parish_id:"number",is_negative:"boolean",dundas_map_id:"number"},plate:{address_id:"number",building_id:"number",plate_no:"number",old_plate_no:"number",opt_approval:"boolean",task_id:"number",plate_name:"string"},recognition_code_info:{unit_identifier:"number",unit_status_id:"number",plate_id:"number",building_id:"number",poi_type_id:"number",act_type_id1:"number",act_type_id2:"number",act_type_id3:"number",plat:"string",floor_no:"number",unit_no:"string",height:"number",part_row_no:"number",entrance:"string",grid_code:"string",first_name:"string",last_name:"string",workshop_name:"string",action_name:"string",plate_description:"string",postalcode:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",description:"string"}},DI=async(e,t,r)=>Oc(`/editor/tables/${e}/rows/${t}`,{method:"PATCH",body:JSON.stringify({data:r})}),jg=async(e,t,r)=>{const o=RI[e]||{},s={};Object.entries(r).forEach(([d,f])=>{if(f===""||f===null||f===void 0){s[d]=null;return}switch(o[d]){case"number":s[d]=Number(f);break;case"boolean":s[d]=f===!0||f==="true";break;case"string":s[d]=String(f);break;default:s[d]=f}});const l=await DI(e,t,s);if(!l.ok)throw new Error(`Failed to update ${e} (Status: ${l.status})`);return(await l.json()).data};var Df={exports:{}},AI=Df.exports,i1;function NI(){return i1||(i1=1,(function(e,t){(function(r,o){e.exports=o()})(AI,function(){var r=function(h,v){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(S[P]=O[P])})(h,v)},o=function(){return(o=Object.assign||function(h){for(var v,S=1,O=arguments.length;S<O;S++)for(var P in v=arguments[S])Object.prototype.hasOwnProperty.call(v,P)&&(h[P]=v[P]);return h}).apply(this,arguments)};function s(h,v,S){for(var O,P=0,A=v.length;P<A;P++)!O&&P in v||((O=O||Array.prototype.slice.call(v,0,P))[P]=v[P]);return h.concat(O||Array.prototype.slice.call(v))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:bO,u=Object.keys,d=Array.isArray;function f(h,v){return typeof v!="object"||u(v).forEach(function(S){h[S]=v[S]}),h}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var p=Object.getPrototypeOf,g={}.hasOwnProperty;function y(h,v){return g.call(h,v)}function x(h,v){typeof v=="function"&&(v=v(p(h))),(typeof Reflect>"u"?u:Reflect.ownKeys)(v).forEach(function(S){_(h,S,v[S])})}var w=Object.defineProperty;function _(h,v,S,O){w(h,v,f(S&&y(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},O))}function E(h){return{from:function(v){return h.prototype=Object.create(v.prototype),_(h.prototype,"constructor",h),{extend:x.bind(null,h.prototype)}}}}var T=Object.getOwnPropertyDescriptor,N=[].slice;function R(h,v,S){return N.call(h,v,S)}function j(h,v){return v(h)}function L(h){if(!h)throw new Error("Assertion Failed")}function F(h){l.setImmediate?setImmediate(h):setTimeout(h,0)}function U(h,v){if(typeof v=="string"&&y(h,v))return h[v];if(!v)return h;if(typeof v!="string"){for(var S=[],O=0,P=v.length;O<P;++O){var A=U(h,v[O]);S.push(A)}return S}var k=v.indexOf(".");if(k!==-1){var q=h[v.substr(0,k)];return q==null?void 0:U(q,v.substr(k+1))}}function I(h,v,S){if(h&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof v!="string"&&"length"in v){L(typeof S!="string"&&"length"in S);for(var O=0,P=v.length;O<P;++O)I(h,v[O],S[O])}else{var A,k,q=v.indexOf(".");q!==-1?(A=v.substr(0,q),(k=v.substr(q+1))===""?S===void 0?d(h)&&!isNaN(parseInt(A))?h.splice(A,1):delete h[A]:h[A]=S:I(q=!(q=h[A])||!y(h,A)?h[A]={}:q,k,S)):S===void 0?d(h)&&!isNaN(parseInt(v))?h.splice(v,1):delete h[v]:h[v]=S}}function G(h){var v,S={};for(v in h)y(h,v)&&(S[v]=h[v]);return S}var le=[].concat;function he(h){return le.apply([],h)}var qn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(he([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(v){return v+h+"Array"})}))).filter(function(h){return l[h]}),ve=new Set(qn.map(function(h){return l[h]})),pe=null;function Me(h){return pe=new WeakMap,h=(function v(S){if(!S||typeof S!="object")return S;var O=pe.get(S);if(O)return O;if(d(S)){O=[],pe.set(S,O);for(var P=0,A=S.length;P<A;++P)O.push(v(S[P]))}else if(ve.has(S.constructor))O=S;else{var k,q=p(S);for(k in O=q===Object.prototype?{}:Object.create(q),pe.set(S,O),S)y(S,k)&&(O[k]=v(S[k]))}return O})(h),pe=null,h}var ce={}.toString;function Oe(h){return ce.call(h).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",J=typeof B=="symbol"?function(h){var v;return h!=null&&(v=h[B])&&v.apply(h)}:function(){return null};function K(h,v){return v=h.indexOf(v),0<=v&&h.splice(v,1),0<=v}var be={};function Ce(h){var v,S,O,P;if(arguments.length===1){if(d(h))return h.slice();if(this===be&&typeof h=="string")return[h];if(P=J(h)){for(S=[];!(O=P.next()).done;)S.push(O.value);return S}if(h==null)return[h];if(typeof(v=h.length)!="number")return[h];for(S=new Array(v);v--;)S[v]=h[v];return S}for(v=arguments.length,S=new Array(v);v--;)S[v]=arguments[v];return S}var H=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},_t=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Cr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(_t),re={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function we(h,v){this.name=h,this.message=v}function De(h,v){return h+". Errors: "+Object.keys(v).map(function(S){return v[S].toString()}).filter(function(S,O,P){return P.indexOf(S)===O}).join(`
`)}function Ie(h,v,S,O){this.failures=v,this.failedKeys=O,this.successCount=S,this.message=De(h,v)}function He(h,v){this.name="BulkError",this.failures=Object.keys(v).map(function(S){return v[S]}),this.failuresByPos=v,this.message=De(h,this.failures)}E(we).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(Ie).from(we),E(He).from(we);var nt=Cr.reduce(function(h,v){return h[v]=v+"Error",h},{}),xt=we,Ae=Cr.reduce(function(h,v){var S=v+"Error";function O(P,A){this.name=S,P?typeof P=="string"?(this.message="".concat(P).concat(A?`
 `+A:""),this.inner=A||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=re[v]||S,this.inner=null)}return E(O).from(xt),h[v]=O,h},{});Ae.Syntax=SyntaxError,Ae.Type=TypeError,Ae.Range=RangeError;var Zt=_t.reduce(function(h,v){return h[v+"Error"]=Ae[v],h},{}),sn=Cr.reduce(function(h,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(h[v+"Error"]=Ae[v]),h},{});function Ze(){}function ft(h){return h}function $t(h,v){return h==null||h===ft?v:function(S){return v(h(S))}}function nn(h,v){return function(){h.apply(this,arguments),v.apply(this,arguments)}}function gn(h,v){return h===Ze?v:function(){var S=h.apply(this,arguments);S!==void 0&&(arguments[0]=S);var O=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var A=v.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?nn(O,this.onsuccess):O),P&&(this.onerror=this.onerror?nn(P,this.onerror):P),A!==void 0?A:S}}function yr(h,v){return h===Ze?v:function(){h.apply(this,arguments);var S=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?nn(S,this.onsuccess):S),O&&(this.onerror=this.onerror?nn(O,this.onerror):O)}}function Yn(h,v){return h===Ze?v:function(S){var O=h.apply(this,arguments);f(S,O);var P=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,S=v.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?nn(P,this.onsuccess):P),A&&(this.onerror=this.onerror?nn(A,this.onerror):A),O===void 0?S===void 0?void 0:S:f(O,S)}}function Jt(h,v){return h===Ze?v:function(){return v.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function En(h,v){return h===Ze?v:function(){var S=h.apply(this,arguments);if(S&&typeof S.then=="function"){for(var O=this,P=arguments.length,A=new Array(P);P--;)A[P]=arguments[P];return S.then(function(){return v.apply(O,A)})}return v.apply(this,arguments)}}sn.ModifyError=Ie,sn.DexieError=we,sn.BulkError=He;var ln=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wn(h){ln=h}var un={},qt=100,qn=typeof Promise>"u"?[]:(function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,p(h),h];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,p(v),h]})(),_t=qn[0],Cr=qn[1],qn=qn[2],Cr=Cr&&Cr.then,jt=_t&&_t.constructor,Ht=!!qn,On=function(h,v){ri.push([h,v]),ni&&(queueMicrotask(uo),ni=!1)},ur=!0,ni=!0,Sn=[],rn=[],At=ft,Cn={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ze,pgp:!1,env:{},finalize:Ze},Ye=Cn,ri=[],Ur=0,yn=[];function Le(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=Ye;if(typeof h!="function"){if(h!==un)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&$r(this,this._value))}this._state=null,this._value=null,++v.ref,(function S(O,P){try{P(function(A){if(O._state===null){if(A===O)throw new TypeError("A promise cannot be resolved with itself.");var k=O._lib&&br();A&&typeof A.then=="function"?S(O,function(q,X){A instanceof Le?A._then(q,X):A.then(q,X)}):(O._state=!0,O._value=A,Bi(O)),k&&xr()}},$r.bind(null,O))}catch(A){$r(O,A)}})(this,h)}var vr={get:function(){var h=Ye,v=et;function S(O,P){var A=this,k=!h.global&&(h!==Ye||v!==et),q=k&&!Qe(),X=new Le(function(W,ie){Oi(A,new Ei(cn(O,h,k,q),cn(P,h,k,q),W,ie,h))});return this._consoleTask&&(X._consoleTask=this._consoleTask),X}return S.prototype=un,S},set:function(h){_(this,"then",h&&h.prototype===un?vr:{get:function(){return h},set:vr.set})}};function Ei(h,v,S,O,P){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof v=="function"?v:null,this.resolve=S,this.reject=O,this.psd=P}function $r(h,v){var S,O;rn.push(v),h._state===null&&(S=h._lib&&br(),v=At(v),h._state=!1,h._value=v,O=h,Sn.some(function(P){return P._value===O._value})||Sn.push(O),Bi(h),S&&xr())}function Bi(h){var v=h._listeners;h._listeners=[];for(var S=0,O=v.length;S<O;++S)Oi(h,v[S]);var P=h._PSD;--P.ref||P.finalize(),Ur===0&&(++Ur,On(function(){--Ur==0&&Ua()},[]))}function Oi(h,v){if(h._state!==null){var S=h._state?v.onFulfilled:v.onRejected;if(S===null)return(h._state?v.resolve:v.reject)(h._value);++v.psd.ref,++Ur,On(Ds,[S,h,v])}else h._listeners.push(v)}function Ds(h,v,S){try{var O,P=v._value;!v._state&&rn.length&&(rn=[]),O=ln&&v._consoleTask?v._consoleTask.run(function(){return h(P)}):h(P),v._state||rn.indexOf(P)!==-1||(function(A){for(var k=Sn.length;k;)if(Sn[--k]._value===A._value)return Sn.splice(k,1)})(v),S.resolve(O)}catch(A){S.reject(A)}finally{--Ur==0&&Ua(),--S.psd.ref||S.psd.finalize()}}function uo(){kt(Cn,function(){br()&&xr()})}function br(){var h=ur;return ni=ur=!1,h}function xr(){var h,v,S;do for(;0<ri.length;)for(h=ri,ri=[],S=h.length,v=0;v<S;++v){var O=h[v];O[0].apply(null,O[1])}while(0<ri.length);ni=ur=!0}function Ua(){var h=Sn;Sn=[],h.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var v=yn.slice(0),S=v.length;S;)v[--S]()}function co(h){return new Le(un,!1,h)}function $(h,v){var S=Ye;return function(){var O=br(),P=Ye;try{return gt(S,!0),h.apply(this,arguments)}catch(A){v&&v(A)}finally{gt(P,!1),O&&xr()}}}x(Le.prototype,{then:vr,_then:function(h,v){Oi(this,new Ei(null,null,h,v,Ye))},catch:function(h){if(arguments.length===1)return this.then(null,h);var v=h,S=arguments[1];return typeof v=="function"?this.then(null,function(O){return(O instanceof v?S:co)(O)}):this.then(null,function(O){return(O&&O.name===v?S:co)(O)})},finally:function(h){return this.then(function(v){return Le.resolve(h()).then(function(){return v})},function(v){return Le.resolve(h()).then(function(){return co(v)})})},timeout:function(h,v){var S=this;return h<1/0?new Le(function(O,P){var A=setTimeout(function(){return P(new Ae.Timeout(v))},h);S.then(O,P).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_(Le.prototype,Symbol.toStringTag,"Dexie.Promise"),Cn.env=Ot(),x(Le,{all:function(){var h=Ce.apply(null,arguments).map(ot);return new Le(function(v,S){h.length===0&&v([]);var O=h.length;h.forEach(function(P,A){return Le.resolve(P).then(function(k){h[A]=k,--O||v(h)},S)})})},resolve:function(h){return h instanceof Le?h:h&&typeof h.then=="function"?new Le(function(v,S){h.then(v,S)}):new Le(un,!0,h)},reject:co,race:function(){var h=Ce.apply(null,arguments).map(ot);return new Le(function(v,S){h.map(function(O){return Le.resolve(O).then(v,S)})})},PSD:{get:function(){return Ye},set:function(h){return Ye=h}},totalEchoes:{get:function(){return et}},newPSD:$e,usePSD:kt,scheduler:{get:function(){return On},set:function(h){On=h}},rejectionMapper:{get:function(){return At},set:function(h){At=h}},follow:function(h,v){return new Le(function(S,O){return $e(function(P,A){var k=Ye;k.unhandleds=[],k.onunhandled=A,k.finalize=nn(function(){var q,X=this;q=function(){X.unhandleds.length===0?P():A(X.unhandleds[0])},yn.push(function W(){q(),yn.splice(yn.indexOf(W),1)}),++Ur,On(function(){--Ur==0&&Ua()},[])},k.finalize),h()},v,S,O)})}}),jt&&(jt.allSettled&&_(Le,"allSettled",function(){var h=Ce.apply(null,arguments).map(ot);return new Le(function(v){h.length===0&&v([]);var S=h.length,O=new Array(S);h.forEach(function(P,A){return Le.resolve(P).then(function(k){return O[A]={status:"fulfilled",value:k}},function(k){return O[A]={status:"rejected",reason:k}}).then(function(){return--S||v(O)})})})}),jt.any&&typeof AggregateError<"u"&&_(Le,"any",function(){var h=Ce.apply(null,arguments).map(ot);return new Le(function(v,S){h.length===0&&S(new AggregateError([]));var O=h.length,P=new Array(O);h.forEach(function(A,k){return Le.resolve(A).then(function(q){return v(q)},function(q){P[k]=q,--O||S(new AggregateError(P))})})})}),jt.withResolvers&&(Le.withResolvers=jt.withResolvers));var ee={awaits:0,echoes:0,id:0},ye=0,Ne=[],Fe=0,et=0,Xe=0;function $e(h,v,S,O){var P=Ye,A=Object.create(P);return A.parent=P,A.ref=0,A.global=!1,A.id=++Xe,Cn.env,A.env=Ht?{Promise:Le,PromiseProp:{value:Le,configurable:!0,writable:!0},all:Le.all,race:Le.race,allSettled:Le.allSettled,any:Le.any,resolve:Le.resolve,reject:Le.reject}:{},v&&f(A,v),++P.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},O=kt(A,h,S,O),A.ref===0&&A.finalize(),O}function Ke(){return ee.id||(ee.id=++ye),++ee.awaits,ee.echoes+=qt,ee.id}function Qe(){return!!ee.awaits&&(--ee.awaits==0&&(ee.id=0),ee.echoes=ee.awaits*qt,!0)}function ot(h){return ee.echoes&&h&&h.constructor===jt?(Ke(),h.then(function(v){return Qe(),v},function(v){return Qe(),at(v)})):h}function it(){var h=Ne[Ne.length-1];Ne.pop(),gt(h,!1)}function gt(h,v){var S,O=Ye;(v?!ee.echoes||Fe++&&h===Ye:!Fe||--Fe&&h===Ye)||queueMicrotask(v?(function(P){++et,ee.echoes&&--ee.echoes!=0||(ee.echoes=ee.awaits=ee.id=0),Ne.push(Ye),gt(P,!0)}).bind(null,h):it),h!==Ye&&(Ye=h,O===Cn&&(Cn.env=Ot()),Ht&&(S=Cn.env.Promise,v=h.env,(O.global||h.global)&&(Object.defineProperty(l,"Promise",v.PromiseProp),S.all=v.all,S.race=v.race,S.resolve=v.resolve,S.reject=v.reject,v.allSettled&&(S.allSettled=v.allSettled),v.any&&(S.any=v.any))))}function Ot(){var h=l.Promise;return Ht?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function kt(h,v,S,O,P){var A=Ye;try{return gt(h,!0),v(S,O,P)}finally{gt(A,!1)}}function cn(h,v,S,O){return typeof h!="function"?h:function(){var P=Ye;S&&Ke(),gt(v,!0);try{return h.apply(this,arguments)}finally{gt(P,!1),O&&queueMicrotask(Qe)}}}function on(h){Promise===jt&&ee.echoes===0?Fe===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+Cr).indexOf("[native code]")===-1&&(Ke=Qe=Ze);var at=Le.reject,an="",vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Kn=[],Xn="__dbnames",wr="readonly",cr="readwrite";function rr(h,v){return h?v?function(){return h.apply(this,arguments)&&v.apply(this,arguments)}:h:v}var Ui={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ii(h){return typeof h!="string"||/\./.test(h)?function(v){return v}:function(v){return v[h]===void 0&&h in v&&delete(v=Me(v))[h],v}}function Mt(){throw Ae.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(h,v){try{var S=Pr(h),O=Pr(v);if(S!==O)return S==="Array"?1:O==="Array"?-1:S==="binary"?1:O==="binary"?-1:S==="string"?1:O==="string"?-1:S==="Date"?1:O!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return v<h?1:h<v?-1:0;case"binary":return(function(P,A){for(var k=P.length,q=A.length,X=k<q?k:q,W=0;W<X;++W)if(P[W]!==A[W])return P[W]<A[W]?-1:1;return k===q?0:k<q?-1:1})(Nn(h),Nn(v));case"Array":return(function(P,A){for(var k=P.length,q=A.length,X=k<q?k:q,W=0;W<X;++W){var ie=st(P[W],A[W]);if(ie!==0)return ie}return k===q?0:k<q?-1:1})(h,v)}}catch{}return NaN}function Pr(h){var v=typeof h;return v!="object"?v:ArrayBuffer.isView(h)?"binary":(h=Oe(h),h==="ArrayBuffer"?"binary":h)}function Nn(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}function St(h,v,S){var O=h.schema.yProps;return O?(v&&0<S.numFailures&&(v=v.filter(function(P,A){return!S.failures[A]})),Promise.all(O.map(function(P){return P=P.updatesTable,v?h.db.table(P).where("k").anyOf(v).delete():h.db.table(P).clear()})).then(function(){return S})):S}var Hr=($a.prototype.execute=function(h){var v=this["@@propmod"];if(v.add!==void 0){var S=v.add;if(d(S))return s(s([],d(h)?h:[],!0),S).sort();if(typeof S=="number")return(Number(h)||0)+S;if(typeof S=="bigint")try{return BigInt(h)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(v.remove!==void 0){var O=v.remove;if(d(O))return d(h)?h.filter(function(P){return!O.includes(P)}).sort():[];if(typeof O=="number")return Number(h)-O;if(typeof O=="bigint")try{return BigInt(h)-O}catch{return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return S=(S=v.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof h=="string"&&h.startsWith(S)?v.replacePrefix[1]+h.substring(S.length):h},$a);function $a(h){this["@@propmod"]=h}function Xo(h,v){for(var S=u(v),O=S.length,P=!1,A=0;A<O;++A){var k=S[A],q=v[k],X=U(h,k);q instanceof Hr?(I(h,k,q.execute(X)),P=!0):X!==q&&(I(h,k,q),P=!0)}return P}var au=(Bt.prototype._trans=function(h,v,S){var O=this._tx||Ye.trans,P=this.name,A=ln&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function k(W,ie,Y){if(!Y.schema[P])throw new Ae.NotFound("Table "+P+" not part of transaction");return v(Y.idbtrans,Y)}var q=br();try{var X=O&&O.db._novip===this.db._novip?O===Ye.trans?O._promise(h,k,S):$e(function(){return O._promise(h,k,S)},{trans:O,transless:Ye.transless||Ye}):(function W(ie,Y,ae,Q){if(ie.idbdb&&(ie._state.openComplete||Ye.letThrough||ie._vip)){var te=ie._createTransaction(Y,ae,ie._dbSchema);try{te.create(),ie._state.PR1398_maxLoop=3}catch(ne){return ne.name===nt.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return W(ie,Y,ae,Q)})):at(ne)}return te._promise(Y,function(ne,oe){return $e(function(){return Ye.trans=te,Q(ne,oe,te)})}).then(function(ne){if(Y==="readwrite")try{te.idbtrans.commit()}catch{}return Y==="readonly"?ne:te._completion.then(function(){return ne})})}if(ie._state.openComplete)return at(new Ae.DatabaseClosed(ie._state.dbOpenError));if(!ie._state.isBeingOpened){if(!ie._state.autoOpen)return at(new Ae.DatabaseClosed);ie.open().catch(Ze)}return ie._state.dbReadyPromise.then(function(){return W(ie,Y,ae,Q)})})(this.db,h,[this.name],k);return A&&(X._consoleTask=A,X=X.catch(function(W){return console.trace(W),at(W)})),X}finally{q&&xr()}},Bt.prototype.get=function(h,v){var S=this;return h&&h.constructor===Object?this.where(h).first(v):h==null?at(new Ae.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return S.core.get({trans:O,key:h}).then(function(P){return S.hook.reading.fire(P)})}).then(v)},Bt.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(d(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var v=u(h);if(v.length===1)return this.where(v[0]).equals(h[v[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&v.every(function(W){return 0<=q.keyPath.indexOf(W)})){for(var X=0;X<v.length;++X)if(v.indexOf(q.keyPath[X])===-1)return!1;return!0}return!1}).sort(function(q,X){return q.keyPath.length-X.keyPath.length})[0];if(S&&this.db._maxKey!==an){var A=S.keyPath.slice(0,v.length);return this.where(A).equals(A.map(function(X){return h[X]}))}!S&&ln&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var O=this.schema.idxByName;function P(q,X){return st(q,X)===0}var k=v.reduce(function(Y,X){var W=Y[0],ie=Y[1],Y=O[X],ae=h[X];return[W||Y,W||!Y?rr(ie,Y&&Y.multi?function(Q){return Q=U(Q,X),d(Q)&&Q.some(function(te){return P(ae,te)})}:function(Q){return P(ae,U(Q,X))}):ie]},[null,null]),A=k[0],k=k[1];return A?this.where(A.name).equals(h[A.keyPath]).filter(k):S?this.filter(k):this.where(v).equals("")},Bt.prototype.filter=function(h){return this.toCollection().and(h)},Bt.prototype.count=function(h){return this.toCollection().count(h)},Bt.prototype.offset=function(h){return this.toCollection().offset(h)},Bt.prototype.limit=function(h){return this.toCollection().limit(h)},Bt.prototype.each=function(h){return this.toCollection().each(h)},Bt.prototype.toArray=function(h){return this.toCollection().toArray(h)},Bt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Bt.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,d(h)?"[".concat(h.join("+"),"]"):h))},Bt.prototype.reverse=function(){return this.toCollection().reverse()},Bt.prototype.mapToClass=function(h){var v,S=this.db,O=this.name;function P(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof Mt&&((function(X,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function ie(){this.constructor=X}r(X,W),X.prototype=W===null?Object.create(W):(ie.prototype=W.prototype,new ie)})(P,v=h),Object.defineProperty(P.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),P.prototype.table=function(){return O},h=P);for(var A=new Set,k=h.prototype;k;k=p(k))Object.getOwnPropertyNames(k).forEach(function(X){return A.add(X)});function q(X){if(!X)return X;var W,ie=Object.create(h.prototype);for(W in X)if(!A.has(W))try{ie[W]=X[W]}catch{}return ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=q,this.hook("reading",q),h},Bt.prototype.defineClass=function(){return this.mapToClass(function(h){f(this,h)})},Bt.prototype.add=function(h,v){var S=this,O=this.schema.primKey,P=O.auto,A=O.keyPath,k=h;return A&&P&&(k=ii(A)(h)),this._trans("readwrite",function(q){return S.core.mutate({trans:q,type:"add",keys:v!=null?[v]:null,values:[k]})}).then(function(q){return q.numFailures?Le.reject(q.failures[0]):q.lastResult}).then(function(q){if(A)try{I(h,A,q)}catch{}return q})},Bt.prototype.upsert=function(h,v){var S=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return S.core.get({trans:P,key:h}).then(function(A){var k=A??{};return Xo(k,v),O&&I(k,O,h),S.core.mutate({trans:P,type:"put",values:[k],keys:[h],upsert:!0,updates:{keys:[h],changeSpecs:[v]}}).then(function(q){return q.numFailures?Le.reject(q.failures[0]):!!A})})})},Bt.prototype.update=function(h,v){return typeof h!="object"||d(h)?this.where(":id").equals(h).modify(v):(h=U(h,this.schema.primKey.keyPath),h===void 0?at(new Ae.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(v))},Bt.prototype.put=function(h,v){var S=this,O=this.schema.primKey,P=O.auto,A=O.keyPath,k=h;return A&&P&&(k=ii(A)(h)),this._trans("readwrite",function(q){return S.core.mutate({trans:q,type:"put",values:[k],keys:v!=null?[v]:null})}).then(function(q){return q.numFailures?Le.reject(q.failures[0]):q.lastResult}).then(function(q){if(A)try{I(h,A,q)}catch{}return q})},Bt.prototype.delete=function(h){var v=this;return this._trans("readwrite",function(S){return v.core.mutate({trans:S,type:"delete",keys:[h]}).then(function(O){return St(v,[h],O)}).then(function(O){return O.numFailures?Le.reject(O.failures[0]):void 0})})},Bt.prototype.clear=function(){var h=this;return this._trans("readwrite",function(v){return h.core.mutate({trans:v,type:"deleteRange",range:Ui}).then(function(S){return St(h,null,S)})}).then(function(v){return v.numFailures?Le.reject(v.failures[0]):void 0})},Bt.prototype.bulkGet=function(h){var v=this;return this._trans("readonly",function(S){return v.core.getMany({keys:h,trans:S}).then(function(O){return O.map(function(P){return v.hook.reading.fire(P)})})})},Bt.prototype.bulkAdd=function(h,v,S){var O=this,P=Array.isArray(v)?v:void 0,A=(S=S||(P?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(k){var W=O.schema.primKey,q=W.auto,W=W.keyPath;if(W&&P)throw new Ae.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==h.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var X=h.length,W=W&&q?h.map(ii(W)):h;return O.core.mutate({trans:k,type:"add",keys:P,values:W,wantResults:A}).then(function(te){var Y=te.numFailures,ae=te.results,Q=te.lastResult,te=te.failures;if(Y===0)return A?ae:Q;throw new He("".concat(O.name,".bulkAdd(): ").concat(Y," of ").concat(X," operations failed"),te)})})},Bt.prototype.bulkPut=function(h,v,S){var O=this,P=Array.isArray(v)?v:void 0,A=(S=S||(P?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(k){var W=O.schema.primKey,q=W.auto,W=W.keyPath;if(W&&P)throw new Ae.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==h.length)throw new Ae.InvalidArgument("Arguments objects and keys must have the same length");var X=h.length,W=W&&q?h.map(ii(W)):h;return O.core.mutate({trans:k,type:"put",keys:P,values:W,wantResults:A}).then(function(te){var Y=te.numFailures,ae=te.results,Q=te.lastResult,te=te.failures;if(Y===0)return A?ae:Q;throw new He("".concat(O.name,".bulkPut(): ").concat(Y," of ").concat(X," operations failed"),te)})})},Bt.prototype.bulkUpdate=function(h){var v=this,S=this.core,O=h.map(function(k){return k.key}),P=h.map(function(k){return k.changes}),A=[];return this._trans("readwrite",function(k){return S.getMany({trans:k,keys:O,cache:"clone"}).then(function(q){var X=[],W=[];h.forEach(function(Y,ae){var Q=Y.key,te=Y.changes,ne=q[ae];if(ne){for(var oe=0,ue=Object.keys(te);oe<ue.length;oe++){var me=ue[oe],Se=te[me];if(me===v.schema.primKey.keyPath){if(st(Se,Q)!==0)throw new Ae.Constraint("Cannot update primary key in bulkUpdate()")}else I(ne,me,Se)}A.push(ae),X.push(Q),W.push(ne)}});var ie=X.length;return S.mutate({trans:k,type:"put",keys:X,values:W,updates:{keys:O,changeSpecs:P}}).then(function(Y){var ae=Y.numFailures,Q=Y.failures;if(ae===0)return ie;for(var te=0,ne=Object.keys(Q);te<ne.length;te++){var oe,ue=ne[te],me=A[Number(ue)];me!=null&&(oe=Q[ue],delete Q[ue],Q[me]=oe)}throw new He("".concat(v.name,".bulkUpdate(): ").concat(ae," of ").concat(ie," operations failed"),Q)})})})},Bt.prototype.bulkDelete=function(h){var v=this,S=h.length;return this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"delete",keys:h}).then(function(P){return St(v,h,P)})}).then(function(k){var P=k.numFailures,A=k.lastResult,k=k.failures;if(P===0)return A;throw new He("".concat(v.name,".bulkDelete(): ").concat(P," of ").concat(S," operations failed"),k)})},Bt);function Bt(){}function Ha(h){function v(k,q){if(q){for(var X=arguments.length,W=new Array(X-1);--X;)W[X-1]=arguments[X];return S[k].subscribe.apply(null,W),h}if(typeof k=="string")return S[k]}var S={};v.addEventType=A;for(var O=1,P=arguments.length;O<P;++O)A(arguments[O]);return v;function A(k,q,X){if(typeof k!="object"){var W;q=q||Jt;var ie={subscribers:[],fire:X=X||Ze,subscribe:function(Y){ie.subscribers.indexOf(Y)===-1&&(ie.subscribers.push(Y),ie.fire=q(ie.fire,Y))},unsubscribe:function(Y){ie.subscribers=ie.subscribers.filter(function(ae){return ae!==Y}),ie.fire=ie.subscribers.reduce(q,X)}};return S[k]=v[k]=ie}u(W=k).forEach(function(Y){var ae=W[Y];if(d(ae))A(Y,W[Y][0],W[Y][1]);else{if(ae!=="asap")throw new Ae.InvalidArgument("Invalid event config");var Q=A(Y,ft,function(){for(var te=arguments.length,ne=new Array(te);te--;)ne[te]=arguments[te];Q.subscribers.forEach(function(oe){F(function(){oe.apply(null,ne)})})})}})}}function Wn(h,v){return E(v).from({prototype:h}),v}function $i(h,v){return!(h.filter||h.algorithm||h.or)&&(v?h.justLimit:!h.replayFilter)}function As(h,v){h.filter=rr(h.filter,v)}function qa(h,v,S){var O=h.replayFilter;h.replayFilter=O?function(){return rr(O(),v())}:v,h.justLimit=S&&!O}function Mi(h,v){if(h.isPrimKey)return v.primaryKey;var S=v.getIndexByKeyPath(h.index);if(!S)throw new Ae.Schema("KeyPath "+h.index+" on object store "+v.name+" is not indexed");return S}function su(h,v,S){var O=Mi(h,v.schema);return v.openCursor({trans:S,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:O,range:h.range}})}function Ga(h,v,S,O){var P=h.replayFilter?rr(h.filter,h.replayFilter()):h.filter;if(h.or){var A={},k=function(q,X,W){var ie,Y;P&&!P(X,W,function(ae){return X.stop(ae)},function(ae){return X.fail(ae)})||((Y=""+(ie=X.primaryKey))=="[object ArrayBuffer]"&&(Y=""+new Uint8Array(ie)),y(A,Y)||(A[Y]=!0,v(q,X,W)))};return Promise.all([h.or._iterate(k,S),fo(su(h,O,S),h.algorithm,k,!h.keysOnly&&h.valueMapper)])}return fo(su(h,O,S),rr(h.algorithm,P),v,!h.keysOnly&&h.valueMapper)}function fo(h,v,S,O){var P=$(O?function(A,k,q){return S(O(A),k,q)}:S);return h.then(function(A){if(A)return A.start(function(){var k=function(){return A.continue()};v&&!v(A,function(q){return k=q},function(q){A.stop(q),k=Ze},function(q){A.fail(q),k=Ze})||P(A.value,A,function(q){return k=q}),k()})})}var kh=(Nt.prototype._read=function(h,v){var S=this._ctx;return S.error?S.table._trans(null,at.bind(null,S.error)):S.table._trans("readonly",h).then(v)},Nt.prototype._write=function(h){var v=this._ctx;return v.error?v.table._trans(null,at.bind(null,v.error)):v.table._trans("readwrite",h,"locked")},Nt.prototype._addAlgorithm=function(h){var v=this._ctx;v.algorithm=rr(v.algorithm,h)},Nt.prototype._iterate=function(h,v){return Ga(this._ctx,h,v,this._ctx.table.core)},Nt.prototype.clone=function(h){var v=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return h&&f(S,h),v._ctx=S,v},Nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nt.prototype.each=function(h){var v=this._ctx;return this._read(function(S){return Ga(v,h,S,v.table.core)})},Nt.prototype.count=function(h){var v=this;return this._read(function(S){var O=v._ctx,P=O.table.core;if($i(O,!0))return P.count({trans:S,query:{index:Mi(O,P.schema),range:O.range}}).then(function(k){return Math.min(k,O.limit)});var A=0;return Ga(O,function(){return++A,!1},S,P).then(function(){return A})}).then(h)},Nt.prototype.sortBy=function(h,v){var S=h.split(".").reverse(),O=S[0],P=S.length-1;function A(X,W){return W?A(X[S[W]],W-1):X[O]}var k=this._ctx.dir==="next"?1:-1;function q(X,W){return st(A(X,P),A(W,P))*k}return this.toArray(function(X){return X.sort(q)}).then(v)},Nt.prototype.toArray=function(h){var v=this;return this._read(function(S){var O=v._ctx;if(O.dir==="next"&&$i(O,!0)&&0<O.limit){var P=O.valueMapper,A=Mi(O,O.table.core.schema);return O.table.core.query({trans:S,limit:O.limit,values:!0,query:{index:A,range:O.range}}).then(function(q){return q=q.result,P?q.map(P):q})}var k=[];return Ga(O,function(q){return k.push(q)},S,O.table.core).then(function(){return k})},h)},Nt.prototype.offset=function(h){var v=this._ctx;return h<=0||(v.offset+=h,$i(v)?qa(v,function(){var S=h;return function(O,P){return S===0||(S===1?--S:P(function(){O.advance(S),S=0}),!1)}}):qa(v,function(){var S=h;return function(){return--S<0}})),this},Nt.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),qa(this._ctx,function(){var v=h;return function(S,O,P){return--v<=0&&O(P),0<=v}},!0),this},Nt.prototype.until=function(h,v){return As(this._ctx,function(S,O,P){return!h(S.value)||(O(P),v)}),this},Nt.prototype.first=function(h){return this.limit(1).toArray(function(v){return v[0]}).then(h)},Nt.prototype.last=function(h){return this.reverse().first(h)},Nt.prototype.filter=function(h){var v;return As(this._ctx,function(S){return h(S.value)}),(v=this._ctx).isMatch=rr(v.isMatch,h),this},Nt.prototype.and=function(h){return this.filter(h)},Nt.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},Nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nt.prototype.desc=function(){return this.reverse()},Nt.prototype.eachKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,O){h(O.key,O)})},Nt.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},Nt.prototype.eachPrimaryKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,O){h(O.primaryKey,O)})},Nt.prototype.keys=function(h){var v=this._ctx;v.keysOnly=!v.isMatch;var S=[];return this.each(function(O,P){S.push(P.key)}).then(function(){return S}).then(h)},Nt.prototype.primaryKeys=function(h){var v=this._ctx;if(v.dir==="next"&&$i(v,!0)&&0<v.limit)return this._read(function(O){var P=Mi(v,v.table.core.schema);return v.table.core.query({trans:O,values:!1,limit:v.limit,query:{index:P,range:v.range}})}).then(function(O){return O.result}).then(h);v.keysOnly=!v.isMatch;var S=[];return this.each(function(O,P){S.push(P.primaryKey)}).then(function(){return S}).then(h)},Nt.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},Nt.prototype.firstKey=function(h){return this.limit(1).keys(function(v){return v[0]}).then(h)},Nt.prototype.lastKey=function(h){return this.reverse().firstKey(h)},Nt.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var v={};return As(this._ctx,function(P){var O=P.primaryKey.toString(),P=y(v,O);return v[O]=!0,!P}),this},Nt.prototype.modify=function(h){var v=this,S=this._ctx;return this._write(function(O){var P=typeof h=="function"?h:function(ne){return Xo(ne,h)},A=S.table.core,W=A.schema.primaryKey,k=W.outbound,q=W.extractKey,X=200,W=v.db._options.modifyChunkSize;W&&(X=typeof W=="object"?W[A.name]||W["*"]||200:W);function ie(ne,me){var ue=me.failures,me=me.numFailures;ae+=ne-me;for(var Se=0,Pe=u(ue);Se<Pe.length;Se++){var ke=Pe[Se];Y.push(ue[ke])}}var Y=[],ae=0,Q=[],te=h===lu;return v.clone().primaryKeys().then(function(ne){function oe(me){var Se=Math.min(X,ne.length-me),Pe=ne.slice(me,me+Se);return(te?Promise.resolve([]):A.getMany({trans:O,keys:Pe,cache:"immutable"})).then(function(ke){var Ve=[],je=[],Be=k?[]:null,qe=te?Pe:[];if(!te)for(var ze=0;ze<Se;++ze){var We=ke[ze],lt={value:Me(We),primKey:ne[me+ze]};P.call(lt,lt.value,lt)!==!1&&(lt.value==null?qe.push(ne[me+ze]):k||st(q(We),q(lt.value))===0?(je.push(lt.value),k&&Be.push(ne[me+ze])):(qe.push(ne[me+ze]),Ve.push(lt.value)))}return Promise.resolve(0<Ve.length&&A.mutate({trans:O,type:"add",values:Ve}).then(function(pt){for(var vt in pt.failures)qe.splice(parseInt(vt),1);ie(Ve.length,pt)})).then(function(){return(0<je.length||ue&&typeof h=="object")&&A.mutate({trans:O,type:"put",keys:Be,values:je,criteria:ue,changeSpec:typeof h!="function"&&h,isAdditionalChunk:0<me}).then(function(pt){return ie(je.length,pt)})}).then(function(){return(0<qe.length||ue&&te)&&A.mutate({trans:O,type:"delete",keys:qe,criteria:ue,isAdditionalChunk:0<me}).then(function(pt){return St(S.table,qe,pt)}).then(function(pt){return ie(qe.length,pt)})}).then(function(){return ne.length>me+Se&&oe(me+X)})})}var ue=$i(S)&&S.limit===1/0&&(typeof h!="function"||te)&&{index:S.index,range:S.range};return oe(0).then(function(){if(0<Y.length)throw new Ie("Error modifying one or more objects",Y,ae,Q);return ne.length})})})},Nt.prototype.delete=function(){var h=this._ctx,v=h.range;return!$i(h)||h.table.schema.yProps||!h.isPrimKey&&v.type!==3?this.modify(lu):this._write(function(S){var O=h.table.core.schema.primaryKey,P=v;return h.table.core.count({trans:S,query:{index:O,range:P}}).then(function(A){return h.table.core.mutate({trans:S,type:"deleteRange",range:P}).then(function(X){var q=X.failures,X=X.numFailures;if(X)throw new Ie("Could not delete some values",Object.keys(q).map(function(W){return q[W]}),A-X);return A-X})})})},Nt);function Nt(){}var lu=function(h,v){return v.value=null};function uu(h,v){return h<v?-1:h===v?0:1}function Bh(h,v){return v<h?-1:h===v?0:1}function Sr(h,v,S){return h=h instanceof ho?new h.Collection(h):h,h._ctx.error=new(S||TypeError)(v),h}function Ti(h){return new h.Collection(h,function(){return Ns("")}).limit(0)}function Rr(h,v,S,O){var P,A,k,q,X,W,ie,Y=S.length;if(!S.every(function(te){return typeof te=="string"}))return Sr(h,en);function ae(te){P=te==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},A=te==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},k=te==="next"?uu:Bh;var ne=S.map(function(oe){return{lower:A(oe),upper:P(oe)}}).sort(function(oe,ue){return k(oe.lower,ue.lower)});q=ne.map(function(oe){return oe.upper}),X=ne.map(function(oe){return oe.lower}),ie=(W=te)==="next"?"":O}ae("next"),h=new h.Collection(h,function(){return oi(q[0],X[Y-1]+O)}),h._ondirectionchange=function(te){ae(te)};var Q=0;return h._addAlgorithm(function(te,ne,oe){var ue=te.key;if(typeof ue!="string")return!1;var me=A(ue);if(v(me,X,Q))return!0;for(var Se=null,Pe=Q;Pe<Y;++Pe){var ke=(function(Ve,je,Be,qe,ze,We){for(var lt=Math.min(Ve.length,qe.length),pt=-1,vt=0;vt<lt;++vt){var Jn=je[vt];if(Jn!==qe[vt])return ze(Ve[vt],Be[vt])<0?Ve.substr(0,vt)+Be[vt]+Be.substr(vt+1):ze(Ve[vt],qe[vt])<0?Ve.substr(0,vt)+qe[vt]+Be.substr(vt+1):0<=pt?Ve.substr(0,pt)+je[pt]+Be.substr(pt+1):null;ze(Ve[vt],Jn)<0&&(pt=vt)}return lt<qe.length&&We==="next"?Ve+Be.substr(Ve.length):lt<Ve.length&&We==="prev"?Ve.substr(0,Be.length):pt<0?null:Ve.substr(0,pt)+qe[pt]+Be.substr(pt+1)})(ue,me,q[Pe],X[Pe],k,W);ke===null&&Se===null?Q=Pe+1:(Se===null||0<k(Se,ke))&&(Se=ke)}return ne(Se!==null?function(){te.continue(Se+ie)}:oe),!1}),h}function oi(h,v,S,O){return{type:2,lower:h,upper:v,lowerOpen:S,upperOpen:O}}function Ns(h){return{type:1,lower:h,upper:h}}var ho=(Object.defineProperty(dn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dn.prototype.between=function(h,v,S,O){S=S!==!1,O=O===!0;try{return 0<this._cmp(h,v)||this._cmp(h,v)===0&&(S||O)&&(!S||!O)?Ti(this):new this.Collection(this,function(){return oi(h,v,!S,!O)})}catch{return Sr(this,vn)}},dn.prototype.equals=function(h){return h==null?Sr(this,vn):new this.Collection(this,function(){return Ns(h)})},dn.prototype.above=function(h){return h==null?Sr(this,vn):new this.Collection(this,function(){return oi(h,void 0,!0)})},dn.prototype.aboveOrEqual=function(h){return h==null?Sr(this,vn):new this.Collection(this,function(){return oi(h,void 0,!1)})},dn.prototype.below=function(h){return h==null?Sr(this,vn):new this.Collection(this,function(){return oi(void 0,h,!1,!0)})},dn.prototype.belowOrEqual=function(h){return h==null?Sr(this,vn):new this.Collection(this,function(){return oi(void 0,h)})},dn.prototype.startsWith=function(h){return typeof h!="string"?Sr(this,en):this.between(h,h+an,!0,!0)},dn.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):Rr(this,function(v,S){return v.indexOf(S[0])===0},[h],an)},dn.prototype.equalsIgnoreCase=function(h){return Rr(this,function(v,S){return v===S[0]},[h],"")},dn.prototype.anyOfIgnoreCase=function(){var h=Ce.apply(be,arguments);return h.length===0?Ti(this):Rr(this,function(v,S){return S.indexOf(v)!==-1},h,"")},dn.prototype.startsWithAnyOfIgnoreCase=function(){var h=Ce.apply(be,arguments);return h.length===0?Ti(this):Rr(this,function(v,S){return S.some(function(O){return v.indexOf(O)===0})},h,an)},dn.prototype.anyOf=function(){var h=this,v=Ce.apply(be,arguments),S=this._cmp;try{v.sort(S)}catch{return Sr(this,vn)}if(v.length===0)return Ti(this);var O=new this.Collection(this,function(){return oi(v[0],v[v.length-1])});O._ondirectionchange=function(A){S=A==="next"?h._ascending:h._descending,v.sort(S)};var P=0;return O._addAlgorithm(function(A,k,q){for(var X=A.key;0<S(X,v[P]);)if(++P===v.length)return k(q),!1;return S(X,v[P])===0||(k(function(){A.continue(v[P])}),!1)}),O},dn.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dn.prototype.noneOf=function(){var h=Ce.apply(be,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return Sr(this,vn)}var v=h.reduce(function(S,O){return S?S.concat([[S[S.length-1][1],O]]):[[-1/0,O]]},null);return v.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},dn.prototype.inAnyRange=function(ue,v){var S=this,O=this._cmp,P=this._ascending,A=this._descending,k=this._min,q=this._max;if(ue.length===0)return Ti(this);if(!ue.every(function(me){return me[0]!==void 0&&me[1]!==void 0&&P(me[0],me[1])<=0}))return Sr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ae.InvalidArgument);var X=!v||v.includeLowers!==!1,W=v&&v.includeUppers===!0,ie,Y=P;function ae(me,Se){return Y(me[0],Se[0])}try{(ie=ue.reduce(function(me,Se){for(var Pe=0,ke=me.length;Pe<ke;++Pe){var Ve=me[Pe];if(O(Se[0],Ve[1])<0&&0<O(Se[1],Ve[0])){Ve[0]=k(Ve[0],Se[0]),Ve[1]=q(Ve[1],Se[1]);break}}return Pe===ke&&me.push(Se),me},[])).sort(ae)}catch{return Sr(this,vn)}var Q=0,te=W?function(me){return 0<P(me,ie[Q][1])}:function(me){return 0<=P(me,ie[Q][1])},ne=X?function(me){return 0<A(me,ie[Q][0])}:function(me){return 0<=A(me,ie[Q][0])},oe=te,ue=new this.Collection(this,function(){return oi(ie[0][0],ie[ie.length-1][1],!X,!W)});return ue._ondirectionchange=function(me){Y=me==="next"?(oe=te,P):(oe=ne,A),ie.sort(ae)},ue._addAlgorithm(function(me,Se,Pe){for(var ke,Ve=me.key;oe(Ve);)if(++Q===ie.length)return Se(Pe),!1;return!te(ke=Ve)&&!ne(ke)||(S._cmp(Ve,ie[Q][1])===0||S._cmp(Ve,ie[Q][0])===0||Se(function(){Y===P?me.continue(ie[Q][0]):me.continue(ie[Q][1])}),!1)}),ue},dn.prototype.startsWithAnyOf=function(){var h=Ce.apply(be,arguments);return h.every(function(v){return typeof v=="string"})?h.length===0?Ti(this):this.inAnyRange(h.map(function(v){return[v,v+an]})):Sr(this,"startsWithAnyOf() only works with strings")},dn);function dn(){}function qr(h){return $(function(v){return po(v),h(v.target.error),!1})}function po(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var Wo="storagemutated",mo="x-storagemutated-1",Qn=Ha(null,Wo),cu=(dr.prototype._lock=function(){return L(!Ye.global),++this._reculock,this._reculock!==1||Ye.global||(Ye.lockOwnerFor=this),this},dr.prototype._unlock=function(){if(L(!Ye.global),--this._reculock==0)for(Ye.global||(Ye.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{kt(h[1],h[0])}catch{}}return this},dr.prototype._locked=function(){return this._reculock&&Ye.lockOwnerFor!==this},dr.prototype.create=function(h){var v=this;if(!this.mode)return this;var S=this.db.idbdb,O=this.db._state.dbOpenError;if(L(!this.idbtrans),!h&&!S)switch(O&&O.name){case"DatabaseClosedError":throw new Ae.DatabaseClosed(O);case"MissingAPIError":throw new Ae.MissingAPI(O.message,O);default:throw new Ae.OpenFailed(O)}if(!this.active)throw new Ae.TransactionInactive;return L(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$(function(P){po(P),v._reject(h.error)}),h.onabort=$(function(P){po(P),v.active&&v._reject(new Ae.Abort(h.error)),v.active=!1,v.on("abort").fire(P)}),h.oncomplete=$(function(){v.active=!1,v._resolve(),"mutatedParts"in h&&Qn.storagemutated.fire(h.mutatedParts)}),this},dr.prototype._promise=function(h,v,S){var O=this;if(h==="readwrite"&&this.mode!=="readwrite")return at(new Ae.ReadOnly("Transaction is readonly"));if(!this.active)return at(new Ae.TransactionInactive);if(this._locked())return new Le(function(A,k){O._blockedFuncs.push([function(){O._promise(h,v,S).then(A,k)},Ye])});if(S)return $e(function(){var A=new Le(function(k,q){O._lock();var X=v(k,q,O);X&&X.then&&X.then(k,q)});return A.finally(function(){return O._unlock()}),A._lib=!0,A});var P=new Le(function(A,k){var q=v(A,k,O);q&&q.then&&q.then(A,k)});return P._lib=!0,P},dr.prototype._root=function(){return this.parent?this.parent._root():this},dr.prototype.waitFor=function(h){var v,S=this._root(),O=Le.resolve(h);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return O}):(S._waitingFor=O,S._waitingQueue=[],v=S.idbtrans.objectStore(S.storeNames[0]),(function A(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(v.get(-1/0).onsuccess=A)})());var P=S._waitingFor;return new Le(function(A,k){O.then(function(q){return S._waitingQueue.push($(A.bind(null,q)))},function(q){return S._waitingQueue.push($(k.bind(null,q)))}).finally(function(){S._waitingFor===P&&(S._waitingFor=null)})})},dr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ae.Abort))},dr.prototype.table=function(h){var v=this._memoizedTables||(this._memoizedTables={});if(y(v,h))return v[h];var S=this.schema[h];if(!S)throw new Ae.NotFound("Table "+h+" not part of transaction");return S=new this.db.Table(h,S,this),S.core=this.db.core.table(h),v[h]=S},dr);function dr(){}function ai(h,v,S,O,P,A,k,q){return{name:h,keyPath:v,unique:S,multi:O,auto:P,compound:A,src:(S&&!k?"&":"")+(O?"*":"")+(P?"++":"")+Is(v),type:q}}function Is(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Qo(h,v,S){return{name:h,primKey:v,indexes:S,mappedClass:null,idxByName:(O=function(P){return[P.name,P]},S.reduce(function(P,A,k){return k=O(A,k),k&&(P[k[0]]=k[1]),P},{}))};var O}var Zo=function(h){try{return h.only([[]]),Zo=function(){return[[]]},[[]]}catch{return Zo=function(){return an},an}};function Jo(h){return h==null?function(){}:typeof h=="string"?(v=h).split(".").length===1?function(S){return S[v]}:function(S){return U(S,v)}:function(S){return U(S,h)};var v}function Va(h){return[].slice.call(h)}var Yc=0;function In(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function go(h,v,X){function O(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=oe.lower,te=oe.upper,ne=oe.lowerOpen,oe=oe.upperOpen;return Q===void 0?te===void 0?null:v.upperBound(te,!!oe):te===void 0?v.lowerBound(Q,!!ne):v.bound(Q,te,!!ne,!!oe)}function P(ae){var Q,te=ae.name;return{name:te,schema:ae,mutate:function(ne){var oe=ne.trans,ue=ne.type,me=ne.keys,Se=ne.values,Pe=ne.range;return new Promise(function(ke,Ve){ke=$(ke);var je=oe.objectStore(te),Be=je.keyPath==null,qe=ue==="put"||ue==="add";if(!qe&&ue!=="delete"&&ue!=="deleteRange")throw new Error("Invalid operation type: "+ue);var ze,We=(me||Se||{length:1}).length;if(me&&Se&&me.length!==Se.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return ke({numFailures:0,failures:{},results:[],lastResult:void 0});function lt(zn){++Jn,po(zn)}var pt=[],vt=[],Jn=0;if(ue==="deleteRange"){if(Pe.type===4)return ke({numFailures:Jn,failures:vt,results:[],lastResult:void 0});Pe.type===3?pt.push(ze=je.clear()):pt.push(ze=je.delete(O(Pe)))}else{var Be=qe?Be?[Se,me]:[Se,null]:[me,null],ht=Be[0],jn=Be[1];if(qe)for(var bn=0;bn<We;++bn)pt.push(ze=jn&&jn[bn]!==void 0?je[ue](ht[bn],jn[bn]):je[ue](ht[bn])),ze.onerror=lt;else for(bn=0;bn<We;++bn)pt.push(ze=je[ue](ht[bn])),ze.onerror=lt}function Ja(zn){zn=zn.target.result,pt.forEach(function(Dr,_u){return Dr.error!=null&&(vt[_u]=Dr.error)}),ke({numFailures:Jn,failures:vt,results:ue==="delete"?me:pt.map(function(Dr){return Dr.result}),lastResult:zn})}ze.onerror=function(zn){lt(zn),Ja(zn)},ze.onsuccess=Ja})},getMany:function(ne){var oe=ne.trans,ue=ne.keys;return new Promise(function(me,Se){me=$(me);for(var Pe,ke=oe.objectStore(te),Ve=ue.length,je=new Array(Ve),Be=0,qe=0,ze=function(pt){pt=pt.target,je[pt._pos]=pt.result,++qe===Be&&me(je)},We=qr(Se),lt=0;lt<Ve;++lt)ue[lt]!=null&&((Pe=ke.get(ue[lt]))._pos=lt,Pe.onsuccess=ze,Pe.onerror=We,++Be);Be===0&&me(je)})},get:function(ne){var oe=ne.trans,ue=ne.key;return new Promise(function(me,Se){me=$(me);var Pe=oe.objectStore(te).get(ue);Pe.onsuccess=function(ke){return me(ke.target.result)},Pe.onerror=qr(Se)})},query:(Q=W,function(ne){return new Promise(function(oe,ue){oe=$(oe);var me,Se,Pe,Be=ne.trans,ke=ne.values,Ve=ne.limit,ze=ne.query,je=Ve===1/0?void 0:Ve,qe=ze.index,ze=ze.range,Be=Be.objectStore(te),qe=qe.isPrimaryKey?Be:Be.index(qe.name),ze=O(ze);if(Ve===0)return oe({result:[]});Q?((je=ke?qe.getAll(ze,je):qe.getAllKeys(ze,je)).onsuccess=function(We){return oe({result:We.target.result})},je.onerror=qr(ue)):(me=0,Se=!ke&&"openKeyCursor"in qe?qe.openKeyCursor(ze):qe.openCursor(ze),Pe=[],Se.onsuccess=function(We){var lt=Se.result;return lt?(Pe.push(ke?lt.value:lt.primaryKey),++me===Ve?oe({result:Pe}):void lt.continue()):oe({result:Pe})},Se.onerror=qr(ue))})}),openCursor:function(ne){var oe=ne.trans,ue=ne.values,me=ne.query,Se=ne.reverse,Pe=ne.unique;return new Promise(function(ke,Ve){ke=$(ke);var qe=me.index,je=me.range,Be=oe.objectStore(te),Be=qe.isPrimaryKey?Be:Be.index(qe.name),qe=Se?Pe?"prevunique":"prev":Pe?"nextunique":"next",ze=!ue&&"openKeyCursor"in Be?Be.openKeyCursor(O(je),qe):Be.openCursor(O(je),qe);ze.onerror=qr(Ve),ze.onsuccess=$(function(We){var lt,pt,vt,Jn,ht=ze.result;ht?(ht.___id=++Yc,ht.done=!1,lt=ht.continue.bind(ht),pt=(pt=ht.continuePrimaryKey)&&pt.bind(ht),vt=ht.advance.bind(ht),Jn=function(){throw new Error("Cursor not stopped")},ht.trans=oe,ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=function(){throw new Error("Cursor not started")},ht.fail=$(Ve),ht.next=function(){var jn=this,bn=1;return this.start(function(){return bn--?jn.continue():jn.stop()}).then(function(){return jn})},ht.start=function(jn){function bn(){if(ze.result)try{jn()}catch(zn){ht.fail(zn)}else ht.done=!0,ht.start=function(){throw new Error("Cursor behind last entry")},ht.stop()}var Ja=new Promise(function(zn,Dr){zn=$(zn),ze.onerror=qr(Dr),ht.fail=Dr,ht.stop=function(_u){ht.stop=ht.continue=ht.continuePrimaryKey=ht.advance=Jn,zn(_u)}});return ze.onsuccess=$(function(zn){ze.onsuccess=bn,bn()}),ht.continue=lt,ht.continuePrimaryKey=pt,ht.advance=vt,bn(),Ja},ke(ht)):ke(null)},Ve)})},count:function(ne){var oe=ne.query,ue=ne.trans,me=oe.index,Se=oe.range;return new Promise(function(Pe,ke){var Ve=ue.objectStore(te),je=me.isPrimaryKey?Ve:Ve.index(me.name),Ve=O(Se),je=Ve?je.count(Ve):je.count();je.onsuccess=$(function(Be){return Pe(Be.target.result)}),je.onerror=qr(ke)})}}}var A,k,q,ie=(k=X,q=Va((A=h).objectStoreNames),{schema:{name:A.name,tables:q.map(function(ae){return k.objectStore(ae)}).map(function(ae){var Q=ae.keyPath,oe=ae.autoIncrement,te=d(Q),ne={},oe={name:ae.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:te,keyPath:Q,autoIncrement:oe,unique:!0,extractKey:Jo(Q)},indexes:Va(ae.indexNames).map(function(ue){return ae.index(ue)}).map(function(Pe){var me=Pe.name,Se=Pe.unique,ke=Pe.multiEntry,Pe=Pe.keyPath,ke={name:me,compound:d(Pe),keyPath:Pe,unique:Se,multiEntry:ke,extractKey:Jo(Pe)};return ne[In(Pe)]=ke}),getIndexByKeyPath:function(ue){return ne[In(ue)]}};return ne[":id"]=oe.primaryKey,Q!=null&&(ne[In(Q)]=oe.primaryKey),oe})},hasGetAll:0<q.length&&"getAll"in k.objectStore(q[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),X=ie.schema,W=ie.hasGetAll,ie=X.tables.map(P),Y={};return ie.forEach(function(ae){return Y[ae.name]=ae}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(ae){if(!Y[ae])throw new Error("Table '".concat(ae,"' not found"));return Y[ae]},MIN_KEY:-1/0,MAX_KEY:Zo(v),schema:X}}function js(h,v,S,O){var P=S.IDBKeyRange;return S.indexedDB,{dbcore:(O=go(v,P,O),h.dbcore.reduce(function(A,k){return k=k.create,o(o({},A),k(A))},O))}}function Hi(h,O){var S=O.db,O=js(h._middlewares,S,h._deps,O);h.core=O.dbcore,h.tables.forEach(function(P){var A=P.name;h.core.schema.tables.some(function(k){return k.name===A})&&(P.core=h.core.table(A),h[A]instanceof h.Table&&(h[A].core=P.core))})}function zs(h,v,S,O){S.forEach(function(P){var A=O[P];v.forEach(function(k){var q=(function X(W,ie){return T(W,ie)||(W=p(W))&&X(W,ie)})(k,P);(!q||"value"in q&&q.value===void 0)&&(k===h.Transaction.prototype||k instanceof h.Transaction?_(k,P,{get:function(){return this.table(P)},set:function(X){w(this,P,{value:X,writable:!0,configurable:!0,enumerable:!0})}}):k[P]=new h.Table(P,A))})})}function Ya(h,v){v.forEach(function(S){for(var O in S)S[O]instanceof h.Table&&delete S[O]})}function du(h,v){return h._cfg.version-v._cfg.version}function Ka(h,v,S,O){var P=h._dbSchema;S.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=Qo("$meta",Xc("")[0],[]),h._storeNames.push("$meta"));var A=h._createTransaction("readwrite",h._storeNames,P);A.create(S),A._completion.catch(O);var k=A._reject.bind(A),q=Ye.transless||Ye;$e(function(){return Ye.trans=A,Ye.transless=q,v!==0?(Hi(h,S),W=v,((X=A).storeNames.includes("$meta")?X.table("$meta").get("version").then(function(ie){return ie??W}):Le.resolve(W)).then(function(ie){return ae=ie,Q=A,te=S,ne=[],ie=(Y=h)._versions,oe=Y._dbSchema=ea(0,Y.idbdb,te),(ie=ie.filter(function(ue){return ue._cfg.version>=ae})).length!==0?(ie.forEach(function(ue){ne.push(function(){var me=oe,Se=ue._cfg.dbschema;Bs(Y,me,te),Bs(Y,Se,te),oe=Y._dbSchema=Se;var Pe=Fs(me,Se);Pe.add.forEach(function(qe){fu(te,qe[0],qe[1].primKey,qe[1].indexes)}),Pe.change.forEach(function(qe){if(qe.recreate)throw new Ae.Upgrade("Not yet support for changing primary key");var ze=te.objectStore(qe.name);qe.add.forEach(function(We){return ks(ze,We)}),qe.change.forEach(function(We){ze.deleteIndex(We.name),ks(ze,We)}),qe.del.forEach(function(We){return ze.deleteIndex(We)})});var ke=ue._cfg.contentUpgrade;if(ke&&ue._cfg.version>ae){Hi(Y,te),Q._memoizedTables={};var Ve=G(Se);Pe.del.forEach(function(qe){Ve[qe]=me[qe]}),Ya(Y,[Y.Transaction.prototype]),zs(Y,[Y.Transaction.prototype],u(Ve),Ve),Q.schema=Ve;var je,Be=H(ke);return Be&&Ke(),Pe=Le.follow(function(){var qe;(je=ke(Q))&&Be&&(qe=Qe.bind(null,null),je.then(qe,qe))}),je&&typeof je.then=="function"?Le.resolve(je):Pe.then(function(){return je})}}),ne.push(function(me){var Se,Pe,ke=ue._cfg.dbschema;Se=ke,Pe=me,[].slice.call(Pe.db.objectStoreNames).forEach(function(Ve){return Se[Ve]==null&&Pe.db.deleteObjectStore(Ve)}),Ya(Y,[Y.Transaction.prototype]),zs(Y,[Y.Transaction.prototype],Y._storeNames,Y._dbSchema),Q.schema=Y._dbSchema}),ne.push(function(me){Y.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(Y.idbdb.version/10)===ue._cfg.version?(Y.idbdb.deleteObjectStore("$meta"),delete Y._dbSchema.$meta,Y._storeNames=Y._storeNames.filter(function(Se){return Se!=="$meta"})):me.objectStore("$meta").put(ue._cfg.version,"version"))})}),(function ue(){return ne.length?Le.resolve(ne.shift()(Q.idbtrans)).then(ue):Le.resolve()})().then(function(){Kc(oe,te)})):Le.resolve();var Y,ae,Q,te,ne,oe}).catch(k)):(u(P).forEach(function(ie){fu(S,ie,P[ie].primKey,P[ie].indexes)}),Hi(h,S),void Le.follow(function(){return h.on.populate.fire(A)}).catch(k));var X,W})}function Ls(h,v){Kc(h._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var S=ea(0,h.idbdb,v);Bs(h,h._dbSchema,v);for(var O=0,P=Fs(S,h._dbSchema).change;O<P.length;O++){var A=(function(k){if(k.change.length||k.recreate)return console.warn("Unable to patch indexes of table ".concat(k.name," because it has changes on the type of index or primary key.")),{value:void 0};var q=v.objectStore(k.name);k.add.forEach(function(X){ln&&console.debug("Dexie upgrade patch: Creating missing index ".concat(k.name,".").concat(X.src)),ks(q,X)})})(P[O]);if(typeof A=="object")return A.value}}function Fs(h,v){var S,O={del:[],add:[],change:[]};for(S in h)v[S]||O.del.push(S);for(S in v){var P=h[S],A=v[S];if(P){var k={name:S,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||P.primKey.auto!==A.primKey.auto)k.recreate=!0,O.change.push(k);else{var q=P.idxByName,X=A.idxByName,W=void 0;for(W in q)X[W]||k.del.push(W);for(W in X){var ie=q[W],Y=X[W];ie?ie.src!==Y.src&&k.change.push(Y):k.add.push(Y)}(0<k.del.length||0<k.add.length||0<k.change.length)&&O.change.push(k)}}else O.add.push([S,A])}return O}function fu(h,v,S,O){var P=h.db.createObjectStore(v,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return O.forEach(function(A){return ks(P,A)}),P}function Kc(h,v){u(h).forEach(function(S){v.db.objectStoreNames.contains(S)||(ln&&console.debug("Dexie: Creating missing table",S),fu(v,S,h[S].primKey,h[S].indexes))})}function ks(h,v){h.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function ea(h,v,S){var O={};return R(v.objectStoreNames,0).forEach(function(P){for(var A=S.objectStore(P),k=ai(Is(W=A.keyPath),W||"",!0,!1,!!A.autoIncrement,W&&typeof W!="string",!0),q=[],X=0;X<A.indexNames.length;++X){var ie=A.index(A.indexNames[X]),W=ie.keyPath,ie=ai(ie.name,W,!!ie.unique,!!ie.multiEntry,!1,W&&typeof W!="string",!1);q.push(ie)}O[P]=Qo(P,k,q)}),O}function Bs(h,v,S){for(var O=S.db.objectStoreNames,P=0;P<O.length;++P){var A=O[P],k=S.objectStore(A);h._hasGetAll="getAll"in k;for(var q=0;q<k.indexNames.length;++q){var X=k.indexNames[q],W=k.index(X).keyPath,ie=typeof W=="string"?W:"["+R(W).join("+")+"]";!v[A]||(W=v[A].idxByName[ie])&&(W.name=X,delete v[A].idxByName[ie],v[A].idxByName[X]=W)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function Xc(h){return h.split(",").map(function(v,S){var A=v.split(":"),O=(P=A[1])===null||P===void 0?void 0:P.trim(),P=(v=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return ai(P,A||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),d(A),S===0,O)})}var Uh=(ta.prototype._createTableSchema=Qo,ta.prototype._parseIndexSyntax=Xc,ta.prototype._parseStoresSpec=function(h,v){var S=this;u(h).forEach(function(O){if(h[O]!==null){var P=S._parseIndexSyntax(h[O]),A=P.shift();if(!A)throw new Ae.Schema("Invalid schema for table "+O+": "+h[O]);if(A.unique=!0,A.multi)throw new Ae.Schema("Primary key cannot be multiEntry*");P.forEach(function(k){if(k.auto)throw new Ae.Schema("Only primary key can be marked as autoIncrement (++)");if(!k.keyPath)throw new Ae.Schema("Index must have a name and cannot be an empty string")}),P=S._createTableSchema(O,A,P),v[O]=P}})},ta.prototype.stores=function(S){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,S):S;var S=v._versions,O={},P={};return S.forEach(function(A){f(O,A._cfg.storesSource),P=A._cfg.dbschema={},A._parseStoresSpec(O,P)}),v._dbSchema=P,Ya(v,[v._allTables,v,v.Transaction.prototype]),zs(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],u(P),P),v._storeNames=u(P),this},ta.prototype.upgrade=function(h){return this._cfg.contentUpgrade=En(this._cfg.contentUpgrade||Ze,h),this},ta);function ta(){}function hu(h,v){var S=h._dbNamesDB;return S||(S=h._dbNamesDB=new si(Xn,{addons:[],indexedDB:h,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function Us(h){return h&&typeof h.databases=="function"}function pu(h){return $e(function(){return Ye.letThrough=!0,h()})}function mu(h){return!("from"in h)}var Zn=function(h,v){if(!this){var S=new Zn;return h&&"d"in h&&f(S,h),S}f(this,arguments.length?{d:1,from:h,to:1<arguments.length?v:h}:{d:0})};function Xa(h,v,S){var O=st(v,S);if(!isNaN(O)){if(0<O)throw RangeError();if(mu(h))return f(h,{from:v,to:S,d:1});var P=h.l,O=h.r;if(st(S,h.from)<0)return P?Xa(P,v,S):h.l={from:v,to:S,d:1,l:null,r:null},Qc(h);if(0<st(v,h.to))return O?Xa(O,v,S):h.r={from:v,to:S,d:1,l:null,r:null},Qc(h);st(v,h.from)<0&&(h.from=v,h.l=null,h.d=O?O.d+1:1),0<st(S,h.to)&&(h.to=S,h.r=null,h.d=h.l?h.l.d+1:1),S=!h.r,P&&!h.l&&yo(h,P),O&&S&&yo(h,O)}}function yo(h,v){mu(v)||(function S(O,X){var A=X.from,k=X.to,q=X.l,X=X.r;Xa(O,A,k),q&&S(O,q),X&&S(O,X)})(h,v)}function Wc(h,v){var S=$s(v),O=S.next();if(O.done)return!1;for(var P=O.value,A=$s(h),k=A.next(P.from),q=k.value;!O.done&&!k.done;){if(st(q.from,P.to)<=0&&0<=st(q.to,P.from))return!0;st(P.from,q.from)<0?P=(O=S.next(q.from)).value:q=(k=A.next(P.from)).value}return!1}function $s(h){var v=mu(h)?null:{s:0,n:h};return{next:function(S){for(var O=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,O)for(;v.n.l&&st(S,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!O||st(S,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function Qc(h){var v,S,O=(((v=h.r)===null||v===void 0?void 0:v.d)||0)-(((S=h.l)===null||S===void 0?void 0:S.d)||0),P=1<O?"r":O<-1?"l":"";P&&(v=P=="r"?"l":"r",S=o({},h),O=h[P],h.from=O.from,h.to=O.to,h[P]=O[P],S[P]=O[v],(h[v]=S).d=gu(S)),h.d=gu(h)}function gu(S){var v=S.r,S=S.l;return(v?S?Math.max(v.d,S.d):v.d:S?S.d:0)+1}function Hs(h,v){return u(v).forEach(function(S){h[S]?yo(h[S],v[S]):h[S]=(function O(P){var A,k,q={};for(A in P)y(P,A)&&(k=P[A],q[A]=!k||typeof k!="object"||ve.has(k.constructor)?k:O(k));return q})(v[S])}),h}function yu(h,v){return h.all||v.all||Object.keys(h).some(function(S){return v[S]&&Wc(v[S],h[S])})}x(Zn.prototype,((Cr={add:function(h){return yo(this,h),this},addKey:function(h){return Xa(this,h,h),this},addKeys:function(h){var v=this;return h.forEach(function(S){return Xa(v,S,S)}),this},hasKey:function(h){var v=$s(this).next(h).value;return v&&st(v.from,h)<=0&&0<=st(v.to,h)}})[B]=function(){return $s(this)},Cr));var vo={},vu={},bu=!1;function qs(h){Hs(vu,h),bu||(bu=!0,setTimeout(function(){bu=!1,xu(vu,!(vu={}))},0))}function xu(h,v){v===void 0&&(v=!1);var S=new Set;if(h.all)for(var O=0,P=Object.values(vo);O<P.length;O++)Zc(k=P[O],h,S,v);else for(var A in h){var k,q=/^idb\:\/\/(.*)\/(.*)\//.exec(A);q&&(A=q[1],q=q[2],(k=vo["idb://".concat(A,"/").concat(q)])&&Zc(k,h,S,v))}S.forEach(function(X){return X()})}function Zc(h,v,S,O){for(var P=[],A=0,k=Object.entries(h.queries.query);A<k.length;A++){for(var q=k[A],X=q[0],W=[],ie=0,Y=q[1];ie<Y.length;ie++){var ae=Y[ie];yu(v,ae.obsSet)?ae.subscribers.forEach(function(oe){return S.add(oe)}):O&&W.push(ae)}O&&P.push([X,W])}if(O)for(var Q=0,te=P;Q<te.length;Q++){var ne=te[Q],X=ne[0],W=ne[1];h.queries.query[X]=W}}function $h(h){var v=h._state,S=h._deps.indexedDB;if(v.isBeingOpened||h.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?at(v.dbOpenError):h});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var O=v.openCanceller,P=Math.round(10*h.verno),A=!1;function k(){if(v.openCanceller!==O)throw new Ae.DatabaseClosed("db.open() was cancelled")}function q(){return new Le(function(ae,Q){if(k(),!S)throw new Ae.MissingAPI;var te=h.name,ne=v.autoSchema||!P?S.open(te):S.open(te,P);if(!ne)throw new Ae.MissingAPI;ne.onerror=qr(Q),ne.onblocked=$(h._fireOnBlocked),ne.onupgradeneeded=$(function(oe){var ue;ie=ne.transaction,v.autoSchema&&!h._options.allowEmptyDB?(ne.onerror=po,ie.abort(),ne.result.close(),(ue=S.deleteDatabase(te)).onsuccess=ue.onerror=$(function(){Q(new Ae.NoSuchDatabase("Database ".concat(te," doesnt exist")))})):(ie.onerror=qr(Q),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,Y=oe<1,h.idbdb=ne.result,A&&Ls(h,ie),Ka(h,oe/10,ie,Q))},Q),ne.onsuccess=$(function(){ie=null;var oe,ue,me,Se,Pe,ke=h.idbdb=ne.result,Ve=R(ke.objectStoreNames);if(0<Ve.length)try{var je=ke.transaction((Se=Ve).length===1?Se[0]:Se,"readonly");if(v.autoSchema)ue=ke,me=je,(oe=h).verno=ue.version/10,me=oe._dbSchema=ea(0,ue,me),oe._storeNames=R(ue.objectStoreNames,0),zs(oe,[oe._allTables],u(me),me);else if(Bs(h,h._dbSchema,je),((Pe=Fs(ea(0,(Pe=h).idbdb,je),Pe._dbSchema)).add.length||Pe.change.some(function(Be){return Be.add.length||Be.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ke.close(),P=ke.version+1,A=!0,ae(q());Hi(h,je)}catch{}Kn.push(h),ke.onversionchange=$(function(Be){v.vcFired=!0,h.on("versionchange").fire(Be)}),ke.onclose=$(function(){h.close({disableAutoOpen:!1})}),Y&&(Pe=h._deps,je=te,ke=Pe.indexedDB,Pe=Pe.IDBKeyRange,Us(ke)||je===Xn||hu(ke,Pe).put({name:je}).catch(Ze)),ae()},Q)}).catch(function(ae){switch(ae?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),q();break;case"VersionError":if(0<P)return P=0,q()}return Le.reject(ae)})}var X,W=v.dbReadyResolve,ie=null,Y=!1;return Le.race([O,(typeof navigator>"u"?Le.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(ae){function Q(){return indexedDB.databases().finally(ae)}X=setInterval(Q,100),Q()}).finally(function(){return clearInterval(X)}):Promise.resolve()).then(q)]).then(function(){return k(),v.onReadyBeingFired=[],Le.resolve(pu(function(){return h.on.ready.fire(h.vip)})).then(function ae(){if(0<v.onReadyBeingFired.length){var Q=v.onReadyBeingFired.reduce(En,Ze);return v.onReadyBeingFired=[],Le.resolve(pu(function(){return Q(h.vip)})).then(ae)}})}).finally(function(){v.openCanceller===O&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(ae){v.dbOpenError=ae;try{ie&&ie.abort()}catch{}return O===v.openCanceller&&h._close(),at(ae)}).finally(function(){v.openComplete=!0,W()}).then(function(){var ae;return Y&&(ae={},h.tables.forEach(function(Q){Q.schema.indexes.forEach(function(te){te.name&&(ae["idb://".concat(h.name,"/").concat(Q.name,"/").concat(te.name)]=new Zn(-1/0,[[[]]]))}),ae["idb://".concat(h.name,"/").concat(Q.name,"/")]=ae["idb://".concat(h.name,"/").concat(Q.name,"/:dels")]=new Zn(-1/0,[[[]]])}),Qn(Wo).fire(ae),xu(ae,!0)),h})}function Wa(h){function v(A){return h.next(A)}var S=P(v),O=P(function(A){return h.throw(A)});function P(A){return function(X){var q=A(X),X=q.value;return q.done?X:X&&typeof X.then=="function"?X.then(S,O):d(X)?Promise.all(X).then(S,O):S(X)}}return P(v)()}function qi(h,v,S){for(var O=d(h)?h.slice():[h],P=0;P<S;++P)O.push(v);return O}var Hh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return o(o({},h),{table:function(v){var S=h.table(v),O=S.schema,P={},A=[];function k(Y,ae,Q){var te=In(Y),ne=P[te]=P[te]||[],oe=Y==null?0:typeof Y=="string"?1:Y.length,ue=0<ae,ue=o(o({},Q),{name:ue?"".concat(te,"(virtual-from:").concat(Q.name,")"):Q.name,lowLevelIndex:Q,isVirtual:ue,keyTail:ae,keyLength:oe,extractKey:Jo(Y),unique:!ue&&Q.unique});return ne.push(ue),ue.isPrimaryKey||A.push(ue),1<oe&&k(oe===2?Y[0]:Y.slice(0,oe-1),ae+1,Q),ne.sort(function(me,Se){return me.keyTail-Se.keyTail}),ue}v=k(O.primaryKey.keyPath,0,O.primaryKey),P[":id"]=[v];for(var q=0,X=O.indexes;q<X.length;q++){var W=X[q];k(W.keyPath,0,W)}function ie(Y){var ae,Q=Y.query.index;return Q.isVirtual?o(o({},Y),{query:{index:Q.lowLevelIndex,range:(ae=Y.query.range,Q=Q.keyTail,{type:ae.type===1?2:ae.type,lower:qi(ae.lower,ae.lowerOpen?h.MAX_KEY:h.MIN_KEY,Q),lowerOpen:!0,upper:qi(ae.upper,ae.upperOpen?h.MIN_KEY:h.MAX_KEY,Q),upperOpen:!0})}}):Y}return o(o({},S),{schema:o(o({},O),{primaryKey:v,indexes:A,getIndexByKeyPath:function(Y){return(Y=P[In(Y)])&&Y[0]}}),count:function(Y){return S.count(ie(Y))},query:function(Y){return S.query(ie(Y))},openCursor:function(Y){var ae=Y.query.index,Q=ae.keyTail,te=ae.isVirtual,ne=ae.keyLength;return te?S.openCursor(ie(Y)).then(function(ue){return ue&&oe(ue)}):S.openCursor(Y);function oe(ue){return Object.create(ue,{continue:{value:function(me){me!=null?ue.continue(qi(me,Y.reverse?h.MAX_KEY:h.MIN_KEY,Q)):Y.unique?ue.continue(ue.key.slice(0,ne).concat(Y.reverse?h.MIN_KEY:h.MAX_KEY,Q)):ue.continue()}},continuePrimaryKey:{value:function(me,Se){ue.continuePrimaryKey(qi(me,h.MAX_KEY,Q),Se)}},primaryKey:{get:function(){return ue.primaryKey}},key:{get:function(){var me=ue.key;return ne===1?me[0]:me.slice(0,ne)}},value:{get:function(){return ue.value}}})}}})}})}};function Gs(h,v,S,O){return S=S||{},O=O||"",u(h).forEach(function(P){var A,k,q;y(v,P)?(A=h[P],k=v[P],typeof A=="object"&&typeof k=="object"&&A&&k?(q=Oe(A))!==Oe(k)?S[O+P]=v[P]:q==="Object"?Gs(A,k,S,O+P+"."):A!==k&&(S[O+P]=v[P]):A!==k&&(S[O+P]=v[P])):S[O+P]=void 0}),u(v).forEach(function(P){y(h,P)||(S[O+P]=v[P])}),S}function Vs(h,v){return v.type==="delete"?v.keys:v.keys||v.values.map(h.extractKey)}var Jc={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return o(o({},h),{table:function(v){var S=h.table(v),O=S.schema.primaryKey;return o(o({},S),{mutate:function(P){var A=Ye.trans,k=A.table(v).hook,q=k.deleting,X=k.creating,W=k.updating;switch(P.type){case"add":if(X.fire===Ze)break;return A._promise("readwrite",function(){return ie(P)},!0);case"put":if(X.fire===Ze&&W.fire===Ze)break;return A._promise("readwrite",function(){return ie(P)},!0);case"delete":if(q.fire===Ze)break;return A._promise("readwrite",function(){return ie(P)},!0);case"deleteRange":if(q.fire===Ze)break;return A._promise("readwrite",function(){return(function Y(ae,Q,te){return S.query({trans:ae,values:!1,query:{index:O,range:Q},limit:te}).then(function(ne){var oe=ne.result;return ie({type:"delete",keys:oe,trans:ae}).then(function(ue){return 0<ue.numFailures?Promise.reject(ue.failures[0]):oe.length<te?{failures:[],numFailures:0,lastResult:void 0}:Y(ae,o(o({},Q),{lower:oe[oe.length-1],lowerOpen:!0}),te)})})})(P.trans,P.range,1e4)},!0)}return S.mutate(P);function ie(Y){var ae,Q,te,ne=Ye.trans,oe=Y.keys||Vs(O,Y);if(!oe)throw new Error("Keys missing");return(Y=Y.type==="add"||Y.type==="put"?o(o({},Y),{keys:oe}):o({},Y)).type!=="delete"&&(Y.values=s([],Y.values)),Y.keys&&(Y.keys=s([],Y.keys)),ae=S,te=oe,((Q=Y).type==="add"?Promise.resolve([]):ae.getMany({trans:Q.trans,keys:te,cache:"immutable"})).then(function(ue){var me=oe.map(function(Se,Pe){var ke,Ve,je,Be=ue[Pe],qe={onerror:null,onsuccess:null};return Y.type==="delete"?q.fire.call(qe,Se,Be,ne):Y.type==="add"||Be===void 0?(ke=X.fire.call(qe,Se,Y.values[Pe],ne),Se==null&&ke!=null&&(Y.keys[Pe]=Se=ke,O.outbound||I(Y.values[Pe],O.keyPath,Se))):(ke=Gs(Be,Y.values[Pe]),(Ve=W.fire.call(qe,ke,Se,Be,ne))&&(je=Y.values[Pe],Object.keys(Ve).forEach(function(ze){y(je,ze)?je[ze]=Ve[ze]:I(je,ze,Ve[ze])}))),qe});return S.mutate(Y).then(function(Se){for(var Pe=Se.failures,ke=Se.results,Ve=Se.numFailures,Se=Se.lastResult,je=0;je<oe.length;++je){var Be=(ke||oe)[je],qe=me[je];Be==null?qe.onerror&&qe.onerror(Pe[je]):qe.onsuccess&&qe.onsuccess(Y.type==="put"&&ue[je]?Y.values[je]:Be)}return{failures:Pe,results:ke,numFailures:Ve,lastResult:Se}}).catch(function(Se){return me.forEach(function(Pe){return Pe.onerror&&Pe.onerror(Se)}),Promise.reject(Se)})})}}})}})}};function wu(h,v,S){try{if(!v||v.keys.length<h.length)return null;for(var O=[],P=0,A=0;P<v.keys.length&&A<h.length;++P)st(v.keys[P],h[A])===0&&(O.push(S?Me(v.values[P]):v.values[P]),++A);return O.length===h.length?O:null}catch{return null}}var ed={stack:"dbcore",level:-1,create:function(h){return{table:function(v){var S=h.table(v);return o(o({},S),{getMany:function(O){if(!O.cache)return S.getMany(O);var P=wu(O.keys,O.trans._cache,O.cache==="clone");return P?Le.resolve(P):S.getMany(O).then(function(A){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?Me(A):A},A})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),S.mutate(O)}})}}}};function bo(h,v){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function td(h,v){switch(h){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qh={stack:"dbcore",level:0,name:"Observability",create:function(h){var v=h.schema.name,S=new Zn(h.MIN_KEY,h.MAX_KEY);return o(o({},h),{transaction:function(O,P,A){if(Ye.subscr&&P!=="readonly")throw new Ae.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ye.querier));return h.transaction(O,P,A)},table:function(O){var P=h.table(O),A=P.schema,k=A.primaryKey,Y=A.indexes,q=k.extractKey,X=k.outbound,W=k.autoIncrement&&Y.filter(function(Q){return Q.compound&&Q.keyPath.includes(k.keyPath)}),ie=o(o({},P),{mutate:function(Q){function te(ze){return ze="idb://".concat(v,"/").concat(O,"/").concat(ze),Se[ze]||(Se[ze]=new Zn)}var ne,oe,ue,me=Q.trans,Se=Q.mutatedParts||(Q.mutatedParts={}),Pe=te(""),ke=te(":dels"),Ve=Q.type,qe=Q.type==="deleteRange"?[Q.range]:Q.type==="delete"?[Q.keys]:Q.values.length<50?[Vs(k,Q).filter(function(ze){return ze}),Q.values]:[],je=qe[0],Be=qe[1],qe=Q.trans._cache;return d(je)?(Pe.addKeys(je),(qe=Ve==="delete"||je.length===Be.length?wu(je,qe):null)||ke.addKeys(je),(qe||Be)&&(ne=te,oe=qe,ue=Be,A.indexes.forEach(function(ze){var We=ne(ze.name||"");function lt(vt){return vt!=null?ze.extractKey(vt):null}function pt(vt){return ze.multiEntry&&d(vt)?vt.forEach(function(Jn){return We.addKey(Jn)}):We.addKey(vt)}(oe||ue).forEach(function(vt,jn){var ht=oe&&lt(oe[jn]),jn=ue&&lt(ue[jn]);st(ht,jn)!==0&&(ht!=null&&pt(ht),jn!=null&&pt(jn))})}))):je?(Be={from:(Be=je.lower)!==null&&Be!==void 0?Be:h.MIN_KEY,to:(Be=je.upper)!==null&&Be!==void 0?Be:h.MAX_KEY},ke.add(Be),Pe.add(Be)):(Pe.add(S),ke.add(S),A.indexes.forEach(function(ze){return te(ze.name).add(S)})),P.mutate(Q).then(function(ze){return!je||Q.type!=="add"&&Q.type!=="put"||(Pe.addKeys(ze.results),W&&W.forEach(function(We){for(var lt=Q.values.map(function(ht){return We.extractKey(ht)}),pt=We.keyPath.findIndex(function(ht){return ht===k.keyPath}),vt=0,Jn=ze.results.length;vt<Jn;++vt)lt[vt][pt]=ze.results[vt];te(We.name).addKeys(lt)})),me.mutatedParts=Hs(me.mutatedParts||{},Se),ze})}}),Y=function(te){var ne=te.query,te=ne.index,ne=ne.range;return[te,new Zn((te=ne.lower)!==null&&te!==void 0?te:h.MIN_KEY,(ne=ne.upper)!==null&&ne!==void 0?ne:h.MAX_KEY)]},ae={get:function(Q){return[k,new Zn(Q.key)]},getMany:function(Q){return[k,new Zn().addKeys(Q.keys)]},count:Y,query:Y,openCursor:Y};return u(ae).forEach(function(Q){ie[Q]=function(te){var ne=Ye.subscr,oe=!!ne,ue=bo(Ye,P)&&td(Q,te)?te.obsSet={}:ne;if(oe){var me=function(Be){return Be="idb://".concat(v,"/").concat(O,"/").concat(Be),ue[Be]||(ue[Be]=new Zn)},Se=me(""),Pe=me(":dels"),ne=ae[Q](te),oe=ne[0],ne=ne[1];if((Q==="query"&&oe.isPrimaryKey&&!te.values?Pe:me(oe.name||"")).add(ne),!oe.isPrimaryKey){if(Q!=="count"){var ke=Q==="query"&&X&&te.values&&P.query(o(o({},te),{values:!1}));return P[Q].apply(this,arguments).then(function(Be){if(Q==="query"){if(X&&te.values)return ke.then(function(lt){return lt=lt.result,Se.addKeys(lt),Be});var qe=te.values?Be.result.map(q):Be.result;(te.values?Se:Pe).addKeys(qe)}else if(Q==="openCursor"){var ze=Be,We=te.values;return ze&&Object.create(ze,{key:{get:function(){return Pe.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var lt=ze.primaryKey;return Pe.addKey(lt),lt}},value:{get:function(){return We&&Se.addKey(ze.primaryKey),ze.value}}})}return Be})}Pe.add(S)}}return P[Q].apply(this,arguments)}}),ie}})}};function nd(h,v,S){if(S.numFailures===0)return v;if(v.type==="deleteRange")return null;var O=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return S.numFailures===O?null:(v=o({},v),d(v.keys)&&(v.keys=v.keys.filter(function(P,A){return!(A in S.failures)})),"values"in v&&d(v.values)&&(v.values=v.values.filter(function(P,A){return!(A in S.failures)})),v)}function Ys(h,v){return S=h,((O=v).lower===void 0||(O.lowerOpen?0<st(S,O.lower):0<=st(S,O.lower)))&&(h=h,(v=v).upper===void 0||(v.upperOpen?st(h,v.upper)<0:st(h,v.upper)<=0));var S,O}function Su(h,v,ae,O,P,A){if(!ae||ae.length===0)return h;var k=v.query.index,q=k.multiEntry,X=v.query.range,W=O.schema.primaryKey.extractKey,ie=k.extractKey,Y=(k.lowLevelIndex||k).extractKey,ae=ae.reduce(function(Q,te){var ne=Q,oe=[];if(te.type==="add"||te.type==="put")for(var ue=new Zn,me=te.values.length-1;0<=me;--me){var Se,Pe=te.values[me],ke=W(Pe);ue.hasKey(ke)||(Se=ie(Pe),(q&&d(Se)?Se.some(function(ze){return Ys(ze,X)}):Ys(Se,X))&&(ue.addKey(ke),oe.push(Pe)))}switch(te.type){case"add":var Ve=new Zn().addKeys(v.values?Q.map(function(We){return W(We)}):Q),ne=Q.concat(v.values?oe.filter(function(We){return We=W(We),!Ve.hasKey(We)&&(Ve.addKey(We),!0)}):oe.map(function(We){return W(We)}).filter(function(We){return!Ve.hasKey(We)&&(Ve.addKey(We),!0)}));break;case"put":var je=new Zn().addKeys(te.values.map(function(We){return W(We)}));ne=Q.filter(function(We){return!je.hasKey(v.values?W(We):We)}).concat(v.values?oe:oe.map(function(We){return W(We)}));break;case"delete":var Be=new Zn().addKeys(te.keys);ne=Q.filter(function(We){return!Be.hasKey(v.values?W(We):We)});break;case"deleteRange":var qe=te.range;ne=Q.filter(function(We){return!Ys(W(We),qe)})}return ne},h);return ae===h?h:(ae.sort(function(Q,te){return st(Y(Q),Y(te))||st(W(Q),W(te))}),v.limit&&v.limit<1/0&&(ae.length>v.limit?ae.length=v.limit:h.length===v.limit&&ae.length<v.limit&&(P.dirty=!0)),A?Object.freeze(ae):ae)}function na(h,v){return st(h.lower,v.lower)===0&&st(h.upper,v.upper)===0&&!!h.lowerOpen==!!v.lowerOpen&&!!h.upperOpen==!!v.upperOpen}function Qa(h,v){return(function(S,O,P,A){if(S===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=st(S,O))===0){if(P&&A)return 0;if(P)return 1;if(A)return-1}return O})(h.lower,v.lower,h.lowerOpen,v.lowerOpen)<=0&&0<=(function(S,O,P,A){if(S===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=st(S,O))===0){if(P&&A)return 0;if(P)return-1;if(A)return 1}return O})(h.upper,v.upper,h.upperOpen,v.upperOpen)}function Gh(h,v,S,O){h.subscribers.add(S),O.addEventListener("abort",function(){var P,A;h.subscribers.delete(S),h.subscribers.size===0&&(P=h,A=v,setTimeout(function(){P.subscribers.size===0&&K(A,P)},3e3))})}var Ks={stack:"dbcore",level:0,name:"Cache",create:function(h){var v=h.schema.name;return o(o({},h),{transaction:function(S,O,P){var A,k,q=h.transaction(S,O,P);return O==="readwrite"&&(k=(A=new AbortController).signal,P=function(X){return function(){if(A.abort(),O==="readwrite"){for(var W=new Set,ie=0,Y=S;ie<Y.length;ie++){var ae=Y[ie],Q=vo["idb://".concat(v,"/").concat(ae)];if(Q){var te=h.table(ae),ne=Q.optimisticOps.filter(function(We){return We.trans===q});if(q._explicit&&X&&q.mutatedParts)for(var oe=0,ue=Object.values(Q.queries.query);oe<ue.length;oe++)for(var me=0,Se=(Ve=ue[oe]).slice();me<Se.length;me++)yu((je=Se[me]).obsSet,q.mutatedParts)&&(K(Ve,je),je.subscribers.forEach(function(We){return W.add(We)}));else if(0<ne.length){Q.optimisticOps=Q.optimisticOps.filter(function(We){return We.trans!==q});for(var Pe=0,ke=Object.values(Q.queries.query);Pe<ke.length;Pe++)for(var Ve,je,Be,qe=0,ze=(Ve=ke[Pe]).slice();qe<ze.length;qe++)(je=ze[qe]).res!=null&&q.mutatedParts&&(X&&!je.dirty?(Be=Object.isFrozen(je.res),Be=Su(je.res,je.req,ne,te,je,Be),je.dirty?(K(Ve,je),je.subscribers.forEach(function(We){return W.add(We)})):Be!==je.res&&(je.res=Be,je.promise=Le.resolve({result:Be}))):(je.dirty&&K(Ve,je),je.subscribers.forEach(function(We){return W.add(We)})))}}}W.forEach(function(We){return We()})}}},q.addEventListener("abort",P(!1),{signal:k}),q.addEventListener("error",P(!1),{signal:k}),q.addEventListener("complete",P(!0),{signal:k})),q},table:function(S){var O=h.table(S),P=O.schema.primaryKey;return o(o({},O),{mutate:function(A){var k=Ye.trans;if(P.outbound||k.db._options.cache==="disabled"||k.explicit||k.idbtrans.mode!=="readwrite")return O.mutate(A);var q=vo["idb://".concat(v,"/").concat(S)];return q?(k=O.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||Vs(P,A).some(function(X){return X==null}))?(q.optimisticOps.push(A),A.mutatedParts&&qs(A.mutatedParts),k.then(function(X){0<X.numFailures&&(K(q.optimisticOps,A),(X=nd(0,A,X))&&q.optimisticOps.push(X),A.mutatedParts&&qs(A.mutatedParts))}),k.catch(function(){K(q.optimisticOps,A),A.mutatedParts&&qs(A.mutatedParts)})):k.then(function(X){var W=nd(0,o(o({},A),{values:A.values.map(function(ie,Y){var ae;return X.failures[Y]?ie:(ie=(ae=P.keyPath)!==null&&ae!==void 0&&ae.includes(".")?Me(ie):o({},ie),I(ie,P.keyPath,X.results[Y]),ie)})}),X);q.optimisticOps.push(W),queueMicrotask(function(){return A.mutatedParts&&qs(A.mutatedParts)})}),k):O.mutate(A)},query:function(A){if(!bo(Ye,O)||!td("query",A))return O.query(A);var k=((W=Ye.trans)===null||W===void 0?void 0:W.db._options.cache)==="immutable",Y=Ye,q=Y.requery,X=Y.signal,W=(function(te,ne,oe,ue){var me=vo["idb://".concat(te,"/").concat(ne)];if(!me)return[];if(!(ne=me.queries[oe]))return[null,!1,me,null];var Se=ne[(ue.query?ue.query.index.name:null)||""];if(!Se)return[null,!1,me,null];switch(oe){case"query":var Pe=Se.find(function(ke){return ke.req.limit===ue.limit&&ke.req.values===ue.values&&na(ke.req.query.range,ue.query.range)});return Pe?[Pe,!0,me,Se]:[Se.find(function(ke){return("limit"in ke.req?ke.req.limit:1/0)>=ue.limit&&(!ue.values||ke.req.values)&&Qa(ke.req.query.range,ue.query.range)}),!1,me,Se];case"count":return Pe=Se.find(function(ke){return na(ke.req.query.range,ue.query.range)}),[Pe,!!Pe,me,Se]}})(v,S,"query",A),ie=W[0],Y=W[1],ae=W[2],Q=W[3];return ie&&Y?ie.obsSet=A.obsSet:(Y=O.query(A).then(function(te){var ne=te.result;if(ie&&(ie.res=ne),k){for(var oe=0,ue=ne.length;oe<ue;++oe)Object.freeze(ne[oe]);Object.freeze(ne)}else te.result=Me(ne);return te}).catch(function(te){return Q&&ie&&K(Q,ie),Promise.reject(te)}),ie={obsSet:A.obsSet,promise:Y,subscribers:new Set,type:"query",req:A,dirty:!1},Q?Q.push(ie):(Q=[ie],(ae=ae||(vo["idb://".concat(v,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=Q)),Gh(ie,Q,q,X),ie.promise.then(function(te){return{result:Su(te.result,A,ae?.optimisticOps,O,ie,k)}})}})}})}};function Za(h,v){return new Proxy(h,{get:function(S,O,P){return O==="db"?v:Reflect.get(S,O,P)}})}var si=(fn.prototype.version=function(h){if(isNaN(h)||h<.1)throw new Ae.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new Ae.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var v=this._versions,S=v.filter(function(O){return O._cfg.version===h})[0];return S||(S=new this.Version(h),v.push(S),v.sort(du),S.stores({}),this._state.autoSchema=!1,S)},fn.prototype._whenReady=function(h){var v=this;return this.idbdb&&(this._state.openComplete||Ye.letThrough||this._vip)?h():new Le(function(S,O){if(v._state.openComplete)return O(new Ae.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void O(new Ae.DatabaseClosed);v.open().catch(Ze)}v._state.dbReadyPromise.then(S,O)}).then(h)},fn.prototype.use=function(h){var v=h.stack,S=h.create,O=h.level,P=h.name;return P&&this.unuse({stack:v,name:P}),h=this._middlewares[v]||(this._middlewares[v]=[]),h.push({stack:v,create:S,level:O??10,name:P}),h.sort(function(A,k){return A.level-k.level}),this},fn.prototype.unuse=function(h){var v=h.stack,S=h.name,O=h.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(P){return O?P.create!==O:!!S&&P.name!==S})),this},fn.prototype.open=function(){var h=this;return kt(Cn,function(){return $h(h)})},fn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var h=this._state,v=Kn.indexOf(this);if(0<=v&&Kn.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Le(function(S){h.dbReadyResolve=S}),h.openCanceller=new Le(function(S,O){h.cancelOpen=O}))},fn.prototype.close=function(S){var v=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;v?(S.isBeingOpened&&S.cancelOpen(new Ae.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new Ae.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},fn.prototype.delete=function(h){var v=this;h===void 0&&(h={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new Le(function(P,A){function k(){v.close(h);var q=v._deps.indexedDB.deleteDatabase(v.name);q.onsuccess=$(function(){var X,W,ie;X=v._deps,W=v.name,ie=X.indexedDB,X=X.IDBKeyRange,Us(ie)||W===Xn||hu(ie,X).delete(W).catch(Ze),P()}),q.onerror=qr(A),q.onblocked=v._fireOnBlocked}if(S)throw new Ae.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(k):k()})},fn.prototype.backendDB=function(){return this.idbdb},fn.prototype.isOpen=function(){return this.idbdb!==null},fn.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},fn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},fn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(fn.prototype,"tables",{get:function(){var h=this;return u(this._allTables).map(function(v){return h._allTables[v]})},enumerable:!1,configurable:!0}),fn.prototype.transaction=function(){var h=(function(v,S,O){var P=arguments.length;if(P<2)throw new Ae.InvalidArgument("Too few arguments");for(var A=new Array(P-1);--P;)A[P-1]=arguments[P];return O=A.pop(),[v,he(A),O]}).apply(this,arguments);return this._transaction.apply(this,h)},fn.prototype._transaction=function(h,v,S){var O=this,P=Ye.trans;P&&P.db===this&&h.indexOf("!")===-1||(P=null);var A,k,q=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(k=v.map(function(W){if(W=W instanceof O.Table?W.name:W,typeof W!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return W}),h=="r"||h===wr)A=wr;else{if(h!="rw"&&h!=cr)throw new Ae.InvalidArgument("Invalid transaction mode: "+h);A=cr}if(P){if(P.mode===wr&&A===cr){if(!q)throw new Ae.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&k.forEach(function(W){if(P&&P.storeNames.indexOf(W)===-1){if(!q)throw new Ae.SubTransaction("Table "+W+" not included in parent transaction.");P=null}}),q&&P&&!P.active&&(P=null)}}catch(W){return P?P._promise(null,function(ie,Y){Y(W)}):at(W)}var X=(function W(ie,Y,ae,Q,te){return Le.resolve().then(function(){var ne=Ye.transless||Ye,oe=ie._createTransaction(Y,ae,ie._dbSchema,Q);if(oe.explicit=!0,ne={trans:oe,transless:ne},Q)oe.idbtrans=Q.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,ie._state.PR1398_maxLoop=3}catch(Se){return Se.name===nt.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return W(ie,Y,ae,null,te)})):at(Se)}var ue,me=H(te);return me&&Ke(),ne=Le.follow(function(){var Se;(ue=te.call(oe,oe))&&(me?(Se=Qe.bind(null,null),ue.then(Se,Se)):typeof ue.next=="function"&&typeof ue.throw=="function"&&(ue=Wa(ue)))},ne),(ue&&typeof ue.then=="function"?Le.resolve(ue).then(function(Se){return oe.active?Se:at(new Ae.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ne.then(function(){return ue})).then(function(Se){return Q&&oe._resolve(),oe._completion.then(function(){return Se})}).catch(function(Se){return oe._reject(Se),at(Se)})})}).bind(null,this,A,k,P,S);return P?P._promise(A,X,"lock"):Ye.trans?kt(Ye.transless,function(){return O._whenReady(X)}):this._whenReady(X)},fn.prototype.table=function(h){if(!y(this._allTables,h))throw new Ae.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},fn);function fn(h,v){var S=this;this._middlewares={},this.verno=0;var O=fn.dependencies;this._options=v=o({addons:fn.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},O=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,A,k,q,X,W={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ze,dbReadyPromise:null,cancelOpen:Ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};W.dbReadyPromise=new Le(function(Y){W.dbReadyResolve=Y}),W.openCanceller=new Le(function(Y,ae){W.cancelOpen=ae}),this._state=W,this.name=h,this.on=Ha(this,"populate","blocked","versionchange","close",{ready:[En,Ze]}),this.once=function(Y,ae){var Q=function(){for(var te=[],ne=0;ne<arguments.length;ne++)te[ne]=arguments[ne];S.on(Y).unsubscribe(Q),ae.apply(S,te)};return S.on(Y,Q)},this.on.ready.subscribe=j(this.on.ready.subscribe,function(Y){return function(ae,Q){fn.vip(function(){var te,ne=S._state;ne.openComplete?(ne.dbOpenError||Le.resolve().then(ae),Q&&Y(ae)):ne.onReadyBeingFired?(ne.onReadyBeingFired.push(ae),Q&&Y(ae)):(Y(ae),te=S,Q||Y(function oe(){te.on.ready.unsubscribe(ae),te.on.ready.unsubscribe(oe)}))})}}),this.Collection=(P=this,Wn(kh.prototype,function(ue,oe){this.db=P;var Q=Ui,te=null;if(oe)try{Q=oe()}catch(me){te=me}var ne=ue._ctx,oe=ne.table,ue=oe.hook.reading.fire;this._ctx={table:oe,index:ne.index,isPrimKey:!ne.index||oe.schema.primKey.keyPath&&ne.index===oe.schema.primKey.name,range:Q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:te,or:ne.or,valueMapper:ue!==ft?ue:null}})),this.Table=(A=this,Wn(au.prototype,function(Y,ae,Q){this.db=A,this._tx=Q,this.name=Y,this.schema=ae,this.hook=A._allTables[Y]?A._allTables[Y].hook:Ha(null,{creating:[gn,Ze],reading:[$t,ft],updating:[Yn,Ze],deleting:[yr,Ze]})})),this.Transaction=(k=this,Wn(cu.prototype,function(Y,ae,Q,te,ne){var oe=this;Y!=="readonly"&&ae.forEach(function(ue){ue=(ue=Q[ue])===null||ue===void 0?void 0:ue.yProps,ue&&(ae=ae.concat(ue.map(function(me){return me.updatesTable})))}),this.db=k,this.mode=Y,this.storeNames=ae,this.schema=Q,this.chromeTransactionDurability=te,this.idbtrans=null,this.on=Ha(this,"complete","error","abort"),this.parent=ne||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Le(function(ue,me){oe._resolve=ue,oe._reject=me}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(ue){var me=oe.active;return oe.active=!1,oe.on.error.fire(ue),oe.parent?oe.parent._reject(ue):me&&oe.idbtrans&&oe.idbtrans.abort(),at(ue)})})),this.Version=(q=this,Wn(Uh.prototype,function(Y){this.db=q,this._cfg={version:Y,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(X=this,Wn(ho.prototype,function(Y,ae,Q){if(this.db=X,this._ctx={table:Y,index:ae===":id"?null:ae,or:Q},this._cmp=this._ascending=st,this._descending=function(te,ne){return st(ne,te)},this._max=function(te,ne){return 0<st(te,ne)?te:ne},this._min=function(te,ne){return st(te,ne)<0?te:ne},this._IDBKeyRange=X._deps.IDBKeyRange,!this._IDBKeyRange)throw new Ae.MissingAPI})),this.on("versionchange",function(Y){0<Y.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(Y){!Y.newVersion||Y.newVersion<Y.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(Y.oldVersion/10))}),this._maxKey=Zo(v.IDBKeyRange),this._createTransaction=function(Y,ae,Q,te){return new S.Transaction(Y,ae,Q,S._options.chromeTransactionDurability,te)},this._fireOnBlocked=function(Y){S.on("blocked").fire(Y),Kn.filter(function(ae){return ae.name===S.name&&ae!==S&&!ae._state.vcFired}).map(function(ae){return ae.on("versionchange").fire(Y)})},this.use(ed),this.use(Ks),this.use(qh),this.use(Hh),this.use(Jc);var ie=new Proxy(this,{get:function(Y,ae,Q){if(ae==="_vip")return!0;if(ae==="table")return function(ne){return Za(S.table(ne),ie)};var te=Reflect.get(Y,ae,Q);return te instanceof au?Za(te,ie):ae==="tables"?te.map(function(ne){return Za(ne,ie)}):ae==="_createTransaction"?function(){return Za(te.apply(this,arguments),ie)}:te}});this.vip=ie,O.forEach(function(Y){return Y(S)})}var ra,Cr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",rd=(Xs.prototype.subscribe=function(h,v,S){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:v,complete:S})},Xs.prototype[Cr]=function(){return this},Xs);function Xs(h){this._subscribe=h}try{ra={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{ra={indexedDB:null,IDBKeyRange:null}}function id(h){var v,S=!1,O=new rd(function(P){var A=H(h),k,q=!1,X={},W={},ie={get closed(){return q},unsubscribe:function(){q||(q=!0,k&&k.abort(),Y&&Qn.storagemutated.unsubscribe(Q))}};P.start&&P.start(ie);var Y=!1,ae=function(){return on(te)},Q=function(ne){Hs(X,ne),yu(W,X)&&ae()},te=function(){var ne,oe,ue;!q&&ra.indexedDB&&(X={},ne={},k&&k.abort(),k=new AbortController,ue=(function(me){var Se=br();try{A&&Ke();var Pe=$e(h,me);return Pe=A?Pe.finally(Qe):Pe}finally{Se&&xr()}})(oe={subscr:ne,signal:k.signal,requery:ae,querier:h,trans:null}),Promise.resolve(ue).then(function(me){S=!0,v=me,q||oe.signal.aborted||(X={},(function(Se){for(var Pe in Se)if(y(Se,Pe))return;return 1})(W=ne)||Y||(Qn(Wo,Q),Y=!0),on(function(){return!q&&P.next&&P.next(me)}))},function(me){S=!1,["DatabaseClosedError","AbortError"].includes(me?.name)||q||on(function(){q||P.error&&P.error(me)})}))};return setTimeout(ae,0),ie});return O.hasValue=function(){return S},O.getValue=function(){return v},O}var xo=si;function Cu(h){var v=Gi;try{Gi=!0,Qn.storagemutated.fire(h),xu(h,!0)}finally{Gi=v}}x(xo,o(o({},sn),{delete:function(h){return new xo(h,{addons:[]}).delete()},exists:function(h){return new xo(h,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return v=xo.dependencies,S=v.indexedDB,v=v.IDBKeyRange,(Us(S)?Promise.resolve(S.databases()).then(function(O){return O.map(function(P){return P.name}).filter(function(P){return P!==Xn})}):hu(S,v).toCollection().primaryKeys()).then(h)}catch{return at(new Ae.MissingAPI)}var v,S},defineClass:function(){return function(h){f(this,h)}},ignoreTransaction:function(h){return Ye.trans?kt(Ye.transless,h):h()},vip:pu,async:function(h){return function(){try{var v=Wa(h.apply(this,arguments));return v&&typeof v.then=="function"?v:Le.resolve(v)}catch(S){return at(S)}}},spawn:function(h,v,S){try{var O=Wa(h.apply(S,v||[]));return O&&typeof O.then=="function"?O:Le.resolve(O)}catch(P){return at(P)}},currentTransaction:{get:function(){return Ye.trans||null}},waitFor:function(h,v){return v=Le.resolve(typeof h=="function"?xo.ignoreTransaction(h):h).timeout(v||6e4),Ye.trans?Ye.trans.waitFor(v):v},Promise:Le,debug:{get:function(){return ln},set:function(h){wn(h)}},derive:E,extend:f,props:x,override:j,Events:Ha,on:Qn,liveQuery:id,extendObservabilitySet:Hs,getByKeyPath:U,setByKeyPath:I,delByKeyPath:function(h,v){typeof v=="string"?I(h,v,void 0):"length"in v&&[].map.call(v,function(S){I(h,S,void 0)})},shallowClone:G,deepClone:Me,getObjectDiff:Gs,cmp:st,asap:F,minKey:-1/0,addons:[],connections:Kn,errnames:nt,dependencies:ra,cache:vo,semVer:"4.2.1",version:"4.2.1".split(".").map(function(h){return parseInt(h)}).reduce(function(h,v,S){return h+v/Math.pow(10,2*S)})})),xo.maxKey=Zo(xo.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Qn(Wo,function(h){Gi||(h=new CustomEvent(mo,{detail:h}),Gi=!0,dispatchEvent(h),Gi=!1)}),addEventListener(mo,function(h){h=h.detail,Gi||Cu(h)}));var ia,Gi=!1,fr=function(){};return typeof BroadcastChannel<"u"&&((fr=function(){(ia=new BroadcastChannel(mo)).onmessage=function(h){return h.data&&Cu(h.data)}})(),typeof ia.unref=="function"&&ia.unref(),Qn(Wo,function(h){Gi||ia.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!si.disableBfCache&&h.persisted){ln&&console.debug("Dexie: handling persisted pagehide"),ia?.close();for(var v=0,S=Kn;v<S.length;v++)S[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!si.disableBfCache&&h.persisted&&(ln&&console.debug("Dexie: handling persisted pageshow"),fr(),Cu({all:new Zn(-1/0,[[]])}))})),Le.rejectionMapper=function(h,v){return!h||h instanceof we||h instanceof TypeError||h instanceof SyntaxError||!h.name||!Zt[h.name]?h:(v=new Zt[h.name](v||h.message,h),"stack"in h&&_(v,"stack",{get:function(){return this.inner.stack}}),v)},wn(ln),o(si,Object.freeze({__proto__:null,Dexie:si,liveQuery:id,Entity:Mt,cmp:st,PropModification:Hr,replacePrefix:function(h,v){return new Hr({replacePrefix:[h,v]})},add:function(h){return new Hr({add:h})},remove:function(h){return new Hr({remove:h})},default:si,RangeSet:Zn,mergeRanges:yo,rangesOverlap:Wc}),{default:si}),si})})(Df)),Df.exports}var II=NI();const zg=Xf(II),o1=Symbol.for("Dexie"),Ul=globalThis[o1]||(globalThis[o1]=zg);if(zg.semVer!==Ul.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${zg.semVer} and ${Ul.semVer}`);const{liveQuery:OL,mergeRanges:ML,rangesOverlap:TL,RangeSet:PL,cmp:RL,Entity:DL,PropModification:AL,replacePrefix:NL,add:IL,remove:jL,DexieYProvider:zL}=Ul;function jI(e,t,r){var o,s;typeof e=="function"?(o=t||[],s=r):(o=[],s=t);var l=Qi.useRef({hasResult:!1,result:s,error:null}),u=Qi.useReducer(function(p){return p+1},0);u[0];var d=u[1],f=Qi.useMemo(function(){var p=typeof e=="function"?e():e;if(!p||typeof p.subscribe!="function")throw e===p?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!l.current.hasResult&&typeof window<"u"&&(typeof p.hasValue!="function"||p.hasValue()))if(typeof p.getValue=="function")l.current.result=p.getValue(),l.current.hasResult=!0;else{var g=p.subscribe(function(y){l.current.result=y,l.current.hasResult=!0});typeof g=="function"?g():g.unsubscribe()}return p},o);if(Qi.useDebugValue(l.current.result),Qi.useEffect(function(){var p=f.subscribe(function(g){var y=l.current;(y.error!==null||y.result!==g)&&(y.error=null,y.result=g,y.hasResult=!0,d())},function(g){var y=l.current;y.error!==g&&(y.error=g,d())});return typeof p=="function"?p:p.unsubscribe.bind(p)},o),l.current.error)throw l.current.error;return l.current.result}function $f(e,t,r){return jI(function(){return Ul.liveQuery(e)},t||[],r)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=Ul.DexieYProvider;t&&t.release(e)});class zI extends Ul{population_point;tour;parish;block;building;plate;recognition_code_info;syncState;lookups;constructor(){super("DehyarDB"),this.version(4).stores({population_point:"id, population_point_id",tour:"id, population_point_id",parish:"id, population_point_id",block:"id, population_point_id",building:"id, population_point_id",plate:"id, building_id, population_point_id",recognition_code_info:"id, plate_id, building_id",syncState:"layerName",lookups:"[tableName+id], tableName"})}}const tr=new zI,mf={building:[{fieldKey:"building_name",inputType:"text"},{fieldKey:"floor_count",inputType:"text"},{fieldKey:"building_type_id",inputType:"select",lookupTable:"building_type",lookupLabel:"name",lookupValue:"id"}],recognition_code_info:[{fieldKey:"part_row_no",inputType:"text"},{fieldKey:"floor_no",inputType:"text"},{fieldKey:"unit_no",inputType:"text"},{fieldKey:"description",inputType:"text"},{fieldKey:"first_name",inputType:"text"},{fieldKey:"last_name",inputType:"text"},{fieldKey:"workshop_name",inputType:"text"},{fieldKey:"unit_status_id",inputType:"select",lookupTable:"unit_status",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id1",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id2",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id3",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"}],plate:[{fieldKey:"plate_no",inputType:"text"}],parish:[{fieldKey:"name",inputType:"text"}],population_point:[{fieldKey:"population_point_type_id",inputType:"select",lookupTable:"population_point_type",lookupLabel:"name",lookupValue:"id"}]},gf=(e,t)=>{let r=`?$filter=population_point_id eq ${e} and geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},oo=[{id:"population_point",label:" ",endpoint:"/editor/tables/population_point/rows",tableName:"population_point",zIndex:10,getQuery:(e,t)=>{let r=`?$filter=id eq ${e}`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},styles:[{type:"fill",paint:{"fill-color":"#3C79F5","fill-opacity":.15}},{type:"line",paint:{"line-color":"#3C79F5","line-width":3}},{type:"symbol",layout:{"text-field":["format","  ",{},["get","name"],{}],"text-size":14,"text-anchor":"center","text-font":["IranSans-Noto"]},paint:{"text-color":"#3C79F5","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"tour",label:"",endpoint:"/editor/tables/block/rows",tableName:"tour",zIndex:20,getQuery:(e,t)=>{let r=`?$filter=population_point_id eq ${e} and geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$expand=tour(id|tour_id)",r+="&$orderby=updated_at desc",r},injectVillageId:!0,transformResponse:e=>{const t=new Map;return e.forEach(r=>{r.tour&&t.set(r.tour.id,r.tour)}),Array.from(t.values())},styles:[{type:"fill",paint:{"fill-color":"#372C32","fill-opacity":.2}},{type:"line",paint:{"line-color":"#372C32","line-width":2}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#372C32","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"parish",label:"",endpoint:"/editor/tables/parish/rows",tableName:"parish",zIndex:30,getQuery:gf,styles:[{type:"fill",paint:{"fill-color":"#d87193","fill-opacity":.2}},{type:"line",paint:{"line-color":"#d87193","line-width":1}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#d87193","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"block",label:"",endpoint:"/editor/tables/block/rows",tableName:"block",zIndex:40,getQuery:gf,styles:[{type:"fill",paint:{"fill-color":"#fd7e14","fill-opacity":.15}},{type:"line",paint:{"line-color":"#fd7e14","line-width":1,"line-dasharray":[2,2]}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#fd7e14","text-halo-color":"#ffffff","text-halo-width":1.5}}]},{id:"passages",label:" ",endpoint:"",tableName:"block",isDisabled:!0,zIndex:50,getQuery:gf,styles:[{type:"line",paint:{"line-color":"#868e96"}}]},{id:"building",label:"",endpoint:"/editor/tables/building/rows",tableName:"building",zIndex:60,getQuery:gf,styles:[{type:"fill",paint:{"fill-color":"#729dec","fill-opacity":.4,"fill-outline-color":"#4dabf7"}},{type:"symbol",minzoom:16,layout:{"text-field":["get","building_number"],"text-size":11,"text-font":["IranSans-Noto"]},paint:{"text-color":"#1864ab","text-halo-color":"#ffffff","text-halo-width":1}}]},{id:"plate",label:"",endpoint:"/editor/tables/plate/rows",tableName:"plate",zIndex:70,getQuery:(e,t)=>{let r=`?$filter=building.population_point_id eq ${e} and plate_geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},transformResponse:e=>e.map(t=>{const{building:r,...o}=t;return{...o,geometry:t.plate_geometry}}),injectVillageId:!0,styles:[{type:"circle",paint:{"circle-radius":5,"circle-color":"#4A4E4A","circle-stroke-width":1,"circle-stroke-color":"#ffffff"}},{type:"symbol",minzoom:17,layout:{"text-field":["get","plate_name"],"text-size":10,"text-offset":[0,1.2],"text-anchor":"top","text-font":["IranSans-Noto"]},paint:{"text-color":"#4A4E4A","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"recognition_code_info",label:" ",endpoint:"/editor/tables/recognition_code_info/rows",tableName:"recognition_code_info",isDataOnly:!0,zIndex:0,getQuery:(e,t)=>{const r=[`building.population_point_id eq ${e}`];return t&&r.push(`updated_at gt '${t.split(" ")[0]}'`),`?$orderby=updated_at desc&$filter=${r.join(" and ")}&$expand=building(id|building_id)`},styles:[]}],Lg={name:"",population_point:" ",population_point_id:" ",plate_no:" ",building_number:" ",floor_count:" ",usage:"",updated_at:" ",created_at:" ",deleted_at:" ",is_rural:" ",code:"",unit_no:" ",floor_no:"",first_name:"",last_name:" ",postalcode:" ",action_name:" ",workshop_name:" ",description:"",unit_status_id:" ",poi_type_id:" ",post_id:" ",nationa_code:" ",province_id:"",county_id:"",zone_id:"",population_point_type_id:"  ",rural_id:"",en_name:" ",grid_code:" ",opt_approval:"  ",rural_name_full:"  ",rural_id_full:"  ",tour_type:" ",is_active:"",area:"",parish_type:" ",tour_id:"",part_id:"",block_id:"",parish_id:"",building_type_id:" ",gnaf_code:" ",building_name:" ",modernization_code:"  ",dg_approval:" ",task_id:"",is_negative:" ",address_id:"",old_plate_no:"  ",plate_name:" ",act_type_id1:"  ()",act_type_id2:"  ()",act_type_id3:"  ()"};function LI({onClose:e,resetDependency:t}){const[r,o]=C.useState(!1),s=C.useRef(0);return C.useEffect(()=>{o(!1)},[t]),{isExpanded:r,toggleExpand:()=>o(f=>!f),touchHandlers:{onTouchStart:f=>{s.current=f.touches[0].clientY},onTouchEnd:f=>{const g=f.changedTouches[0].clientY-s.current,y=40;g<-y?o(!0):g>y&&(r?o(!1):e())}}}}function FI({onClick:e,...t}){return D.jsx(Ec,{mb:"sm",style:{cursor:"pointer",touchAction:"none",paddingBottom:"8px"},onClick:e,...t,children:D.jsx(Ge,{w:40,h:5,bg:"gray.4",style:{borderRadius:10}})})}function kI(e){const t=$f(async()=>e?oo.some(o=>o.tableName===e)?await tr[e].toArray():await tr.lookups.where("tableName").equals(e).toArray():[],[e]);return{data:t,isLoading:t===void 0,isError:!1}}function a1({config:e,name:t,defaultValue:r,label:o,readOnly:s,...l}){const{data:u,isLoading:d,isError:f}=kI(e.lookupTable),p=e.lookupLabel||"name",g=e.lookupValue||"id",y=u&&u.length>0?p in u[0]:!0,x=u?.map(R=>({value:String(R[g]),label:String(R[p]??R[g])}))||[],w=o||Lg[e.fieldKey]||e.fieldKey,_=r!=null?String(r):null,E=x.find(R=>R.value===_),T=!y||!E&&_?` ${w}`:w;if(s||u&&u.length>0&&!y){const R=E?E.label:_||"---";return D.jsx(Bl,{name:t,label:T,value:R,readOnly:!0,variant:"filled",rightSection:d?D.jsx(ja,{size:"xs"}):null,error:void 0})}return D.jsx(av,{name:t,label:T,placeholder:d?"  ...":` ${w}`,data:x,defaultValue:_,searchable:!0,clearable:!0,disabled:d||f,rightSection:d?D.jsx(ja,{size:"xs"}):null,error:void 0,nothingFoundMessage:"  ",...l})}const BI=new Set(["id","deleted_at","geometry_updated_at","dg_approval","dundas_map_id","geometry","geocoded_point","plate_geometry","attachment","subs","available_parts","plate_id","building_id","address_id","relations"]),s1=e=>!BI.has(e),l1=e=>e==null||e===""?"---":typeof e=="boolean"?e?"":"":String(e),u1=e=>e.replace(/_id\d*$/,"");function UI({properties:e,onClose:t,onStartDrawing:r}){const{entityType:o,id:s}=e||{},{isOffline:l}=Rs(),[u,d]=C.useState(!1),[f,p]=C.useState(!1),g=C.useRef(!1),{isExpanded:y,toggleExpand:x,touchHandlers:w}=LI({onClose:()=>N(!0),resetDependency:s}),_=$f(()=>{if(!o||!s)return;const U=oo.find(I=>I.id===o);if(U)return tr[U.tableName].get(Number(s))},[o,s]),E=_?"plate_no"in _:!1,T=$f(()=>E&&_?.id?tr.recognition_code_info.where("plate_id").equals(_.id).toArray():[],[_,E]),N=(U=!1)=>{if(u){if(g.current&&!window.confirm("  .   "))return;d(!1),g.current=!1}(!u||U)&&t()},R=()=>{d(!0),g.current=!1,y||x()},j=async U=>{U.preventDefault(),p(!0);try{const I={},G={},le=new Set(mf[o]?.map(pe=>pe.fieldKey)||[]),he=new Set(mf.recognition_code_info?.map(pe=>pe.fieldKey)||[]),ve=Array.from(U.currentTarget.elements);for(const pe of ve){if(!pe.name||pe.type==="submit"||pe.type==="button")continue;const Me=pe.name,ce=pe.value.trim(),Oe=pe.getAttribute("data-unit-id"),B=Oe?T?.find(K=>K.id.toString()===Oe)?.[Me]:_?.[Me];(B==null?"":String(B))!==ce&&(Oe&&he.has(Me)?(G[Oe]||(G[Oe]={}),G[Oe][Me]=ce):!Oe&&le.has(Me)&&(I[Me]=ce))}if(Object.keys(I).length>0&&_){const pe=await jg(o,_.id,I),Me=oo.find(ce=>ce.id===o);Me&&await tr[Me.tableName].put({..._,...pe,geometry:pe.plate_geometry||_.geometry})}for(const[pe,Me]of Object.entries(G))if(Object.keys(Me).length>0){const ce=await jg("recognition_code_info",pe,Me);await tr.recognition_code_info.put(ce)}d(!1),g.current=!1}catch(I){console.error(I),alert("   .    .")}finally{p(!1)}};if(!e||!_)return null;const L=Object.entries(_).filter(([U])=>s1(U));return L.length>0||E&&T&&T.length>0?D.jsxs(gh,{shadow:"xl",padding:"md",radius:"t-md",withBorder:!0,style:{position:"absolute",bottom:0,left:0,right:0,zIndex:100,maxHeight:y?"100dvh":"40vh",height:y?"100dvh":"auto",transition:"max-height 0.3s ease, height 0.3s ease",display:"flex",flexDirection:"column",borderBottomLeftRadius:0,borderBottomRightRadius:0},children:[D.jsx(FI,{onClick:x,...w}),D.jsxs(ko,{justify:"space-between",mb:"xs",style:{flexShrink:0},children:[D.jsx(kl,{fw:700,size:"sm",c:"dimmed",children:" "}),D.jsx(Fa,{variant:"subtle",color:"gray",onClick:()=>N(),children:D.jsx(PI,{size:20})})]}),D.jsxs("form",{onChange:()=>{g.current=!0},onSubmit:j,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[D.jsxs(Ge,{style:{overflowY:"auto",flex:1,paddingBottom:"4px"},children:[L.length>0&&D.jsx($o,{gap:"xs",children:L.map(([U,I])=>{const G=mf[o]?.find(pe=>pe.fieldKey===U),le=u&&G,he=`${U}-${u}-${I}`,ve=U.endsWith("_id")||/_id\d+$/.test(U);if(G?.inputType==="select"||ve){const pe=G||{fieldKey:U,inputType:"select",lookupTable:u1(U),lookupLabel:"name",lookupValue:"id"};return D.jsx(a1,{name:U,config:pe,defaultValue:I,readOnly:!le},he)}return D.jsx(Bl,{name:U,label:Lg[U]||U,defaultValue:le?I:l1(I),readOnly:!le,variant:!u||!le?"filled":"default"},he)})}),E&&T&&T.length>0&&D.jsxs(Ge,{mt:"md",children:[D.jsxs(kl,{fw:700,size:"sm",c:"dimmed",mb:"xs",children:["  (",T.length,")"]}),D.jsx(Zr,{variant:"separated",children:T.map((U,I)=>D.jsxs(Zr.Item,{value:U.id.toString(),children:[D.jsx(Zr.Control,{children:U.unit_no?` ${U.unit_no}`:` ${I+1}`}),D.jsx(Zr.Panel,{children:D.jsx($o,{gap:"xs",children:Object.entries(U).filter(([G])=>s1(G)).map(([G,le])=>{const he=mf.recognition_code_info?.find(ce=>ce.fieldKey===G),ve=u&&he,pe=`unit-${U.id}-${G}-${u}-${le}`,Me=G.endsWith("_id")||/_id\d+$/.test(G);if(he?.inputType==="select"||Me){const ce=he||{fieldKey:G,inputType:"select",lookupTable:u1(G),lookupLabel:"name",lookupValue:"id"};return D.jsx(a1,{name:G,"data-unit-id":U.id,config:ce,defaultValue:le,readOnly:!ve},pe)}return D.jsx(Bl,{name:G,"data-unit-id":U.id,label:Lg[G]||G,defaultValue:ve?le:l1(le),readOnly:!ve,variant:!u||!ve?"filled":"default"},pe)})})})]},U.id))})]})]}),D.jsx(Ge,{mt:"md",pt:"sm",style:{borderTop:"1px solid #eee",flexShrink:0},children:u?D.jsxs(ko,{grow:!0,children:[D.jsx(yi,{variant:"outline",onClick:()=>N(),type:"button",children:""}),D.jsx(yi,{color:"green",type:"submit",loading:f,children:""})]}):D.jsxs(ko,{grow:!0,children:[D.jsx(yi,{onClick:R,disabled:l,type:"button",children:" "}),D.jsx(yi,{variant:"outline",color:"blue",onClick:()=>{_?.geometry&&r?.({id:_.id,entityType:o,geometry:_.geometry})},disabled:l,type:"button",children:" "})]})})]},`form-${_.id}-${u}`)]}):(t(),null)}function Ah(e,t,r={}){const o={type:"Feature"};return(r.id===0||r.id)&&(o.id=r.id),r.bbox&&(o.bbox=r.bbox),o.properties=t||{},o.geometry=e,o}function I_(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function $I(e,t,r={}){return Ah({type:"GeometryCollection",geometries:e},t,r)}function j_(e,t,r){if(e!==null)for(var o,s,l,u,d,f,p,g=0,y=0,x,w=e.type,_=w==="FeatureCollection",E=w==="Feature",T=_?e.features.length:1,N=0;N<T;N++){p=_?e.features[N].geometry:E?e.geometry:e,x=p?p.type==="GeometryCollection":!1,d=x?p.geometries.length:1;for(var R=0;R<d;R++){var j=0,L=0;if(u=x?p.geometries[R]:p,u!==null){f=u.coordinates;var F=u.type;switch(g=0,F){case null:break;case"Point":if(t(f,y,N,j,L)===!1)return!1;y++,j++;break;case"LineString":case"MultiPoint":for(o=0;o<f.length;o++){if(t(f[o],y,N,j,L)===!1)return!1;y++,F==="MultiPoint"&&j++}F==="LineString"&&j++;break;case"Polygon":case"MultiLineString":for(o=0;o<f.length;o++){for(s=0;s<f[o].length-g;s++){if(t(f[o][s],y,N,j,L)===!1)return!1;y++}F==="MultiLineString"&&j++,F==="Polygon"&&L++}F==="Polygon"&&j++;break;case"MultiPolygon":for(o=0;o<f.length;o++){for(L=0,s=0;s<f[o].length;s++){for(l=0;l<f[o][s].length-g;l++){if(t(f[o][s][l],y,N,j,L)===!1)return!1;y++}L++}j++}break;case"GeometryCollection":for(o=0;o<u.geometries.length;o++)if(j_(u.geometries[o],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function HI(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function qI(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return j_(e,o=>{r[0]>o[0]&&(r[0]=o[0]),r[1]>o[1]&&(r[1]=o[1]),r[2]<o[0]&&(r[2]=o[0]),r[3]<o[1]&&(r[3]=o[1])}),r}var GI=qI;const VI="modulepreload",YI=function(e){return"/dehyar-pwa-deploy/"+e},c1={},KI=function(t,r,o){let s=Promise.resolve();if(r&&r.length>0){let f=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");s=f(r.map(p=>{if(p=YI(p),p in c1)return;c1[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":VI,g||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((w,_)=>{x.addEventListener("load",w),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return s.then(u=>{for(const d of u||[])d.status==="rejected"&&l(d.reason);return t().catch(l)})},z_=C.createContext(null);function XI(){const e=C.useContext(z_)?.maps,t=C.useContext(Ts);return C.useMemo(()=>({...e,current:t?.map}),[e,t])}function WI(e,t){const r=Array.isArray(e)?e[0]:e?e.x:0,o=Array.isArray(e)?e[1]:e?e.y:0,s=Array.isArray(t)?t[0]:t?t.x:0,l=Array.isArray(t)?t[1]:t?t.y:0;return r===s&&o===l}function Lr(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Lr(e[r],t[r]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(const s of r)if(!t.hasOwnProperty(s)||!Lr(e[s],t[s]))return!1;return!0}return!1}function d1(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function f1(e,t){const r=t.viewState||t,o={};if("longitude"in r&&"latitude"in r&&(r.longitude!==e.center.lng||r.latitude!==e.center.lat)){const s=e.center.constructor;o.center=new s(r.longitude,r.latitude)}return"zoom"in r&&r.zoom!==e.zoom&&(o.zoom=r.zoom),"bearing"in r&&r.bearing!==e.bearing&&(o.bearing=r.bearing),"pitch"in r&&r.pitch!==e.pitch&&(o.pitch=r.pitch),r.padding&&e.padding&&!Lr(r.padding,e.padding)&&(o.padding=r.padding),o}const QI=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function h1(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const o of e.layers)t[o.id]=o;const r=e.layers.map(o=>{let s=null;"interactive"in o&&(s=Object.assign({},o),delete s.interactive);const l=t[o.ref];if(l){s=s||Object.assign({},o),delete s.ref;for(const u of QI)u in l&&(s[u]=l[u])}return s||o});return{...e,layers:r}}const p1={version:8,sources:{},layers:[]},m1={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},g1={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},y1={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},ZI=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],JI=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class $l{constructor(t,r,o){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=s=>{const l=this.props[y1[s.type]];l?l(s):s.type==="error"&&console.error(s.error)},this._onCameraEvent=s=>{if(this._internalUpdate)return;s.viewState=this._propsedCameraUpdate||d1(this._map.transform);const l=this.props[g1[s.type]];l&&l(s)},this._onCameraUpdate=s=>this._internalUpdate?s:(this._propsedCameraUpdate=d1(s),f1(s,this.props)),this._onPointerEvent=s=>{(s.type==="mousemove"||s.type==="mouseout")&&this._updateHover(s);const l=this.props[m1[s.type]];l&&(this.props.interactiveLayerIds&&s.type!=="mouseover"&&s.type!=="mouseout"&&(s.features=this._hoveredFeatures||this._queryRenderedFeatures(s.point)),l(s),delete s.features)},this._MapClass=t,this.props=r,this._initialize(o)}get map(){return this._map}setProps(t){const r=this.props;this.props=t;const o=this._updateSettings(t,r),s=this._updateSize(t),l=this._updateViewState(t);this._updateStyle(t,r),this._updateStyleComponents(t),this._updateHandlers(t,r),(o||s||l&&!this._map.isMoving())&&this.redraw()}static reuse(t,r){const o=$l.savedMaps.pop();if(!o)return null;const s=o.map,l=s.getContainer();for(r.className=l.className;l.childNodes.length>0;)r.appendChild(l.childNodes[0]);s._container=r;const u=s._resizeObserver;u&&(u.disconnect(),u.observe(r)),o.setProps({...t,styleDiffing:!1}),s.resize();const{initialViewState:d}=t;return d&&(d.bounds?s.fitBounds(d.bounds,{...d.fitBoundsOptions,duration:0}):o._updateViewState(d)),s.isStyleLoaded()?s.fire("load"):s.once("style.load",()=>s.fire("load")),s._update(),o}_initialize(t){const{props:r}=this,{mapStyle:o=p1}=r,s={...r,...r.initialViewState,container:t,style:h1(o)},l=s.initialViewState||s.viewState||s;if(Object.assign(s,{center:[l.longitude||0,l.latitude||0],zoom:l.zoom||0,pitch:l.pitch||0,bearing:l.bearing||0}),r.gl){const d=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=d,r.gl)}const u=new this._MapClass(s);l.padding&&u.setPadding(l.padding),r.cursor&&(u.getCanvas().style.cursor=r.cursor),u.transformCameraUpdate=this._onCameraUpdate,u.on("style.load",()=>{this._styleComponents={light:u.getLight(),sky:u.getSky(),projection:u.getProjection?.(),terrain:u.getTerrain()},this._updateStyleComponents(this.props)}),u.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const d in m1)u.on(d,this._onPointerEvent);for(const d in g1)u.on(d,this._onCameraEvent);for(const d in y1)u.on(d,this._onEvent);this._map=u}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),$l.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_updateSize(t){const{viewState:r}=t;if(r){const o=this._map;if(r.width!==o.transform.width||r.height!==o.transform.height)return o.resize(),!0}return!1}_updateViewState(t){const r=this._map,o=r.transform;if(!r.isMoving()){const l=f1(o,t);if(Object.keys(l).length>0)return this._internalUpdate=!0,r.jumpTo(l),this._internalUpdate=!1,!0}return!1}_updateSettings(t,r){const o=this._map;let s=!1;for(const l of ZI)l in t&&!Lr(t[l],r[l])&&(s=!0,o[`set${l[0].toUpperCase()}${l.slice(1)}`]?.call(o,t[l]));return s}_updateStyle(t,r){if(t.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==r.mapStyle){const{mapStyle:o=p1,styleDiffing:s=!0}=t,l={diff:s};"localIdeographFontFamily"in t&&(l.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(h1(o),l)}}_updateStyleComponents({light:t,projection:r,sky:o,terrain:s}){const l=this._map,u=this._styleComponents;l.style._loaded&&(t&&!Lr(t,u.light)&&(u.light=t,l.setLight(t)),r&&!Lr(r,u.projection)&&r!==u.projection?.type&&(u.projection=typeof r=="string"?{type:r}:r,l.setProjection?.(u.projection)),o&&!Lr(o,u.sky)&&(u.sky=o,l.setSky(o)),s!==void 0&&!Lr(s,u.terrain)&&(!s||l.getSource(s.source))&&(u.terrain=s,l.setTerrain(s)))}_updateHandlers(t,r){const o=this._map;for(const s of JI){const l=t[s]??!0,u=r[s]??!0;Lr(l,u)||(l?o[s].enable(l):o[s].disable())}}_queryRenderedFeatures(t){const r=this._map,{interactiveLayerIds:o=[]}=this.props;try{return r.queryRenderedFeatures(t,{layers:o.filter(r.getLayer.bind(r))})}catch{return[]}}_updateHover(t){const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const s=t.type,l=this._hoveredFeatures?.length>0,u=this._queryRenderedFeatures(t.point),d=u.length>0;!d&&l&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,d&&!l&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=s}else this._hoveredFeatures=null}}$l.savedMaps=[];const ej=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function tj(e){if(!e)return null;const t=e.map,r={getMap:()=>t};for(const o of nj(t))!(o in r)&&!ej.includes(o)&&(r[o]=t[o].bind(t));return r}function nj(e){const t=new Set;let r=e;for(;r;){for(const o of Object.getOwnPropertyNames(r))o[0]!=="_"&&typeof e[o]=="function"&&o!=="fire"&&o!=="setEventedParent"&&t.add(o);r=Object.getPrototypeOf(r)}return Array.from(t)}const rj=typeof document<"u"?C.useLayoutEffect:C.useEffect;function ij(e,t){const{RTLTextPlugin:r,maxParallelImageRequests:o,workerCount:s,workerUrl:l}=t;if(r&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:u,lazy:d=!0}=typeof r=="string"?{pluginUrl:r}:r;e.setRTLTextPlugin(u,f=>{f&&console.error(f)},d)}o!==void 0&&e.setMaxParallelImageRequests(o),s!==void 0&&e.setWorkerCount(s),l!==void 0&&e.setWorkerUrl(l)}const Ts=C.createContext(null);function oj(e,t){const r=C.useContext(z_),[o,s]=C.useState(null),l=C.useRef(),{current:u}=C.useRef({mapLib:null,map:null});C.useEffect(()=>{const p=e.mapLib;let g=!0,y;return Promise.resolve(p||KI(()=>import("./maplibre-gl-B3qWUOU6.js").then(x=>x.m),[])).then(x=>{if(!g)return;if(!x)throw new Error("Invalid mapLib");const w="Map"in x?x:x.default;if(!w.Map)throw new Error("Invalid mapLib");ij(w,e),e.reuseMaps&&(y=$l.reuse(e,l.current)),y||(y=new $l(w.Map,e,l.current)),u.map=tj(y),u.mapLib=w,s(y),r?.onMapMount(u.map,e.id)}).catch(x=>{const{onError:w}=e;w?w({type:"error",target:null,originalEvent:null,error:x}):console.error(x)}),()=>{g=!1,y&&(r?.onMapUnmount(e.id),e.reuseMaps?y.recycle():y.destroy())}},[]),rj(()=>{o&&o.setProps(e)}),C.useImperativeHandle(t,()=>u.map,[o]);const d=C.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),f={height:"100%"};return C.createElement("div",{id:e.id,ref:l,style:d},o&&C.createElement(Ts.Provider,{value:u},C.createElement("div",{"mapboxgl-children":"",style:f},e.children)))}const aj=C.forwardRef(oj),sj=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function Ko(e,t){if(!e||!t)return;const r=e.style;for(const o in t){const s=t[o];Number.isFinite(s)&&!sj.test(o)?r[o]=`${s}px`:r[o]=s}}function L_(e,t){if(e===t)return null;const r=v1(e),o=v1(t),s=[];for(const l of o)r.has(l)||s.push(l);for(const l of r)o.has(l)||s.push(l);return s.length===0?null:s}function v1(e){return new Set(e?e.trim().split(/\s+/):[])}C.memo(C.forwardRef((e,t)=>{const{map:r,mapLib:o}=C.useContext(Ts),s=C.useRef({props:e}),l=C.useMemo(()=>{let N=!1;C.Children.forEach(e.children,L=>{L&&(N=!0)});const R={...e,element:N?document.createElement("div"):void 0},j=new o.Marker(R);return j.setLngLat([e.longitude,e.latitude]),j.getElement().addEventListener("click",L=>{s.current.props.onClick?.({type:"click",target:j,originalEvent:L})}),j.on("dragstart",L=>{const F=L;F.lngLat=l.getLngLat(),s.current.props.onDragStart?.(F)}),j.on("drag",L=>{const F=L;F.lngLat=l.getLngLat(),s.current.props.onDrag?.(F)}),j.on("dragend",L=>{const F=L;F.lngLat=l.getLngLat(),s.current.props.onDragEnd?.(F)}),j},[]);C.useEffect(()=>(l.addTo(r.getMap()),()=>{l.remove()}),[]);const{longitude:u,latitude:d,offset:f,style:p,draggable:g=!1,popup:y=null,rotation:x=0,rotationAlignment:w="auto",pitchAlignment:_="auto"}=e;C.useEffect(()=>{Ko(l.getElement(),p)},[p]),C.useImperativeHandle(t,()=>l,[]);const E=s.current.props;(l.getLngLat().lng!==u||l.getLngLat().lat!==d)&&l.setLngLat([u,d]),f&&!WI(l.getOffset(),f)&&l.setOffset(f),l.isDraggable()!==g&&l.setDraggable(g),l.getRotation()!==x&&l.setRotation(x),l.getRotationAlignment()!==w&&l.setRotationAlignment(w),l.getPitchAlignment()!==_&&l.setPitchAlignment(_),l.getPopup()!==y&&l.setPopup(y);const T=L_(E.className,e.className);if(T)for(const N of T)l.toggleClassName(N);return s.current.props=e,Cs.createPortal(e.children,l.getElement())}));C.memo(C.forwardRef((e,t)=>{const{map:r,mapLib:o}=C.useContext(Ts),s=C.useMemo(()=>document.createElement("div"),[]),l=C.useRef({props:e}),u=C.useMemo(()=>{const d={...e},f=new o.Popup(d);return f.setLngLat([e.longitude,e.latitude]),f.once("open",p=>{l.current.props.onOpen?.(p)}),f},[]);if(C.useEffect(()=>{const d=f=>{l.current.props.onClose?.(f)};return u.on("close",d),u.setDOMContent(s).addTo(r.getMap()),()=>{u.off("close",d),u.isOpen()&&u.remove()}},[]),C.useEffect(()=>{Ko(u.getElement(),e.style)},[e.style]),C.useImperativeHandle(t,()=>u,[]),u.isOpen()){const d=l.current.props;(u.getLngLat().lng!==e.longitude||u.getLngLat().lat!==e.latitude)&&u.setLngLat([e.longitude,e.latitude]),e.offset&&!Lr(d.offset,e.offset)&&u.setOffset(e.offset),(d.anchor!==e.anchor||d.maxWidth!==e.maxWidth)&&(u.options.anchor=e.anchor,u.setMaxWidth(e.maxWidth));const f=L_(d.className,e.className);if(f)for(const p of f)u.toggleClassName(p);l.current.props=e}return Cs.createPortal(e.children,s)}));function Ps(e,t,r,o){const s=C.useContext(Ts),l=C.useMemo(()=>e(s),[]);return C.useEffect(()=>{const u=t,d=null,f=typeof t=="function"?t:null,{map:p}=s;return p.hasControl(l)||(p.addControl(l,u?.position),d&&d(s)),()=>{f&&f(s),p.hasControl(l)&&p.removeControl(l)}},[]),l}function lj(e){const t=Ps(({mapLib:r})=>new r.AttributionControl(e),{position:e.position});return C.useEffect(()=>{Ko(t._container,e.style)},[e.style]),null}C.memo(lj);function uj(e){const t=Ps(({mapLib:r})=>new r.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return C.useEffect(()=>{Ko(t._controlContainer,e.style)},[e.style]),null}C.memo(uj);function cj(e,t){const r=C.useRef({props:e}),o=Ps(({mapLib:s})=>{const l=new s.GeolocateControl(e),u=l._setupUI;return l._setupUI=()=>{l._container.hasChildNodes()||u()},l.on("geolocate",d=>{r.current.props.onGeolocate?.(d)}),l.on("error",d=>{r.current.props.onError?.(d)}),l.on("outofmaxbounds",d=>{r.current.props.onOutOfMaxBounds?.(d)}),l.on("trackuserlocationstart",d=>{r.current.props.onTrackUserLocationStart?.(d)}),l.on("trackuserlocationend",d=>{r.current.props.onTrackUserLocationEnd?.(d)}),l},{position:e.position});return r.current.props=e,C.useImperativeHandle(t,()=>o,[]),C.useEffect(()=>{Ko(o._container,e.style)},[e.style]),null}C.memo(C.forwardRef(cj));function dj(e){const t=Ps(({mapLib:r})=>new r.NavigationControl(e),{position:e.position});return C.useEffect(()=>{Ko(t._container,e.style)},[e.style]),null}const fj=C.memo(dj);function hj(e){const t=Ps(({mapLib:l})=>new l.ScaleControl(e),{position:e.position}),r=C.useRef(e),o=r.current;r.current=e;const{style:s}=e;return e.maxWidth!==void 0&&e.maxWidth!==o.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==o.unit&&t.setUnit(e.unit),C.useEffect(()=>{Ko(t._container,s)},[s]),null}C.memo(hj);function pj(e){const t=Ps(({mapLib:r})=>new r.TerrainControl(e),{position:e.position});return C.useEffect(()=>{Ko(t._container,e.style)},[e.style]),null}C.memo(pj);function mj(e){const t=Ps(({mapLib:r})=>new r.LogoControl(e),{position:e.position});return C.useEffect(()=>{Ko(t._container,e.style)},[e.style]),null}C.memo(mj);function Hf(e,t){if(!e)throw new Error(t)}let gj=0;function yj(e,t,r){if(e.style&&e.style._loaded){const o={...r};return delete o.id,delete o.children,e.addSource(t,o),e.getSource(t)}return null}function vj(e,t,r){Hf(t.id===r.id,"source id changed"),Hf(t.type===r.type,"source type changed");let o="",s=0;for(const u in t)u!=="children"&&u!=="id"&&!Lr(r[u],t[u])&&(o=u,s++);if(!s)return;const l=t.type;if(l==="geojson")e.setData(t.data);else if(l==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else switch(o){case"coordinates":e.setCoordinates?.(t.coordinates);break;case"url":e.setUrl?.(t.url);break;case"tiles":e.setTiles?.(t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${o}`)}}function bj(e){const t=C.useContext(Ts).map.getMap(),r=C.useRef(e),[,o]=C.useState(0),s=C.useMemo(()=>e.id||`jsx-source-${gj++}`,[]);C.useEffect(()=>{if(t){const u=()=>setTimeout(()=>o(d=>d+1),0);return t.on("styledata",u),u(),()=>{if(t.off("styledata",u),t.style&&t.style._loaded&&t.getSource(s)){const d=t.getStyle()?.layers;if(d)for(const f of d)f.source===s&&t.removeLayer(f.id);t.removeSource(s)}}}},[t]);let l=t&&t.style&&t.getSource(s);return l?vj(l,e,r.current):l=yj(t,s,e),r.current=e,l&&C.Children.map(e.children,u=>u&&C.cloneElement(u,{source:s}))||null}function xj(e,t,r,o){if(Hf(r.id===o.id,"layer id changed"),Hf(r.type===o.type,"layer type changed"),r.type==="custom"||o.type==="custom")return;const{layout:s={},paint:l={},filter:u,minzoom:d,maxzoom:f,beforeId:p}=r;if(p!==o.beforeId&&e.moveLayer(t,p),s!==o.layout){const g=o.layout||{};for(const y in s)Lr(s[y],g[y])||e.setLayoutProperty(t,y,s[y]);for(const y in g)s.hasOwnProperty(y)||e.setLayoutProperty(t,y,void 0)}if(l!==o.paint){const g=o.paint||{};for(const y in l)Lr(l[y],g[y])||e.setPaintProperty(t,y,l[y]);for(const y in g)l.hasOwnProperty(y)||e.setPaintProperty(t,y,void 0)}Lr(u,o.filter)||e.setFilter(t,u),(d!==o.minzoom||f!==o.maxzoom)&&e.setLayerZoomRange(t,d,f)}function wj(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){const o={...r,id:t};delete o.beforeId,e.addLayer(o,r.beforeId)}}let Sj=0;function Cj(e){const t=C.useContext(Ts).map.getMap(),r=C.useRef(e),[,o]=C.useState(0),s=C.useMemo(()=>e.id||`jsx-layer-${Sj++}`,[]);if(C.useEffect(()=>{if(t){const u=()=>o(d=>d+1);return t.on("styledata",u),u(),()=>{t.off("styledata",u),t.style&&t.style._loaded&&t.getLayer(s)&&t.removeLayer(s)}}},[t]),t&&t.style&&t.getLayer(s))try{xj(t,s,e,r.current)}catch(u){console.warn(u)}else wj(t,s,e);return r.current=e,null}function F_(e){const{user:t}=Rs(),r=oo.find(u=>u.id===e),s=t?.action_areas?.find(u=>u.action_area.population_point)?.action_area.population_point?.id;return{features:$f(async()=>{if(!s||!r||r.isDisabled)return[];const u=tr[r.tableName],d=parseInt(s.toString());return e==="population_point"?await u.where("id").equals(d).toArray():await u.where("population_point_id").equals(d).toArray()},[s,e])||[],config:r}}function _j({layerId:e,hiddenFeatureId:t}){const{features:r,config:o}=F_(e),s=C.useMemo(()=>{if(!r||r.length===0)return null;const l=t?r.filter(u=>u.id!==t):r;return I_(l.map(u=>{const d={id:u.id,name:u.name,building_number:u.building_number,plate_name:u.plate_name,entityType:e};return Ah(u.geometry,d,{id:u.id})}))},[r,e,t]);return!o||!s?null:D.jsx(bj,{id:`source-${e}`,type:"geojson",data:s,children:o.styles.map((l,u)=>D.jsx(Cj,{id:`layer-${e}-${u}`,...l,type:l.type},`${e}-${u}`))})}function Ej({activeLayers:e,drawingMode:t}){const r=e.filter(o=>{const s=oo.find(l=>l.id===o);return s&&!s.isDataOnly});return D.jsx(D.Fragment,{children:r.map(o=>D.jsx(_j,{layerId:o,hiddenFeatureId:t?.entityType===o?t.id:void 0},o))})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)({}).hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Wt.apply(null,arguments)}const Aa="draw",Il="edit",k_="deleteCoordinate",b1="insertMidpoint";var Ct;(function(e){e.Commit="commit",e.Provisional="provisional",e.Finish="finish"})(Ct||(Ct={}));const Oj="https://raw.githubusercontent.com/JamesLMilner/terra-draw/refs/heads/main/assets/markers/marker-blue.png",Un={SELECTED:"selected",MID_POINT:"midPoint",SELECTION_POINT_FEATURE_ID:"selectionPointFeatureId",SELECTION_POINT:"selectionPoint"},dt={MODE:"mode",CURRENTLY_DRAWING:"currentlyDrawing",EDITED:"edited",CLOSING_POINT:"closingPoint",SNAPPING_POINT:"snappingPoint",COORDINATE_POINT:"coordinatePoint",COORDINATE_POINT_FEATURE_ID:"coordinatePointFeatureId",COORDINATE_POINT_IDS:"coordinatePointIds",PROVISIONAL_COORDINATE_COUNT:"provisionalCoordinateCount",COMMITTED_COORDINATE_COUNT:"committedCoordinateCount",MARKER:"marker"},bc=10;function sg(e){return!!(e&&typeof e=="object"&&e!==null&&!Array.isArray(e))}function x1(e){return!!(e&&typeof e=="object"&&"properties"in e&&typeof e.properties=="object"&&e.properties!==null&&"mode"in e.properties)}function w1(e){return!!(function(t){return typeof t=="number"&&!isNaN(new Date(t).valueOf())})(e)}const Mj="Feature mode property does not match the mode being added to";var Hl;(function(e){e.Drawing="drawing",e.Select="select",e.Static="static",e.Render="render"})(Hl||(Hl={}));const Tj={rightClick:!0,contextMenu:!1,leftClick:!0,onDragStart:!0,onDrag:!0,onDragEnd:!0};class Vc{get state(){return this._state}set state(t){throw new Error("Please use the modes lifecycle methods")}get styles(){return this._styles}set styles(t){if(typeof t!="object")throw new Error("Styling must be an object");this.onStyleChange&&this.onStyleChange([],"styling"),this._styles=t}registerBehaviors(t){}constructor(t,r=!1){this._state="unregistered",this._styles={},this.pointerEvents=Tj,this.behaviors=[],this.validate=void 0,this.pointerDistance=40,this.coordinatePrecision=void 0,this.onStyleChange=void 0,this.store=void 0,this.projection="web-mercator",this.setDoubleClickToZoom=void 0,this.unproject=void 0,this.project=void 0,this.setCursor=void 0,this.isInitialUpdate=!1,this.type=Hl.Drawing,this.mode="base",r?this.isInitialUpdate=!0:this.updateOptions(Wt({},t))}updateOptions(t){t!=null&&t.styles&&(this.styles=Wt({},this._styles,t.styles)),t!=null&&t.pointerDistance&&(this.pointerDistance=t.pointerDistance),t!=null&&t.validation&&(this.validate=t&&t.validation),t!=null&&t.projection&&(this.projection=t.projection),t?.pointerEvents!==void 0&&(this.pointerEvents=t.pointerEvents),t!=null&&t.modeName&&this.isInitialUpdate===!0&&(this.mode=t.modeName),this.isInitialUpdate=!1}allowPointerEvent(t,r){return typeof t=="boolean"?t:typeof t!="function"||t(r)}setDrawing(){if(this._state!=="started")throw new Error("Mode must be unregistered or stopped to start");this._state="drawing"}setStarted(){if(this._state!=="stopped"&&this._state!=="registered"&&this._state!=="drawing"&&this._state!=="selecting")throw new Error("Mode must be unregistered or stopped to start");this._state="started",this.setDoubleClickToZoom(!1)}setStopped(){if(this._state!=="started")throw new Error("Mode must be started to be stopped");this._state="stopped",this.setDoubleClickToZoom(!0)}register(t){if(this._state!=="unregistered")throw new Error("Can not register unless mode is unregistered");this._state="registered",this.store=t.store,this.store.registerOnChange(t.onChange),this.setDoubleClickToZoom=t.setDoubleClickToZoom,this.project=t.project,this.unproject=t.unproject,this.onSelect=t.onSelect,this.onDeselect=t.onDeselect,this.setCursor=t.setCursor,this.onStyleChange=t.onChange,this.onFinish=t.onFinish,this.coordinatePrecision=t.coordinatePrecision,this.registerBehaviors({mode:t.mode,store:this.store,project:this.project,unproject:this.unproject,pointerDistance:this.pointerDistance,coordinatePrecision:t.coordinatePrecision,projection:this.projection})}validateFeature(t){return this.performFeatureValidation(t)}afterFeatureAdded(t){}afterFeatureUpdated(t){}performFeatureValidation(t){if(this._state==="unregistered")throw new Error("Mode must be registered");const r=(function(o,s){let l;if(sg(o))if(o.id==null)l="Feature has no id";else if(typeof o.id!="string"&&typeof o.id!="number")l="Feature must be string or number as per GeoJSON spec";else if(s(o.id))if(sg(o.geometry))if(sg(o.properties))if(typeof o.geometry.type=="string"&&["Polygon","LineString","Point"].includes(o.geometry.type))if(Array.isArray(o.geometry.coordinates)){if(!o.properties.mode||typeof o.properties.mode!="string")return{valid:!1,reason:"Feature does not have a valid mode property"}}else l="Feature coordinates is not an array";else l="Feature is not Point, LineString or Polygon";else l="Feature has no properties";else l="Feature has no geometry";else l="Feature must match the id strategy (default is UUID4)";else l="Feature is not object";return l?{valid:!1,reason:l}:{valid:!0}})(t,this.store.idStrategy.isValidId);if(this.validate){const o=this.validate(t,{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:Ct.Provisional});return{valid:r.valid&&o.valid,reason:o.reason}}return{valid:r.valid,reason:r.reason}}validateModeFeature(t,r){const o=this.performFeatureValidation(t);return o.valid?t.properties.mode!==this.mode?{valid:!1,reason:Mj}:r(t):{valid:!1,reason:o.reason}}onFinish(t,r){}onDeselect(t){}onSelect(t){}onKeyDown(t){}onKeyUp(t){}onMouseMove(t){}onClick(t){}onDragStart(t,r){}onDrag(t,r){}onDragEnd(t,r){}getHexColorStylingValue(t,r,o){return this.getStylingValue(t,r,o)}getNumericStylingValue(t,r,o){return this.getStylingValue(t,r,o)}getUrlStylingValue(t,r,o){return this.getStylingValue(t,r,o)}getStylingValue(t,r,o){return t===void 0?r:typeof t=="function"?t(o):t}}class Pj extends Vc{constructor(...t){super(...t),this.type=Hl.Select}}function Ho(e,t){const r=p=>p*Math.PI/180,o=r(e[1]),s=r(e[0]),l=r(t[1]),u=l-o,d=r(t[0])-s,f=Math.sin(u/2)*Math.sin(u/2)+Math.cos(o)*Math.cos(l)*Math.sin(d/2)*Math.sin(d/2);return 2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*6371e3/1e3}const B_=63710088e-1;function Fr(e){return e%360*Math.PI/180}function Rj(e){return e/6371.0088}function ql(e){return e%(2*Math.PI)*180/Math.PI}function Rn(e,t=9){const r=Math.pow(10,t);return Math.round(e*r)/r}const S1=57.29577951308232,C1=.017453292519943295,qf=6378137,Pn=(e,t)=>({x:e===0?0:e*C1*qf,y:t===0?0:Math.log(Math.tan(Math.PI/4+t*C1/2))*qf}),Gl=(e,t)=>({lng:e===0?0:S1*(e/qf),lat:t===0?0:(2*Math.atan(Math.exp(t/qf))-Math.PI/2)*S1});function Dj(e){let t;if(e.geometry.type==="Polygon")t=e.geometry.coordinates;else{if(e.geometry.type!=="LineString")throw new Error("Self intersects only accepts Polygons and LineStrings");t=[e.geometry.coordinates]}const r=[];for(let l=0;l<t.length;l++)for(let u=0;u<t[l].length-1;u++)for(let d=0;d<t.length;d++)for(let f=0;f<t[d].length-1;f++)s(l,u,d,f);return r.length>0;function o(l){return l<0||l>1}function s(l,u,d,f){const p=t[l][u],g=t[l][u+1],y=t[d][f],x=t[d][f+1],w=(function(T,N,R,j){if(yf(T,R)||yf(T,j)||yf(N,R)||yf(j,R))return null;const L=T[0],F=T[1],U=N[0],I=N[1],G=R[0],le=R[1],he=j[0],ve=j[1],pe=(L-U)*(le-ve)-(F-I)*(G-he);return pe===0?null:[((L*I-F*U)*(G-he)-(L-U)*(G*ve-le*he))/pe,((L*I-F*U)*(le-ve)-(F-I)*(G*ve-le*he))/pe]})(p,g,y,x);if(w===null)return;let _,E;_=g[0]!==p[0]?(w[0]-p[0])/(g[0]-p[0]):(w[1]-p[1])/(g[1]-p[1]),E=x[0]!==y[0]?(w[0]-y[0])/(x[0]-y[0]):(w[1]-y[1])/(x[1]-y[1]),o(_)||o(E)||(w.toString(),r.push(w))}}function yf(e,t){return e[0]===t[0]&&e[1]===t[1]}function Nh(e,t){return _1(e[0])<=t&&_1(e[1])<=t}function vv(e){return e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"&&e[0]!==1/0&&e[1]!==1/0&&(r=e[0])>=-180&&r<=180&&(t=e[1])>=-90&&t<=90;var t,r}function _1(e){let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}const Aj="Feature has holes",Nj="Feature has less than 4 coordinates",Ij="Feature has invalid coordinates",jj="Feature coordinates are not closed";function zj(e,t){if(e.geometry.type!=="Polygon")return{valid:!1,reason:"Feature is not a Polygon"};if(e.geometry.coordinates.length!==1)return{valid:!1,reason:Aj};if(e.geometry.coordinates[0].length<4)return{valid:!1,reason:Nj};for(let s=0;s<e.geometry.coordinates[0].length;s++){if(!vv(e.geometry.coordinates[0][s]))return{valid:!1,reason:Ij};if(!Nh(e.geometry.coordinates[0][s],t))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return(r=e.geometry.coordinates[0][0])[0]!==(o=e.geometry.coordinates[0][e.geometry.coordinates[0].length-1])[0]||r[1]!==o[1]?{valid:!1,reason:jj}:{valid:!0};var r,o}class nr{constructor({store:t,mode:r,project:o,unproject:s,pointerDistance:l,coordinatePrecision:u,projection:d}){this.store=void 0,this.mode=void 0,this.project=void 0,this.unproject=void 0,this.pointerDistance=void 0,this.coordinatePrecision=void 0,this.projection=void 0,this.store=t,this.mode=r,this.project=o,this.unproject=s,this.pointerDistance=l,this.coordinatePrecision=u,this.projection=d}}function E1(e){if(!(function(r){const o=r.coordinates[0];let s=0;for(let l=0;l<o.length-1;l++){const[u,d]=o[l],[f,p]=o[l+1];s+=(f-u)*(p+d)}return s<0})(e))return{type:"Polygon",coordinates:[e.coordinates[0].reverse()]}}const Gf="insert-before",Vl="insert-after",Er="update",vs="delete",Jr="replace";class Ih extends nr{constructor(t,r){super(t),this.options=void 0,this.options=r}createPoint({coordinates:t,properties:r,context:o}){if(o?.updateType!==Ct.Finish||this.validateGeometryWithUpdateType({geometry:{type:"Point",coordinates:t},properties:r,updateType:Ct.Finish}))return this.handleCreateFeature({geometry:{type:"Point",coordinates:t},properties:r})}createLineString({coordinates:t,properties:r}){return this.handleCreateFeature({geometry:{type:"LineString",coordinates:t},properties:r})}createPolygon({coordinates:t,properties:r}){const o=E1({coordinates:[t]});return this.handleCreateFeature({geometry:{type:"Polygon",coordinates:o?o.coordinates:[t]},properties:r})}createGuidancePoint({coordinate:t,type:r}){return this.createGuidancePoints({coordinates:[t],type:r})[0]}createGuidancePoints({coordinates:t,type:r,additionalProperties:o}){const s=t.map((l,u)=>({type:"Feature",geometry:{type:"Point",coordinates:l},properties:Wt({mode:this.mode,[r]:!0},o?o(u):{})}));return this.createFeatures(s)}updatePoint({featureId:t,coordinateMutations:r,propertyMutations:o,context:s}){return this.handleMutateFeature({type:"Point",featureId:t,coordinateMutations:r,propertyMutations:o,context:s})}updatePolygon({featureId:t,coordinateMutations:r,context:o,propertyMutations:s}){return this.handleMutateFeature({type:"Polygon",featureId:t,coordinateMutations:r,propertyMutations:s,context:o})}updateLineString({featureId:t,coordinateMutations:r,context:o,propertyMutations:s}){return this.handleMutateFeature({type:"LineString",featureId:t,coordinateMutations:r,propertyMutations:s,context:o})}deleteFeatureIfPresent(t){t&&this.store.has(t)&&this.store.delete([t])}deleteFeaturesIfPresent(t){if(t.length===0)return;const r=t.filter(o=>this.store.has(o));r.length&&this.store.delete(r)}setDeselected(t){const r=t.filter(o=>this.store.has(o)).map(o=>({featureId:o,properties:{[Un.SELECTED]:!1}}));this.updateFeatureProperties(r)}setSelected(t){const{type:r}=this.store.getGeometryCopy(t),o={featureId:t,propertyMutations:{[Un.SELECTED]:!0},context:{updateType:Ct.Commit}};r==="Polygon"?this.updatePolygon(o):r==="LineString"?this.updateLineString(o):r==="Point"&&this.updatePoint(o)}updateGuidancePoints(t){this.updateFeatureGeometries(t.map(({featureId:r,coordinate:o})=>({id:r,geometry:{type:"Point",coordinates:o}})))}handleCreateFeature({geometry:t,properties:r}){return this.createFeatureWithGeometry({geometry:t,properties:r})}handleMutateFeature({type:t,featureId:r,coordinateMutations:o,propertyMutations:s,context:l}){if(!this.mutateFeature({type:t,featureId:r,coordinateMutations:o,propertyMutations:s,context:l.updateType===Ct.Finish?Wt({},l,{correctRightHandRule:!0}):Wt({},l)}))return null;const u=this.buildFeatureWithGeometry(r);return l.updateType!==Ct.Finish||o||this.validateGeometryWithUpdateType({geometry:u.geometry,properties:u.properties,updateType:l.updateType})?u:null}epsilonOffset(){const t=1/Math.pow(10,this.coordinatePrecision-1);return Math.max(1e-6,t)}mutateFeature({type:t,featureId:r,coordinateMutations:o,propertyMutations:s,context:l}){if(!r)return!1;const u=this.store.getGeometryCopy(r),d=this.store.getPropertiesCopy(r);if(u.type!==t)throw new Error(`${t} geometries cannot be updated on features with ${u.type} geometries`);if(o){let f=this.applyCoordinateMutations(u,o);if(l.correctRightHandRule&&f.type==="Polygon"){const p=E1(f);p&&(f=p)}if(!this.validateGeometryWithUpdateType({geometry:f,properties:d,updateType:l.updateType}))return!1;this.updateFeatureGeometries([{id:r,geometry:f}])}return s&&this.updateFeatureProperties([{featureId:r,properties:s}]),!0}applyCoordinateMutations(t,r){if(this.isReplaceMutation(r))return Wt({},t,{coordinates:r.coordinates});if(t.type==="Point")throw new Error("Coordinate mutations are not supported for Point geometries");const o=t.type==="Polygon",s=o?t.coordinates[0].slice():t.coordinates.slice(),l=s.length,u=x=>{const w=x<0?l+x:x;if(w<0||w>=l)throw new RangeError(`Index ${x} (normalized to ${w}) is out of bounds`);return w},d=new Array(l).fill(void 0),f=Array.from({length:l},()=>[]),p=Array.from({length:l},()=>[]),g=[];for(const x of r){if(x.type===Gf||x.type===Vl){const _=x.index,E=_<0?l+_:_;if(E<0||E>l)throw new RangeError(`Index ${x.index} (normalized to ${E}) is out of bounds`);if(x.type===Gf){if(E>=l)throw new RangeError(`INSERT_BEFORE index ${x.index} (normalized to ${E}) is out of bounds for length ${l}`);f[E].push(x)}else E===l?g.push(x):p[E].push(x);continue}const w=u(x.index);d[w]=Wt({},x,{index:w})}const y=[];for(let x=0;x<l;x++){const w=f[x];for(const T of w)y.push(T.coordinate);const _=d[x];_?_.type===vs||y.push(_.coordinate):y.push(s[x]);const E=p[x];for(const T of E)y.push(T.coordinate)}for(const x of g)y.push(x.coordinate);return Wt({},t,o?{coordinates:[y,...t.coordinates.slice(1)]}:{coordinates:y})}isReplaceMutation(t){return t.type===Jr}createFeatureWithGeometry({geometry:t,properties:r}){const[o]=this.createFeatures([{type:"Feature",geometry:t,properties:r}]);return{id:o,type:"Feature",properties:this.store.getPropertiesCopy(o),geometry:this.store.getGeometryCopy(o)}}validateGeometryWithUpdateType({geometry:t,properties:r,updateType:o}){return!this.options.validate||this.options.validate({type:"Feature",geometry:t,properties:r||{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:o}).valid}buildFeatureWithGeometry(t){return{id:t,type:"Feature",properties:this.store.getPropertiesCopy(t),geometry:this.store.getGeometryCopy(t)}}createFeatures(t){return this.store.create(t)}updateFeatureGeometries(t){this.store.updateGeometry(t)}updateFeatureProperties(t){const r=t.map(({featureId:o,properties:s})=>Object.entries(s).map(([l,u])=>({id:o,property:l,value:u}))).flat();this.store.updateProperty(r)}}const Na=(e,t)=>{const{x:r,y:o}=e,{x:s,y:l}=t,u=s-r,d=l-o;return Math.sqrt(d*d+u*u)};function U_(e,t){return e[0]===t[0]&&e[1]===t[1]}class bv extends nr{constructor(t){super(t)}getGeometryType(t){return this.store.getGeometryCopy(t).type}coordinateAtIndexIsIdentical({featureId:t,newCoordinate:r,index:o}){const s=this.store.getGeometryCopy(t);let l;if(s.type==="Polygon")l=s.coordinates[0][o];else if(s.type==="LineString")l=s.coordinates[o];else{if(o!==0)throw new Error("Point geometries only have one coordinate at index 0");l=s.coordinates}return U_(r,l)}getGeometry(t){return this.store.getGeometryCopy(t)}getCoordinates(t){const{type:r,coordinates:o}=this.store.getGeometryCopy(t);return r==="Polygon"?o[0]:o}getCoordinate(t,r){const o=this.getCoordinates(t),s=r<0?o.length+r:r;if(s<0||s>=o.length)throw new RangeError(`Index ${r} (normalized to ${s}) is out of bounds`);return o[s]}getProperties(t){return this.store.getPropertiesCopy(t)}hasFeature(t){return this.store.has(t)}getAllFeatureIdsWhere(t){return this.store.copyAllWhere(t).map(({id:r})=>r)}}function $_({unproject:e,point:t,pointerDistance:r}){const o=r/2,{x:s,y:l}=t;return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[e(s-o,l-o),e(s+o,l-o),e(s+o,l+o),e(s-o,l+o),e(s-o,l-o)].map(u=>[u.lng,u.lat])]}}}class jh extends nr{constructor(t){super(t)}create(t){const{containerX:r,containerY:o}=t;return $_({unproject:this.unproject,point:{x:r,y:o},pointerDistance:this.pointerDistance})}}class zh extends nr{constructor(t){super(t)}measure(t,r){const{x:o,y:s}=this.project(r[0],r[1]);return Na({x:o,y:s},{x:t.containerX,y:t.containerY})}}class xv extends nr{constructor(t,r,o){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=s=>this.getSnappable(s,l=>!!(l.properties&&l.properties.mode===this.mode)).coordinate,this.getSnappableCoordinate=(s,l)=>this.getSnappable(s,u=>!!(u.properties&&u.properties.mode===this.mode&&u.id!==l)).coordinate,this.config=t,this.pixelDistance=r,this.clickBoundingBox=o}getSnappable(t,r){const o=this.clickBoundingBox.create(t),s=this.store.search(o,r),l={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDist:1/0};return s.forEach(u=>{let d;if(u.geometry.type==="Polygon")d=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;d=u.geometry.coordinates}d.forEach((f,p)=>{const g=this.pixelDistance.measure(t,f);g<l.minDist&&g<this.pointerDistance&&(l.coordinate=f,l.minDist=g,l.featureId=u.id,l.featureCoordinateIndex=p)})}),l}}function O1(e,t,r){const o=Fr(e[0]),s=Fr(e[1]),l=Fr(r),u=Rj(t),d=Math.asin(Math.sin(s)*Math.cos(u)+Math.cos(s)*Math.sin(u)*Math.cos(l));return[ql(o+Math.atan2(Math.sin(l)*Math.sin(u)*Math.cos(s),Math.cos(u)-Math.sin(s)*Math.sin(d))),ql(d)]}function M1(e,t){const r=Fr(e[0]),o=Fr(t[0]),s=Fr(e[1]),l=Fr(t[1]),u=Math.sin(o-r)*Math.cos(l),d=Math.cos(s)*Math.sin(l)-Math.sin(s)*Math.cos(l)*Math.cos(o-r);return ql(Math.atan2(u,d))}function Lj({x:e,y:t},{x:r,y:o}){const s=r-e,l=o-t;if(s===0&&l===0)return 0;let u=Math.atan2(l,s);return u*=180/Math.PI,u>180?u-=360:u<-180&&(u+=360),u}function Fj(e,t,r){const o=[],s=e.length;let l,u,d,f=0;for(let g=0;g<e.length&&!(t>=f&&g===e.length-1);g++){if(f>t&&o.length===0){if(l=t-f,!l)return o.push(e[g]),o;u=M1(e[g],e[g-1])-180,d=O1(e[g],l,u),o.push(d)}if(f>=r)return l=r-f,l?(u=M1(e[g],e[g-1])-180,d=O1(e[g],l,u),o.push(d),o):(o.push(e[g]),o);if(f>=t&&o.push(e[g]),g===e.length-1)return o;f+=Ho(e[g],e[g+1])}if(f<t&&e.length===s)throw new Error("Start position is beyond line");const p=e[e.length-1];return[p,p]}function vf(e){return e*(Math.PI/180)}function T1(e){return e*(180/Math.PI)}class kj extends nr{constructor(t){super(t),this.config=void 0,this.config=t}generateInsertionCoordinates(t,r,o){const s=[t,r];let l=0;for(let p=0;p<s.length-1;p++)l+=Ho(s[0],s[1]);if(l<=o)return s;let u=l/o-1;Number.isInteger(u)||(u=Math.floor(u)+1);const d=[];for(let p=0;p<u;p++){const g=Fj(s,o*p,o*(p+1));d.push(g)}const f=[];for(let p=0;p<d.length;p++)f.push(d[p][1]);return this.limitCoordinates(f)}generateInsertionGeodesicCoordinates(t,r,o){const s=Ho(t,r),l=(function(u,d,f){const p=[],g=vf(u[1]),y=vf(u[0]),x=vf(d[1]),w=vf(d[0]);f+=1;const _=2*Math.asin(Math.sqrt(Math.sin((x-g)/2)**2+Math.cos(g)*Math.cos(x)*Math.sin((w-y)/2)**2));if(_===0||isNaN(_))return p;for(let E=0;E<=f;E++){const T=E/f,N=Math.sin((1-T)*_)/Math.sin(_),R=Math.sin(T*_)/Math.sin(_),j=N*Math.cos(g)*Math.cos(y)+R*Math.cos(x)*Math.cos(w),L=N*Math.cos(g)*Math.sin(y)+R*Math.cos(x)*Math.sin(w),F=N*Math.sin(g)+R*Math.sin(x);if(isNaN(j)||isNaN(L)||isNaN(F))continue;const U=Math.atan2(F,Math.sqrt(j**2+L**2)),I=Math.atan2(L,j);isNaN(U)||isNaN(I)||p.push([T1(I),T1(U)])}return p.slice(1,-1)})(t,r,Math.floor(s/o));return this.limitCoordinates(l)}limitCoordinates(t){return t.map(r=>[Rn(r[0],this.config.coordinatePrecision),Rn(r[1],this.config.coordinatePrecision)])}}function Bj(e,t){if(e.geometry.type!=="LineString")return{valid:!1,reason:"Feature is not a LineString"};if(e.geometry.coordinates.length<2)return{valid:!1,reason:"Feature has less than 2 coordinates"};for(let r=0;r<e.geometry.coordinates.length;r++){if(!vv(e.geometry.coordinates[r]))return{valid:!1,reason:"Feature has invalid coordinates"};if(!Nh(e.geometry.coordinates[r],t))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return{valid:!0}}function P1(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function fs(e,t){const r=(function(o,s){const[l,u,d]=o,[f,p,g]=s;return l*f+u*p+d*g})(e,t)/(P1(e)*P1(t));return Math.acos(Math.min(Math.max(r,-1),1))}function lg(e){const t=Fr(e[1]),r=Fr(e[0]);return[Math.cos(t)*Math.cos(r),Math.cos(t)*Math.sin(r),Math.sin(t)]}function hs(e){const[t,r,o]=e,s=ql(Math.asin(o));return[ql(Math.atan2(r,t)),s]}function Uj(e,t,r){const o=lg(e),s=lg(t),l=lg(r),[u,d,f]=l,[p,g,y]=(function(ve,pe){const[Me,ce,Oe]=ve,[B,J,K]=pe;return[ce*K-Oe*J,Oe*B-Me*K,Me*J-ce*B]})(o,s),x=g*f-y*d,w=y*u-p*f,_=p*d-g*u,E=_*g-w*y,T=x*y-_*p,N=w*p-x*g,R=1/Math.sqrt(Math.pow(E,2)+Math.pow(T,2)+Math.pow(N,2)),j=[E*R,T*R,N*R],L=[-1*E*R,-1*T*R,-1*N*R],F=fs(o,s),U=fs(o,j),I=fs(s,j),G=fs(o,L),le=fs(s,L);let he;return he=U<G&&U<le||I<G&&I<le?j:L,fs(o,he)>F||fs(s,he)>F?Ho(hs(he),hs(o))<=Ho(hs(he),hs(s))?[hs(o),!0,!1]:[hs(s),!1,!0]:[hs(he),!1,!1]}function $j(e,t,r){const o=t.x-e.x,s=t.y-e.y,l=Math.max(0,Math.min(1,((r.x-e.x)*o+(r.y-e.y)*s)/(o*o+s*s)));return{x:e.x+l*o,y:e.y+l*s}}class wv extends nr{constructor(t,r,o){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=s=>{const l=this.getSnappable(s,u=>!!(u.properties&&u.properties.mode===this.mode));return l.coordinate?[Rn(l.coordinate[0],this.config.coordinatePrecision),Rn(l.coordinate[1],this.config.coordinatePrecision)]:void 0},this.getSnappableCoordinate=(s,l)=>{const u=this.getSnappable(s,d=>!!(d.properties&&d.properties.mode===this.mode&&d.id!==l));return u.coordinate?[Rn(u.coordinate[0],this.config.coordinatePrecision),Rn(u.coordinate[1],this.config.coordinatePrecision)]:void 0},this.config=t,this.pixelDistance=r,this.clickBoundingBox=o}getSnappable(t,r){const o=this.clickBoundingBox.create(t),s=this.store.search(o,r),l={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDistance:1/0};return s.forEach(u=>{let d;if(u.geometry.type==="Polygon")d=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;d=u.geometry.coordinates}const f=[];for(let x=0;x<d.length-1;x++)f.push([d[x],d[x+1]]);let p;const g=[t.lng,t.lat];if(this.config.projection==="web-mercator"?p=(function(x,w){let _=[1/0,1/0],E=1/0,T=0;for(let N of w){const R=N[0],j=N[1];let L,F=1/0;const U=Pn(R[0],R[1]),I=Pn(j[0],j[1]),G=Pn(x[0],x[1]);if(R[0]===x[0]&&R[1]===x[1])L=R;else if(j[0]===x[0]&&j[1]===x[1])L=j;else{const{x:le,y:he}=$j(U,I,G),{lng:ve,lat:pe}=Gl(le,he);L=[ve,pe]}L&&(F=Na(G,Pn(L[0],L[1])),F<E&&(_=L,E=F,T=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,lineIndex:T,distance:E}})(g,f):this.config.projection==="globe"&&(p=(function(x,w){let _=[1/0,1/0],E=1/0,T=0;for(let N of w){const R=N[0],j=N[1];let L,F=1/0;R[0]===x[0]&&R[1]===x[1]?L=R:j[0]===x[0]&&j[1]===x[1]?L=j:[L]=Uj(R,j,x),L&&(F=Ho(x,L),F<E&&(_=L,E=F,T=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,distance:E,lineIndex:T}})(g,f)),!p)return;const y=this.pixelDistance.measure(t,p.coordinate);y<l.minDistance&&y<this.pointerDistance&&(l.featureId=u.id,l.coordinate=[Rn(p.coordinate[0],this.config.coordinatePrecision),Rn(p.coordinate[1],this.config.coordinatePrecision)],l.featureCoordinateIndex=p.lineIndex,l.minDistance=y)}),l}}function Sv(e){return Array.isArray(e)&&e.length>0&&Array.isArray(e[0])&&Array.isArray(e[0][0])}const Vf=e=>Sv(e)?e[0].slice(0,-1):e,xc=e=>Sv(e)?e[0]:e;class H_ extends nr{constructor(t,r,o,s){super(t),this.config=void 0,this.pixelDistance=void 0,this.mutateFeatureBehavior=void 0,this.readFeatureBehavior=void 0,this._startEndPoints=[],this.config=t,this.pixelDistance=r,this.mutateFeatureBehavior=o,this.readFeatureBehavior=s}get ids(){return this._startEndPoints.concat()}set ids(t){}create(t){if(this.ids.length)throw new Error("Opening and closing points already created");const r=Sv(t),o=xc(t);if(r){if(o.length<=3)throw new Error("Requires at least 4 coordinates");this._startEndPoints=this.mutateFeatureBehavior.createGuidancePoints({coordinates:[o[0],o[o.length-2]],type:dt.CLOSING_POINT})}else this._startEndPoints=[this.mutateFeatureBehavior.createGuidancePoint({coordinate:o[o.length-2],type:dt.CLOSING_POINT})]}delete(){this.ids.length&&(this.mutateFeatureBehavior.deleteFeaturesIfPresent(this.ids),this._startEndPoints=[])}updateOne(t,r){this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[t],coordinate:r}])}update(t){const r=xc(t);this.ids.length!==1?this.ids.length===2&&this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:r[0]},{featureId:this.ids[1],coordinate:r[r.length-3]}]):this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:r[r.length-2]}])}isLineStringClosingPoint(t){if(this.ids.length!==1)return{isClosing:!1};const r=this.readFeatureBehavior.getGeometry(this.ids[0]);return{isClosing:this.pixelDistance.measure(t,r.coordinates)<this.pointerDistance}}isPolygonClosingPoints(t){if(this.ids.length!==2)return{isClosing:!1,isPreviousClosing:!1};const r=this.readFeatureBehavior.getGeometry(this.ids[0]),o=this.readFeatureBehavior.getGeometry(this.ids[1]),s=this.pixelDistance.measure(t,r.coordinates),l=this.pixelDistance.measure(t,o.coordinates);return{isClosing:s<this.pointerDistance,isPreviousClosing:l<this.pointerDistance}}}class Cv extends nr{constructor(t,r,o){super(t),this.readFeature=void 0,this.mutateFeature=void 0,this.readFeature=r,this.mutateFeature=o}createOrUpdate({featureId:t,featureCoordinates:r}){if(!this.readFeature.hasFeature(t))return void this.deleteOrphanedPoints(t);const o=Vf(r),s=this.readFeature.getProperties(t),l=s.coordinatePointIds;if(l)if(l&&l.every(u=>this.readFeature.hasFeature(u))){const u=s.coordinatePointIds,d=u.map(f=>this.readFeature.getGeometry(f).coordinates);if(u.length!==o.length){this.deleteCoordinatePoints(u);const f=this.createPoints(o,s.mode,t);this.setFeatureCoordinatePoints(t,f)}else{const f=[];o.forEach((p,g)=>{p[0]===d[g][0]&&p[1]===d[g][1]||f.push({featureId:u[g],coordinate:p})}),this.mutateFeature.updateGuidancePoints(f)}}else{const u=l.filter(f=>this.readFeature.hasFeature(f));u.length&&this.deleteCoordinatePoints(u);const d=this.createPoints(o,s.mode,t);this.setFeatureCoordinatePoints(t,d)}else{const u=this.createPoints(o,s.mode,t);this.setFeatureCoordinatePoints(t,u)}}deletePointsByFeatureIds(t){for(const r of t)this.deleteIfPresent(r)}updateOneAtIndex(t,r,o){const s=this.readFeature.getProperties(t).coordinatePointIds;s&&s.length!==0&&s[r]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:s[r],coordinate:o}])}updateAllInPlace({featureId:t,featureCoordinates:r}){const o=this.readFeature.getProperties(t);if(!o.coordinatePointIds)return;const s=Vf(r);s.length===o.coordinatePointIds.length&&this.mutateFeature.updateGuidancePoints(o.coordinatePointIds.map((l,u)=>({featureId:l,coordinate:s[u]})))}createPoints(t,r,o){return this.mutateFeature.createGuidancePoints({coordinates:t,type:dt.COORDINATE_POINT,additionalProperties:s=>({mode:r,[dt.COORDINATE_POINT]:!0,[dt.COORDINATE_POINT_FEATURE_ID]:o,index:s})})}setFeatureCoordinatePoints(t,r,o=Ct.Commit){const s=this.readFeature.getGeometryType(t),l={featureId:t,propertyMutations:{[dt.COORDINATE_POINT_IDS]:r},context:{updateType:o}};if(s==="Polygon")this.mutateFeature.updatePolygon(l);else{if(s!=="LineString")throw new Error("Unsupported geometry type for coordinate points");this.mutateFeature.updateLineString(l)}}deleteCoordinatePoints(t){this.mutateFeature.deleteFeaturesIfPresent(t)}deleteIfPresent(t){if(!this.readFeature.hasFeature(t))return;const r=this.readFeature.getProperties(t).coordinatePointIds;r&&(this.deleteCoordinatePoints(r),this.setFeatureCoordinatePoints(t,null))}deleteOrphanedPoints(t){const r=this.readFeature.getAllFeatureIdsWhere(o=>o[dt.COORDINATE_POINT_FEATURE_ID]===t);this.mutateFeature.deleteFeaturesIfPresent(r)}}const Hj={cancel:"Escape",finish:"Enter"},qj={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class Gj extends Vc{constructor(t){super(t,!0),this.mode="linestring",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=Hj,this.snapping=void 0,this.cursors=qj,this.mouseMove=!1,this.insertCoordinates=void 0,this.lastCommittedCoordinates=void 0,this.snappedPointId=void 0,this.lastMouseMoveEvent=void 0,this.showCoordinatePoints=!1,this.finishOnNthCoordinate=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinateSnapping=void 0,this.insertPoint=void 0,this.lineSnapping=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.closingPoints=void 0,this.coordinatePoints=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),t?.finishOnNthCoordinate!==void 0&&Number.isInteger(t.finishOnNthCoordinate)&&t.finishOnNthCoordinate>1&&(this.finishOnNthCoordinate=Math.floor(t.finishOnNthCoordinate)),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t!=null&&t.snapping&&(this.snapping=t.snapping),t?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t!=null&&t.insertCoordinates&&(this.insertCoordinates=t.insertCoordinates),t&&t.editable&&(this.editable=t.editable),t?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=t.showCoordinatePoints,this.coordinatePoints&&t.showCoordinatePoints===!0)this.store.copyAllWhere(r=>r.mode===this.mode).forEach(r=>{this.coordinatePoints.createOrUpdate({featureId:r.id,featureCoordinates:r.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const r=this.store.copyAllWhere(o=>{var s;return o.mode===this.mode&&!!((s=o[dt.COORDINATE_POINT_IDS])!=null&&s.length)});this.coordinatePoints.deletePointsByFeatureIds(r.map(o=>o.id))}}}shouldFinishOnCommit(t){return!!this.finishOnNthCoordinate&&Math.max(0,t.coordinates.length-1)>=this.finishOnNthCoordinate}updateSnappedCoordinate(t){const r=this.snapCoordinate(t);return r?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:r}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:r,type:dt.SNAPPING_POINT}),t.lng=r[0],t.lat=r[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),r}close(){if(this.currentId===void 0)return;const t=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:Ct.Finish,action:Aa},coordinateMutations:[{type:vs,index:-1}],propertyMutations:{[dt.CURRENTLY_DRAWING]:void 0}});if(!t)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:t.geometry.coordinates});const r=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.lastCommittedCoordinates=void 0,this.state==="drawing"&&this.setStarted(),this.closingPoints.delete(),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.onFinish(r,{mode:this.mode,action:Aa})}generateInsertCoordinates(t,r){if(!this.insertCoordinates||!this.lastCommittedCoordinates)throw new Error("Not able to insert coordinates");if(this.insertCoordinates.strategy!=="amount")throw new Error("Strategy does not exist");const o=Ho(t,r)/(this.insertCoordinates.value+1);let s=[];return this.projection==="globe"?s=this.insertPoint.generateInsertionGeodesicCoordinates(t,r,o):this.projection==="web-mercator"&&(s=this.insertPoint.generateInsertionCoordinates(t,r,o)),s}createLine(t){const r=this.mutateFeature.createLineString({coordinates:[t,t],properties:{mode:this.mode,[dt.CURRENTLY_DRAWING]:!0}});this.lastCommittedCoordinates=r.geometry.coordinates,this.currentId=r.id,this.currentCoordinate++,this.setDrawing(),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:r.geometry.coordinates})}firstUpdateToLine(t){if(!this.currentId)return;this.setCursor(this.cursors.close);const r=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:Ct.Commit},coordinateMutations:[{type:Vl,index:-1,coordinate:t}]});r&&(this.closingPoints.create(r.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:r.geometry.coordinates}),this.lastCommittedCoordinates=r.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(r.geometry)&&this.close())}updateToLine(t,r){if(!this.currentId)return;const{isClosing:o}=this.closingPoints.isLineStringClosingPoint(t);if(o)return void this.close();this.setCursor(this.cursors.close);const s=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:Ct.Commit},coordinateMutations:[{type:Vl,index:-1,coordinate:r}]});s&&(this.closingPoints.update(s.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates}),this.lastCommittedCoordinates=s.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(s.geometry)&&this.close())}registerBehaviors(t){this.insertPoint=new kj(t),this.clickBoundingBox=new jh(t),this.pixelDistance=new zh(t),this.lineSnapping=new wv(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new xv(t,this.pixelDistance,this.clickBoundingBox),this.readFeature=new bv(t),this.mutateFeature=new Ih(t,{validate:this.validate}),this.closingPoints=new H_(t,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new Cv(t,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onMouseMove(t){this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=t;const r=this.updateSnappedCoordinate(t)||[t.lng,t.lat];if(this.currentId===void 0||this.currentCoordinate===0)return;const{isClosing:o}=this.closingPoints.isLineStringClosingPoint(t);o&&this.setCursor(this.cursors.close);let s=[{type:Er,index:-1,coordinate:r}];if(this.insertCoordinates){const u=this.getInsertCoordinates(r);u&&(s={type:Jr,coordinates:u})}const l=this.mutateFeature.updateLineString({coordinateMutations:s,featureId:this.currentId,context:{updateType:Ct.Provisional}});l&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:l.geometry.coordinates})}getInsertCoordinates(t){if(!this.lastCommittedCoordinates)return;const r=this.lastCommittedCoordinates[this.lastCommittedCoordinates.length-1];if(U_(r,t))return;const o=this.generateInsertCoordinates(r,t);return[...this.lastCommittedCoordinates.slice(0,-1),...o,t]}onRightClick(t){if(!this.editable||this.state!=="started")return;const{featureId:r,featureCoordinateIndex:o}=this.coordinateSnapping.getSnappable(t,d=>this.lineStringFilter(d));if(!r||o===void 0)return;const s=this.readFeature.getGeometry(r);let l;if(s.type!=="LineString"||(l=s.coordinates,l.length<=2))return;const u=this.mutateFeature.updateLineString({featureId:r,coordinateMutations:[{type:vs,index:o}],context:{updateType:Ct.Finish,action:Il}});u&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:r,featureCoordinates:u.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(r,{mode:this.mode,action:k_})}onLeftClick(t){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);const r=this.snapCoordinate(t)||[t.lng,t.lat];this.currentCoordinate===0?this.createLine(r):this.currentCoordinate===1&&this.currentId?this.firstUpdateToLine(r):this.currentId&&this.updateToLine(t,r)}onClick(t){this.currentId===void 0||this.readFeature.hasFeature(this.currentId)||this.cleanUp(),(t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t))&&(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,t.button==="right"?this.onRightClick(t):t.button==="left"&&this.onLeftClick(t))}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel&&this.cleanUp(),t.key===this.keyEvents.finish&&this.close()}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t)||!this.editable)return;let o;if(this.state==="started"){const s=this.lineSnapping.getSnappable(t,u=>this.lineStringFilter(u));s.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,o=s.coordinate);const l=this.coordinateSnapping.getSnappable(t,u=>this.lineStringFilter(u));l.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=l.featureCoordinateIndex,this.editedFeatureId=l.featureId,o=l.coordinate)}this.editedFeatureId&&o&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:o,type:dt.EDITED})),this.setCursor(this.cursors.dragStart),r(!1))}onDrag(t,r){if(this.allowPointerEvent(this.pointerEvents.onDrag,t)&&this.editedFeatureId!==void 0&&this.editedFeatureCoordinateIndex!==void 0){if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0){const o=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:Ct.Provisional},coordinateMutations:[{type:Er,index:this.editedFeatureCoordinateIndex,coordinate:[t.lng,t.lat]}]});if(!o)return;this.showCoordinatePoints&&(this.editedInsertIndex!==void 0?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:o.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,[t.lng,t.lat]))}else if(this.editedSnapType==="line"&&this.editedInsertIndex===void 0){this.editedInsertIndex=this.editedFeatureCoordinateIndex+1;const o=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:Ct.Provisional}});if(!o)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:o.geometry.coordinates}),this.editedFeatureCoordinateIndex++}this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:[t.lng,t.lat]}]),this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:Ct.Provisional},propertyMutations:{[dt.EDITED]:!0}})}}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updateLineString({featureId:this.editedFeatureId,propertyMutations:{[dt.EDITED]:!1},context:{updateType:Ct.Finish,action:Il}})))return;const o=this.editedFeatureId;r(!0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(o,{mode:this.mode,action:Il})}cleanUp(){const t=this.currentId,r=this.snappedPointId;this.snappedPointId=void 0,this.currentId=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),t&&this.showCoordinatePoints&&this.coordinatePoints.deletePointsByFeatureIds([t]),this.mutateFeature.deleteFeatureIfPresent(t),this.mutateFeature.deleteFeatureIfPresent(r),this.closingPoints.delete()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.type==="Feature"&&t.geometry.type==="LineString"&&t.properties.mode===this.mode)return r.lineStringColor=this.getHexColorStylingValue(this.styles.lineStringColor,r.lineStringColor,t),r.lineStringOpacity=this.getNumericStylingValue(this.styles.lineStringOpacity,r.lineStringOpacity===void 0?1:r.lineStringOpacity,t),r.lineStringWidth=this.getNumericStylingValue(this.styles.lineStringWidth,r.lineStringWidth,t),r.zIndex=bc,r;if(t.type==="Feature"&&t.geometry.type==="Point"&&t.properties.mode===this.mode){const o=t.properties[dt.COORDINATE_POINT],s=t.properties[dt.CLOSING_POINT]?"closingPoint":t.properties[dt.SNAPPING_POINT]?"snappingPoint":o?"coordinatePoint":void 0;if(!s)return r;const l={closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return r.pointWidth=this.getNumericStylingValue(l[s].width,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(l[s].opacity,1,t),r.pointColor=this.getHexColorStylingValue(l[s].color,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(l[s].outlineColor,"#ffffff",t),r.pointOutlineWidth=this.getNumericStylingValue(l[s].outlineWidth,2,t),r.pointOutlineOpacity=this.getNumericStylingValue(l[s].outlineOpacity,1,t),r.zIndex=o?20:50,r}return r}validateFeature(t){return this.validateModeFeature(t,r=>Bj(r,this.coordinatePrecision))}lineStringFilter(t){return!!(t.geometry.type==="LineString"&&t.properties&&t.properties.mode===this.mode)}snapCoordinate(t){var r,o,s;let l;if((r=this.snapping)!=null&&r.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),u&&(l=u)}if((o=this.snapping)!=null&&o.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),u&&(l=u)}if((s=this.snapping)!=null&&s.toCustom){const u=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(l=u)}return l}afterFeatureUpdated(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates}),this.editedFeatureId===t.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===t.id&&(this.closingPoints.delete(),this.currentCoordinate=0,this.currentId=void 0,this.state==="drawing"&&this.setStarted())}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates})}}const Vj="Feature is not a Point",Yj="Feature has invalid coordinates",Kj="Feature has coordinates with excessive precision";function Xj(e,t){return e.geometry.type!=="Point"?{valid:!1,reason:Vj}:vv(e.geometry.coordinates)?Nh(e.geometry.coordinates,t)?{valid:!0}:{valid:!1,reason:Kj}:{valid:!1,reason:Yj}}class Wj extends nr{constructor(t,r,o){super(t),this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pixelDistance=r,this.clickBoundingBox=o}getNearestPointFeature(t){const r=this.clickBoundingBox.create(t),o=this.store.search(r);let s,l=1/0;for(let u=0;u<o.length;u++){const d=o[u];if(d.geometry.type!=="Point"||d.properties.mode!==this.mode)continue;const f=this.pixelDistance.measure(t,d.geometry.coordinates);f>l||f>this.pointerDistance||(l=f,s=d)}return s}}const Qj={create:"crosshair",dragStart:"grabbing",dragEnd:"crosshair"};class Zj extends Vc{constructor(t){super(t,!0),this.mode="point",this.cursors=Qj,this.editable=!1,this.editedFeatureId=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pointSearch=void 0,this.mutateFeature=void 0,this.updateOptions(t)}updateOptions(t){super.updateOptions(t),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t!=null&&t.editable&&(this.editable=t.editable)}start(){this.setStarted(),this.setCursor(this.cursors.create)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onClick(t){t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}onMouseMove(){}onKeyDown(){}onKeyUp(){}cleanUp(){this.editedFeatureId=void 0}onDragStart(t,r){if(this.allowPointerEvent(this.pointerEvents.onDragStart,t)){if(this.editable){const o=this.pointSearch.getNearestPointFeature(t);this.editedFeatureId=o?.id}this.editedFeatureId&&(this.setCursor(this.cursors.dragStart),r(!1))}}onDrag(t,r){this.allowPointerEvent(this.pointerEvents.onDrag,t)&&this.editedFeatureId!==void 0&&this.mutateFeature.updatePoint({featureId:this.editedFeatureId,coordinateMutations:{type:Jr,coordinates:[t.lng,t.lat]},propertyMutations:{[dt.EDITED]:!0},context:{updateType:Ct.Provisional}})}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||!this.mutateFeature.updatePoint({featureId:this.editedFeatureId,propertyMutations:{mode:this.mode,[dt.EDITED]:!1},context:{updateType:Ct.Finish,action:"edit"}}))return;const o=this.editedFeatureId;this.setCursor(this.cursors.dragEnd),this.editedFeatureId=void 0,r(!0),this.onFinish(o,{mode:this.mode,action:Aa})}registerBehaviors(t){this.pixelDistance=new zh(t),this.clickBoundingBox=new jh(t),this.pointSearch=new Wj(t,this.pixelDistance,this.clickBoundingBox),this.mutateFeature=new Ih(t,{validate:this.validate})}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.type==="Feature"&&t.geometry.type==="Point"&&t.properties.mode===this.mode){const o=!!(t.id&&this.editedFeatureId===t.id);r.pointWidth=this.getNumericStylingValue(o?this.styles.editedPointWidth:this.styles.pointWidth,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(this.styles.pointOpacity,r.pointOpacity===void 0?1:r.pointOpacity,t),r.pointColor=this.getHexColorStylingValue(o?this.styles.editedPointColor:this.styles.pointColor,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(o?this.styles.editedPointOutlineColor:this.styles.pointOutlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.pointOutlineOpacity,r.pointOutlineOpacity===void 0?1:r.pointOutlineOpacity,t),r.pointOutlineWidth=this.getNumericStylingValue(o?this.styles.editedPointOutlineWidth:this.styles.pointOutlineWidth,2,t),r.zIndex=30}return r}validateFeature(t){return this.validateModeFeature(t,r=>Xj(r,this.coordinatePrecision))}onLeftClick(t){const r=this.mutateFeature.createPoint({coordinates:[t.lng,t.lat],properties:{mode:this.mode},context:{updateType:Ct.Finish,action:Aa}});r&&this.onFinish(r.id,{mode:this.mode,action:Aa})}onRightClick(t){if(!this.editable)return;const r=this.pointSearch.getNearestPointFeature(t);r&&this.mutateFeature.deleteFeatureIfPresent(r.id)}afterFeatureUpdated(t){this.editedFeatureId===t.id&&(this.editedFeatureId=void 0,this.setCursor(this.cursors.create))}}const Jj={cancel:"Escape",finish:"Enter"},ez={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class tz extends Vc{constructor(t){super(t,!0),this.mode="polygon",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=Jj,this.cursors=ez,this.mouseMove=!1,this.showCoordinatePoints=!1,this.lastMouseMoveEvent=void 0,this.snapping=void 0,this.snappedPointId=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinatePoints=void 0,this.lineSnapping=void 0,this.coordinateSnapping=void 0,this.pixelDistance=void 0,this.closingPoints=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t!=null&&t.snapping&&(this.snapping=t.snapping),t?.editable!==void 0&&(this.editable=t.editable),t?.pointerEvents!==void 0&&(this.pointerEvents=t.pointerEvents),t?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=t.showCoordinatePoints,this.coordinatePoints&&t.showCoordinatePoints===!0)this.store.copyAllWhere(r=>r.mode===this.mode).forEach(r=>{this.coordinatePoints.createOrUpdate({featureId:r.id,featureCoordinates:r.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const r=this.store.copyAllWhere(o=>o.mode===this.mode&&!!o[dt.COORDINATE_POINT_IDS]);this.coordinatePoints.deletePointsByFeatureIds(r.map(o=>o.id))}}}close(){if(this.currentId===void 0||this.readFeature.getCoordinates(this.currentId).length<5)return;const t=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:vs,index:-2}],propertyMutations:{[dt.CURRENTLY_DRAWING]:void 0,[dt.COMMITTED_COORDINATE_COUNT]:void 0,[dt.PROVISIONAL_COORDINATE_COUNT]:void 0},context:{updateType:Ct.Finish,action:Aa}});if(!t)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:t.geometry.coordinates}),this.state==="drawing"&&this.setStarted(),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.closingPoints.delete();const r=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.onFinish(r,{mode:this.mode,action:Aa})}registerBehaviors(t){this.readFeature=new bv(t),this.mutateFeature=new Ih(t,{validate:this.validate}),this.clickBoundingBox=new jh(t),this.pixelDistance=new zh(t),this.lineSnapping=new wv(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new xv(t,this.pixelDistance,this.clickBoundingBox),this.closingPoints=new H_(t,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new Cv(t,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}updateSnappedCoordinate(t){const r=this.snapCoordinate(t);r?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:r}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:r,type:dt.SNAPPING_POINT}),t.lng=r[0],t.lat=r[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0)}onMouseMove(t){if(this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=t,this.updateSnappedCoordinate(t),this.currentId===void 0||this.currentCoordinate===0)return;const r=this.readFeature.getCoordinate(this.currentId,0),o=[t.lng,t.lat];let s;if(this.currentCoordinate===1)s=[{type:Er,index:1,coordinate:o},{type:Er,index:2,coordinate:[t.lng,t.lat-this.mutateFeature.epsilonOffset()]}];else if(this.currentCoordinate===2)s=[{type:Er,index:2,coordinate:o}];else{const{isClosing:u,isPreviousClosing:d}=this.closingPoints.isPolygonClosingPoints(t);d||u?(this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.setCursor(this.cursors.close),s=[{type:Er,index:-1,coordinate:r},{type:Er,index:-2,coordinate:r}]):s=[{type:Er,index:-2,coordinate:o},{type:Er,index:-1,coordinate:r}]}const l=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:s,propertyMutations:{[dt.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:Ct.Provisional}});l&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:l.geometry.coordinates})}snapCoordinate(t){var r,o,s;let l;if((r=this.snapping)!=null&&r.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),u&&(l=u)}if((o=this.snapping)!=null&&o.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),u&&(l=u)}if((s=this.snapping)!=null&&s.toCustom){const u=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(l=u)}return l}polygonFilter(t){return!!(t.geometry.type==="Polygon"&&t.properties&&t.properties.mode===this.mode)}onRightClick(t){if(!this.editable||this.state!=="started")return;const{featureId:r,featureCoordinateIndex:o}=this.coordinateSnapping.getSnappable(t,f=>this.polygonFilter(f));if(!r||o===void 0)return;const s=this.readFeature.getGeometry(r);if(s.type!=="Polygon")return;const l=s.coordinates[0];if(l.length<=4)return;let u;u=o===0||o===l.length-1?[{type:vs,index:0},{type:vs,index:-1},{type:Vl,index:-1,coordinate:l[1]}]:[{type:vs,index:o}];const d=this.mutateFeature.updatePolygon({featureId:r,coordinateMutations:u,context:{updateType:Ct.Finish,action:Il}});if(d){if(this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:r,featureCoordinates:d.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0,this.snapping)){const f=this.snapCoordinate(t);if(f){const[p]=this.mutateFeature.createGuidancePoints({type:dt.SNAPPING_POINT,coordinates:[f]});this.snappedPointId=p}}this.onFinish(r,{mode:this.mode,action:Il})}}onLeftClick(t){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);let r=this.snapCoordinate(t)||[t.lng,t.lat];if(this.currentCoordinate===0){const{id:o,geometry:s}=this.mutateFeature.createPolygon({coordinates:[r,r,r,r],properties:{mode:this.mode,[dt.CURRENTLY_DRAWING]:!0,[dt.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1,[dt.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1}});this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:o,featureCoordinates:s.coordinates}),this.currentId=o,this.currentCoordinate++,this.setDrawing()}else if(this.currentCoordinate===1&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:0}))return;const o=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Er,index:1,coordinate:r},{type:Er,index:2,coordinate:r}],propertyMutations:{[dt.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:Ct.Commit}});if(!o)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:o.geometry.coordinates}),this.currentCoordinate++}else if(this.currentCoordinate===2&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:1}))return;const o=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Er,index:2,coordinate:r},{type:Vl,index:2,coordinate:r}],propertyMutations:{[dt.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:Ct.Commit}});if(!o)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:o.geometry.coordinates}),this.currentCoordinate===2&&this.closingPoints.create(o.geometry.coordinates),this.currentCoordinate++}else if(this.currentId){const{isClosing:o,isPreviousClosing:s}=this.closingPoints.isPolygonClosingPoints(t);if(s||o)this.close();else{if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:this.currentCoordinate-1}))return;const l=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Gf,index:-1,coordinate:r}],propertyMutations:{[dt.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:Ct.Commit}});if(!l)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:l.geometry.coordinates}),this.currentCoordinate++,this.closingPoints.ids.length&&this.closingPoints.update(l.geometry.coordinates)}}}onClick(t){this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t)||!this.editable)return;let o;if(this.state==="started"){const s=this.lineSnapping.getSnappable(t,u=>this.polygonFilter(u));s.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,o=s.coordinate);const l=this.coordinateSnapping.getSnappable(t,u=>this.polygonFilter(u));l.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=l.featureCoordinateIndex,this.editedFeatureId=l.featureId,o=l.coordinate)}this.editedFeatureId&&o&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:o,type:dt.EDITED})),this.setCursor(this.cursors.dragStart),r(!1))}onDrag(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDrag,t)||this.editedFeatureId===void 0||this.editedFeatureCoordinateIndex===void 0)return;const o=this.readFeature.getGeometry(this.editedFeatureId),s=[t.lng,t.lat];let l=[];if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0?l=this.editedFeatureCoordinateIndex===0||this.editedFeatureCoordinateIndex===o.coordinates[0].length-1?[{type:Er,index:0,coordinate:s},{type:Er,index:-1,coordinate:s}]:[{type:Er,index:this.editedFeatureCoordinateIndex,coordinate:s}]:this.editedSnapType==="line"&&this.editedInsertIndex===void 0&&(this.editedInsertIndex=this.editedFeatureCoordinateIndex+1,l=[{type:Gf,index:this.editedInsertIndex,coordinate:s}],this.editedFeatureCoordinateIndex++),l.length===0)return;const u=this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,coordinateMutations:l,propertyMutations:{[dt.EDITED]:!0},context:{updateType:Ct.Provisional}});u&&(this.showCoordinatePoints&&(this.editedInsertIndex?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:u.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,u.geometry.coordinates[0][this.editedFeatureCoordinateIndex])),this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:s}]))}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,propertyMutations:{[dt.EDITED]:!1},context:{updateType:Ct.Finish,action:Il}})))return;const o=this.editedFeatureId;this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,r(!0),this.onFinish(o,{mode:this.mode,action:Aa})}cleanUp(){const t=this.currentId,r=this.snappedPointId,o=this.editedPointId;this.currentId=void 0,this.snappedPointId=void 0,this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),t&&this.coordinatePoints.deletePointsByFeatureIds([t]),this.mutateFeature.deleteFeatureIfPresent(t),this.mutateFeature.deleteFeatureIfPresent(o),this.mutateFeature.deleteFeatureIfPresent(r),this.closingPoints.ids.length&&this.closingPoints.delete()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.properties.mode===this.mode){if(t.geometry.type==="Polygon")return r.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,r.polygonFillColor,t),r.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,r.polygonOutlineColor,t),r.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,r.polygonOutlineWidth,t),r.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,r.polygonFillOpacity,t),r.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.outlineOpacity,1,t),r.zIndex=bc,r;if(t.geometry.type==="Point"){const o=t.properties[dt.EDITED],s=t.properties[dt.COORDINATE_POINT],l=o?"editedPoint":t.properties[dt.CLOSING_POINT]?"closingPoint":t.properties[dt.SNAPPING_POINT]?"snappingPoint":s?"coordinatePoint":void 0;if(!l)return r;const u={editedPoint:{width:this.styles.editedPointOutlineWidth,color:this.styles.editedPointColor,opacity:this.styles.editedPointOpacity,outlineColor:this.styles.editedPointOutlineColor,outlineWidth:this.styles.editedPointOutlineWidth,outlineOpacity:this.styles.editedPointOutlineOpacity},closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return r.pointWidth=this.getNumericStylingValue(u[l].width,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(u[l].opacity,1,t),r.pointColor=this.getHexColorStylingValue(u[l].color,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(u[l].outlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(u[l].outlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(u[l].outlineWidth,2,t),r.zIndex=o?40:s?20:30,r}}return r}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates})}afterFeatureUpdated(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates}),this.editedFeatureId===t.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===t.id&&(this.currentCoordinate=0,this.currentId=void 0,this.closingPoints.delete(),this.state==="drawing"&&this.setStarted())}validateFeature(t){return this.validateModeFeature(t,r=>zj(r,this.coordinatePrecision))}}function Fg(e,t){const r=e,o=t,s=Fr(r[1]),l=Fr(o[1]);let u=Fr(o[0]-r[0]);u>Math.PI&&(u-=2*Math.PI),u<-Math.PI&&(u+=2*Math.PI);const d=Math.log(Math.tan(l/2+Math.PI/4)/Math.tan(s/2+Math.PI/4)),f=(ql(Math.atan2(u,d))+360)%360;return f>180?-(360-f):f}function q_(e,t,r){let o=t;t<0&&(o=-Math.abs(o));const s=o/B_,l=e[0]*Math.PI/180,u=Fr(e[1]),d=Fr(r),f=s*Math.cos(d);let p=u+f;Math.abs(p)>Math.PI/2&&(p=p>0?Math.PI-p:-Math.PI-p);const g=Math.log(Math.tan(p/2+Math.PI/4)/Math.tan(u/2+Math.PI/4)),y=Math.abs(g)>1e-11?f/g:Math.cos(u),x=[(180*(l+s*Math.sin(d)/y)/Math.PI+540)%360-180,180*p/Math.PI];return x[0]+=x[0]-e[0]>180?-360:e[0]-x[0]>180?360:0,x}function nz(e,t,r,o,s){const l=o(e[0],e[1]),u=o(t[0],t[1]),{lng:d,lat:f}=s((l.x+u.x)/2,(l.y+u.y)/2);return[Rn(d,r),Rn(f,r)]}function rz(e,t,r){const o=q_(e,1e3*Ho(e,t)/2,Fg(e,t));return[Rn(o[0],r),Rn(o[1],r)]}function ug({featureCoords:e,precision:t,unproject:r,project:o,projection:s}){const l=[];for(let u=0;u<e.length-1;u++){let d;if(s==="web-mercator")d=nz(e[u],e[u+1],t,o,r);else{if(s!=="globe")throw new Error("Invalid projection");d=rz(e[u],e[u+1],t)}l.push(d)}return l}class iz extends nr{constructor(t,r,o,s,l,u){super(t),this.config=void 0,this.selectionPointBehavior=void 0,this.coordinatePointBehavior=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.pixelDistance=void 0,this._midPoints=[],this.config=t,this.selectionPointBehavior=r,this.coordinatePointBehavior=o,this.mutateFeature=s,this.readFeature=l,this.pixelDistance=u}getMidpointConfig(t){return{featureCoords:t,precision:this.coordinatePrecision,project:this.config.project,unproject:this.config.unproject,projection:this.config.projection}}get ids(){return this._midPoints.concat()}set ids(t){}getNearestMidPoint(t){let r,o=1/0;return this.ids.forEach(s=>{const l=this.readFeature.getGeometry(s),u=this.pixelDistance.measure(t,l.coordinates);u<this.pointerDistance&&u<o&&(o=u,r=s)}),r}insert({featureId:t,midPointId:r}){const o=this.readFeature.getGeometry(r),{midPointFeatureId:s,midPointSegment:l}=this.readFeature.getProperties(r),u=this.readFeature.getGeometry(s),d={featureId:s,coordinateMutations:[{type:Vl,index:l,coordinate:o.coordinates}],context:{updateType:Ct.Commit}};let f=null;if(u.type==="Polygon")f=this.mutateFeature.updatePolygon(d);else{if(u.type!=="LineString")throw new Error("Midpoints can only be added to polygons or linestrings");f=this.mutateFeature.updateLineString(d)}if(!f)throw new Error("Failed to insert midpoint coordinate");const p=f.geometry.coordinates;this.readFeature.getProperties(t)[dt.COORDINATE_POINT_IDS]&&this.coordinatePointBehavior.createOrUpdate({featureId:t,featureCoordinates:p}),this.mutateFeature.deleteFeaturesIfPresent([...this.selectionPointBehavior.ids,...this._midPoints]),this.create({featureCoordinates:p,featureId:s}),this.selectionPointBehavior.create({featureCoordinates:p,featureId:t})}create({featureCoordinates:t,featureId:r}){if(!this.readFeature.hasFeature(r))throw new Error("Store does not have feature with this id");const o=xc(t),s=ug(this.getMidpointConfig(o));this._midPoints=this.mutateFeature.createGuidancePoints({additionalProperties:l=>({mode:this.mode,midPointSegment:l,midPointFeatureId:r,[Un.MID_POINT]:!0}),coordinates:s,type:Un.MID_POINT})}delete(){this._midPoints.length&&(this.mutateFeature.deleteFeaturesIfPresent(this._midPoints),this._midPoints=[])}updateAllInPlace({featureCoordinates:t}){if(this._midPoints.length===0)return;const r=xc(t),o=ug(this.getMidpointConfig(r));this.mutateFeature.updateGuidancePoints(this._midPoints.map((s,l)=>({featureId:s,coordinate:o[l]})))}updateOneAtIndex(t,r){if(t<0&&(t=this._midPoints.length+t),this._midPoints[t]===void 0)return;const o=xc(r),s=ug(this.getMidpointConfig(o));this.mutateFeature.updateGuidancePoints([{featureId:this._midPoints[t],coordinate:s[t]}])}}class oz extends nr{constructor(t,r){super(t),this.mutateFeature=void 0,this._selectionPoints=[],this.mutateFeature=r}get ids(){return this._selectionPoints.concat()}set ids(t){}create({featureId:t,featureCoordinates:r}){const o=Vf(r);this._selectionPoints=this.mutateFeature.createGuidancePoints({coordinates:o,type:Un.SELECTION_POINT,additionalProperties:s=>({[Un.SELECTION_POINT_FEATURE_ID]:t,index:s})})}delete(){this.ids.length&&(this.mutateFeature.deleteFeaturesIfPresent(this.ids),this._selectionPoints=[])}updateAllInPlace({featureCoordinates:t}){if(this._selectionPoints.length===0)return;const r=Vf(t);r.length===this._selectionPoints.length&&this.mutateFeature.updateGuidancePoints(this._selectionPoints.map((o,s)=>({featureId:o,coordinate:r[s]})))}updateOneAtIndex(t,r){this._selectionPoints[t]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:this._selectionPoints[t],coordinate:r}])}}function G_(e,t){let r=!1;for(let u=0,d=t.length;u<d;u++){const f=t[u];for(let p=0,g=f.length,y=g-1;p<g;y=p++)(s=f[p])[1]>(o=e)[1]!=(l=f[y])[1]>o[1]&&o[0]<(l[0]-s[0])*(o[1]-s[1])/(l[1]-s[1])+s[0]&&(r=!r)}var o,s,l;return r}const kg=(e,t,r)=>{const o=l=>l*l,s=(l,u)=>o(l.x-u.x)+o(l.y-u.y);return Math.sqrt(((l,u,d)=>{const f=s(u,d);if(f===0)return s(l,u);let p=((l.x-u.x)*(d.x-u.x)+(l.y-u.y)*(d.y-u.y))/f;return p=Math.max(0,Math.min(1,p)),s(l,{x:u.x+p*(d.x-u.x),y:u.y+p*(d.y-u.y)})})(e,t,r))};class az extends nr{constructor(t,r,o){super(t),this.config=void 0,this.createClickBoundingBox=void 0,this.pixelDistance=void 0,this.config=t,this.createClickBoundingBox=r,this.pixelDistance=o}find(t,r){let o,s,l,u=1/0,d=1/0;const f=this.createClickBoundingBox.create(t),p=this.store.search(f);for(let g=0;g<p.length;g++){const y=p[g],x=y.geometry;if(x.type==="Point"){if(y.properties.selectionPoint||y.properties.coordinatePoint||!r&&y.properties[Un.MID_POINT])continue;const w=this.pixelDistance.measure(t,x.coordinates);!y.properties[Un.MID_POINT]&&w<this.pointerDistance&&w<u&&(u=w,o=y)}else if(x.type==="LineString"){if(o)continue;for(let w=0;w<x.coordinates.length-1;w++){const _=x.coordinates[w],E=x.coordinates[w+1],T=kg({x:t.containerX,y:t.containerY},this.project(_[0],_[1]),this.project(E[0],E[1]));T<this.pointerDistance&&T<d&&(d=T,s=y)}}else if(x.type==="Polygon"){if(o||s)continue;G_([t.lng,t.lat],x.coordinates)&&(l=y)}}return{clickedFeature:o||s||l}}}class sz extends nr{constructor(t,r,o,s,l,u,d){super(t),this.config=void 0,this.featuresAtCursorEvent=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedFeatureId=null,this.dragPosition=void 0,this.config=t,this.featuresAtCursorEvent=r,this.selectionPoints=o,this.midPoints=s,this.coordinatePoints=l,this.readFeature=u,this.mutateFeature=d}startDragging(t,r){this.draggedFeatureId=r,this.dragPosition=[t.lng,t.lat]}stopDragging(){this.draggedFeatureId=null,this.dragPosition=void 0}isDragging(){return this.draggedFeatureId!==null}canDrag(t,r){const{clickedFeature:o}=this.featuresAtCursorEvent.find(t,!0);return!(!o||o.id!==r)}drag(t){if(!this.draggedFeatureId)return;const r=this.readFeature.getGeometry(this.draggedFeatureId),o=[t.lng,t.lat];if(r.type==="Polygon"||r.type==="LineString"){let s,l;if(r.type==="Polygon"?(s=r.coordinates[0],l=s.length-1):(s=r.coordinates,l=s.length),!this.dragPosition)return!1;for(let p=0;p<l;p++){const g=s[p];let y,x;if(this.config.projection==="web-mercator"){const w=Pn(this.dragPosition[0],this.dragPosition[1]),_=Pn(o[0],o[1]),E=Pn(g[0],g[1]),T={x:w.x-_.x,y:w.y-_.y},N=E.x-T.x,R=E.y-T.y,{lng:j,lat:L}=Gl(N,R);y=j,x=L}else{const w=[this.dragPosition[0]-o[0],this.dragPosition[1]-o[1]];y=g[0]-w[0],x=g[1]-w[1]}if(y=Rn(y,this.config.coordinatePrecision),x=Rn(x,this.config.coordinatePrecision),y>180||y<-180||x>90||x<-90)return!1;s[p]=[y,x]}r.type==="Polygon"&&(s[s.length-1]=[s[0][0],s[0][1]]);const u=this.draggedFeatureId;let d=null;if(r.type==="Polygon")d=this.mutateFeature.updatePolygon({featureId:u,coordinateMutations:{type:Jr,coordinates:[s]},context:{updateType:Ct.Provisional}});else{if(r.type!=="LineString")return;d=this.mutateFeature.updateLineString({featureId:u,coordinateMutations:{type:Jr,coordinates:s},context:{updateType:Ct.Provisional}})}if(!d)return!1;const f=d.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:f}),this.selectionPoints.updateAllInPlace({featureCoordinates:f}),this.coordinatePoints.updateAllInPlace({featureId:u,featureCoordinates:f}),this.dragPosition=[t.lng,t.lat]}else r.type==="Point"&&(this.mutateFeature.updatePoint({featureId:this.draggedFeatureId,coordinateMutations:{type:Jr,coordinates:o},context:{updateType:Ct.Provisional}}),this.dragPosition=[t.lng,t.lat])}}class lz extends nr{constructor(t,r,o,s,l,u,d,f,p){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.coordinateSnapping=void 0,this.lineSnapping=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedCoordinate={id:null,index:-1},this.config=t,this.pixelDistance=r,this.selectionPoints=o,this.midPoints=s,this.coordinatePoints=l,this.coordinateSnapping=u,this.lineSnapping=d,this.readFeature=f,this.mutateFeature=p}getClosestCoordinate(t,r){const o={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let s;if(r.type==="LineString")s=r.coordinates;else{if(r.type!=="Polygon")return o;s=r.coordinates[0]}for(let l=0;l<s.length;l++){const u=this.pixelDistance.measure(t,s[l]);if(u<this.pointerDistance&&u<o.dist){const d=r.type==="Polygon"&&(l===s.length-1||l===0);o.dist=u,o.index=d?0:l,o.isFirstOrLastPolygonCoord=d}}return o}getDraggable(t,r){const o=this.readFeature.getGeometry(r);return this.getClosestCoordinate(t,o)}getDraggableIndex(t,r){const o=this.readFeature.getGeometry(r),s=this.getClosestCoordinate(t,o);return s.index===-1?-1:s.index}snapCoordinate(t,r,o){let s=[t.lng,t.lat];const l=u=>!!(u.properties&&u.properties.mode===o.properties.mode&&u.id!==this.draggedCoordinate.id);if(r!=null&&r.toLine){let u;u=this.lineSnapping.getSnappable(t,l).coordinate,u&&(s=u)}if(r.toCoordinate){let u;u=this.coordinateSnapping.getSnappable(t,l).coordinate,u&&(s=u)}if(r!=null&&r.toCustom){let u;u=r.toCustom(t,{currentCoordinate:this.draggedCoordinate.index,currentId:o.id,getCurrentGeometrySnapshot:o.id?()=>this.readFeature.getGeometry(o.id):()=>null,project:this.project,unproject:this.unproject}),u&&(s=u)}return s}drag(t,r,o){const s=this.draggedCoordinate.id;if(s===null)return!1;const l=this.draggedCoordinate.index,u=this.readFeature.getGeometry(s),d=this.readFeature.getProperties(s),f=u.type==="LineString"?u.coordinates:u.coordinates[0],p=u.type==="Polygon"&&(l===f.length-1||l===0),g=this.snapCoordinate(t,o,{type:"Feature",id:s,geometry:u,properties:d});if(t.lng>180||t.lng<-180||t.lat>90||t.lat<-90)return!1;if(p){const w=f.length-1;f[0]=g,f[w]=g}else f[l]=g;if(u.type!=="Point"&&!r&&Dj({geometry:u}))return!1;const y=s;let x=null;return u.type==="Polygon"?x=this.mutateFeature.updatePolygon({featureId:y,coordinateMutations:{type:Jr,coordinates:[f]},context:{updateType:Ct.Provisional}}):u.type==="LineString"&&(x=this.mutateFeature.updateLineString({featureId:y,coordinateMutations:{type:Jr,coordinates:f},context:{updateType:Ct.Provisional}})),!!x&&(this.midPoints.updateOneAtIndex(l>0?l-1:-1,f),this.midPoints.updateOneAtIndex(l,f),this.selectionPoints.updateOneAtIndex(l,g),this.coordinatePoints.updateOneAtIndex(y,l,g),!0)}isDragging(){return this.draggedCoordinate.id!==null}startDragging(t,r){this.draggedCoordinate={id:t,index:r}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}}function R1(e){let t=0,r=0,o=0;return(e.geometry.type==="Polygon"?e.geometry.coordinates[0].slice(0,-1):e.geometry.coordinates).forEach(s=>{t+=s[0],r+=s[1],o++},!0),[t/o,r/o]}const V_=(e,t)=>{if(t===0||t===360||t===-360)return e;const r=.017453292519943295*t,o=(e.geometry.type==="Polygon"?e.geometry.coordinates[0]:e.geometry.coordinates).map(([u,d])=>Pn(u,d)),s=o.reduce((u,d)=>({x:u.x+d.x,y:u.y+d.y}),{x:0,y:0});s.x/=o.length,s.y/=o.length;const l=o.map(u=>({x:s.x+(u.x-s.x)*Math.cos(r)-(u.y-s.y)*Math.sin(r),y:s.y+(u.x-s.x)*Math.sin(r)+(u.y-s.y)*Math.cos(r)})).map(({x:u,y:d})=>[Gl(u,d).lng,Gl(u,d).lat]);return e.geometry.type==="Polygon"?e.geometry.coordinates[0]=l:e.geometry.coordinates=l,e};function Bg(e){const t=(e.geometry.type==="Polygon"?e.geometry.coordinates[0]:e.geometry.coordinates).map(r=>{const{x:o,y:s}=Pn(r[0],r[1]);return[o,s]});return e.geometry.type==="Polygon"?(function(r){let o=0,s=0,l=0;const u=r.length;for(let d=0;d<u-1;d++){const[f,p]=r[d],[g,y]=r[d+1],x=f*y-g*p;o+=x,s+=(f+g)*x,l+=(p+y)*x}return o/=2,s/=6*o,l/=6*o,{x:s,y:l}})(t):(function(r){const o=r.length;let s=0,l=0;for(let u=0;u<o;u++){const[d,f]=r[u];s+=d,l+=f}return{x:s/o,y:l/o}})(t)}class uz extends nr{constructor(t,r,o,s,l,u){super(t),this.config=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryCentroid=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.config=t,this.selectionPoints=r,this.midPoints=o,this.coordinatePoints=s,this.readFeature=l,this.mutateFeature=u}reset(){this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.selectedGeometryCentroid=void 0}rotate(t,r){this.selectedGeometry||(this.selectedGeometry=this.readFeature.getGeometry(r));const o=this.selectedGeometry;if(o.type!=="Polygon"&&o.type!=="LineString")return;const s=[t.lng,t.lat];let l;const u={type:"Feature",geometry:o,properties:{}};if(this.config.projection==="web-mercator"){this.selectedGeometryWebMercatorCentroid||(this.selectedGeometryWebMercatorCentroid=Bg(u));const y=Pn(t.lng,t.lat);if(l=Lj(this.selectedGeometryWebMercatorCentroid,y),l===0)return;if(!this.lastBearing)return void(this.lastBearing=l);V_(u,-(this.lastBearing-l))}else{if(this.config.projection!=="globe")throw new Error("Unsupported projection");if(this.selectedGeometryCentroid||(this.selectedGeometryCentroid=R1({geometry:o})),l=Fg(this.selectedGeometryCentroid,s),!this.lastBearing)return void(this.lastBearing=l+180);(function(y,x){if(x===0||x===360||x===-360)return y;const w=R1(y);(y.geometry.type==="Polygon"?y.geometry.coordinates[0]:y.geometry.coordinates).forEach(_=>{const E=Fg(w,_)+x,T=(function(R,j){R[0]+=R[0]-j[0]>180?-360:j[0]-R[0]>180?360:0;const L=B_,F=j[1]*Math.PI/180,U=R[1]*Math.PI/180,I=U-F;let G=Math.abs(R[0]-j[0])*Math.PI/180;G>Math.PI&&(G-=2*Math.PI);const le=Math.log(Math.tan(U/2+Math.PI/4)/Math.tan(F/2+Math.PI/4)),he=Math.abs(le)>1e-11?I/le:Math.cos(F);return Math.sqrt(I*I+he*he*G*G)*L})(w,_),N=q_(w,T,E);_[0]=N[0],_[1]=N[1]})})(u,-(this.lastBearing-(l+180)))}const d=o.type==="Polygon"?o.coordinates[0]:o.coordinates;d.forEach(y=>{y[0]=Rn(y[0],this.coordinatePrecision),y[1]=Rn(y[1],this.coordinatePrecision)});const f={featureId:r,coordinateMutations:{type:Jr,coordinates:o.type==="Polygon"?[d]:d},context:{updateType:Ct.Provisional}};let p=null;if(u.geometry.type==="Polygon")p=this.mutateFeature.updatePolygon(f);else{if(u.geometry.type!=="LineString")return;p=this.mutateFeature.updateLineString(f)}if(!p)return!1;const g=p.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:g}),this.selectionPoints.updateAllInPlace({featureCoordinates:g}),this.coordinatePoints.updateAllInPlace({featureId:r,featureCoordinates:g}),this.projection==="web-mercator"?this.lastBearing=l:this.projection==="globe"&&(this.lastBearing=l+180)}}class cz extends nr{constructor(t,r){super(t),this.config=void 0,this.dragCoordinateResizeBehavior=void 0,this.config=t,this.dragCoordinateResizeBehavior=r}scale(t,r){if(!this.dragCoordinateResizeBehavior.isDragging()){const o=this.dragCoordinateResizeBehavior.getDraggableIndex(t,r);this.dragCoordinateResizeBehavior.startDragging(r,o)}this.dragCoordinateResizeBehavior.drag(t,"center-fixed")}reset(){this.dragCoordinateResizeBehavior.stopDragging()}}function Y_({coordinates:e,originX:t,originY:r,xScale:o,yScale:s}){o===1&&s===1||e.forEach(l=>{const{x:u,y:d}=Pn(l[0],l[1]),f=t+(u-t)*o,p=r+(d-r)*s,{lng:g,lat:y}=Gl(f,p);l[0]=g,l[1]=y})}class dz extends nr{constructor(t,r,o,s,l,u,d){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.minimumScale=1e-4,this.draggedCoordinate={id:null,index:-1},this.boundingBoxMaps={opposite:{0:4,1:5,2:6,3:7,4:0,5:1,6:2,7:3}},this.config=t,this.pixelDistance=r,this.selectionPoints=o,this.midPoints=s,this.coordinatePoints=l,this.readFeature=u,this.mutateFeature=d}getClosestCoordinate(t,r){const o={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let s;if(r.type==="LineString")s=r.coordinates;else{if(r.type!=="Polygon")return o;s=r.coordinates[0]}for(let l=0;l<s.length;l++){const u=this.pixelDistance.measure(t,s[l]);if(u<this.pointerDistance&&u<o.dist){const d=r.type==="Polygon"&&(l===s.length-1||l===0);o.dist=u,o.index=d?0:l,o.isFirstOrLastPolygonCoord=d}}return o}isValidDragWebMercator(t,r,o){switch(t){case 0:if(r<=0||o>=0)return!1;break;case 1:if(o>=0)return!1;break;case 2:if(r>=0||o>=0)return!1;break;case 3:if(r>=0)return!1;break;case 4:if(r>=0||o<=0)return!1;break;case 5:if(o<=0)return!1;break;case 6:if(r<=0||o<=0)return!1;break;case 7:if(r<=0)return!1}return!0}getSelectedFeatureDataWebMercator(){if(!this.draggedCoordinate.id||this.draggedCoordinate.index===-1)return null;const t=this.getFeature(this.draggedCoordinate.id);if(!t)return null;const r=this.getNormalisedCoordinates(t.geometry);return{boundingBox:this.getBBoxWebMercator(r),feature:t,updatedCoords:r,selectedCoordinate:r[this.draggedCoordinate.index]}}centerWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{feature:o,boundingBox:s,updatedCoords:l,selectedCoordinate:u}=r,d=Bg(o);if(!d)return null;const f=Pn(u[0],u[1]),{closestBBoxIndex:p}=this.getIndexesWebMercator(s,f),g=Pn(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:p,updatedCoords:l,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:d}),l}centerFixedWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{feature:o,boundingBox:s,updatedCoords:l,selectedCoordinate:u}=r,d=Bg(o);if(!d)return null;const f=Pn(u[0],u[1]),{closestBBoxIndex:p}=this.getIndexesWebMercator(s,f),g=Pn(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:p,updatedCoords:l,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:d}),l}scaleFixedWebMercator({closestBBoxIndex:t,webMercatorOrigin:r,webMercatorSelected:o,webMercatorCursor:s,updatedCoords:l}){if(!this.isValidDragWebMercator(t,r.x-s.x,r.y-s.y))return null;let u=Na(r,s)/Na(r,o);return u<0&&(u=this.minimumScale),Y_({coordinates:l,originX:r.x,originY:r.y,xScale:u,yScale:u}),l}oppositeFixedWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{boundingBox:o,updatedCoords:s,selectedCoordinate:l}=r,u=Pn(l[0],l[1]),{oppositeBboxIndex:d,closestBBoxIndex:f}=this.getIndexesWebMercator(o,u),p={x:o[d][0],y:o[d][1]},g=Pn(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:f,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:p}),s}oppositeWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{boundingBox:o,updatedCoords:s,selectedCoordinate:l}=r,u=Pn(l[0],l[1]),{oppositeBboxIndex:d,closestBBoxIndex:f}=this.getIndexesWebMercator(o,u),p={x:o[d][0],y:o[d][1]},g=Pn(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:f,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:p}),s}scaleWebMercator({closestBBoxIndex:t,webMercatorOrigin:r,webMercatorSelected:o,webMercatorCursor:s,updatedCoords:l}){const u=r.x-s.x,d=r.y-s.y;if(!this.isValidDragWebMercator(t,u,d))return null;let f=1;u!==0&&t!==1&&t!==5&&(f=1-(r.x-o.x-u)/u);let p=1;return d!==0&&t!==3&&t!==7&&(p=1-(r.y-o.y-d)/d),this.validateScale(f,p)?(f<0&&(f=this.minimumScale),p<0&&(p=this.minimumScale),this.performWebMercatorScale(l,r.x,r.y,f,p),l):null}getFeature(t){if(this.draggedCoordinate.id===null)return null;const r=this.readFeature.getGeometry(t);return r.type!=="Polygon"&&r.type!=="LineString"?null:{id:t,type:"Feature",geometry:r,properties:{}}}getNormalisedCoordinates(t){return t.type==="Polygon"?t.coordinates[0]:t.coordinates}validateScale(t,r){const o=!isNaN(t)&&r<Number.MAX_SAFE_INTEGER,s=!isNaN(r)&&r<Number.MAX_SAFE_INTEGER;return o&&s}performWebMercatorScale(t,r,o,s,l){t.forEach(u=>{const{x:d,y:f}=Pn(u[0],u[1]),p=r+(d-r)*s,g=o+(f-o)*l,{lng:y,lat:x}=Gl(p,g);u[0]=y,u[1]=x})}getBBoxWebMercator(t){const r=[1/0,1/0,-1/0,-1/0];(t=t.map(d=>{const{x:f,y:p}=Pn(d[0],d[1]);return[f,p]})).forEach(([d,f])=>{d<r[0]&&(r[0]=d),f<r[1]&&(r[1]=f),d>r[2]&&(r[2]=d),f>r[3]&&(r[3]=f)});const[o,s,l,u]=r;return[[o,u],[(o+l)/2,u],[l,u],[l,u+(s-u)/2],[l,s],[(o+l)/2,s],[o,s],[o,u+(s-u)/2]]}getIndexesWebMercator(t,r){let o,s=1/0;for(let l=0;l<t.length;l++){const u=Na({x:r.x,y:r.y},{x:t[l][0],y:t[l][1]});u<s&&(o=l,s=u)}if(o===void 0)throw new Error("No closest coordinate found");return{oppositeBboxIndex:this.boundingBoxMaps.opposite[o],closestBBoxIndex:o}}isDragging(){return this.draggedCoordinate.id!==null}startDragging(t,r){this.draggedCoordinate={id:t,index:r}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}getDraggableIndex(t,r){const o=this.readFeature.getGeometry(r),s=this.getClosestCoordinate(t,o);return s.index===-1?-1:s.index}drag(t,r){if(!this.draggedCoordinate.id)return!1;const o=this.getFeature(this.draggedCoordinate.id);if(!o)return!1;let s=null;if(r==="center"?s=this.centerWebMercatorDrag(t):r==="opposite"?s=this.oppositeWebMercatorDrag(t):r==="center-fixed"?s=this.centerFixedWebMercatorDrag(t):r==="opposite-fixed"&&(s=this.oppositeFixedWebMercatorDrag(t)),!s)return!1;for(let f=0;f<s.length;f++){const p=s[f];if(p[0]=Rn(p[0],this.coordinatePrecision),p[1]=Rn(p[1],this.coordinatePrecision),!Nh(p,this.coordinatePrecision))return!1}const l=o.id;let u=null;if(o.geometry.type==="Polygon"?u=this.mutateFeature.updatePolygon({featureId:l,coordinateMutations:{type:Jr,coordinates:[s]},context:{updateType:Ct.Provisional}}):o.geometry.type==="LineString"&&(u=this.mutateFeature.updateLineString({featureId:l,coordinateMutations:{type:Jr,coordinates:s},context:{updateType:Ct.Provisional}})),!u)return!1;const d=u.geometry.coordinates;return this.midPoints.updateAllInPlace({featureCoordinates:d}),this.selectionPoints.updateAllInPlace({featureCoordinates:d}),this.coordinatePoints.updateAllInPlace({featureId:l,featureCoordinates:d}),!0}}const fz={deselect:"Escape",delete:"Delete",rotate:["Control","r"],scale:["Control","s"]},D1={pointerOver:"move",dragStart:"move",dragEnd:"move",insertMidpoint:"crosshair"};class hz extends Pj{constructor(t){super(t,!0),this.mode="select",this.allowManualDeselection=!0,this.dragEventThrottle=5,this.dragEventCount=0,this.selected=[],this.flags={},this.keyEvents=fz,this.cursors=D1,this.validations={},this.dragTarget={type:"none"},this.selectionPoints=void 0,this.midPoints=void 0,this.coordinateSnap=void 0,this.featuresAtMouseEvent=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.dragFeature=void 0,this.dragCoordinate=void 0,this.rotateFeature=void 0,this.scaleFeature=void 0,this.dragCoordinateResizeFeature=void 0,this.coordinatePoints=void 0,this.lineSnap=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),this.cursors=t&&t.cursors?Wt({},this.cursors,t.cursors):D1,t?.keyEvents===null?this.keyEvents={deselect:null,delete:null,rotate:null,scale:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t?.dragEventThrottle!==void 0&&(this.dragEventThrottle=t.dragEventThrottle),t?.allowManualDeselection!==void 0&&(this.allowManualDeselection=t.allowManualDeselection),t!=null&&t.flags){this.flags=Wt({},this.flags,t.flags),this.validations={};for(const r in this.flags){const o=this.flags[r].feature;o&&o.validation&&(this.validations[r]=o.validation)}}}selectFeature(t){this.select(t,!1)}setSelecting(){if(this._state!=="started")throw new Error("Mode must be started to move to selecting state");this._state="selecting"}registerBehaviors(t){this.readFeature=new bv(t),this.mutateFeature=new Ih(t,{validate:(r,o)=>{const s=r.properties.mode;return this.validations&&this.validations[s]?this.validations[s](r,o):{valid:!0}}}),this.pixelDistance=new zh(t),this.clickBoundingBox=new jh(t),this.featuresAtMouseEvent=new az(t,this.clickBoundingBox,this.pixelDistance),this.selectionPoints=new oz(t,this.mutateFeature),this.coordinatePoints=new Cv(t,this.readFeature,this.mutateFeature),this.midPoints=new iz(t,this.selectionPoints,this.coordinatePoints,this.mutateFeature,this.readFeature,this.pixelDistance),this.coordinateSnap=new xv(t,this.pixelDistance,this.clickBoundingBox),this.lineSnap=new wv(t,this.pixelDistance,this.clickBoundingBox),this.rotateFeature=new uz(t,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragFeature=new sz(t,this.featuresAtMouseEvent,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragCoordinate=new lz(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.coordinateSnap,this.lineSnap,this.readFeature,this.mutateFeature),this.dragCoordinateResizeFeature=new dz(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.scaleFeature=new cz(t,this.dragCoordinateResizeFeature)}deselectFeature(t){this.deselect(t)}deselect(t){this.selected.includes(t)&&(this.mutateFeature.setDeselected(this.selected),this.onDeselect(this.selected[0]),this.selected=[],this.selectionPoints.delete(),this.midPoints.delete(),this.dragTarget={type:"none"})}deleteSelected(){this.selected.length&&this.mutateFeature.deleteFeaturesIfPresent(this.selected),this.selected=[],this.dragTarget={type:"none"}}clearDragTargetAndCursor(){this.dragTarget={type:"none"},this.setCursor("unset")}getSelectedFlags(t){const r=this.readFeature.getProperties(t),o=this.flags[r.mode],s=o?.feature,l=s?.coordinates;return{featureFlags:s,coordinatesFlags:l,hasDraggableFlags:s&&(s.draggable||l?.draggable||l?.resizable||typeof l?.midpoints=="object"&&l.midpoints.draggable)}}onRightClick(t){if(!this.selectionPoints.ids.length)return;let r,o=1/0;if(this.selectionPoints.ids.forEach(x=>{const w=this.readFeature.getGeometry(x),_=this.pixelDistance.measure(t,w.coordinates);_<this.pointerDistance&&_<o&&(o=_,r=this.readFeature.getProperties(x))}),!r)return;const s=r.selectionPointFeatureId,l=r.index,u=this.readFeature.getProperties(s),d=this.flags[u.mode];if(!(d&&d.feature&&d.feature.coordinates&&d.feature.coordinates.deletable))return;const f=this.readFeature.getGeometry(s);let p;if(f.type==="Polygon"){if(p=f.coordinates[0],p.length<=4)return}else if(f.type!=="LineString"||(p=f.coordinates,p.length<=2))return;f.type!=="Polygon"||l!==0&&l!==p.length-1?p.splice(l,1):(p.shift(),p.pop(),p.push([p[0][0],p[0][1]]));let g=null;if(f.type==="Polygon"?g=this.mutateFeature.updatePolygon({featureId:s,coordinateMutations:{type:Jr,coordinates:[p]},context:{updateType:Ct.Commit}}):f.type==="LineString"&&(g=this.mutateFeature.updateLineString({featureId:s,coordinateMutations:{type:Jr,coordinates:p},context:{updateType:Ct.Commit}})),!g)return;const y=g.geometry.coordinates;this.mutateFeature.deleteFeaturesIfPresent([...this.midPoints.ids,...this.selectionPoints.ids]),u.coordinatePointIds&&this.coordinatePoints.createOrUpdate({featureId:s,featureCoordinates:y}),this.selectionPoints.create({featureCoordinates:y,featureId:s}),d&&d.feature&&d.feature.coordinates&&d.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:y,featureId:s}),this.onFinish(s,{action:k_,mode:this.mode})}select(t,r=!0){if(this.selected[0]===t)return;const{mode:o}=this.readFeature.getProperties(t),s=this.flags[o];if(!s||!s.feature)return;const l=this.selected[0];if(l){if(l===t)return;this.deselect(l)}r&&this.setCursor(this.cursors.pointerOver),this.selected=[t],this.mutateFeature.setSelected(t),this.onSelect(t);const{type:u,coordinates:d}=this.readFeature.getGeometry(t);u!=="LineString"&&u!=="Polygon"||d&&s&&s.feature.coordinates&&(this.selectionPoints.create({featureCoordinates:d,featureId:t}),s.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:d,featureId:t}))}onLeftClick(t){const{clickedFeature:r}=this.featuresAtMouseEvent.find(t,this.selected.length>0),o=this.midPoints.getNearestMidPoint(t),s=this.selected[0];if(s){var l;const{featureFlags:u}=this.getSelectedFlags(s);if(u!=null&&(l=u.coordinates)!=null&&l.midpoints&&o){if(u.coordinates.draggable){const d=this.pixelDistance.measure(t,this.readFeature.getGeometry(o).coordinates),{dist:f}=this.dragCoordinate.getDraggable(t,s);if(f!==void 0&&d>f)return}return this.midPoints.insert({featureId:s,midPointId:o}),void this.onFinish(this.selected[0],{action:b1,mode:this.mode})}}if(r!=null&&r.id)this.select(r.id,!0);else if(this.selected.length&&this.allowManualDeselection)return void this.deselect(this.selected[0])}start(){this.setStarted(),this.setSelecting()}stop(){this.cleanUp(),this.setStarted(),this.setStopped()}onClick(t){t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}canScale(t){return this.keyEvents.scale&&this.keyEvents.scale.every(r=>t.heldKeys.includes(r))}canRotate(t){return this.keyEvents.rotate&&this.keyEvents.rotate.every(r=>t.heldKeys.includes(r))}preventDefaultKeyEvent(t){const r=this.canRotate(t),o=this.canScale(t);(r||o)&&t.preventDefault()}onKeyDown(t){this.preventDefaultKeyEvent(t)}onKeyUp(t){if(this.preventDefaultKeyEvent(t),this.keyEvents.delete&&t.key===this.keyEvents.delete){if(!this.selected.length)return;const r=this.selected[0];this.onDeselect(this.selected[0]),this.coordinatePoints.deletePointsByFeatureIds([r]),this.deleteSelected(),this.selectionPoints.delete(),this.midPoints.delete()}else this.keyEvents.deselect&&t.key===this.keyEvents.deselect&&this.cleanUp()}cleanUp(){this.selected.length&&this.deselect(this.selected[0])}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t))return;const o=this.selected[0];if(!o)return;const{featureFlags:s,coordinatesFlags:l,hasDraggableFlags:u}=this.getSelectedFlags(o);if(!u)return;this.dragEventCount=0;const d=this.dragTarget.type!=="none"&&this.dragTarget.featureId===o?this.dragTarget:{type:"none"},f=d.type==="coordinate"?d.coordinateIndex:this.dragCoordinate.getDraggableIndex(t,o),p=d.type==="resize"?d.coordinateIndex:this.dragCoordinateResizeFeature.getDraggableIndex(t,o),g=l?.resizable&&p!==-1,y=l?.draggable&&f!==-1,x=l&&typeof l.midpoints=="object"&&l.midpoints.draggable,w=s?.draggable&&(d.type==="feature"||this.dragFeature.canDrag(t,o));if(g)return this.setCursor(this.cursors.dragStart),this.dragCoordinateResizeFeature.startDragging(o,p),void r(!1);if(y)return this.setCursor(this.cursors.dragStart),this.dragCoordinate.startDragging(o,f),void r(!1);if(x){const _=d.type==="midpoint"?d.midPointId:this.midPoints.getNearestMidPoint(t);if(this.selected.length&&_){this.midPoints.insert({featureId:o,midPointId:_}),this.onFinish(this.selected[0],{action:b1,mode:this.mode});const E=this.dragCoordinate.getDraggableIndex(t,o);return this.dragCoordinate.startDragging(o,E),void r(!1)}}if(w)return this.setCursor(this.cursors.dragStart),this.dragFeature.startDragging(t,o),void r(!1);this.setCursor("unset")}onDrag(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDrag,t))return;const o=this.selected[0];if(!o)return;const s=this.readFeature.getProperties(o),l=this.flags[s.mode],u=(l&&l.feature&&l.feature.selfIntersectable)===!0;if(this.dragEventCount++,this.dragEventCount%this.dragEventThrottle!=0){if(l&&l.feature&&l.feature.rotateable&&this.canRotate(t))return r(!1),void this.rotateFeature.rotate(t,o);if(l&&l.feature&&l.feature.scaleable&&this.canScale(t))return r(!1),void this.scaleFeature.scale(t,o);if(this.dragCoordinateResizeFeature.isDragging()&&l.feature&&l.feature.coordinates&&l.feature.coordinates.resizable){if(this.projection==="globe")throw new Error("Globe is currently unsupported projection for resizable");return r(!1),void this.dragCoordinateResizeFeature.drag(t,l.feature.coordinates.resizable)}if(this.dragCoordinate.isDragging()){var d;const f=(d=l.feature)==null||(d=d.coordinates)==null?void 0:d.snappable;let p={toCoordinate:!1};return f===!0?p={toCoordinate:!0}:typeof f=="object"&&(p=f),void this.dragCoordinate.drag(t,u,p)}this.dragFeature.isDragging()?this.dragFeature.drag(t):r(!0)}}onDragEnd(t,r){this.allowPointerEvent(this.pointerEvents.onDragEnd,t)&&(this.setCursor(this.cursors.dragEnd),this.dragCoordinate.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinate"}):this.dragFeature.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragFeature"}):this.dragCoordinateResizeFeature.isDragging()&&this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinateResize"}),this.dragCoordinate.stopDragging(),this.dragFeature.stopDragging(),this.dragCoordinateResizeFeature.stopDragging(),this.rotateFeature.reset(),this.scaleFeature.reset(),r(!0))}onMouseMove(t){const r=this.selected[0];if(!r)return void this.clearDragTargetAndCursor();if(this.dragFeature.isDragging()||this.dragCoordinate.isDragging()||this.dragCoordinateResizeFeature.isDragging())return;const{featureFlags:o}=this.getSelectedFlags(r);if(!o)return void this.clearDragTargetAndCursor();let s;const l=o.coordinates;if(l!=null&&l.midpoints&&(s=this.midPoints.getNearestMidPoint(t),s&&(this.dragTarget={type:"midpoint",featureId:r,midPointId:s},this.setCursor(this.cursors.insertMidpoint))),l&&l.draggable){const{index:u,dist:d}=this.dragCoordinate.getDraggable(t,r);if(u>-1)return s&&this.pixelDistance.measure(t,this.readFeature.getGeometry(s).coordinates)<d?void 0:(this.dragTarget={type:"coordinate",featureId:r,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver))}if(l&&l.resizable){const u=this.dragCoordinateResizeFeature.getDraggableIndex(t,r);if(u>-1)return this.dragTarget={type:"resize",featureId:r,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver)}if(o.draggable&&this.dragFeature.canDrag(t,r))return s?void 0:(this.dragTarget={type:"feature",featureId:r},void this.setCursor(this.cursors.pointerOver));s||this.clearDragTargetAndCursor()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.properties.mode===this.mode&&t.geometry.type==="Point"){if(t.properties[Un.SELECTION_POINT])return r.pointColor=this.getHexColorStylingValue(this.styles.selectionPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.selectionPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectionPointOutlineColor,r.pointOutlineColor,t),r.pointWidth=this.getNumericStylingValue(this.styles.selectionPointWidth,r.pointWidth,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectionPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectionPointOutlineWidth,2,t),r.zIndex=30,r;if(t.properties[Un.MID_POINT])return r.pointColor=this.getHexColorStylingValue(this.styles.midPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.midPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.midPointOutlineColor,r.pointOutlineColor,t),r.pointWidth=this.getNumericStylingValue(this.styles.midPointWidth,4,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.midPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.midPointOutlineWidth,2,t),r.zIndex=50,r}else if(t.properties[Un.SELECTED]){if(t.geometry.type==="Point"&&t.properties[dt.MARKER])return r.markerUrl=this.getUrlStylingValue(this.styles.selectedMarkerUrl,Oj,t),r.markerHeight=this.getNumericStylingValue(this.styles.selectedMarkerHeight,40,t),r.markerWidth=this.getNumericStylingValue(this.styles.selectedMarkerWidth,32,t),r;if(t.geometry.type==="Polygon")return r.polygonFillColor=this.getHexColorStylingValue(this.styles.selectedPolygonColor,r.polygonFillColor,t),r.polygonOutlineWidth=this.getNumericStylingValue(this.styles.selectedPolygonOutlineWidth,r.polygonOutlineWidth,t),r.polygonOutlineColor=this.getHexColorStylingValue(this.styles.selectedPolygonOutlineColor,r.polygonOutlineColor,t),r.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPolygonOutlineOpacity,1,t),r.polygonFillOpacity=this.getNumericStylingValue(this.styles.selectedPolygonFillOpacity,r.polygonFillOpacity,t),r.zIndex=bc,r;if(t.geometry.type==="LineString")return r.lineStringColor=this.getHexColorStylingValue(this.styles.selectedLineStringColor,r.lineStringColor,t),r.lineStringWidth=this.getNumericStylingValue(this.styles.selectedLineStringWidth,r.lineStringWidth,t),r.zIndex=bc,r;if(t.geometry.type==="Point")return r.pointWidth=this.getNumericStylingValue(this.styles.selectedPointWidth,r.pointWidth,t),r.pointColor=this.getHexColorStylingValue(this.styles.selectedPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.selectedPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectedPointOutlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectedPointOutlineWidth,r.pointOutlineWidth,t),r.zIndex=bc,r}return r}afterFeatureUpdated(t){if(this.selected.length&&t.id===this.selected[0]){var r,o;const s=this.flags[t.properties.mode];if(s==null||(r=s.feature)==null||!r.coordinates)return;const l=t.geometry.type,u=t.id;if(this.selectionPoints.delete(),this.midPoints.delete(),l!=="LineString"&&l!=="Polygon")return;const d=t.geometry.coordinates;this.selectionPoints.create({featureCoordinates:d,featureId:u}),s!=null&&(o=s.feature)!=null&&(o=o.coordinates)!=null&&o.midpoints&&this.midPoints.create({featureCoordinates:d,featureId:u})}}}class pz extends Vc{constructor(...t){super(...t),this.type=Hl.Static,this.mode="static"}start(){}stop(){}onKeyUp(){}onKeyDown(){}onClick(){}onDragStart(){}onDrag(){}onDragEnd(){}onMouseMove(){}cleanUp(){}styleFeature(){return Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0})}}function K_(e,t,r,o,s){for(;o>r;){if(o-r>600){const f=o-r+1,p=t-r+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(p-f/2<0?-1:1);K_(e,t,Math.max(r,Math.floor(t-p*y/f+x)),Math.min(o,Math.floor(t+(f-p)*y/f+x)),s)}const l=e[t];let u=r,d=o;for(dc(e,r,t),s(e[o],l)>0&&dc(e,r,o);u<d;){for(dc(e,u,d),u++,d--;s(e[u],l)<0;)u++;for(;s(e[d],l)>0;)d--}s(e[r],l)===0?dc(e,r,d):(d++,dc(e,d,o)),d<=t&&(r=d+1),t<=d&&(o=d-1)}}function dc(e,t,r){const o=e[t];e[t]=e[r],e[r]=o}function El(e,t){mc(e,0,e.children.length,t,e)}function mc(e,t,r,o,s){s||(s=Pl([])),s.minX=1/0,s.minY=1/0,s.maxX=-1/0,s.maxY=-1/0;for(let l=t;l<r;l++){const u=e.children[l];gc(s,e.leaf?o(u):u)}return s}function gc(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function mz(e,t){return e.minX-t.minX}function gz(e,t){return e.minY-t.minY}function cg(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function bf(e){return e.maxX-e.minX+(e.maxY-e.minY)}function yz(e,t){const r=Math.max(e.minX,t.minX),o=Math.max(e.minY,t.minY),s=Math.min(e.maxX,t.maxX),l=Math.min(e.maxY,t.maxY);return Math.max(0,s-r)*Math.max(0,l-o)}function dg(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function xf(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Pl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function A1(e,t,r,o,s){const l=[t,r];for(;l.length;){if((r=l.pop())-(t=l.pop())<=o)continue;const u=t+Math.ceil((r-t)/o/2)*o;K_(e,u,t,r,s),l.push(t,u,u,r)}}class vz{constructor(t){this._maxEntries=void 0,this._minEntries=void 0,this.data=void 0,this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}search(t){let r=this.data;const o=[];if(!xf(t,r))return o;const s=this.toBBox,l=[];for(;r;){for(let u=0;u<r.children.length;u++){const d=r.children[u],f=r.leaf?s(d):d;xf(t,f)&&(r.leaf?o.push(d):dg(t,f)?this._all(d,o):l.push(d))}r=l.pop()}return o}collides(t){let r=this.data;if(xf(t,r)){const o=[];for(;r;){for(let s=0;s<r.children.length;s++){const l=r.children[s],u=r.leaf?this.toBBox(l):l;if(xf(t,u)){if(r.leaf||dg(t,u))return!0;o.push(l)}}r=o.pop()}}return!1}load(t){if(t.length<this._minEntries){for(let o=0;o<t.length;o++)this.insert(t[o]);return}let r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){const o=this.data;this.data=r,r=o}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r}insert(t){this._insert(t,this.data.height-1)}clear(){this.data=Pl([])}remove(t){let r=this.data;const o=this.toBBox(t),s=[],l=[];let u,d,f=!1;for(;r||s.length;){if(r||(r=s.pop(),d=s[s.length-1],u=l.pop(),f=!0),r.leaf){const p=r.children.indexOf(t);p!==-1&&(r.children.splice(p,1),s.push(r),this._condense(s))}f||r.leaf||!dg(r,o)?d?(u++,r=d.children[u],f=!1):r=null:(s.push(r),l.push(u),u=0,d=r,r=r.children[0])}}toBBox(t){return t}compareMinX(t,r){return t.minX-r.minX}compareMinY(t,r){return t.minY-r.minY}_all(t,r){const o=[];for(;t;)t.leaf?r.push(...t.children):o.push(...t.children),t=o.pop();return r}_build(t,r,o,s){const l=o-r+1;let u,d=this._maxEntries;if(l<=d)return u=Pl(t.slice(r,o+1)),El(u,this.toBBox),u;s||(s=Math.ceil(Math.log(l)/Math.log(d)),d=Math.ceil(l/Math.pow(d,s-1))),u=Pl([]),u.leaf=!1,u.height=s;const f=Math.ceil(l/d),p=f*Math.ceil(Math.sqrt(d));A1(t,r,o,p,this.compareMinX);for(let g=r;g<=o;g+=p){const y=Math.min(g+p-1,o);A1(t,g,y,f,this.compareMinY);for(let x=g;x<=y;x+=f){const w=Math.min(x+f-1,y);u.children.push(this._build(t,x,w,s-1))}}return El(u,this.toBBox),u}_chooseSubtree(t,r,o,s){for(;s.push(r),!r.leaf&&s.length-1!==o;){let d,f=1/0,p=1/0;for(let g=0;g<r.children.length;g++){const y=r.children[g],x=cg(y),w=(l=t,u=y,(Math.max(u.maxX,l.maxX)-Math.min(u.minX,l.minX))*(Math.max(u.maxY,l.maxY)-Math.min(u.minY,l.minY))-x);w<p?(p=w,f=x<f?x:f,d=y):w===p&&x<f&&(f=x,d=y)}r=d||r.children[0]}var l,u;return r}_insert(t,r,o){const s=o?t:this.toBBox(t),l=[],u=this._chooseSubtree(s,this.data,r,l);for(u.children.push(t),gc(u,s);r>=0&&l[r].children.length>this._maxEntries;)this._split(l,r),r--;this._adjustParentBBoxes(s,l,r)}_split(t,r){const o=t[r],s=o.children.length,l=this._minEntries;this._chooseSplitAxis(o,l,s);const u=this._chooseSplitIndex(o,l,s),d=Pl(o.children.splice(u,o.children.length-u));d.height=o.height,d.leaf=o.leaf,El(o,this.toBBox),El(d,this.toBBox),r?t[r-1].children.push(d):this._splitRoot(o,d)}_splitRoot(t,r){this.data=Pl([t,r]),this.data.height=t.height+1,this.data.leaf=!1,El(this.data,this.toBBox)}_chooseSplitIndex(t,r,o){let s,l=1/0,u=1/0;for(let d=r;d<=o-r;d++){const f=mc(t,0,d,this.toBBox),p=mc(t,d,o,this.toBBox),g=yz(f,p),y=cg(f)+cg(p);g<l?(l=g,s=d,u=y<u?y:u):g===l&&y<u&&(u=y,s=d)}return s||o-r}_chooseSplitAxis(t,r,o){const s=t.leaf?this.compareMinX:mz,l=t.leaf?this.compareMinY:gz;this._allDistMargin(t,r,o,s)<this._allDistMargin(t,r,o,l)&&t.children.sort(s)}_allDistMargin(t,r,o,s){t.children.sort(s);const l=this.toBBox,u=mc(t,0,r,l),d=mc(t,o-r,o,l);let f=bf(u)+bf(d);for(let p=r;p<o-r;p++){const g=t.children[p];gc(u,t.leaf?l(g):g),f+=bf(u)}for(let p=o-r-1;p>=r;p--){const g=t.children[p];gc(d,t.leaf?l(g):g),f+=bf(d)}return f}_adjustParentBBoxes(t,r,o){for(let s=o;s>=0;s--)gc(r[s],t)}_condense(t){for(let r,o=t.length-1;o>=0;o--)t[o].children.length===0?o>0?(r=t[o-1].children,r.splice(r.indexOf(t[o]),1)):this.clear():El(t[o],this.toBBox)}}class bz{constructor(t){this.tree=void 0,this.idToNode=void 0,this.nodeToId=void 0,this.tree=new vz(t&&t.maxEntries?t.maxEntries:9),this.idToNode=new Map,this.nodeToId=new Map}setMaps(t,r){this.idToNode.set(t.id,r),this.nodeToId.set(r,t.id)}toBBox(t){const r=[],o=[];let s;if(t.geometry.type==="Polygon")s=t.geometry.coordinates[0];else if(t.geometry.type==="LineString")s=t.geometry.coordinates;else{if(t.geometry.type!=="Point")throw new Error("Not a valid feature to turn into a bounding box");s=[t.geometry.coordinates]}for(let d=0;d<s.length;d++)o.push(s[d][1]),r.push(s[d][0]);const l=Math.min(...o),u=Math.max(...o);return{minX:Math.min(...r),minY:l,maxX:Math.max(...r),maxY:u}}insert(t){if(this.idToNode.get(String(t.id)))throw new Error("Feature already exists");const r=this.toBBox(t);this.setMaps(t,r),this.tree.insert(r)}load(t){const r=[],o=new Set;t.forEach(s=>{const l=this.toBBox(s);if(this.setMaps(s,l),o.has(String(s.id)))throw new Error(`Duplicate feature ID found ${s.id}`);o.add(String(s.id)),r.push(l)}),this.tree.load(r)}update(t){this.remove(t.id);const r=this.toBBox(t);this.setMaps(t,r),this.tree.insert(r)}remove(t){const r=this.idToNode.get(t);if(!r)throw new Error(`${t} not inserted into the spatial index`);this.tree.remove(r)}clear(){this.tree.clear()}search(t){return this.tree.search(this.toBBox(t)).map(r=>this.nodeToId.get(r))}collides(t){return this.tree.collides(this.toBBox(t))}}const xz={getId:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return(e=="x"?t:3&t|8).toString(16)}),isValidId:e=>typeof e=="string"&&e.length===36},N1={target:"geometry"},I1={target:"properties"};class wz{constructor(t){this.idStrategy=void 0,this.tracked=void 0,this.spatialIndex=void 0,this.store=void 0,this._onChange=()=>{},this.store={},this.spatialIndex=new bz,this.tracked=!t||t.tracked!==!1,this.idStrategy=t&&t.idStrategy?t.idStrategy:xz}clone(t){return JSON.parse(JSON.stringify(t))}getId(){return this.idStrategy.getId()}has(t){return!!this.store[t]}load(t,r,o,s){if(t.length===0)return[];let l=this.clone(t);const u=[],d=[];l=l.filter(p=>{p.id==null&&(p.id=this.idStrategy.getId());const g=p.id;if(r){const y=r(p);if(!y.valid)return u.push({id:g,valid:!1,reason:y.reason}),!1}if(this.tracked){if(p.properties.createdAt){if(!w1(p.properties.createdAt))return u.push({id:p.id,valid:!1,reason:"createdAt is not a valid numeric timestamp"}),!1}else p.properties.createdAt=+new Date;if(p.properties.updatedAt){if(!w1(p.properties.updatedAt))return u.push({id:p.id,valid:!1,reason:"updatedAt is not a valid numeric timestamp"}),!1}else p.properties.updatedAt=+new Date}return this.has(g)?(u.push({id:g,valid:!1,reason:`Feature already exists with this id: ${g}`}),!1):(this.store[g]=p,d.push(p),u.push({id:g,valid:!0}),!0)}),this.spatialIndex.load(l);const f=d.map(({id:p})=>p);return f.length>0&&(this._onChange(f,"create",s),o&&d.forEach(p=>{o(p)})),u}search(t,r){const o=this.spatialIndex.search(t).map(s=>this.store[s]);return this.clone(r?o.filter(r):o)}registerOnChange(t){this._onChange=(r,o,s)=>{t(r,o,s)}}getGeometryCopy(t){const r=this.store[t];if(!r)throw new Error(`No feature with this id (${t}), can not get geometry copy`);return this.clone(r.geometry)}getPropertiesCopy(t){const r=this.store[t];if(!r)throw new Error(`No feature with this id (${t}), can not get properties copy`);return this.clone(r.properties)}updateProperty(t,r){const o=new Set;t.forEach(({id:s,property:l,value:u})=>{const d=this.store[s];if(!d)throw new Error(`No feature with this (${s}), can not update geometry`);d.properties[l]!==u&&(o.add(s),u===void 0?delete d.properties[l]:d.properties[l]=u,this.tracked&&(d.properties.updatedAt=+new Date))}),this._onChange&&o.size>0&&this._onChange(Array.from(o),"update",r?Wt({},r,I1):I1)}updateGeometry(t,r){const o=new Set;t.forEach(({id:s,geometry:l})=>{o.add(s);const u=this.store[s];if(!u)throw new Error(`No feature with this (${s}), can not update geometry`);u.geometry=this.clone(l),this.spatialIndex.update(u),this.tracked&&(u.properties.updatedAt=+new Date)}),this._onChange&&o.size>0&&this._onChange(Array.from(o),"update",r?Wt({},r,N1):N1)}create(t,r){const o=[];return t.forEach(({geometry:s,properties:l})=>{let u,d=Wt({},l);this.tracked&&(u=+new Date,l?(d.createdAt=typeof l.createdAt=="number"?l.createdAt:u,d.updatedAt=typeof l.updatedAt=="number"?l.updatedAt:u):d={createdAt:u,updatedAt:u});const f=this.getId(),p={id:f,type:"Feature",geometry:s,properties:d};this.store[f]=p,this.spatialIndex.insert(p),o.push(f)}),this._onChange&&this._onChange([...o],"create",r),o}delete(t,r){t.forEach(o=>{if(!this.store[o])throw new Error(`No feature with id ${o}, can not delete`);delete this.store[o],this.spatialIndex.remove(o)}),this._onChange&&this._onChange([...t],"delete",r)}copy(t){return this.clone(this.store[t])}copyAll(){return this.clone(Object.keys(this.store).map(t=>this.store[t]))}copyAllWhere(t){return this.clone(Object.keys(this.store).map(r=>this.store[r]).filter(r=>r.properties&&t(r.properties)))}clear(){this.store={},this.spatialIndex.clear()}size(){return Object.keys(this.store).length}}class Ol{constructor({name:t,callback:r,unregister:o,register:s}){this.name=void 0,this.callback=void 0,this.registered=!1,this.register=void 0,this.unregister=void 0,this.name=t,this.register=()=>{this.registered||(this.registered=!0,s(r))},this.unregister=()=>{this.register&&(this.registered=!1,o(r))},this.callback=r}}var Sz={__proto__:null,TerraDrawBaseAdapter:class{constructor(e){this._nextKeyUpIsContextMenu=!1,this._lastPointerDownEventTarget=void 0,this._ignoreMismatchedPointerEvents=!1,this._minPixelDragDistance=void 0,this._minPixelDragDistanceDrawing=void 0,this._minPixelDragDistanceSelecting=void 0,this._lastDrawEvent=void 0,this._coordinatePrecision=void 0,this._heldKeys=new Set,this._listeners=[],this._dragState="not-dragging",this._currentModeCallbacks=void 0,this._ignoreMismatchedPointerEvents=typeof e.ignoreMismatchedPointerEvents=="boolean"&&e.ignoreMismatchedPointerEvents,this._minPixelDragDistance=typeof e.minPixelDragDistance=="number"?e.minPixelDragDistance:1,this._minPixelDragDistanceSelecting=typeof e.minPixelDragDistanceSelecting=="number"?e.minPixelDragDistanceSelecting:1,this._minPixelDragDistanceDrawing=typeof e.minPixelDragDistanceDrawing=="number"?e.minPixelDragDistanceDrawing:8,this._coordinatePrecision=typeof e.coordinatePrecision=="number"?e.coordinatePrecision:9}getButton(e){return e.button===-1?"neither":e.button===0?"left":e.button===1?"middle":e.button===2?"right":"neither"}getMapElementXYPosition(e){const t=this.getMapEventElement(e.type),{left:r,top:o}=t.getBoundingClientRect();return{containerX:e.clientX-r,containerY:e.clientY-o}}getDrawEventFromEvent(e,t=!1){const r=this.getLngLatFromEvent(e);if(!r)return null;const{lng:o,lat:s}=r,{containerX:l,containerY:u}=this.getMapElementXYPosition(e),d=this.getButton(e),f=Array.from(this._heldKeys);return{lng:Rn(o,this._coordinatePrecision),lat:Rn(s,this._coordinatePrecision),containerX:l,containerY:u,button:d,heldKeys:f,isContextMenu:t}}register(e){this._currentModeCallbacks=e,this._listeners=this.getAdapterListeners(),this._listeners.forEach(t=>{t.register()})}getCoordinatePrecision(){return this._coordinatePrecision}getAdapterListeners(){return[new Ol({name:"pointerdown",callback:e=>{if(!this._currentModeCallbacks||!e.isPrimary)return;const t=this.getDrawEventFromEvent(e);t&&(this._dragState="pre-dragging",this._lastDrawEvent=t,this._lastPointerDownEventTarget=e.target?e.target:void 0)},register:e=>{this.getMapEventElement("pointerdown").addEventListener("pointerdown",e)},unregister:e=>{this.getMapEventElement("pointerdown").removeEventListener("pointerdown",e)}}),new Ol({name:"pointermove",callback:e=>{if(!this._currentModeCallbacks||!e.isPrimary)return;e.preventDefault();const t=this.getDrawEventFromEvent(e);if(t)if(this._dragState==="not-dragging")this._currentModeCallbacks.onMouseMove(t),this._lastDrawEvent=t;else if(this._dragState==="pre-dragging"){if(!this._lastDrawEvent)return;const r={x:this._lastDrawEvent.containerX,y:this._lastDrawEvent.containerY},o={x:t.containerX,y:t.containerY},s=this._currentModeCallbacks.getState(),l=Na(r,o);let u=!1;if(u=s==="drawing"?l<this._minPixelDragDistanceDrawing:s==="selecting"?l<this._minPixelDragDistanceSelecting:l<this._minPixelDragDistance,u)return;this._nextKeyUpIsContextMenu=!1,this._dragState="dragging",this._currentModeCallbacks.onDragStart(t,d=>{this.setDraggability.bind(this)(d)})}else this._dragState==="dragging"&&this._currentModeCallbacks.onDrag(t,r=>{this.setDraggability.bind(this)(r)})},register:e=>{this.getMapEventElement("pointermove").addEventListener("pointermove",e)},unregister:e=>{this.getMapEventElement("pointermove").removeEventListener("pointermove",e)}}),new Ol({name:"contextmenu",callback:e=>{this._currentModeCallbacks&&(e.preventDefault(),this._nextKeyUpIsContextMenu=!0)},register:e=>{this.getMapEventElement("contextmenu").addEventListener("contextmenu",e)},unregister:e=>{this.getMapEventElement("contextmenu").removeEventListener("contextmenu",e)}}),new Ol({name:"pointerup",callback:e=>{if(!this._currentModeCallbacks||e.target!==this.getMapEventElement("pointerup")||this._ignoreMismatchedPointerEvents&&this._lastPointerDownEventTarget!==e.target||(this._lastPointerDownEventTarget=void 0,!e.isPrimary))return;const t=this.getDrawEventFromEvent(e);t&&(this._dragState==="dragging"?this._currentModeCallbacks.onDragEnd(t,r=>{this.setDraggability.bind(this)(r)}):this._dragState!=="not-dragging"&&this._dragState!=="pre-dragging"||(this._nextKeyUpIsContextMenu&&(t.isContextMenu=!0,this._nextKeyUpIsContextMenu=!1),this._currentModeCallbacks.onClick(t)),this._dragState="not-dragging",this.setDraggability(!0))},register:e=>{this.getMapEventElement("pointerup").addEventListener("pointerup",e)},unregister:e=>{this.getMapEventElement("pointerup").removeEventListener("pointerup",e)}}),new Ol({name:"keyup",callback:e=>{this._currentModeCallbacks&&(this._heldKeys.delete(e.key),this._currentModeCallbacks.onKeyUp({key:e.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>e.preventDefault()}))},register:e=>{this.getMapEventElement("keyup").addEventListener("keyup",e)},unregister:e=>{this.getMapEventElement("keyup").removeEventListener("keyup",e)}}),new Ol({name:"keydown",callback:e=>{this._currentModeCallbacks&&(this._heldKeys.add(e.key),this._currentModeCallbacks.onKeyDown({key:e.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>e.preventDefault()}))},register:e=>{this.getMapEventElement("keydown").addEventListener("keydown",e)},unregister:e=>{this.getMapEventElement("keydown").removeEventListener("keydown",e)}})]}unregister(){this._listeners.forEach(e=>{e.unregister()}),this.clear(),this._currentModeCallbacks=void 0,this._lastDrawEvent=void 0,this._lastPointerDownEventTarget=void 0,this._nextKeyUpIsContextMenu=!1}}};function Ug(e){if(e===null||typeof e=="boolean"||typeof e=="string")return!0;if(e===void 0)return!1;if(typeof e=="number")return Number.isFinite(e);if(typeof e=="bigint"||typeof e=="symbol"||typeof e=="function"||e instanceof RegExp||e instanceof Map||e instanceof Set||e instanceof Date)return!1;if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const t=Object.getPrototypeOf(e);if(t!==Object.prototype&&t!==null)return!1}if(ArrayBuffer.isView(e)&&!(e instanceof DataView))return!1;if(Array.isArray(e)){for(const t of e)if(!Ug(t))return!1}return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string"&&Ug(e[t]))}class Cz{constructor(t){this._modes=void 0,this._mode=void 0,this._adapter=void 0,this._enabled=!1,this._store=void 0,this._eventListeners=void 0,this._instanceSelectModes=void 0,this._adapter=t.adapter,this._instanceSelectModes=[],this._mode=new pz;const r=new Set,o=t.modes.reduce((g,y)=>{if(r.has(y.mode))throw new Error(`There is already a ${y.mode} mode provided`);return r.add(y.mode),g[y.mode]=y,g},{}),s=Object.keys(o);if(s.length===0)throw new Error("No modes provided");s.forEach(g=>{o[g].type===Hl.Select&&this._instanceSelectModes.push(g)}),this._modes=Wt({},o,{static:this._mode}),this._eventListeners={change:[],select:[],deselect:[],finish:[],ready:[]},this._store=new wz({tracked:!!t.tracked,idStrategy:t.idStrategy?t.idStrategy:void 0});const l=g=>{const y=[],x=this._store.copyAll().filter(w=>!g.includes(w.id)||(y.push(w),!1));return{changed:y,unchanged:x}},u=(g,y)=>{this._enabled&&this._eventListeners.finish.forEach(x=>{x(g,y)})},d=(g,y,x)=>{if(!this._enabled)return;this._eventListeners.change.forEach(E=>{E(g,y,x)});const{changed:w,unchanged:_}=l(g);y==="create"?this._adapter.render({created:w,deletedIds:[],unchanged:_,updated:[]},this.getModeStyles()):y==="update"?this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:w},this.getModeStyles()):y==="delete"?this._adapter.render({created:[],deletedIds:g,unchanged:_,updated:[]},this.getModeStyles()):y==="styling"&&this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:[]},this.getModeStyles())},f=g=>{if(!this._enabled)return;this._eventListeners.select.forEach(w=>{w(g)});const{changed:y,unchanged:x}=l([g]);this._adapter.render({created:[],deletedIds:[],unchanged:x,updated:y},this.getModeStyles())},p=g=>{if(!this._enabled)return;this._eventListeners.deselect.forEach(w=>{w(g)});const{changed:y,unchanged:x}=l([g]);y&&this._adapter.render({created:[],deletedIds:[],unchanged:x,updated:y},this.getModeStyles())};Object.keys(this._modes).forEach(g=>{this._modes[g].register({mode:g,store:this._store,setCursor:this._adapter.setCursor.bind(this._adapter),project:this._adapter.project.bind(this._adapter),unproject:this._adapter.unproject.bind(this._adapter),setDoubleClickToZoom:this._adapter.setDoubleClickToZoom.bind(this._adapter),onChange:d,onSelect:f,onDeselect:p,onFinish:u,coordinatePrecision:this._adapter.getCoordinatePrecision()})})}checkEnabled(){if(!this._enabled)throw new Error("Terra Draw is not enabled")}getModeStyles(){const t={},r=this._instanceSelectModes.includes(this._mode.mode)?this._mode.mode:void 0;return Object.keys(this._modes).forEach(o=>{t[o]=s=>r&&s.properties[Un.SELECTED]?this._modes[r].styleFeature.bind(this._modes[r])(s):this._modes[o].styleFeature.bind(this._modes[o])(s)}),t}featuresAtLocation({lng:t,lat:r},o){const s=o&&o.pointerDistance!==void 0?o.pointerDistance:30,l=!o||o.ignoreSelectFeatures===void 0||o.ignoreSelectFeatures,u=!(!o||o.ignoreCoordinatePoints===void 0)&&o.ignoreCoordinatePoints,d=!(!o||o.ignoreCurrentlyDrawing===void 0)&&o.ignoreCurrentlyDrawing,f=!(!o||o.ignoreClosingPoints===void 0)&&o.ignoreClosingPoints,p=!(!o||o.ignoreSnappingPoints===void 0)&&o.ignoreSnappingPoints,g=this._adapter.unproject.bind(this._adapter),y=this._adapter.project.bind(this._adapter),x=y(t,r),w=$_({unproject:g,point:x,pointerDistance:s});return this._store.search(w).filter(_=>{if(l&&(_.properties[Un.MID_POINT]||_.properties[Un.SELECTION_POINT])||u&&_.properties[dt.COORDINATE_POINT]||f&&_.properties[dt.CLOSING_POINT]||d&&_.properties[dt.CURRENTLY_DRAWING]||p&&_.properties[dt.SNAPPING_POINT])return!1;if(_.geometry.type==="Point"){const E=_.geometry.coordinates,T=y(E[0],E[1]);return Na(x,T)<s}if(_.geometry.type==="LineString"){const E=_.geometry.coordinates;for(let T=0;T<E.length-1;T++){const N=E[T],R=E[T+1];if(kg(x,y(N[0],N[1]),y(R[0],R[1]))<s)return!0}return!1}if(G_([t,r],_.geometry.coordinates))return!0;if(o!=null&&o.includePolygonsWithinPointerDistance){const E=_.geometry.coordinates;for(const T of E)for(let N=0;N<T.length-1;N++){const R=T[N],j=T[N+1],L=y(R[0],R[1]),F=y(j[0],j[1]);if(kg(x,L,F)<s)return!0}}return!1}).map(_=>{if(o==null||!o.addClosestCoordinateInfoToProperties)return _;let E;if(_.geometry.type==="Polygon")E=_.geometry.coordinates[0].slice(0,-1);else{if(_.geometry.type!=="LineString")return _;E=_.geometry.coordinates}let T,N=-1,R=1/0;for(let j=0;j<E.length;j++){const L=E[j],F=Na(y(L[0],L[1]),x);F<R&&(N=j,R=F,T=L)}return _.properties.closestCoordinateIndexToEvent=N,_.properties.closestCoordinatePixelDistanceToEvent=R,_.properties.closestCoordinateDistanceKmToEvent=Ho(T,[t,r]),_})}getSelectModeOrThrow(t=void 0){const r=this.getSelectMode({switchToSelectMode:!0,selectMode:t});if(!r)throw new Error("No select mode defined in instance");return r}getSelectMode({switchToSelectMode:t,selectMode:r}){this.checkEnabled();const o=this.getMode();if(this._instanceSelectModes.length===0)return null;if(r!==void 0&&!this._instanceSelectModes.includes(r))throw new Error(`No select mode with this name present: ${r}`);let s;return s=r!==void 0?r:this._instanceSelectModes.includes(o)?o:this._instanceSelectModes[0],t&&o!==s&&this.setMode(s),this._modes[s]}isGuidanceFeature(t){return!!(t.properties[Un.MID_POINT]||t.properties[Un.SELECTION_POINT]||t.properties[dt.COORDINATE_POINT]||t.properties[dt.SNAPPING_POINT])}setModeStyles(t,r){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._modes[t].styles=r}updateModeOptions(t,r){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._modes[t].updateOptions(r)}getSnapshot(){return this._store.copyAll()}getSnapshotFeature(t){if(this._store.has(t))return this._store.copy(t)}clear(){this.checkEnabled(),this._adapter.clear()}get enabled(){return this._enabled}set enabled(t){throw new Error("Enabled is read only")}getMode(){return this._mode.mode}getModeState(){return this._mode.state}setMode(t){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._mode.stop(),this._mode=this._modes[t],this._mode.start()}removeFeatures(t){this.checkEnabled();const r=[],o=[];let s;t.forEach(l=>{if(!this._store.has(l))throw new Error(`No feature with id ${l}, can not delete`);const u=this._store.getPropertiesCopy(l);u[Un.SELECTED]&&this.deselectFeature(l),u[dt.CURRENTLY_DRAWING]&&this._modes[u.mode]?s=u.mode:(u[dt.COORDINATE_POINT_IDS]&&r.push(...u[dt.COORDINATE_POINT_IDS]),o.push(l))}),this._store.delete([...o,...r],{origin:"api"}),s&&this._modes[s]&&this._modes[s].cleanUp()&&this._modes[s].cleanUp()}selectFeature(t,r){this.getSelectModeOrThrow(r).selectFeature(t)}deselectFeature(t){this.getSelectModeOrThrow().deselectFeature(t)}getFeatureId(){return this._store.getId()}hasFeature(t){return this._store.has(t)}checkIsReservedProperty(t){return![...Object.values(Un),...Object.values(dt)].includes(t)}updateFeatureProperties(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);const o=this._store.copy(t);if(this.isGuidanceFeature(o))throw new Error("Guidance features are not allowed to be updated directly.");const s=o.properties.mode;if(!this._modes[s])throw new Error(`No mode with name ${s} present in instance`);const l=Object.entries(r);l.forEach(([u,d])=>{if(!this.checkIsReservedProperty(u))throw new Error(`You are trying to update a reserved property name: ${u}. Please choose another name.`);if(d!==void 0&&!Ug(d))throw new Error(`Invalid JSON value provided for property ${u}`)}),this._store.updateProperty(l.map(([u,d])=>({id:o.id,property:u,value:d})),{origin:"api"})}updateFeatureGeometry(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);const o=this._store.copy(t);if(this.isGuidanceFeature(o))throw new Error("Guidance features are not allowed to be updated directly.");if(!(o&&r&&r.type&&r.coordinates))throw new Error("Invalid geometry provided");if(r.type!==o.geometry.type)throw new Error(`Geometry type mismatch: expected ${o.geometry.type}, got ${r.type}`);const s=o.properties.mode,l=this._modes[s];if(!l)throw new Error(`No mode with name ${s} present in instance`);const u=Wt({},o,{geometry:r}),d=l.validateFeature(u);if(!d.valid)throw new Error(`Feature validation failed: ${d.reason||"Unknown reason"}`);if(this._store.updateGeometry([{id:o.id,geometry:r}],{origin:"api"}),l.afterFeatureUpdated){l.afterFeatureUpdated(u);const f=u.properties[Un.SELECTED],p=this.getSelectMode({switchToSelectMode:!1});p&&f&&p.afterFeatureUpdated(u)}}transformFeatureGeometry(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);let o=this._store.copy(t);if(this.isGuidanceFeature(o))throw new Error("Guidance features are not allowed to be updated directly.");const s=o.properties.mode,l=this._modes[s];if(!l)throw new Error(`No mode with name ${s} present in instance`);let u;if(o.geometry.type==="Polygon")u=o.geometry.coordinates[0];else{if(o.geometry.type!=="LineString")throw new Error(`Feature geometry type ${o.geometry.type} is not supported for transformation`);u=o.geometry.coordinates}if(r.projection!="web-mercator")throw new Error(`Projection ${r.projection} is not currently supported for transformation`);if(r.type==="scale"){const{x:d,y:f}=Pn(r.origin[0],r.origin[1]);Y_({coordinates:u,originX:d,originY:f,xScale:r.options.xScale||1,yScale:r.options.yScale||1})}else r.type==="rotate"&&(o=V_(o,r.options.angle||0),u=o.geometry.type==="Polygon"?o.geometry.coordinates[0]:o.geometry.coordinates);if(u=u.map(d=>[Rn(d[0],this._adapter.getCoordinatePrecision()),Rn(d[1],this._adapter.getCoordinatePrecision())]),o.geometry.coordinates=o.geometry.type==="Polygon"?[u]:u,this._store.updateGeometry([{id:o.id,geometry:o.geometry}],{origin:"api"}),l.afterFeatureUpdated){l.afterFeatureUpdated(o);const d=o.properties[Un.SELECTED],f=this.getSelectMode({switchToSelectMode:!1});f&&d&&f.afterFeatureUpdated(o)}}addFeatures(t){return this.checkEnabled(),t.length===0?[]:this._store.load(t,r=>{if(x1(r)){const o=r.properties.mode,s=this._modes[o];if(!s)return{id:r.id,valid:!1,reason:`${o} mode is not in the list of instantiated modes`};const l=s.validateFeature.bind(s)(r);return{id:r.id,valid:l.valid,reason:l.reason?l.reason:l.valid?void 0:"Feature is invalid"}}return{id:r.id,valid:!1,reason:"Mode property does not exist"}},r=>{if(x1(r)){const o=this._modes[r.properties.mode];o&&o.afterFeatureAdded&&o.afterFeatureAdded(r)}},{origin:"api"})}start(){this._enabled||(this._enabled=!0,this._adapter.register({onReady:()=>{this._eventListeners.ready.forEach(t=>{t()})},getState:()=>this._mode.state,onClick:t=>{this._mode.onClick(t)},onMouseMove:t=>{this._mode.onMouseMove(t)},onKeyDown:t=>{this._mode.onKeyDown(t)},onKeyUp:t=>{this._mode.onKeyUp(t)},onDragStart:(t,r)=>{this._mode.onDragStart(t,r)},onDrag:(t,r)=>{this._mode.onDrag(t,r)},onDragEnd:(t,r)=>{this._mode.onDragEnd(t,r)},onClear:()=>{this._mode.cleanUp(),this._store.clear()}}))}getFeaturesAtLngLat(t,r){const{lng:o,lat:s}=t;return this.featuresAtLocation({lng:o,lat:s},r)}getFeaturesAtPointerEvent(t,r){const o=this._adapter.getLngLatFromEvent.bind(this._adapter)(t);return o===null?[]:this.featuresAtLocation(o,r)}stop(){this._enabled&&(this._enabled=!1,this._adapter.unregister())}on(t,r){const o=this._eventListeners[t];o.includes(r)||o.push(r)}off(t,r){const o=this._eventListeners[t];o.includes(r)&&o.splice(o.indexOf(r),1)}}class _z extends Sz.TerraDrawBaseAdapter{constructor(t){super(t),this._renderBeforeLayerId=void 0,this._prefixId=void 0,this._initialDragPan=void 0,this._initialDragRotate=void 0,this._nextRender=void 0,this._map=void 0,this._container=void 0,this.changedIds={deletion:!1,points:!1,linestrings:!1,polygons:!1,styling:!1},this._map=t.map,this._container=this._map.getContainer(),this._initialDragRotate=this._map.dragRotate.isEnabled(),this._initialDragPan=this._map.dragPan.isEnabled(),this._renderBeforeLayerId=t.renderBelowLayerId,this._prefixId=t.prefixId||"td"}hashCode(t){let r=0;for(let o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o),r|=0;return Math.abs(r)}resizeImage(t,r,o,s){const l=new Image;l.crossOrigin="anonymous",l.onload=()=>{const u=document.createElement("canvas");u.width=r,u.height=o;const d=u.getContext("2d");if(!d)throw new Error("Could not get canvas context");d.drawImage(l,0,0,r,o);const f=u.toDataURL();s(f)},l.src=t}_addGeoJSONSource(t,r){this._map.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:r},tolerance:0})}_addFillLayer(t){return this._map.addLayer({id:t,source:t,type:"fill",layout:{"fill-sort-key":["get","zIndex"]},paint:{"fill-color":["get","polygonFillColor"],"fill-opacity":["get","polygonFillOpacity"]}})}_addFillOutlineLayer(t){return this._map.addLayer({id:t+"-outline",source:t,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","polygonOutlineWidth"],"line-color":["get","polygonOutlineColor"],"line-opacity":["get","polygonOutlineOpacity"]}})}_addLineLayer(t){return this._map.addLayer({id:t,source:t,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","lineStringWidth"],"line-color":["get","lineStringColor"],"line-opacity":["get","lineStringOpacity"]}})}_addPointLayer(t){return this._map.addLayer({id:t,source:t,type:"circle",layout:{"circle-sort-key":["get","zIndex"]},paint:{"circle-stroke-color":["get","pointOutlineColor"],"circle-stroke-width":["get","pointOutlineWidth"],"circle-stroke-opacity":["get","pointOutlineOpacity"],"circle-radius":["get","pointWidth"],"circle-color":["get","pointColor"],"circle-opacity":["get","pointOpacity"]}})}_addMarkerLayer(t){return this._map.addLayer({id:t+"-marker",source:t,type:"symbol",filter:["has","markerId"],layout:{"icon-image":["image",["get","markerId"]],"icon-anchor":"bottom","icon-allow-overlap":!0}})}_addLayer(t,r){r==="Point"&&(this._addPointLayer(t),this._addMarkerLayer(t)),r==="LineString"&&this._addLineLayer(t),r==="Polygon"&&(this._addFillLayer(t),this._addFillOutlineLayer(t))}_addGeoJSONLayer(t,r){const o=`${this._prefixId}-${t.toLowerCase()}`;return this._addGeoJSONSource(o,r),this._addLayer(o,t),o}_setGeoJSONLayerData(t,r){const o=`${this._prefixId}-${t.toLowerCase()}`;return this._map.getSource(o).setData({type:"FeatureCollection",features:r}),o}updateChangedIds(t){[...t.updated,...t.created].forEach(r=>{r.geometry.type==="Point"?this.changedIds.points=!0:r.geometry.type==="LineString"?this.changedIds.linestrings=!0:r.geometry.type==="Polygon"&&(this.changedIds.polygons=!0)}),t.deletedIds.length>0&&(this.changedIds.deletion=!0),t.created.length===0&&t.updated.length===0&&t.deletedIds.length===0&&(this.changedIds.styling=!0)}getLngLatFromEvent(t){const{left:r,top:o}=this._container.getBoundingClientRect();return this.unproject(t.clientX-r,t.clientY-o)}getMapEventElement(){return this._map.getCanvas()}setDraggability(t){t?(this._initialDragRotate&&this._map.dragRotate.enable(),this._initialDragPan&&this._map.dragPan.enable()):(this._initialDragRotate&&this._map.dragRotate.disable(),this._initialDragPan&&this._map.dragPan.disable())}project(t,r){const{x:o,y:s}=this._map.project({lng:t,lat:r});return{x:o,y:s}}unproject(t,r){const{lng:o,lat:s}=this._map.unproject({x:t,y:r});return{lng:o,lat:s}}setCursor(t){const r=this._map.getCanvas();t==="unset"?r.style.removeProperty("cursor"):r.style.cursor=t}setDoubleClickToZoom(t){t?this._map.doubleClickZoom.enable():this._map.doubleClickZoom.disable()}render(t,r){this.updateChangedIds(t),this._nextRender&&cancelAnimationFrame(this._nextRender),this._nextRender=requestAnimationFrame(()=>{if(!this._currentModeCallbacks)return;const o=[...t.created,...t.updated,...t.unchanged],s=[],l=[],u=[];for(let g=0;g<o.length;g++){const y=o[g],{properties:x}=y,w=r[x.mode](y);if(x.zIndex=w.zIndex,x.zIndex=w.zIndex,y.geometry.type==="Point"){x.pointColor=w.pointColor,x.pointOutlineColor=w.pointOutlineColor,x.pointOutlineWidth=w.pointOutlineWidth;const _=w.pointOutlineOpacity;x.pointOutlineOpacity=_===void 0?1:_,x.pointWidth=w.pointWidth;const E=w.pointOpacity;if(x.pointOpacity=E===void 0?1:E,w.markerUrl&&w.markerWidth&&w.markerHeight){const T=`marker-${this.hashCode(w.markerUrl)}`;this._map.hasImage(T)||this.resizeImage(w.markerUrl,w.markerWidth,w.markerHeight,N=>{this._map.loadImage(N).then(R=>{this._map.hasImage(T)||this._map.addImage(T,R.data)})}),x.markerId=T,x.pointWidth=0}s.push(y)}else if(y.geometry.type==="LineString"){x.lineStringColor=w.lineStringColor,x.lineStringWidth=w.lineStringWidth;const _=w.lineStringOpacity;x.lineStringOpacity=_===void 0?1:_,l.push(y)}else if(y.geometry.type==="Polygon"){const _=w.polygonOutlineOpacity;x.polygonFillColor=w.polygonFillColor,x.polygonFillOpacity=w.polygonFillOpacity,x.polygonOutlineOpacity=_===void 0?1:_,x.polygonOutlineColor=w.polygonOutlineColor,x.polygonOutlineWidth=w.polygonOutlineWidth,u.push(y)}}const d=this.changedIds.deletion||this.changedIds.styling,f=d||this.changedIds.linestrings,p=d||this.changedIds.polygons;(d||this.changedIds.points)&&this._setGeoJSONLayerData("Point",s),f&&this._setGeoJSONLayerData("LineString",l),p&&this._setGeoJSONLayerData("Polygon",u),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1}})}clear(){this._currentModeCallbacks&&(this._currentModeCallbacks.onClear(),this._nextRender&&(cancelAnimationFrame(this._nextRender),this._nextRender=void 0),this._setGeoJSONLayerData("Point",[]),this._setGeoJSONLayerData("LineString",[]),this._setGeoJSONLayerData("Polygon",[]))}getCoordinatePrecision(){return super.getCoordinatePrecision()}unregister(){super.unregister(),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1},this._map.removeLayer(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-point-marker`),this._map.removeSource(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-linestring`),this._map.removeSource(`${this._prefixId}-linestring`),this._map.removeLayer(`${this._prefixId}-polygon`),this._map.removeLayer(`${this._prefixId}-polygon-outline`),this._map.removeSource(`${this._prefixId}-polygon`)}register(t){var r;super.register(t);const o=this._addGeoJSONLayer("Polygon",[]),s=this._addGeoJSONLayer("LineString",[]),l=this._addGeoJSONLayer("Point",[]);var u;this._renderBeforeLayerId&&(this._map.moveLayer(l,this._renderBeforeLayerId),this._map.moveLayer(s,l),this._map.moveLayer(`${o}-outline`,s),this._map.moveLayer(o,`${o}-outline`)),(r=this._currentModeCallbacks)!=null&&r.onReady&&((u=this._currentModeCallbacks)==null||u.onReady())}}function Ez(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return HI(e,r=>{var o;switch((o=r.geometry)==null?void 0:o.type){case"Point":t.MultiPoint.coordinates.push(r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"MultiPoint":t.MultiPoint.coordinates.push(...r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"LineString":t.MultiLineString.coordinates.push(r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"MultiLineString":t.MultiLineString.coordinates.push(...r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break;case"MultiPolygon":t.MultiPolygon.coordinates.push(...r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break}}),I_(Object.keys(t).filter(function(r){return t[r].coordinates.length}).sort().map(function(r){var o={type:r,coordinates:t[r].coordinates},s={collectedProperties:t[r].properties};return Ah(o,s)}))}const Oz=e=>{const t=e.toLowerCase(),r=[new hz({flags:{polygon:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0,midpoints:!0}}},linestring:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0}}},point:{feature:{draggable:!0}}}})];return(t.includes("point")||t.includes("geometry"))&&r.push(new Zj),(t.includes("line")||t.includes("geometry"))&&r.push(new Gj),(t.includes("polygon")||t.includes("geometry"))&&r.push(new tz),r},Mz=(e,t)=>{const r=e.toLowerCase();if(r.includes("multi"))return Ez(t).features[0].geometry;if(r.includes("collection")){const o=t.features.map(l=>l.geometry);return $I(o).geometry}return t.features[0].geometry},Tz=C.forwardRef((e,t)=>{const{geojsonData:r}=e,{current:o}=XI(),s=C.useRef(null),l=C.useRef(r);return C.useEffect(()=>{if(!o)return;const u=o.getMap(),d=Oz(l.current.type),f=new Cz({adapter:new _z({map:u}),modes:d});if(f.start(),s.current=f,l.current){const p=l.current.type.toLowerCase();let g="polygon";p.includes("point")?g="point":p.includes("line")&&(g="linestring");const y=l.current.type==="FeatureCollection"?l.current.features.map(x=>({...x,properties:{...x.properties,mode:g}})):[{type:"Feature",geometry:l.current,properties:{mode:g}}];f.addFeatures(y),f.setMode("select")}return()=>{f.stop(),s.current=null}},[o]),C.useImperativeHandle(t,()=>({getFeatures:()=>s.current?{type:"FeatureCollection",features:s.current.getSnapshot()}:{type:"FeatureCollection",features:[]},setMode:u=>{s.current&&s.current.setMode(u)}})),null}),Pz="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",Rz="https://map.ir/vector/styles/main/mapir-xyz-style.json";function Dz({onGeometryLoad:e,onFeatureClick:t,activeLayers:r,drawingMode:o,drawRef:s}){const l=C.useRef(null),{features:u}=F_("population_point");C.useEffect(()=>{if(u&&u.length>0){const f=u[0].geometry;if(e&&e(f),l.current)try{const p=Ah(f),g=GI(p);l.current.fitBounds([[g[0],g[1]],[g[2],g[3]]],{padding:100,duration:1e3})}catch(p){console.warn("Could not calculate bounds for village geometry",p)}}},[u,e]);const d=C.useMemo(()=>oo.filter(f=>r.includes(f.id)).flatMap(f=>f.styles.map((p,g)=>`layer-${f.id}-${g}`)),[r]);return D.jsxs(aj,{ref:l,initialViewState:{longitude:51.4015,latitude:35.6425,zoom:14},style:{width:"100%",height:"100%"},mapStyle:Rz,transformRequest:f=>({url:f,headers:{"x-api-key":Pz}}),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",interactiveLayerIds:d,onClick:f=>{if(t){const p=f.features?.[0];p&&p.properties?(f.originalEvent.stopPropagation(),t({id:p.properties.id,entityType:p.properties.entityType})):t(null)}},children:[D.jsx(fj,{position:"bottom-left"}),D.jsx(Ej,{activeLayers:r,drawingMode:o}),o&&D.jsx(Tz,{ref:s,geojsonData:o.geometry})]})}function Az({activeLayers:e,toggleLayer:t}){const[r,{open:o,close:s}]=cS(!1),l=oo.filter(u=>!u.isDataOnly);return D.jsxs(D.Fragment,{children:[D.jsx(Fa,{variant:"default",size:"xl",radius:"md",style:{position:"absolute",bottom:100,right:20,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},onClick:o,children:D.jsx(CI,{size:24})}),D.jsx(_i,{opened:r,onClose:s,title:" ",position:"bottom",size:"md",styles:{title:{fontWeight:"bold"}},children:D.jsx($o,{gap:"sm",children:l.map(u=>{const d=e.includes(u.id);return D.jsxs(ko,{justify:"space-between",align:"center",children:[D.jsx(nu,{label:u.label,checked:d,onChange:()=>t(u.id),disabled:u.isDisabled,styles:{label:{cursor:u.isDisabled?"not-allowed":"pointer"}}}),u.isDisabled&&D.jsx(gs,{color:"gray",size:"sm",children:" "})]},u.id)})})})]})}async function j1(e,t){const r=oo.find(g=>g.id===e);if(!r||r.isDisabled)return 0;const s=(await tr.syncState.get(e))?.lastSync||null,l=r.getQuery(t,s),u=r.endpoint,d=await Oc(`${u}${l}&$top=99999999`);if(!d.ok)throw new Error(`Failed to sync ${e}: ${d.statusText}`);let p=(await d.json()).value;if(r.transformResponse&&(p=r.transformResponse(p)),p.length>0){const g=tr[r.tableName],y=r.injectVillageId?p.map(w=>({...w,population_point_id:Number(t)})):p;await tr.transaction("rw",g,async()=>{await g.bulkPut(y)});const x=p[0].updated_at;x&&await tr.syncState.put({layerName:e,lastSync:x})}return p.length}async function Nz(e){const t=await Oc(`/editor/tables/${e}/rows?$top=9999999`);if(!t.ok)throw new Error(`Failed to sync lookup ${e}: ${t.statusText}`);const o=(await t.json()).value.map(s=>({...s,tableName:e}));return o.length>0&&await tr.transaction("rw",tr.lookups,async()=>{await tr.lookups.where("tableName").equals(e).delete(),await tr.lookups.bulkPut(o)}),o.length}var fc={},fg,z1;function Iz(){if(z1)return fg;z1=1;var e=Math.PI/180,t=180/Math.PI;function r(R){var j=s(R[0]+1,R[2]),L=s(R[0],R[2]),F=l(R[1]+1,R[2]),U=l(R[1],R[2]);return[L,F,j,U]}function o(R){var j=r(R),L={type:"Polygon",coordinates:[[[j[0],j[3]],[j[0],j[1]],[j[2],j[1]],[j[2],j[3]],[j[0],j[3]]]]};return L}function s(R,j){return R/Math.pow(2,j)*360-180}function l(R,j){var L=Math.PI-2*Math.PI*R/Math.pow(2,j);return t*Math.atan(.5*(Math.exp(L)-Math.exp(-L)))}function u(R,j,L){var F=N(R,j,L);return F[0]=Math.floor(F[0]),F[1]=Math.floor(F[1]),F}function d(R){return[[R[0]*2,R[1]*2,R[2]+1],[R[0]*2+1,R[1]*2,R[2]+1],[R[0]*2+1,R[1]*2+1,R[2]+1],[R[0]*2,R[1]*2+1,R[2]+1]]}function f(R){return[R[0]>>1,R[1]>>1,R[2]-1]}function p(R){return d(f(R))}function g(R,j){for(var L=p(R),F=0;F<L.length;F++)if(!y(j,L[F]))return!1;return!0}function y(R,j){for(var L=0;L<R.length;L++)if(x(R[L],j))return!0;return!1}function x(R,j){return R[0]===j[0]&&R[1]===j[1]&&R[2]===j[2]}function w(R){for(var j="",L=R[2];L>0;L--){var F=0,U=1<<L-1;(R[0]&U)!==0&&F++,(R[1]&U)!==0&&(F+=2),j+=F.toString()}return j}function _(R){for(var j=0,L=0,F=R.length,U=F;U>0;U--){var I=1<<U-1,G=+R[F-U];G===1&&(j|=I),G===2&&(L|=I),G===3&&(j|=I,L|=I)}return[j,L,F]}function E(R){var j=u(R[0],R[1],32),L=u(R[2],R[3],32),F=[j[0],j[1],L[0],L[1]],U=T(F);if(U===0)return[0,0,0];var I=F[0]>>>32-U,G=F[1]>>>32-U;return[I,G,U]}function T(R){for(var j=28,L=0;L<j;L++){var F=1<<32-(L+1);if((R[0]&F)!==(R[2]&F)||(R[1]&F)!==(R[3]&F))return L}return j}function N(R,j,L){var F=Math.sin(j*e),U=Math.pow(2,L),I=U*(R/360+.5),G=U*(.5-.25*Math.log((1+F)/(1-F))/Math.PI);return I=I%U,I<0&&(I=I+U),[I,G,L]}return fg={tileToGeoJSON:o,tileToBBOX:r,getChildren:d,getParent:f,getSiblings:p,hasTile:y,hasSiblings:g,tilesEqual:x,tileToQuadkey:w,quadkeyToTile:_,pointToTile:u,bboxToTile:E,pointToTileFraction:N},fg}var L1;function jz(){if(L1)return fc;L1=1;var e=Iz();fc.geojson=function(g,y){return{type:"FeatureCollection",features:r(g,y).map(t)}};function t(g){return{type:"Feature",geometry:e.tileToGeoJSON(g),properties:{}}}fc.tiles=r,fc.indexes=function(g,y){return r(g,y).map(e.tileToQuadkey)};function r(g,y){var x,w,_=g.coordinates,E=y.max_zoom,T={},N=[];if(g.type==="Point")return[e.pointToTile(_[0],_[1],E)];if(g.type==="MultiPoint")for(x=0;x<_.length;x++)w=e.pointToTile(_[x][0],_[x][1],E),T[f(w[0],w[1],w[2])]=!0;else if(g.type==="LineString")u(T,_,E);else if(g.type==="MultiLineString")for(x=0;x<_.length;x++)u(T,_[x],E);else if(g.type==="Polygon")s(T,N,_,E);else if(g.type==="MultiPolygon")for(x=0;x<_.length;x++)s(T,N,_[x],E);else throw new Error("Geometry type not implemented");if(y.min_zoom!==E){var R=N.length;for(d(T,N),x=0;x<R;x++){var j=N[x];T[f(j[0],j[1],j[2])]=!0}return o(T,N,y)}return d(T,N),N}function o(g,y,x){for(var w=[],_=x.max_zoom;_>x.min_zoom;_--){for(var E={},T=[],N=0;N<y.length;N++){var R=y[N];if(R[0]%2===0&&R[1]%2===0){var j=f(R[0]+1,R[1],_),L=f(R[0],R[1]+1,_),F=f(R[0]+1,R[1]+1,_);if(g[j]&&g[L]&&g[F]){g[f(R[0],R[1],R[2])]=!1,g[j]=!1,g[L]=!1,g[F]=!1;var U=[R[0]/2,R[1]/2,_-1];_-1===x.min_zoom?w.push(U):(E[f(R[0]/2,R[1]/2,_-1)]=!0,T.push(U))}}}for(N=0;N<y.length;N++)R=y[N],g[f(R[0],R[1],R[2])]&&w.push(R);g=E,y=T}return w}function s(g,y,x,w){for(var _=[],E=0;E<x.length;E++){var T=[];u(g,x[E],w,T);for(var N=0,R=T.length,j=R-1;N<R;j=N++){var L=(N+1)%R,F=T[N][1];(F>T[j][1]||F>T[L][1])&&(F<T[j][1]||F<T[L][1])&&F!==T[L][1]&&_.push(T[N])}}for(_.sort(l),E=0;E<_.length;E+=2){F=_[E][1];for(var U=_[E][0]+1;U<_[E+1][0];U++){var I=f(U,F,w);g[I]||y.push([U,F,w])}}}function l(g,y){return g[1]-y[1]||g[0]-y[0]}function u(g,y,x,w){for(var _,E,T=0;T<y.length-1;T++){var N=e.pointToTileFraction(y[T][0],y[T][1],x),R=e.pointToTileFraction(y[T+1][0],y[T+1][1],x),j=N[0],L=N[1],F=R[0],U=R[1],I=F-j,G=U-L;if(!(G===0&&I===0)){var le=I>0?1:-1,he=G>0?1:-1,ve=Math.floor(j),pe=Math.floor(L),Me=I===0?1/0:Math.abs(((I>0?1:0)+ve-j)/I),ce=G===0?1/0:Math.abs(((G>0?1:0)+pe-L)/G),Oe=Math.abs(le/I),B=Math.abs(he/G);for((ve!==_||pe!==E)&&(g[f(ve,pe,x)]=!0,w&&pe!==E&&w.push([ve,pe]),_=ve,E=pe);Me<1||ce<1;)Me<ce?(Me+=Oe,ve+=le):(ce+=B,pe+=he),g[f(ve,pe,x)]=!0,w&&pe!==E&&w.push([ve,pe]),_=ve,E=pe}}w&&pe===w[0][1]&&w.pop()}function d(g,y){for(var x=Object.keys(g),w=0;w<x.length;w++)y.push(p(+x[w]))}function f(g,y,x){var w=2*(1<<x);return(w*y+g)*32+x}function p(g){var y=g%32,x=2*(1<<y),w=(g-y)/32,_=w%x,E=(w-_)/x%x;return[_,E,y]}return fc}var zz=jz();const Lz=Xf(zz),Fz="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",kz=(e,t,r)=>`https://map.ir/vector/xyz/1.0.0/Shiveh:Vector@EPSG:900913@pbf/${r}/${e}/${t}.pbf`;async function Bz(e){const r=await caches.open("offline-map-tiles"),o=0,s=14,l=10;let u=[];try{for(let d=o;d<=s;d++){const f=Lz.tiles(e,{min_zoom:d,max_zoom:d});u.push(...f)}}catch(d){throw console.error("Error calculating tiles",d),new Error("Geometry too complex or invalid")}for(let d=0;d<u.length;d+=l){const f=u.slice(d,d+l);await Promise.all(f.map(async([p,g,y])=>{const x=kz(p,g,y);if(!await r.match(x))try{const _=await fetch(x,{headers:{"x-api-key":Fz}});_.ok&&await r.put(x,_)}catch(_){console.warn(`Failed to download tile ${y}/${p}/${g}`,_)}}))}}const F1=["building_type","unit_status","act_type","population_point_type","province","county","zone","part"];function Uz(){const{user:e,isOffline:t}=Rs(),[r,o]=C.useState({status:"idle",progress:"",lastUpdated:null,error:null}),l=e?.action_areas?.find(f=>f.action_area.population_point)?.action_area.population_point?.id,u=C.useRef(!1),d=C.useCallback(async()=>{if(!(!l||t||u.current))try{u.current=!0,o(E=>({...E,status:"syncing",error:null})),o(E=>({...E,progress:"    ..."})),await j1("population_point",l);const p=(await tr.population_point.get(Number(l)))?.geometry,g=oo.filter(E=>!E.isDisabled&&E.id!=="population_point"),y=g.length+(p?1:0)+F1.length;let x=0;const w=()=>{x++,o(E=>({...E,progress:`${x}  ${y}`}))},_=[];g.forEach(E=>{_.push(j1(E.id,l).then(()=>w()).catch(T=>console.error(`Failed layer ${E.id}`,T)))}),p?_.push(Bz(p).then(()=>{w()})):console.warn("No geometry found for village, skipping tiles."),F1.forEach(E=>{_.push(Nz(E).then(()=>w()).catch(T=>console.error(`Failed lookup ${E}`,T)))}),await Promise.all(_),o({status:"complete",progress:"100%",lastUpdated:new Date,error:null})}catch(f){console.error("Sync failed",f),o(p=>({...p,status:"error",error:"  "}))}finally{u.current=!1}},[l,t]);return C.useEffect(()=>{if(l&&!t){d();const f=setInterval(d,300*1e3);return()=>clearInterval(f)}},[l,t,d]),r}function $z(){const{isOffline:e}=Rs(),{status:t,progress:r,lastUpdated:o}=Uz();return e?D.jsx(gs,{color:"gray",leftSection:D.jsx(MI,{size:14}),children:""}):t==="syncing"?D.jsx(gs,{color:"blue",variant:"light",leftSection:D.jsx(ja,{size:12,color:"blue"}),children:r}):t==="error"?D.jsx(gs,{color:"red",variant:"light",leftSection:D.jsx(yI,{size:14}),children:""}):t==="complete"&&o?D.jsx(Uc,{label:` : ${o.toLocaleTimeString("fa-IR")}`,children:D.jsx(gs,{color:"green",variant:"light",leftSection:D.jsx(bI,{size:14}),style:{cursor:"help"},children:""})}):null}function Hz(){const[e,{open:t,close:r}]=cS(!1),{logout:o,user:s,isOffline:l}=Rs(),[,u]=C.useState(null),[d,f]=C.useState(["population_point"]),[p,g]=C.useState(null),[y,x]=C.useState(null),[w,_]=C.useState(!1),E=C.useRef(null),T=F=>{g(null),x(F)},N=async()=>{if(!(!y||!E.current)){_(!0);try{const F=E.current.getFeatures();if(F.features.length===0)throw new Error("No geometry found");const U=Mz(y.geometry.type,F),I=y.entityType==="plate"?"plate_geometry":"geometry";await jg(y.entityType,y.id,{[I]:U});const G=oo.find(le=>le.id===y.entityType);if(G){const le=await tr[G.tableName].get(Number(y.id));le&&await tr[G.tableName].put({...le,geometry:U})}x(null)}catch(F){console.error("Failed to save geometry",F),alert("   .")}finally{_(!1)}}},R=F=>{f(U=>U.includes(F)?U.filter(I=>I!==F):[...U,F])},L=s?.action_areas?.find(F=>F.action_area.population_point)?.action_area.population_point?.name;return D.jsxs(Ii,{header:{height:60},padding:"0",children:[D.jsx(Ii.Header,{children:D.jsxs(ko,{h:"100%",px:"md",justify:"space-between",align:"center",children:[D.jsxs(ko,{gap:"xs",children:[D.jsxs(Eh,{children:[" ",L||""]}),D.jsx($z,{})]}),D.jsx(Fa,{variant:"subtle",color:"dark",onClick:t,size:"lg",children:D.jsx(EI,{size:28})})]})}),D.jsx(Ii.Main,{style:{height:"100dvh",display:"flex",flexDirection:"column"},children:D.jsxs("div",{style:{flex:1,position:"relative"},children:[y&&D.jsx(Ge,{style:{position:"absolute",top:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"90%",maxWidth:500},children:D.jsx(Ay,{title:" ",color:"blue",icon:D.jsx(wI,{}),styles:{root:{padding:"var(--mantine-spacing-xs)"},body:{gap:0}},children:D.jsxs($o,{gap:"sm",mt:"xs",children:[D.jsx("span",{style:{fontSize:"14px"},children:"      ."}),D.jsxs(ko,{justify:"flex-end",children:[D.jsx(yi,{variant:"default",size:"sm",onClick:()=>x(null),disabled:w,children:""}),D.jsx(yi,{color:"green",size:"sm",onClick:N,loading:w,children:""})]})]})})}),D.jsx(Dz,{onGeometryLoad:u,activeLayers:d,onFeatureClick:F=>{y||g(F)},drawingMode:y,drawRef:E}),D.jsx(Az,{activeLayers:d,toggleLayer:R}),!y&&D.jsx(UI,{properties:p,onClose:()=>g(null),onStartDrawing:T})]})}),D.jsx(_i,{opened:e,onClose:r,title:"",position:"right",children:D.jsx($o,{children:D.jsx(yi,{color:"red",onClick:o,variant:"light",disabled:l,children:"  "})})})]})}const qz=()=>{const{isAuthenticated:e}=Rs();return e?D.jsx(T_,{}):D.jsx(T3,{to:"/login",replace:!0})},$g=J3([{path:"/",element:D.jsx(fI,{}),children:[{element:D.jsx(qz,{}),children:[{index:!0,element:D.jsx(Hz,{})}]},{path:"login",element:D.jsx(pI,{})}]}]),k1={login:"/register/tokens/user",me:"/register/users/my-self"},Yf={getUserProfile:async()=>{const e=await Oc(k1.me);if(!e.ok){const t=new Error("Failed to fetch user profile");throw t.status=e.status,t}return e.json()},login:async(e,t)=>{const r=await Oc(k1.login,{method:"POST",body:JSON.stringify({grant_type:"password",client_id:1,client_secret:"MapIr",username:e,password:t})});if(!r.ok)throw new Error("Login failed");const o=await r.json();return jA(o.access_token,o.refresh_token),Yf.getUserProfile()},logout:()=>{LA(),$g?$g.navigate("/login"):window.location.hash="/login"}},X_=C.createContext(void 0),Gz=({children:e})=>{const[t,r]=C.useState(null),[o,s]=C.useState(!!Tw()),[l,u]=C.useState(!0),d=jM(),f=()=>{r(null),s(!1),Yf.logout()};C.useEffect(()=>{(async()=>{if(!Tw()){u(!1);return}if(t){u(!1);return}try{const x=await Yf.getUserProfile();r(x),Pw(x),s(!0)}catch(x){console.error("Failed to load user profile",x);const w=x;if(w.status===401||w.status===403){console.warn("Token expired, logging out."),f();return}const _=zA();_?(console.log("Network failed. Restoring user from offline cache."),r(_),s(!0)):f()}finally{u(!1)}})()},[t]);const p=g=>{r(g),Pw(g),s(!0)};return D.jsx(X_.Provider,{value:{user:t,isAuthenticated:o,isLoading:l,login:p,logout:f,isOffline:!d.online},children:e})},Rs=()=>{const e=C.useContext(X_);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Vz=["#e8ecf4","#d0d9e9","#b9c6df","#a1b3d4","#8aa0c9","#728dbe","#5b7ab3","#4367a9","#2c549e","#144193"],Yz={primaryColor:"blue",primaryShade:9,colors:{blue:Vz}};var Lh=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Kz={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Xz=class{#e=Kz;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},Hg=new Xz;function Wz(e){setTimeout(e,0)}var Fh=typeof window>"u"||"Deno"in globalThis;function Di(){}function Qz(e,t){return typeof e=="function"?e(t):e}function Zz(e){return typeof e=="number"&&e>=0&&e!==1/0}function Jz(e,t){return Math.max(e+(t||0)-Date.now(),0)}function qg(e,t){return typeof e=="function"?e(t):e}function eL(e,t){return typeof e=="function"?e(t):e}function B1(e,t){const{type:r="all",exact:o,fetchStatus:s,predicate:l,queryKey:u,stale:d}=e;if(u){if(o){if(t.queryHash!==_v(u,t.options))return!1}else if(!Dc(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||s&&s!==t.state.fetchStatus||l&&!l(t))}function U1(e,t){const{exact:r,status:o,predicate:s,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Rc(t.options.mutationKey)!==Rc(l))return!1}else if(!Dc(t.options.mutationKey,l))return!1}return!(o&&t.state.status!==o||s&&!s(t))}function _v(e,t){return(t?.queryKeyHashFn||Rc)(e)}function Rc(e){return JSON.stringify(e,(t,r)=>Gg(r)?Object.keys(r).sort().reduce((o,s)=>(o[s]=r[s],o),{}):r)}function Dc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Dc(e[r],t[r])):!1}var tL=Object.prototype.hasOwnProperty;function W_(e,t){if(e===t)return e;const r=$1(e)&&$1(t);if(!r&&!(Gg(e)&&Gg(t)))return t;const s=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),u=l.length,d=r?new Array(u):{};let f=0;for(let p=0;p<u;p++){const g=r?p:l[p],y=e[g],x=t[g];if(y===x){d[g]=y,(r?p<s:tL.call(e,g))&&f++;continue}if(y===null||x===null||typeof y!="object"||typeof x!="object"){d[g]=x;continue}const w=W_(y,x);d[g]=w,w===y&&f++}return s===u&&f===s?e:d}function $1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Gg(e){if(!H1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!H1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function H1(e){return Object.prototype.toString.call(e)==="[object Object]"}function nL(e){return new Promise(t=>{Hg.setTimeout(t,e)})}function rL(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?W_(e,t):t}function iL(e,t,r=0){const o=[...e,t];return r&&o.length>r?o.slice(1):o}function oL(e,t,r=0){const o=[t,...e];return r&&o.length>r?o.slice(0,-1):o}var Ev=Symbol();function Q_(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===Ev?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function aL(e,t,r){let o=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??=t(),o||(o=!0,s.aborted?r():s.addEventListener("abort",r,{once:!0})),s)}),e}var sL=class extends Lh{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!Fh&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Z_=new sL;function lL(){let e,t;const r=new Promise((s,l)=>{e=s,t=l});r.status="pending",r.catch(()=>{});function o(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{o({status:"fulfilled",value:s}),e(s)},r.reject=s=>{o({status:"rejected",reason:s}),t(s)},r}var uL=Wz;function cL(){let e=[],t=0,r=d=>{d()},o=d=>{d()},s=uL;const l=d=>{t?e.push(d):s(()=>{r(d)})},u=()=>{const d=e;e=[],d.length&&s(()=>{o(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{l(()=>{d(...f)})},schedule:l,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{o=d},setScheduler:d=>{s=d}}}var Or=cL(),dL=class extends Lh{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!Fh&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},Kf=new dL;function fL(e){return Math.min(1e3*2**e,3e4)}function J_(e){return(e??"online")==="online"?Kf.isOnline():!0}var Vg=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function eE(e){let t=!1,r=0,o;const s=lL(),l=()=>s.status!=="pending",u=E=>{if(!l()){const T=new Vg(E);x(T),e.onCancel?.(T)}},d=()=>{t=!0},f=()=>{t=!1},p=()=>Z_.isFocused()&&(e.networkMode==="always"||Kf.isOnline())&&e.canRun(),g=()=>J_(e.networkMode)&&e.canRun(),y=E=>{l()||(o?.(),s.resolve(E))},x=E=>{l()||(o?.(),s.reject(E))},w=()=>new Promise(E=>{o=T=>{(l()||p())&&E(T)},e.onPause?.()}).then(()=>{o=void 0,l()||e.onContinue?.()}),_=()=>{if(l())return;let E;const T=r===0?e.initialPromise:void 0;try{E=T??e.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(y).catch(N=>{if(l())return;const R=e.retry??(Fh?0:3),j=e.retryDelay??fL,L=typeof j=="function"?j(r,N):j,F=R===!0||typeof R=="number"&&r<R||typeof R=="function"&&R(r,N);if(t||!F){x(N);return}r++,e.onFail?.(r,N),nL(L).then(()=>p()?void 0:w()).then(()=>{t?x(N):_()})})};return{promise:s,status:()=>s.status,cancel:u,continue:()=>(o?.(),s),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?_():w().then(_),s)}}var tE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Zz(this.gcTime)&&(this.#e=Hg.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Fh?1/0:300*1e3))}clearGcTimeout(){this.#e&&(Hg.clearTimeout(this.#e),this.#e=void 0)}},hL=class extends tE{#e;#t;#n;#i;#r;#a;#s;constructor(e){super(),this.#s=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=G1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=G1(this.options);t.data!==void 0&&(this.setState(q1(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=rL(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Di).catch(Di):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>eL(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ev||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>qg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Jz(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,o=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#s=!0,r.signal)})},s=()=>{const d=Q_(this.options,t),p=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return o(g),g})();return this.#s=!1,this.options.persister?this.options.persister(d,p,this):d(p)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:s};return o(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#o({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=eE({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof Vg&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Vg){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#o({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#o(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...pL(r.data,this.options),fetchMeta:e.meta??null};case"success":const o={...r,...q1(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?o:void 0,o;case"error":const s=e.error;return{...r,error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Or.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function pL(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:J_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function q1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function G1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,o=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}function V1(e){return{onFetch:(t,r)=>{const o=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,l=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const p=async()=>{let g=!1;const y=_=>{aL(_,()=>t.signal,()=>g=!0)},x=Q_(t.options,t.fetchOptions),w=async(_,E,T)=>{if(g)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const R=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return y(U),U})(),j=await x(R),{maxPages:L}=t.options,F=T?oL:iL;return{pages:F(_.pages,j,L),pageParams:F(_.pageParams,E,L)}};if(s&&l.length){const _=s==="backward",E=_?mL:Y1,T={pages:l,pageParams:u},N=E(o,T);d=await w(T,N,_)}else{const _=e??l.length;do{const E=f===0?u[0]??o.initialPageParam:Y1(o,d);if(f>0&&E==null)break;d=await w(d,E),f++}while(f<_)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=p}}}function Y1(e,{pages:t,pageParams:r}){const o=t.length-1;return t.length>0?e.getNextPageParam(t[o],t,r[o],r):void 0}function mL(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var gL=class extends tE{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||yL(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=eE({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(l,u)=>{this.#r({type:"failed",failureCount:l,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const o=this.state.status==="pending",s=!this.#i.canStart();try{if(o)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:s})}const l=await this.#i.start();return await this.#n.config.onSuccess?.(l,e,this.state.context,this,r),await this.options.onSuccess?.(l,e,this.state.context,r),await this.#n.config.onSettled?.(l,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(l,null,e,this.state.context,r),this.#r({type:"success",data:l}),l}catch(l){try{await this.#n.config.onError?.(l,e,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onError?.(l,e,this.state.context,r)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,l,this.state.variables,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,l,e,this.state.context,r)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:l}),l}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Or.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function yL(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vL=class extends Lh{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const o=new gL({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(o),o}add(e){this.#e.add(e);const t=wf(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=wf(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const o=r.indexOf(e);o!==-1&&r.splice(o,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=wf(e);if(typeof t=="string"){const o=this.#t.get(t)?.find(s=>s.state.status==="pending");return!o||o===e}else return!0}runNext(e){const t=wf(e);return typeof t=="string"?this.#t.get(t)?.find(o=>o!==e&&o.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Or.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>U1(t,r))}findAll(e={}){return this.getAll().filter(t=>U1(e,t))}notify(e){Or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Or.batch(()=>Promise.all(e.map(t=>t.continue().catch(Di))))}};function wf(e){return e.options.scope?.id}var bL=class extends Lh{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const o=t.queryKey,s=t.queryHash??_v(o,t);let l=this.get(s);return l||(l=new hL({client:e,queryKey:o,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(o)}),this.add(l)),l}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Or.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>B1(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>B1(e,r)):t}notify(e){Or.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Or.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Or.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},xL=class{#e;#t;#n;#i;#r;#a;#s;#o;constructor(e={}){this.#e=e.queryCache||new bL,this.#t=e.mutationCache||new vL,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=Z_.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=Kf.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),o=r.state.data;return o===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(qg(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const o=r.data;return[t,o]})}setQueryData(e,t,r){const o=this.defaultQueryOptions({queryKey:e}),l=this.#e.get(o.queryHash)?.state.data,u=Qz(t,l);if(u!==void 0)return this.#e.build(this,o).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return Or.batch(()=>this.#e.findAll(e).map(({queryKey:o})=>[o,this.setQueryData(o,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Or.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return Or.batch(()=>(r.findAll(e).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},o=Or.batch(()=>this.#e.findAll(e).map(s=>s.cancel(r)));return Promise.all(o).then(Di).catch(Di)}invalidateQueries(e,t={}){return Or.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},o=Or.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let l=s.fetch(void 0,r);return r.throwOnError||(l=l.catch(Di)),s.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(o).then(Di)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(qg(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Di).catch(Di)}fetchInfiniteQuery(e){return e.behavior=V1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Di).catch(Di)}ensureInfiniteQueryData(e){return e.behavior=V1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Kf.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Rc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(o=>{Dc(e,o.queryKey)&&Object.assign(r,o.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Rc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(o=>{Dc(e,o.mutationKey)&&Object.assign(r,o.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=_v(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Ev&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},wL=C.createContext(void 0),SL=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),D.jsx(wL.Provider,{value:e,children:t}));const CL=new xL;function _L(){return D.jsx(KT,{initialDirection:"rtl",children:D.jsx(yS,{theme:Yz,children:D.jsx(SL,{client:CL,children:D.jsx(Gz,{children:D.jsx(dI,{router:$g})})})})})}TO.createRoot(document.getElementById("root")).render(D.jsx(C.StrictMode,{children:D.jsx(_L,{})}));export{Xf as g};
