function CM(e,t){for(var r=0;r<t.length;r++){const i=t[r];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(i,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var _M=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jm={exports:{}},Cc={};var ow;function EM(){if(ow)return Cc;ow=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(i,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:i,key:u,ref:a!==void 0?a:null,props:s}}return Cc.Fragment=t,Cc.jsx=r,Cc.jsxs=r,Cc}var aw;function OM(){return aw||(aw=1,Jm.exports=EM()),Jm.exports}var R=OM(),eg={exports:{}},yt={};var sw;function MM(){if(sw)return yt;sw=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function w(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,T={};function N(q,re,we){this.props=q,this.context=re,this.refs=T,this.updater=we||_}N.prototype.isReactComponent={},N.prototype.setState=function(q,re){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,re,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function D(){}D.prototype=N.prototype;function I(q,re,we){this.props=q,this.context=re,this.refs=T,this.updater=we||_}var F=I.prototype=new D;F.constructor=I,E(F,N.prototype),F.isPureReactComponent=!0;var k=Array.isArray;function U(){}var A={H:null,A:null,T:null,S:null},$=Object.prototype.hasOwnProperty;function ae(q,re,we){var Ne=we.ref;return{$$typeof:e,type:q,key:re,ref:Ne!==void 0?Ne:null,props:we}}function ue(q,re){return ae(q.type,re,q.props)}function me(q){return typeof q=="object"&&q!==null&&q.$$typeof===e}function de(q){var re={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(we){return re[we]})}var _e=/\/+/g;function ce(q,re){return typeof q=="object"&&q!==null&&q.key!=null?de(""+q.key):re.toString(36)}function Ce(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(re){q.status==="pending"&&(q.status="fulfilled",q.value=re)},function(re){q.status==="pending"&&(q.status="rejected",q.reason=re)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function B(q,re,we,Ne,Ie){var qe=typeof q;(qe==="undefined"||qe==="boolean")&&(q=null);var nt=!1;if(q===null)nt=!0;else switch(qe){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(q.$$typeof){case e:case t:nt=!0;break;case g:return nt=q._init,B(nt(q._payload),re,we,Ne,Ie)}}if(nt)return Ie=Ie(q),nt=Ne===""?"."+ce(q,0):Ne,k(Ie)?(we="",nt!=null&&(we=nt.replace(_e,"$&/")+"/"),B(Ie,re,we,"",function(Zt){return Zt})):Ie!=null&&(me(Ie)&&(Ie=ue(Ie,we+(Ie.key==null||q&&q.key===Ie.key?"":(""+Ie.key).replace(_e,"$&/")+"/")+nt)),re.push(Ie)),1;nt=0;var wt=Ne===""?".":Ne+":";if(k(q))for(var De=0;De<q.length;De++)Ne=q[De],qe=wt+ce(Ne,De),nt+=B(Ne,re,we,qe,Ie);else if(De=w(q),typeof De=="function")for(q=De.call(q),De=0;!(Ne=q.next()).done;)Ne=Ne.value,qe=wt+ce(Ne,De++),nt+=B(Ne,re,we,qe,Ie);else if(qe==="object"){if(typeof q.then=="function")return B(Ce(q),re,we,Ne,Ie);throw re=String(q),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return nt}function J(q,re,we){if(q==null)return q;var Ne=[],Ie=0;return B(q,Ne,"","",function(qe){return re.call(we,qe,Ie++)}),Ne}function V(q){if(q._status===-1){var re=q._result;re=re(),re.then(function(we){(q._status===0||q._status===-1)&&(q._status=1,q._result=we)},function(we){(q._status===0||q._status===-1)&&(q._status=2,q._result=we)}),q._status===-1&&(q._status=0,q._result=re)}if(q._status===1)return q._result.default;throw q._result}var be=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Se={map:J,forEach:function(q,re,we){J(q,function(){re.apply(this,arguments)},we)},count:function(q){var re=0;return J(q,function(){re++}),re},toArray:function(q){return J(q,function(re){return re})||[]},only:function(q){if(!me(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return yt.Activity=y,yt.Children=Se,yt.Component=N,yt.Fragment=r,yt.Profiler=a,yt.PureComponent=I,yt.StrictMode=i,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,yt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return A.H.useMemoCache(q)}},yt.cache=function(q){return function(){return q.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(q,re,we){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Ne=E({},q.props),Ie=q.key;if(re!=null)for(qe in re.key!==void 0&&(Ie=""+re.key),re)!$.call(re,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&re.ref===void 0||(Ne[qe]=re[qe]);var qe=arguments.length-2;if(qe===1)Ne.children=we;else if(1<qe){for(var nt=Array(qe),wt=0;wt<qe;wt++)nt[wt]=arguments[wt+2];Ne.children=nt}return ae(q.type,Ie,Ne)},yt.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},yt.createElement=function(q,re,we){var Ne,Ie={},qe=null;if(re!=null)for(Ne in re.key!==void 0&&(qe=""+re.key),re)$.call(re,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ie[Ne]=re[Ne]);var nt=arguments.length-2;if(nt===1)Ie.children=we;else if(1<nt){for(var wt=Array(nt),De=0;De<nt;De++)wt[De]=arguments[De+2];Ie.children=wt}if(q&&q.defaultProps)for(Ne in nt=q.defaultProps,nt)Ie[Ne]===void 0&&(Ie[Ne]=nt[Ne]);return ae(q,qe,Ie)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(q){return{$$typeof:d,render:q}},yt.isValidElement=me,yt.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:V}},yt.memo=function(q,re){return{$$typeof:h,type:q,compare:re===void 0?null:re}},yt.startTransition=function(q){var re=A.T,we={};A.T=we;try{var Ne=q(),Ie=A.S;Ie!==null&&Ie(we,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(U,be)}catch(qe){be(qe)}finally{re!==null&&we.types!==null&&(re.types=we.types),A.T=re}},yt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},yt.use=function(q){return A.H.use(q)},yt.useActionState=function(q,re,we){return A.H.useActionState(q,re,we)},yt.useCallback=function(q,re){return A.H.useCallback(q,re)},yt.useContext=function(q){return A.H.useContext(q)},yt.useDebugValue=function(){},yt.useDeferredValue=function(q,re){return A.H.useDeferredValue(q,re)},yt.useEffect=function(q,re){return A.H.useEffect(q,re)},yt.useEffectEvent=function(q){return A.H.useEffectEvent(q)},yt.useId=function(){return A.H.useId()},yt.useImperativeHandle=function(q,re,we){return A.H.useImperativeHandle(q,re,we)},yt.useInsertionEffect=function(q,re){return A.H.useInsertionEffect(q,re)},yt.useLayoutEffect=function(q,re){return A.H.useLayoutEffect(q,re)},yt.useMemo=function(q,re){return A.H.useMemo(q,re)},yt.useOptimistic=function(q,re){return A.H.useOptimistic(q,re)},yt.useReducer=function(q,re,we){return A.H.useReducer(q,re,we)},yt.useRef=function(q){return A.H.useRef(q)},yt.useState=function(q){return A.H.useState(q)},yt.useSyncExternalStore=function(q,re,we){return A.H.useSyncExternalStore(q,re,we)},yt.useTransition=function(){return A.H.useTransition()},yt.version="19.2.3",yt}var lw;function Cy(){return lw||(lw=1,eg.exports=MM()),eg.exports}var C=Cy();const Yn=xh(C),_y=CM({__proto__:null,default:Yn},[C]);var tg={exports:{}},_c={},ng={exports:{}},rg={};var uw;function TM(){return uw||(uw=1,(function(e){function t(B,J){var V=B.length;B.push(J);e:for(;0<V;){var be=V-1>>>1,Se=B[be];if(0<a(Se,J))B[be]=J,B[V]=Se,V=be;else break e}}function r(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var J=B[0],V=B.pop();if(V!==J){B[0]=V;e:for(var be=0,Se=B.length,q=Se>>>1;be<q;){var re=2*(be+1)-1,we=B[re],Ne=re+1,Ie=B[Ne];if(0>a(we,V))Ne<Se&&0>a(Ie,we)?(B[be]=Ie,B[Ne]=V,be=Ne):(B[be]=we,B[re]=V,be=re);else if(Ne<Se&&0>a(Ie,V))B[be]=Ie,B[Ne]=V,be=Ne;else break e}}return J}function a(B,J){var V=B.sortIndex-J.sortIndex;return V!==0?V:B.id-J.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var f=[],h=[],g=1,y=null,x=3,w=!1,_=!1,E=!1,T=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function F(B){for(var J=r(h);J!==null;){if(J.callback===null)i(h);else if(J.startTime<=B)i(h),J.sortIndex=J.expirationTime,t(f,J);else break;J=r(h)}}function k(B){if(E=!1,F(B),!_)if(r(f)!==null)_=!0,U||(U=!0,de());else{var J=r(h);J!==null&&Ce(k,J.startTime-B)}}var U=!1,A=-1,$=5,ae=-1;function ue(){return T?!0:!(e.unstable_now()-ae<$)}function me(){if(T=!1,U){var B=e.unstable_now();ae=B;var J=!0;try{e:{_=!1,E&&(E=!1,D(A),A=-1),w=!0;var V=x;try{t:{for(F(B),y=r(f);y!==null&&!(y.expirationTime>B&&ue());){var be=y.callback;if(typeof be=="function"){y.callback=null,x=y.priorityLevel;var Se=be(y.expirationTime<=B);if(B=e.unstable_now(),typeof Se=="function"){y.callback=Se,F(B),J=!0;break t}y===r(f)&&i(f),F(B)}else i(f);y=r(f)}if(y!==null)J=!0;else{var q=r(h);q!==null&&Ce(k,q.startTime-B),J=!1}}break e}finally{y=null,x=V,w=!1}J=void 0}}finally{J?de():U=!1}}}var de;if(typeof I=="function")de=function(){I(me)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,ce=_e.port2;_e.port1.onmessage=me,de=function(){ce.postMessage(null)}}else de=function(){N(me,0)};function Ce(B,J){A=N(function(){B(e.unstable_now())},J)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_next=function(B){switch(x){case 1:case 2:case 3:var J=3;break;default:J=x}var V=x;x=J;try{return B()}finally{x=V}},e.unstable_requestPaint=function(){T=!0},e.unstable_runWithPriority=function(B,J){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=x;x=B;try{return J()}finally{x=V}},e.unstable_scheduleCallback=function(B,J,V){var be=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?be+V:be):V=be,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=V+Se,B={id:g++,callback:J,priorityLevel:B,startTime:V,expirationTime:Se,sortIndex:-1},V>be?(B.sortIndex=V,t(h,B),r(f)===null&&B===r(h)&&(E?(D(A),A=-1):E=!0,Ce(k,V-be))):(B.sortIndex=Se,t(f,B),_||w||(_=!0,U||(U=!0,de()))),B},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(B){var J=x;return function(){var V=x;x=J;try{return B.apply(this,arguments)}finally{x=V}}}})(rg)),rg}var cw;function RM(){return cw||(cw=1,ng.exports=TM()),ng.exports}var ig={exports:{}},pr={};var dw;function PM(){if(dw)return pr;dw=1;var e=Cy();function t(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var i={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:h,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return pr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,pr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(f,h,null,g)},pr.flushSync=function(f){var h=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=h,i.p=g,i.d.f()}},pr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},pr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},pr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,y=d(g,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:w}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:x,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},pr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=d(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},pr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=d(g,h.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},pr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=d(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},pr.requestFormReset=function(f){i.d.r(f)},pr.unstable_batchedUpdates=function(f,h){return f(h)},pr.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},pr.useFormStatus=function(){return u.H.useHostTransitionStatus()},pr.version="19.2.3",pr}var fw;function k1(){if(fw)return ig.exports;fw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),ig.exports=PM(),ig.exports}var hw;function DM(){if(hw)return _c;hw=1;var e=RM(),t=Cy(),r=k1();function i(n){var o="https://react.dev/errors/"+n;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function s(n){var o=n,l=n;if(n.alternate)for(;o.return;)o=o.return;else{n=o;do o=n,(o.flags&4098)!==0&&(l=o.return),n=o.return;while(n)}return o.tag===3?l:null}function u(n){if(n.tag===13){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function d(n){if(n.tag===31){var o=n.memoizedState;if(o===null&&(n=n.alternate,n!==null&&(o=n.memoizedState)),o!==null)return o.dehydrated}return null}function f(n){if(s(n)!==n)throw Error(i(188))}function h(n){var o=n.alternate;if(!o){if(o=s(n),o===null)throw Error(i(188));return o!==n?null:n}for(var l=n,c=o;;){var m=l.return;if(m===null)break;var b=m.alternate;if(b===null){if(c=m.return,c!==null){l=c;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===l)return f(m),n;if(b===c)return f(m),o;b=b.sibling}throw Error(i(188))}if(l.return!==c.return)l=m,c=b;else{for(var M=!1,z=m.child;z;){if(z===l){M=!0,l=m,c=b;break}if(z===c){M=!0,c=m,l=b;break}z=z.sibling}if(!M){for(z=b.child;z;){if(z===l){M=!0,l=b,c=m;break}if(z===c){M=!0,c=b,l=m;break}z=z.sibling}if(!M)throw Error(i(189))}}if(l.alternate!==c)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:o}function g(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n;for(n=n.child;n!==null;){if(o=g(n),o!==null)return o;n=n.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),ae=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),me=Symbol.iterator;function de(n){return n===null||typeof n!="object"?null:(n=me&&n[me]||n["@@iterator"],typeof n=="function"?n:null)}var _e=Symbol.for("react.client.reference");function ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===_e?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case N:return"Profiler";case T:return"StrictMode";case k:return"Suspense";case U:return"SuspenseList";case ae:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case _:return"Portal";case I:return n.displayName||"Context";case D:return(n._context.displayName||"Context")+".Consumer";case F:var o=n.render;return n=n.displayName,n||(n=o.displayName||o.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case A:return o=n.displayName||null,o!==null?o:ce(n.type)||"Memo";case $:o=n._payload,n=n._init;try{return ce(n(o))}catch{}}return null}var Ce=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},be=[],Se=-1;function q(n){return{current:n}}function re(n){0>Se||(n.current=be[Se],be[Se]=null,Se--)}function we(n,o){Se++,be[Se]=n.current,n.current=o}var Ne=q(null),Ie=q(null),qe=q(null),nt=q(null);function wt(n,o){switch(we(qe,o),we(Ie,n),we(Ne,null),o.nodeType){case 9:case 11:n=(n=o.documentElement)&&(n=n.namespaceURI)?Tx(n):0;break;default:if(n=o.tagName,o=o.namespaceURI)o=Tx(o),n=Rx(o,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}re(Ne),we(Ne,n)}function De(){re(Ne),re(Ie),re(qe)}function Zt(n){n.memoizedState!==null&&we(nt,n);var o=Ne.current,l=Rx(o,n.type);o!==l&&(we(Ie,n),we(Ne,l))}function ln(n){Ie.current===n&&(re(Ne),re(Ie)),nt.current===n&&(re(nt),bc._currentValue=V)}var Ze,ht;function kt(n){if(Ze===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Ze=o&&o[1]||"",ht=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ze+n+ht}var nn=!1;function mn(n,o){if(!n||nn)return"";nn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var Pe=function(){throw Error()};if(Object.defineProperty(Pe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Pe,[])}catch(xe){var ye=xe}Reflect.construct(n,[],Pe)}else{try{Pe.call()}catch(xe){ye=xe}n.call(Pe.prototype)}}else{try{throw Error()}catch(xe){ye=xe}(Pe=n())&&typeof Pe.catch=="function"&&Pe.catch(function(){})}}catch(xe){if(xe&&ye&&typeof xe.stack=="string")return[xe.stack,ye.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=c.DetermineComponentFrameRoot(),M=b[0],z=b[1];if(M&&z){var Y=M.split(`
`),pe=z.split(`
`);for(m=c=0;c<Y.length&&!Y[c].includes("DetermineComponentFrameRoot");)c++;for(;m<pe.length&&!pe[m].includes("DetermineComponentFrameRoot");)m++;if(c===Y.length||m===pe.length)for(c=Y.length-1,m=pe.length-1;1<=c&&0<=m&&Y[c]!==pe[m];)m--;for(;1<=c&&0<=m;c--,m--)if(Y[c]!==pe[m]){if(c!==1||m!==1)do if(c--,m--,0>m||Y[c]!==pe[m]){var Me=`
`+Y[c].replace(" at new "," at ");return n.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",n.displayName)),Me}while(1<=c&&0<=m);break}}}finally{nn=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?kt(l):""}function Rr(n,o){switch(n.tag){case 26:case 27:case 5:return kt(n.type);case 16:return kt("Lazy");case 13:return n.child!==o&&o!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return mn(n.type,!1);case 11:return mn(n.type.render,!1);case 1:return mn(n.type,!0);case 31:return kt("Activity");default:return""}}function nr(n){try{var o="",l=null;do o+=Rr(n,l),l=n,n=n.return;while(n);return o}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}var Jt=Object.prototype.hasOwnProperty,Hn=e.unstable_scheduleCallback,gn=e.unstable_cancelCallback,xn=e.unstable_shouldYield,br=e.unstable_requestPaint,Lt=e.unstable_now,Ht=e.unstable_getCurrentPriorityLevel,qn=e.unstable_ImmediatePriority,lt=e.unstable_UserBlockingPriority,wn=e.unstable_NormalPriority,Cn=e.unstable_LowPriority,Tn=e.unstable_IdlePriority,Vr=e.log,rn=e.unstable_setDisableYieldValue,Pr=null,qt=null;function At(n){if(typeof Vr=="function"&&rn(n),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Pr,n)}catch{}}var Ge=Math.clz32?Math.clz32:Di,Yr=Math.log,Dr=Math.LN2;function Di(n){return n>>>=0,n===0?32:31-(Yr(n)/Dr|0)|0}var $e=256,on=262144,Gn=4194304;function rr(n){var o=n&42;if(o!==0)return o;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Gi(n,o,l){var c=n.pendingLanes;if(c===0)return 0;var m=0,b=n.suspendedLanes,M=n.pingedLanes;n=n.warmLanes;var z=c&134217727;return z!==0?(c=z&~b,c!==0?m=rr(c):(M&=z,M!==0?m=rr(M):l||(l=z&~n,l!==0&&(m=rr(l))))):(z=c&~b,z!==0?m=rr(z):M!==0?m=rr(M):l||(l=c&~n,l!==0&&(m=rr(l)))),m===0?0:o!==0&&o!==m&&(o&b)===0&&(b=m&-m,l=o&-o,b>=l||b===32&&(l&4194048)!==0)?o:m}function Ai(n,o){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&o)===0}function Xs(n,o){switch(n){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function po(){var n=Gn;return Gn<<=1,(Gn&62914560)===0&&(Gn=4194304),n}function xr(n){for(var o=[],l=0;31>l;l++)o.push(n);return o}function wr(n,o){n.pendingLanes|=o,o!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Za(n,o,l,c,m,b){var M=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var z=n.entanglements,Y=n.expirationTimes,pe=n.hiddenUpdates;for(l=M&~l;0<l;){var Me=31-Ge(l),Pe=1<<Me;z[Me]=0,Y[Me]=-1;var ye=pe[Me];if(ye!==null)for(pe[Me]=null,Me=0;Me<ye.length;Me++){var xe=ye[Me];xe!==null&&(xe.lane&=-536870913)}l&=~Pe}c!==0&&mo(n,c,0),b!==0&&m===0&&n.tag!==0&&(n.suspendedLanes|=b&~(M&~o))}function mo(n,o,l){n.pendingLanes|=o,n.suspendedLanes&=~o;var c=31-Ge(o);n.entangledLanes|=o,n.entanglements[c]=n.entanglements[c]|1073741824|l&261930}function H(n,o){var l=n.entangledLanes|=o;for(n=n.entanglements;l;){var c=31-Ge(l),m=1<<c;m&o|n[c]&o&&(n[c]|=o),l&=~m}}function ee(n,o){var l=o&-o;return l=(l&42)!==0?1:ve(l),(l&(n.suspendedLanes|o))!==0?0:l}function ve(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Ae(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Fe(){var n=J.p;return n!==0?n:(n=window.event,n===void 0?32:Zx(n.type))}function tt(n,o){var l=J.p;try{return J.p=n,o()}finally{J.p=l}}var Xe=Math.random().toString(36).slice(2),He="__reactFiber$"+Xe,Ke="__reactProps$"+Xe,Qe="__reactContainer$"+Xe,ot="__reactEvents$"+Xe,it="__reactListeners$"+Xe,vt="__reactHandles$"+Xe,Ot="__reactResources$"+Xe,Bt="__reactMarker$"+Xe;function un(n){delete n[He],delete n[Ke],delete n[ot],delete n[it],delete n[vt]}function an(n){var o=n[He];if(o)return o;for(var l=n.parentNode;l;){if(o=l[Qe]||l[He]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(n=zx(n);n!==null;){if(l=n[He])return l;n=zx(n)}return o}n=l,l=n.parentNode}return null}function at(n){if(n=n[He]||n[Qe]){var o=n.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return n}return null}function sn(n){var o=n.tag;if(o===5||o===26||o===27||o===6)return n.stateNode;throw Error(i(33))}function yn(n){var o=n[Ot];return o||(o=n[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function en(n){n[Bt]=!0}var Kn=new Set,Xn={};function Sr(n,o){dr(n,o),dr(n+"Capture",o)}function dr(n,o){for(Xn[n]=o,n=0;n<o.length;n++)Kn.add(o[n])}var ir=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vi={},ui={};function Mt(n){return Jt.call(ui,n)?!0:Jt.call(Vi,n)?!1:ir.test(n)?ui[n]=!0:(Vi[n]=!0,!1)}function st(n,o,l){if(Mt(o))if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(o);return}}n.setAttribute(o,""+l)}}function Ar(n,o,l){if(l===null)n.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttribute(o,""+l)}}function Dn(n,o,l,c){if(c===null)n.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(o,l,""+c)}}function Ct(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Kr(n){var o=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Ja(n,o,l){var c=Object.getOwnPropertyDescriptor(n.constructor.prototype,o);if(!n.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,b=c.set;return Object.defineProperty(n,o,{configurable:!0,get:function(){return m.call(this)},set:function(M){l=""+M,b.call(this,M)}}),Object.defineProperty(n,o,{enumerable:c.enumerable}),{getValue:function(){return l},setValue:function(M){l=""+M},stopTracking:function(){n._valueTracker=null,delete n[o]}}}}function ra(n){if(!n._valueTracker){var o=Kr(n)?"checked":"value";n._valueTracker=Ja(n,o,""+n[o])}}function Ou(n){if(!n)return!1;var o=n._valueTracker;if(!o)return!0;var l=o.getValue(),c="";return n&&(c=Kr(n)?n.checked?"true":"false":n.value),n=c,n!==l?(o.setValue(n),!0):!1}function Ut(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var es=/[\n"\\]/g;function Wn(n){return n.replace(es,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Yi(n,o,l,c,m,b,M,z){n.name="",M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?n.type=M:n.removeAttribute("type"),o!=null?M==="number"?(o===0&&n.value===""||n.value!=o)&&(n.value=""+Ct(o)):n.value!==""+Ct(o)&&(n.value=""+Ct(o)):M!=="submit"&&M!=="reset"||n.removeAttribute("value"),o!=null?ts(n,M,Ct(o)):l!=null?ts(n,M,Ct(l)):c!=null&&n.removeAttribute("value"),m==null&&b!=null&&(n.defaultChecked=!!b),m!=null&&(n.checked=m&&typeof m!="function"&&typeof m!="symbol"),z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"?n.name=""+Ct(z):n.removeAttribute("name")}function Ws(n,o,l,c,m,b,M,z){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.type=b),o!=null||l!=null){if(!(b!=="submit"&&b!=="reset"||o!=null)){ra(n);return}l=l!=null?""+Ct(l):"",o=o!=null?""+Ct(o):l,z||o===n.value||(n.value=o),n.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=z?n.checked:!!c,n.defaultChecked=!!c,M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(n.name=M),ra(n)}function ts(n,o,l){o==="number"&&Ut(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function Ni(n,o,l,c){if(n=n.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<n.length;l++)m=o.hasOwnProperty("$"+n[l].value),n[l].selected!==m&&(n[l].selected=m),m&&c&&(n[l].defaultSelected=!0)}else{for(l=""+Ct(l),o=null,m=0;m<n.length;m++){if(n[m].value===l){n[m].selected=!0,c&&(n[m].defaultSelected=!0);return}o!==null||n[m].disabled||(o=n[m])}o!==null&&(o.selected=!0)}}function Mu(n,o,l){if(o!=null&&(o=""+Ct(o),o!==n.value&&(n.value=o),l==null)){n.defaultValue!==o&&(n.defaultValue=o);return}n.defaultValue=l!=null?""+Ct(l):""}function ns(n,o,l,c){if(o==null){if(c!=null){if(l!=null)throw Error(i(92));if(Ce(c)){if(1<c.length)throw Error(i(93));c=c[0]}l=c}l==null&&(l=""),o=l}l=Ct(o),n.defaultValue=l,c=n.textContent,c===l&&c!==""&&c!==null&&(n.value=c),ra(n)}function go(n,o){if(o){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=o;return}}n.textContent=o}var lp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(n,o,l){var c=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?n.setProperty(o,""):o==="float"?n.cssFloat="":n[o]="":c?n.setProperty(o,l):typeof l!="number"||l===0||lp.has(o)?o==="float"?n.cssFloat=l:n[o]=(""+l).trim():n[o]=l+"px"}function Tu(n,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(n=n.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&l[m]!==c&&Nt(n,m,c)}else for(var b in o)o.hasOwnProperty(b)&&Nt(n,b,o[b])}function Ru(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ii(n){return Cr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Nr(){}var ci=null;function Qs(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yo=null,cn=null;function Xr(n){var o=at(n);if(o&&(n=o.stateNode)){var l=n[Ke]||null;e:switch(n=o.stateNode,o.type){case"input":if(Yi(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Wn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var c=l[o];if(c!==n&&c.form===n.form){var m=c[Ke]||null;if(!m)throw Error(i(90));Yi(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)c=l[o],c.form===n.form&&Ou(c)}break e;case"textarea":Mu(n,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Ni(n,!!l.multiple,o,!1)}}}var vo=!1;function ia(n,o,l){if(vo)return n(o,l);vo=!0;try{var c=n(o);return c}finally{if(vo=!1,(yo!==null||cn!==null)&&(af(),yo&&(o=yo,n=cn,cn=yo=null,Xr(o),n)))for(o=0;o<n.length;o++)Xr(n[o])}}function bo(n,o){var l=n.stateNode;if(l===null)return null;var c=l[Ke]||null;if(c===null)return null;l=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pu=!1;if(Qn)try{var fr={};Object.defineProperty(fr,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",fr,fr),window.removeEventListener("test",fr,fr)}catch{Pu=!1}var di=null,Zs=null,oa=null;function aa(){if(oa)return oa;var n,o=Zs,l=o.length,c,m="value"in di?di.value:di.textContent,b=m.length;for(n=0;n<l&&o[n]===m[n];n++);var M=l-n;for(c=1;c<=M&&o[l-c]===m[b-c];c++);return oa=m.slice(n,1<c?1-c:void 0)}function sa(n){var o=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&o===13&&(n=13)):n=o,n===10&&(n=13),32<=n||n===13?n:0}function rs(){return!0}function yd(){return!1}function An(n){function o(l,c,m,b,M){this._reactName=l,this._targetInst=m,this.type=c,this.nativeEvent=b,this.target=M,this.currentTarget=null;for(var z in n)n.hasOwnProperty(z)&&(l=n[z],this[z]=l?l(b):b[z]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?rs:yd,this.isPropagationStopped=yd,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),o}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=An(xo),Ki=y({},xo,{view:0,detail:0}),el=An(Ki),is,Du,os,tl=y({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wo,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==os&&(os&&n.type==="mousemove"?(is=n.screenX-os.screenX,Du=n.screenY-os.screenY):Du=is=0,os=n),is)},movementY:function(n){return"movementY"in n?n.movementY:Du}}),nl=An(tl),Au=y({},tl,{dataTransfer:0}),vd=An(Au),rl=y({},Ki,{relatedTarget:0}),la=An(rl),il=y({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),bd=An(il),cp=y({},xo,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),ua=An(cp),Nu=y({},xo,{data:0}),ol=An(Nu),Iu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function as(n){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(n):(n=Zn[n])?!!o[n]:!1}function wo(){return as}var xd=y({},Ki,{key:function(n){if(n.key){var o=Iu[n.key]||n.key;if(o!=="Unidentified")return o}return n.type==="keypress"?(n=sa(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wo,charCode:function(n){return n.type==="keypress"?sa(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?sa(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),al=An(xd),wd=y({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zu=An(wd),sl=y({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wo}),Fu=An(sl),So=y({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=An(So),Lu=y({},tl,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ll=An(Lu),Bu=y({},xo,{newState:0,oldState:0}),Sd=An(Bu),dp=[9,13,27,32],ss=Qn&&"CompositionEvent"in window,Xi=null;Qn&&"documentMode"in document&&(Xi=document.documentMode);var fp=Qn&&"TextEvent"in window&&!Xi,ul=Qn&&(!ss||Xi&&8<Xi&&11>=Xi),cl=" ",Cd=!1;function Uu(n,o){switch(n){case"keyup":return dp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Co=!1;function Ed(n,o){switch(n){case"compositionend":return _d(o);case"keypress":return o.which!==32?null:(Cd=!0,cl);case"textInput":return n=o.data,n===cl&&Cd?null:n;default:return null}}function hp(n,o){if(Co)return n==="compositionend"||!ss&&Uu(n,o)?(n=aa(),oa=Zs=di=null,Co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return ul&&o.locale!=="ko"?null:o.data;default:return null}}var Od={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dl(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o==="input"?!!Od[n.type]:o==="textarea"}function $u(n,o,l,c){yo?cn?cn.push(c):cn=[c]:yo=c,o=hf(o,"onChange"),0<o.length&&(l=new Js("onChange","change",null,l,c),n.push({event:l,listeners:o}))}var ca=null,ls=null;function pp(n){Sx(n,0)}function fl(n){var o=sn(n);if(Ou(o))return n}function us(n,o){if(n==="change")return o}var fi=!1;if(Qn){var dn;if(Qn){var da="oninput"in document;if(!da){var _r=document.createElement("div");_r.setAttribute("oninput","return;"),da=typeof _r.oninput=="function"}dn=da}else dn=!1;fi=dn&&(!document.documentMode||9<document.documentMode)}function Md(){ca&&(ca.detachEvent("onpropertychange",hl),ls=ca=null)}function hl(n){if(n.propertyName==="value"&&fl(ls)){var o=[];$u(o,ls,n,Qs(n)),ia(pp,o)}}function Td(n,o,l){n==="focusin"?(Md(),ca=o,ls=l,ca.attachEvent("onpropertychange",hl)):n==="focusout"&&Md()}function _o(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(ls)}function Hu(n,o){if(n==="click")return fl(o)}function fa(n,o){if(n==="input"||n==="change")return fl(o)}function Wi(n,o){return n===o&&(n!==0||1/n===1/o)||n!==n&&o!==o}var hr=typeof Object.is=="function"?Object.is:Wi;function p(n,o){if(hr(n,o))return!0;if(typeof n!="object"||n===null||typeof o!="object"||o===null)return!1;var l=Object.keys(n),c=Object.keys(o);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var m=l[c];if(!Jt.call(o,m)||!hr(n[m],o[m]))return!1}return!0}function v(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function S(n,o){var l=v(n);n=0;for(var c;l;){if(l.nodeType===3){if(c=n+l.textContent.length,n<=o&&c>=o)return{node:l,offset:o-n};n=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=v(l)}}function O(n,o){return n&&o?n===o?!0:n&&n.nodeType===3?!1:o&&o.nodeType===3?O(n,o.parentNode):"contains"in n?n.contains(o):n.compareDocumentPosition?!!(n.compareDocumentPosition(o)&16):!1:!1}function P(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var o=Ut(n.document);o instanceof n.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)n=o.contentWindow;else break;o=Ut(n.document)}return o}function j(n){var o=n&&n.nodeName&&n.nodeName.toLowerCase();return o&&(o==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||o==="textarea"||n.contentEditable==="true")}var L=Qn&&"documentMode"in document&&11>=document.documentMode,G=null,X=null,W=null,ie=!1;function K(n,o,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;ie||G==null||G!==Ut(c)||(c=G,"selectionStart"in c&&j(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),W&&p(W,c)||(W=c,c=hf(X,"onSelect"),0<c.length&&(o=new Js("onSelect","select",null,o,l),n.push({event:o,listeners:c}),o.target=G)))}function se(n,o){var l={};return l[n.toLowerCase()]=o.toLowerCase(),l["Webkit"+n]="webkit"+o,l["Moz"+n]="moz"+o,l}var Q={animationend:se("Animation","AnimationEnd"),animationiteration:se("Animation","AnimationIteration"),animationstart:se("Animation","AnimationStart"),transitionrun:se("Transition","TransitionRun"),transitionstart:se("Transition","TransitionStart"),transitioncancel:se("Transition","TransitionCancel"),transitionend:se("Transition","TransitionEnd")},te={},ne={};Qn&&(ne=document.createElement("div").style,"AnimationEvent"in window||(delete Q.animationend.animation,delete Q.animationiteration.animation,delete Q.animationstart.animation),"TransitionEvent"in window||delete Q.transitionend.transition);function oe(n){if(te[n])return te[n];if(!Q[n])return n;var o=Q[n],l;for(l in o)if(o.hasOwnProperty(l)&&l in ne)return te[n]=o[l];return n}var fe=oe("animationend"),ge=oe("animationiteration"),Oe=oe("animationstart"),Re=oe("transitionrun"),Le=oe("transitionstart"),Ye=oe("transitioncancel"),je=oe("transitionend"),Ue=new Map,Ve="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ve.push("scrollEnd");function ze(n,o){Ue.set(n,o),Sr(o,[n])}var We=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},ut=[],mt=0,bt=0;function Jn(){for(var n=mt,o=bt=mt=0;o<n;){var l=ut[o];ut[o++]=null;var c=ut[o];ut[o++]=null;var m=ut[o];ut[o++]=null;var b=ut[o];if(ut[o++]=null,c!==null&&m!==null){var M=c.pending;M===null?m.next=m:(m.next=M.next,M.next=m),c.pending=m}b!==0&&cs(l,m,b)}}function pt(n,o,l,c){ut[mt++]=n,ut[mt++]=o,ut[mt++]=l,ut[mt++]=c,bt|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Nn(n,o,l,c){return pt(n,o,l,c),In(n)}function vn(n,o){return pt(n,null,null,o),In(n)}function cs(n,o,l){n.lanes|=l;var c=n.alternate;c!==null&&(c.lanes|=l);for(var m=!1,b=n.return;b!==null;)b.childLanes|=l,c=b.alternate,c!==null&&(c.childLanes|=l),b.tag===22&&(n=b.stateNode,n===null||n._visibility&1||(m=!0)),n=b,b=b.return;return n.tag===3?(b=n.stateNode,m&&o!==null&&(m=31-Ge(l),n=b.hiddenUpdates,c=n[m],c===null?n[m]=[o]:c.push(o),o.lane=l|536870912),b):null}function In(n){if(50<fc)throw fc=0,Cm=null,Error(i(185));for(var o=n.return;o!==null;)n=o,o=n.return;return n.tag===3?n.stateNode:null}var Ir={};function qu(n,o,l,c){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(n,o,l,c){return new qu(n,o,l,c)}function mp(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Eo(n,o){var l=n.alternate;return l===null?(l=Wr(n.tag,o,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=o,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,o=n.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function i0(n,o){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=o,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,o=l.dependencies,n.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),n}function Rd(n,o,l,c,m,b){var M=0;if(c=n,typeof n=="function")mp(n)&&(M=1);else if(typeof n=="string")M=dM(n,l,Ne.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case ae:return n=Wr(31,l,o,m),n.elementType=ae,n.lanes=b,n;case E:return ds(l.children,m,b,o);case T:M=8,m|=24;break;case N:return n=Wr(12,l,o,m|2),n.elementType=N,n.lanes=b,n;case k:return n=Wr(13,l,o,m),n.elementType=k,n.lanes=b,n;case U:return n=Wr(19,l,o,m),n.elementType=U,n.lanes=b,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:M=10;break e;case D:M=9;break e;case F:M=11;break e;case A:M=14;break e;case $:M=16,c=null;break e}M=29,l=Error(i(130,n===null?"null":typeof n,"")),c=null}return o=Wr(M,l,o,m),o.elementType=n,o.type=c,o.lanes=b,o}function ds(n,o,l,c){return n=Wr(7,n,c,o),n.lanes=l,n}function gp(n,o,l){return n=Wr(6,n,null,o),n.lanes=l,n}function o0(n){var o=Wr(18,null,null,0);return o.stateNode=n,o}function yp(n,o,l){return o=Wr(4,n.children!==null?n.children:[],n.key,o),o.lanes=l,o.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},o}var a0=new WeakMap;function hi(n,o){if(typeof n=="object"&&n!==null){var l=a0.get(n);return l!==void 0?l:(o={value:n,source:o,stack:nr(o)},a0.set(n,o),o)}return{value:n,source:o,stack:nr(o)}}var pl=[],ml=0,Pd=null,Gu=0,pi=[],mi=0,ha=null,Qi=1,Zi="";function Oo(n,o){pl[ml++]=Gu,pl[ml++]=Pd,Pd=n,Gu=o}function s0(n,o,l){pi[mi++]=Qi,pi[mi++]=Zi,pi[mi++]=ha,ha=n;var c=Qi;n=Zi;var m=32-Ge(c)-1;c&=~(1<<m),l+=1;var b=32-Ge(o)+m;if(30<b){var M=m-m%5;b=(c&(1<<M)-1).toString(32),c>>=M,m-=M,Qi=1<<32-Ge(o)+m|l<<m|c,Zi=b+n}else Qi=1<<b|l<<m|c,Zi=n}function vp(n){n.return!==null&&(Oo(n,1),s0(n,1,0))}function bp(n){for(;n===Pd;)Pd=pl[--ml],pl[ml]=null,Gu=pl[--ml],pl[ml]=null;for(;n===ha;)ha=pi[--mi],pi[mi]=null,Zi=pi[--mi],pi[mi]=null,Qi=pi[--mi],pi[mi]=null}function l0(n,o){pi[mi++]=Qi,pi[mi++]=Zi,pi[mi++]=ha,Qi=o.id,Zi=o.overflow,ha=n}var or=null,fn=null,It=!1,pa=null,gi=!1,xp=Error(i(519));function ma(n){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vu(hi(o,n)),xp}function u0(n){var o=n.stateNode,l=n.type,c=n.memoizedProps;switch(o[He]=n,o[Ke]=c,l){case"dialog":Rt("cancel",o),Rt("close",o);break;case"iframe":case"object":case"embed":Rt("load",o);break;case"video":case"audio":for(l=0;l<pc.length;l++)Rt(pc[l],o);break;case"source":Rt("error",o);break;case"img":case"image":case"link":Rt("error",o),Rt("load",o);break;case"details":Rt("toggle",o);break;case"input":Rt("invalid",o),Ws(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0);break;case"select":Rt("invalid",o);break;case"textarea":Rt("invalid",o),ns(o,c.value,c.defaultValue,c.children)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||c.suppressHydrationWarning===!0||Ox(o.textContent,l)?(c.popover!=null&&(Rt("beforetoggle",o),Rt("toggle",o)),c.onScroll!=null&&Rt("scroll",o),c.onScrollEnd!=null&&Rt("scrollend",o),c.onClick!=null&&(o.onclick=Nr),o=!0):o=!1,o||ma(n,!0)}function c0(n){for(or=n.return;or;)switch(or.tag){case 5:case 31:case 13:gi=!1;return;case 27:case 3:gi=!0;return;default:or=or.return}}function gl(n){if(n!==or)return!1;if(!It)return c0(n),It=!0,!1;var o=n.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||km(n.type,n.memoizedProps)),l=!l),l&&fn&&ma(n),c0(n),o===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));fn=jx(n)}else if(o===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));fn=jx(n)}else o===27?(o=fn,Ra(n.type)?(n=Hm,Hm=null,fn=n):fn=o):fn=or?vi(n.stateNode.nextSibling):null;return!0}function fs(){fn=or=null,It=!1}function wp(){var n=pa;return n!==null&&(kr===null?kr=n:kr.push.apply(kr,n),pa=null),n}function Vu(n){pa===null?pa=[n]:pa.push(n)}var Sp=q(null),hs=null,Mo=null;function ga(n,o,l){we(Sp,o._currentValue),o._currentValue=l}function To(n){n._currentValue=Sp.current,re(Sp)}function Cp(n,o,l){for(;n!==null;){var c=n.alternate;if((n.childLanes&o)!==o?(n.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),n===l)break;n=n.return}}function _p(n,o,l,c){var m=n.child;for(m!==null&&(m.return=n);m!==null;){var b=m.dependencies;if(b!==null){var M=m.child;b=b.firstContext;e:for(;b!==null;){var z=b;b=m;for(var Y=0;Y<o.length;Y++)if(z.context===o[Y]){b.lanes|=l,z=b.alternate,z!==null&&(z.lanes|=l),Cp(b.return,l,n),c||(M=null);break e}b=z.next}}else if(m.tag===18){if(M=m.return,M===null)throw Error(i(341));M.lanes|=l,b=M.alternate,b!==null&&(b.lanes|=l),Cp(M,l,n),M=null}else M=m.child;if(M!==null)M.return=m;else for(M=m;M!==null;){if(M===n){M=null;break}if(m=M.sibling,m!==null){m.return=M.return,M=m;break}M=M.return}m=M}}function yl(n,o,l,c){n=null;for(var m=o,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var M=m.alternate;if(M===null)throw Error(i(387));if(M=M.memoizedProps,M!==null){var z=m.type;hr(m.pendingProps.value,M.value)||(n!==null?n.push(z):n=[z])}}else if(m===nt.current){if(M=m.alternate,M===null)throw Error(i(387));M.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(n!==null?n.push(bc):n=[bc])}m=m.return}n!==null&&_p(o,n,l,c),o.flags|=262144}function Dd(n){for(n=n.firstContext;n!==null;){if(!hr(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ps(n){hs=n,Mo=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ar(n){return d0(hs,n)}function Ad(n,o){return hs===null&&ps(n),d0(n,o)}function d0(n,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Mo===null){if(n===null)throw Error(i(308));Mo=o,n.dependencies={lanes:0,firstContext:o},n.flags|=524288}else Mo=Mo.next=o;return l}var sO=typeof AbortController<"u"?AbortController:function(){var n=[],o=this.signal={aborted:!1,addEventListener:function(l,c){n.push(c)}};this.abort=function(){o.aborted=!0,n.forEach(function(l){return l()})}},lO=e.unstable_scheduleCallback,uO=e.unstable_NormalPriority,jn={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new sO,data:new Map,refCount:0}}function Yu(n){n.refCount--,n.refCount===0&&lO(uO,function(){n.controller.abort()})}var Ku=null,Op=0,vl=0,bl=null;function cO(n,o){if(Ku===null){var l=Ku=[];Op=0,vl=Rm(),bl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return Op++,o.then(f0,f0),o}function f0(){if(--Op===0&&Ku!==null){bl!==null&&(bl.status="fulfilled");var n=Ku;Ku=null,vl=0,bl=null;for(var o=0;o<n.length;o++)(0,n[o])()}}function dO(n,o){var l=[],c={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return n.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),c}var h0=B.S;B.S=function(n,o){Wb=Lt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&cO(n,o),h0!==null&&h0(n,o)};var ms=q(null);function Mp(){var n=ms.current;return n!==null?n:tn.pooledCache}function Nd(n,o){o===null?we(ms,ms.current):we(ms,o.pool)}function p0(){var n=Mp();return n===null?null:{parent:jn._currentValue,pool:n}}var xl=Error(i(460)),Tp=Error(i(474)),Id=Error(i(542)),jd={then:function(){}};function m0(n){return n=n.status,n==="fulfilled"||n==="rejected"}function g0(n,o,l){switch(l=n[l],l===void 0?n.push(o):l!==o&&(o.then(Nr,Nr),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,v0(n),n;default:if(typeof o.status=="string")o.then(Nr,Nr);else{if(n=tn,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=o,n.status="pending",n.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw n=o.reason,v0(n),n}throw ys=o,xl}}function gs(n){try{var o=n._init;return o(n._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ys=l,xl):l}}var ys=null;function y0(){if(ys===null)throw Error(i(459));var n=ys;return ys=null,n}function v0(n){if(n===xl||n===Id)throw Error(i(483))}var wl=null,Xu=0;function zd(n){var o=Xu;return Xu+=1,wl===null&&(wl=[]),g0(wl,n,o)}function Wu(n,o){o=o.props.ref,n.ref=o!==void 0?o:null}function Fd(n,o){throw o.$$typeof===x?Error(i(525)):(n=Object.prototype.toString.call(o),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":n)))}function b0(n){function o(le,Z){if(n){var he=le.deletions;he===null?(le.deletions=[Z],le.flags|=16):he.push(Z)}}function l(le,Z){if(!n)return null;for(;Z!==null;)o(le,Z),Z=Z.sibling;return null}function c(le){for(var Z=new Map;le!==null;)le.key!==null?Z.set(le.key,le):Z.set(le.index,le),le=le.sibling;return Z}function m(le,Z){return le=Eo(le,Z),le.index=0,le.sibling=null,le}function b(le,Z,he){return le.index=he,n?(he=le.alternate,he!==null?(he=he.index,he<Z?(le.flags|=67108866,Z):he):(le.flags|=67108866,Z)):(le.flags|=1048576,Z)}function M(le){return n&&le.alternate===null&&(le.flags|=67108866),le}function z(le,Z,he,Te){return Z===null||Z.tag!==6?(Z=gp(he,le.mode,Te),Z.return=le,Z):(Z=m(Z,he),Z.return=le,Z)}function Y(le,Z,he,Te){var ct=he.type;return ct===E?Me(le,Z,he.props.children,Te,he.key):Z!==null&&(Z.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===$&&gs(ct)===Z.type)?(Z=m(Z,he.props),Wu(Z,he),Z.return=le,Z):(Z=Rd(he.type,he.key,he.props,null,le.mode,Te),Wu(Z,he),Z.return=le,Z)}function pe(le,Z,he,Te){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==he.containerInfo||Z.stateNode.implementation!==he.implementation?(Z=yp(he,le.mode,Te),Z.return=le,Z):(Z=m(Z,he.children||[]),Z.return=le,Z)}function Me(le,Z,he,Te,ct){return Z===null||Z.tag!==7?(Z=ds(he,le.mode,Te,ct),Z.return=le,Z):(Z=m(Z,he),Z.return=le,Z)}function Pe(le,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=gp(""+Z,le.mode,he),Z.return=le,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return he=Rd(Z.type,Z.key,Z.props,null,le.mode,he),Wu(he,Z),he.return=le,he;case _:return Z=yp(Z,le.mode,he),Z.return=le,Z;case $:return Z=gs(Z),Pe(le,Z,he)}if(Ce(Z)||de(Z))return Z=ds(Z,le.mode,he,null),Z.return=le,Z;if(typeof Z.then=="function")return Pe(le,zd(Z),he);if(Z.$$typeof===I)return Pe(le,Ad(le,Z),he);Fd(le,Z)}return null}function ye(le,Z,he,Te){var ct=Z!==null?Z.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return ct!==null?null:z(le,Z,""+he,Te);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return he.key===ct?Y(le,Z,he,Te):null;case _:return he.key===ct?pe(le,Z,he,Te):null;case $:return he=gs(he),ye(le,Z,he,Te)}if(Ce(he)||de(he))return ct!==null?null:Me(le,Z,he,Te,null);if(typeof he.then=="function")return ye(le,Z,zd(he),Te);if(he.$$typeof===I)return ye(le,Z,Ad(le,he),Te);Fd(le,he)}return null}function xe(le,Z,he,Te,ct){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return le=le.get(he)||null,z(Z,le,""+Te,ct);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case w:return le=le.get(Te.key===null?he:Te.key)||null,Y(Z,le,Te,ct);case _:return le=le.get(Te.key===null?he:Te.key)||null,pe(Z,le,Te,ct);case $:return Te=gs(Te),xe(le,Z,he,Te,ct)}if(Ce(Te)||de(Te))return le=le.get(he)||null,Me(Z,le,Te,ct,null);if(typeof Te.then=="function")return xe(le,Z,he,zd(Te),ct);if(Te.$$typeof===I)return xe(le,Z,he,Ad(Z,Te),ct);Fd(Z,Te)}return null}function Je(le,Z,he,Te){for(var ct=null,jt=null,rt=Z,St=Z=0,Dt=null;rt!==null&&St<he.length;St++){rt.index>St?(Dt=rt,rt=null):Dt=rt.sibling;var zt=ye(le,rt,he[St],Te);if(zt===null){rt===null&&(rt=Dt);break}n&&rt&&zt.alternate===null&&o(le,rt),Z=b(zt,Z,St),jt===null?ct=zt:jt.sibling=zt,jt=zt,rt=Dt}if(St===he.length)return l(le,rt),It&&Oo(le,St),ct;if(rt===null){for(;St<he.length;St++)rt=Pe(le,he[St],Te),rt!==null&&(Z=b(rt,Z,St),jt===null?ct=rt:jt.sibling=rt,jt=rt);return It&&Oo(le,St),ct}for(rt=c(rt);St<he.length;St++)Dt=xe(rt,le,St,he[St],Te),Dt!==null&&(n&&Dt.alternate!==null&&rt.delete(Dt.key===null?St:Dt.key),Z=b(Dt,Z,St),jt===null?ct=Dt:jt.sibling=Dt,jt=Dt);return n&&rt.forEach(function(Ia){return o(le,Ia)}),It&&Oo(le,St),ct}function dt(le,Z,he,Te){if(he==null)throw Error(i(151));for(var ct=null,jt=null,rt=Z,St=Z=0,Dt=null,zt=he.next();rt!==null&&!zt.done;St++,zt=he.next()){rt.index>St?(Dt=rt,rt=null):Dt=rt.sibling;var Ia=ye(le,rt,zt.value,Te);if(Ia===null){rt===null&&(rt=Dt);break}n&&rt&&Ia.alternate===null&&o(le,rt),Z=b(Ia,Z,St),jt===null?ct=Ia:jt.sibling=Ia,jt=Ia,rt=Dt}if(zt.done)return l(le,rt),It&&Oo(le,St),ct;if(rt===null){for(;!zt.done;St++,zt=he.next())zt=Pe(le,zt.value,Te),zt!==null&&(Z=b(zt,Z,St),jt===null?ct=zt:jt.sibling=zt,jt=zt);return It&&Oo(le,St),ct}for(rt=c(rt);!zt.done;St++,zt=he.next())zt=xe(rt,le,St,zt.value,Te),zt!==null&&(n&&zt.alternate!==null&&rt.delete(zt.key===null?St:zt.key),Z=b(zt,Z,St),jt===null?ct=zt:jt.sibling=zt,jt=zt);return n&&rt.forEach(function(SM){return o(le,SM)}),It&&Oo(le,St),ct}function Xt(le,Z,he,Te){if(typeof he=="object"&&he!==null&&he.type===E&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case w:e:{for(var ct=he.key;Z!==null;){if(Z.key===ct){if(ct=he.type,ct===E){if(Z.tag===7){l(le,Z.sibling),Te=m(Z,he.props.children),Te.return=le,le=Te;break e}}else if(Z.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===$&&gs(ct)===Z.type){l(le,Z.sibling),Te=m(Z,he.props),Wu(Te,he),Te.return=le,le=Te;break e}l(le,Z);break}else o(le,Z);Z=Z.sibling}he.type===E?(Te=ds(he.props.children,le.mode,Te,he.key),Te.return=le,le=Te):(Te=Rd(he.type,he.key,he.props,null,le.mode,Te),Wu(Te,he),Te.return=le,le=Te)}return M(le);case _:e:{for(ct=he.key;Z!==null;){if(Z.key===ct)if(Z.tag===4&&Z.stateNode.containerInfo===he.containerInfo&&Z.stateNode.implementation===he.implementation){l(le,Z.sibling),Te=m(Z,he.children||[]),Te.return=le,le=Te;break e}else{l(le,Z);break}else o(le,Z);Z=Z.sibling}Te=yp(he,le.mode,Te),Te.return=le,le=Te}return M(le);case $:return he=gs(he),Xt(le,Z,he,Te)}if(Ce(he))return Je(le,Z,he,Te);if(de(he)){if(ct=de(he),typeof ct!="function")throw Error(i(150));return he=ct.call(he),dt(le,Z,he,Te)}if(typeof he.then=="function")return Xt(le,Z,zd(he),Te);if(he.$$typeof===I)return Xt(le,Z,Ad(le,he),Te);Fd(le,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,Z!==null&&Z.tag===6?(l(le,Z.sibling),Te=m(Z,he),Te.return=le,le=Te):(l(le,Z),Te=gp(he,le.mode,Te),Te.return=le,le=Te),M(le)):l(le,Z)}return function(le,Z,he,Te){try{Xu=0;var ct=Xt(le,Z,he,Te);return wl=null,ct}catch(rt){if(rt===xl||rt===Id)throw rt;var jt=Wr(29,rt,null,le.mode);return jt.lanes=Te,jt.return=le,jt}}}var vs=b0(!0),x0=b0(!1),ya=!1;function Rp(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pp(n,o){n=n.updateQueue,o.updateQueue===n&&(o.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function va(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ba(n,o,l){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,($t&2)!==0){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=In(n),cs(n,null,l),o}return pt(n,c,o,l),In(n)}function Qu(n,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var c=o.lanes;c&=n.pendingLanes,l|=c,o.lanes=l,H(n,l)}}function Dp(n,o){var l=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var m=null,b=null;if(l=l.firstBaseUpdate,l!==null){do{var M={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};b===null?m=b=M:b=b.next=M,l=l.next}while(l!==null);b===null?m=b=o:b=b.next=o}else m=b=o;l={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:c.shared,callbacks:c.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=o:n.next=o,l.lastBaseUpdate=o}var Ap=!1;function Zu(){if(Ap){var n=bl;if(n!==null)throw n}}function Ju(n,o,l,c){Ap=!1;var m=n.updateQueue;ya=!1;var b=m.firstBaseUpdate,M=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var Y=z,pe=Y.next;Y.next=null,M===null?b=pe:M.next=pe,M=Y;var Me=n.alternate;Me!==null&&(Me=Me.updateQueue,z=Me.lastBaseUpdate,z!==M&&(z===null?Me.firstBaseUpdate=pe:z.next=pe,Me.lastBaseUpdate=Y))}if(b!==null){var Pe=m.baseState;M=0,Me=pe=Y=null,z=b;do{var ye=z.lane&-536870913,xe=ye!==z.lane;if(xe?(Pt&ye)===ye:(c&ye)===ye){ye!==0&&ye===vl&&(Ap=!0),Me!==null&&(Me=Me.next={lane:0,tag:z.tag,payload:z.payload,callback:null,next:null});e:{var Je=n,dt=z;ye=o;var Xt=l;switch(dt.tag){case 1:if(Je=dt.payload,typeof Je=="function"){Pe=Je.call(Xt,Pe,ye);break e}Pe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=dt.payload,ye=typeof Je=="function"?Je.call(Xt,Pe,ye):Je,ye==null)break e;Pe=y({},Pe,ye);break e;case 2:ya=!0}}ye=z.callback,ye!==null&&(n.flags|=64,xe&&(n.flags|=8192),xe=m.callbacks,xe===null?m.callbacks=[ye]:xe.push(ye))}else xe={lane:ye,tag:z.tag,payload:z.payload,callback:z.callback,next:null},Me===null?(pe=Me=xe,Y=Pe):Me=Me.next=xe,M|=ye;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;xe=z,z=xe.next,xe.next=null,m.lastBaseUpdate=xe,m.shared.pending=null}}while(!0);Me===null&&(Y=Pe),m.baseState=Y,m.firstBaseUpdate=pe,m.lastBaseUpdate=Me,b===null&&(m.shared.lanes=0),_a|=M,n.lanes=M,n.memoizedState=Pe}}function w0(n,o){if(typeof n!="function")throw Error(i(191,n));n.call(o)}function S0(n,o){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)w0(l[n],o)}var Sl=q(null),kd=q(0);function C0(n,o){n=Fo,we(kd,n),we(Sl,o),Fo=n|o.baseLanes}function Np(){we(kd,Fo),we(Sl,Sl.current)}function Ip(){Fo=kd.current,re(Sl),re(kd)}var Qr=q(null),yi=null;function xa(n){var o=n.alternate;we(Rn,Rn.current&1),we(Qr,n),yi===null&&(o===null||Sl.current!==null||o.memoizedState!==null)&&(yi=n)}function jp(n){we(Rn,Rn.current),we(Qr,n),yi===null&&(yi=n)}function _0(n){n.tag===22?(we(Rn,Rn.current),we(Qr,n),yi===null&&(yi=n)):wa()}function wa(){we(Rn,Rn.current),we(Qr,Qr.current)}function Zr(n){re(Qr),yi===n&&(yi=null),re(Rn)}var Rn=q(0);function Ld(n){for(var o=n;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Um(l)||$m(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ro=0,xt=null,Yt=null,zn=null,Bd=!1,Cl=!1,bs=!1,Ud=0,ec=0,_l=null,fO=0;function _n(){throw Error(i(321))}function zp(n,o){if(o===null)return!1;for(var l=0;l<o.length&&l<n.length;l++)if(!hr(n[l],o[l]))return!1;return!0}function Fp(n,o,l,c,m,b){return Ro=b,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=n===null||n.memoizedState===null?sb:Zp,bs=!1,b=l(c,m),bs=!1,Cl&&(b=O0(o,l,c,m)),E0(n),b}function E0(n){B.H=rc;var o=Yt!==null&&Yt.next!==null;if(Ro=0,zn=Yt=xt=null,Bd=!1,ec=0,_l=null,o)throw Error(i(300));n===null||Fn||(n=n.dependencies,n!==null&&Dd(n)&&(Fn=!0))}function O0(n,o,l,c){xt=n;var m=0;do{if(Cl&&(_l=null),ec=0,Cl=!1,25<=m)throw Error(i(301));if(m+=1,zn=Yt=null,n.updateQueue!=null){var b=n.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}B.H=lb,b=o(l,c)}while(Cl);return b}function hO(){var n=B.H,o=n.useState()[0];return o=typeof o.then=="function"?tc(o):o,n=n.useState()[0],(Yt!==null?Yt.memoizedState:null)!==n&&(xt.flags|=1024),o}function kp(){var n=Ud!==0;return Ud=0,n}function Lp(n,o,l){o.updateQueue=n.updateQueue,o.flags&=-2053,n.lanes&=~l}function Bp(n){if(Bd){for(n=n.memoizedState;n!==null;){var o=n.queue;o!==null&&(o.pending=null),n=n.next}Bd=!1}Ro=0,zn=Yt=xt=null,Cl=!1,ec=Ud=0,_l=null}function Er(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zn===null?xt.memoizedState=zn=n:zn=zn.next=n,zn}function Pn(){if(Yt===null){var n=xt.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var o=zn===null?xt.memoizedState:zn.next;if(o!==null)zn=o,Yt=n;else{if(n===null)throw xt.alternate===null?Error(i(467)):Error(i(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},zn===null?xt.memoizedState=zn=n:zn=zn.next=n}return zn}function $d(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tc(n){var o=ec;return ec+=1,_l===null&&(_l=[]),n=g0(_l,n,o),o=xt,(zn===null?o.memoizedState:zn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?sb:Zp),n}function Hd(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return tc(n);if(n.$$typeof===I)return ar(n)}throw Error(i(438,String(n)))}function Up(n){var o=null,l=xt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var c=xt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=$d(),xt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(n),c=0;c<n;c++)l[c]=ue;return o.index++,l}function Po(n,o){return typeof o=="function"?o(n):o}function qd(n){var o=Pn();return $p(o,Yt,n)}function $p(n,o,l){var c=n.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=l;var m=n.baseQueue,b=c.pending;if(b!==null){if(m!==null){var M=m.next;m.next=b.next,b.next=M}o.baseQueue=m=b,c.pending=null}if(b=n.baseState,m===null)n.memoizedState=b;else{o=m.next;var z=M=null,Y=null,pe=o,Me=!1;do{var Pe=pe.lane&-536870913;if(Pe!==pe.lane?(Pt&Pe)===Pe:(Ro&Pe)===Pe){var ye=pe.revertLane;if(ye===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Pe===vl&&(Me=!0);else if((Ro&ye)===ye){pe=pe.next,ye===vl&&(Me=!0);continue}else Pe={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Y===null?(z=Y=Pe,M=b):Y=Y.next=Pe,xt.lanes|=ye,_a|=ye;Pe=pe.action,bs&&l(b,Pe),b=pe.hasEagerState?pe.eagerState:l(b,Pe)}else ye={lane:Pe,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Y===null?(z=Y=ye,M=b):Y=Y.next=ye,xt.lanes|=Pe,_a|=Pe;pe=pe.next}while(pe!==null&&pe!==o);if(Y===null?M=b:Y.next=z,!hr(b,n.memoizedState)&&(Fn=!0,Me&&(l=bl,l!==null)))throw l;n.memoizedState=b,n.baseState=M,n.baseQueue=Y,c.lastRenderedState=b}return m===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Hp(n){var o=Pn(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var c=l.dispatch,m=l.pending,b=o.memoizedState;if(m!==null){l.pending=null;var M=m=m.next;do b=n(b,M.action),M=M.next;while(M!==m);hr(b,o.memoizedState)||(Fn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),l.lastRenderedState=b}return[b,c]}function M0(n,o,l){var c=xt,m=Pn(),b=It;if(b){if(l===void 0)throw Error(i(407));l=l()}else l=o();var M=!hr((Yt||m).memoizedState,l);if(M&&(m.memoizedState=l,Fn=!0),m=m.queue,Vp(P0.bind(null,c,m,n),[n]),m.getSnapshot!==o||M||zn!==null&&zn.memoizedState.tag&1){if(c.flags|=2048,El(9,{destroy:void 0},R0.bind(null,c,m,l,o),null),tn===null)throw Error(i(349));b||(Ro&127)!==0||T0(c,o,l)}return l}function T0(n,o,l){n.flags|=16384,n={getSnapshot:o,value:l},o=xt.updateQueue,o===null?(o=$d(),xt.updateQueue=o,o.stores=[n]):(l=o.stores,l===null?o.stores=[n]:l.push(n))}function R0(n,o,l,c){o.value=l,o.getSnapshot=c,D0(o)&&A0(n)}function P0(n,o,l){return l(function(){D0(o)&&A0(n)})}function D0(n){var o=n.getSnapshot;n=n.value;try{var l=o();return!hr(n,l)}catch{return!0}}function A0(n){var o=vn(n,2);o!==null&&Lr(o,n,2)}function qp(n){var o=Er();if(typeof n=="function"){var l=n;if(n=l(),bs){At(!0);try{l()}finally{At(!1)}}}return o.memoizedState=o.baseState=n,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:n},o}function N0(n,o,l,c){return n.baseState=l,$p(n,Yt,typeof c=="function"?c:Po)}function pO(n,o,l,c,m){if(Yd(n))throw Error(i(485));if(n=o.action,n!==null){var b={payload:m,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(M){b.listeners.push(M)}};B.T!==null?l(!0):b.isTransition=!1,c(b),l=o.pending,l===null?(b.next=o.pending=b,I0(o,b)):(b.next=l.next,o.pending=l.next=b)}}function I0(n,o){var l=o.action,c=o.payload,m=n.state;if(o.isTransition){var b=B.T,M={};B.T=M;try{var z=l(m,c),Y=B.S;Y!==null&&Y(M,z),j0(n,o,z)}catch(pe){Gp(n,o,pe)}finally{b!==null&&M.types!==null&&(b.types=M.types),B.T=b}}else try{b=l(m,c),j0(n,o,b)}catch(pe){Gp(n,o,pe)}}function j0(n,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){z0(n,o,c)},function(c){return Gp(n,o,c)}):z0(n,o,l)}function z0(n,o,l){o.status="fulfilled",o.value=l,F0(o),n.state=l,o=n.pending,o!==null&&(l=o.next,l===o?n.pending=null:(l=l.next,o.next=l,I0(n,l)))}function Gp(n,o,l){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=l,F0(o),o=o.next;while(o!==c)}n.action=null}function F0(n){n=n.listeners;for(var o=0;o<n.length;o++)(0,n[o])()}function k0(n,o){return o}function L0(n,o){if(It){var l=tn.formState;if(l!==null){e:{var c=xt;if(It){if(fn){t:{for(var m=fn,b=gi;m.nodeType!==8;){if(!b){m=null;break t}if(m=vi(m.nextSibling),m===null){m=null;break t}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){fn=vi(m.nextSibling),c=m.data==="F!";break e}}ma(c)}c=!1}c&&(o=l[0])}}return l=Er(),l.memoizedState=l.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:k0,lastRenderedState:o},l.queue=c,l=ib.bind(null,xt,c),c.dispatch=l,c=qp(!1),b=Qp.bind(null,xt,!1,c.queue),c=Er(),m={state:o,dispatch:null,action:n,pending:null},c.queue=m,l=pO.bind(null,xt,m,b,l),m.dispatch=l,c.memoizedState=n,[o,l,!1]}function B0(n){var o=Pn();return U0(o,Yt,n)}function U0(n,o,l){if(o=$p(n,o,k0)[0],n=qd(Po)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var c=tc(o)}catch(M){throw M===xl?Id:M}else c=o;o=Pn();var m=o.queue,b=m.dispatch;return l!==o.memoizedState&&(xt.flags|=2048,El(9,{destroy:void 0},mO.bind(null,m,l),null)),[c,b,n]}function mO(n,o){n.action=o}function $0(n){var o=Pn(),l=Yt;if(l!==null)return U0(o,l,n);Pn(),o=o.memoizedState,l=Pn();var c=l.queue.dispatch;return l.memoizedState=n,[o,c,!1]}function El(n,o,l,c){return n={tag:n,create:l,deps:c,inst:o,next:null},o=xt.updateQueue,o===null&&(o=$d(),xt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=n.next=n:(c=l.next,l.next=n,n.next=c,o.lastEffect=n),n}function H0(){return Pn().memoizedState}function Gd(n,o,l,c){var m=Er();xt.flags|=n,m.memoizedState=El(1|o,{destroy:void 0},l,c===void 0?null:c)}function Vd(n,o,l,c){var m=Pn();c=c===void 0?null:c;var b=m.memoizedState.inst;Yt!==null&&c!==null&&zp(c,Yt.memoizedState.deps)?m.memoizedState=El(o,b,l,c):(xt.flags|=n,m.memoizedState=El(1|o,b,l,c))}function q0(n,o){Gd(8390656,8,n,o)}function Vp(n,o){Vd(2048,8,n,o)}function gO(n){xt.flags|=4;var o=xt.updateQueue;if(o===null)o=$d(),xt.updateQueue=o,o.events=[n];else{var l=o.events;l===null?o.events=[n]:l.push(n)}}function G0(n){var o=Pn().memoizedState;return gO({ref:o,nextImpl:n}),function(){if(($t&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function V0(n,o){return Vd(4,2,n,o)}function Y0(n,o){return Vd(4,4,n,o)}function K0(n,o){if(typeof o=="function"){n=n();var l=o(n);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return n=n(),o.current=n,function(){o.current=null}}function X0(n,o,l){l=l!=null?l.concat([n]):null,Vd(4,4,K0.bind(null,o,n),l)}function Yp(){}function W0(n,o){var l=Pn();o=o===void 0?null:o;var c=l.memoizedState;return o!==null&&zp(o,c[1])?c[0]:(l.memoizedState=[n,o],n)}function Q0(n,o){var l=Pn();o=o===void 0?null:o;var c=l.memoizedState;if(o!==null&&zp(o,c[1]))return c[0];if(c=n(),bs){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[c,o],c}function Kp(n,o,l){return l===void 0||(Ro&1073741824)!==0&&(Pt&261930)===0?n.memoizedState=o:(n.memoizedState=l,n=Zb(),xt.lanes|=n,_a|=n,l)}function Z0(n,o,l,c){return hr(l,o)?l:Sl.current!==null?(n=Kp(n,l,c),hr(n,o)||(Fn=!0),n):(Ro&42)===0||(Ro&1073741824)!==0&&(Pt&261930)===0?(Fn=!0,n.memoizedState=l):(n=Zb(),xt.lanes|=n,_a|=n,o)}function J0(n,o,l,c,m){var b=J.p;J.p=b!==0&&8>b?b:8;var M=B.T,z={};B.T=z,Qp(n,!1,o,l);try{var Y=m(),pe=B.S;if(pe!==null&&pe(z,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Me=dO(Y,c);nc(n,o,Me,ti(n))}else nc(n,o,c,ti(n))}catch(Pe){nc(n,o,{then:function(){},status:"rejected",reason:Pe},ti())}finally{J.p=b,M!==null&&z.types!==null&&(M.types=z.types),B.T=M}}function yO(){}function Xp(n,o,l,c){if(n.tag!==5)throw Error(i(476));var m=eb(n).queue;J0(n,m,o,V,l===null?yO:function(){return tb(n),l(c)})}function eb(n){var o=n.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:V},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Po,lastRenderedState:l},next:null},n.memoizedState=o,n=n.alternate,n!==null&&(n.memoizedState=o),o}function tb(n){var o=eb(n);o.next===null&&(o=n.alternate.memoizedState),nc(n,o.next.queue,{},ti())}function Wp(){return ar(bc)}function nb(){return Pn().memoizedState}function rb(){return Pn().memoizedState}function vO(n){for(var o=n.return;o!==null;){switch(o.tag){case 24:case 3:var l=ti();n=va(l);var c=ba(o,n,l);c!==null&&(Lr(c,o,l),Qu(c,o,l)),o={cache:Ep()},n.payload=o;return}o=o.return}}function bO(n,o,l){var c=ti();l={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yd(n)?ob(o,l):(l=Nn(n,o,l,c),l!==null&&(Lr(l,n,c),ab(l,o,c)))}function ib(n,o,l){var c=ti();nc(n,o,l,c)}function nc(n,o,l,c){var m={lane:c,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yd(n))ob(o,m);else{var b=n.alternate;if(n.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var M=o.lastRenderedState,z=b(M,l);if(m.hasEagerState=!0,m.eagerState=z,hr(z,M))return pt(n,o,m,0),tn===null&&Jn(),!1}catch{}if(l=Nn(n,o,m,c),l!==null)return Lr(l,n,c),ab(l,o,c),!0}return!1}function Qp(n,o,l,c){if(c={lane:2,revertLane:Rm(),gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Yd(n)){if(o)throw Error(i(479))}else o=Nn(n,l,c,2),o!==null&&Lr(o,n,2)}function Yd(n){var o=n.alternate;return n===xt||o!==null&&o===xt}function ob(n,o){Cl=Bd=!0;var l=n.pending;l===null?o.next=o:(o.next=l.next,l.next=o),n.pending=o}function ab(n,o,l){if((l&4194048)!==0){var c=o.lanes;c&=n.pendingLanes,l|=c,o.lanes=l,H(n,l)}}var rc={readContext:ar,use:Hd,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useInsertionEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useDeferredValue:_n,useTransition:_n,useSyncExternalStore:_n,useId:_n,useHostTransitionStatus:_n,useFormState:_n,useActionState:_n,useOptimistic:_n,useMemoCache:_n,useCacheRefresh:_n};rc.useEffectEvent=_n;var sb={readContext:ar,use:Hd,useCallback:function(n,o){return Er().memoizedState=[n,o===void 0?null:o],n},useContext:ar,useEffect:q0,useImperativeHandle:function(n,o,l){l=l!=null?l.concat([n]):null,Gd(4194308,4,K0.bind(null,o,n),l)},useLayoutEffect:function(n,o){return Gd(4194308,4,n,o)},useInsertionEffect:function(n,o){Gd(4,2,n,o)},useMemo:function(n,o){var l=Er();o=o===void 0?null:o;var c=n();if(bs){At(!0);try{n()}finally{At(!1)}}return l.memoizedState=[c,o],c},useReducer:function(n,o,l){var c=Er();if(l!==void 0){var m=l(o);if(bs){At(!0);try{l(o)}finally{At(!1)}}}else m=o;return c.memoizedState=c.baseState=m,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:m},c.queue=n,n=n.dispatch=bO.bind(null,xt,n),[c.memoizedState,n]},useRef:function(n){var o=Er();return n={current:n},o.memoizedState=n},useState:function(n){n=qp(n);var o=n.queue,l=ib.bind(null,xt,o);return o.dispatch=l,[n.memoizedState,l]},useDebugValue:Yp,useDeferredValue:function(n,o){var l=Er();return Kp(l,n,o)},useTransition:function(){var n=qp(!1);return n=J0.bind(null,xt,n.queue,!0,!1),Er().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,o,l){var c=xt,m=Er();if(It){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),tn===null)throw Error(i(349));(Pt&127)!==0||T0(c,o,l)}m.memoizedState=l;var b={value:l,getSnapshot:o};return m.queue=b,q0(P0.bind(null,c,b,n),[n]),c.flags|=2048,El(9,{destroy:void 0},R0.bind(null,c,b,l,o),null),l},useId:function(){var n=Er(),o=tn.identifierPrefix;if(It){var l=Zi,c=Qi;l=(c&~(1<<32-Ge(c)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Ud++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=fO++,o="_"+o+"r_"+l.toString(32)+"_";return n.memoizedState=o},useHostTransitionStatus:Wp,useFormState:L0,useActionState:L0,useOptimistic:function(n){var o=Er();o.memoizedState=o.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=Qp.bind(null,xt,!0,l),l.dispatch=o,[n,o]},useMemoCache:Up,useCacheRefresh:function(){return Er().memoizedState=vO.bind(null,xt)},useEffectEvent:function(n){var o=Er(),l={impl:n};return o.memoizedState=l,function(){if(($t&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Zp={readContext:ar,use:Hd,useCallback:W0,useContext:ar,useEffect:Vp,useImperativeHandle:X0,useInsertionEffect:V0,useLayoutEffect:Y0,useMemo:Q0,useReducer:qd,useRef:H0,useState:function(){return qd(Po)},useDebugValue:Yp,useDeferredValue:function(n,o){var l=Pn();return Z0(l,Yt.memoizedState,n,o)},useTransition:function(){var n=qd(Po)[0],o=Pn().memoizedState;return[typeof n=="boolean"?n:tc(n),o]},useSyncExternalStore:M0,useId:nb,useHostTransitionStatus:Wp,useFormState:B0,useActionState:B0,useOptimistic:function(n,o){var l=Pn();return N0(l,Yt,n,o)},useMemoCache:Up,useCacheRefresh:rb};Zp.useEffectEvent=G0;var lb={readContext:ar,use:Hd,useCallback:W0,useContext:ar,useEffect:Vp,useImperativeHandle:X0,useInsertionEffect:V0,useLayoutEffect:Y0,useMemo:Q0,useReducer:Hp,useRef:H0,useState:function(){return Hp(Po)},useDebugValue:Yp,useDeferredValue:function(n,o){var l=Pn();return Yt===null?Kp(l,n,o):Z0(l,Yt.memoizedState,n,o)},useTransition:function(){var n=Hp(Po)[0],o=Pn().memoizedState;return[typeof n=="boolean"?n:tc(n),o]},useSyncExternalStore:M0,useId:nb,useHostTransitionStatus:Wp,useFormState:$0,useActionState:$0,useOptimistic:function(n,o){var l=Pn();return Yt!==null?N0(l,Yt,n,o):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Up,useCacheRefresh:rb};lb.useEffectEvent=G0;function Jp(n,o,l,c){o=n.memoizedState,l=l(c,o),l=l==null?o:y({},o,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var em={enqueueSetState:function(n,o,l){n=n._reactInternals;var c=ti(),m=va(c);m.payload=o,l!=null&&(m.callback=l),o=ba(n,m,c),o!==null&&(Lr(o,n,c),Qu(o,n,c))},enqueueReplaceState:function(n,o,l){n=n._reactInternals;var c=ti(),m=va(c);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=ba(n,m,c),o!==null&&(Lr(o,n,c),Qu(o,n,c))},enqueueForceUpdate:function(n,o){n=n._reactInternals;var l=ti(),c=va(l);c.tag=2,o!=null&&(c.callback=o),o=ba(n,c,l),o!==null&&(Lr(o,n,l),Qu(o,n,l))}};function ub(n,o,l,c,m,b,M){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,b,M):o.prototype&&o.prototype.isPureReactComponent?!p(l,c)||!p(m,b):!0}function cb(n,o,l,c){n=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,c),o.state!==n&&em.enqueueReplaceState(o,o.state,null)}function xs(n,o){var l=o;if("ref"in o){l={};for(var c in o)c!=="ref"&&(l[c]=o[c])}if(n=n.defaultProps){l===o&&(l=y({},l));for(var m in n)l[m]===void 0&&(l[m]=n[m])}return l}function db(n){We(n)}function fb(n){console.error(n)}function hb(n){We(n)}function Kd(n,o){try{var l=n.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function pb(n,o,l){try{var c=n.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function tm(n,o,l){return l=va(l),l.tag=3,l.payload={element:null},l.callback=function(){Kd(n,o)},l}function mb(n){return n=va(n),n.tag=3,n}function gb(n,o,l,c){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var b=c.value;n.payload=function(){return m(b)},n.callback=function(){pb(o,l,c)}}var M=l.stateNode;M!==null&&typeof M.componentDidCatch=="function"&&(n.callback=function(){pb(o,l,c),typeof m!="function"&&(Ea===null?Ea=new Set([this]):Ea.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})})}function xO(n,o,l,c,m){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=l.alternate,o!==null&&yl(o,l,m,!0),l=Qr.current,l!==null){switch(l.tag){case 31:case 13:return yi===null?sf():l.alternate===null&&En===0&&(En=3),l.flags&=-257,l.flags|=65536,l.lanes=m,c===jd?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([c]):o.add(c),Om(n,c,m)),!1;case 22:return l.flags|=65536,c===jd?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([c]):l.add(c)),Om(n,c,m)),!1}throw Error(i(435,l.tag))}return Om(n,c,m),sf(),!1}if(It)return o=Qr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==xp&&(n=Error(i(422),{cause:c}),Vu(hi(n,l)))):(c!==xp&&(o=Error(i(423),{cause:c}),Vu(hi(o,l))),n=n.current.alternate,n.flags|=65536,m&=-m,n.lanes|=m,c=hi(c,l),m=tm(n.stateNode,c,m),Dp(n,m),En!==4&&(En=2)),!1;var b=Error(i(520),{cause:c});if(b=hi(b,l),dc===null?dc=[b]:dc.push(b),En!==4&&(En=2),o===null)return!0;c=hi(c,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,n=m&-m,l.lanes|=n,n=tm(l.stateNode,c,n),Dp(l,n),!1;case 1:if(o=l.type,b=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ea===null||!Ea.has(b))))return l.flags|=65536,m&=-m,l.lanes|=m,m=mb(m),gb(m,n,l,c),Dp(l,m),!1}l=l.return}while(l!==null);return!1}var nm=Error(i(461)),Fn=!1;function sr(n,o,l,c){o.child=n===null?x0(o,null,l,c):vs(o,n.child,l,c)}function yb(n,o,l,c,m){l=l.render;var b=o.ref;if("ref"in c){var M={};for(var z in c)z!=="ref"&&(M[z]=c[z])}else M=c;return ps(o),c=Fp(n,o,l,M,b,m),z=kp(),n!==null&&!Fn?(Lp(n,o,m),Do(n,o,m)):(It&&z&&vp(o),o.flags|=1,sr(n,o,c,m),o.child)}function vb(n,o,l,c,m){if(n===null){var b=l.type;return typeof b=="function"&&!mp(b)&&b.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=b,bb(n,o,b,c,m)):(n=Rd(l.type,null,c,o,o.mode,m),n.ref=o.ref,n.return=o,o.child=n)}if(b=n.child,!cm(n,m)){var M=b.memoizedProps;if(l=l.compare,l=l!==null?l:p,l(M,c)&&n.ref===o.ref)return Do(n,o,m)}return o.flags|=1,n=Eo(b,c),n.ref=o.ref,n.return=o,o.child=n}function bb(n,o,l,c,m){if(n!==null){var b=n.memoizedProps;if(p(b,c)&&n.ref===o.ref)if(Fn=!1,o.pendingProps=c=b,cm(n,m))(n.flags&131072)!==0&&(Fn=!0);else return o.lanes=n.lanes,Do(n,o,m)}return rm(n,o,l,c,m)}function xb(n,o,l,c){var m=c.children,b=n!==null?n.memoizedState:null;if(n===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.mode==="hidden"){if((o.flags&128)!==0){if(b=b!==null?b.baseLanes|l:l,n!==null){for(c=o.child=n.child,m=0;c!==null;)m=m|c.lanes|c.childLanes,c=c.sibling;c=m&~b}else c=0,o.child=null;return wb(n,o,b,l,c)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},n!==null&&Nd(o,b!==null?b.cachePool:null),b!==null?C0(o,b):Np(),_0(o);else return c=o.lanes=536870912,wb(n,o,b!==null?b.baseLanes|l:l,l,c)}else b!==null?(Nd(o,b.cachePool),C0(o,b),wa(),o.memoizedState=null):(n!==null&&Nd(o,null),Np(),wa());return sr(n,o,m,l),o.child}function ic(n,o){return n!==null&&n.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function wb(n,o,l,c,m){var b=Mp();return b=b===null?null:{parent:jn._currentValue,pool:b},o.memoizedState={baseLanes:l,cachePool:b},n!==null&&Nd(o,null),Np(),_0(o),n!==null&&yl(n,o,c,!0),o.childLanes=m,null}function Xd(n,o){return o=Qd({mode:o.mode,children:o.children},n.mode),o.ref=n.ref,n.child=o,o.return=n,o}function Sb(n,o,l){return vs(o,n.child,null,l),n=Xd(o,o.pendingProps),n.flags|=2,Zr(o),o.memoizedState=null,n}function wO(n,o,l){var c=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,n===null){if(It){if(c.mode==="hidden")return n=Xd(o,c),o.lanes=536870912,ic(null,n);if(jp(o),(n=fn)?(n=Ix(n,gi),n=n!==null&&n.data==="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:ha!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=o0(n),l.return=o,o.child=l,or=o,fn=null)):n=null,n===null)throw ma(o);return o.lanes=536870912,null}return Xd(o,c)}var b=n.memoizedState;if(b!==null){var M=b.dehydrated;if(jp(o),m)if(o.flags&256)o.flags&=-257,o=Sb(n,o,l);else if(o.memoizedState!==null)o.child=n.child,o.flags|=128,o=null;else throw Error(i(558));else if(Fn||yl(n,o,l,!1),m=(l&n.childLanes)!==0,Fn||m){if(c=tn,c!==null&&(M=ee(c,l),M!==0&&M!==b.retryLane))throw b.retryLane=M,vn(n,M),Lr(c,n,M),nm;sf(),o=Sb(n,o,l)}else n=b.treeContext,fn=vi(M.nextSibling),or=o,It=!0,pa=null,gi=!1,n!==null&&l0(o,n),o=Xd(o,c),o.flags|=4096;return o}return n=Eo(n.child,{mode:c.mode,children:c.children}),n.ref=o.ref,o.child=n,n.return=o,n}function Wd(n,o){var l=o.ref;if(l===null)n!==null&&n.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(o.flags|=4194816)}}function rm(n,o,l,c,m){return ps(o),l=Fp(n,o,l,c,void 0,m),c=kp(),n!==null&&!Fn?(Lp(n,o,m),Do(n,o,m)):(It&&c&&vp(o),o.flags|=1,sr(n,o,l,m),o.child)}function Cb(n,o,l,c,m,b){return ps(o),o.updateQueue=null,l=O0(o,c,l,m),E0(n),c=kp(),n!==null&&!Fn?(Lp(n,o,b),Do(n,o,b)):(It&&c&&vp(o),o.flags|=1,sr(n,o,l,b),o.child)}function _b(n,o,l,c,m){if(ps(o),o.stateNode===null){var b=Ir,M=l.contextType;typeof M=="object"&&M!==null&&(b=ar(M)),b=new l(c,b),o.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=em,o.stateNode=b,b._reactInternals=o,b=o.stateNode,b.props=c,b.state=o.memoizedState,b.refs={},Rp(o),M=l.contextType,b.context=typeof M=="object"&&M!==null?ar(M):Ir,b.state=o.memoizedState,M=l.getDerivedStateFromProps,typeof M=="function"&&(Jp(o,l,M,c),b.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(M=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),M!==b.state&&em.enqueueReplaceState(b,b.state,null),Ju(o,c,b,m),Zu(),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(n===null){b=o.stateNode;var z=o.memoizedProps,Y=xs(l,z);b.props=Y;var pe=b.context,Me=l.contextType;M=Ir,typeof Me=="object"&&Me!==null&&(M=ar(Me));var Pe=l.getDerivedStateFromProps;Me=typeof Pe=="function"||typeof b.getSnapshotBeforeUpdate=="function",z=o.pendingProps!==z,Me||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(z||pe!==M)&&cb(o,b,c,M),ya=!1;var ye=o.memoizedState;b.state=ye,Ju(o,c,b,m),Zu(),pe=o.memoizedState,z||ye!==pe||ya?(typeof Pe=="function"&&(Jp(o,l,Pe,c),pe=o.memoizedState),(Y=ya||ub(o,l,Y,c,ye,pe,M))?(Me||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=pe),b.props=c,b.state=pe,b.context=M,c=Y):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{b=o.stateNode,Pp(n,o),M=o.memoizedProps,Me=xs(l,M),b.props=Me,Pe=o.pendingProps,ye=b.context,pe=l.contextType,Y=Ir,typeof pe=="object"&&pe!==null&&(Y=ar(pe)),z=l.getDerivedStateFromProps,(pe=typeof z=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(M!==Pe||ye!==Y)&&cb(o,b,c,Y),ya=!1,ye=o.memoizedState,b.state=ye,Ju(o,c,b,m),Zu();var xe=o.memoizedState;M!==Pe||ye!==xe||ya||n!==null&&n.dependencies!==null&&Dd(n.dependencies)?(typeof z=="function"&&(Jp(o,l,z,c),xe=o.memoizedState),(Me=ya||ub(o,l,Me,c,ye,xe,Y)||n!==null&&n.dependencies!==null&&Dd(n.dependencies))?(pe||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(c,xe,Y),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(c,xe,Y)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&ye===n.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ye===n.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=xe),b.props=c,b.state=xe,b.context=Y,c=Me):(typeof b.componentDidUpdate!="function"||M===n.memoizedProps&&ye===n.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||M===n.memoizedProps&&ye===n.memoizedState||(o.flags|=1024),c=!1)}return b=c,Wd(n,o),c=(o.flags&128)!==0,b||c?(b=o.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:b.render(),o.flags|=1,n!==null&&c?(o.child=vs(o,n.child,null,m),o.child=vs(o,null,l,m)):sr(n,o,l,m),o.memoizedState=b.state,n=o.child):n=Do(n,o,m),n}function Eb(n,o,l,c){return fs(),o.flags|=256,sr(n,o,l,c),o.child}var im={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function om(n){return{baseLanes:n,cachePool:p0()}}function am(n,o,l){return n=n!==null?n.childLanes&~l:0,o&&(n|=ei),n}function Ob(n,o,l){var c=o.pendingProps,m=!1,b=(o.flags&128)!==0,M;if((M=b)||(M=n!==null&&n.memoizedState===null?!1:(Rn.current&2)!==0),M&&(m=!0,o.flags&=-129),M=(o.flags&32)!==0,o.flags&=-33,n===null){if(It){if(m?xa(o):wa(),(n=fn)?(n=Ix(n,gi),n=n!==null&&n.data!=="&"?n:null,n!==null&&(o.memoizedState={dehydrated:n,treeContext:ha!==null?{id:Qi,overflow:Zi}:null,retryLane:536870912,hydrationErrors:null},l=o0(n),l.return=o,o.child=l,or=o,fn=null)):n=null,n===null)throw ma(o);return $m(n)?o.lanes=32:o.lanes=536870912,null}var z=c.children;return c=c.fallback,m?(wa(),m=o.mode,z=Qd({mode:"hidden",children:z},m),c=ds(c,m,l,null),z.return=o,c.return=o,z.sibling=c,o.child=z,c=o.child,c.memoizedState=om(l),c.childLanes=am(n,M,l),o.memoizedState=im,ic(null,c)):(xa(o),sm(o,z))}var Y=n.memoizedState;if(Y!==null&&(z=Y.dehydrated,z!==null)){if(b)o.flags&256?(xa(o),o.flags&=-257,o=lm(n,o,l)):o.memoizedState!==null?(wa(),o.child=n.child,o.flags|=128,o=null):(wa(),z=c.fallback,m=o.mode,c=Qd({mode:"visible",children:c.children},m),z=ds(z,m,l,null),z.flags|=2,c.return=o,z.return=o,c.sibling=z,o.child=c,vs(o,n.child,null,l),c=o.child,c.memoizedState=om(l),c.childLanes=am(n,M,l),o.memoizedState=im,o=ic(null,c));else if(xa(o),$m(z)){if(M=z.nextSibling&&z.nextSibling.dataset,M)var pe=M.dgst;M=pe,c=Error(i(419)),c.stack="",c.digest=M,Vu({value:c,source:null,stack:null}),o=lm(n,o,l)}else if(Fn||yl(n,o,l,!1),M=(l&n.childLanes)!==0,Fn||M){if(M=tn,M!==null&&(c=ee(M,l),c!==0&&c!==Y.retryLane))throw Y.retryLane=c,vn(n,c),Lr(M,n,c),nm;Um(z)||sf(),o=lm(n,o,l)}else Um(z)?(o.flags|=192,o.child=n.child,o=null):(n=Y.treeContext,fn=vi(z.nextSibling),or=o,It=!0,pa=null,gi=!1,n!==null&&l0(o,n),o=sm(o,c.children),o.flags|=4096);return o}return m?(wa(),z=c.fallback,m=o.mode,Y=n.child,pe=Y.sibling,c=Eo(Y,{mode:"hidden",children:c.children}),c.subtreeFlags=Y.subtreeFlags&65011712,pe!==null?z=Eo(pe,z):(z=ds(z,m,l,null),z.flags|=2),z.return=o,c.return=o,c.sibling=z,o.child=c,ic(null,c),c=o.child,z=n.child.memoizedState,z===null?z=om(l):(m=z.cachePool,m!==null?(Y=jn._currentValue,m=m.parent!==Y?{parent:Y,pool:Y}:m):m=p0(),z={baseLanes:z.baseLanes|l,cachePool:m}),c.memoizedState=z,c.childLanes=am(n,M,l),o.memoizedState=im,ic(n.child,c)):(xa(o),l=n.child,n=l.sibling,l=Eo(l,{mode:"visible",children:c.children}),l.return=o,l.sibling=null,n!==null&&(M=o.deletions,M===null?(o.deletions=[n],o.flags|=16):M.push(n)),o.child=l,o.memoizedState=null,l)}function sm(n,o){return o=Qd({mode:"visible",children:o},n.mode),o.return=n,n.child=o}function Qd(n,o){return n=Wr(22,n,null,o),n.lanes=0,n}function lm(n,o,l){return vs(o,n.child,null,l),n=sm(o,o.pendingProps.children),n.flags|=2,o.memoizedState=null,n}function Mb(n,o,l){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o),Cp(n.return,o,l)}function um(n,o,l,c,m,b){var M=n.memoizedState;M===null?n.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:m,treeForkCount:b}:(M.isBackwards=o,M.rendering=null,M.renderingStartTime=0,M.last=c,M.tail=l,M.tailMode=m,M.treeForkCount=b)}function Tb(n,o,l){var c=o.pendingProps,m=c.revealOrder,b=c.tail;c=c.children;var M=Rn.current,z=(M&2)!==0;if(z?(M=M&1|2,o.flags|=128):M&=1,we(Rn,M),sr(n,o,c,l),c=It?Gu:0,!z&&n!==null&&(n.flags&128)!==0)e:for(n=o.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Mb(n,l,o);else if(n.tag===19)Mb(n,l,o);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===o)break e;for(;n.sibling===null;){if(n.return===null||n.return===o)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)n=l.alternate,n!==null&&Ld(n)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),um(o,!1,m,l,b,c);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(n=m.alternate,n!==null&&Ld(n)===null){o.child=m;break}n=m.sibling,m.sibling=l,l=m,m=n}um(o,!0,l,null,b,c);break;case"together":um(o,!1,null,null,void 0,c);break;default:o.memoizedState=null}return o.child}function Do(n,o,l){if(n!==null&&(o.dependencies=n.dependencies),_a|=o.lanes,(l&o.childLanes)===0)if(n!==null){if(yl(n,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(n!==null&&o.child!==n.child)throw Error(i(153));if(o.child!==null){for(n=o.child,l=Eo(n,n.pendingProps),o.child=l,l.return=o;n.sibling!==null;)n=n.sibling,l=l.sibling=Eo(n,n.pendingProps),l.return=o;l.sibling=null}return o.child}function cm(n,o){return(n.lanes&o)!==0?!0:(n=n.dependencies,!!(n!==null&&Dd(n)))}function SO(n,o,l){switch(o.tag){case 3:wt(o,o.stateNode.containerInfo),ga(o,jn,n.memoizedState.cache),fs();break;case 27:case 5:Zt(o);break;case 4:wt(o,o.stateNode.containerInfo);break;case 10:ga(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,jp(o),null;break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(xa(o),o.flags|=128,null):(l&o.child.childLanes)!==0?Ob(n,o,l):(xa(o),n=Do(n,o,l),n!==null?n.sibling:null);xa(o);break;case 19:var m=(n.flags&128)!==0;if(c=(l&o.childLanes)!==0,c||(yl(n,o,l,!1),c=(l&o.childLanes)!==0),m){if(c)return Tb(n,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),we(Rn,Rn.current),c)break;return null;case 22:return o.lanes=0,xb(n,o,l,o.pendingProps);case 24:ga(o,jn,n.memoizedState.cache)}return Do(n,o,l)}function Rb(n,o,l){if(n!==null)if(n.memoizedProps!==o.pendingProps)Fn=!0;else{if(!cm(n,l)&&(o.flags&128)===0)return Fn=!1,SO(n,o,l);Fn=(n.flags&131072)!==0}else Fn=!1,It&&(o.flags&1048576)!==0&&s0(o,Gu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var c=o.pendingProps;if(n=gs(o.elementType),o.type=n,typeof n=="function")mp(n)?(c=xs(n,c),o.tag=1,o=_b(null,o,n,c,l)):(o.tag=0,o=rm(null,o,n,c,l));else{if(n!=null){var m=n.$$typeof;if(m===F){o.tag=11,o=yb(null,o,n,c,l);break e}else if(m===A){o.tag=14,o=vb(null,o,n,c,l);break e}}throw o=ce(n)||n,Error(i(306,o,""))}}return o;case 0:return rm(n,o,o.type,o.pendingProps,l);case 1:return c=o.type,m=xs(c,o.pendingProps),_b(n,o,c,m,l);case 3:e:{if(wt(o,o.stateNode.containerInfo),n===null)throw Error(i(387));c=o.pendingProps;var b=o.memoizedState;m=b.element,Pp(n,o),Ju(o,c,null,l);var M=o.memoizedState;if(c=M.cache,ga(o,jn,c),c!==b.cache&&_p(o,[jn],l,!0),Zu(),c=M.element,b.isDehydrated)if(b={element:c,isDehydrated:!1,cache:M.cache},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){o=Eb(n,o,c,l);break e}else if(c!==m){m=hi(Error(i(424)),o),Vu(m),o=Eb(n,o,c,l);break e}else for(n=o.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,fn=vi(n.firstChild),or=o,It=!0,pa=null,gi=!0,l=x0(o,null,c,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(fs(),c===m){o=Do(n,o,l);break e}sr(n,o,c,l)}o=o.child}return o;case 26:return Wd(n,o),n===null?(l=Bx(o.type,null,o.pendingProps,null))?o.memoizedState=l:It||(l=o.type,n=o.pendingProps,c=pf(qe.current).createElement(l),c[He]=o,c[Ke]=n,lr(c,l,n),en(c),o.stateNode=c):o.memoizedState=Bx(o.type,n.memoizedProps,o.pendingProps,n.memoizedState),null;case 27:return Zt(o),n===null&&It&&(c=o.stateNode=Fx(o.type,o.pendingProps,qe.current),or=o,gi=!0,m=fn,Ra(o.type)?(Hm=m,fn=vi(c.firstChild)):fn=m),sr(n,o,o.pendingProps.children,l),Wd(n,o),n===null&&(o.flags|=4194304),o.child;case 5:return n===null&&It&&((m=c=fn)&&(c=ZO(c,o.type,o.pendingProps,gi),c!==null?(o.stateNode=c,or=o,fn=vi(c.firstChild),gi=!1,m=!0):m=!1),m||ma(o)),Zt(o),m=o.type,b=o.pendingProps,M=n!==null?n.memoizedProps:null,c=b.children,km(m,b)?c=null:M!==null&&km(m,M)&&(o.flags|=32),o.memoizedState!==null&&(m=Fp(n,o,hO,null,null,l),bc._currentValue=m),Wd(n,o),sr(n,o,c,l),o.child;case 6:return n===null&&It&&((n=l=fn)&&(l=JO(l,o.pendingProps,gi),l!==null?(o.stateNode=l,or=o,fn=null,n=!0):n=!1),n||ma(o)),null;case 13:return Ob(n,o,l);case 4:return wt(o,o.stateNode.containerInfo),c=o.pendingProps,n===null?o.child=vs(o,null,c,l):sr(n,o,c,l),o.child;case 11:return yb(n,o,o.type,o.pendingProps,l);case 7:return sr(n,o,o.pendingProps,l),o.child;case 8:return sr(n,o,o.pendingProps.children,l),o.child;case 12:return sr(n,o,o.pendingProps.children,l),o.child;case 10:return c=o.pendingProps,ga(o,o.type,c.value),sr(n,o,c.children,l),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,ps(o),m=ar(m),c=c(m),o.flags|=1,sr(n,o,c,l),o.child;case 14:return vb(n,o,o.type,o.pendingProps,l);case 15:return bb(n,o,o.type,o.pendingProps,l);case 19:return Tb(n,o,l);case 31:return wO(n,o,l);case 22:return xb(n,o,l,o.pendingProps);case 24:return ps(o),c=ar(jn),n===null?(m=Mp(),m===null&&(m=tn,b=Ep(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=l),m=b),o.memoizedState={parent:c,cache:m},Rp(o),ga(o,jn,m)):((n.lanes&l)!==0&&(Pp(n,o),Ju(o,null,null,l),Zu()),m=n.memoizedState,b=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),ga(o,jn,c)):(c=b.cache,ga(o,jn,c),c!==m.cache&&_p(o,[jn],l,!0))),sr(n,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Ao(n){n.flags|=4}function dm(n,o,l,c,m){if((o=(n.mode&32)!==0)&&(o=!1),o){if(n.flags|=16777216,(m&335544128)===m)if(n.stateNode.complete)n.flags|=8192;else if(nx())n.flags|=8192;else throw ys=jd,Tp}else n.flags&=-16777217}function Pb(n,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Gx(o))if(nx())n.flags|=8192;else throw ys=jd,Tp}function Zd(n,o){o!==null&&(n.flags|=4),n.flags&16384&&(o=n.tag!==22?po():536870912,n.lanes|=o,Rl|=o)}function oc(n,o){if(!It)switch(n.tailMode){case"hidden":o=n.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?o||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function hn(n){var o=n.alternate!==null&&n.alternate.child===n.child,l=0,c=0;if(o)for(var m=n.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags&65011712,c|=m.flags&65011712,m.return=n,m=m.sibling;else for(m=n.child;m!==null;)l|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=n,m=m.sibling;return n.subtreeFlags|=c,n.childLanes=l,o}function CO(n,o,l){var c=o.pendingProps;switch(bp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return hn(o),null;case 1:return hn(o),null;case 3:return l=o.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),To(jn),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(gl(o)?Ao(o):n===null||n.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,wp())),hn(o),null;case 26:var m=o.type,b=o.memoizedState;return n===null?(Ao(o),b!==null?(hn(o),Pb(o,b)):(hn(o),dm(o,m,null,c,l))):b?b!==n.memoizedState?(Ao(o),hn(o),Pb(o,b)):(hn(o),o.flags&=-16777217):(n=n.memoizedProps,n!==c&&Ao(o),hn(o),dm(o,m,n,c,l)),null;case 27:if(ln(o),l=qe.current,m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Ao(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return hn(o),null}n=Ne.current,gl(o)?u0(o):(n=Fx(m,c,l),o.stateNode=n,Ao(o))}return hn(o),null;case 5:if(ln(o),m=o.type,n!==null&&o.stateNode!=null)n.memoizedProps!==c&&Ao(o);else{if(!c){if(o.stateNode===null)throw Error(i(166));return hn(o),null}if(b=Ne.current,gl(o))u0(o);else{var M=pf(qe.current);switch(b){case 1:b=M.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=M.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=M.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=M.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof c.is=="string"?M.createElement("select",{is:c.is}):M.createElement("select"),c.multiple?b.multiple=!0:c.size&&(b.size=c.size);break;default:b=typeof c.is=="string"?M.createElement(m,{is:c.is}):M.createElement(m)}}b[He]=o,b[Ke]=c;e:for(M=o.child;M!==null;){if(M.tag===5||M.tag===6)b.appendChild(M.stateNode);else if(M.tag!==4&&M.tag!==27&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===o)break e;for(;M.sibling===null;){if(M.return===null||M.return===o)break e;M=M.return}M.sibling.return=M.return,M=M.sibling}o.stateNode=b;e:switch(lr(b,m,c),m){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Ao(o)}}return hn(o),dm(o,o.type,n===null?null:n.memoizedProps,o.pendingProps,l),null;case 6:if(n&&o.stateNode!=null)n.memoizedProps!==c&&Ao(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(i(166));if(n=qe.current,gl(o)){if(n=o.stateNode,l=o.memoizedProps,c=null,m=or,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}n[He]=o,n=!!(n.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||Ox(n.nodeValue,l)),n||ma(o,!0)}else n=pf(n).createTextNode(c),n[He]=o,o.stateNode=n}return hn(o),null;case 31:if(l=o.memoizedState,n===null||n.memoizedState!==null){if(c=gl(o),l!==null){if(n===null){if(!c)throw Error(i(318));if(n=o.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[He]=o}else fs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),n=!1}else l=wp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=l),n=!0;if(!n)return o.flags&256?(Zr(o),o):(Zr(o),null);if((o.flags&128)!==0)throw Error(i(558))}return hn(o),null;case 13:if(c=o.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(m=gl(o),c!==null&&c.dehydrated!==null){if(n===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=o}else fs(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;hn(o),m=!1}else m=wp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(Zr(o),o):(Zr(o),null)}return Zr(o),(o.flags&128)!==0?(o.lanes=l,o):(l=c!==null,n=n!==null&&n.memoizedState!==null,l&&(c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool),b=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(b=c.memoizedState.cachePool.pool),b!==m&&(c.flags|=2048)),l!==n&&l&&(o.child.flags|=8192),Zd(o,o.updateQueue),hn(o),null);case 4:return De(),n===null&&Nm(o.stateNode.containerInfo),hn(o),null;case 10:return To(o.type),hn(o),null;case 19:if(re(Rn),c=o.memoizedState,c===null)return hn(o),null;if(m=(o.flags&128)!==0,b=c.rendering,b===null)if(m)oc(c,!1);else{if(En!==0||n!==null&&(n.flags&128)!==0)for(n=o.child;n!==null;){if(b=Ld(n),b!==null){for(o.flags|=128,oc(c,!1),n=b.updateQueue,o.updateQueue=n,Zd(o,n),o.subtreeFlags=0,n=l,l=o.child;l!==null;)i0(l,n),l=l.sibling;return we(Rn,Rn.current&1|2),It&&Oo(o,c.treeForkCount),o.child}n=n.sibling}c.tail!==null&&Lt()>rf&&(o.flags|=128,m=!0,oc(c,!1),o.lanes=4194304)}else{if(!m)if(n=Ld(b),n!==null){if(o.flags|=128,m=!0,n=n.updateQueue,o.updateQueue=n,Zd(o,n),oc(c,!0),c.tail===null&&c.tailMode==="hidden"&&!b.alternate&&!It)return hn(o),null}else 2*Lt()-c.renderingStartTime>rf&&l!==536870912&&(o.flags|=128,m=!0,oc(c,!1),o.lanes=4194304);c.isBackwards?(b.sibling=o.child,o.child=b):(n=c.last,n!==null?n.sibling=b:o.child=b,c.last=b)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=Lt(),n.sibling=null,l=Rn.current,we(Rn,m?l&1|2:l&1),It&&Oo(o,c.treeForkCount),n):(hn(o),null);case 22:case 23:return Zr(o),Ip(),c=o.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?(l&536870912)!==0&&(o.flags&128)===0&&(hn(o),o.subtreeFlags&6&&(o.flags|=8192)):hn(o),l=o.updateQueue,l!==null&&Zd(o,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==l&&(o.flags|=2048),n!==null&&re(ms),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),To(jn),hn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function _O(n,o){switch(bp(o),o.tag){case 1:return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 3:return To(jn),De(),n=o.flags,(n&65536)!==0&&(n&128)===0?(o.flags=n&-65537|128,o):null;case 26:case 27:case 5:return ln(o),null;case 31:if(o.memoizedState!==null){if(Zr(o),o.alternate===null)throw Error(i(340));fs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 13:if(Zr(o),n=o.memoizedState,n!==null&&n.dehydrated!==null){if(o.alternate===null)throw Error(i(340));fs()}return n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 19:return re(Rn),null;case 4:return De(),null;case 10:return To(o.type),null;case 22:case 23:return Zr(o),Ip(),n!==null&&re(ms),n=o.flags,n&65536?(o.flags=n&-65537|128,o):null;case 24:return To(jn),null;case 25:return null;default:return null}}function Db(n,o){switch(bp(o),o.tag){case 3:To(jn),De();break;case 26:case 27:case 5:ln(o);break;case 4:De();break;case 31:o.memoizedState!==null&&Zr(o);break;case 13:Zr(o);break;case 19:re(Rn);break;case 10:To(o.type);break;case 22:case 23:Zr(o),Ip(),n!==null&&re(ms);break;case 24:To(jn)}}function ac(n,o){try{var l=o.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var m=c.next;l=m;do{if((l.tag&n)===n){c=void 0;var b=l.create,M=l.inst;c=b(),M.destroy=c}l=l.next}while(l!==m)}}catch(z){Vt(o,o.return,z)}}function Sa(n,o,l){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var b=m.next;c=b;do{if((c.tag&n)===n){var M=c.inst,z=M.destroy;if(z!==void 0){M.destroy=void 0,m=o;var Y=l,pe=z;try{pe()}catch(Me){Vt(m,Y,Me)}}}c=c.next}while(c!==b)}}catch(Me){Vt(o,o.return,Me)}}function Ab(n){var o=n.updateQueue;if(o!==null){var l=n.stateNode;try{S0(o,l)}catch(c){Vt(n,n.return,c)}}}function Nb(n,o,l){l.props=xs(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(c){Vt(n,o,c)}}function sc(n,o){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof l=="function"?n.refCleanup=l(c):l.current=c}}catch(m){Vt(n,o,m)}}function Ji(n,o){var l=n.ref,c=n.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(m){Vt(n,o,m)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Vt(n,o,m)}else l.current=null}function Ib(n){var o=n.type,l=n.memoizedProps,c=n.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(m){Vt(n,n.return,m)}}function fm(n,o,l){try{var c=n.stateNode;VO(c,n.type,l,o),c[Ke]=o}catch(m){Vt(n,n.return,m)}}function jb(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ra(n.type)||n.tag===4}function hm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||jb(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ra(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function pm(n,o,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(n),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Nr));else if(c!==4&&(c===27&&Ra(n.type)&&(l=n.stateNode,o=null),n=n.child,n!==null))for(pm(n,o,l),n=n.sibling;n!==null;)pm(n,o,l),n=n.sibling}function Jd(n,o,l){var c=n.tag;if(c===5||c===6)n=n.stateNode,o?l.insertBefore(n,o):l.appendChild(n);else if(c!==4&&(c===27&&Ra(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(Jd(n,o,l),n=n.sibling;n!==null;)Jd(n,o,l),n=n.sibling}function zb(n){var o=n.stateNode,l=n.memoizedProps;try{for(var c=n.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);lr(o,c,l),o[He]=n,o[Ke]=l}catch(b){Vt(n,n.return,b)}}var No=!1,kn=!1,mm=!1,Fb=typeof WeakSet=="function"?WeakSet:Set,er=null;function EO(n,o){if(n=n.containerInfo,zm=wf,n=P(n),j(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else e:{l=(l=n.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var m=c.anchorOffset,b=c.focusNode;c=c.focusOffset;try{l.nodeType,b.nodeType}catch{l=null;break e}var M=0,z=-1,Y=-1,pe=0,Me=0,Pe=n,ye=null;t:for(;;){for(var xe;Pe!==l||m!==0&&Pe.nodeType!==3||(z=M+m),Pe!==b||c!==0&&Pe.nodeType!==3||(Y=M+c),Pe.nodeType===3&&(M+=Pe.nodeValue.length),(xe=Pe.firstChild)!==null;)ye=Pe,Pe=xe;for(;;){if(Pe===n)break t;if(ye===l&&++pe===m&&(z=M),ye===b&&++Me===c&&(Y=M),(xe=Pe.nextSibling)!==null)break;Pe=ye,ye=Pe.parentNode}Pe=xe}l=z===-1||Y===-1?null:{start:z,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(Fm={focusedElem:n,selectionRange:l},wf=!1,er=o;er!==null;)if(o=er,n=o.child,(o.subtreeFlags&1028)!==0&&n!==null)n.return=o,er=n;else for(;er!==null;){switch(o=er,b=o.alternate,n=o.flags,o.tag){case 0:if((n&4)!==0&&(n=o.updateQueue,n=n!==null?n.events:null,n!==null))for(l=0;l<n.length;l++)m=n[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&b!==null){n=void 0,l=o,m=b.memoizedProps,b=b.memoizedState,c=l.stateNode;try{var Je=xs(l.type,m);n=c.getSnapshotBeforeUpdate(Je,b),c.__reactInternalSnapshotBeforeUpdate=n}catch(dt){Vt(l,l.return,dt)}}break;case 3:if((n&1024)!==0){if(n=o.stateNode.containerInfo,l=n.nodeType,l===9)Bm(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=o.sibling,n!==null){n.return=o.return,er=n;break}er=o.return}}function kb(n,o,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:jo(n,l),c&4&&ac(5,l);break;case 1:if(jo(n,l),c&4)if(n=l.stateNode,o===null)try{n.componentDidMount()}catch(M){Vt(l,l.return,M)}else{var m=xs(l.type,o.memoizedProps);o=o.memoizedState;try{n.componentDidUpdate(m,o,n.__reactInternalSnapshotBeforeUpdate)}catch(M){Vt(l,l.return,M)}}c&64&&Ab(l),c&512&&sc(l,l.return);break;case 3:if(jo(n,l),c&64&&(n=l.updateQueue,n!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{S0(n,o)}catch(M){Vt(l,l.return,M)}}break;case 27:o===null&&c&4&&zb(l);case 26:case 5:jo(n,l),o===null&&c&4&&Ib(l),c&512&&sc(l,l.return);break;case 12:jo(n,l);break;case 31:jo(n,l),c&4&&Ub(n,l);break;case 13:jo(n,l),c&4&&$b(n,l),c&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=IO.bind(null,l),eM(n,l))));break;case 22:if(c=l.memoizedState!==null||No,!c){o=o!==null&&o.memoizedState!==null||kn,m=No;var b=kn;No=c,(kn=o)&&!b?zo(n,l,(l.subtreeFlags&8772)!==0):jo(n,l),No=m,kn=b}break;case 30:break;default:jo(n,l)}}function Lb(n){var o=n.alternate;o!==null&&(n.alternate=null,Lb(o)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(o=n.stateNode,o!==null&&un(o)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var bn=null,jr=!1;function Io(n,o,l){for(l=l.child;l!==null;)Bb(n,o,l),l=l.sibling}function Bb(n,o,l){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Pr,l)}catch{}switch(l.tag){case 26:kn||Ji(l,o),Io(n,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:kn||Ji(l,o);var c=bn,m=jr;Ra(l.type)&&(bn=l.stateNode,jr=!1),Io(n,o,l),gc(l.stateNode),bn=c,jr=m;break;case 5:kn||Ji(l,o);case 6:if(c=bn,m=jr,bn=null,Io(n,o,l),bn=c,jr=m,bn!==null)if(jr)try{(bn.nodeType===9?bn.body:bn.nodeName==="HTML"?bn.ownerDocument.body:bn).removeChild(l.stateNode)}catch(b){Vt(l,o,b)}else try{bn.removeChild(l.stateNode)}catch(b){Vt(l,o,b)}break;case 18:bn!==null&&(jr?(n=bn,Ax(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),Fl(n)):Ax(bn,l.stateNode));break;case 4:c=bn,m=jr,bn=l.stateNode.containerInfo,jr=!0,Io(n,o,l),bn=c,jr=m;break;case 0:case 11:case 14:case 15:Sa(2,l,o),kn||Sa(4,l,o),Io(n,o,l);break;case 1:kn||(Ji(l,o),c=l.stateNode,typeof c.componentWillUnmount=="function"&&Nb(l,o,c)),Io(n,o,l);break;case 21:Io(n,o,l);break;case 22:kn=(c=kn)||l.memoizedState!==null,Io(n,o,l),kn=c;break;default:Io(n,o,l)}}function Ub(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Fl(n)}catch(l){Vt(o,o.return,l)}}}function $b(n,o){if(o.memoizedState===null&&(n=o.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Fl(n)}catch(l){Vt(o,o.return,l)}}function OO(n){switch(n.tag){case 31:case 13:case 19:var o=n.stateNode;return o===null&&(o=n.stateNode=new Fb),o;case 22:return n=n.stateNode,o=n._retryCache,o===null&&(o=n._retryCache=new Fb),o;default:throw Error(i(435,n.tag))}}function ef(n,o){var l=OO(n);o.forEach(function(c){if(!l.has(c)){l.add(c);var m=jO.bind(null,n,c);c.then(m,m)}})}function zr(n,o){var l=o.deletions;if(l!==null)for(var c=0;c<l.length;c++){var m=l[c],b=n,M=o,z=M;e:for(;z!==null;){switch(z.tag){case 27:if(Ra(z.type)){bn=z.stateNode,jr=!1;break e}break;case 5:bn=z.stateNode,jr=!1;break e;case 3:case 4:bn=z.stateNode.containerInfo,jr=!0;break e}z=z.return}if(bn===null)throw Error(i(160));Bb(b,M,m),bn=null,jr=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Hb(o,n),o=o.sibling}var ji=null;function Hb(n,o){var l=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:zr(o,n),Fr(n),c&4&&(Sa(3,n,n.return),ac(3,n),Sa(5,n,n.return));break;case 1:zr(o,n),Fr(n),c&512&&(kn||l===null||Ji(l,l.return)),c&64&&No&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var m=ji;if(zr(o,n),Fr(n),c&512&&(kn||l===null||Ji(l,l.return)),c&4){var b=l!==null?l.memoizedState:null;if(c=n.memoizedState,l===null)if(c===null)if(n.stateNode===null){e:{c=n.type,l=n.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Bt]||b[He]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(c),m.head.insertBefore(b,m.querySelector("head > title"))),lr(b,c,l),b[He]=n,en(b),c=b;break e;case"link":var M=Hx("link","href",m).get(c+(l.href||""));if(M){for(var z=0;z<M.length;z++)if(b=M[z],b.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&b.getAttribute("rel")===(l.rel==null?null:l.rel)&&b.getAttribute("title")===(l.title==null?null:l.title)&&b.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){M.splice(z,1);break t}}b=m.createElement(c),lr(b,c,l),m.head.appendChild(b);break;case"meta":if(M=Hx("meta","content",m).get(c+(l.content||""))){for(z=0;z<M.length;z++)if(b=M[z],b.getAttribute("content")===(l.content==null?null:""+l.content)&&b.getAttribute("name")===(l.name==null?null:l.name)&&b.getAttribute("property")===(l.property==null?null:l.property)&&b.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&b.getAttribute("charset")===(l.charSet==null?null:l.charSet)){M.splice(z,1);break t}}b=m.createElement(c),lr(b,c,l),m.head.appendChild(b);break;default:throw Error(i(468,c))}b[He]=n,en(b),c=b}n.stateNode=c}else qx(m,n.type,n.stateNode);else n.stateNode=$x(m,c,n.memoizedProps);else b!==c?(b===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):b.count--,c===null?qx(m,n.type,n.stateNode):$x(m,c,n.memoizedProps)):c===null&&n.stateNode!==null&&fm(n,n.memoizedProps,l.memoizedProps)}break;case 27:zr(o,n),Fr(n),c&512&&(kn||l===null||Ji(l,l.return)),l!==null&&c&4&&fm(n,n.memoizedProps,l.memoizedProps);break;case 5:if(zr(o,n),Fr(n),c&512&&(kn||l===null||Ji(l,l.return)),n.flags&32){m=n.stateNode;try{go(m,"")}catch(Je){Vt(n,n.return,Je)}}c&4&&n.stateNode!=null&&(m=n.memoizedProps,fm(n,m,l!==null?l.memoizedProps:m)),c&1024&&(mm=!0);break;case 6:if(zr(o,n),Fr(n),c&4){if(n.stateNode===null)throw Error(i(162));c=n.memoizedProps,l=n.stateNode;try{l.nodeValue=c}catch(Je){Vt(n,n.return,Je)}}break;case 3:if(yf=null,m=ji,ji=mf(o.containerInfo),zr(o,n),ji=m,Fr(n),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Fl(o.containerInfo)}catch(Je){Vt(n,n.return,Je)}mm&&(mm=!1,qb(n));break;case 4:c=ji,ji=mf(n.stateNode.containerInfo),zr(o,n),Fr(n),ji=c;break;case 12:zr(o,n),Fr(n);break;case 31:zr(o,n),Fr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ef(n,c)));break;case 13:zr(o,n),Fr(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(nf=Lt()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ef(n,c)));break;case 22:m=n.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,pe=No,Me=kn;if(No=pe||m,kn=Me||Y,zr(o,n),kn=Me,No=pe,Fr(n),c&8192)e:for(o=n.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||Y||No||kn||ws(n)),l=null,o=n;;){if(o.tag===5||o.tag===26){if(l===null){Y=l=o;try{if(b=Y.stateNode,m)M=b.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none";else{z=Y.stateNode;var Pe=Y.memoizedProps.style,ye=Pe!=null&&Pe.hasOwnProperty("display")?Pe.display:null;z.style.display=ye==null||typeof ye=="boolean"?"":(""+ye).trim()}}catch(Je){Vt(Y,Y.return,Je)}}}else if(o.tag===6){if(l===null){Y=o;try{Y.stateNode.nodeValue=m?"":Y.memoizedProps}catch(Je){Vt(Y,Y.return,Je)}}}else if(o.tag===18){if(l===null){Y=o;try{var xe=Y.stateNode;m?Nx(xe,!0):Nx(Y.stateNode,!1)}catch(Je){Vt(Y,Y.return,Je)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===n)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===n)break e;for(;o.sibling===null;){if(o.return===null||o.return===n)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=n.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,ef(n,l))));break;case 19:zr(o,n),Fr(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,ef(n,c)));break;case 30:break;case 21:break;default:zr(o,n),Fr(n)}}function Fr(n){var o=n.flags;if(o&2){try{for(var l,c=n.return;c!==null;){if(jb(c)){l=c;break}c=c.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,b=hm(n);Jd(n,b,m);break;case 5:var M=l.stateNode;l.flags&32&&(go(M,""),l.flags&=-33);var z=hm(n);Jd(n,z,M);break;case 3:case 4:var Y=l.stateNode.containerInfo,pe=hm(n);pm(n,pe,Y);break;default:throw Error(i(161))}}catch(Me){Vt(n,n.return,Me)}n.flags&=-3}o&4096&&(n.flags&=-4097)}function qb(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var o=n;qb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),n=n.sibling}}function jo(n,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)kb(n,o.alternate,o),o=o.sibling}function ws(n){for(n=n.child;n!==null;){var o=n;switch(o.tag){case 0:case 11:case 14:case 15:Sa(4,o,o.return),ws(o);break;case 1:Ji(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&Nb(o,o.return,l),ws(o);break;case 27:gc(o.stateNode);case 26:case 5:Ji(o,o.return),ws(o);break;case 22:o.memoizedState===null&&ws(o);break;case 30:ws(o);break;default:ws(o)}n=n.sibling}}function zo(n,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=n,b=o,M=b.flags;switch(b.tag){case 0:case 11:case 15:zo(m,b,l),ac(4,b);break;case 1:if(zo(m,b,l),c=b,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(pe){Vt(c,c.return,pe)}if(c=b,m=c.updateQueue,m!==null){var z=c.stateNode;try{var Y=m.shared.hiddenCallbacks;if(Y!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Y.length;m++)w0(Y[m],z)}catch(pe){Vt(c,c.return,pe)}}l&&M&64&&Ab(b),sc(b,b.return);break;case 27:zb(b);case 26:case 5:zo(m,b,l),l&&c===null&&M&4&&Ib(b),sc(b,b.return);break;case 12:zo(m,b,l);break;case 31:zo(m,b,l),l&&M&4&&Ub(m,b);break;case 13:zo(m,b,l),l&&M&4&&$b(m,b);break;case 22:b.memoizedState===null&&zo(m,b,l),sc(b,b.return);break;case 30:break;default:zo(m,b,l)}o=o.sibling}}function gm(n,o){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(n=o.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Yu(l))}function ym(n,o){n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Yu(n))}function zi(n,o,l,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)Gb(n,o,l,c),o=o.sibling}function Gb(n,o,l,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:zi(n,o,l,c),m&2048&&ac(9,o);break;case 1:zi(n,o,l,c);break;case 3:zi(n,o,l,c),m&2048&&(n=null,o.alternate!==null&&(n=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==n&&(o.refCount++,n!=null&&Yu(n)));break;case 12:if(m&2048){zi(n,o,l,c),n=o.stateNode;try{var b=o.memoizedProps,M=b.id,z=b.onPostCommit;typeof z=="function"&&z(M,o.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(Y){Vt(o,o.return,Y)}}else zi(n,o,l,c);break;case 31:zi(n,o,l,c);break;case 13:zi(n,o,l,c);break;case 23:break;case 22:b=o.stateNode,M=o.alternate,o.memoizedState!==null?b._visibility&2?zi(n,o,l,c):lc(n,o):b._visibility&2?zi(n,o,l,c):(b._visibility|=2,Ol(n,o,l,c,(o.subtreeFlags&10256)!==0||!1)),m&2048&&gm(M,o);break;case 24:zi(n,o,l,c),m&2048&&ym(o.alternate,o);break;default:zi(n,o,l,c)}}function Ol(n,o,l,c,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var b=n,M=o,z=l,Y=c,pe=M.flags;switch(M.tag){case 0:case 11:case 15:Ol(b,M,z,Y,m),ac(8,M);break;case 23:break;case 22:var Me=M.stateNode;M.memoizedState!==null?Me._visibility&2?Ol(b,M,z,Y,m):lc(b,M):(Me._visibility|=2,Ol(b,M,z,Y,m)),m&&pe&2048&&gm(M.alternate,M);break;case 24:Ol(b,M,z,Y,m),m&&pe&2048&&ym(M.alternate,M);break;default:Ol(b,M,z,Y,m)}o=o.sibling}}function lc(n,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=n,c=o,m=c.flags;switch(c.tag){case 22:lc(l,c),m&2048&&gm(c.alternate,c);break;case 24:lc(l,c),m&2048&&ym(c.alternate,c);break;default:lc(l,c)}o=o.sibling}}var uc=8192;function Ml(n,o,l){if(n.subtreeFlags&uc)for(n=n.child;n!==null;)Vb(n,o,l),n=n.sibling}function Vb(n,o,l){switch(n.tag){case 26:Ml(n,o,l),n.flags&uc&&n.memoizedState!==null&&fM(l,ji,n.memoizedState,n.memoizedProps);break;case 5:Ml(n,o,l);break;case 3:case 4:var c=ji;ji=mf(n.stateNode.containerInfo),Ml(n,o,l),ji=c;break;case 22:n.memoizedState===null&&(c=n.alternate,c!==null&&c.memoizedState!==null?(c=uc,uc=16777216,Ml(n,o,l),uc=c):Ml(n,o,l));break;default:Ml(n,o,l)}}function Yb(n){var o=n.alternate;if(o!==null&&(n=o.child,n!==null)){o.child=null;do o=n.sibling,n.sibling=null,n=o;while(n!==null)}}function cc(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];er=c,Xb(c,n)}Yb(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kb(n),n=n.sibling}function Kb(n){switch(n.tag){case 0:case 11:case 15:cc(n),n.flags&2048&&Sa(9,n,n.return);break;case 3:cc(n);break;case 12:cc(n);break;case 22:var o=n.stateNode;n.memoizedState!==null&&o._visibility&2&&(n.return===null||n.return.tag!==13)?(o._visibility&=-3,tf(n)):cc(n);break;default:cc(n)}}function tf(n){var o=n.deletions;if((n.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var c=o[l];er=c,Xb(c,n)}Yb(n)}for(n=n.child;n!==null;){switch(o=n,o.tag){case 0:case 11:case 15:Sa(8,o,o.return),tf(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,tf(o));break;default:tf(o)}n=n.sibling}}function Xb(n,o){for(;er!==null;){var l=er;switch(l.tag){case 0:case 11:case 15:Sa(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yu(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,er=c;else e:for(l=n;er!==null;){c=er;var m=c.sibling,b=c.return;if(Lb(c),c===l){er=null;break e}if(m!==null){m.return=b,er=m;break e}er=b}}}var MO={getCacheForType:function(n){var o=ar(jn),l=o.data.get(n);return l===void 0&&(l=n(),o.data.set(n,l)),l},cacheSignal:function(){return ar(jn).controller.signal}},TO=typeof WeakMap=="function"?WeakMap:Map,$t=0,tn=null,Tt=null,Pt=0,Gt=0,Jr=null,Ca=!1,Tl=!1,vm=!1,Fo=0,En=0,_a=0,Ss=0,bm=0,ei=0,Rl=0,dc=null,kr=null,xm=!1,nf=0,Wb=0,rf=1/0,of=null,Ea=null,Vn=0,Oa=null,Pl=null,ko=0,wm=0,Sm=null,Qb=null,fc=0,Cm=null;function ti(){return($t&2)!==0&&Pt!==0?Pt&-Pt:B.T!==null?Rm():Fe()}function Zb(){if(ei===0)if((Pt&536870912)===0||It){var n=on;on<<=1,(on&3932160)===0&&(on=262144),ei=n}else ei=536870912;return n=Qr.current,n!==null&&(n.flags|=32),ei}function Lr(n,o,l){(n===tn&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)&&(Dl(n,0),Ma(n,Pt,ei,!1)),wr(n,l),(($t&2)===0||n!==tn)&&(n===tn&&(($t&2)===0&&(Ss|=l),En===4&&Ma(n,Pt,ei,!1)),eo(n))}function Jb(n,o,l){if(($t&6)!==0)throw Error(i(327));var c=!l&&(o&127)===0&&(o&n.expiredLanes)===0||Ai(n,o),m=c?DO(n,o):Em(n,o,!0),b=c;do{if(m===0){Tl&&!c&&Ma(n,o,0,!1);break}else{if(l=n.current.alternate,b&&!RO(l)){m=Em(n,o,!1),b=!1;continue}if(m===2){if(b=o,n.errorRecoveryDisabledLanes&b)var M=0;else M=n.pendingLanes&-536870913,M=M!==0?M:M&536870912?536870912:0;if(M!==0){o=M;e:{var z=n;m=dc;var Y=z.current.memoizedState.isDehydrated;if(Y&&(Dl(z,M).flags|=256),M=Em(z,M,!1),M!==2){if(vm&&!Y){z.errorRecoveryDisabledLanes|=b,Ss|=b,m=4;break e}b=kr,kr=m,b!==null&&(kr===null?kr=b:kr.push.apply(kr,b))}m=M}if(b=!1,m!==2)continue}}if(m===1){Dl(n,0),Ma(n,o,0,!0);break}e:{switch(c=n,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Ma(c,o,ei,!Ca);break e;case 2:kr=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=nf+300-Lt(),10<m)){if(Ma(c,o,ei,!Ca),Gi(c,0,!0)!==0)break e;ko=o,c.timeoutHandle=Px(ex.bind(null,c,l,kr,of,xm,o,ei,Ss,Rl,Ca,b,"Throttled",-0,0),m);break e}ex(c,l,kr,of,xm,o,ei,Ss,Rl,Ca,b,null,-0,0)}}break}while(!0);eo(n)}function ex(n,o,l,c,m,b,M,z,Y,pe,Me,Pe,ye,xe){if(n.timeoutHandle=-1,Pe=o.subtreeFlags,Pe&8192||(Pe&16785408)===16785408){Pe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Nr},Vb(o,b,Pe);var Je=(b&62914560)===b?nf-Lt():(b&4194048)===b?Wb-Lt():0;if(Je=hM(Pe,Je),Je!==null){ko=b,n.cancelPendingCommit=Je(lx.bind(null,n,o,b,l,c,m,M,z,Y,Me,Pe,null,ye,xe)),Ma(n,b,M,!pe);return}}lx(n,o,b,l,c,m,M,z,Y)}function RO(n){for(var o=n;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var m=l[c],b=m.getSnapshot;m=m.value;try{if(!hr(b(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===n)break;for(;o.sibling===null;){if(o.return===null||o.return===n)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ma(n,o,l,c){o&=~bm,o&=~Ss,n.suspendedLanes|=o,n.pingedLanes&=~o,c&&(n.warmLanes|=o),c=n.expirationTimes;for(var m=o;0<m;){var b=31-Ge(m),M=1<<b;c[b]=-1,m&=~M}l!==0&&mo(n,l,o)}function af(){return($t&6)===0?(hc(0),!1):!0}function _m(){if(Tt!==null){if(Gt===0)var n=Tt.return;else n=Tt,Mo=hs=null,Bp(n),wl=null,Xu=0,n=Tt;for(;n!==null;)Db(n.alternate,n),n=n.return;Tt=null}}function Dl(n,o){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,XO(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),ko=0,_m(),tn=n,Tt=l=Eo(n.current,null),Pt=o,Gt=0,Jr=null,Ca=!1,Tl=Ai(n,o),vm=!1,Rl=ei=bm=Ss=_a=En=0,kr=dc=null,xm=!1,(o&8)!==0&&(o|=o&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=o;0<c;){var m=31-Ge(c),b=1<<m;o|=n[m],c&=~b}return Fo=o,Jn(),l}function tx(n,o){xt=null,B.H=rc,o===xl||o===Id?(o=y0(),Gt=3):o===Tp?(o=y0(),Gt=4):Gt=o===nm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Jr=o,Tt===null&&(En=1,Kd(n,hi(o,n.current)))}function nx(){var n=Qr.current;return n===null?!0:(Pt&4194048)===Pt?yi===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?n===yi:!1}function rx(){var n=B.H;return B.H=rc,n===null?rc:n}function ix(){var n=B.A;return B.A=MO,n}function sf(){En=4,Ca||(Pt&4194048)!==Pt&&Qr.current!==null||(Tl=!0),(_a&134217727)===0&&(Ss&134217727)===0||tn===null||Ma(tn,Pt,ei,!1)}function Em(n,o,l){var c=$t;$t|=2;var m=rx(),b=ix();(tn!==n||Pt!==o)&&(of=null,Dl(n,o)),o=!1;var M=En;e:do try{if(Gt!==0&&Tt!==null){var z=Tt,Y=Jr;switch(Gt){case 8:_m(),M=6;break e;case 3:case 2:case 9:case 6:Qr.current===null&&(o=!0);var pe=Gt;if(Gt=0,Jr=null,Al(n,z,Y,pe),l&&Tl){M=0;break e}break;default:pe=Gt,Gt=0,Jr=null,Al(n,z,Y,pe)}}PO(),M=En;break}catch(Me){tx(n,Me)}while(!0);return o&&n.shellSuspendCounter++,Mo=hs=null,$t=c,B.H=m,B.A=b,Tt===null&&(tn=null,Pt=0,Jn()),M}function PO(){for(;Tt!==null;)ox(Tt)}function DO(n,o){var l=$t;$t|=2;var c=rx(),m=ix();tn!==n||Pt!==o?(of=null,rf=Lt()+500,Dl(n,o)):Tl=Ai(n,o);e:do try{if(Gt!==0&&Tt!==null){o=Tt;var b=Jr;t:switch(Gt){case 1:Gt=0,Jr=null,Al(n,o,b,1);break;case 2:case 9:if(m0(b)){Gt=0,Jr=null,ax(o);break}o=function(){Gt!==2&&Gt!==9||tn!==n||(Gt=7),eo(n)},b.then(o,o);break e;case 3:Gt=7;break e;case 4:Gt=5;break e;case 7:m0(b)?(Gt=0,Jr=null,ax(o)):(Gt=0,Jr=null,Al(n,o,b,7));break;case 5:var M=null;switch(Tt.tag){case 26:M=Tt.memoizedState;case 5:case 27:var z=Tt;if(M?Gx(M):z.stateNode.complete){Gt=0,Jr=null;var Y=z.sibling;if(Y!==null)Tt=Y;else{var pe=z.return;pe!==null?(Tt=pe,lf(pe)):Tt=null}break t}}Gt=0,Jr=null,Al(n,o,b,5);break;case 6:Gt=0,Jr=null,Al(n,o,b,6);break;case 8:_m(),En=6;break e;default:throw Error(i(462))}}AO();break}catch(Me){tx(n,Me)}while(!0);return Mo=hs=null,B.H=c,B.A=m,$t=l,Tt!==null?0:(tn=null,Pt=0,Jn(),En)}function AO(){for(;Tt!==null&&!xn();)ox(Tt)}function ox(n){var o=Rb(n.alternate,n,Fo);n.memoizedProps=n.pendingProps,o===null?lf(n):Tt=o}function ax(n){var o=n,l=o.alternate;switch(o.tag){case 15:case 0:o=Cb(l,o,o.pendingProps,o.type,void 0,Pt);break;case 11:o=Cb(l,o,o.pendingProps,o.type.render,o.ref,Pt);break;case 5:Bp(o);default:Db(l,o),o=Tt=i0(o,Fo),o=Rb(l,o,Fo)}n.memoizedProps=n.pendingProps,o===null?lf(n):Tt=o}function Al(n,o,l,c){Mo=hs=null,Bp(o),wl=null,Xu=0;var m=o.return;try{if(xO(n,m,o,l,Pt)){En=1,Kd(n,hi(l,n.current)),Tt=null;return}}catch(b){if(m!==null)throw Tt=m,b;En=1,Kd(n,hi(l,n.current)),Tt=null;return}o.flags&32768?(It||c===1?n=!0:Tl||(Pt&536870912)!==0?n=!1:(Ca=n=!0,(c===2||c===9||c===3||c===6)&&(c=Qr.current,c!==null&&c.tag===13&&(c.flags|=16384))),sx(o,n)):lf(o)}function lf(n){var o=n;do{if((o.flags&32768)!==0){sx(o,Ca);return}n=o.return;var l=CO(o.alternate,o,Fo);if(l!==null){Tt=l;return}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=n}while(o!==null);En===0&&(En=5)}function sx(n,o){do{var l=_O(n.alternate,n);if(l!==null){l.flags&=32767,Tt=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(n=n.sibling,n!==null)){Tt=n;return}Tt=n=l}while(n!==null);En=6,Tt=null}function lx(n,o,l,c,m,b,M,z,Y){n.cancelPendingCommit=null;do uf();while(Vn!==0);if(($t&6)!==0)throw Error(i(327));if(o!==null){if(o===n.current)throw Error(i(177));if(b=o.lanes|o.childLanes,b|=bt,Za(n,l,b,M,z,Y),n===tn&&(Tt=tn=null,Pt=0),Pl=o,Oa=n,ko=l,wm=b,Sm=m,Qb=c,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,zO(wn,function(){return hx(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||c){c=B.T,B.T=null,m=J.p,J.p=2,M=$t,$t|=4;try{EO(n,o,l)}finally{$t=M,J.p=m,B.T=c}}Vn=1,ux(),cx(),dx()}}function ux(){if(Vn===1){Vn=0;var n=Oa,o=Pl,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var c=J.p;J.p=2;var m=$t;$t|=4;try{Hb(o,n);var b=Fm,M=P(n.containerInfo),z=b.focusedElem,Y=b.selectionRange;if(M!==z&&z&&z.ownerDocument&&O(z.ownerDocument.documentElement,z)){if(Y!==null&&j(z)){var pe=Y.start,Me=Y.end;if(Me===void 0&&(Me=pe),"selectionStart"in z)z.selectionStart=pe,z.selectionEnd=Math.min(Me,z.value.length);else{var Pe=z.ownerDocument||document,ye=Pe&&Pe.defaultView||window;if(ye.getSelection){var xe=ye.getSelection(),Je=z.textContent.length,dt=Math.min(Y.start,Je),Xt=Y.end===void 0?dt:Math.min(Y.end,Je);!xe.extend&&dt>Xt&&(M=Xt,Xt=dt,dt=M);var le=S(z,dt),Z=S(z,Xt);if(le&&Z&&(xe.rangeCount!==1||xe.anchorNode!==le.node||xe.anchorOffset!==le.offset||xe.focusNode!==Z.node||xe.focusOffset!==Z.offset)){var he=Pe.createRange();he.setStart(le.node,le.offset),xe.removeAllRanges(),dt>Xt?(xe.addRange(he),xe.extend(Z.node,Z.offset)):(he.setEnd(Z.node,Z.offset),xe.addRange(he))}}}}for(Pe=[],xe=z;xe=xe.parentNode;)xe.nodeType===1&&Pe.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof z.focus=="function"&&z.focus(),z=0;z<Pe.length;z++){var Te=Pe[z];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}wf=!!zm,Fm=zm=null}finally{$t=m,J.p=c,B.T=l}}n.current=o,Vn=2}}function cx(){if(Vn===2){Vn=0;var n=Oa,o=Pl,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var c=J.p;J.p=2;var m=$t;$t|=4;try{kb(n,o.alternate,o)}finally{$t=m,J.p=c,B.T=l}}Vn=3}}function dx(){if(Vn===4||Vn===3){Vn=0,br();var n=Oa,o=Pl,l=ko,c=Qb;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Vn=5:(Vn=0,Pl=Oa=null,fx(n,n.pendingLanes));var m=n.pendingLanes;if(m===0&&(Ea=null),Ae(l),o=o.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Pr,o,void 0,(o.current.flags&128)===128)}catch{}if(c!==null){o=B.T,m=J.p,J.p=2,B.T=null;try{for(var b=n.onRecoverableError,M=0;M<c.length;M++){var z=c[M];b(z.value,{componentStack:z.stack})}}finally{B.T=o,J.p=m}}(ko&3)!==0&&uf(),eo(n),m=n.pendingLanes,(l&261930)!==0&&(m&42)!==0?n===Cm?fc++:(fc=0,Cm=n):fc=0,hc(0)}}function fx(n,o){(n.pooledCacheLanes&=o)===0&&(o=n.pooledCache,o!=null&&(n.pooledCache=null,Yu(o)))}function uf(){return ux(),cx(),dx(),hx()}function hx(){if(Vn!==5)return!1;var n=Oa,o=wm;wm=0;var l=Ae(ko),c=B.T,m=J.p;try{J.p=32>l?32:l,B.T=null,l=Sm,Sm=null;var b=Oa,M=ko;if(Vn=0,Pl=Oa=null,ko=0,($t&6)!==0)throw Error(i(331));var z=$t;if($t|=4,Kb(b.current),Gb(b,b.current,M,l),$t=z,hc(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Pr,b)}catch{}return!0}finally{J.p=m,B.T=c,fx(n,o)}}function px(n,o,l){o=hi(l,o),o=tm(n.stateNode,o,2),n=ba(n,o,2),n!==null&&(wr(n,2),eo(n))}function Vt(n,o,l){if(n.tag===3)px(n,n,l);else for(;o!==null;){if(o.tag===3){px(o,n,l);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Ea===null||!Ea.has(c))){n=hi(l,n),l=mb(2),c=ba(o,l,2),c!==null&&(gb(l,c,o,n),wr(c,2),eo(c));break}}o=o.return}}function Om(n,o,l){var c=n.pingCache;if(c===null){c=n.pingCache=new TO;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(l)||(vm=!0,m.add(l),n=NO.bind(null,n,o,l),o.then(n,n))}function NO(n,o,l){var c=n.pingCache;c!==null&&c.delete(o),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,tn===n&&(Pt&l)===l&&(En===4||En===3&&(Pt&62914560)===Pt&&300>Lt()-nf?($t&2)===0&&Dl(n,0):bm|=l,Rl===Pt&&(Rl=0)),eo(n)}function mx(n,o){o===0&&(o=po()),n=vn(n,o),n!==null&&(wr(n,o),eo(n))}function IO(n){var o=n.memoizedState,l=0;o!==null&&(l=o.retryLane),mx(n,l)}function jO(n,o){var l=0;switch(n.tag){case 31:case 13:var c=n.stateNode,m=n.memoizedState;m!==null&&(l=m.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(o),mx(n,l)}function zO(n,o){return Hn(n,o)}var cf=null,Nl=null,Mm=!1,df=!1,Tm=!1,Ta=0;function eo(n){n!==Nl&&n.next===null&&(Nl===null?cf=Nl=n:Nl=Nl.next=n),df=!0,Mm||(Mm=!0,kO())}function hc(n,o){if(!Tm&&df){Tm=!0;do for(var l=!1,c=cf;c!==null;){if(n!==0){var m=c.pendingLanes;if(m===0)var b=0;else{var M=c.suspendedLanes,z=c.pingedLanes;b=(1<<31-Ge(42|n)+1)-1,b&=m&~(M&~z),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(l=!0,bx(c,b))}else b=Pt,b=Gi(c,c===tn?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(b&3)===0||Ai(c,b)||(l=!0,bx(c,b));c=c.next}while(l);Tm=!1}}function FO(){gx()}function gx(){df=Mm=!1;var n=0;Ta!==0&&KO()&&(n=Ta);for(var o=Lt(),l=null,c=cf;c!==null;){var m=c.next,b=yx(c,o);b===0?(c.next=null,l===null?cf=m:l.next=m,m===null&&(Nl=l)):(l=c,(n!==0||(b&3)!==0)&&(df=!0)),c=m}Vn!==0&&Vn!==5||hc(n),Ta!==0&&(Ta=0)}function yx(n,o){for(var l=n.suspendedLanes,c=n.pingedLanes,m=n.expirationTimes,b=n.pendingLanes&-62914561;0<b;){var M=31-Ge(b),z=1<<M,Y=m[M];Y===-1?((z&l)===0||(z&c)!==0)&&(m[M]=Xs(z,o)):Y<=o&&(n.expiredLanes|=z),b&=~z}if(o=tn,l=Pt,l=Gi(n,n===o?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,l===0||n===o&&(Gt===2||Gt===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&gn(c),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Ai(n,l)){if(o=l&-l,o===n.callbackPriority)return o;switch(c!==null&&gn(c),Ae(l)){case 2:case 8:l=lt;break;case 32:l=wn;break;case 268435456:l=Tn;break;default:l=wn}return c=vx.bind(null,n),l=Hn(l,c),n.callbackPriority=o,n.callbackNode=l,o}return c!==null&&c!==null&&gn(c),n.callbackPriority=2,n.callbackNode=null,2}function vx(n,o){if(Vn!==0&&Vn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(uf()&&n.callbackNode!==l)return null;var c=Pt;return c=Gi(n,n===tn?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Jb(n,c,o),yx(n,Lt()),n.callbackNode!=null&&n.callbackNode===l?vx.bind(null,n):null)}function bx(n,o){if(uf())return null;Jb(n,o,!0)}function kO(){WO(function(){($t&6)!==0?Hn(qn,FO):gx()})}function Rm(){if(Ta===0){var n=vl;n===0&&(n=$e,$e<<=1,($e&261888)===0&&($e=256)),Ta=n}return Ta}function xx(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ii(""+n)}function wx(n,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,n.id&&l.setAttribute("form",n.id),o.parentNode.insertBefore(l,o),n=new FormData(n),l.parentNode.removeChild(l),n}function LO(n,o,l,c,m){if(o==="submit"&&l&&l.stateNode===m){var b=xx((m[Ke]||null).action),M=c.submitter;M&&(o=(o=M[Ke]||null)?xx(o.formAction):M.getAttribute("formAction"),o!==null&&(b=o,M=null));var z=new Js("action","action",null,c,m);n.push({event:z,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ta!==0){var Y=M?wx(m,M):new FormData(m);Xp(l,{pending:!0,data:Y,method:m.method,action:b},null,Y)}}else typeof b=="function"&&(z.preventDefault(),Y=M?wx(m,M):new FormData(m),Xp(l,{pending:!0,data:Y,method:m.method,action:b},b,Y))},currentTarget:m}]})}}for(var Pm=0;Pm<Ve.length;Pm++){var Dm=Ve[Pm],BO=Dm.toLowerCase(),UO=Dm[0].toUpperCase()+Dm.slice(1);ze(BO,"on"+UO)}ze(fe,"onAnimationEnd"),ze(ge,"onAnimationIteration"),ze(Oe,"onAnimationStart"),ze("dblclick","onDoubleClick"),ze("focusin","onFocus"),ze("focusout","onBlur"),ze(Re,"onTransitionRun"),ze(Le,"onTransitionStart"),ze(Ye,"onTransitionCancel"),ze(je,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$O=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pc));function Sx(n,o){o=(o&4)!==0;for(var l=0;l<n.length;l++){var c=n[l],m=c.event;c=c.listeners;e:{var b=void 0;if(o)for(var M=c.length-1;0<=M;M--){var z=c[M],Y=z.instance,pe=z.currentTarget;if(z=z.listener,Y!==b&&m.isPropagationStopped())break e;b=z,m.currentTarget=pe;try{b(m)}catch(Me){We(Me)}m.currentTarget=null,b=Y}else for(M=0;M<c.length;M++){if(z=c[M],Y=z.instance,pe=z.currentTarget,z=z.listener,Y!==b&&m.isPropagationStopped())break e;b=z,m.currentTarget=pe;try{b(m)}catch(Me){We(Me)}m.currentTarget=null,b=Y}}}}function Rt(n,o){var l=o[ot];l===void 0&&(l=o[ot]=new Set);var c=n+"__bubble";l.has(c)||(Cx(o,n,2,!1),l.add(c))}function Am(n,o,l){var c=0;o&&(c|=4),Cx(l,n,c,o)}var ff="_reactListening"+Math.random().toString(36).slice(2);function Nm(n){if(!n[ff]){n[ff]=!0,Kn.forEach(function(l){l!=="selectionchange"&&($O.has(l)||Am(l,!1,n),Am(l,!0,n))});var o=n.nodeType===9?n:n.ownerDocument;o===null||o[ff]||(o[ff]=!0,Am("selectionchange",!1,o))}}function Cx(n,o,l,c){switch(Zx(o)){case 2:var m=gM;break;case 8:m=yM;break;default:m=Km}l=m.bind(null,o,l,n),m=void 0,!Pu||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?n.addEventListener(o,l,{capture:!0,passive:m}):n.addEventListener(o,l,!0):m!==void 0?n.addEventListener(o,l,{passive:m}):n.addEventListener(o,l,!1)}function Im(n,o,l,c,m){var b=c;if((o&1)===0&&(o&2)===0&&c!==null)e:for(;;){if(c===null)return;var M=c.tag;if(M===3||M===4){var z=c.stateNode.containerInfo;if(z===m)break;if(M===4)for(M=c.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&M.stateNode.containerInfo===m)return;M=M.return}for(;z!==null;){if(M=an(z),M===null)return;if(Y=M.tag,Y===5||Y===6||Y===26||Y===27){c=b=M;continue e}z=z.parentNode}}c=c.return}ia(function(){var pe=b,Me=Qs(l),Pe=[];e:{var ye=Ue.get(n);if(ye!==void 0){var xe=Js,Je=n;switch(n){case"keypress":if(sa(l)===0)break e;case"keydown":case"keyup":xe=al;break;case"focusin":Je="focus",xe=la;break;case"focusout":Je="blur",xe=la;break;case"beforeblur":case"afterblur":xe=la;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=vd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=Fu;break;case fe:case ge:case Oe:xe=bd;break;case je:xe=ku;break;case"scroll":case"scrollend":xe=el;break;case"wheel":xe=ll;break;case"copy":case"cut":case"paste":xe=ua;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=zu;break;case"toggle":case"beforetoggle":xe=Sd}var dt=(o&4)!==0,Xt=!dt&&(n==="scroll"||n==="scrollend"),le=dt?ye!==null?ye+"Capture":null:ye;dt=[];for(var Z=pe,he;Z!==null;){var Te=Z;if(he=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||he===null||le===null||(Te=bo(Z,le),Te!=null&&dt.push(mc(Z,Te,he))),Xt)break;Z=Z.return}0<dt.length&&(ye=new xe(ye,Je,null,l,Me),Pe.push({event:ye,listeners:dt}))}}if((o&7)===0){e:{if(ye=n==="mouseover"||n==="pointerover",xe=n==="mouseout"||n==="pointerout",ye&&l!==ci&&(Je=l.relatedTarget||l.fromElement)&&(an(Je)||Je[Qe]))break e;if((xe||ye)&&(ye=Me.window===Me?Me:(ye=Me.ownerDocument)?ye.defaultView||ye.parentWindow:window,xe?(Je=l.relatedTarget||l.toElement,xe=pe,Je=Je?an(Je):null,Je!==null&&(Xt=s(Je),dt=Je.tag,Je!==Xt||dt!==5&&dt!==27&&dt!==6)&&(Je=null)):(xe=null,Je=pe),xe!==Je)){if(dt=nl,Te="onMouseLeave",le="onMouseEnter",Z="mouse",(n==="pointerout"||n==="pointerover")&&(dt=zu,Te="onPointerLeave",le="onPointerEnter",Z="pointer"),Xt=xe==null?ye:sn(xe),he=Je==null?ye:sn(Je),ye=new dt(Te,Z+"leave",xe,l,Me),ye.target=Xt,ye.relatedTarget=he,Te=null,an(Me)===pe&&(dt=new dt(le,Z+"enter",Je,l,Me),dt.target=he,dt.relatedTarget=Xt,Te=dt),Xt=Te,xe&&Je)t:{for(dt=HO,le=xe,Z=Je,he=0,Te=le;Te;Te=dt(Te))he++;Te=0;for(var ct=Z;ct;ct=dt(ct))Te++;for(;0<he-Te;)le=dt(le),he--;for(;0<Te-he;)Z=dt(Z),Te--;for(;he--;){if(le===Z||Z!==null&&le===Z.alternate){dt=le;break t}le=dt(le),Z=dt(Z)}dt=null}else dt=null;xe!==null&&_x(Pe,ye,xe,dt,!1),Je!==null&&Xt!==null&&_x(Pe,Xt,Je,dt,!0)}}e:{if(ye=pe?sn(pe):window,xe=ye.nodeName&&ye.nodeName.toLowerCase(),xe==="select"||xe==="input"&&ye.type==="file")var jt=us;else if(dl(ye))if(fi)jt=fa;else{jt=_o;var rt=Td}else xe=ye.nodeName,!xe||xe.toLowerCase()!=="input"||ye.type!=="checkbox"&&ye.type!=="radio"?pe&&Ru(pe.elementType)&&(jt=us):jt=Hu;if(jt&&(jt=jt(n,pe))){$u(Pe,jt,l,Me);break e}rt&&rt(n,ye,pe),n==="focusout"&&pe&&ye.type==="number"&&pe.memoizedProps.value!=null&&ts(ye,"number",ye.value)}switch(rt=pe?sn(pe):window,n){case"focusin":(dl(rt)||rt.contentEditable==="true")&&(G=rt,X=pe,W=null);break;case"focusout":W=X=G=null;break;case"mousedown":ie=!0;break;case"contextmenu":case"mouseup":case"dragend":ie=!1,K(Pe,l,Me);break;case"selectionchange":if(L)break;case"keydown":case"keyup":K(Pe,l,Me)}var St;if(ss)e:{switch(n){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Co?Uu(n,l)&&(Dt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(Dt="onCompositionStart");Dt&&(ul&&l.locale!=="ko"&&(Co||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Co&&(St=aa()):(di=Me,Zs="value"in di?di.value:di.textContent,Co=!0)),rt=hf(pe,Dt),0<rt.length&&(Dt=new ol(Dt,n,null,l,Me),Pe.push({event:Dt,listeners:rt}),St?Dt.data=St:(St=_d(l),St!==null&&(Dt.data=St)))),(St=fp?Ed(n,l):hp(n,l))&&(Dt=hf(pe,"onBeforeInput"),0<Dt.length&&(rt=new ol("onBeforeInput","beforeinput",null,l,Me),Pe.push({event:rt,listeners:Dt}),rt.data=St)),LO(Pe,n,pe,l,Me)}Sx(Pe,o)})}function mc(n,o,l){return{instance:n,listener:o,currentTarget:l}}function hf(n,o){for(var l=o+"Capture",c=[];n!==null;){var m=n,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=bo(n,l),m!=null&&c.unshift(mc(n,m,b)),m=bo(n,o),m!=null&&c.push(mc(n,m,b))),n.tag===3)return c;n=n.return}return[]}function HO(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _x(n,o,l,c,m){for(var b=o._reactName,M=[];l!==null&&l!==c;){var z=l,Y=z.alternate,pe=z.stateNode;if(z=z.tag,Y!==null&&Y===c)break;z!==5&&z!==26&&z!==27||pe===null||(Y=pe,m?(pe=bo(l,b),pe!=null&&M.unshift(mc(l,pe,Y))):m||(pe=bo(l,b),pe!=null&&M.push(mc(l,pe,Y)))),l=l.return}M.length!==0&&n.push({event:o,listeners:M})}var qO=/\r\n?/g,GO=/\u0000|\uFFFD/g;function Ex(n){return(typeof n=="string"?n:""+n).replace(qO,`
`).replace(GO,"")}function Ox(n,o){return o=Ex(o),Ex(n)===o}function Kt(n,o,l,c,m,b){switch(l){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||go(n,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&go(n,""+c);break;case"className":Ar(n,"class",c);break;case"tabIndex":Ar(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Ar(n,l,c);break;case"style":Tu(n,c,b);break;case"data":if(o!=="object"){Ar(n,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||l!=="href")){n.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Ii(""+c),n.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(l==="formAction"?(o!=="input"&&Kt(n,o,"name",m.name,m,null),Kt(n,o,"formEncType",m.formEncType,m,null),Kt(n,o,"formMethod",m.formMethod,m,null),Kt(n,o,"formTarget",m.formTarget,m,null)):(Kt(n,o,"encType",m.encType,m,null),Kt(n,o,"method",m.method,m,null),Kt(n,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(l);break}c=Ii(""+c),n.setAttribute(l,c);break;case"onClick":c!=null&&(n.onclick=Nr);break;case"onScroll":c!=null&&Rt("scroll",n);break;case"onScrollEnd":c!=null&&Rt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}l=Ii(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""+c):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":c===!0?n.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(l,c):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(l,c):n.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(l):n.setAttribute(l,c);break;case"popover":Rt("beforetoggle",n),Rt("toggle",n),st(n,"popover",c);break;case"xlinkActuate":Dn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Dn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Dn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Dn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Dn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Dn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Dn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":st(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=up.get(l)||l,st(n,l,c))}}function jm(n,o,l,c,m,b){switch(l){case"style":Tu(n,c,b);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(l=c.__html,l!=null){if(m.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof c=="string"?go(n,c):(typeof c=="number"||typeof c=="bigint")&&go(n,""+c);break;case"onScroll":c!=null&&Rt("scroll",n);break;case"onScrollEnd":c!=null&&Rt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Nr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Xn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),b=n[Ke]||null,b=b!=null?b[l]:null,typeof b=="function"&&n.removeEventListener(o,b,m),typeof c=="function")){typeof b!="function"&&b!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(o,c,m);break e}l in n?n[l]=c:c===!0?n.setAttribute(l,""):st(n,l,c)}}}function lr(n,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",n),Rt("load",n);var c=!1,m=!1,b;for(b in l)if(l.hasOwnProperty(b)){var M=l[b];if(M!=null)switch(b){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Kt(n,o,b,M,l,null)}}m&&Kt(n,o,"srcSet",l.srcSet,l,null),c&&Kt(n,o,"src",l.src,l,null);return;case"input":Rt("invalid",n);var z=b=M=m=null,Y=null,pe=null;for(c in l)if(l.hasOwnProperty(c)){var Me=l[c];if(Me!=null)switch(c){case"name":m=Me;break;case"type":M=Me;break;case"checked":Y=Me;break;case"defaultChecked":pe=Me;break;case"value":b=Me;break;case"defaultValue":z=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(i(137,o));break;default:Kt(n,o,c,Me,l,null)}}Ws(n,b,z,Y,pe,M,m,!1);return;case"select":Rt("invalid",n),c=M=b=null;for(m in l)if(l.hasOwnProperty(m)&&(z=l[m],z!=null))switch(m){case"value":b=z;break;case"defaultValue":M=z;break;case"multiple":c=z;default:Kt(n,o,m,z,l,null)}o=b,l=M,n.multiple=!!c,o!=null?Ni(n,!!c,o,!1):l!=null&&Ni(n,!!c,l,!0);return;case"textarea":Rt("invalid",n),b=m=c=null;for(M in l)if(l.hasOwnProperty(M)&&(z=l[M],z!=null))switch(M){case"value":c=z;break;case"defaultValue":m=z;break;case"children":b=z;break;case"dangerouslySetInnerHTML":if(z!=null)throw Error(i(91));break;default:Kt(n,o,M,z,l,null)}ns(n,c,m,b);return;case"option":for(Y in l)l.hasOwnProperty(Y)&&(c=l[Y],c!=null)&&(Y==="selected"?n.selected=c&&typeof c!="function"&&typeof c!="symbol":Kt(n,o,Y,c,l,null));return;case"dialog":Rt("beforetoggle",n),Rt("toggle",n),Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":Rt("load",n);break;case"video":case"audio":for(c=0;c<pc.length;c++)Rt(pc[c],n);break;case"image":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"embed":case"source":case"link":Rt("error",n),Rt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in l)if(l.hasOwnProperty(pe)&&(c=l[pe],c!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Kt(n,o,pe,c,l,null)}return;default:if(Ru(o)){for(Me in l)l.hasOwnProperty(Me)&&(c=l[Me],c!==void 0&&jm(n,o,Me,c,l,void 0));return}}for(z in l)l.hasOwnProperty(z)&&(c=l[z],c!=null&&Kt(n,o,z,c,l,null))}function VO(n,o,l,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,M=null,z=null,Y=null,pe=null,Me=null;for(xe in l){var Pe=l[xe];if(l.hasOwnProperty(xe)&&Pe!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":Y=Pe;default:c.hasOwnProperty(xe)||Kt(n,o,xe,null,c,Pe)}}for(var ye in c){var xe=c[ye];if(Pe=l[ye],c.hasOwnProperty(ye)&&(xe!=null||Pe!=null))switch(ye){case"type":b=xe;break;case"name":m=xe;break;case"checked":pe=xe;break;case"defaultChecked":Me=xe;break;case"value":M=xe;break;case"defaultValue":z=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(i(137,o));break;default:xe!==Pe&&Kt(n,o,ye,xe,c,Pe)}}Yi(n,M,z,Y,pe,Me,b,m);return;case"select":xe=M=z=ye=null;for(b in l)if(Y=l[b],l.hasOwnProperty(b)&&Y!=null)switch(b){case"value":break;case"multiple":xe=Y;default:c.hasOwnProperty(b)||Kt(n,o,b,null,c,Y)}for(m in c)if(b=c[m],Y=l[m],c.hasOwnProperty(m)&&(b!=null||Y!=null))switch(m){case"value":ye=b;break;case"defaultValue":z=b;break;case"multiple":M=b;default:b!==Y&&Kt(n,o,m,b,c,Y)}o=z,l=M,c=xe,ye!=null?Ni(n,!!l,ye,!1):!!c!=!!l&&(o!=null?Ni(n,!!l,o,!0):Ni(n,!!l,l?[]:"",!1));return;case"textarea":xe=ye=null;for(z in l)if(m=l[z],l.hasOwnProperty(z)&&m!=null&&!c.hasOwnProperty(z))switch(z){case"value":break;case"children":break;default:Kt(n,o,z,null,c,m)}for(M in c)if(m=c[M],b=l[M],c.hasOwnProperty(M)&&(m!=null||b!=null))switch(M){case"value":ye=m;break;case"defaultValue":xe=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Kt(n,o,M,m,c,b)}Mu(n,ye,xe);return;case"option":for(var Je in l)ye=l[Je],l.hasOwnProperty(Je)&&ye!=null&&!c.hasOwnProperty(Je)&&(Je==="selected"?n.selected=!1:Kt(n,o,Je,null,c,ye));for(Y in c)ye=c[Y],xe=l[Y],c.hasOwnProperty(Y)&&ye!==xe&&(ye!=null||xe!=null)&&(Y==="selected"?n.selected=ye&&typeof ye!="function"&&typeof ye!="symbol":Kt(n,o,Y,ye,c,xe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in l)ye=l[dt],l.hasOwnProperty(dt)&&ye!=null&&!c.hasOwnProperty(dt)&&Kt(n,o,dt,null,c,ye);for(pe in c)if(ye=c[pe],xe=l[pe],c.hasOwnProperty(pe)&&ye!==xe&&(ye!=null||xe!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(i(137,o));break;default:Kt(n,o,pe,ye,c,xe)}return;default:if(Ru(o)){for(var Xt in l)ye=l[Xt],l.hasOwnProperty(Xt)&&ye!==void 0&&!c.hasOwnProperty(Xt)&&jm(n,o,Xt,void 0,c,ye);for(Me in c)ye=c[Me],xe=l[Me],!c.hasOwnProperty(Me)||ye===xe||ye===void 0&&xe===void 0||jm(n,o,Me,ye,c,xe);return}}for(var le in l)ye=l[le],l.hasOwnProperty(le)&&ye!=null&&!c.hasOwnProperty(le)&&Kt(n,o,le,null,c,ye);for(Pe in c)ye=c[Pe],xe=l[Pe],!c.hasOwnProperty(Pe)||ye===xe||ye==null&&xe==null||Kt(n,o,Pe,ye,c,xe)}function Mx(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function YO(){if(typeof performance.getEntriesByType=="function"){for(var n=0,o=0,l=performance.getEntriesByType("resource"),c=0;c<l.length;c++){var m=l[c],b=m.transferSize,M=m.initiatorType,z=m.duration;if(b&&z&&Mx(M)){for(M=0,z=m.responseEnd,c+=1;c<l.length;c++){var Y=l[c],pe=Y.startTime;if(pe>z)break;var Me=Y.transferSize,Pe=Y.initiatorType;Me&&Mx(Pe)&&(Y=Y.responseEnd,M+=Me*(Y<z?1:(z-pe)/(Y-pe)))}if(--c,o+=8*(b+M)/(m.duration/1e3),n++,10<n)break}}if(0<n)return o/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var zm=null,Fm=null;function pf(n){return n.nodeType===9?n:n.ownerDocument}function Tx(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rx(n,o){if(n===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&o==="foreignObject"?0:n}function km(n,o){return n==="textarea"||n==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Lm=null;function KO(){var n=window.event;return n&&n.type==="popstate"?n===Lm?!1:(Lm=n,!0):(Lm=null,!1)}var Px=typeof setTimeout=="function"?setTimeout:void 0,XO=typeof clearTimeout=="function"?clearTimeout:void 0,Dx=typeof Promise=="function"?Promise:void 0,WO=typeof queueMicrotask=="function"?queueMicrotask:typeof Dx<"u"?function(n){return Dx.resolve(null).then(n).catch(QO)}:Px;function QO(n){setTimeout(function(){throw n})}function Ra(n){return n==="head"}function Ax(n,o){var l=o,c=0;do{var m=l.nextSibling;if(n.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(c===0){n.removeChild(m),Fl(o);return}c--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")c++;else if(l==="html")gc(n.ownerDocument.documentElement);else if(l==="head"){l=n.ownerDocument.head,gc(l);for(var b=l.firstChild;b;){var M=b.nextSibling,z=b.nodeName;b[Bt]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&b.rel.toLowerCase()==="stylesheet"||l.removeChild(b),b=M}}else l==="body"&&gc(n.ownerDocument.body);l=m}while(l);Fl(o)}function Nx(n,o){var l=n;n=0;do{var c=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),c&&c.nodeType===8)if(l=c.data,l==="/$"){if(n===0)break;n--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||n++;l=c}while(l)}function Bm(n){var o=n.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Bm(l),un(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function ZO(n,o,l,c){for(;n.nodeType===1;){var m=l;if(n.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Bt])switch(o){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(b=n.getAttribute("rel"),b==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(b!==m.rel||n.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||n.getAttribute("title")!==(m.title==null?null:m.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(b=n.getAttribute("src"),(b!==(m.src==null?null:m.src)||n.getAttribute("type")!==(m.type==null?null:m.type)||n.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(o==="input"&&n.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&n.getAttribute("name")===b)return n}else return n;if(n=vi(n.nextSibling),n===null)break}return null}function JO(n,o,l){if(o==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=vi(n.nextSibling),n===null))return null;return n}function Ix(n,o){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=vi(n.nextSibling),n===null))return null;return n}function Um(n){return n.data==="$?"||n.data==="$~"}function $m(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function eM(n,o){var l=n.ownerDocument;if(n.data==="$~")n._reactRetry=o;else if(n.data!=="$?"||l.readyState!=="loading")o();else{var c=function(){o(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function vi(n){for(;n!=null;n=n.nextSibling){var o=n.nodeType;if(o===1||o===3)break;if(o===8){if(o=n.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return n}var Hm=null;function jx(n){n=n.nextSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="/$"||l==="/&"){if(o===0)return vi(n.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}n=n.nextSibling}return null}function zx(n){n=n.previousSibling;for(var o=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return n;o--}else l!=="/$"&&l!=="/&"||o++}n=n.previousSibling}return null}function Fx(n,o,l){switch(o=pf(l),n){case"html":if(n=o.documentElement,!n)throw Error(i(452));return n;case"head":if(n=o.head,!n)throw Error(i(453));return n;case"body":if(n=o.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function gc(n){for(var o=n.attributes;o.length;)n.removeAttributeNode(o[0]);un(n)}var bi=new Map,kx=new Set;function mf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Lo=J.d;J.d={f:tM,r:nM,D:rM,C:iM,L:oM,m:aM,X:lM,S:sM,M:uM};function tM(){var n=Lo.f(),o=af();return n||o}function nM(n){var o=at(n);o!==null&&o.tag===5&&o.type==="form"?tb(o):Lo.r(n)}var Il=typeof document>"u"?null:document;function Lx(n,o,l){var c=Il;if(c&&typeof o=="string"&&o){var m=Wn(o);m='link[rel="'+n+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),kx.has(m)||(kx.add(m),n={rel:n,crossOrigin:l,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),lr(o,"link",n),en(o),c.head.appendChild(o)))}}function rM(n){Lo.D(n),Lx("dns-prefetch",n,null)}function iM(n,o){Lo.C(n,o),Lx("preconnect",n,o)}function oM(n,o,l){Lo.L(n,o,l);var c=Il;if(c&&n&&o){var m='link[rel="preload"][as="'+Wn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Wn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Wn(l.imageSizes)+'"]')):m+='[href="'+Wn(n)+'"]';var b=m;switch(o){case"style":b=jl(n);break;case"script":b=zl(n)}bi.has(b)||(n=y({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:n,as:o},l),bi.set(b,n),c.querySelector(m)!==null||o==="style"&&c.querySelector(yc(b))||o==="script"&&c.querySelector(vc(b))||(o=c.createElement("link"),lr(o,"link",n),en(o),c.head.appendChild(o)))}}function aM(n,o){Lo.m(n,o);var l=Il;if(l&&n){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Wn(c)+'"][href="'+Wn(n)+'"]',b=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=zl(n)}if(!bi.has(b)&&(n=y({rel:"modulepreload",href:n},o),bi.set(b,n),l.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vc(b)))return}c=l.createElement("link"),lr(c,"link",n),en(c),l.head.appendChild(c)}}}function sM(n,o,l){Lo.S(n,o,l);var c=Il;if(c&&n){var m=yn(c).hoistableStyles,b=jl(n);o=o||"default";var M=m.get(b);if(!M){var z={loading:0,preload:null};if(M=c.querySelector(yc(b)))z.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":o},l),(l=bi.get(b))&&qm(n,l);var Y=M=c.createElement("link");en(Y),lr(Y,"link",n),Y._p=new Promise(function(pe,Me){Y.onload=pe,Y.onerror=Me}),Y.addEventListener("load",function(){z.loading|=1}),Y.addEventListener("error",function(){z.loading|=2}),z.loading|=4,gf(M,o,c)}M={type:"stylesheet",instance:M,count:1,state:z},m.set(b,M)}}}function lM(n,o){Lo.X(n,o);var l=Il;if(l&&n){var c=yn(l).hoistableScripts,m=zl(n),b=c.get(m);b||(b=l.querySelector(vc(m)),b||(n=y({src:n,async:!0},o),(o=bi.get(m))&&Gm(n,o),b=l.createElement("script"),en(b),lr(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function uM(n,o){Lo.M(n,o);var l=Il;if(l&&n){var c=yn(l).hoistableScripts,m=zl(n),b=c.get(m);b||(b=l.querySelector(vc(m)),b||(n=y({src:n,async:!0,type:"module"},o),(o=bi.get(m))&&Gm(n,o),b=l.createElement("script"),en(b),lr(b,"link",n),l.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},c.set(m,b))}}function Bx(n,o,l,c){var m=(m=qe.current)?mf(m):null;if(!m)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=jl(l.href),l=yn(m).hoistableStyles,c=l.get(o),c||(c={type:"style",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=jl(l.href);var b=yn(m).hoistableStyles,M=b.get(n);if(M||(m=m.ownerDocument||m,M={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(n,M),(b=m.querySelector(yc(n)))&&!b._p&&(M.instance=b,M.state.loading=5),bi.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bi.set(n,l),b||cM(m,n,l,M.state))),o&&c===null)throw Error(i(528,""));return M}if(o&&c!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=zl(l),l=yn(m).hoistableScripts,c=l.get(o),c||(c={type:"script",instance:null,count:0,state:null},l.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function jl(n){return'href="'+Wn(n)+'"'}function yc(n){return'link[rel="stylesheet"]['+n+"]"}function Ux(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function cM(n,o,l,c){n.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=n.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),lr(o,"link",l),en(o),n.head.appendChild(o))}function zl(n){return'[src="'+Wn(n)+'"]'}function vc(n){return"script[async]"+n}function $x(n,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var c=n.querySelector('style[data-href~="'+Wn(l.href)+'"]');if(c)return o.instance=c,en(c),c;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),en(c),lr(c,"style",m),gf(c,l.precedence,n),o.instance=c;case"stylesheet":m=jl(l.href);var b=n.querySelector(yc(m));if(b)return o.state.loading|=4,o.instance=b,en(b),b;c=Ux(l),(m=bi.get(m))&&qm(c,m),b=(n.ownerDocument||n).createElement("link"),en(b);var M=b;return M._p=new Promise(function(z,Y){M.onload=z,M.onerror=Y}),lr(b,"link",c),o.state.loading|=4,gf(b,l.precedence,n),o.instance=b;case"script":return b=zl(l.src),(m=n.querySelector(vc(b)))?(o.instance=m,en(m),m):(c=l,(m=bi.get(b))&&(c=y({},l),Gm(c,m)),n=n.ownerDocument||n,m=n.createElement("script"),en(m),lr(m,"link",c),n.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(c=o.instance,o.state.loading|=4,gf(c,l.precedence,n));return o.instance}function gf(n,o,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,b=m,M=0;M<c.length;M++){var z=c[M];if(z.dataset.precedence===o)b=z;else if(b!==m)break}b?b.parentNode.insertBefore(n,b.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(n,o.firstChild))}function qm(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.title==null&&(n.title=o.title)}function Gm(n,o){n.crossOrigin==null&&(n.crossOrigin=o.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=o.referrerPolicy),n.integrity==null&&(n.integrity=o.integrity)}var yf=null;function Hx(n,o,l){if(yf===null){var c=new Map,m=yf=new Map;m.set(l,c)}else m=yf,c=m.get(l),c||(c=new Map,m.set(l,c));if(c.has(n))return c;for(c.set(n,null),l=l.getElementsByTagName(n),m=0;m<l.length;m++){var b=l[m];if(!(b[Bt]||b[He]||n==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var M=b.getAttribute(o)||"";M=n+M;var z=c.get(M);z?z.push(b):c.set(M,[b])}}return c}function qx(n,o,l){n=n.ownerDocument||n,n.head.insertBefore(l,o==="title"?n.querySelector("head > title"):null)}function dM(n,o,l){if(l===1||o.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(n=o.disabled,typeof o.precedence=="string"&&n==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function Gx(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function fM(n,o,l,c){if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=jl(c.href),b=o.querySelector(yc(m));if(b){o=b._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(n.count++,n=vf.bind(n),o.then(n,n)),l.state.loading|=4,l.instance=b,en(b);return}b=o.ownerDocument||o,c=Ux(c),(m=bi.get(m))&&qm(c,m),b=b.createElement("link"),en(b);var M=b;M._p=new Promise(function(z,Y){M.onload=z,M.onerror=Y}),lr(b,"link",c),l.instance=b}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(n.count++,l=vf.bind(n),o.addEventListener("load",l),o.addEventListener("error",l))}}var Vm=0;function hM(n,o){return n.stylesheets&&n.count===0&&xf(n,n.stylesheets),0<n.count||0<n.imgCount?function(l){var c=setTimeout(function(){if(n.stylesheets&&xf(n,n.stylesheets),n.unsuspend){var b=n.unsuspend;n.unsuspend=null,b()}},6e4+o);0<n.imgBytes&&Vm===0&&(Vm=62500*YO());var m=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&xf(n,n.stylesheets),n.unsuspend)){var b=n.unsuspend;n.unsuspend=null,b()}},(n.imgBytes>Vm?50:800)+o);return n.unsuspend=l,function(){n.unsuspend=null,clearTimeout(c),clearTimeout(m)}}:null}function vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)xf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bf=null;function xf(n,o){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bf=new Map,o.forEach(pM,n),bf=null,vf.call(n))}function pM(n,o){if(!(o.state.loading&4)){var l=bf.get(n);if(l)var c=l.get(null);else{l=new Map,bf.set(n,l);for(var m=n.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var M=m[b];(M.nodeName==="LINK"||M.getAttribute("media")!=="not all")&&(l.set(M.dataset.precedence,M),c=M)}c&&l.set(null,c)}m=o.instance,M=m.getAttribute("data-precedence"),b=l.get(M)||c,b===c&&l.set(null,m),l.set(M,m),this.count++,c=vf.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),b?b.parentNode.insertBefore(m,b.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(m,n.firstChild)),o.state.loading|=4}}var bc={$$typeof:I,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function mM(n,o,l,c,m,b,M,z,Y){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=xr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xr(0),this.hiddenUpdates=xr(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=M,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Vx(n,o,l,c,m,b,M,z,Y,pe,Me,Pe){return n=new mM(n,o,l,M,Y,pe,Me,Pe,z),o=1,b===!0&&(o|=24),b=Wr(3,null,null,o),n.current=b,b.stateNode=n,o=Ep(),o.refCount++,n.pooledCache=o,o.refCount++,b.memoizedState={element:c,isDehydrated:l,cache:o},Rp(b),n}function Yx(n){return n?(n=Ir,n):Ir}function Kx(n,o,l,c,m,b){m=Yx(m),c.context===null?c.context=m:c.pendingContext=m,c=va(o),c.payload={element:l},b=b===void 0?null:b,b!==null&&(c.callback=b),l=ba(n,c,o),l!==null&&(Lr(l,n,o),Qu(l,n,o))}function Xx(n,o){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<o?l:o}}function Ym(n,o){Xx(n,o),(n=n.alternate)&&Xx(n,o)}function Wx(n){if(n.tag===13||n.tag===31){var o=vn(n,67108864);o!==null&&Lr(o,n,67108864),Ym(n,67108864)}}function Qx(n){if(n.tag===13||n.tag===31){var o=ti();o=ve(o);var l=vn(n,o);l!==null&&Lr(l,n,o),Ym(n,o)}}var wf=!0;function gM(n,o,l,c){var m=B.T;B.T=null;var b=J.p;try{J.p=2,Km(n,o,l,c)}finally{J.p=b,B.T=m}}function yM(n,o,l,c){var m=B.T;B.T=null;var b=J.p;try{J.p=8,Km(n,o,l,c)}finally{J.p=b,B.T=m}}function Km(n,o,l,c){if(wf){var m=Xm(c);if(m===null)Im(n,o,c,Sf,l),Jx(n,c);else if(bM(m,n,o,l,c))c.stopPropagation();else if(Jx(n,c),o&4&&-1<vM.indexOf(n)){for(;m!==null;){var b=at(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var M=rr(b.pendingLanes);if(M!==0){var z=b;for(z.pendingLanes|=2,z.entangledLanes|=2;M;){var Y=1<<31-Ge(M);z.entanglements[1]|=Y,M&=~Y}eo(b),($t&6)===0&&(rf=Lt()+500,hc(0))}}break;case 31:case 13:z=vn(b,2),z!==null&&Lr(z,b,2),af(),Ym(b,2)}if(b=Xm(c),b===null&&Im(n,o,c,Sf,l),b===m)break;m=b}m!==null&&c.stopPropagation()}else Im(n,o,c,null,l)}}function Xm(n){return n=Qs(n),Wm(n)}var Sf=null;function Wm(n){if(Sf=null,n=an(n),n!==null){var o=s(n);if(o===null)n=null;else{var l=o.tag;if(l===13){if(n=u(o),n!==null)return n;n=null}else if(l===31){if(n=d(o),n!==null)return n;n=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;n=null}else o!==n&&(n=null)}}return Sf=n,null}function Zx(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ht()){case qn:return 2;case lt:return 8;case wn:case Cn:return 32;case Tn:return 268435456;default:return 32}default:return 32}}var Qm=!1,Pa=null,Da=null,Aa=null,xc=new Map,wc=new Map,Na=[],vM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jx(n,o){switch(n){case"focusin":case"focusout":Pa=null;break;case"dragenter":case"dragleave":Da=null;break;case"mouseover":case"mouseout":Aa=null;break;case"pointerover":case"pointerout":xc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(o.pointerId)}}function Sc(n,o,l,c,m,b){return n===null||n.nativeEvent!==b?(n={blockedOn:o,domEventName:l,eventSystemFlags:c,nativeEvent:b,targetContainers:[m]},o!==null&&(o=at(o),o!==null&&Wx(o)),n):(n.eventSystemFlags|=c,o=n.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),n)}function bM(n,o,l,c,m){switch(o){case"focusin":return Pa=Sc(Pa,n,o,l,c,m),!0;case"dragenter":return Da=Sc(Da,n,o,l,c,m),!0;case"mouseover":return Aa=Sc(Aa,n,o,l,c,m),!0;case"pointerover":var b=m.pointerId;return xc.set(b,Sc(xc.get(b)||null,n,o,l,c,m)),!0;case"gotpointercapture":return b=m.pointerId,wc.set(b,Sc(wc.get(b)||null,n,o,l,c,m)),!0}return!1}function ew(n){var o=an(n.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){n.blockedOn=o,tt(n.priority,function(){Qx(l)});return}}else if(o===31){if(o=d(l),o!==null){n.blockedOn=o,tt(n.priority,function(){Qx(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cf(n){if(n.blockedOn!==null)return!1;for(var o=n.targetContainers;0<o.length;){var l=Xm(n.nativeEvent);if(l===null){l=n.nativeEvent;var c=new l.constructor(l.type,l);ci=c,l.target.dispatchEvent(c),ci=null}else return o=at(l),o!==null&&Wx(o),n.blockedOn=l,!1;o.shift()}return!0}function tw(n,o,l){Cf(n)&&l.delete(o)}function xM(){Qm=!1,Pa!==null&&Cf(Pa)&&(Pa=null),Da!==null&&Cf(Da)&&(Da=null),Aa!==null&&Cf(Aa)&&(Aa=null),xc.forEach(tw),wc.forEach(tw)}function _f(n,o){n.blockedOn===o&&(n.blockedOn=null,Qm||(Qm=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xM)))}var Ef=null;function nw(n){Ef!==n&&(Ef=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Ef===n&&(Ef=null);for(var o=0;o<n.length;o+=3){var l=n[o],c=n[o+1],m=n[o+2];if(typeof c!="function"){if(Wm(c||l)===null)continue;break}var b=at(l);b!==null&&(n.splice(o,3),o-=3,Xp(b,{pending:!0,data:m,method:l.method,action:c},c,m))}}))}function Fl(n){function o(Y){return _f(Y,n)}Pa!==null&&_f(Pa,n),Da!==null&&_f(Da,n),Aa!==null&&_f(Aa,n),xc.forEach(o),wc.forEach(o);for(var l=0;l<Na.length;l++){var c=Na[l];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Na.length&&(l=Na[0],l.blockedOn===null);)ew(l),l.blockedOn===null&&Na.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var m=l[c],b=l[c+1],M=m[Ke]||null;if(typeof b=="function")M||nw(l);else if(M){var z=null;if(b&&b.hasAttribute("formAction")){if(m=b,M=b[Ke]||null)z=M.formAction;else if(Wm(m)!==null)continue}else z=M.action;typeof z=="function"?l[c+1]=z:(l.splice(c,3),c-=3),nw(l)}}}function rw(){function n(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(M){return m=M})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),c||setTimeout(l,20)}function l(){if(!c&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var c=!1,m=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){c=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function Zm(n){this._internalRoot=n}Of.prototype.render=Zm.prototype.render=function(n){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,c=ti();Kx(l,c,n,o,null,null)},Of.prototype.unmount=Zm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var o=n.containerInfo;Kx(n.current,2,null,n,null,null),af(),o[Qe]=null}};function Of(n){this._internalRoot=n}Of.prototype.unstable_scheduleHydration=function(n){if(n){var o=Fe();n={blockedOn:null,target:n,priority:o};for(var l=0;l<Na.length&&o!==0&&o<Na[l].priority;l++);Na.splice(l,0,n),l===0&&ew(n)}};var iw=t.version;if(iw!=="19.2.3")throw Error(i(527,iw,"19.2.3"));J.findDOMNode=function(n){var o=n._reactInternals;if(o===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=h(o),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var wM={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mf.isDisabled&&Mf.supportsFiber)try{Pr=Mf.inject(wM),qt=Mf}catch{}}return _c.createRoot=function(n,o){if(!a(n))throw Error(i(299));var l=!1,c="",m=db,b=fb,M=hb;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(M=o.onRecoverableError)),o=Vx(n,1,!1,null,null,l,c,null,m,b,M,rw),n[Qe]=o.current,Nm(n),new Zm(o)},_c.hydrateRoot=function(n,o,l){if(!a(n))throw Error(i(299));var c=!1,m="",b=db,M=fb,z=hb,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(b=l.onUncaughtError),l.onCaughtError!==void 0&&(M=l.onCaughtError),l.onRecoverableError!==void 0&&(z=l.onRecoverableError),l.formState!==void 0&&(Y=l.formState)),o=Vx(n,1,!0,o,l??null,c,m,Y,b,M,z,rw),o.context=Yx(null),l=o.current,c=ti(),c=ve(c),m=va(c),m.callback=null,ba(l,m,c),l=c,o.current.lanes=l,wr(o,l),eo(o),n[Qe]=o.current,Nm(n),new Of(o)},_c.version="19.2.3",_c}var pw;function AM(){if(pw)return tg.exports;pw=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),tg.exports=DM(),tg.exports}var NM=AM(),no=function(){return no=Object.assign||function(t){for(var r,i=1,a=arguments.length;i<a;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},no.apply(this,arguments)};function L1(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(e);a<i.length;a++)t.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(e,i[a])&&(r[i[a]]=e[i[a]]);return r}function IM(e,t,r){if(r||arguments.length===2)for(var i=0,a=t.length,s;i<a;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))}var Vf="right-scroll-bar-position",Yf="width-before-scroll-bar",jM="with-scroll-bars-hidden",zM="--removed-body-scroll-bar-size";function og(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function FM(e,t){var r=C.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(i){var a=r.value;a!==i&&(r.value=i,r.callback(i,a))}}}})[0];return r.callback=t,r.facade}var kM=typeof window<"u"?C.useLayoutEffect:C.useEffect,mw=new WeakMap;function LM(e,t){var r=FM(null,function(i){return e.forEach(function(a){return og(a,i)})});return kM(function(){var i=mw.get(r);if(i){var a=new Set(i),s=new Set(e),u=r.current;a.forEach(function(d){s.has(d)||og(d,null)}),s.forEach(function(d){a.has(d)||og(d,u)})}mw.set(r,e)},[e]),r}function BM(e){return e}function UM(e,t){t===void 0&&(t=BM);var r=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var u=t(s,i);return r.push(u),function(){r=r.filter(function(d){return d!==u})}},assignSyncMedium:function(s){for(i=!0;r.length;){var u=r;r=[],u.forEach(s)}r={push:function(d){return s(d)},filter:function(){return r}}},assignMedium:function(s){i=!0;var u=[];if(r.length){var d=r;r=[],d.forEach(s),u=r}var f=function(){var g=u;u=[],g.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),r}}}};return a}function $M(e){e===void 0&&(e={});var t=UM(null);return t.options=no({async:!0,ssr:!1},e),t}var B1=function(e){var t=e.sideCar,r=L1(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return C.createElement(i,no({},r))};B1.isSideCarExport=!0;function HM(e,t){return e.useMedium(t),B1}var U1=$M(),ag=function(){},wh=C.forwardRef(function(e,t){var r=C.useRef(null),i=C.useState({onScrollCapture:ag,onWheelCapture:ag,onTouchMoveCapture:ag}),a=i[0],s=i[1],u=e.forwardProps,d=e.children,f=e.className,h=e.removeScrollBar,g=e.enabled,y=e.shards,x=e.sideCar,w=e.noRelative,_=e.noIsolation,E=e.inert,T=e.allowPinchZoom,N=e.as,D=N===void 0?"div":N,I=e.gapMode,F=L1(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=x,U=LM([r,t]),A=no(no({},F),a);return C.createElement(C.Fragment,null,g&&C.createElement(k,{sideCar:U1,removeScrollBar:h,shards:y,noRelative:w,noIsolation:_,inert:E,setCallbacks:s,allowPinchZoom:!!T,lockRef:r,gapMode:I}),u?C.cloneElement(C.Children.only(d),no(no({},A),{ref:U})):C.createElement(D,no({},A,{className:f,ref:U}),d))});wh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wh.classNames={fullWidth:Yf,zeroRight:Vf};var qM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function GM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=qM();return t&&e.setAttribute("nonce",t),e}function VM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function YM(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var KM=function(){var e=0,t=null;return{add:function(r){e==0&&(t=GM())&&(VM(t,r),YM(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},XM=function(){var e=KM();return function(t,r){C.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},$1=function(){var e=XM(),t=function(r){var i=r.styles,a=r.dynamic;return e(i,a),null};return t},WM={left:0,top:0,right:0,gap:0},sg=function(e){return parseInt(e||"",10)||0},QM=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[sg(r),sg(i),sg(a)]},ZM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return WM;var t=QM(e),r=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-r+t[2]-t[0])}},JM=$1(),Ql="data-scroll-locked",eT=function(e,t,r,i){var a=e.left,s=e.top,u=e.right,d=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(jM,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(Ql,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),r==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vf,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Yf,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Vf," .").concat(Vf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Yf," .").concat(Yf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(Ql,`] {
    `).concat(zM,": ").concat(d,`px;
  }
`)},gw=function(){var e=parseInt(document.body.getAttribute(Ql)||"0",10);return isFinite(e)?e:0},tT=function(){C.useEffect(function(){return document.body.setAttribute(Ql,(gw()+1).toString()),function(){var e=gw()-1;e<=0?document.body.removeAttribute(Ql):document.body.setAttribute(Ql,e.toString())}},[])},nT=function(e){var t=e.noRelative,r=e.noImportant,i=e.gapMode,a=i===void 0?"margin":i;tT();var s=C.useMemo(function(){return ZM(a)},[a]);return C.createElement(JM,{styles:eT(s,!t,a,r?"":"!important")})},Fg=!1;if(typeof window<"u")try{var Tf=Object.defineProperty({},"passive",{get:function(){return Fg=!0,!0}});window.addEventListener("test",Tf,Tf),window.removeEventListener("test",Tf,Tf)}catch{Fg=!1}var kl=Fg?{passive:!1}:!1,rT=function(e){return e.tagName==="TEXTAREA"},H1=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!rT(e)&&r[t]==="visible")},iT=function(e){return H1(e,"overflowY")},oT=function(e){return H1(e,"overflowX")},yw=function(e,t){var r=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=q1(e,i);if(a){var s=G1(e,i),u=s[1],d=s[2];if(u>d)return!0}i=i.parentNode}while(i&&i!==r.body);return!1},aT=function(e){var t=e.scrollTop,r=e.scrollHeight,i=e.clientHeight;return[t,r,i]},sT=function(e){var t=e.scrollLeft,r=e.scrollWidth,i=e.clientWidth;return[t,r,i]},q1=function(e,t){return e==="v"?iT(t):oT(t)},G1=function(e,t){return e==="v"?aT(t):sT(t)},lT=function(e,t){return e==="h"&&t==="rtl"?-1:1},uT=function(e,t,r,i,a){var s=lT(e,window.getComputedStyle(t).direction),u=s*i,d=r.target,f=t.contains(d),h=!1,g=u>0,y=0,x=0;do{if(!d)break;var w=G1(e,d),_=w[0],E=w[1],T=w[2],N=E-T-s*_;(_||N)&&q1(e,d)&&(y+=N,x+=_);var D=d.parentNode;d=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&d!==document.body||f&&(t.contains(d)||t===d));return(g&&Math.abs(y)<1||!g&&Math.abs(x)<1)&&(h=!0),h},Rf=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},vw=function(e){return[e.deltaX,e.deltaY]},bw=function(e){return e&&"current"in e?e.current:e},cT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},dT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},fT=0,Ll=[];function hT(e){var t=C.useRef([]),r=C.useRef([0,0]),i=C.useRef(),a=C.useState(fT++)[0],s=C.useState($1)[0],u=C.useRef(e);C.useEffect(function(){u.current=e},[e]),C.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var E=IM([e.lockRef.current],(e.shards||[]).map(bw),!0).filter(Boolean);return E.forEach(function(T){return T.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),E.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var d=C.useCallback(function(E,T){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var N=Rf(E),D=r.current,I="deltaX"in E?E.deltaX:D[0]-N[0],F="deltaY"in E?E.deltaY:D[1]-N[1],k,U=E.target,A=Math.abs(I)>Math.abs(F)?"h":"v";if("touches"in E&&A==="h"&&U.type==="range")return!1;var $=window.getSelection(),ae=$&&$.anchorNode,ue=ae?ae===U||ae.contains(U):!1;if(ue)return!1;var me=yw(A,U);if(!me)return!0;if(me?k=A:(k=A==="v"?"h":"v",me=yw(A,U)),!me)return!1;if(!i.current&&"changedTouches"in E&&(I||F)&&(i.current=k),!k)return!0;var de=i.current||k;return uT(de,T,E,de==="h"?I:F)},[]),f=C.useCallback(function(E){var T=E;if(!(!Ll.length||Ll[Ll.length-1]!==s)){var N="deltaY"in T?vw(T):Rf(T),D=t.current.filter(function(k){return k.name===T.type&&(k.target===T.target||T.target===k.shadowParent)&&cT(k.delta,N)})[0];if(D&&D.should){T.cancelable&&T.preventDefault();return}if(!D){var I=(u.current.shards||[]).map(bw).filter(Boolean).filter(function(k){return k.contains(T.target)}),F=I.length>0?d(T,I[0]):!u.current.noIsolation;F&&T.cancelable&&T.preventDefault()}}},[]),h=C.useCallback(function(E,T,N,D){var I={name:E,delta:T,target:N,should:D,shadowParent:pT(N)};t.current.push(I),setTimeout(function(){t.current=t.current.filter(function(F){return F!==I})},1)},[]),g=C.useCallback(function(E){r.current=Rf(E),i.current=void 0},[]),y=C.useCallback(function(E){h(E.type,vw(E),E.target,d(E,e.lockRef.current))},[]),x=C.useCallback(function(E){h(E.type,Rf(E),E.target,d(E,e.lockRef.current))},[]);C.useEffect(function(){return Ll.push(s),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:x}),document.addEventListener("wheel",f,kl),document.addEventListener("touchmove",f,kl),document.addEventListener("touchstart",g,kl),function(){Ll=Ll.filter(function(E){return E!==s}),document.removeEventListener("wheel",f,kl),document.removeEventListener("touchmove",f,kl),document.removeEventListener("touchstart",g,kl)}},[]);var w=e.removeScrollBar,_=e.inert;return C.createElement(C.Fragment,null,_?C.createElement(s,{styles:dT(a)}):null,w?C.createElement(nT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function pT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mT=HM(U1,hT);var Is=C.forwardRef(function(e,t){return C.createElement(wh,no({},e,{ref:t,sideCar:mT}))});Is.classNames=wh.classNames;function cr(e){return Object.keys(e)}function lg(e){return e&&typeof e=="object"&&!Array.isArray(e)}function Ey(e,t){const r={...e},i=t;return lg(e)&&lg(t)&&Object.keys(t).forEach(a=>{lg(i[a])&&a in e?r[a]=Ey(r[a],i[a]):r[a]=i[a]}),r}function gT(e){return e.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}function yT(e){return typeof e!="string"||!e.includes("var(--mantine-scale)")?e:e.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function kg(e){const t=yT(e);return typeof t=="number"?t:typeof t=="string"?t.includes("calc")||t.includes("var")?t:t.includes("px")?Number(t.replace("px","")):t.includes("rem")?Number(t.replace("rem",""))*16:t.includes("em")?Number(t.replace("em",""))*16:Number(t):NaN}function xw(e){return e==="0rem"?"0rem":`calc(${e} * var(--mantine-scale))`}function V1(e,{shouldScale:t=!1}={}){function r(i){if(i===0||i==="0")return`0${e}`;if(typeof i=="number"){const a=`${i/16}${e}`;return t?xw(a):a}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(s=>r(s)).join(",");if(i.includes(" "))return i.split(" ").map(s=>r(s)).join(" ");const a=i.replace("px","");if(!Number.isNaN(Number(a))){const s=`${Number(a)/16}${e}`;return t?xw(s):s}}return i}return r}const Ee=V1("rem",{shouldScale:!0}),nh=V1("em");function Oy(e){return Object.keys(e).reduce((t,r)=>(e[r]!==void 0&&(t[r]=e[r]),t),{})}function Y1(e){if(typeof e=="number")return!0;if(typeof e=="string"){if(e.startsWith("calc(")||e.startsWith("var(")||e.includes(" ")&&e.trim()!=="")return!0;const t=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return e.trim().split(/\s+/).every(i=>t.test(i))}return!1}function K1(e){return Array.isArray(e)||e===null?!1:typeof e=="object"?e.type!==C.Fragment:!1}function fo(e){const t=C.createContext(null);return[({children:a,value:s})=>R.jsx(t.Provider,{value:s,children:a}),()=>{const a=C.useContext(t);if(a===null)throw new Error(e);return a}]}function fu(e=null){const t=C.createContext(e);return[({children:a,value:s})=>R.jsx(t.Provider,{value:s,children:a}),()=>C.useContext(t)]}function ww(e,t){return r=>{if(typeof r!="string"||r.trim().length===0)throw new Error(t);return`${e}-${r}`}}function Lg(e,t){let r=e;for(;(r=r.parentElement)&&!r.matches(t););return r}function vT(e,t,r){for(let i=e-1;i>=0;i-=1)if(!t[i].disabled)return i;if(r){for(let i=t.length-1;i>-1;i-=1)if(!t[i].disabled)return i}return e}function bT(e,t,r){for(let i=e+1;i<t.length;i+=1)if(!t[i].disabled)return i;if(r){for(let i=0;i<t.length;i+=1)if(!t[i].disabled)return i}return e}function xT(e,t,r){return Lg(e,r)===Lg(t,r)}function wT({parentSelector:e,siblingSelector:t,onKeyDown:r,loop:i=!0,activateOnFocus:a=!1,dir:s="rtl",orientation:u}){return d=>{r?.(d);const f=Array.from(Lg(d.currentTarget,e)?.querySelectorAll(t)||[]).filter(x=>xT(d.currentTarget,x,e)),h=f.findIndex(x=>d.currentTarget===x),g=bT(h,f,i),y=vT(h,f,i);switch(d.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{d.stopPropagation(),d.preventDefault(),f[y].focus(),a&&f[y].click();break}case"ArrowDown":{d.stopPropagation(),d.preventDefault(),f[g].focus(),a&&f[g].click();break}case"Home":{d.stopPropagation(),d.preventDefault(),!f[0].disabled&&f[0].focus();break}case"End":{d.stopPropagation(),d.preventDefault();const x=f.length-1;!f[x].disabled&&f[x].focus();break}}}}const ST={app:100,modal:200,popover:300,overlay:400,max:9999};function Hi(e){return ST[e]}const CT=()=>{};function _T(e,t={active:!0}){return typeof e!="function"||!t.active?t.onKeyDown||CT:r=>{r.key==="Escape"&&(e(r),t.onTrigger?.())}}function Ft(e,t="size",r=!0){if(e!==void 0)return Y1(e)?r?Ee(e):e:`var(--${t}-${e})`}function hu(e){return Ft(e,"mantine-spacing")}function $n(e){return e===void 0?"var(--mantine-radius-default)":Ft(e,"mantine-radius")}function vr(e){return Ft(e,"mantine-font-size")}function ET(e){return Ft(e,"mantine-line-height",!1)}function My(e){if(e)return Ft(e,"mantine-shadow",!1)}function Ty(e,t){return e in t?kg(t[e]):kg(e)}function Sw(e,t){const r=e.map(i=>({value:i,px:Ty(i,t)}));return r.sort((i,a)=>i.px-a.px),r}function X1(e="mantine-"){return`${e}${Math.random().toString(36).slice(2,11)}`}function Ms(e){const t=C.useRef(e);return C.useEffect(()=>{t.current=e}),C.useMemo(()=>((...r)=>t.current?.(...r)),[])}function Sh(e,t){const{delay:r,flushOnUnmount:i,leading:a}=typeof t=="number"?{delay:t,flushOnUnmount:!1,leading:!1}:t,s=Ms(e),u=C.useRef(0),d=C.useMemo(()=>{const f=Object.assign((...h)=>{window.clearTimeout(u.current);const g=f._isFirstCall;f._isFirstCall=!1;function y(){window.clearTimeout(u.current),u.current=0,f._isFirstCall=!0}if(a&&g){s(...h);const _=()=>{y()},E=()=>{u.current!==0&&(y(),s(...h))},T=()=>{y()};f.flush=E,f.cancel=T,u.current=window.setTimeout(_,r);return}if(a&&!g){const _=()=>{u.current!==0&&(y(),s(...h))},E=()=>{y()};f.flush=_,f.cancel=E;const T=()=>{y()};u.current=window.setTimeout(T,r);return}const x=()=>{u.current!==0&&(y(),s(...h))},w=()=>{y()};f.flush=x,f.cancel=w,u.current=window.setTimeout(x,r)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return f},[s,r,a]);return C.useEffect(()=>()=>{i?d.flush():d.cancel()},[d,i]),d}const OT=["mousedown","touchstart"];function MT(e,t,r){const i=C.useRef(null),a=t||OT;return C.useEffect(()=>{const s=u=>{const{target:d}=u??{};if(Array.isArray(r)){const f=!document.body.contains(d)&&d?.tagName!=="HTML";r.every(g=>!!g&&!u.composedPath().includes(g))&&!f&&e(u)}else i.current&&!i.current.contains(d)&&e(u)};return a.forEach(u=>document.addEventListener(u,s)),()=>{a.forEach(u=>document.removeEventListener(u,s))}},[i,e,r]),i}function TT(e,t){try{return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}catch{return e.addListener(t),()=>e.removeListener(t)}}function RT(e,t){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(e).matches:!1}function PT(e,t,{getInitialValueInEffect:r}={getInitialValueInEffect:!0}){const[i,a]=C.useState(r?t:RT(e));return C.useEffect(()=>{try{const s=window.matchMedia(e);return a(s.matches),TT(s,u=>a(u.matches))}catch{return}},[e]),i||!1}const Ka=typeof document<"u"?C.useLayoutEffect:C.useEffect;function js(e,t){const r=C.useRef(!1);C.useEffect(()=>()=>{r.current=!1},[]),C.useEffect(()=>{if(r.current)return e();r.current=!0},t)}function W1({opened:e,shouldReturnFocus:t=!0}){const r=C.useRef(null),i=()=>{r.current&&"focus"in r.current&&typeof r.current.focus=="function"&&r.current?.focus({preventScroll:!0})};return js(()=>{let a=-1;const s=u=>{u.key==="Tab"&&window.clearTimeout(a)};return document.addEventListener("keydown",s),e?r.current=document.activeElement:t&&(a=window.setTimeout(i,10)),()=>{window.clearTimeout(a),document.removeEventListener("keydown",s)}},[e,t]),i}const DT=/input|select|textarea|button|object/,Q1="a, input, select, textarea, button, object, [tabindex]";function AT(e){return e.style.display==="none"}function NT(e){if(e.getAttribute("aria-hidden")||e.getAttribute("hidden")||e.getAttribute("type")==="hidden")return!1;let r=e;for(;r&&!(r===document.body||r.nodeType===11);){if(AT(r))return!1;r=r.parentNode}return!0}function Z1(e){let t=e.getAttribute("tabindex");return t===null&&(t=void 0),parseInt(t,10)}function Bg(e){const t=e.nodeName.toLowerCase(),r=!Number.isNaN(Z1(e));return(DT.test(t)&&!e.disabled||e instanceof HTMLAnchorElement&&e.href||r)&&NT(e)}function J1(e){const t=Z1(e);return(Number.isNaN(t)||t>=0)&&Bg(e)}function IT(e){return Array.from(e.querySelectorAll(Q1)).filter(J1)}function jT(e,t){const r=IT(e);if(!r.length){t.preventDefault();return}const i=r[t.shiftKey?0:r.length-1],a=e.getRootNode();let s=i===a.activeElement||e===a.activeElement;const u=a.activeElement;if(u.tagName==="INPUT"&&u.getAttribute("type")==="radio"&&(s=r.filter(g=>g.getAttribute("type")==="radio"&&g.getAttribute("name")===u.getAttribute("name")).includes(i)),!s)return;t.preventDefault();const f=r[t.shiftKey?r.length-1:0];f&&f.focus()}function zT(e=!0){const t=C.useRef(null),r=a=>{let s=a.querySelector("[data-autofocus]");if(!s){const u=Array.from(a.querySelectorAll(Q1));s=u.find(J1)||u.find(Bg)||null,!s&&Bg(a)&&(s=a)}s&&s.focus({preventScroll:!0})},i=C.useCallback(a=>{e&&a!==null&&t.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&r(a)}),t.current=a):t.current=null)},[e]);return C.useEffect(()=>{if(!e)return;t.current&&setTimeout(()=>r(t.current));const a=s=>{s.key==="Tab"&&t.current&&jT(t.current,s)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[e]),i}const FT=e=>(e+1)%1e6;function kT(){const[,e]=C.useReducer(FT,0);return e}const LT=Yn.useId||(()=>{});function BT(){const e=LT();return e?`mantine-${e.replace(/:/g,"")}`:""}function Oi(e){const t=BT(),[r,i]=C.useState(t);return Ka(()=>{i(X1())},[]),typeof e=="string"?e:typeof window>"u"?t:r}function rh(e,t,r){C.useEffect(()=>(window.addEventListener(e,t,r),()=>window.removeEventListener(e,t,r)),[e,t])}function Ug(e,t){if(typeof e=="function")return e(t);typeof e=="object"&&e!==null&&"current"in e&&(e.current=t)}function eC(...e){const t=new Map;return r=>{if(e.forEach(i=>{const a=Ug(i,r);a&&t.set(i,a)}),t.size>0)return()=>{e.forEach(i=>{const a=t.get(i);a&&typeof a=="function"?a():Ug(i,null)}),t.clear()}}}function Gr(...e){return C.useCallback(eC(...e),e)}function qa({value:e,defaultValue:t,finalValue:r,onChange:i=()=>{}}){const[a,s]=C.useState(t!==void 0?t:r),u=(d,...f)=>{s(d),i?.(d,...f)};return e!==void 0?[e,i,!0]:[a,u,!1]}function Ch(e,t){return PT("(prefers-reduced-motion: reduce)",e,t)}function tC(e=!1,t={}){const[r,i]=C.useState(e),a=C.useCallback(()=>{i(d=>d||(t.onOpen?.(),!0))},[t.onOpen]),s=C.useCallback(()=>{i(d=>d&&(t.onClose?.(),!1))},[t.onClose]),u=C.useCallback(()=>{r?s():a()},[s,a,r]);return[r,{open:a,close:s,toggle:u}]}function Pf(){if(typeof navigator>"u")return{};const e=navigator,t=e.connection||e.mozConnection||e.webkitConnection;return t?{downlink:t?.downlink,downlinkMax:t?.downlinkMax,effectiveType:t?.effectiveType,rtt:t?.rtt,saveData:t?.saveData,type:t?.type}:{}}function UT(){const[e,t]=C.useState({online:!0}),r=C.useCallback(()=>t(i=>({...i,...Pf()})),[]);return rh("online",()=>t({online:!0,...Pf()})),rh("offline",()=>t({online:!1,...Pf()})),C.useEffect(()=>{const i=navigator;if(i.connection)return t({online:i.onLine,...Pf()}),i.connection.addEventListener("change",r),()=>i.connection.removeEventListener("change",r);typeof i.onLine=="boolean"&&t(a=>({...a,online:i.onLine}))},[]),e}function $T(e){const t=C.useRef(void 0);return C.useEffect(()=>{t.current=e},[e]),t.current}function HT(e,t,r){const i=C.useRef(null),a=C.useRef(null);return C.useEffect(()=>{const s=typeof r=="function"?r():r;return(s||a.current)&&(i.current=new MutationObserver(e),i.current.observe(s||a.current,t)),()=>{i.current?.disconnect()}},[e,t]),a}function _h(e){const t=Yn.version;return typeof Yn.version!="string"||t.startsWith("18.")?e?.ref:e?.props?.ref}function Kf(e,t=document){const r=t.querySelector(e);if(r)return r;const i=t.querySelectorAll("*");for(let a=0;a<i.length;a+=1){const s=i[a];if(s.shadowRoot){const u=Kf(e,s.shadowRoot);if(u)return u}}return null}function za(e,t=document){const r=[],i=t.querySelectorAll(e);r.push(...Array.from(i));const a=t.querySelectorAll("*");for(let s=0;s<a.length;s+=1){const u=a[s];if(u.shadowRoot){const d=za(e,u.shadowRoot);r.push(...d)}}return r}function ja(e){if(!e)return document;const t=e.getRootNode();return t instanceof ShadowRoot||t instanceof Document?t:document}function pu(e){const t=C.Children.toArray(e);return t.length!==1||!K1(t[0])?null:t[0]}function nC(e){var t,r,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=nC(e[t]))&&(i&&(i+=" "),i+=r)}else for(r in e)e[r]&&(i&&(i+=" "),i+=r);return i}function Bn(){for(var e,t,r=0,i="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=nC(e))&&(i&&(i+=" "),i+=t);return i}const qT={};function GT(e){const t={};return e.forEach(r=>{Object.entries(r).forEach(([i,a])=>{t[i]?t[i]=Bn(t[i],a):t[i]=a})}),t}function Eh({theme:e,classNames:t,props:r,stylesCtx:i}){const s=(Array.isArray(t)?t:[t]).map(u=>typeof u=="function"?u(e,r,i):u||qT);return GT(s)}function ih({theme:e,styles:t,props:r,stylesCtx:i}){return(Array.isArray(t)?t:[t]).reduce((s,u)=>typeof u=="function"?{...s,...u(e,r,i)}:{...s,...u},{})}const rC=C.createContext(null);function Ko(){const e=C.useContext(rC);if(!e)throw new Error("[@mantine/core] MantineProvider was not found in tree");return e}function VT(){return Ko().cssVariablesResolver}function YT(){return Ko().classNamesPrefix}function Ry(){return Ko().getStyleNonce}function KT(){return Ko().withStaticClasses}function XT(){return Ko().headless}function WT(){return Ko().stylesTransform?.sx}function QT(){return Ko().stylesTransform?.styles}function Oh(){return Ko().env||"default"}function ZT(e){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(e)}function JT(e){let t=e.replace("#","");if(t.length===3){const u=t.split("");t=[u[0],u[0],u[1],u[1],u[2],u[2]].join("")}if(t.length===8){const u=parseInt(t.slice(6,8),16)/255;return{r:parseInt(t.slice(0,2),16),g:parseInt(t.slice(2,4),16),b:parseInt(t.slice(4,6),16),a:u}}const r=parseInt(t,16),i=r>>16&255,a=r>>8&255,s=r&255;return{r:i,g:a,b:s,a:1}}function eR(e){const[t,r,i,a]=e.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:t,g:r,b:i,a:a===void 0?1:a}}function tR(e){const t=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,r=e.match(t);if(!r)return{r:0,g:0,b:0,a:1};const i=parseInt(r[1],10),a=parseInt(r[2],10)/100,s=parseInt(r[3],10)/100,u=r[5]?parseFloat(r[5]):void 0,d=(1-Math.abs(2*s-1))*a,f=i/60,h=d*(1-Math.abs(f%2-1)),g=s-d/2;let y,x,w;return f>=0&&f<1?(y=d,x=h,w=0):f>=1&&f<2?(y=h,x=d,w=0):f>=2&&f<3?(y=0,x=d,w=h):f>=3&&f<4?(y=0,x=h,w=d):f>=4&&f<5?(y=h,x=0,w=d):(y=d,x=0,w=h),{r:Math.round((y+g)*255),g:Math.round((x+g)*255),b:Math.round((w+g)*255),a:u||1}}function Py(e){return ZT(e)?JT(e):e.startsWith("rgb")?eR(e):e.startsWith("hsl")?tR(e):{r:0,g:0,b:0,a:1}}function Df(e,t){if(e.startsWith("var("))return`color-mix(in srgb, ${e}, black ${t*100}%)`;const{r,g:i,b:a,a:s}=Py(e),u=1-t,d=f=>Math.round(f*u);return`rgba(${d(r)}, ${d(i)}, ${d(a)}, ${s})`}function Gc(e,t){return typeof e.primaryShade=="number"?e.primaryShade:t==="dark"?e.primaryShade.dark:e.primaryShade.light}function ug(e){return e<=.03928?e/12.92:((e+.055)/1.055)**2.4}function nR(e){const t=e.match(/oklch\((.*?)%\s/);return t?parseFloat(t[1]):null}function rR(e){if(e.startsWith("oklch("))return(nR(e)||0)/100;const{r:t,g:r,b:i}=Py(e),a=t/255,s=r/255,u=i/255,d=ug(a),f=ug(s),h=ug(u);return .2126*d+.7152*f+.0722*h}function Ec(e,t=.179){return e.startsWith("var(")?!1:rR(e)>t}function Ls({color:e,theme:t,colorScheme:r}){if(typeof e!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof e}`);if(e==="bright")return{color:e,value:r==="dark"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ec(r==="dark"?t.white:t.black,t.luminanceThreshold),variable:"--mantine-color-bright"};if(e==="dimmed")return{color:e,value:r==="dark"?t.colors.dark[2]:t.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Ec(r==="dark"?t.colors.dark[2]:t.colors.gray[6],t.luminanceThreshold),variable:"--mantine-color-dimmed"};if(e==="white"||e==="black")return{color:e,value:e==="white"?t.white:t.black,shade:void 0,isThemeColor:!1,isLight:Ec(e==="white"?t.white:t.black,t.luminanceThreshold),variable:`--mantine-color-${e}`};const[i,a]=e.split("."),s=a?Number(a):void 0,u=i in t.colors;if(u){const d=s!==void 0?t.colors[i][s]:t.colors[i][Gc(t,r||"light")];return{color:i,value:d,shade:s,isThemeColor:u,isLight:Ec(d,t.luminanceThreshold),variable:a?`--mantine-color-${i}-${s}`:`--mantine-color-${i}-filled`}}return{color:e,value:e,isThemeColor:u,isLight:Ec(e,t.luminanceThreshold),shade:s,variable:void 0}}function Ci(e,t){const r=Ls({color:e||t.primaryColor,theme:t});return r.variable?`var(${r.variable})`:e}function $g(e,t){const r={from:e?.from||t.defaultGradient.from,to:e?.to||t.defaultGradient.to,deg:e?.deg??t.defaultGradient.deg??0},i=Ci(r.from,t),a=Ci(r.to,t);return`linear-gradient(${r.deg}deg, ${i} 0%, ${a} 100%)`}function to(e,t){if(typeof e!="string"||t>1||t<0)return"rgba(0, 0, 0, 1)";if(e.startsWith("var(")){const s=(1-t)*100;return`color-mix(in srgb, ${e}, transparent ${s}%)`}if(e.startsWith("oklch"))return e.includes("/")?e.replace(/\/\s*[\d.]+\s*\)/,`/ ${t})`):e.replace(")",` / ${t})`);const{r,g:i,b:a}=Py(e);return`rgba(${r}, ${i}, ${a}, ${t})`}const Bl=to,iR=({color:e,theme:t,variant:r,gradient:i,autoContrast:a})=>{const s=Ls({color:e,theme:t}),u=typeof a=="boolean"?a:t.autoContrast;if(r==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(r==="filled"){const d=u&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${e}-filled)`,hover:`var(--mantine-color-${e}-filled-hover)`,color:d,border:`${Ee(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:d,border:`${Ee(1)} solid transparent`}:{background:e,hover:Df(e,.1),color:d,border:`${Ee(1)} solid transparent`}}if(r==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${e}-light)`,hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ee(1)} solid transparent`};const d=t.colors[s.color][s.shade];return{background:to(d,.1),hover:to(d,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ee(1)} solid transparent`}}return{background:to(e,.1),hover:to(e,.12),color:e,border:`${Ee(1)} solid transparent`}}if(r==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${e}-outline-hover)`,color:`var(--mantine-color-${e}-outline)`,border:`${Ee(1)} solid var(--mantine-color-${e}-outline)`}:{background:"transparent",hover:to(t.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Ee(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:to(e,.05),color:e,border:`${Ee(1)} solid ${e}`};if(r==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${e}-light-hover)`,color:`var(--mantine-color-${e}-light-color)`,border:`${Ee(1)} solid transparent`};const d=t.colors[s.color][s.shade];return{background:"transparent",hover:to(d,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ee(1)} solid transparent`}}return{background:"transparent",hover:to(e,.12),color:e,border:`${Ee(1)} solid transparent`}}return r==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${e}-light-color)`,border:`${Ee(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${Ee(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:e,border:`${Ee(1)} solid transparent`}:r==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:Df(t.white,.01),color:`var(--mantine-color-${e}-filled)`,border:`${Ee(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Df(t.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${Ee(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Df(t.white,.01),color:e,border:`${Ee(1)} solid transparent`}:r==="gradient"?{background:$g(i,t),hover:$g(i,t),color:"var(--mantine-color-white)",border:"none"}:r==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${Ee(1)} solid var(--mantine-color-default-border)`}:{}},oR={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Cw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Dy={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:oR,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:iR,autoContrast:!1,luminanceThreshold:.3,fontFamily:Cw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Cw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:Ee(34),lineHeight:"1.3"},h2:{fontSize:Ee(26),lineHeight:"1.35"},h3:{fontSize:Ee(22),lineHeight:"1.4"},h4:{fontSize:Ee(18),lineHeight:"1.45"},h5:{fontSize:Ee(16),lineHeight:"1.5"},h6:{fontSize:Ee(14),lineHeight:"1.5"}}},fontSizes:{xs:Ee(12),sm:Ee(14),md:Ee(16),lg:Ee(18),xl:Ee(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:Ee(2),sm:Ee(4),md:Ee(8),lg:Ee(16),xl:Ee(32)},spacing:{xs:Ee(10),sm:Ee(12),md:Ee(16),lg:Ee(20),xl:Ee(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${Ee(1)} ${Ee(3)} rgba(0, 0, 0, 0.05), 0 ${Ee(1)} ${Ee(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${Ee(1)} ${Ee(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ee(10)} ${Ee(15)} ${Ee(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ee(7)} ${Ee(7)} ${Ee(-5)}`,md:`0 ${Ee(1)} ${Ee(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ee(20)} ${Ee(25)} ${Ee(-5)}, rgba(0, 0, 0, 0.04) 0 ${Ee(10)} ${Ee(10)} ${Ee(-5)}`,lg:`0 ${Ee(1)} ${Ee(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ee(28)} ${Ee(23)} ${Ee(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ee(12)} ${Ee(12)} ${Ee(-7)}`,xl:`0 ${Ee(1)} ${Ee(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${Ee(36)} ${Ee(28)} ${Ee(-7)}, rgba(0, 0, 0, 0.04) 0 ${Ee(17)} ${Ee(17)} ${Ee(-7)}`},other:{},components:{}};function _w(e){return e==="auto"||e==="dark"||e==="light"}function aR({key:e="mantine-color-scheme-value"}={}){let t;return{get:r=>{if(typeof window>"u")return r;try{const i=window.localStorage.getItem(e);return _w(i)?i:r}catch{return r}},set:r=>{try{window.localStorage.setItem(e,r)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:r=>{t=i=>{i.storageArea===window.localStorage&&i.key===e&&_w(i.newValue)&&r(i.newValue)},window.addEventListener("storage",t)},unsubscribe:()=>{window.removeEventListener("storage",t)},clear:()=>{window.localStorage.removeItem(e)}}}const sR="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Ew="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function cg(e){return e<0||e>9?!1:parseInt(e.toString(),10)===e}function Ow(e){if(!(e.primaryColor in e.colors))throw new Error(sR);if(typeof e.primaryShade=="object"&&(!cg(e.primaryShade.dark)||!cg(e.primaryShade.light)))throw new Error(Ew);if(typeof e.primaryShade=="number"&&!cg(e.primaryShade))throw new Error(Ew)}function lR(e,t){if(!t)return Ow(e),e;const r=Ey(e,t);return t.fontFamily&&!t.headings?.fontFamily&&(r.headings.fontFamily=t.fontFamily),Ow(r),r}const Ay=C.createContext(null),uR=()=>C.useContext(Ay)||Dy;function si(){const e=C.useContext(Ay);if(!e)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return e}function iC({theme:e,children:t,inherit:r=!0}){const i=uR(),a=C.useMemo(()=>lR(r?i:Dy,e),[e,i,r]);return R.jsx(Ay.Provider,{value:a,children:t})}iC.displayName="@mantine/core/MantineThemeProvider";function cR(){const e=si(),t=Ry(),r=cr(e.breakpoints).reduce((i,a)=>{const s=e.breakpoints[a].includes("px"),u=kg(e.breakpoints[a]),d=s?`${u-.1}px`:nh(u-.1),f=s?`${u}px`:nh(u);return`${i}@media (max-width: ${d}) {.mantine-visible-from-${a} {display: none !important;}}@media (min-width: ${f}) {.mantine-hidden-from-${a} {display: none !important;}}`},"");return R.jsx("style",{"data-mantine-styles":"classes",nonce:t?.(),dangerouslySetInnerHTML:{__html:r}})}function dg(e){return Object.entries(e).map(([t,r])=>`${t}: ${r};`).join("")}function oC(e,t){const r=t?[t]:[":root",":host"],i=dg(e.variables),a=i?`${r.join(", ")}{${i}}`:"",s=dg(e.dark),u=dg(e.light),d=g=>r.map(y=>y===":host"?`${y}([data-mantine-color-scheme="${g}"])`:`${y}[data-mantine-color-scheme="${g}"]`).join(", "),f=s?`${d("dark")}{${s}}`:"",h=u?`${d("light")}{${u}}`:"";return`${a}

${f}

${h}`}function Ny({color:e,theme:t,autoContrast:r}){return(typeof r=="boolean"?r:t.autoContrast)&&Ls({color:e||t.primaryColor,theme:t}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Mw(e,t){return Ny({color:e.colors[e.primaryColor][Gc(e,t)],theme:e,autoContrast:null})}function Af({theme:e,color:t,colorScheme:r,name:i=t,withColorValues:a=!0}){if(!e.colors[t])return{};if(r==="light"){const d=Gc(e,"light"),f={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${d})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${d===9?8:d+1})`,[`--mantine-color-${i}-light`]:Bl(e.colors[t][d],.1),[`--mantine-color-${i}-light-hover`]:Bl(e.colors[t][d],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${d})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${d})`,[`--mantine-color-${i}-outline-hover`]:Bl(e.colors[t][d],.05)};return a?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...f}:f}const s=Gc(e,"dark"),u={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${s===9?8:s+1})`,[`--mantine-color-${i}-light`]:Bl(e.colors[t][Math.max(0,s-2)],.15),[`--mantine-color-${i}-light-hover`]:Bl(e.colors[t][Math.max(0,s-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(s-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(s-4,0)})`,[`--mantine-color-${i}-outline-hover`]:Bl(e.colors[t][Math.max(s-4,0)],.05)};return a?{[`--mantine-color-${i}-0`]:e.colors[t][0],[`--mantine-color-${i}-1`]:e.colors[t][1],[`--mantine-color-${i}-2`]:e.colors[t][2],[`--mantine-color-${i}-3`]:e.colors[t][3],[`--mantine-color-${i}-4`]:e.colors[t][4],[`--mantine-color-${i}-5`]:e.colors[t][5],[`--mantine-color-${i}-6`]:e.colors[t][6],[`--mantine-color-${i}-7`]:e.colors[t][7],[`--mantine-color-${i}-8`]:e.colors[t][8],[`--mantine-color-${i}-9`]:e.colors[t][9],...u}:u}function dR(e){return!!e&&typeof e=="object"&&"mantine-virtual-color"in e}function Ul(e,t,r){cr(t).forEach(i=>Object.assign(e,{[`--mantine-${r}-${i}`]:t[i]}))}const aC=e=>{const t=Gc(e,"light"),r=e.defaultRadius in e.radius?e.radius[e.defaultRadius]:Ee(e.defaultRadius),i={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":e.scale.toString(),"--mantine-cursor-type":e.cursorType,"--mantine-webkit-font-smoothing":e.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":e.fontSmoothing?"grayscale":"unset","--mantine-color-white":e.white,"--mantine-color-black":e.black,"--mantine-line-height":e.lineHeights.md,"--mantine-font-family":e.fontFamily,"--mantine-font-family-monospace":e.fontFamilyMonospace,"--mantine-font-family-headings":e.headings.fontFamily,"--mantine-heading-font-weight":e.headings.fontWeight,"--mantine-heading-text-wrap":e.headings.textWrap,"--mantine-radius-default":r,"--mantine-primary-color-filled":`var(--mantine-color-${e.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${e.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${e.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${e.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${e.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":Mw(e,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":e.black,"--mantine-color-body":e.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-${t})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":Mw(e,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${e.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Ul(i.variables,e.breakpoints,"breakpoint"),Ul(i.variables,e.spacing,"spacing"),Ul(i.variables,e.fontSizes,"font-size"),Ul(i.variables,e.lineHeights,"line-height"),Ul(i.variables,e.shadows,"shadow"),Ul(i.variables,e.radius,"radius"),e.colors[e.primaryColor].forEach((s,u)=>{i.variables[`--mantine-primary-color-${u}`]=`var(--mantine-color-${e.primaryColor}-${u})`}),cr(e.colors).forEach(s=>{const u=e.colors[s];if(dR(u)){Object.assign(i.light,Af({theme:e,name:u.name,color:u.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,Af({theme:e,name:u.name,color:u.dark,colorScheme:"dark",withColorValues:!0}));return}u.forEach((d,f)=>{i.variables[`--mantine-color-${s}-${f}`]=d}),Object.assign(i.light,Af({theme:e,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,Af({theme:e,color:s,colorScheme:"dark",withColorValues:!1}))});const a=e.headings.sizes;return cr(a).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=a[s].fontSize,i.variables[`--mantine-${s}-line-height`]=a[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=a[s].fontWeight||e.headings.fontWeight}),i};function fR({theme:e,generator:t}){const r=aC(e),i=t?.(e);return i?Ey(r,i):r}const fg=aC(Dy);function hR(e){const t={variables:{},light:{},dark:{}};return cr(e.variables).forEach(r=>{fg.variables[r]!==e.variables[r]&&(t.variables[r]=e.variables[r])}),cr(e.light).forEach(r=>{fg.light[r]!==e.light[r]&&(t.light[r]=e.light[r])}),cr(e.dark).forEach(r=>{fg.dark[r]!==e.dark[r]&&(t.dark[r]=e.dark[r])}),t}function pR(e){return oC({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},e)}function sC({cssVariablesSelector:e,deduplicateCssVariables:t}){const r=si(),i=Ry(),a=VT(),s=fR({theme:r,generator:a}),u=(e===void 0||e===":root"||e===":host")&&t,d=u?hR(s):s,f=oC(d,e);return f?R.jsx("style",{"data-mantine-styles":!0,nonce:i?.(),dangerouslySetInnerHTML:{__html:`${f}${u?"":pR(e)}`}}):null}sC.displayName="@mantine/CssVariables";function $l(e,t){const r=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,i=e!=="auto"?e:r?"dark":"light";t()?.setAttribute("data-mantine-color-scheme",i)}function mR({manager:e,defaultColorScheme:t,getRootElement:r,forceColorScheme:i}){const a=C.useRef(null),[s,u]=C.useState(()=>e.get(t)),d=i||s,f=C.useCallback(g=>{i||($l(g,r),u(g),e.set(g))},[e.set,d,i]),h=C.useCallback(()=>{u(t),$l(t,r),e.clear()},[e.clear,t]);return C.useEffect(()=>(e.subscribe(f),e.unsubscribe),[e.subscribe,e.unsubscribe]),Ka(()=>{$l(e.get(t),r)},[]),C.useEffect(()=>{if(i)return $l(i,r),()=>{};i===void 0&&$l(s,r),typeof window<"u"&&"matchMedia"in window&&(a.current=window.matchMedia("(prefers-color-scheme: dark)"));const g=y=>{s==="auto"&&$l(y.matches?"dark":"light",r)};return a.current?.addEventListener("change",g),()=>a.current?.removeEventListener("change",g)},[s,i]),{colorScheme:d,setColorScheme:f,clearColorScheme:h}}function gR({respectReducedMotion:e,getRootElement:t}){Ka(()=>{e&&t()?.setAttribute("data-respect-reduced-motion","true")},[e])}function lC({theme:e,children:t,getStyleNonce:r,withStaticClasses:i=!0,withGlobalClasses:a=!0,deduplicateCssVariables:s=!0,withCssVariables:u=!0,cssVariablesSelector:d,classNamesPrefix:f="mantine",colorSchemeManager:h=aR(),defaultColorScheme:g="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:x,forceColorScheme:w,stylesTransform:_,env:E}){const{colorScheme:T,setColorScheme:N,clearColorScheme:D}=mR({defaultColorScheme:g,forceColorScheme:w,manager:h,getRootElement:y});return gR({respectReducedMotion:e?.respectReducedMotion||!1,getRootElement:y}),R.jsx(rC.Provider,{value:{colorScheme:T,setColorScheme:N,clearColorScheme:D,getRootElement:y,classNamesPrefix:f,getStyleNonce:r,cssVariablesResolver:x,cssVariablesSelector:d??":root",withStaticClasses:i,stylesTransform:_,env:E},children:R.jsxs(iC,{theme:e,children:[u&&R.jsx(sC,{cssVariablesSelector:d,deduplicateCssVariables:s}),a&&R.jsx(cR,{}),t]})})}lC.displayName="@mantine/core/MantineProvider";function Mh({classNames:e,styles:t,props:r,stylesCtx:i}){const a=si();return{resolvedClassNames:Eh({theme:a,classNames:e,props:r,stylesCtx:i||void 0}),resolvedStyles:ih({theme:a,styles:t,props:r,stylesCtx:i||void 0})}}const yR={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function vR({theme:e,options:t,unstyled:r}){return Bn(t?.focusable&&!r&&(e.focusClassName||yR[e.focusRing]),t?.active&&!r&&e.activeClassName)}function bR({selector:e,stylesCtx:t,options:r,props:i,theme:a}){return Eh({theme:a,classNames:r?.classNames,props:r?.props||i,stylesCtx:t})[e]}function Tw({selector:e,stylesCtx:t,theme:r,classNames:i,props:a}){return Eh({theme:r,classNames:i,props:a,stylesCtx:t})[e]}function xR({rootSelector:e,selector:t,className:r}){return e===t?r:void 0}function wR({selector:e,classes:t,unstyled:r}){return r?void 0:t[e]}function SR({themeName:e,classNamesPrefix:t,selector:r,withStaticClass:i}){return i===!1?[]:e.map(a=>`${t}-${a}-${r}`)}function CR({themeName:e,theme:t,selector:r,props:i,stylesCtx:a}){return e.map(s=>Eh({theme:t,classNames:t.components[s]?.classNames,props:i,stylesCtx:a})?.[r])}function _R({options:e,classes:t,selector:r,unstyled:i}){return e?.variant&&!i?t[`${r}--${e.variant}`]:void 0}function ER({theme:e,options:t,themeName:r,selector:i,classNamesPrefix:a,classNames:s,classes:u,unstyled:d,className:f,rootSelector:h,props:g,stylesCtx:y,withStaticClasses:x,headless:w,transformedStyles:_}){return Bn(vR({theme:e,options:t,unstyled:d||w}),CR({theme:e,themeName:r,selector:i,props:g,stylesCtx:y}),_R({options:t,classes:u,selector:i,unstyled:d}),Tw({selector:i,stylesCtx:y,theme:e,classNames:s,props:g}),Tw({selector:i,stylesCtx:y,theme:e,classNames:_,props:g}),bR({selector:i,stylesCtx:y,options:t,props:g,theme:e}),xR({rootSelector:h,selector:i,className:f}),wR({selector:i,classes:u,unstyled:d||w}),x&&!w&&SR({themeName:r,classNamesPrefix:a,selector:i,withStaticClass:t?.withStaticClass}),t?.className)}function OR({theme:e,themeName:t,props:r,stylesCtx:i,selector:a}){return t.map(s=>ih({theme:e,styles:e.components[s]?.styles,props:r,stylesCtx:i})[a]).reduce((s,u)=>({...s,...u}),{})}function Hg({style:e,theme:t}){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...Hg({style:i,theme:t})}),{}):typeof e=="function"?e(t):e??{}}function MR(e){return e.reduce((t,r)=>(r&&Object.keys(r).forEach(i=>{t[i]={...t[i],...Oy(r[i])}}),t),{})}function TR({vars:e,varsResolver:t,theme:r,props:i,stylesCtx:a,selector:s,themeName:u,headless:d}){return MR([d?{}:t?.(r,i,a),...u.map(f=>r.components?.[f]?.vars?.(r,i,a)),e?.(r,i,a)])?.[s]}function RR({theme:e,themeName:t,selector:r,options:i,props:a,stylesCtx:s,rootSelector:u,styles:d,style:f,vars:h,varsResolver:g,headless:y,withStylesTransform:x}){return{...!x&&OR({theme:e,themeName:t,props:a,stylesCtx:s,selector:r}),...!x&&ih({theme:e,styles:d,props:a,stylesCtx:s})[r],...!x&&ih({theme:e,styles:i?.styles,props:i?.props||a,stylesCtx:s})[r],...TR({theme:e,props:a,stylesCtx:s,vars:h,varsResolver:g,selector:r,themeName:t,headless:y}),...u===r?Hg({style:f,theme:e}):null,...Hg({style:i?.style,theme:e})}}function PR({props:e,stylesCtx:t,themeName:r}){const i=si(),a=QT()?.();return{getTransformedStyles:u=>a?[...u.map(f=>a(f,{props:e,theme:i,ctx:t})),...r.map(f=>a(i.components[f]?.styles,{props:e,theme:i,ctx:t}))].filter(Boolean):[],withStylesTransform:!!a}}function gt({name:e,classes:t,props:r,stylesCtx:i,className:a,style:s,rootSelector:u="root",unstyled:d,classNames:f,styles:h,vars:g,varsResolver:y,attributes:x}){const w=si(),_=YT(),E=KT(),T=XT(),N=(Array.isArray(e)?e:[e]).filter(F=>F),{withStylesTransform:D,getTransformedStyles:I}=PR({props:r,stylesCtx:i,themeName:N});return(F,k)=>({className:ER({theme:w,options:k,themeName:N,selector:F,classNamesPrefix:_,classNames:f,classes:t,unstyled:d,className:a,rootSelector:u,props:r,stylesCtx:i,withStaticClasses:E,headless:T,transformedStyles:I([k?.styles,h])}),style:RR({theme:w,themeName:N,selector:F,options:k,props:r,stylesCtx:i,rootSelector:u,styles:h,style:s,vars:g,varsResolver:y,headless:T,withStylesTransform:D}),...x?.[F]})}function uC(e,t){return typeof e=="boolean"?e:t.autoContrast}function Be(e,t,r){const i=si(),a=i.components[e]?.defaultProps,s=typeof a=="function"?a(i):a;return{...t,...s,...Oy(r)}}function hg(e){return cr(e).reduce((t,r)=>e[r]!==void 0?`${t}${gT(r)}:${e[r]};`:t,"").trim()}function DR({selector:e,styles:t,media:r,container:i}){const a=t?hg(t):"",s=Array.isArray(r)?r.map(d=>`@media${d.query}{${e}{${hg(d.styles)}}}`):[],u=Array.isArray(i)?i.map(d=>`@container ${d.query}{${e}{${hg(d.styles)}}}`):[];return`${a?`${e}{${a}}`:""}${s.join("")}${u.join("")}`.trim()}function cC(e){const t=Ry();return R.jsx("style",{"data-mantine-styles":"inline",nonce:t?.(),dangerouslySetInnerHTML:{__html:DR(e)}})}function ed(e){const{m:t,mx:r,my:i,mt:a,mb:s,ml:u,mr:d,me:f,ms:h,p:g,px:y,py:x,pt:w,pb:_,pl:E,pr:T,pe:N,ps:D,bd:I,bdrs:F,bg:k,c:U,opacity:A,ff:$,fz:ae,fw:ue,lts:me,ta:de,lh:_e,fs:ce,tt:Ce,td:B,w:J,miw:V,maw:be,h:Se,mih:q,mah:re,bgsz:we,bgp:Ne,bgr:Ie,bga:qe,pos:nt,top:wt,left:De,bottom:Zt,right:ln,inset:Ze,display:ht,flex:kt,hiddenFrom:nn,visibleFrom:mn,lightHidden:Rr,darkHidden:nr,sx:Jt,...Hn}=e;return{styleProps:Oy({m:t,mx:r,my:i,mt:a,mb:s,ml:u,mr:d,me:f,ms:h,p:g,px:y,py:x,pt:w,pb:_,pl:E,pr:T,pe:N,ps:D,bd:I,bg:k,c:U,opacity:A,ff:$,fz:ae,fw:ue,lts:me,ta:de,lh:_e,fs:ce,tt:Ce,td:B,w:J,miw:V,maw:be,h:Se,mih:q,mah:re,bgsz:we,bgp:Ne,bgr:Ie,bga:qe,pos:nt,top:wt,left:De,bottom:Zt,right:ln,inset:Ze,display:ht,flex:kt,bdrs:F,hiddenFrom:nn,visibleFrom:mn,lightHidden:Rr,darkHidden:nr,sx:Jt}),rest:Hn}}const AR={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function Iy(e,t){const r=Ls({color:e,theme:t});return r.color==="dimmed"?"var(--mantine-color-dimmed)":r.color==="bright"?"var(--mantine-color-bright)":r.variable?`var(${r.variable})`:r.color}function NR(e,t){const r=Ls({color:e,theme:t});return r.isThemeColor&&r.shade===void 0?`var(--mantine-color-${r.color}-text)`:Iy(e,t)}function IR(e,t){if(typeof e=="number")return Ee(e);if(typeof e=="string"){const[r,i,...a]=e.split(" ").filter(u=>u.trim()!=="");let s=`${Ee(r)}`;return i&&(s+=` ${i}`),a.length>0&&(s+=` ${Iy(a.join(" "),t)}`),s.trim()}return e}const Rw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function jR(e){return typeof e=="string"&&e in Rw?Rw[e]:e}const zR=["h1","h2","h3","h4","h5","h6"];function FR(e,t){return typeof e=="string"&&e in t.fontSizes?`var(--mantine-font-size-${e})`:typeof e=="string"&&zR.includes(e)?`var(--mantine-${e}-font-size)`:typeof e=="number"||typeof e=="string"?Ee(e):e}function kR(e){return e}const LR=["h1","h2","h3","h4","h5","h6"];function BR(e,t){return typeof e=="string"&&e in t.lineHeights?`var(--mantine-line-height-${e})`:typeof e=="string"&&LR.includes(e)?`var(--mantine-${e}-line-height)`:e}function UR(e,t){return typeof e=="string"&&e in t.radius?`var(--mantine-radius-${e})`:typeof e=="number"||typeof e=="string"?Ee(e):e}function $R(e){return typeof e=="number"?Ee(e):e}function HR(e,t){if(typeof e=="number")return Ee(e);if(typeof e=="string"){const r=e.replace("-","");if(!(r in t.spacing))return Ee(e);const i=`--mantine-spacing-${r}`;return e.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return e}const pg={color:Iy,textColor:NR,fontSize:FR,spacing:HR,radius:UR,identity:kR,size:$R,lineHeight:BR,fontFamily:jR,border:IR};function Pw(e){return e.replace("(min-width: ","").replace("em)","")}function qR({media:e,...t}){const i=Object.keys(e).sort((a,s)=>Number(Pw(a))-Number(Pw(s))).map(a=>({query:a,styles:e[a]}));return{...t,media:i}}function GR(e){if(typeof e!="object"||e===null)return!1;const t=Object.keys(e);return!(t.length===1&&t[0]==="base")}function VR(e){return typeof e=="object"&&e!==null?"base"in e?e.base:void 0:e}function YR(e){return typeof e=="object"&&e!==null?cr(e).filter(t=>t!=="base"):[]}function KR(e,t){return typeof e=="object"&&e!==null&&t in e?e[t]:e}function XR({styleProps:e,data:t,theme:r}){return qR(cr(e).reduce((i,a)=>{if(a==="hiddenFrom"||a==="visibleFrom"||a==="sx")return i;const s=t[a],u=Array.isArray(s.property)?s.property:[s.property],d=VR(e[a]);if(!GR(e[a]))return u.forEach(h=>{i.inlineStyles[h]=pg[s.type](d,r)}),i;i.hasResponsiveStyles=!0;const f=YR(e[a]);return u.forEach(h=>{d!=null&&(i.styles[h]=pg[s.type](d,r)),f.forEach(g=>{const y=`(min-width: ${r.breakpoints[g]})`;i.media[y]={...i.media[y],[h]:pg[s.type](KR(e[a],g),r)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function WR(){return`__m__-${C.useId().replace(/[:]/g,"")}`}function jy(e,t){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...jy(i,t)}),{}):typeof e=="function"?e(t):e??{}}function dC(e){return e.startsWith("data-")?e:`data-${e}`}function QR(e){return Object.keys(e).reduce((t,r)=>{const i=e[r];return i===void 0||i===""||i===!1||i===null||(t[dC(r)]=e[r]),t},{})}function fC(e){return e?typeof e=="string"?{[dC(e)]:!0}:Array.isArray(e)?[...e].reduce((t,r)=>({...t,...fC(r)}),{}):QR(e):null}function qg(e,t){return Array.isArray(e)?[...e].reduce((r,i)=>({...r,...qg(i,t)}),{}):typeof e=="function"?e(t):e??{}}function ZR({theme:e,style:t,vars:r,styleProps:i}){const a=qg(t,e),s=qg(r,e);return{...a,...s,...i}}const hC=C.forwardRef(({component:e,style:t,__vars:r,className:i,variant:a,mod:s,size:u,hiddenFrom:d,visibleFrom:f,lightHidden:h,darkHidden:g,renderRoot:y,__size:x,...w},_)=>{const E=si(),T=e||"div",{styleProps:N,rest:D}=ed(w),F=WT()?.()?.(N.sx),k=WR(),U=XR({styleProps:N,theme:E,data:AR}),A={ref:_,style:ZR({theme:E,style:t,vars:r,styleProps:U.inlineStyles}),className:Bn(i,F,{[k]:U.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":g,[`mantine-hidden-from-${d}`]:d,[`mantine-visible-from-${f}`]:f}),"data-variant":a,"data-size":Y1(u)?void 0:u||void 0,size:x,...fC(s),...D};return R.jsxs(R.Fragment,{children:[U.hasResponsiveStyles&&R.jsx(cC,{selector:`.${k}`,styles:U.styles,media:U.media}),typeof y=="function"?y(A):R.jsx(T,{...A})]})});hC.displayName="@mantine/core/Box";const ke=hC;function pC(e){return e}function JR(e){const t=e;return r=>{const i=C.forwardRef((a,s)=>R.jsx(t,{...r,...a,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i}}function et(e){const t=C.forwardRef(e);return t.extend=pC,t.withProps=r=>{const i=C.forwardRef((a,s)=>R.jsx(t,{...r,...a,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t}function Tr(e){const t=C.forwardRef(e);return t.withProps=r=>{const i=C.forwardRef((a,s)=>R.jsx(t,{...r,...a,ref:s}));return i.extend=t.extend,i.displayName=`WithProps(${t.displayName})`,i},t.extend=pC,t}const mC=C.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function td(){return C.useContext(mC)}function eP({children:e,initialDirection:t="ltr",detectDirection:r=!0}){const[i,a]=C.useState(t),s=C.useCallback(f=>{a(f),document.documentElement.getAttribute("dir")!==f&&document.documentElement.setAttribute("dir",f)},[]),u=()=>s(i==="ltr"?"rtl":"ltr");Ka(()=>{if(r){const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&a(f)}},[]);const d=C.useCallback(()=>{if(typeof document>"u")return;const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&a(h=>h!==f?f:h)},[]);return HT(d,r?{attributes:!0,attributeFilter:["dir"]}:{},typeof document<"u"&&r?document.documentElement:null),R.jsx(mC.Provider,{value:{dir:i,toggleDirection:u,setDirection:s},children:e})}var Bs=k1();const Nc=xh(Bs);function tP(e){if(!e||typeof e=="string")return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function mg(e){return e?.current?e.current.scrollHeight:"auto"}const Oc=typeof window<"u"&&window.requestAnimationFrame,Dw=0,nP=e=>({height:0,overflow:"hidden",...e?{}:{display:"none"}});function rP({transitionDuration:e,transitionTimingFunction:t="ease",onTransitionEnd:r=()=>{},opened:i,keepMounted:a=!1}){const s=C.useRef(null),u=nP(a),[d,f]=C.useState(i?{}:u),h=_=>{Bs.flushSync(()=>f(_))},g=_=>{h(E=>({...E,..._}))};function y(_){const E=e||tP(_);return{transition:`height ${E}ms ${t}, opacity ${E}ms ${t}`}}js(()=>{typeof Oc=="function"&&Oc(i?()=>{g({willChange:"height",display:"block",overflow:"hidden"}),Oc(()=>{const _=mg(s);g({...y(_),height:_})})}:()=>{const _=mg(s);g({...y(_),willChange:"height",height:_}),Oc(()=>g({height:Dw,overflow:"hidden"}))})},[i]);const x=_=>{if(!(_.target!==s.current||_.propertyName!=="height"))if(i){const E=mg(s);E===d.height?h({}):g({height:E}),r()}else d.height===Dw&&(h(u),r())};function w({style:_={},refKey:E="ref",...T}={}){const N=T[E],D={"aria-hidden":!i,...T,[E]:eC(s,N),onTransitionEnd:x,style:{boxSizing:"border-box",..._,...d}};return Yn.version.startsWith("18")?i||(D.inert=""):D.inert=!i,D}return w}const iP={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},gC=et((e,t)=>{const{children:r,in:i,transitionDuration:a,transitionTimingFunction:s,style:u,onTransitionEnd:d,animateOpacity:f,keepMounted:h,...g}=Be("Collapse",iP,e),y=si(),x=Ch(),_=(y.respectReducedMotion?x:!1)?0:a,E=rP({opened:i,transitionDuration:_,transitionTimingFunction:s,onTransitionEnd:d,keepMounted:h});return _===0?i?R.jsx(ke,{...g,children:r}):null:R.jsx(ke,{...E({style:{opacity:i||!f?1:0,transition:f?`opacity ${_}ms ${s}`:"none",...jy(u,y)},ref:t,...g}),children:r})});gC.displayName="@mantine/core/Collapse";function Th(){return typeof window<"u"}function mu(e){return yC(e)?(e.nodeName||"").toLowerCase():"#document"}function Hr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ho(e){var t;return(t=(yC(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function yC(e){return Th()?e instanceof Node||e instanceof Hr(e).Node:!1}function pn(e){return Th()?e instanceof Element||e instanceof Hr(e).Element:!1}function ai(e){return Th()?e instanceof HTMLElement||e instanceof Hr(e).HTMLElement:!1}function Gg(e){return!Th()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Hr(e).ShadowRoot}const oP=new Set(["inline","contents"]);function nd(e){const{overflow:t,overflowX:r,overflowY:i,display:a}=_i(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!oP.has(a)}const aP=new Set(["table","td","th"]);function sP(e){return aP.has(mu(e))}const lP=[":popover-open",":modal"];function Rh(e){return lP.some(t=>{try{return e.matches(t)}catch{return!1}})}const uP=["transform","translate","scale","rotate","perspective"],cP=["transform","translate","scale","rotate","perspective","filter"],dP=["paint","layout","strict","content"];function zy(e){const t=Ph(),r=pn(e)?_i(e):e;return uP.some(i=>r[i]?r[i]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||cP.some(i=>(r.willChange||"").includes(i))||dP.some(i=>(r.contain||"").includes(i))}function fP(e){let t=Go(e);for(;ai(t)&&!$o(t);){if(zy(t))return t;if(Rh(t))return null;t=Go(t)}return null}function Ph(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hP=new Set(["html","body","#document"]);function $o(e){return hP.has(mu(e))}function _i(e){return Hr(e).getComputedStyle(e)}function Dh(e){return pn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Go(e){if(mu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gg(e)&&e.host||ho(e);return Gg(t)?t.host:t}function vC(e){const t=Go(e);return $o(t)?e.ownerDocument?e.ownerDocument.body:e.body:ai(t)&&nd(t)?t:vC(t)}function Ho(e,t,r){var i;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=vC(e),s=a===((i=e.ownerDocument)==null?void 0:i.body),u=Hr(a);if(s){const d=Vg(u);return t.concat(u,u.visualViewport||[],nd(a)?a:[],d&&r?Ho(d):[])}return t.concat(a,Ho(a,[],r))}function Vg(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const pP=["top","right","bottom","left"],Bi=Math.min,gr=Math.max,oh=Math.round,Nf=Math.floor,io=e=>({x:e,y:e}),mP={left:"right",right:"left",bottom:"top",top:"bottom"},gP={start:"end",end:"start"};function Yg(e,t,r){return gr(e,Bi(t,r))}function so(e,t){return typeof e=="function"?e(t):e}function Ui(e){return e.split("-")[0]}function gu(e){return e.split("-")[1]}function Fy(e){return e==="x"?"y":"x"}function ky(e){return e==="y"?"height":"width"}const yP=new Set(["top","bottom"]);function Fi(e){return yP.has(Ui(e))?"y":"x"}function Ly(e){return Fy(Fi(e))}function vP(e,t,r){r===void 0&&(r=!1);const i=gu(e),a=Ly(e),s=ky(a);let u=a==="x"?i===(r?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(u=ah(u)),[u,ah(u)]}function bP(e){const t=ah(e);return[Kg(e),t,Kg(t)]}function Kg(e){return e.replace(/start|end/g,t=>gP[t])}const Aw=["left","right"],Nw=["right","left"],xP=["top","bottom"],wP=["bottom","top"];function SP(e,t,r){switch(e){case"top":case"bottom":return r?t?Nw:Aw:t?Aw:Nw;case"left":case"right":return t?xP:wP;default:return[]}}function CP(e,t,r,i){const a=gu(e);let s=SP(Ui(e),r==="start",i);return a&&(s=s.map(u=>u+"-"+a),t&&(s=s.concat(s.map(Kg)))),s}function ah(e){return e.replace(/left|right|bottom|top/g,t=>mP[t])}function _P(e){return{top:0,right:0,bottom:0,left:0,...e}}function By(e){return typeof e!="number"?_P(e):{top:e,right:e,bottom:e,left:e}}function tu(e){const{x:t,y:r,width:i,height:a}=e;return{width:i,height:a,top:r,left:t,right:t+i,bottom:r+a,x:t,y:r}}function EP(){const e=navigator.userAgentData;return e!=null&&e.platform?e.platform:navigator.platform}function OP(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map(t=>{let{brand:r,version:i}=t;return r+"/"+i}).join(" "):navigator.userAgent}function MP(){return/apple/i.test(navigator.vendor)}function TP(){return EP().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function RP(){return OP().includes("jsdom/")}const Iw="data-floating-ui-focusable",PP="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function jw(e){let t=e.activeElement;for(;((r=t)==null||(r=r.shadowRoot)==null?void 0:r.activeElement)!=null;){var r;t=t.shadowRoot.activeElement}return t}function Vc(e,t){if(!e||!t)return!1;const r=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(r&&Gg(r)){let i=t;for(;i;){if(e===i)return!0;i=i.parentNode||i.host}}return!1}function Vl(e){return"composedPath"in e?e.composedPath()[0]:e.target}function gg(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const r=e;return r.target!=null&&t.contains(r.target)}function DP(e){return e.matches("html,body")}function Ts(e){return e?.ownerDocument||document}function AP(e){return ai(e)&&e.matches(PP)}function NP(e){if(!e||RP())return!0;try{return e.matches(":focus-visible")}catch{return!0}}function IP(e){return e?e.hasAttribute(Iw)?e:e.querySelector("["+Iw+"]")||e:null}function Xf(e,t,r){return r===void 0&&(r=!0),e.filter(a=>{var s;return a.parentId===t&&(!r||((s=a.context)==null?void 0:s.open))}).flatMap(a=>[a,...Xf(e,a.id,r)])}function jP(e){return"nativeEvent"in e}function Xg(e,t){const r=["mouse","pen"];return r.push("",void 0),r.includes(e)}var zP=typeof document<"u",FP=function(){},oo=zP?C.useLayoutEffect:FP;const kP={..._y};function If(e){const t=C.useRef(e);return oo(()=>{t.current=e}),t}const LP=kP.useInsertionEffect,BP=LP||(e=>e());function ro(e){const t=C.useRef(()=>{});return BP(()=>{t.current=e}),C.useCallback(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.current==null?void 0:t.current(...i)},[])}function zw(e,t,r){let{reference:i,floating:a}=e;const s=Fi(t),u=Ly(t),d=ky(u),f=Ui(t),h=s==="y",g=i.x+i.width/2-a.width/2,y=i.y+i.height/2-a.height/2,x=i[d]/2-a[d]/2;let w;switch(f){case"top":w={x:g,y:i.y-a.height};break;case"bottom":w={x:g,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y};break;case"left":w={x:i.x-a.width,y};break;default:w={x:i.x,y:i.y}}switch(gu(t)){case"start":w[u]-=x*(r&&h?-1:1);break;case"end":w[u]+=x*(r&&h?-1:1);break}return w}const UP=async(e,t,r)=>{const{placement:i="bottom",strategy:a="absolute",middleware:s=[],platform:u}=r,d=s.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(t));let h=await u.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y}=zw(h,i,f),x=i,w={},_=0;for(let E=0;E<d.length;E++){const{name:T,fn:N}=d[E],{x:D,y:I,data:F,reset:k}=await N({x:g,y,initialPlacement:i,placement:x,strategy:a,middlewareData:w,rects:h,platform:u,elements:{reference:e,floating:t}});g=D??g,y=I??y,w={...w,[T]:{...w[T],...F}},k&&_<=50&&(_++,typeof k=="object"&&(k.placement&&(x=k.placement),k.rects&&(h=k.rects===!0?await u.getElementRects({reference:e,floating:t,strategy:a}):k.rects),{x:g,y}=zw(h,x,f)),E=-1)}return{x:g,y,placement:x,strategy:a,middlewareData:w}};async function Yc(e,t){var r;t===void 0&&(t={});const{x:i,y:a,platform:s,rects:u,elements:d,strategy:f}=e,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:x=!1,padding:w=0}=so(t,e),_=By(w),T=d[x?y==="floating"?"reference":"floating":y],N=tu(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(T)))==null||r?T:T.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(d.floating)),boundary:h,rootBoundary:g,strategy:f})),D=y==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,I=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d.floating)),F=await(s.isElement==null?void 0:s.isElement(I))?await(s.getScale==null?void 0:s.getScale(I))||{x:1,y:1}:{x:1,y:1},k=tu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:D,offsetParent:I,strategy:f}):D);return{top:(N.top-k.top+_.top)/F.y,bottom:(k.bottom-N.bottom+_.bottom)/F.y,left:(N.left-k.left+_.left)/F.x,right:(k.right-N.right+_.right)/F.x}}const $P=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:i,placement:a,rects:s,platform:u,elements:d,middlewareData:f}=t,{element:h,padding:g=0}=so(e,t)||{};if(h==null)return{};const y=By(g),x={x:r,y:i},w=Ly(a),_=ky(w),E=await u.getDimensions(h),T=w==="y",N=T?"top":"left",D=T?"bottom":"right",I=T?"clientHeight":"clientWidth",F=s.reference[_]+s.reference[w]-x[w]-s.floating[_],k=x[w]-s.reference[w],U=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let A=U?U[I]:0;(!A||!await(u.isElement==null?void 0:u.isElement(U)))&&(A=d.floating[I]||s.floating[_]);const $=F/2-k/2,ae=A/2-E[_]/2-1,ue=Bi(y[N],ae),me=Bi(y[D],ae),de=ue,_e=A-E[_]-me,ce=A/2-E[_]/2+$,Ce=Yg(de,ce,_e),B=!f.arrow&&gu(a)!=null&&ce!==Ce&&s.reference[_]/2-(ce<de?ue:me)-E[_]/2<0,J=B?ce<de?ce-de:ce-_e:0;return{[w]:x[w]+J,data:{[w]:Ce,centerOffset:ce-Ce-J,...B&&{alignmentOffset:J}},reset:B}}}),HP=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,i;const{placement:a,middlewareData:s,rects:u,initialPlacement:d,platform:f,elements:h}=t,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:x,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...T}=so(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const N=Ui(a),D=Fi(d),I=Ui(d)===d,F=await(f.isRTL==null?void 0:f.isRTL(h.floating)),k=x||(I||!E?[ah(d)]:bP(d)),U=_!=="none";!x&&U&&k.push(...CP(d,E,_,F));const A=[d,...k],$=await Yc(t,T),ae=[];let ue=((i=s.flip)==null?void 0:i.overflows)||[];if(g&&ae.push($[N]),y){const ce=vP(a,u,F);ae.push($[ce[0]],$[ce[1]])}if(ue=[...ue,{placement:a,overflows:ae}],!ae.every(ce=>ce<=0)){var me,de;const ce=(((me=s.flip)==null?void 0:me.index)||0)+1,Ce=A[ce];if(Ce&&(!(y==="alignment"?D!==Fi(Ce):!1)||ue.every(V=>Fi(V.placement)===D?V.overflows[0]>0:!0)))return{data:{index:ce,overflows:ue},reset:{placement:Ce}};let B=(de=ue.filter(J=>J.overflows[0]<=0).sort((J,V)=>J.overflows[1]-V.overflows[1])[0])==null?void 0:de.placement;if(!B)switch(w){case"bestFit":{var _e;const J=(_e=ue.filter(V=>{if(U){const be=Fi(V.placement);return be===D||be==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(be=>be>0).reduce((be,Se)=>be+Se,0)]).sort((V,be)=>V[1]-be[1])[0])==null?void 0:_e[0];J&&(B=J);break}case"initialPlacement":B=d;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Fw(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function kw(e){return pP.some(t=>e[t]>=0)}const qP=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:i="referenceHidden",...a}=so(e,t);switch(i){case"referenceHidden":{const s=await Yc(t,{...a,elementContext:"reference"}),u=Fw(s,r.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:kw(u)}}}case"escaped":{const s=await Yc(t,{...a,altBoundary:!0}),u=Fw(s,r.floating);return{data:{escapedOffsets:u,escaped:kw(u)}}}default:return{}}}}};function bC(e){const t=Bi(...e.map(s=>s.left)),r=Bi(...e.map(s=>s.top)),i=gr(...e.map(s=>s.right)),a=gr(...e.map(s=>s.bottom));return{x:t,y:r,width:i-t,height:a-r}}function GP(e){const t=e.slice().sort((a,s)=>a.y-s.y),r=[];let i=null;for(let a=0;a<t.length;a++){const s=t[a];!i||s.y-i.y>i.height/2?r.push([s]):r[r.length-1].push(s),i=s}return r.map(a=>tu(bC(a)))}const VP=function(e){return e===void 0&&(e={}),{name:"inline",options:e,async fn(t){const{placement:r,elements:i,rects:a,platform:s,strategy:u}=t,{padding:d=2,x:f,y:h}=so(e,t),g=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(i.reference))||[]),y=GP(g),x=tu(bC(g)),w=By(d);function _(){if(y.length===2&&y[0].left>y[1].right&&f!=null&&h!=null)return y.find(T=>f>T.left-w.left&&f<T.right+w.right&&h>T.top-w.top&&h<T.bottom+w.bottom)||x;if(y.length>=2){if(Fi(r)==="y"){const ue=y[0],me=y[y.length-1],de=Ui(r)==="top",_e=ue.top,ce=me.bottom,Ce=de?ue.left:me.left,B=de?ue.right:me.right,J=B-Ce,V=ce-_e;return{top:_e,bottom:ce,left:Ce,right:B,width:J,height:V,x:Ce,y:_e}}const T=Ui(r)==="left",N=gr(...y.map(ue=>ue.right)),D=Bi(...y.map(ue=>ue.left)),I=y.filter(ue=>T?ue.left===D:ue.right===N),F=I[0].top,k=I[I.length-1].bottom,U=D,A=N,$=A-U,ae=k-F;return{top:F,bottom:k,left:U,right:A,width:$,height:ae,x:U,y:F}}return x}const E=await s.getElementRects({reference:{getBoundingClientRect:_},floating:i.floating,strategy:u});return a.reference.x!==E.reference.x||a.reference.y!==E.reference.y||a.reference.width!==E.reference.width||a.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},xC=new Set(["left","top"]);async function YP(e,t){const{placement:r,platform:i,elements:a}=e,s=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Ui(r),d=gu(r),f=Fi(r)==="y",h=xC.has(u)?-1:1,g=s&&f?-1:1,y=so(t,e);let{mainAxis:x,crossAxis:w,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return d&&typeof _=="number"&&(w=d==="end"?_*-1:_),f?{x:w*g,y:x*h}:{x:x*h,y:w*g}}const KP=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,i;const{x:a,y:s,placement:u,middlewareData:d}=t,f=await YP(t,e);return u===((r=d.offset)==null?void 0:r.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:u}}}}},XP=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:i,placement:a}=t,{mainAxis:s=!0,crossAxis:u=!1,limiter:d={fn:T=>{let{x:N,y:D}=T;return{x:N,y:D}}},...f}=so(e,t),h={x:r,y:i},g=await Yc(t,f),y=Fi(Ui(a)),x=Fy(y);let w=h[x],_=h[y];if(s){const T=x==="y"?"top":"left",N=x==="y"?"bottom":"right",D=w+g[T],I=w-g[N];w=Yg(D,w,I)}if(u){const T=y==="y"?"top":"left",N=y==="y"?"bottom":"right",D=_+g[T],I=_-g[N];_=Yg(D,_,I)}const E=d.fn({...t,[x]:w,[y]:_});return{...E,data:{x:E.x-r,y:E.y-i,enabled:{[x]:s,[y]:u}}}}}},WP=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:i,placement:a,rects:s,middlewareData:u}=t,{offset:d=0,mainAxis:f=!0,crossAxis:h=!0}=so(e,t),g={x:r,y:i},y=Fi(a),x=Fy(y);let w=g[x],_=g[y];const E=so(d,t),T=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const I=x==="y"?"height":"width",F=s.reference[x]-s.floating[I]+T.mainAxis,k=s.reference[x]+s.reference[I]-T.mainAxis;w<F?w=F:w>k&&(w=k)}if(h){var N,D;const I=x==="y"?"width":"height",F=xC.has(Ui(a)),k=s.reference[y]-s.floating[I]+(F&&((N=u.offset)==null?void 0:N[y])||0)+(F?0:T.crossAxis),U=s.reference[y]+s.reference[I]+(F?0:((D=u.offset)==null?void 0:D[y])||0)-(F?T.crossAxis:0);_<k?_=k:_>U&&(_=U)}return{[x]:w,[y]:_}}}},QP=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,i;const{placement:a,rects:s,platform:u,elements:d}=t,{apply:f=()=>{},...h}=so(e,t),g=await Yc(t,h),y=Ui(a),x=gu(a),w=Fi(a)==="y",{width:_,height:E}=s.floating;let T,N;y==="top"||y==="bottom"?(T=y,N=x===(await(u.isRTL==null?void 0:u.isRTL(d.floating))?"start":"end")?"left":"right"):(N=y,T=x==="end"?"top":"bottom");const D=E-g.top-g.bottom,I=_-g.left-g.right,F=Bi(E-g[T],D),k=Bi(_-g[N],I),U=!t.middlewareData.shift;let A=F,$=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&($=I),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(A=D),U&&!x){const ue=gr(g.left,0),me=gr(g.right,0),de=gr(g.top,0),_e=gr(g.bottom,0);w?$=_-2*(ue!==0||me!==0?ue+me:gr(g.left,g.right)):A=E-2*(de!==0||_e!==0?de+_e:gr(g.top,g.bottom))}await f({...t,availableWidth:$,availableHeight:A});const ae=await u.getDimensions(d.floating);return _!==ae.width||E!==ae.height?{reset:{rects:!0}}:{}}}};function wC(e){const t=_i(e);let r=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const a=ai(e),s=a?e.offsetWidth:r,u=a?e.offsetHeight:i,d=oh(r)!==s||oh(i)!==u;return d&&(r=s,i=u),{width:r,height:i,$:d}}function Uy(e){return pn(e)?e:e.contextElement}function Zl(e){const t=Uy(e);if(!ai(t))return io(1);const r=t.getBoundingClientRect(),{width:i,height:a,$:s}=wC(t);let u=(s?oh(r.width):r.width)/i,d=(s?oh(r.height):r.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!d||!Number.isFinite(d))&&(d=1),{x:u,y:d}}const ZP=io(0);function SC(e){const t=Hr(e);return!Ph()||!t.visualViewport?ZP:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function JP(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==Hr(e)?!1:t}function zs(e,t,r,i){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),s=Uy(e);let u=io(1);t&&(i?pn(i)&&(u=Zl(i)):u=Zl(e));const d=JP(s,r,i)?SC(s):io(0);let f=(a.left+d.x)/u.x,h=(a.top+d.y)/u.y,g=a.width/u.x,y=a.height/u.y;if(s){const x=Hr(s),w=i&&pn(i)?Hr(i):i;let _=x,E=Vg(_);for(;E&&i&&w!==_;){const T=Zl(E),N=E.getBoundingClientRect(),D=_i(E),I=N.left+(E.clientLeft+parseFloat(D.paddingLeft))*T.x,F=N.top+(E.clientTop+parseFloat(D.paddingTop))*T.y;f*=T.x,h*=T.y,g*=T.x,y*=T.y,f+=I,h+=F,_=Hr(E),E=Vg(_)}}return tu({width:g,height:y,x:f,y:h})}function Ah(e,t){const r=Dh(e).scrollLeft;return t?t.left+r:zs(ho(e)).left+r}function CC(e,t){const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-Ah(e,r),a=r.top+t.scrollTop;return{x:i,y:a}}function eD(e){let{elements:t,rect:r,offsetParent:i,strategy:a}=e;const s=a==="fixed",u=ho(i),d=t?Rh(t.floating):!1;if(i===u||d&&s)return r;let f={scrollLeft:0,scrollTop:0},h=io(1);const g=io(0),y=ai(i);if((y||!y&&!s)&&((mu(i)!=="body"||nd(u))&&(f=Dh(i)),ai(i))){const w=zs(i);h=Zl(i),g.x=w.x+i.clientLeft,g.y=w.y+i.clientTop}const x=u&&!y&&!s?CC(u,f):io(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+g.x+x.x,y:r.y*h.y-f.scrollTop*h.y+g.y+x.y}}function tD(e){return Array.from(e.getClientRects())}function nD(e){const t=ho(e),r=Dh(e),i=e.ownerDocument.body,a=gr(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),s=gr(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let u=-r.scrollLeft+Ah(e);const d=-r.scrollTop;return _i(i).direction==="rtl"&&(u+=gr(t.clientWidth,i.clientWidth)-a),{width:a,height:s,x:u,y:d}}const Lw=25;function rD(e,t){const r=Hr(e),i=ho(e),a=r.visualViewport;let s=i.clientWidth,u=i.clientHeight,d=0,f=0;if(a){s=a.width,u=a.height;const g=Ph();(!g||g&&t==="fixed")&&(d=a.offsetLeft,f=a.offsetTop)}const h=Ah(i);if(h<=0){const g=i.ownerDocument,y=g.body,x=getComputedStyle(y),w=g.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,_=Math.abs(i.clientWidth-y.clientWidth-w);_<=Lw&&(s-=_)}else h<=Lw&&(s+=h);return{width:s,height:u,x:d,y:f}}const iD=new Set(["absolute","fixed"]);function oD(e,t){const r=zs(e,!0,t==="fixed"),i=r.top+e.clientTop,a=r.left+e.clientLeft,s=ai(e)?Zl(e):io(1),u=e.clientWidth*s.x,d=e.clientHeight*s.y,f=a*s.x,h=i*s.y;return{width:u,height:d,x:f,y:h}}function Bw(e,t,r){let i;if(t==="viewport")i=rD(e,r);else if(t==="document")i=nD(ho(e));else if(pn(t))i=oD(t,r);else{const a=SC(e);i={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return tu(i)}function _C(e,t){const r=Go(e);return r===t||!pn(r)||$o(r)?!1:_i(r).position==="fixed"||_C(r,t)}function aD(e,t){const r=t.get(e);if(r)return r;let i=Ho(e,[],!1).filter(d=>pn(d)&&mu(d)!=="body"),a=null;const s=_i(e).position==="fixed";let u=s?Go(e):e;for(;pn(u)&&!$o(u);){const d=_i(u),f=zy(u);!f&&d.position==="fixed"&&(a=null),(s?!f&&!a:!f&&d.position==="static"&&!!a&&iD.has(a.position)||nd(u)&&!f&&_C(e,u))?i=i.filter(g=>g!==u):a=d,u=Go(u)}return t.set(e,i),i}function sD(e){let{element:t,boundary:r,rootBoundary:i,strategy:a}=e;const u=[...r==="clippingAncestors"?Rh(t)?[]:aD(t,this._c):[].concat(r),i],d=u[0],f=u.reduce((h,g)=>{const y=Bw(t,g,a);return h.top=gr(y.top,h.top),h.right=Bi(y.right,h.right),h.bottom=Bi(y.bottom,h.bottom),h.left=gr(y.left,h.left),h},Bw(t,d,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function lD(e){const{width:t,height:r}=wC(e);return{width:t,height:r}}function uD(e,t,r){const i=ai(t),a=ho(t),s=r==="fixed",u=zs(e,!0,s,t);let d={scrollLeft:0,scrollTop:0};const f=io(0);function h(){f.x=Ah(a)}if(i||!i&&!s)if((mu(t)!=="body"||nd(a))&&(d=Dh(t)),i){const w=zs(t,!0,s,t);f.x=w.x+t.clientLeft,f.y=w.y+t.clientTop}else a&&h();s&&!i&&a&&h();const g=a&&!i&&!s?CC(a,d):io(0),y=u.left+d.scrollLeft-f.x-g.x,x=u.top+d.scrollTop-f.y-g.y;return{x:y,y:x,width:u.width,height:u.height}}function yg(e){return _i(e).position==="static"}function Uw(e,t){if(!ai(e)||_i(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return ho(e)===r&&(r=r.ownerDocument.body),r}function EC(e,t){const r=Hr(e);if(Rh(e))return r;if(!ai(e)){let a=Go(e);for(;a&&!$o(a);){if(pn(a)&&!yg(a))return a;a=Go(a)}return r}let i=Uw(e,t);for(;i&&sP(i)&&yg(i);)i=Uw(i,t);return i&&$o(i)&&yg(i)&&!zy(i)?r:i||fP(e)||r}const cD=async function(e){const t=this.getOffsetParent||EC,r=this.getDimensions,i=await r(e.floating);return{reference:uD(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function dD(e){return _i(e).direction==="rtl"}const fD={convertOffsetParentRelativeRectToViewportRelativeRect:eD,getDocumentElement:ho,getClippingRect:sD,getOffsetParent:EC,getElementRects:cD,getClientRects:tD,getDimensions:lD,getScale:Zl,isElement:pn,isRTL:dD};function OC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hD(e,t){let r=null,i;const a=ho(e);function s(){var d;clearTimeout(i),(d=r)==null||d.disconnect(),r=null}function u(d,f){d===void 0&&(d=!1),f===void 0&&(f=1),s();const h=e.getBoundingClientRect(),{left:g,top:y,width:x,height:w}=h;if(d||t(),!x||!w)return;const _=Nf(y),E=Nf(a.clientWidth-(g+x)),T=Nf(a.clientHeight-(y+w)),N=Nf(g),I={rootMargin:-_+"px "+-E+"px "+-T+"px "+-N+"px",threshold:gr(0,Bi(1,f))||1};let F=!0;function k(U){const A=U[0].intersectionRatio;if(A!==f){if(!F)return u();A?u(!1,A):i=setTimeout(()=>{u(!1,1e-7)},1e3)}A===1&&!OC(h,e.getBoundingClientRect())&&u(),F=!1}try{r=new IntersectionObserver(k,{...I,root:a.ownerDocument})}catch{r=new IntersectionObserver(k,I)}r.observe(e)}return u(!0),s}function Wg(e,t,r,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,h=Uy(e),g=a||s?[...h?Ho(h):[],...Ho(t)]:[];g.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),s&&N.addEventListener("resize",r)});const y=h&&d?hD(h,r):null;let x=-1,w=null;u&&(w=new ResizeObserver(N=>{let[D]=N;D&&D.target===h&&w&&(w.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var I;(I=w)==null||I.observe(t)})),r()}),h&&!f&&w.observe(h),w.observe(t));let _,E=f?zs(e):null;f&&T();function T(){const N=zs(e);E&&!OC(E,N)&&r(),E=N,_=requestAnimationFrame(T)}return r(),()=>{var N;g.forEach(D=>{a&&D.removeEventListener("scroll",r),s&&D.removeEventListener("resize",r)}),y?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(_)}}const pD=KP,mD=XP,gD=HP,yD=QP,vD=qP,$w=$P,bD=VP,xD=WP,wD=(e,t,r)=>{const i=new Map,a={platform:fD,...r},s={...a.platform,_c:i};return UP(e,t,{...a,platform:s})};var SD=typeof document<"u",CD=function(){},Wf=SD?C.useLayoutEffect:CD;function sh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,i,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(i=r;i--!==0;)if(!sh(e[i],t[i]))return!1;return!0}if(a=Object.keys(e),r=a.length,r!==Object.keys(t).length)return!1;for(i=r;i--!==0;)if(!{}.hasOwnProperty.call(t,a[i]))return!1;for(i=r;i--!==0;){const s=a[i];if(!(s==="_owner"&&e.$$typeof)&&!sh(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function MC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Hw(e,t){const r=MC(e);return Math.round(t*r)/r}function vg(e){const t=C.useRef(e);return Wf(()=>{t.current=e}),t}function _D(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:i=[],platform:a,elements:{reference:s,floating:u}={},transform:d=!0,whileElementsMounted:f,open:h}=e,[g,y]=C.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,w]=C.useState(i);sh(x,i)||w(i);const[_,E]=C.useState(null),[T,N]=C.useState(null),D=C.useCallback(V=>{V!==U.current&&(U.current=V,E(V))},[]),I=C.useCallback(V=>{V!==A.current&&(A.current=V,N(V))},[]),F=s||_,k=u||T,U=C.useRef(null),A=C.useRef(null),$=C.useRef(g),ae=f!=null,ue=vg(f),me=vg(a),de=vg(h),_e=C.useCallback(()=>{if(!U.current||!A.current)return;const V={placement:t,strategy:r,middleware:x};me.current&&(V.platform=me.current),wD(U.current,A.current,V).then(be=>{const Se={...be,isPositioned:de.current!==!1};ce.current&&!sh($.current,Se)&&($.current=Se,Bs.flushSync(()=>{y(Se)}))})},[x,t,r,me,de]);Wf(()=>{h===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(V=>({...V,isPositioned:!1})))},[h]);const ce=C.useRef(!1);Wf(()=>(ce.current=!0,()=>{ce.current=!1}),[]),Wf(()=>{if(F&&(U.current=F),k&&(A.current=k),F&&k){if(ue.current)return ue.current(F,k,_e);_e()}},[F,k,_e,ue,ae]);const Ce=C.useMemo(()=>({reference:U,floating:A,setReference:D,setFloating:I}),[D,I]),B=C.useMemo(()=>({reference:F,floating:k}),[F,k]),J=C.useMemo(()=>{const V={position:r,left:0,top:0};if(!B.floating)return V;const be=Hw(B.floating,g.x),Se=Hw(B.floating,g.y);return d?{...V,transform:"translate("+be+"px, "+Se+"px)",...MC(B.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:be,top:Se}},[r,d,B.floating,g.x,g.y]);return C.useMemo(()=>({...g,update:_e,refs:Ce,elements:B,floatingStyles:J}),[g,_e,Ce,B,J])}const ED=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:i,padding:a}=typeof e=="function"?e(r):e;return i&&t(i)?i.current!=null?$w({element:i.current,padding:a}).fn(r):{}:i?$w({element:i,padding:a}).fn(r):{}}}},TC=(e,t)=>({...pD(e),options:[e,t]}),$y=(e,t)=>({...mD(e),options:[e,t]}),qw=(e,t)=>({...xD(e),options:[e,t]}),lh=(e,t)=>({...gD(e),options:[e,t]}),OD=(e,t)=>({...yD(e),options:[e,t]}),MD=(e,t)=>({...vD(e),options:[e,t]}),Bc=(e,t)=>({...bD(e),options:[e,t]}),RC=(e,t)=>({...ED(e),options:[e,t]});function PC(e){const t=C.useRef(void 0),r=C.useCallback(i=>{const a=e.map(s=>{if(s!=null){if(typeof s=="function"){const u=s,d=u(i);return typeof d=="function"?d:()=>{u(null)}}return s.current=i,()=>{s.current=null}}});return()=>{a.forEach(s=>s?.())}},e);return C.useMemo(()=>e.every(i=>i==null)?null:i=>{t.current&&(t.current(),t.current=void 0),i!=null&&(t.current=r(i))},e)}const TD="data-floating-ui-focusable",Gw="active",Vw="selected",RD={..._y};let Yw=!1,PD=0;const Kw=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+PD++;function DD(){const[e,t]=C.useState(()=>Yw?Kw():void 0);return oo(()=>{e==null&&t(Kw())},[]),C.useEffect(()=>{Yw=!0},[]),e}const AD=RD.useId,DC=AD||DD;function ND(){const e=new Map;return{emit(t,r){var i;(i=e.get(t))==null||i.forEach(a=>a(r))},on(t,r){e.has(t)||e.set(t,new Set),e.get(t).add(r)},off(t,r){var i;(i=e.get(t))==null||i.delete(r)}}}const ID=C.createContext(null),jD=C.createContext(null),Hy=()=>{var e;return((e=C.useContext(ID))==null?void 0:e.id)||null},qy=()=>C.useContext(jD);function Gy(e){return"data-floating-ui-"+e}function xi(e){e.current!==-1&&(clearTimeout(e.current),e.current=-1)}const Xw=Gy("safe-polygon");function Qf(e,t,r){if(r&&!Xg(r))return 0;if(typeof e=="number")return e;if(typeof e=="function"){const i=e();return typeof i=="number"?i:i?.[t]}return e?.[t]}function bg(e){return typeof e=="function"?e():e}function zD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,dataRef:a,events:s,elements:u}=e,{enabled:d=!0,delay:f=0,handleClose:h=null,mouseOnly:g=!1,restMs:y=0,move:x=!0}=t,w=qy(),_=Hy(),E=If(h),T=If(f),N=If(r),D=If(y),I=C.useRef(),F=C.useRef(-1),k=C.useRef(),U=C.useRef(-1),A=C.useRef(!0),$=C.useRef(!1),ae=C.useRef(()=>{}),ue=C.useRef(!1),me=ro(()=>{var J;const V=(J=a.current.openEvent)==null?void 0:J.type;return V?.includes("mouse")&&V!=="mousedown"});C.useEffect(()=>{if(!d)return;function J(V){let{open:be}=V;be||(xi(F),xi(U),A.current=!0,ue.current=!1)}return s.on("openchange",J),()=>{s.off("openchange",J)}},[d,s]),C.useEffect(()=>{if(!d||!E.current||!r)return;function J(be){me()&&i(!1,be,"hover")}const V=Ts(u.floating).documentElement;return V.addEventListener("mouseleave",J),()=>{V.removeEventListener("mouseleave",J)}},[u.floating,r,i,d,E,me]);const de=C.useCallback(function(J,V,be){V===void 0&&(V=!0),be===void 0&&(be="hover");const Se=Qf(T.current,"close",I.current);Se&&!k.current?(xi(F),F.current=window.setTimeout(()=>i(!1,J,be),Se)):V&&(xi(F),i(!1,J,be))},[T,i]),_e=ro(()=>{ae.current(),k.current=void 0}),ce=ro(()=>{if($.current){const J=Ts(u.floating).body;J.style.pointerEvents="",J.removeAttribute(Xw),$.current=!1}}),Ce=ro(()=>a.current.openEvent?["click","mousedown"].includes(a.current.openEvent.type):!1);C.useEffect(()=>{if(!d)return;function J(re){if(xi(F),A.current=!1,g&&!Xg(I.current)||bg(D.current)>0&&!Qf(T.current,"open"))return;const we=Qf(T.current,"open",I.current);we?F.current=window.setTimeout(()=>{N.current||i(!0,re,"hover")},we):r||i(!0,re,"hover")}function V(re){if(Ce()){ce();return}ae.current();const we=Ts(u.floating);if(xi(U),ue.current=!1,E.current&&a.current.floatingContext){r||xi(F),k.current=E.current({...a.current.floatingContext,tree:w,x:re.clientX,y:re.clientY,onClose(){ce(),_e(),Ce()||de(re,!0,"safe-polygon")}});const Ie=k.current;we.addEventListener("mousemove",Ie),ae.current=()=>{we.removeEventListener("mousemove",Ie)};return}(I.current!=="touch"||!Vc(u.floating,re.relatedTarget))&&de(re)}function be(re){Ce()||a.current.floatingContext&&(E.current==null||E.current({...a.current.floatingContext,tree:w,x:re.clientX,y:re.clientY,onClose(){ce(),_e(),Ce()||de(re)}})(re))}function Se(){xi(F)}function q(re){Ce()||de(re,!1)}if(pn(u.domReference)){const re=u.domReference,we=u.floating;return r&&re.addEventListener("mouseleave",be),x&&re.addEventListener("mousemove",J,{once:!0}),re.addEventListener("mouseenter",J),re.addEventListener("mouseleave",V),we&&(we.addEventListener("mouseleave",be),we.addEventListener("mouseenter",Se),we.addEventListener("mouseleave",q)),()=>{r&&re.removeEventListener("mouseleave",be),x&&re.removeEventListener("mousemove",J),re.removeEventListener("mouseenter",J),re.removeEventListener("mouseleave",V),we&&(we.removeEventListener("mouseleave",be),we.removeEventListener("mouseenter",Se),we.removeEventListener("mouseleave",q))}}},[u,d,e,g,x,de,_e,ce,i,r,N,w,T,E,a,Ce,D]),oo(()=>{var J;if(d&&r&&(J=E.current)!=null&&(J=J.__options)!=null&&J.blockPointerEvents&&me()){$.current=!0;const be=u.floating;if(pn(u.domReference)&&be){var V;const Se=Ts(u.floating).body;Se.setAttribute(Xw,"");const q=u.domReference,re=w==null||(V=w.nodesRef.current.find(we=>we.id===_))==null||(V=V.context)==null?void 0:V.elements.floating;return re&&(re.style.pointerEvents=""),Se.style.pointerEvents="none",q.style.pointerEvents="auto",be.style.pointerEvents="auto",()=>{Se.style.pointerEvents="",q.style.pointerEvents="",be.style.pointerEvents=""}}}},[d,r,_,u,w,E,me]),oo(()=>{r||(I.current=void 0,ue.current=!1,_e(),ce())},[r,_e,ce]),C.useEffect(()=>()=>{_e(),xi(F),xi(U),ce()},[d,u.domReference,_e,ce]);const B=C.useMemo(()=>{function J(V){I.current=V.pointerType}return{onPointerDown:J,onPointerEnter:J,onMouseMove(V){const{nativeEvent:be}=V;function Se(){!A.current&&!N.current&&i(!0,be,"hover")}g&&!Xg(I.current)||r||bg(D.current)===0||ue.current&&V.movementX**2+V.movementY**2<2||(xi(U),I.current==="touch"?Se():(ue.current=!0,U.current=window.setTimeout(Se,bg(D.current))))}}},[g,i,r,N,D]);return C.useMemo(()=>d?{reference:B}:{},[d,B])}const Qg=()=>{},AC=C.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:Qg,setState:Qg,isInstantPhase:!1}),FD=()=>C.useContext(AC);function kD(e){const{children:t,delay:r,timeoutMs:i=0}=e,[a,s]=C.useReducer((f,h)=>({...f,...h}),{delay:r,timeoutMs:i,initialDelay:r,currentId:null,isInstantPhase:!1}),u=C.useRef(null),d=C.useCallback(f=>{s({currentId:f})},[]);return oo(()=>{a.currentId?u.current===null?u.current=a.currentId:a.isInstantPhase||s({isInstantPhase:!0}):(a.isInstantPhase&&s({isInstantPhase:!1}),u.current=null)},[a.currentId,a.isInstantPhase]),R.jsx(AC.Provider,{value:C.useMemo(()=>({...a,setState:s,setCurrentId:d}),[a,d]),children:t})}function LD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,floatingId:a}=e,{id:s,enabled:u=!0}=t,d=s??a,f=FD(),{currentId:h,setCurrentId:g,initialDelay:y,setState:x,timeoutMs:w}=f;return oo(()=>{u&&h&&(x({delay:{open:1,close:Qf(y,"close")}}),h!==d&&i(!1))},[u,d,i,x,h,y]),oo(()=>{function _(){i(!1),x({delay:y,currentId:null})}if(u&&h&&!r&&h===d){if(w){const E=window.setTimeout(_,w);return()=>{clearTimeout(E)}}_()}},[u,r,x,h,d,i,y,w]),oo(()=>{u&&(g===Qg||!r||g(d))},[u,r,g,d]),f}const BD={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},UD={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},Ww=e=>{var t,r;return{escapeKey:typeof e=="boolean"?e:(t=e?.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(r=e?.outsidePress)!=null?r:!0}};function $D(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,elements:a,dataRef:s}=e,{enabled:u=!0,escapeKey:d=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:x=!1,bubbles:w,capture:_}=t,E=qy(),T=ro(typeof f=="function"?f:()=>!1),N=typeof f=="function"?T:f,D=C.useRef(!1),{escapeKey:I,outsidePress:F}=Ww(w),{escapeKey:k,outsidePress:U}=Ww(_),A=C.useRef(!1),$=ro(ce=>{var Ce;if(!r||!u||!d||ce.key!=="Escape"||A.current)return;const B=(Ce=s.current.floatingContext)==null?void 0:Ce.nodeId,J=E?Xf(E.nodesRef.current,B):[];if(!I&&(ce.stopPropagation(),J.length>0)){let V=!0;if(J.forEach(be=>{var Se;if((Se=be.context)!=null&&Se.open&&!be.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}i(!1,jP(ce)?ce.nativeEvent:ce,"escape-key")}),ae=ro(ce=>{var Ce;const B=()=>{var J;$(ce),(J=Vl(ce))==null||J.removeEventListener("keydown",B)};(Ce=Vl(ce))==null||Ce.addEventListener("keydown",B)}),ue=ro(ce=>{var Ce;const B=s.current.insideReactTree;s.current.insideReactTree=!1;const J=D.current;if(D.current=!1,h==="click"&&J||B||typeof N=="function"&&!N(ce))return;const V=Vl(ce),be="["+Gy("inert")+"]",Se=Ts(a.floating).querySelectorAll(be);let q=pn(V)?V:null;for(;q&&!$o(q);){const Ie=Go(q);if($o(Ie)||!pn(Ie))break;q=Ie}if(Se.length&&pn(V)&&!DP(V)&&!Vc(V,a.floating)&&Array.from(Se).every(Ie=>!Vc(q,Ie)))return;if(ai(V)&&_e){const Ie=$o(V),qe=_i(V),nt=/auto|scroll/,wt=Ie||nt.test(qe.overflowX),De=Ie||nt.test(qe.overflowY),Zt=wt&&V.clientWidth>0&&V.scrollWidth>V.clientWidth,ln=De&&V.clientHeight>0&&V.scrollHeight>V.clientHeight,Ze=qe.direction==="rtl",ht=ln&&(Ze?ce.offsetX<=V.offsetWidth-V.clientWidth:ce.offsetX>V.clientWidth),kt=Zt&&ce.offsetY>V.clientHeight;if(ht||kt)return}const re=(Ce=s.current.floatingContext)==null?void 0:Ce.nodeId,we=E&&Xf(E.nodesRef.current,re).some(Ie=>{var qe;return gg(ce,(qe=Ie.context)==null?void 0:qe.elements.floating)});if(gg(ce,a.floating)||gg(ce,a.domReference)||we)return;const Ne=E?Xf(E.nodesRef.current,re):[];if(Ne.length>0){let Ie=!0;if(Ne.forEach(qe=>{var nt;if((nt=qe.context)!=null&&nt.open&&!qe.context.dataRef.current.__outsidePressBubbles){Ie=!1;return}}),!Ie)return}i(!1,ce,"outside-press")}),me=ro(ce=>{var Ce;const B=()=>{var J;ue(ce),(J=Vl(ce))==null||J.removeEventListener(h,B)};(Ce=Vl(ce))==null||Ce.addEventListener(h,B)});C.useEffect(()=>{if(!r||!u)return;s.current.__escapeKeyBubbles=I,s.current.__outsidePressBubbles=F;let ce=-1;function Ce(Se){i(!1,Se,"ancestor-scroll")}function B(){window.clearTimeout(ce),A.current=!0}function J(){ce=window.setTimeout(()=>{A.current=!1},Ph()?5:0)}const V=Ts(a.floating);d&&(V.addEventListener("keydown",k?ae:$,k),V.addEventListener("compositionstart",B),V.addEventListener("compositionend",J)),N&&V.addEventListener(h,U?me:ue,U);let be=[];return x&&(pn(a.domReference)&&(be=Ho(a.domReference)),pn(a.floating)&&(be=be.concat(Ho(a.floating))),!pn(a.reference)&&a.reference&&a.reference.contextElement&&(be=be.concat(Ho(a.reference.contextElement)))),be=be.filter(Se=>{var q;return Se!==((q=V.defaultView)==null?void 0:q.visualViewport)}),be.forEach(Se=>{Se.addEventListener("scroll",Ce,{passive:!0})}),()=>{d&&(V.removeEventListener("keydown",k?ae:$,k),V.removeEventListener("compositionstart",B),V.removeEventListener("compositionend",J)),N&&V.removeEventListener(h,U?me:ue,U),be.forEach(Se=>{Se.removeEventListener("scroll",Ce)}),window.clearTimeout(ce)}},[s,a,d,N,h,r,i,x,u,I,F,$,k,ae,ue,U,me]),C.useEffect(()=>{s.current.insideReactTree=!1},[s,N,h]);const de=C.useMemo(()=>({onKeyDown:$,...g&&{[BD[y]]:ce=>{i(!1,ce.nativeEvent,"reference-press")},...y!=="click"&&{onClick(ce){i(!1,ce.nativeEvent,"reference-press")}}}}),[$,i,g,y]),_e=C.useMemo(()=>({onKeyDown:$,onMouseDown(){D.current=!0},onMouseUp(){D.current=!0},[UD[h]]:()=>{s.current.insideReactTree=!0}}),[$,h,s]);return C.useMemo(()=>u?{reference:de,floating:_e}:{},[u,de,_e])}function HD(e){const{open:t=!1,onOpenChange:r,elements:i}=e,a=DC(),s=C.useRef({}),[u]=C.useState(()=>ND()),d=Hy()!=null,[f,h]=C.useState(i.reference),g=ro((w,_,E)=>{s.current.openEvent=w?_:void 0,u.emit("openchange",{open:w,event:_,reason:E,nested:d}),r?.(w,_,E)}),y=C.useMemo(()=>({setPositionReference:h}),[]),x=C.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return C.useMemo(()=>({dataRef:s,open:t,onOpenChange:g,elements:x,events:u,floatingId:a,refs:y}),[t,g,x,u,a,y])}function Vy(e){e===void 0&&(e={});const{nodeId:t}=e,r=HD({...e,elements:{reference:null,floating:null,...e.elements}}),i=e.rootContext||r,a=i.elements,[s,u]=C.useState(null),[d,f]=C.useState(null),g=a?.domReference||s,y=C.useRef(null),x=qy();oo(()=>{g&&(y.current=g)},[g]);const w=_D({...e,elements:{...a,...d&&{reference:d}}}),_=C.useCallback(I=>{const F=pn(I)?{getBoundingClientRect:()=>I.getBoundingClientRect(),getClientRects:()=>I.getClientRects(),contextElement:I}:I;f(F),w.refs.setReference(F)},[w.refs]),E=C.useCallback(I=>{(pn(I)||I===null)&&(y.current=I,u(I)),(pn(w.refs.reference.current)||w.refs.reference.current===null||I!==null&&!pn(I))&&w.refs.setReference(I)},[w.refs]),T=C.useMemo(()=>({...w.refs,setReference:E,setPositionReference:_,domReference:y}),[w.refs,E,_]),N=C.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),D=C.useMemo(()=>({...w,...i,refs:T,elements:N,nodeId:t}),[w,T,N,t,i]);return oo(()=>{i.dataRef.current.floatingContext=D;const I=x?.nodesRef.current.find(F=>F.id===t);I&&(I.context=D)}),C.useMemo(()=>({...w,context:D,refs:T,elements:N}),[w,T,N,D])}function xg(){return TP()&&MP()}function qD(e,t){t===void 0&&(t={});const{open:r,onOpenChange:i,events:a,dataRef:s,elements:u}=e,{enabled:d=!0,visibleOnly:f=!0}=t,h=C.useRef(!1),g=C.useRef(-1),y=C.useRef(!0);C.useEffect(()=>{if(!d)return;const w=Hr(u.domReference);function _(){!r&&ai(u.domReference)&&u.domReference===jw(Ts(u.domReference))&&(h.current=!0)}function E(){y.current=!0}function T(){y.current=!1}return w.addEventListener("blur",_),xg()&&(w.addEventListener("keydown",E,!0),w.addEventListener("pointerdown",T,!0)),()=>{w.removeEventListener("blur",_),xg()&&(w.removeEventListener("keydown",E,!0),w.removeEventListener("pointerdown",T,!0))}},[u.domReference,r,d]),C.useEffect(()=>{if(!d)return;function w(_){let{reason:E}=_;(E==="reference-press"||E==="escape-key")&&(h.current=!0)}return a.on("openchange",w),()=>{a.off("openchange",w)}},[a,d]),C.useEffect(()=>()=>{xi(g)},[]);const x=C.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(w){if(h.current)return;const _=Vl(w.nativeEvent);if(f&&pn(_)){if(xg()&&!w.relatedTarget){if(!y.current&&!AP(_))return}else if(!NP(_))return}i(!0,w.nativeEvent,"focus")},onBlur(w){h.current=!1;const _=w.relatedTarget,E=w.nativeEvent,T=pn(_)&&_.hasAttribute(Gy("focus-guard"))&&_.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var N;const D=jw(u.domReference?u.domReference.ownerDocument:document);!_&&D===u.domReference||Vc((N=s.current.floatingContext)==null?void 0:N.refs.floating.current,D)||Vc(u.domReference,D)||T||i(!1,E,"focus")})}}),[s,u.domReference,i,f]);return C.useMemo(()=>d?{reference:x}:{},[d,x])}function wg(e,t,r){const i=new Map,a=r==="item";let s=e;if(a&&e){const{[Gw]:u,[Vw]:d,...f}=e;s=f}return{...r==="floating"&&{tabIndex:-1,[TD]:""},...s,...t.map(u=>{const d=u?u[r]:null;return typeof d=="function"?e?d(e):null:d}).concat(e).reduce((u,d)=>(d&&Object.entries(d).forEach(f=>{let[h,g]=f;if(!(a&&[Gw,Vw].includes(h)))if(h.indexOf("on")===0){if(i.has(h)||i.set(h,[]),typeof g=="function"){var y;(y=i.get(h))==null||y.push(g),u[h]=function(){for(var x,w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];return(x=i.get(h))==null?void 0:x.map(T=>T(..._)).find(T=>T!==void 0)}}}else u[h]=g}),u),{})}}function GD(e){e===void 0&&(e=[]);const t=e.map(d=>d?.reference),r=e.map(d=>d?.floating),i=e.map(d=>d?.item),a=C.useCallback(d=>wg(d,e,"reference"),t),s=C.useCallback(d=>wg(d,e,"floating"),r),u=C.useCallback(d=>wg(d,e,"item"),i);return C.useMemo(()=>({getReferenceProps:a,getFloatingProps:s,getItemProps:u}),[a,s,u])}const VD=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function YD(e,t){var r,i;t===void 0&&(t={});const{open:a,elements:s,floatingId:u}=e,{enabled:d=!0,role:f="dialog"}=t,h=DC(),g=((r=s.domReference)==null?void 0:r.id)||h,y=C.useMemo(()=>{var D;return((D=IP(s.floating))==null?void 0:D.id)||u},[s.floating,u]),x=(i=VD.get(f))!=null?i:f,_=Hy()!=null,E=C.useMemo(()=>x==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:a?y:void 0}:{"aria-expanded":a?"true":"false","aria-haspopup":x==="alertdialog"?"dialog":x,"aria-controls":a?y:void 0,...x==="listbox"&&{role:"combobox"},...x==="menu"&&{id:g},...x==="menu"&&_&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[x,y,_,a,g,f]),T=C.useMemo(()=>{const D={id:y,...x&&{role:x}};return x==="tooltip"||f==="label"?D:{...D,...x==="menu"&&{"aria-labelledby":g}}},[x,y,g,f]),N=C.useCallback(D=>{let{active:I,selected:F}=D;const k={role:"option",...I&&{id:y+"-fui-option"}};switch(f){case"select":case"combobox":return{...k,"aria-selected":F}}return{}},[y,f]);return C.useMemo(()=>d?{reference:E,floating:T,item:N}:{},[d,E,T,N])}var Yy={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const[KD,Mi]=fo("ScrollArea.Root component was not found in tree");function nu(e,t){const r=Ms(t);Ka(()=>{let i=0;if(e){const a=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(i),a.unobserve(e)}}},[e,r])}const XD=C.forwardRef((e,t)=>{const{style:r,...i}=e,a=Mi(),[s,u]=C.useState(0),[d,f]=C.useState(0),h=!!(s&&d);return nu(a.scrollbarX,()=>{const g=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(g),f(g)}),nu(a.scrollbarY,()=>{const g=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(g),u(g)}),h?R.jsx("div",{...i,ref:t,style:{...r,width:s,height:d}}):null}),WD=C.forwardRef((e,t)=>{const r=Mi(),i=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&i?R.jsx(XD,{...e,ref:t}):null}),QD={scrollHideDelay:1e3,type:"hover"},NC=C.forwardRef((e,t)=>{const{type:r,scrollHideDelay:i,scrollbars:a,getStyles:s,...u}=Be("ScrollAreaRoot",QD,e),[d,f]=C.useState(null),[h,g]=C.useState(null),[y,x]=C.useState(null),[w,_]=C.useState(null),[E,T]=C.useState(null),[N,D]=C.useState(0),[I,F]=C.useState(0),[k,U]=C.useState(!1),[A,$]=C.useState(!1),ae=Gr(t,ue=>f(ue));return R.jsx(KD,{value:{type:r,scrollHideDelay:i,scrollArea:d,viewport:h,onViewportChange:g,content:y,onContentChange:x,scrollbarX:w,onScrollbarXChange:_,scrollbarXEnabled:k,onScrollbarXEnabledChange:U,scrollbarY:E,onScrollbarYChange:T,scrollbarYEnabled:A,onScrollbarYEnabledChange:$,onCornerWidthChange:D,onCornerHeightChange:F,getStyles:s},children:R.jsx(ke,{...u,ref:ae,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${N}px`,"--sa-corner-height":a!=="xy"?"0px":`${I}px`}})})});NC.displayName="@mantine/core/ScrollAreaRoot";function IC(e,t){const r=e/t;return Number.isNaN(r)?0:r}function Nh(e){const t=IC(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=(e.scrollbar.size-r)*t;return Math.max(i,18)}function jC(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const i=(t[1]-t[0])/(e[1]-e[0]);return t[0]+i*(r-e[0])}}function ZD(e,[t,r]){return Math.min(r,Math.max(t,e))}function Qw(e,t,r="ltr"){const i=Nh(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-a,u=t.content-t.viewport,d=s-i,f=r==="ltr"?[0,u]:[u*-1,0],h=ZD(e,f);return jC([0,u],[0,d])(h)}function JD(e,t,r,i="ltr"){const a=Nh(r),s=a/2,u=t||s,d=a-u,f=r.scrollbar.paddingStart+u,h=r.scrollbar.size-r.scrollbar.paddingEnd-d,g=r.content-r.viewport,y=i==="ltr"?[0,g]:[g*-1,0];return jC([f,h],y)(e)}function zC(e,t){return e>0&&e<t}function uh(e){return e?parseInt(e,10):0}function Ns(e,t,{checkForDefaultPrevented:r=!0}={}){return i=>{e?.(i),(r===!1||!i.defaultPrevented)&&t?.(i)}}const[e2,FC]=fo("ScrollAreaScrollbar was not found in tree"),kC=C.forwardRef((e,t)=>{const{sizes:r,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:h,onResize:g,...y}=e,x=Mi(),[w,_]=C.useState(null),E=Gr(t,$=>_($)),T=C.useRef(null),N=C.useRef(""),{viewport:D}=x,I=r.content-r.viewport,F=Ms(h),k=Ms(d),U=Sh(g,10),A=$=>{if(T.current){const ae=$.clientX-T.current.left,ue=$.clientY-T.current.top;f({x:ae,y:ue})}};return C.useEffect(()=>{const $=ae=>{const ue=ae.target;w?.contains(ue)&&F(ae,I)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[D,w,I,F]),C.useEffect(k,[r,k]),nu(w,U),nu(x.content,U),R.jsx(e2,{value:{scrollbar:w,hasThumb:i,onThumbChange:Ms(a),onThumbPointerUp:Ms(s),onThumbPositionChange:k,onThumbPointerDown:Ms(u)},children:R.jsx("div",{...y,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:Ns(e.onPointerDown,$=>{$.preventDefault(),$.button===0&&($.target.setPointerCapture($.pointerId),T.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",A($))}),onPointerMove:Ns(e.onPointerMove,A),onPointerUp:Ns(e.onPointerUp,$=>{const ae=$.target;ae.hasPointerCapture($.pointerId)&&($.preventDefault(),ae.releasePointerCapture($.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=N.current,T.current=null}})})}),LC=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,style:a,...s}=e,u=Mi(),[d,f]=C.useState(),h=C.useRef(null),g=Gr(t,h,u.onScrollbarXChange);return C.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),R.jsx(kC,{"data-orientation":"horizontal",...s,ref:g,sizes:r,style:{...a,"--sa-thumb-width":`${Nh(r)}px`},onThumbPointerDown:y=>e.onThumbPointerDown(y.x),onDragScroll:y=>e.onDragScroll(y.x),onWheelScroll:(y,x)=>{if(u.viewport){const w=u.viewport.scrollLeft+y.deltaX;e.onWheelScroll(w),zC(w,x)&&y.preventDefault()}},onResize:()=>{h.current&&u.viewport&&d&&i({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:uh(d.paddingLeft),paddingEnd:uh(d.paddingRight)}})}})});LC.displayName="@mantine/core/ScrollAreaScrollbarX";const BC=C.forwardRef((e,t)=>{const{sizes:r,onSizesChange:i,style:a,...s}=e,u=Mi(),[d,f]=C.useState(),h=C.useRef(null),g=Gr(t,h,u.onScrollbarYChange);return C.useEffect(()=>{h.current&&f(window.getComputedStyle(h.current))},[]),R.jsx(kC,{...s,"data-orientation":"vertical",ref:g,sizes:r,style:{"--sa-thumb-height":`${Nh(r)}px`,...a},onThumbPointerDown:y=>e.onThumbPointerDown(y.y),onDragScroll:y=>e.onDragScroll(y.y),onWheelScroll:(y,x)=>{if(u.viewport){const w=u.viewport.scrollTop+y.deltaY;e.onWheelScroll(w),zC(w,x)&&y.preventDefault()}},onResize:()=>{h.current&&u.viewport&&d&&i({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:uh(d.paddingTop),paddingEnd:uh(d.paddingBottom)}})}})});BC.displayName="@mantine/core/ScrollAreaScrollbarY";const Ih=C.forwardRef((e,t)=>{const{orientation:r="vertical",...i}=e,{dir:a}=td(),s=Mi(),u=C.useRef(null),d=C.useRef(0),[f,h]=C.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=IC(f.viewport,f.content),y={...i,sizes:f,onSizesChange:h,hasThumb:g>0&&g<1,onThumbChange:w=>{u.current=w},onThumbPointerUp:()=>{d.current=0},onThumbPointerDown:w=>{d.current=w}},x=(w,_)=>JD(w,d.current,f,_);return r==="horizontal"?R.jsx(LC,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&u.current){const w=s.viewport.scrollLeft,_=Qw(w,f,a);u.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=x(w,a))}}):r==="vertical"?R.jsx(BC,{...y,ref:t,onThumbPositionChange:()=>{if(s.viewport&&u.current){const w=s.viewport.scrollTop,_=Qw(w,f);f.scrollbar.size===0?u.current.style.setProperty("--thumb-opacity","0"):u.current.style.setProperty("--thumb-opacity","1"),u.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=x(w))}}):null});Ih.displayName="@mantine/core/ScrollAreaScrollbarVisible";const Ky=C.forwardRef((e,t)=>{const r=Mi(),{forceMount:i,...a}=e,[s,u]=C.useState(!1),d=e.orientation==="horizontal",f=Sh(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,g=r.viewport.offsetHeight<r.viewport.scrollHeight;u(d?h:g)}},10);return nu(r.viewport,f),nu(r.content,f),i||s?R.jsx(Ih,{"data-state":s?"visible":"hidden",...a,ref:t}):null});Ky.displayName="@mantine/core/ScrollAreaScrollbarAuto";const UC=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=Mi(),[s,u]=C.useState(!1);return C.useEffect(()=>{const{scrollArea:d}=a;let f=0;if(d){const h=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return d.addEventListener("pointerenter",h),d.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),d.removeEventListener("pointerenter",h),d.removeEventListener("pointerleave",g)}}},[a.scrollArea,a.scrollHideDelay]),r||s?R.jsx(Ky,{"data-state":s?"visible":"hidden",...i,ref:t}):null});UC.displayName="@mantine/core/ScrollAreaScrollbarHover";const t2=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=Mi(),s=e.orientation==="horizontal",[u,d]=C.useState("hidden"),f=Sh(()=>d("idle"),100);return C.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>d("hidden"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,a.scrollHideDelay]),C.useEffect(()=>{const{viewport:h}=a,g=s?"scrollLeft":"scrollTop";if(h){let y=h[g];const x=()=>{const w=h[g];y!==w&&(d("scrolling"),f()),y=w};return h.addEventListener("scroll",x),()=>h.removeEventListener("scroll",x)}},[a.viewport,s,f]),r||u!=="hidden"?R.jsx(Ih,{"data-state":u==="hidden"?"hidden":"visible",...i,ref:t,onPointerEnter:Ns(e.onPointerEnter,()=>d("interacting")),onPointerLeave:Ns(e.onPointerLeave,()=>d("idle"))}):null}),Zg=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=Mi(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:u}=a,d=e.orientation==="horizontal";return C.useEffect(()=>(d?s(!0):u(!0),()=>{d?s(!1):u(!1)}),[d,s,u]),a.type==="hover"?R.jsx(UC,{...i,ref:t,forceMount:r}):a.type==="scroll"?R.jsx(t2,{...i,ref:t,forceMount:r}):a.type==="auto"?R.jsx(Ky,{...i,ref:t,forceMount:r}):a.type==="always"?R.jsx(Ih,{...i,ref:t}):null});Zg.displayName="@mantine/core/ScrollAreaScrollbar";function n2(e,t=()=>{}){let r={left:e.scrollLeft,top:e.scrollTop},i=0;return(function a(){const s={left:e.scrollLeft,top:e.scrollTop},u=r.left!==s.left,d=r.top!==s.top;(u||d)&&t(),r=s,i=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(i)}const $C=C.forwardRef((e,t)=>{const{style:r,...i}=e,a=Mi(),s=FC(),{onThumbPositionChange:u}=s,d=Gr(t,g=>s.onThumbChange(g)),f=C.useRef(void 0),h=Sh(()=>{f.current&&(f.current(),f.current=void 0)},100);return C.useEffect(()=>{const{viewport:g}=a;if(g){const y=()=>{if(h(),!f.current){const x=n2(g,u);f.current=x,u()}};return u(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[a.viewport,h,u]),R.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...r},onPointerDownCapture:Ns(e.onPointerDownCapture,g=>{const x=g.target.getBoundingClientRect(),w=g.clientX-x.left,_=g.clientY-x.top;s.onThumbPointerDown({x:w,y:_})}),onPointerUp:Ns(e.onPointerUp,s.onThumbPointerUp)})});$C.displayName="@mantine/core/ScrollAreaThumb";const Jg=C.forwardRef((e,t)=>{const{forceMount:r,...i}=e,a=FC();return r||a.hasThumb?R.jsx($C,{ref:t,...i}):null});Jg.displayName="@mantine/core/ScrollAreaThumb";const HC=C.forwardRef(({children:e,style:t,onWheel:r,...i},a)=>{const s=Mi(),u=Gr(a,s.onViewportChange),d=f=>{if(r?.(f),s.scrollbarXEnabled&&s.viewport&&f.shiftKey){const{scrollTop:h,scrollHeight:g,clientHeight:y,scrollWidth:x,clientWidth:w}=s.viewport,_=h<1,E=h>=g-y-1;x>w&&(_||E)&&f.stopPropagation()}};return R.jsx(ke,{...i,ref:u,onWheel:d,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...t},children:R.jsx("div",{...s.getStyles("content"),ref:s.onContentChange,children:e})})});HC.displayName="@mantine/core/ScrollAreaViewport";const qC={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},r2=(e,{scrollbarSize:t,overscrollBehavior:r,scrollbars:i})=>{let a=r;return r&&i&&(i==="x"?a=`${r} auto`:i==="y"&&(a=`auto ${r}`)),{root:{"--scrollarea-scrollbar-size":Ee(t),"--scrollarea-over-scroll-behavior":a}}},yu=et((e,t)=>{const r=Be("ScrollArea",qC,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,scrollbarSize:f,vars:h,type:g,scrollHideDelay:y,viewportProps:x,viewportRef:w,onScrollPositionChange:_,children:E,offsetScrollbars:T,scrollbars:N,onBottomReached:D,onTopReached:I,overscrollBehavior:F,attributes:k,...U}=r,[A,$]=C.useState(!1),[ae,ue]=C.useState(!1),[me,de]=C.useState(!1),_e=gt({name:"ScrollArea",props:r,classes:Yy,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:k,vars:h,varsResolver:r2}),ce=C.useRef(null),Ce=PC([w,ce]);return C.useEffect(()=>{if(!ce.current||T!=="present")return;const B=ce.current,J=new ResizeObserver(()=>{const{scrollHeight:V,clientHeight:be,scrollWidth:Se,clientWidth:q}=B;ue(V>be),de(Se>q)});return J.observe(B),()=>J.disconnect()},[ce,T]),R.jsxs(NC,{getStyles:_e,type:g==="never"?"always":g,scrollHideDelay:y,ref:t,scrollbars:N,..._e("root"),...U,children:[R.jsx(HC,{...x,..._e("viewport",{style:x?.style}),ref:Ce,"data-offset-scrollbars":T===!0?"xy":T||void 0,"data-scrollbars":N||void 0,"data-horizontal-hidden":T==="present"&&!me?"true":void 0,"data-vertical-hidden":T==="present"&&!ae?"true":void 0,onScroll:B=>{x?.onScroll?.(B),_?.({x:B.currentTarget.scrollLeft,y:B.currentTarget.scrollTop});const{scrollTop:J,scrollHeight:V,clientHeight:be}=B.currentTarget;J-(V-be)>=-.8&&D?.(),J===0&&I?.()},children:E}),(N==="xy"||N==="x")&&R.jsx(Zg,{..._e("scrollbar"),orientation:"horizontal","data-hidden":g==="never"||T==="present"&&!me?!0:void 0,forceMount:!0,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:R.jsx(Jg,{..._e("thumb")})}),(N==="xy"||N==="y")&&R.jsx(Zg,{..._e("scrollbar"),orientation:"vertical","data-hidden":g==="never"||T==="present"&&!ae?!0:void 0,forceMount:!0,onMouseEnter:()=>$(!0),onMouseLeave:()=>$(!1),children:R.jsx(Jg,{..._e("thumb")})}),R.jsx(WD,{..._e("corner"),"data-hovered":A||void 0,"data-hidden":g==="never"||void 0})]})});yu.displayName="@mantine/core/ScrollArea";const Xy=et((e,t)=>{const{children:r,classNames:i,styles:a,scrollbarSize:s,scrollHideDelay:u,type:d,dir:f,offsetScrollbars:h,overscrollBehavior:g,viewportRef:y,onScrollPositionChange:x,unstyled:w,variant:_,viewportProps:E,scrollbars:T,style:N,vars:D,onBottomReached:I,onTopReached:F,onOverflowChange:k,...U}=Be("ScrollAreaAutosize",qC,e),A=C.useRef(null),$=PC([y,A]),[ae,ue]=C.useState(!1),me=C.useRef(!1);return C.useEffect(()=>{if(!k)return;const de=A.current;if(!de)return;const _e=()=>{const Ce=de.scrollHeight>de.clientHeight;Ce!==ae&&(me.current?k?.(Ce):(me.current=!0,Ce&&k?.(!0)),ue(Ce))};_e();const ce=new ResizeObserver(_e);return ce.observe(de),()=>ce.disconnect()},[k,ae]),R.jsx(ke,{...U,ref:t,style:[{display:"flex",overflow:"hidden"},N],children:R.jsx(ke,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...T==="y"&&{minWidth:0},...T==="x"&&{minHeight:0},...T==="xy"&&{minWidth:0,minHeight:0},...T===!1&&{minWidth:0,minHeight:0}},children:R.jsx(yu,{classNames:i,styles:a,scrollHideDelay:u,scrollbarSize:s,type:d,dir:f,offsetScrollbars:h,overscrollBehavior:g,viewportRef:$,onScrollPositionChange:x,unstyled:w,variant:_,viewportProps:E,vars:D,scrollbars:T,onBottomReached:I,onTopReached:F,"data-autosize":"true",children:r})})})});yu.classes=Yy;Xy.displayName="@mantine/core/ScrollAreaAutosize";Xy.classes=Yy;yu.Autosize=Xy;var GC={root:"m_87cf2631"};const i2={__staticSelector:"UnstyledButton"},Us=Tr((e,t)=>{const r=Be("UnstyledButton",i2,e),{className:i,component:a="button",__staticSelector:s,unstyled:u,classNames:d,styles:f,style:h,attributes:g,...y}=r,x=gt({name:s,props:r,classes:GC,className:i,style:h,classNames:d,styles:f,unstyled:u,attributes:g});return R.jsx(ke,{...x("root",{focusable:!0}),component:a,ref:t,type:a==="button"?"button":void 0,...y})});Us.classes=GC;Us.displayName="@mantine/core/UnstyledButton";var VC={root:"m_515a97f8"};const Wy=et((e,t)=>{const r=Be("VisuallyHidden",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,attributes:h,...g}=r,y=gt({name:"VisuallyHidden",classes:VC,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:h});return R.jsx(ke,{component:"span",ref:t,...y("root"),...g})});Wy.classes=VC;Wy.displayName="@mantine/core/VisuallyHidden";var YC={root:"m_1b7284a3"};const o2=(e,{radius:t,shadow:r})=>({root:{"--paper-radius":t===void 0?void 0:$n(t),"--paper-shadow":My(r)}}),jh=Tr((e,t)=>{const r=Be("Paper",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,withBorder:f,vars:h,radius:g,shadow:y,variant:x,mod:w,attributes:_,...E}=r,T=gt({name:"Paper",props:r,classes:YC,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:_,vars:h,varsResolver:o2});return R.jsx(ke,{ref:t,mod:[{"data-with-border":f},w],...T("root"),variant:x,...E})});jh.classes=YC;jh.displayName="@mantine/core/Paper";function Zw(e,t,r,i){return e==="center"||i==="center"?{top:t}:e==="end"?{bottom:r}:e==="start"?{top:r}:{}}function Jw(e,t,r,i,a){return e==="center"||i==="center"?{left:t}:e==="end"?{[a==="ltr"?"right":"left"]:r}:e==="start"?{[a==="ltr"?"left":"right"]:r}:{}}const a2={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function s2({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:a,arrowX:s,arrowY:u,dir:d}){const[f,h="center"]=e.split("-"),g={width:t,height:t,transform:"rotate(45deg)",position:"absolute",[a2[f]]:i},y=-t/2;return f==="left"?{...g,...Zw(h,u,r,a),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:f==="right"?{...g,...Zw(h,u,r,a),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:f==="top"?{...g,...Jw(h,s,r,a,d),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:f==="bottom"?{...g,...Jw(h,s,r,a,d),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const ch=C.forwardRef(({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:a,visible:s,arrowX:u,arrowY:d,style:f,...h},g)=>{const{dir:y}=td();return s?R.jsx("div",{...h,ref:g,style:{...f,...s2({position:e,arrowSize:t,arrowOffset:r,arrowRadius:i,arrowPosition:a,dir:y,arrowX:u,arrowY:d})}}):null});ch.displayName="@mantine/core/FloatingArrow";function KC(e,t){if(e==="rtl"&&(t.includes("right")||t.includes("left"))){const[r,i]=t.split("-"),a=r==="right"?"left":"right";return i===void 0?a:`${a}-${i}`}return t}var XC={root:"m_9814e45f"};const l2={zIndex:Hi("modal")},u2=(e,{gradient:t,color:r,backgroundOpacity:i,blur:a,radius:s,zIndex:u})=>({root:{"--overlay-bg":t||(r!==void 0||i!==void 0)&&to(r||"#000",i??.6)||void 0,"--overlay-filter":a?`blur(${Ee(a)})`:void 0,"--overlay-radius":s===void 0?void 0:$n(s),"--overlay-z-index":u?.toString()}}),zh=Tr((e,t)=>{const r=Be("Overlay",l2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,fixed:h,center:g,children:y,radius:x,zIndex:w,gradient:_,blur:E,color:T,backgroundOpacity:N,mod:D,attributes:I,...F}=r,k=gt({name:"Overlay",props:r,classes:XC,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:I,vars:f,varsResolver:u2});return R.jsx(ke,{ref:t,...k("root"),mod:[{center:g,fixed:h},D],...F,children:y})});zh.classes=XC;zh.displayName="@mantine/core/Overlay";function Sg(e){const t=document.createElement("div");return t.setAttribute("data-portal","true"),typeof e.className=="string"&&t.classList.add(...e.className.split(" ").filter(Boolean)),typeof e.style=="object"&&Object.assign(t.style,e.style),typeof e.id=="string"&&t.setAttribute("id",e.id),t}function c2({target:e,reuseTargetNode:t,...r}){if(e)return typeof e=="string"?document.querySelector(e)||Sg(r):e;if(t){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const a=Sg(r);return a.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(a),a}return Sg(r)}const d2={reuseTargetNode:!0},WC=et((e,t)=>{const{children:r,target:i,reuseTargetNode:a,...s}=Be("Portal",d2,e),[u,d]=C.useState(!1),f=C.useRef(null);return Ka(()=>(d(!0),f.current=c2({target:i,reuseTargetNode:a,...s}),Ug(t,f.current),!i&&!a&&f.current&&document.body.appendChild(f.current),()=>{!i&&!a&&f.current&&document.body.removeChild(f.current)}),[i]),!u||!f.current?null:Bs.createPortal(R.jsx(R.Fragment,{children:r}),f.current)});WC.displayName="@mantine/core/Portal";const Ga=et(({withinPortal:e=!0,children:t,...r},i)=>Oh()==="test"||!e?R.jsx(R.Fragment,{children:t}):R.jsx(WC,{ref:i,...r,children:t}));Ga.displayName="@mantine/core/OptionalPortal";const Mc=e=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${e==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),jf={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Mc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Mc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Mc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Mc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Mc("top"),common:{transformOrigin:"top right"}}},eS={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function f2({transition:e,state:t,duration:r,timingFunction:i}){const a={WebkitBackfaceVisibility:"hidden",transitionDuration:`${r}ms`,transitionTimingFunction:i};return typeof e=="string"?e in jf?{transitionProperty:jf[e].transitionProperty,...a,...jf[e].common,...jf[e][eS[t]]}:{}:{transitionProperty:e.transitionProperty,...a,...e.common,...e[eS[t]]}}function h2({duration:e,exitDuration:t,timingFunction:r,mounted:i,onEnter:a,onExit:s,onEntered:u,onExited:d,enterDelay:f,exitDelay:h}){const g=si(),y=Ch(),x=g.respectReducedMotion?y:!1,[w,_]=C.useState(x?0:e),[E,T]=C.useState(i?"entered":"exited"),N=C.useRef(-1),D=C.useRef(-1),I=C.useRef(-1);function F(){window.clearTimeout(N.current),window.clearTimeout(D.current),cancelAnimationFrame(I.current)}const k=A=>{F();const $=A?a:s,ae=A?u:d,ue=x?0:A?e:t;_(ue),ue===0?(typeof $=="function"&&$(),typeof ae=="function"&&ae(),T(A?"entered":"exited")):I.current=requestAnimationFrame(()=>{Nc.flushSync(()=>{T(A?"pre-entering":"pre-exiting")}),I.current=requestAnimationFrame(()=>{typeof $=="function"&&$(),T(A?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof ae=="function"&&ae(),T(A?"entered":"exited")},ue)})})},U=A=>{if(F(),typeof(A?f:h)!="number"){k(A);return}D.current=window.setTimeout(()=>{k(A)},A?f:h)};return js(()=>{U(i)},[i]),C.useEffect(()=>()=>{F()},[]),{transitionDuration:w,transitionStatus:E,transitionTimingFunction:r||"ease"}}function Vo({keepMounted:e,transition:t="fade",duration:r=250,exitDuration:i=r,mounted:a,children:s,timingFunction:u="ease",onExit:d,onEntered:f,onEnter:h,onExited:g,enterDelay:y,exitDelay:x}){const w=Oh(),{transitionDuration:_,transitionStatus:E,transitionTimingFunction:T}=h2({mounted:a,exitDuration:i,duration:r,timingFunction:u,onExit:d,onEntered:f,onEnter:h,onExited:g,enterDelay:y,exitDelay:x});return _===0||w==="test"?a?R.jsx(R.Fragment,{children:s({})}):e?s({display:"none"}):null:E==="exited"?e?s({display:"none"}):null:R.jsx(R.Fragment,{children:s(f2({transition:t,duration:_,state:E,timingFunction:T}))})}Vo.displayName="@mantine/core/Transition";const[p2,QC]=fo("Popover component was not found in the tree");var ZC={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};function Fh({children:e,active:t=!0,refProp:r="ref",innerRef:i}){const a=zT(t),s=Gr(a,i),u=pu(e);return u?C.cloneElement(u,{[r]:s}):e}function JC(e){return R.jsx(Wy,{tabIndex:-1,"data-autofocus":!0,...e})}Fh.displayName="@mantine/core/FocusTrap";JC.displayName="@mantine/core/FocusTrapInitialFocus";Fh.InitialFocus=JC;const Qy=et((e,t)=>{const r=Be("PopoverDropdown",null,e),{className:i,style:a,vars:s,children:u,onKeyDownCapture:d,variant:f,classNames:h,styles:g,...y}=r,x=QC(),w=W1({opened:x.opened,shouldReturnFocus:x.returnFocus}),_=x.withRoles?{"aria-labelledby":x.getTargetId(),id:x.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=Gr(t,x.floating);return x.disabled?null:R.jsx(Ga,{...x.portalProps,withinPortal:x.withinPortal,children:R.jsx(Vo,{mounted:x.opened,...x.transitionProps,transition:x.transitionProps?.transition||"fade",duration:x.transitionProps?.duration??150,keepMounted:x.keepMounted,exitDuration:typeof x.transitionProps?.exitDuration=="number"?x.transitionProps.exitDuration:x.transitionProps?.duration,children:T=>R.jsx(Fh,{active:x.trapFocus&&x.opened,innerRef:E,children:R.jsxs(ke,{..._,...y,variant:f,onKeyDownCapture:_T(()=>{x.onClose?.(),x.onDismiss?.()},{active:x.closeOnEscape,onTrigger:w,onKeyDown:d}),"data-position":x.placement,"data-fixed":x.floatingStrategy==="fixed"||void 0,...x.getStyles("dropdown",{className:i,props:r,classNames:h,styles:g,style:[{...T,zIndex:x.zIndex,top:x.y??0,left:x.x??0,width:x.width==="target"?void 0:Ee(x.width),...x.referenceHidden?{display:"none"}:null},x.resolvedStyles.dropdown,g?.dropdown,a]}),children:[u,R.jsx(ch,{ref:x.arrowRef,arrowX:x.arrowX,arrowY:x.arrowY,visible:x.withArrow,position:x.placement,arrowSize:x.arrowSize,arrowRadius:x.arrowRadius,arrowOffset:x.arrowOffset,arrowPosition:x.arrowPosition,...x.getStyles("arrow",{props:r,classNames:h,styles:g})})]})})})})});Qy.classes=ZC;Qy.displayName="@mantine/core/PopoverDropdown";const m2={refProp:"ref",popupType:"dialog"},e_=et((e,t)=>{const{children:r,refProp:i,popupType:a,...s}=Be("PopoverTarget",m2,e),u=pu(r);if(!u)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const d=s,f=QC(),h=Gr(f.reference,_h(u),t),g=f.withRoles?{"aria-haspopup":a,"aria-expanded":f.opened,"aria-controls":f.opened?f.getDropdownId():void 0,id:f.getTargetId()}:{},y=u.props;return C.cloneElement(u,{...d,...g,...f.targetProps,className:Bn(f.targetProps.className,d.className,y.className),[i]:h,...f.controlled?null:{onClick:()=>{f.onToggle(),y.onClick?.()}}})});e_.displayName="@mantine/core/PopoverTarget";function g2(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function y2(e,t,r){const i=g2(e.middlewares),a=[TC(e.offset),MD()];return e.dropdownVisible&&r!=="test"&&e.preventPositionChangeWhenVisible&&(i.flip=!1),i.flip&&a.push(typeof i.flip=="boolean"?lh():lh(i.flip)),i.shift&&a.push($y(typeof i.shift=="boolean"?{limiter:qw(),padding:5}:{limiter:qw(),padding:5,...i.shift})),i.inline&&a.push(typeof i.inline=="boolean"?Bc():Bc(i.inline)),a.push(RC({element:e.arrowRef,padding:e.arrowOffset})),(i.size||e.width==="target")&&a.push(OD({...typeof i.size=="boolean"?{}:i.size,apply({rects:s,availableWidth:u,availableHeight:d,...f}){const g=t().refs.floating.current?.style??{};i.size&&(typeof i.size=="object"&&i.size.apply?i.size.apply({rects:s,availableWidth:u,availableHeight:d,...f}):Object.assign(g,{maxWidth:`${u}px`,maxHeight:`${d}px`})),e.width==="target"&&Object.assign(g,{width:`${s.reference.width}px`})}})),a}function v2(e){const t=Oh(),[r,i]=qa({value:e.opened,defaultValue:e.defaultOpened,finalValue:!1,onChange:e.onChange}),a=C.useRef(r),s=()=>{r&&!e.disabled&&i(!1)},u=()=>{e.disabled||i(!r)},d=Vy({strategy:e.strategy,placement:e.preventPositionChangeWhenVisible?e.positionRef.current:e.position,middleware:y2(e,()=>d,t),whileElementsMounted:e.keepMounted?void 0:Wg});return C.useEffect(()=>{if(!(!d.refs.reference.current||!d.refs.floating.current)&&r)return Wg(d.refs.reference.current,d.refs.floating.current,d.update)},[r,d.update]),js(()=>{e.onPositionChange?.(d.placement),e.positionRef.current=d.placement},[d.placement,e.preventPositionChangeWhenVisible]),js(()=>{r!==a.current&&(r?e.onOpen?.():e.onClose?.()),a.current=r},[r,e.onClose,e.onOpen]),Ka(()=>{let f=-1;return r&&(f=window.setTimeout(()=>e.setDropdownVisible(!0),4)),()=>{window.clearTimeout(f)}},[r,e.position]),{floating:d,controlled:typeof e.opened=="boolean",opened:r,onClose:s,onToggle:u}}const b2={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Hi("popover"),__staticSelector:"Popover",width:"max-content"},x2=(e,{radius:t,shadow:r})=>({dropdown:{"--popover-radius":t===void 0?void 0:$n(t),"--popover-shadow":My(r)}});function Xa(e){const t=Be("Popover",b2,e),{children:r,position:i,offset:a,onPositionChange:s,positionDependencies:u,opened:d,transitionProps:f,onExitTransitionEnd:h,onEnterTransitionEnd:g,width:y,middlewares:x,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:N,unstyled:D,classNames:I,styles:F,closeOnClickOutside:k,withinPortal:U,portalProps:A,closeOnEscape:$,clickOutsideEvents:ae,trapFocus:ue,onClose:me,onDismiss:de,onOpen:_e,onChange:ce,zIndex:Ce,radius:B,shadow:J,id:V,defaultOpened:be,__staticSelector:Se,withRoles:q,disabled:re,returnFocus:we,variant:Ne,keepMounted:Ie,vars:qe,floatingStrategy:nt,withOverlay:wt,overlayProps:De,hideDetached:Zt,attributes:ln,preventPositionChangeWhenVisible:Ze,...ht}=t,kt=gt({name:Se,props:t,classes:ZC,classNames:I,styles:F,unstyled:D,attributes:ln,rootSelector:"dropdown",vars:qe,varsResolver:x2}),{resolvedStyles:nn}=Mh({classNames:I,styles:F,props:t}),[mn,Rr]=C.useState(d??be??!1),nr=C.useRef(i),Jt=C.useRef(null),[Hn,gn]=C.useState(null),[xn,br]=C.useState(null),{dir:Lt}=td(),Ht=Oh(),qn=Oi(V),lt=v2({middlewares:x,width:y,position:KC(Lt,i),offset:typeof a=="number"?a+(w?_/2:0):a,arrowRef:Jt,arrowOffset:E,onPositionChange:s,positionDependencies:u,opened:d,defaultOpened:be,onChange:ce,onOpen:_e,onClose:me,onDismiss:de,strategy:nt,dropdownVisible:mn,setDropdownVisible:Rr,positionRef:nr,disabled:re,preventPositionChangeWhenVisible:Ze,keepMounted:Ie});MT(()=>{k&&(lt.onClose(),de?.())},ae,[Hn,xn]);const wn=C.useCallback(rn=>{gn(rn),lt.floating.refs.setReference(rn)},[lt.floating.refs.setReference]),Cn=C.useCallback(rn=>{br(rn),lt.floating.refs.setFloating(rn)},[lt.floating.refs.setFloating]),Tn=C.useCallback(()=>{f?.onExited?.(),h?.(),Rr(!1),Ze||(nr.current=i)},[f?.onExited,h,Ze,i]),Vr=C.useCallback(()=>{f?.onEntered?.(),g?.()},[f?.onEntered,g]);return R.jsxs(p2,{value:{returnFocus:we,disabled:re,controlled:lt.controlled,reference:wn,floating:Cn,x:lt.floating.x,y:lt.floating.y,arrowX:lt.floating?.middlewareData?.arrow?.x,arrowY:lt.floating?.middlewareData?.arrow?.y,opened:lt.opened,arrowRef:Jt,transitionProps:{...f,onExited:Tn,onEntered:Vr},width:y,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:T,arrowPosition:N,placement:lt.floating.placement,trapFocus:ue,withinPortal:U,portalProps:A,zIndex:Ce,radius:B,shadow:J,closeOnEscape:$,onDismiss:de,onClose:lt.onClose,onToggle:lt.onToggle,getTargetId:()=>`${qn}-target`,getDropdownId:()=>`${qn}-dropdown`,withRoles:q,targetProps:ht,__staticSelector:Se,classNames:I,styles:F,unstyled:D,variant:Ne,keepMounted:Ie,getStyles:kt,resolvedStyles:nn,floatingStrategy:nt,referenceHidden:Zt&&Ht!=="test"?lt.floating.middlewareData.hide?.referenceHidden:!1},children:[r,wt&&R.jsx(Vo,{transition:"fade",mounted:lt.opened,duration:f?.duration||250,exitDuration:f?.exitDuration||250,children:rn=>R.jsx(Ga,{withinPortal:U,children:R.jsx(zh,{...De,...kt("overlay",{className:De?.className,style:[rn,De?.style]})})})})]})}Xa.Target=e_;Xa.Dropdown=Qy;Xa.displayName="@mantine/core/Popover";Xa.extend=e=>e;var ki={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const t_=C.forwardRef(({className:e,...t},r)=>R.jsxs(ke,{component:"span",className:Bn(ki.barsLoader,e),...t,ref:r,children:[R.jsx("span",{className:ki.bar}),R.jsx("span",{className:ki.bar}),R.jsx("span",{className:ki.bar})]}));t_.displayName="@mantine/core/Bars";const n_=C.forwardRef(({className:e,...t},r)=>R.jsxs(ke,{component:"span",className:Bn(ki.dotsLoader,e),...t,ref:r,children:[R.jsx("span",{className:ki.dot}),R.jsx("span",{className:ki.dot}),R.jsx("span",{className:ki.dot})]}));n_.displayName="@mantine/core/Dots";const r_=C.forwardRef(({className:e,...t},r)=>R.jsx(ke,{component:"span",className:Bn(ki.ovalLoader,e),...t,ref:r}));r_.displayName="@mantine/core/Oval";const i_={bars:t_,oval:r_,dots:n_},w2={loaders:i_,type:"oval"},S2=(e,{size:t,color:r})=>({root:{"--loader-size":Ft(t,"loader-size"),"--loader-color":r?Ci(r,e):void 0}}),lo=et((e,t)=>{const r=Be("Loader",w2,e),{size:i,color:a,type:s,vars:u,className:d,style:f,classNames:h,styles:g,unstyled:y,loaders:x,variant:w,children:_,attributes:E,...T}=r,N=gt({name:"Loader",props:r,classes:ki,className:d,style:f,classNames:h,styles:g,unstyled:y,attributes:E,vars:u,varsResolver:S2});return _?R.jsx(ke,{...N("root"),ref:t,...T,children:_}):R.jsx(ke,{...N("root"),ref:t,component:x[s],variant:w,size:i,...T})});lo.defaultLoaders=i_;lo.classes=ki;lo.displayName="@mantine/core/Loader";var vu={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const tS={orientation:"horizontal"},C2=(e,{borderWidth:t})=>({group:{"--ai-border-width":Ee(t)}}),Zy=et((e,t)=>{const r=Be("ActionIconGroup",tS,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,orientation:f,vars:h,borderWidth:g,variant:y,mod:x,attributes:w,..._}=Be("ActionIconGroup",tS,e),E=gt({name:"ActionIconGroup",props:r,classes:vu,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:h,varsResolver:C2,rootSelector:"group"});return R.jsx(ke,{...E("group"),ref:t,variant:y,mod:[{"data-orientation":f},x],role:"group",..._})});Zy.classes=vu;Zy.displayName="@mantine/core/ActionIconGroup";const _2=(e,{radius:t,color:r,gradient:i,variant:a,autoContrast:s,size:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:s});return{groupSection:{"--section-height":Ft(u,"section-height"),"--section-padding-x":Ft(u,"section-padding-x"),"--section-fz":vr(u),"--section-radius":t===void 0?void 0:$n(t),"--section-bg":r||a?d.background:void 0,"--section-color":d.color,"--section-bd":r||a?d.border:void 0}}},Jy=et((e,t)=>{const r=Be("ActionIconGroupSection",null,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,vars:f,variant:h,gradient:g,radius:y,autoContrast:x,attributes:w,..._}=r,E=gt({name:"ActionIconGroupSection",props:r,classes:vu,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:_2,rootSelector:"groupSection"});return R.jsx(ke,{...E("groupSection"),ref:t,variant:h,..._})});Jy.classes=vu;Jy.displayName="@mantine/core/ActionIconGroupSection";const E2=(e,{size:t,radius:r,variant:i,gradient:a,color:s,autoContrast:u})=>{const d=e.variantColorResolver({color:s||e.primaryColor,theme:e,gradient:a,variant:i||"filled",autoContrast:u});return{root:{"--ai-size":Ft(t,"ai-size"),"--ai-radius":r===void 0?void 0:$n(r),"--ai-bg":s||i?d.background:void 0,"--ai-hover":s||i?d.hover:void 0,"--ai-hover-color":s||i?d.hoverColor:void 0,"--ai-color":d.color,"--ai-bd":s||i?d.border:void 0}}},Xo=Tr((e,t)=>{const r=Be("ActionIcon",null,e),{className:i,unstyled:a,variant:s,classNames:u,styles:d,style:f,loading:h,loaderProps:g,size:y,color:x,radius:w,__staticSelector:_,gradient:E,vars:T,children:N,disabled:D,"data-disabled":I,autoContrast:F,mod:k,attributes:U,...A}=r,$=gt({name:["ActionIcon",_],props:r,className:i,style:f,classes:vu,classNames:u,styles:d,unstyled:a,attributes:U,vars:T,varsResolver:E2});return R.jsxs(Us,{...$("root",{active:!D&&!h&&!I}),...A,unstyled:a,variant:s,size:y,disabled:D||h,ref:t,mod:[{loading:h,disabled:D||I},k],children:[typeof h=="boolean"&&R.jsx(Vo,{mounted:h,transition:"slide-down",duration:150,children:ae=>R.jsx(ke,{component:"span",...$("loader",{style:ae}),"aria-hidden":!0,children:R.jsx(lo,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...g})})}),R.jsx(ke,{component:"span",mod:{loading:h},...$("icon"),children:N})]})});Xo.classes=vu;Xo.displayName="@mantine/core/ActionIcon";Xo.Group=Zy;Xo.GroupSection=Jy;const o_=C.forwardRef(({size:e="var(--cb-icon-size, 70%)",style:t,...r},i)=>R.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:e,height:e},ref:i,...r,children:R.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));o_.displayName="@mantine/core/CloseIcon";var a_={root:"m_86a44da5","root--subtle":"m_220c80f2"};const O2={variant:"subtle"},M2=(e,{size:t,radius:r,iconSize:i})=>({root:{"--cb-size":Ft(t,"cb-size"),"--cb-radius":r===void 0?void 0:$n(r),"--cb-icon-size":Ee(i)}}),$s=Tr((e,t)=>{const r=Be("CloseButton",O2,e),{iconSize:i,children:a,vars:s,radius:u,className:d,classNames:f,style:h,styles:g,unstyled:y,"data-disabled":x,disabled:w,variant:_,icon:E,mod:T,attributes:N,__staticSelector:D,...I}=r,F=gt({name:D||"CloseButton",props:r,className:d,style:h,classes:a_,classNames:f,styles:g,unstyled:y,attributes:N,vars:s,varsResolver:M2});return R.jsxs(Us,{ref:t,...I,unstyled:y,variant:_,disabled:w,mod:[{disabled:w||x},T],...F("root",{variant:_,active:!w&&!x}),children:[E||R.jsx(o_,{}),a]})});$s.classes=a_;$s.displayName="@mantine/core/CloseButton";function T2(e){return C.Children.toArray(e).filter(Boolean)}var s_={root:"m_4081bf90"};const R2={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},P2=(e,{grow:t,preventGrowOverflow:r,gap:i,align:a,justify:s,wrap:u},{childWidth:d})=>({root:{"--group-child-width":t&&r?d:void 0,"--group-gap":hu(i),"--group-align":a,"--group-justify":s,"--group-wrap":u}}),Li=et((e,t)=>{const r=Be("Group",R2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,children:f,gap:h,align:g,justify:y,wrap:x,grow:w,preventGrowOverflow:_,vars:E,variant:T,__size:N,mod:D,attributes:I,...F}=r,k=T2(f),U=k.length,A=hu(h??"md"),ae={childWidth:`calc(${100/U}% - (${A} - ${A} / ${U}))`},ue=gt({name:"Group",props:r,stylesCtx:ae,className:a,style:s,classes:s_,classNames:i,styles:u,unstyled:d,attributes:I,vars:E,varsResolver:P2});return R.jsx(ke,{...ue("root"),ref:t,variant:T,mod:[{grow:w},D],size:N,...F,children:k})});Li.classes=s_;Li.displayName="@mantine/core/Group";const[D2,Wo]=fo("ModalBase component was not found in tree");function A2({opened:e,transitionDuration:t}){const[r,i]=C.useState(e),a=C.useRef(-1),u=Ch()?0:t;return C.useEffect(()=>(e?(i(!0),window.clearTimeout(a.current)):u===0?i(!1):a.current=window.setTimeout(()=>i(!1),u),()=>window.clearTimeout(a.current)),[e,u]),r}function N2({id:e,transitionProps:t,opened:r,trapFocus:i,closeOnEscape:a,onClose:s,returnFocus:u}){const d=Oi(e),[f,h]=C.useState(!1),[g,y]=C.useState(!1),x=typeof t?.duration=="number"?t?.duration:200,w=A2({opened:r,transitionDuration:x});return rh("keydown",_=>{_.key==="Escape"&&a&&!_.isComposing&&r&&_.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&s()},{capture:!0}),W1({opened:r,shouldReturnFocus:i&&u}),{_id:d,titleMounted:f,bodyMounted:g,shouldLockScroll:w,setTitleMounted:h,setBodyMounted:y}}const l_=C.forwardRef(({keepMounted:e,opened:t,onClose:r,id:i,transitionProps:a,onExitTransitionEnd:s,onEnterTransitionEnd:u,trapFocus:d,closeOnEscape:f,returnFocus:h,closeOnClickOutside:g,withinPortal:y,portalProps:x,lockScroll:w,children:_,zIndex:E,shadow:T,padding:N,__vars:D,unstyled:I,removeScrollProps:F,...k},U)=>{const{_id:A,titleMounted:$,bodyMounted:ae,shouldLockScroll:ue,setTitleMounted:me,setBodyMounted:de}=N2({id:i,transitionProps:a,opened:t,trapFocus:d,closeOnEscape:f,onClose:r,returnFocus:h}),{key:_e,...ce}=F||{};return R.jsx(Ga,{...x,withinPortal:y,children:R.jsx(D2,{value:{opened:t,onClose:r,closeOnClickOutside:g,onExitTransitionEnd:s,onEnterTransitionEnd:u,transitionProps:{...a,keepMounted:e},getTitleId:()=>`${A}-title`,getBodyId:()=>`${A}-body`,titleMounted:$,bodyMounted:ae,setTitleMounted:me,setBodyMounted:de,trapFocus:d,closeOnEscape:f,zIndex:E,unstyled:I},children:R.jsx(Is,{enabled:ue&&w,...ce,children:R.jsx(ke,{ref:U,...k,__vars:{...D,"--mb-z-index":(E||Hi("modal")).toString(),"--mb-shadow":My(T),"--mb-padding":hu(N)},children:_})},_e)})})});l_.displayName="@mantine/core/ModalBase";var ru={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};function I2(){const e=Wo();return C.useEffect(()=>(e.setBodyMounted(!0),()=>e.setBodyMounted(!1)),[]),e.getBodyId()}const u_=C.forwardRef(({className:e,...t},r)=>{const i=I2(),a=Wo();return R.jsx(ke,{ref:r,...t,id:i,className:Bn({[ru.body]:!a.unstyled},e)})});u_.displayName="@mantine/core/ModalBaseBody";const c_=C.forwardRef(({className:e,onClick:t,...r},i)=>{const a=Wo();return R.jsx($s,{ref:i,...r,onClick:s=>{a.onClose(),t?.(s)},className:Bn({[ru.close]:!a.unstyled},e),unstyled:a.unstyled})});c_.displayName="@mantine/core/ModalBaseCloseButton";const d_=C.forwardRef(({transitionProps:e,className:t,innerProps:r,onKeyDown:i,style:a,...s},u)=>{const d=Wo();return R.jsx(Vo,{mounted:d.opened,transition:"pop",...d.transitionProps,onExited:()=>{d.onExitTransitionEnd?.(),d.transitionProps?.onExited?.()},onEntered:()=>{d.onEnterTransitionEnd?.(),d.transitionProps?.onEntered?.()},...e,children:f=>R.jsx("div",{...r,className:Bn({[ru.inner]:!d.unstyled},r.className),children:R.jsx(Fh,{active:d.opened&&d.trapFocus,innerRef:u,children:R.jsx(jh,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":d.bodyMounted?d.getBodyId():void 0,"aria-labelledby":d.titleMounted?d.getTitleId():void 0,style:[a,f],className:Bn({[ru.content]:!d.unstyled},t),unstyled:d.unstyled,children:s.children})})})})});d_.displayName="@mantine/core/ModalBaseContent";const f_=C.forwardRef(({className:e,...t},r)=>{const i=Wo();return R.jsx(ke,{component:"header",ref:r,className:Bn({[ru.header]:!i.unstyled},e),...t})});f_.displayName="@mantine/core/ModalBaseHeader";const j2={duration:200,timingFunction:"ease",transition:"fade"};function z2(e){const t=Wo();return{...j2,...t.transitionProps,...e}}const h_=C.forwardRef(({onClick:e,transitionProps:t,style:r,visible:i,...a},s)=>{const u=Wo(),d=z2(t);return R.jsx(Vo,{mounted:i!==void 0?i:u.opened,...d,transition:"fade",children:f=>R.jsx(zh,{ref:s,fixed:!0,style:[r,f],zIndex:u.zIndex,unstyled:u.unstyled,onClick:h=>{e?.(h),u.closeOnClickOutside&&u.onClose()},...a})})});h_.displayName="@mantine/core/ModalBaseOverlay";function F2(){const e=Wo();return C.useEffect(()=>(e.setTitleMounted(!0),()=>e.setTitleMounted(!1)),[]),e.getTitleId()}const p_=C.forwardRef(({className:e,...t},r)=>{const i=F2(),a=Wo();return R.jsx(ke,{component:"h2",ref:r,className:Bn({[ru.title]:!a.unstyled},e),...t,id:i})});p_.displayName="@mantine/core/ModalBaseTitle";function k2({children:e}){return R.jsx(R.Fragment,{children:e})}const[L2,B2]=fu({size:"sm"});var Ti={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const m_=et((e,t)=>{const r=Be("InputClearButton",null,e),{size:i,variant:a,vars:s,classNames:u,styles:d,...f}=r,h=B2(),{resolvedClassNames:g,resolvedStyles:y}=Mh({classNames:u,styles:d,props:r});return R.jsx($s,{variant:a||"transparent",ref:t,size:i||h?.size||"sm",classNames:g,styles:y,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...f.style},...f})});m_.displayName="@mantine/core/InputClearButton";const U2={xs:7,sm:8,md:10,lg:12,xl:15};function $2({__clearable:e,__clearSection:t,rightSection:r,__defaultRightSection:i,size:a="sm"}){const s=e&&t;return s&&(r||i)?R.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:U2[a]},children:[s,r||i]}):r===null?null:r||s||i}const[H2,rd]=fu({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0}),q2=(e,{size:t})=>({description:{"--input-description-size":t===void 0?void 0:`calc(${vr(t)} - ${Ee(2)})`}}),kh=et((e,t)=>{const r=Be("InputDescription",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,__staticSelector:g,__inheritStyles:y=!0,attributes:x,variant:w,..._}=Be("InputDescription",null,r),E=rd(),T=gt({name:["InputWrapper",g],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:x,rootSelector:"description",vars:f,varsResolver:q2}),N=y&&E?.getStyles||T;return R.jsx(ke,{component:"p",ref:t,variant:w,size:h,...N("description",E?.getStyles?{className:a,style:s}:void 0),..._})});kh.classes=Ti;kh.displayName="@mantine/core/InputDescription";const G2=(e,{size:t})=>({error:{"--input-error-size":t===void 0?void 0:`calc(${vr(t)} - ${Ee(2)})`}}),Lh=et((e,t)=>{const r=Be("InputError",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,attributes:g,__staticSelector:y,__inheritStyles:x=!0,variant:w,..._}=r,E=gt({name:["InputWrapper",y],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:g,rootSelector:"error",vars:f,varsResolver:G2}),T=rd(),N=x&&T?.getStyles||E;return R.jsx(ke,{component:"p",ref:t,variant:w,size:h,...N("error",T?.getStyles?{className:a,style:s}:void 0),..._})});Lh.classes=Ti;Lh.displayName="@mantine/core/InputError";const nS={labelElement:"label"},V2=(e,{size:t})=>({label:{"--input-label-size":vr(t),"--input-asterisk-color":void 0}}),Bh=et((e,t)=>{const r=Be("InputLabel",nS,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,labelElement:h,size:g,required:y,htmlFor:x,onMouseDown:w,children:_,__staticSelector:E,variant:T,mod:N,attributes:D,...I}=Be("InputLabel",nS,r),F=gt({name:["InputWrapper",E],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:D,rootSelector:"label",vars:f,varsResolver:V2}),k=rd(),U=k?.getStyles||F;return R.jsxs(ke,{...U("label",k?.getStyles?{className:a,style:s}:void 0),component:h,variant:T,size:g,ref:t,htmlFor:h==="label"?x:void 0,mod:[{required:y},N],onMouseDown:A=>{w?.(A),!A.defaultPrevented&&A.detail>1&&A.preventDefault()},...I,children:[_,y&&R.jsx("span",{...U("required"),"aria-hidden":!0,children:" *"})]})});Bh.classes=Ti;Bh.displayName="@mantine/core/InputLabel";const ev=et((e,t)=>{const r=Be("InputPlaceholder",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,__staticSelector:h,variant:g,error:y,mod:x,attributes:w,..._}=r,E=gt({name:["InputPlaceholder",h],props:r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:w,rootSelector:"placeholder"});return R.jsx(ke,{...E("placeholder"),mod:[{error:!!y},x],component:"span",variant:g,ref:t,..._})});ev.classes=Ti;ev.displayName="@mantine/core/InputPlaceholder";function Y2(e,{hasDescription:t,hasError:r}){const i=e.findIndex(f=>f==="input"),a=e.slice(0,i),s=e.slice(i+1),u=t&&a.includes("description")||r&&a.includes("error");return{offsetBottom:t&&s.includes("description")||r&&s.includes("error"),offsetTop:u}}const K2={labelElement:"label",inputContainer:e=>e,inputWrapperOrder:["label","description","input","error"]},X2=(e,{size:t})=>({label:{"--input-label-size":vr(t),"--input-asterisk-color":void 0},error:{"--input-error-size":t===void 0?void 0:`calc(${vr(t)} - ${Ee(2)})`},description:{"--input-description-size":t===void 0?void 0:`calc(${vr(t)} - ${Ee(2)})`}}),tv=et((e,t)=>{const r=Be("InputWrapper",K2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,variant:g,__staticSelector:y,inputContainer:x,inputWrapperOrder:w,label:_,error:E,description:T,labelProps:N,descriptionProps:D,errorProps:I,labelElement:F,children:k,withAsterisk:U,id:A,required:$,__stylesApiProps:ae,mod:ue,attributes:me,...de}=r,_e=gt({name:["InputWrapper",y],props:ae||r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:me,vars:f,varsResolver:X2}),ce={size:h,variant:g,__staticSelector:y},Ce=Oi(A),B=typeof U=="boolean"?U:$,J=I?.id||`${Ce}-error`,V=D?.id||`${Ce}-description`,be=Ce,Se=!!E&&typeof E!="boolean",q=!!T,re=`${Se?J:""} ${q?V:""}`,we=re.trim().length>0?re.trim():void 0,Ne=N?.id||`${Ce}-label`,Ie=_&&R.jsx(Bh,{labelElement:F,id:Ne,htmlFor:be,required:B,...ce,...N,children:_},"label"),qe=q&&R.jsx(kh,{...D,...ce,size:D?.size||ce.size,id:D?.id||V,children:T},"description"),nt=R.jsx(C.Fragment,{children:x(k)},"input"),wt=Se&&C.createElement(Lh,{...I,...ce,size:I?.size||ce.size,key:"error",id:I?.id||J},E),De=w.map(Zt=>{switch(Zt){case"label":return Ie;case"input":return nt;case"description":return qe;case"error":return wt;default:return null}});return R.jsx(H2,{value:{getStyles:_e,describedBy:we,inputId:be,labelId:Ne,...Y2(w,{hasDescription:q,hasError:Se})},children:R.jsx(ke,{ref:t,variant:g,size:h,mod:[{error:!!E},ue],..._e("root"),...de,children:De})})});tv.classes=Ti;tv.displayName="@mantine/core/InputWrapper";const W2={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},Q2=(e,t,r)=>({wrapper:{"--input-margin-top":r.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":r.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ft(t.size,"input-height"),"--input-fz":vr(t.size),"--input-radius":t.radius===void 0?void 0:$n(t.radius),"--input-left-section-width":t.leftSectionWidth!==void 0?Ee(t.leftSectionWidth):void 0,"--input-right-section-width":t.rightSectionWidth!==void 0?Ee(t.rightSectionWidth):void 0,"--input-padding-y":t.multiline?Ft(t.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":t.leftSectionPointerEvents,"--input-right-section-pointer-events":t.rightSectionPointerEvents}}),Un=Tr((e,t)=>{const r=Be("Input",W2,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,required:f,__staticSelector:h,__stylesApiProps:g,size:y,wrapperProps:x,error:w,disabled:_,leftSection:E,leftSectionProps:T,leftSectionWidth:N,rightSection:D,rightSectionProps:I,rightSectionWidth:F,rightSectionPointerEvents:k,leftSectionPointerEvents:U,variant:A,vars:$,pointer:ae,multiline:ue,radius:me,id:de,withAria:_e,withErrorStyles:ce,mod:Ce,inputSize:B,attributes:J,__clearSection:V,__clearable:be,__defaultRightSection:Se,...q}=r,{styleProps:re,rest:we}=ed(q),Ne=rd(),Ie={offsetBottom:Ne?.offsetBottom,offsetTop:Ne?.offsetTop},qe=gt({name:["Input",h],props:g||r,classes:Ti,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:J,stylesCtx:Ie,rootSelector:"wrapper",vars:$,varsResolver:Q2}),nt=_e?{required:f,disabled:_,"aria-invalid":!!w,"aria-describedby":Ne?.describedBy,id:Ne?.inputId||de}:{},wt=$2({__clearable:be,__clearSection:V,rightSection:D,__defaultRightSection:Se,size:y});return R.jsx(L2,{value:{size:y||"sm"},children:R.jsxs(ke,{...qe("wrapper"),...re,...x,mod:[{error:!!w&&ce,pointer:ae,disabled:_,multiline:ue,"data-with-right-section":!!wt,"data-with-left-section":!!E},Ce],variant:A,size:y,children:[E&&R.jsx("div",{...T,"data-position":"left",...qe("section",{className:T?.className,style:T?.style}),children:E}),R.jsx(ke,{component:"input",...we,...nt,ref:t,required:f,mod:{disabled:_,error:!!w&&ce},variant:A,__size:B,...qe("input")}),wt&&R.jsx("div",{...I,"data-position":"right",...qe("section",{className:I?.className,style:I?.style}),children:wt})]})})});Un.classes=Ti;Un.Wrapper=tv;Un.Label=Bh;Un.Error=Lh;Un.Description=kh;Un.Placeholder=ev;Un.ClearButton=m_;Un.displayName="@mantine/core/Input";function Z2(e,t,r){const i=Be(e,t,r),{label:a,description:s,error:u,required:d,classNames:f,styles:h,className:g,unstyled:y,__staticSelector:x,__stylesApiProps:w,errorProps:_,labelProps:E,descriptionProps:T,wrapperProps:N,id:D,size:I,style:F,inputContainer:k,inputWrapperOrder:U,withAsterisk:A,variant:$,vars:ae,mod:ue,attributes:me,...de}=i,{styleProps:_e,rest:ce}=ed(de),Ce={label:a,description:s,error:u,required:d,classNames:f,className:g,__staticSelector:x,__stylesApiProps:w||i,errorProps:_,labelProps:E,descriptionProps:T,unstyled:y,styles:h,size:I,style:F,inputContainer:k,inputWrapperOrder:U,withAsterisk:A,variant:$,id:D,mod:ue,attributes:me,...N};return{...ce,classNames:f,styles:h,unstyled:y,wrapperProps:{...Ce,..._e},inputProps:{required:d,classNames:f,styles:h,unstyled:y,size:I,__staticSelector:x,__stylesApiProps:w||i,error:u,variant:$,id:D,attributes:me}}}const J2={__staticSelector:"InputBase",withAria:!0,size:"sm"},Hs=Tr((e,t)=>{const{inputProps:r,wrapperProps:i,...a}=Z2("InputBase",J2,e);return R.jsx(Un.Wrapper,{...i,children:R.jsx(Un,{...r,...a,ref:t})})});Hs.classes={...Un.classes,...Un.Wrapper.classes};Hs.displayName="@mantine/core/InputBase";const[eA,nv]=fo("Accordion component was not found in the tree");var id={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};function rv({style:e,size:t=16,...r}){return R.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:Ee(t),height:Ee(t),display:"block"},...r,children:R.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}rv.displayName="@mantine/core/AccordionChevron";const[tA,g_]=fo("Accordion.Item component was not found in the tree"),iv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,chevron:d,icon:f,onClick:h,onKeyDown:g,children:y,disabled:x,mod:w,..._}=Be("AccordionControl",null,e),{value:E}=g_(),T=nv(),N=T.isItemActive(E),D=typeof T.order=="number",I=`h${T.order}`,F=R.jsxs(Us,{..._,...T.getStyles("control",{className:i,classNames:r,style:a,styles:s,variant:T.variant}),unstyled:T.unstyled,mod:["accordion-control",{active:N,"chevron-position":T.chevronPosition,disabled:x},w],ref:t,onClick:k=>{h?.(k),T.onChange(E)},type:"button",disabled:x,"aria-expanded":N,"aria-controls":T.getRegionId(E),id:T.getControlId(E),onKeyDown:wT({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:T.loop,orientation:"vertical",onKeyDown:g}),children:[R.jsx(ke,{component:"span",mod:{rotate:!T.disableChevronRotation&&N,position:T.chevronPosition},...T.getStyles("chevron",{classNames:r,styles:s}),children:d||T.chevron}),R.jsx("span",{...T.getStyles("label",{classNames:r,styles:s}),children:y}),f&&R.jsx(ke,{component:"span",mod:{"chevron-position":T.chevronPosition},...T.getStyles("icon",{classNames:r,styles:s}),children:f})]});return D?R.jsx(I,{...T.getStyles("itemTitle",{classNames:r,styles:s}),children:F}):F});iv.displayName="@mantine/core/AccordionControl";iv.classes=id;const ov=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,value:d,mod:f,...h}=Be("AccordionItem",null,e),g=nv();return R.jsx(tA,{value:{value:d},children:R.jsx(ke,{ref:t,mod:[{active:g.isItemActive(d)},f],...g.getStyles("item",{className:i,classNames:r,styles:s,style:a,variant:g.variant}),...h})})});ov.displayName="@mantine/core/AccordionItem";ov.classes=id;const av=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,children:d,...f}=Be("AccordionPanel",null,e),{value:h}=g_(),g=nv();return R.jsx(gC,{ref:t,...g.getStyles("panel",{className:i,classNames:r,style:a,styles:s}),...f,in:g.isItemActive(h),transitionDuration:g.transitionDuration??200,role:"region",id:g.getRegionId(h),"aria-labelledby":g.getControlId(h),children:R.jsx("div",{...g.getStyles("content",{classNames:r,styles:s}),children:d})})});av.displayName="@mantine/core/AccordionPanel";av.classes=id;const nA={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},rA=(e,{transitionDuration:t,chevronSize:r,radius:i})=>({root:{"--accordion-transition-duration":t===void 0?void 0:`${t}ms`,"--accordion-chevron-size":r===void 0?void 0:Ee(r),"--accordion-radius":i===void 0?void 0:$n(i)}});function ri(e){const t=Be("Accordion",nA,e),{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,children:f,multiple:h,value:g,defaultValue:y,onChange:x,id:w,loop:_,transitionDuration:E,disableChevronRotation:T,chevronPosition:N,chevronSize:D,order:I,chevron:F,variant:k,radius:U,chevronIconSize:A,attributes:$,...ae}=t,ue=Oi(w),[me,de]=qa({value:g,defaultValue:y,finalValue:h?[]:null,onChange:x}),_e=B=>Array.isArray(me)?me.includes(B):B===me,ce=B=>{const J=Array.isArray(me)?me.includes(B)?me.filter(V=>V!==B):[...me,B]:B===me?null:B;de(J)},Ce=gt({name:"Accordion",classes:id,props:t,className:i,style:a,classNames:r,styles:s,unstyled:u,attributes:$,vars:d,varsResolver:rA});return R.jsx(eA,{value:{isItemActive:_e,onChange:ce,getControlId:ww(`${ue}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:ww(`${ue}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:F===null?null:F||R.jsx(rv,{size:A}),transitionDuration:E,disableChevronRotation:T,chevronPosition:N,order:I,loop:_,getStyles:Ce,variant:k,unstyled:u},children:R.jsx(ke,{...Ce("root"),id:ue,...ae,variant:k,"data-accordion":!0,children:f})})}const iA=e=>e;ri.extend=iA;ri.withProps=JR(ri);ri.classes=id;ri.displayName="@mantine/core/Accordion";ri.Item=ov;ri.Panel=av;ri.Control=iv;ri.Chevron=rv;var y_={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const oA=(e,{radius:t,color:r,variant:i,autoContrast:a})=>{const s=e.variantColorResolver({color:r||e.primaryColor,theme:e,variant:i||"light",autoContrast:a});return{root:{"--alert-radius":t===void 0?void 0:$n(t),"--alert-bg":r||i?s.background:void 0,"--alert-color":s.color,"--alert-bd":r||i?s.border:void 0}}},sv=et((e,t)=>{const r=Be("Alert",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,radius:h,color:g,title:y,children:x,id:w,icon:_,withCloseButton:E,onClose:T,closeButtonLabel:N,variant:D,autoContrast:I,role:F,attributes:k,...U}=r,A=gt({name:"Alert",classes:y_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:k,vars:f,varsResolver:oA}),$=Oi(w),ae=y&&`${$}-title`||void 0,ue=`${$}-body`;return R.jsx(ke,{id:$,...A("root",{variant:D}),variant:D,ref:t,role:F||"alert",...U,"aria-describedby":x?ue:void 0,"aria-labelledby":y?ae:void 0,children:R.jsxs("div",{...A("wrapper"),children:[_&&R.jsx("div",{...A("icon"),children:_}),R.jsxs("div",{...A("body"),children:[y&&R.jsx("div",{...A("title"),"data-with-close-button":E||void 0,children:R.jsx("span",{id:ae,...A("label"),children:y})}),x&&R.jsx("div",{id:ue,...A("message"),"data-variant":D,children:x})]}),E&&R.jsx($s,{...A("closeButton"),onClick:T,variant:"transparent",size:16,iconSize:16,"aria-label":N,unstyled:d})]})})});sv.classes=y_;sv.displayName="@mantine/core/Alert";var v_={root:"m_b6d8b162"};function aA(e){if(e==="start")return"start";if(e==="end"||e)return"end"}const sA={inherit:!1},lA=(e,{variant:t,lineClamp:r,gradient:i,size:a,color:s})=>({root:{"--text-fz":vr(a),"--text-lh":ET(a),"--text-gradient":t==="gradient"?$g(i,e):void 0,"--text-line-clamp":typeof r=="number"?r.toString():void 0,"--text-color":s?Ci(s,e):void 0}}),qo=Tr((e,t)=>{const r=Be("Text",sA,e),{lineClamp:i,truncate:a,inline:s,inherit:u,gradient:d,span:f,__staticSelector:h,vars:g,className:y,style:x,classNames:w,styles:_,unstyled:E,variant:T,mod:N,size:D,attributes:I,...F}=r,k=gt({name:["Text",h],props:r,classes:v_,className:y,style:x,classNames:w,styles:_,unstyled:E,attributes:I,vars:g,varsResolver:lA});return R.jsx(ke,{...k("root",{focusable:!0}),ref:t,component:f?"span":"p",variant:T,mod:[{"data-truncate":aA(a),"data-line-clamp":typeof i=="number","data-inline":s,"data-inherit":u},N],size:D,...F})});qo.classes=v_;qo.displayName="@mantine/core/Text";const[uA,bu]=fo("AppShell was not found in tree");var Wa={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const lv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Be("AppShellAside",null,e),x=bu();return x.disabled?null:R.jsx(ke,{component:"aside",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("aside",{className:Bn({[Is.classNames.zeroRight]:x.offsetScrollbars},i),classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-aside-z-index":`calc(${h??x.zIndex} + 1)`}})});lv.classes=Wa;lv.displayName="@mantine/core/AppShellAside";const uv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Be("AppShellFooter",null,e),x=bu();return x.disabled?null:R.jsx(ke,{component:"footer",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("footer",{className:Bn({[Is.classNames.zeroRight]:x.offsetScrollbars},i),classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-footer-z-index":(h??x.zIndex)?.toString()}})});uv.classes=Wa;uv.displayName="@mantine/core/AppShellFooter";const cv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Be("AppShellHeader",null,e),x=bu();return x.disabled?null:R.jsx(ke,{component:"header",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("header",{className:Bn({[Is.classNames.zeroRight]:x.offsetScrollbars},i),classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-header-z-index":(h??x.zIndex)?.toString()}})});cv.classes=Wa;cv.displayName="@mantine/core/AppShellHeader";const dv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Be("AppShellMain",null,e),f=bu();return R.jsx(ke,{component:"main",ref:t,...f.getStyles("main",{className:i,style:a,classNames:r,styles:s}),...d})});dv.classes=Wa;dv.displayName="@mantine/core/AppShellMain";function od(e){return typeof e=="object"?e.base:e}function ad(e){const t=typeof e=="object"&&e!==null&&typeof e.base<"u"&&Object.keys(e).length===1;return typeof e=="number"||typeof e=="string"||t}function sd(e){return!(typeof e!="object"||e===null||Object.keys(e).length===1&&"base"in e)}function cA({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,aside:i,theme:a,mode:s}){const u=i?.width,d="translateX(var(--app-shell-aside-width))",f="translateX(calc(var(--app-shell-aside-width) * -1))";if(i?.breakpoint&&!i?.collapsed?.mobile&&(r[i?.breakpoint]=r[i?.breakpoint]||{},s==="fixed"?(r[i?.breakpoint]["--app-shell-aside-width"]="100%",r[i?.breakpoint]["--app-shell-aside-offset"]="0px"):(r[i?.breakpoint]["--app-shell-aside-width"]="0px",r[i?.breakpoint]["--app-shell-aside-offset"]="0px")),ad(u)){const h=Ee(od(u));e["--app-shell-aside-width"]=h,e["--app-shell-aside-offset"]=h}if(sd(u)&&(typeof u.base<"u"&&(e["--app-shell-aside-width"]=Ee(u.base),e["--app-shell-aside-offset"]=Ee(u.base)),cr(u).forEach(h=>{h!=="base"&&(t[h]=t[h]||{},t[h]["--app-shell-aside-width"]=Ee(u[h]),t[h]["--app-shell-aside-offset"]=Ee(u[h]))})),i?.breakpoint&&s==="static"&&(t[i.breakpoint]=t[i.breakpoint]||{},t[i.breakpoint]["--app-shell-aside-position"]="sticky",t[i.breakpoint]["--app-shell-aside-grid-row"]="2",t[i.breakpoint]["--app-shell-aside-grid-column"]="3",t[i.breakpoint]["--app-shell-main-column-end"]="3"),i?.collapsed?.desktop){const h=i.breakpoint;t[h]=t[h]||{},t[h]["--app-shell-aside-transform"]=d,t[h]["--app-shell-aside-transform-rtl"]=f,s==="fixed"?t[h]["--app-shell-aside-offset"]="0px !important":(t[h]["--app-shell-aside-width"]="0px",t[h]["--app-shell-aside-display"]="none",t[h]["--app-shell-main-column-end"]="-1"),t[h]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(i?.collapsed?.mobile){const h=Ty(i.breakpoint,a.breakpoints)-.1;r[h]=r[h]||{},s==="fixed"?(r[h]["--app-shell-aside-width"]="100%",r[h]["--app-shell-aside-offset"]="0px"):r[h]["--app-shell-aside-width"]="0px",r[h]["--app-shell-aside-transform"]=d,r[h]["--app-shell-aside-transform-rtl"]=f,r[h]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function dA({baseStyles:e,minMediaStyles:t,footer:r,mode:i}){const a=r?.height,s="translateY(var(--app-shell-footer-height))",u=i==="static"?!0:r?.offset??!0;if(i==="static"&&r&&(e["--app-shell-footer-position"]="sticky",e["--app-shell-footer-grid-column"]="1 / -1",e["--app-shell-footer-grid-row"]="3"),ad(a)){const d=Ee(od(a));e["--app-shell-footer-height"]=d,u&&(e["--app-shell-footer-offset"]=d)}sd(a)&&(typeof a.base<"u"&&(e["--app-shell-footer-height"]=Ee(a.base),u&&(e["--app-shell-footer-offset"]=Ee(a.base))),cr(a).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-footer-height"]=Ee(a[d]),u&&(t[d]["--app-shell-footer-offset"]=Ee(a[d])))})),r?.collapsed&&(e["--app-shell-footer-transform"]=s,i==="fixed"&&(e["--app-shell-footer-offset"]="0px !important"))}function fA({baseStyles:e,minMediaStyles:t,header:r,mode:i}){const a=r?.height,s="translateY(calc(var(--app-shell-header-height) * -1))",u=i==="static"?!0:r?.offset??!0;if(i==="static"&&r&&(e["--app-shell-header-position"]="sticky",e["--app-shell-header-grid-column"]="1 / -1",e["--app-shell-header-grid-row"]="1"),ad(a)){const d=Ee(od(a));e["--app-shell-header-height"]=d,u&&(e["--app-shell-header-offset"]=d)}sd(a)&&(typeof a.base<"u"&&(e["--app-shell-header-height"]=Ee(a.base),u&&(e["--app-shell-header-offset"]=Ee(a.base))),cr(a).forEach(d=>{d!=="base"&&(t[d]=t[d]||{},t[d]["--app-shell-header-height"]=Ee(a[d]),u&&(t[d]["--app-shell-header-offset"]=Ee(a[d])))})),r?.collapsed&&(e["--app-shell-header-transform"]=s,i==="fixed"&&(e["--app-shell-header-offset"]="0px !important"))}function hA({baseStyles:e,minMediaStyles:t,maxMediaStyles:r,navbar:i,theme:a,mode:s}){const u=i?.width,d="translateX(calc(var(--app-shell-navbar-width) * -1))",f="translateX(var(--app-shell-navbar-width))";if(i?.breakpoint&&!i?.collapsed?.mobile&&(r[i?.breakpoint]=r[i?.breakpoint]||{},r[i?.breakpoint]["--app-shell-navbar-offset"]="0px",r[i?.breakpoint]["--app-shell-navbar-width"]="100%",s==="static"&&(r[i?.breakpoint]["--app-shell-navbar-grid-width"]="0px")),ad(u)){const h=Ee(od(u));e["--app-shell-navbar-width"]=h,e["--app-shell-navbar-offset"]=h,s==="static"&&(e["--app-shell-navbar-grid-width"]=h)}if(sd(u)&&(typeof u.base<"u"&&(e["--app-shell-navbar-width"]=Ee(u.base),e["--app-shell-navbar-offset"]=Ee(u.base),s==="static"&&(e["--app-shell-navbar-grid-width"]=Ee(u.base))),cr(u).forEach(h=>{h!=="base"&&(t[h]=t[h]||{},t[h]["--app-shell-navbar-width"]=Ee(u[h]),t[h]["--app-shell-navbar-offset"]=Ee(u[h]),s==="static"&&(t[h]["--app-shell-navbar-grid-width"]=Ee(u[h])))})),i?.breakpoint&&s==="static"&&(t[i.breakpoint]=t[i.breakpoint]||{},t[i.breakpoint]["--app-shell-navbar-position"]="sticky",t[i.breakpoint]["--app-shell-navbar-grid-row"]="2",t[i.breakpoint]["--app-shell-navbar-grid-column"]="1",t[i.breakpoint]["--app-shell-main-column-start"]="2"),i?.collapsed?.desktop){const h=i.breakpoint;t[h]=t[h]||{},t[h]["--app-shell-navbar-transform"]=d,t[h]["--app-shell-navbar-transform-rtl"]=f,s==="fixed"?t[h]["--app-shell-navbar-offset"]="0px !important":(t[h]["--app-shell-navbar-width"]="0px",t[h]["--app-shell-navbar-display"]="none",t[h]["--app-shell-main-column-start"]="1")}if(i?.collapsed?.mobile){const h=Ty(i.breakpoint,a.breakpoints)-.1;r[h]=r[h]||{},r[h]["--app-shell-navbar-width"]="100%",r[h]["--app-shell-navbar-offset"]="0px",s==="static"&&(r[h]["--app-shell-navbar-grid-width"]="0px"),r[h]["--app-shell-navbar-transform"]=d,r[h]["--app-shell-navbar-transform-rtl"]=f}}function Cg(e){return Number(e)===0?"0px":hu(e)}function pA({padding:e,baseStyles:t,minMediaStyles:r}){ad(e)&&(t["--app-shell-padding"]=Cg(od(e))),sd(e)&&(e.base&&(t["--app-shell-padding"]=Cg(e.base)),cr(e).forEach(i=>{i!=="base"&&(r[i]=r[i]||{},r[i]["--app-shell-padding"]=Cg(e[i]))}))}function mA({navbar:e,header:t,footer:r,aside:i,padding:a,theme:s,mode:u}){const d={},f={},h={};u==="static"&&(h["--app-shell-main-grid-column"]="1 / -1",h["--app-shell-main-grid-row"]="2"),hA({baseStyles:h,minMediaStyles:d,maxMediaStyles:f,navbar:e,theme:s,mode:u}),cA({baseStyles:h,minMediaStyles:d,maxMediaStyles:f,aside:i,theme:s,mode:u}),fA({baseStyles:h,minMediaStyles:d,header:t,mode:u}),dA({baseStyles:h,minMediaStyles:d,footer:r,mode:u}),pA({baseStyles:h,minMediaStyles:d,padding:a});const g=Sw(cr(d),s.breakpoints).map(w=>({query:`(min-width: ${nh(w.px)})`,styles:d[w.value]})),y=Sw(cr(f),s.breakpoints).map(w=>({query:`(max-width: ${nh(w.px)})`,styles:f[w.value]})),x=[...g,...y];return{baseStyles:h,media:x}}function gA({navbar:e,header:t,aside:r,footer:i,padding:a,mode:s,selector:u}){const d=si(),f=Ko(),{media:h,baseStyles:g}=mA({navbar:e,header:t,footer:i,aside:r,padding:a,theme:d,mode:s});return R.jsx(cC,{media:h,styles:g,selector:u||f.cssVariablesSelector})}const fv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,unstyled:u,vars:d,withBorder:f,zIndex:h,mod:g,...y}=Be("AppShellNavbar",null,e),x=bu();return x.disabled?null:R.jsx(ke,{component:"nav",ref:t,mod:[{"with-border":f??x.withBorder},g],...x.getStyles("navbar",{className:i,classNames:r,styles:s,style:a}),...y,__vars:{"--app-shell-navbar-z-index":`calc(${h??x.zIndex} + 1)`}})});fv.classes=Wa;fv.displayName="@mantine/core/AppShellNavbar";const hv=Tr((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,grow:d,mod:f,...h}=Be("AppShellSection",null,e),g=bu();return R.jsx(ke,{ref:t,mod:[{grow:d},f],...g.getStyles("section",{className:i,style:a,classNames:r,styles:s}),...h})});hv.classes=Wa;hv.displayName="@mantine/core/AppShellSection";function yA({transitionDuration:e,disabled:t}){const[r,i]=C.useState(!0),a=C.useRef(-1),s=C.useRef(-1);return rh("resize",()=>{i(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>C.startTransition(()=>{i(!1)}),200)}),Ka(()=>{i(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>C.startTransition(()=>{i(!1)}),e||0)},[t,e]),r}const vA={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Hi("app"),mode:"fixed"},bA=(e,{transitionDuration:t,transitionTimingFunction:r})=>({root:{"--app-shell-transition-duration":`${t}ms`,"--app-shell-transition-timing-function":r}}),qr=et((e,t)=>{const r=Be("AppShell",vA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,navbar:h,withBorder:g,padding:y,transitionDuration:x,transitionTimingFunction:w,header:_,zIndex:E,layout:T,disabled:N,aside:D,footer:I,offsetScrollbars:F=!0,mode:k,mod:U,attributes:A,id:$,...ae}=r,ue=gt({name:"AppShell",classes:Wa,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:A,vars:f,varsResolver:bA}),me=yA({disabled:N,transitionDuration:x}),de=Oi($);return R.jsxs(uA,{value:{getStyles:ue,withBorder:g,zIndex:E,disabled:N,offsetScrollbars:F,mode:k},children:[R.jsx(gA,{navbar:h,header:_,aside:D,footer:I,padding:y,mode:k,selector:k==="static"?`#${de}`:void 0}),R.jsx(ke,{ref:t,...ue("root"),mod:[{resizing:me,layout:T,disabled:N,mode:k},U],id:de,...ae})]})});qr.classes=Wa;qr.displayName="@mantine/core/AppShell";qr.Navbar=fv;qr.Header=cv;qr.Main=dv;qr.Aside=lv;qr.Footer=uv;qr.Section=hv;function b_(e){return typeof e=="string"?{value:e,label:e}:"value"in e&&!("label"in e)?{value:e.value,label:e.value,disabled:e.disabled}:typeof e=="number"?{value:e.toString(),label:e.toString()}:"group"in e?{group:e.group,items:e.items.map(t=>b_(t))}:e}function xA(e){return e?e.map(t=>b_(t)):[]}function x_(e){return e.reduce((t,r)=>"group"in r?{...t,...x_(r.items)}:(t[r.value]=r,t),{})}var Mr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const wA={error:null},SA=(e,{size:t,color:r})=>({chevron:{"--combobox-chevron-size":Ft(t,"combobox-chevron-size"),"--combobox-chevron-color":r?Ci(r,e):void 0}}),pv=et((e,t)=>{const r=Be("ComboboxChevron",wA,e),{size:i,error:a,style:s,className:u,classNames:d,styles:f,unstyled:h,vars:g,mod:y,...x}=r,w=gt({name:"ComboboxChevron",classes:Mr,props:r,style:s,className:u,classNames:d,styles:f,unstyled:h,vars:g,varsResolver:SA,rootSelector:"chevron"});return R.jsx(ke,{component:"svg",...x,...w("chevron"),size:i,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},y],ref:t,children:R.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});pv.classes=Mr;pv.displayName="@mantine/core/ComboboxChevron";const[CA,Ri]=fo("Combobox component was not found in tree"),w_=C.forwardRef(({size:e,onMouseDown:t,onClick:r,onClear:i,...a},s)=>R.jsx(Un.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:u=>{u.preventDefault(),t?.(u)},onClick:u=>{i(),r?.(u)}}));w_.displayName="@mantine/core/ComboboxClearButton";const mv=et((e,t)=>{const{classNames:r,styles:i,className:a,style:s,hidden:u,...d}=Be("ComboboxDropdown",null,e),f=Ri();return R.jsx(Xa.Dropdown,{...d,ref:t,role:"presentation","data-hidden":u||void 0,...f.getStyles("dropdown",{className:a,style:s,classNames:r,styles:i})})});mv.classes=Mr;mv.displayName="@mantine/core/ComboboxDropdown";const _A={refProp:"ref"},S_=et((e,t)=>{const{children:r,refProp:i}=Be("ComboboxDropdownTarget",_A,e);if(Ri(),!K1(r))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return R.jsx(Xa.Target,{ref:t,refProp:i,children:r})});S_.displayName="@mantine/core/ComboboxDropdownTarget";const gv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Be("ComboboxEmpty",null,e),f=Ri();return R.jsx(ke,{ref:t,...f.getStyles("empty",{className:i,classNames:r,styles:s,style:a}),...d})});gv.classes=Mr;gv.displayName="@mantine/core/ComboboxEmpty";function yv({onKeyDown:e,withKeyboardNavigation:t,withAriaAttributes:r,withExpandedAttribute:i,targetType:a,autoComplete:s}){const u=Ri(),[d,f]=C.useState(null),h=y=>{if(e?.(y),!u.readOnly&&t){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectNextOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectPreviousOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const x=u.store.getSelectedOptionIndex();u.store.dropdownOpened&&x!==-1?(y.preventDefault(),u.store.clickSelectedOption()):a==="button"&&(y.preventDefault(),u.store.openDropdown("keyboard"))}y.key==="Escape"&&u.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&a==="button"&&(y.preventDefault(),u.store.toggleDropdown("keyboard"))}};return{...r?{"aria-haspopup":"listbox","aria-expanded":i?!!(u.store.listId&&u.store.dropdownOpened):void 0,"aria-controls":u.store.dropdownOpened&&u.store.listId?u.store.listId:void 0,"aria-activedescendant":u.store.dropdownOpened&&d||void 0,autoComplete:s,"data-expanded":u.store.dropdownOpened||void 0,"data-mantine-stop-propagation":u.store.dropdownOpened||void 0}:{},onKeyDown:h}}const EA={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},C_=et((e,t)=>{const{children:r,refProp:i,withKeyboardNavigation:a,withAriaAttributes:s,withExpandedAttribute:u,targetType:d,autoComplete:f,...h}=Be("ComboboxEventsTarget",EA,e),g=pu(r);if(!g)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=Ri(),x=yv({targetType:d,withAriaAttributes:s,withKeyboardNavigation:a,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f});return C.cloneElement(g,{...x,...h,[i]:Gr(t,y.store.targetRef,_h(g))})});C_.displayName="@mantine/core/ComboboxEventsTarget";const vv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Be("ComboboxFooter",null,e),f=Ri();return R.jsx(ke,{ref:t,...f.getStyles("footer",{className:i,classNames:r,style:a,styles:s}),...d,onMouseDown:h=>{h.preventDefault()}})});vv.classes=Mr;vv.displayName="@mantine/core/ComboboxFooter";const bv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,children:d,label:f,id:h,...g}=Be("ComboboxGroup",null,e),y=Ri(),x=Oi(h);return R.jsxs(ke,{ref:t,role:"group","aria-labelledby":f?x:void 0,...y.getStyles("group",{className:i,classNames:r,style:a,styles:s}),...g,children:[f&&R.jsx("div",{id:x,...y.getStyles("groupLabel",{classNames:r,styles:s}),children:f}),d]})});bv.classes=Mr;bv.displayName="@mantine/core/ComboboxGroup";const xv=et((e,t)=>{const{classNames:r,className:i,style:a,styles:s,vars:u,...d}=Be("ComboboxHeader",null,e),f=Ri();return R.jsx(ke,{ref:t,...f.getStyles("header",{className:i,classNames:r,style:a,styles:s}),...d,onMouseDown:h=>{h.preventDefault()}})});xv.classes=Mr;xv.displayName="@mantine/core/ComboboxHeader";function __({value:e,valuesDivider:t=",",...r}){return R.jsx("input",{type:"hidden",value:Array.isArray(e)?e.join(t):e||"",...r})}__.displayName="@mantine/core/ComboboxHiddenInput";const wv=et((e,t)=>{const r=Be("ComboboxOption",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,onClick:f,id:h,active:g,onMouseDown:y,onMouseOver:x,disabled:w,selected:_,mod:E,...T}=r,N=Ri(),D=C.useId(),I=h||D;return R.jsx(ke,{...N.getStyles("option",{className:a,classNames:i,styles:u,style:s}),...T,ref:t,id:I,mod:["combobox-option",{"combobox-active":g,"combobox-disabled":w,"combobox-selected":_},E],role:"option",onClick:F=>{w?F.preventDefault():(N.onOptionSubmit?.(r.value,r),f?.(F))},onMouseDown:F=>{F.preventDefault(),y?.(F)},onMouseOver:F=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),x?.(F)}})});wv.classes=Mr;wv.displayName="@mantine/core/ComboboxOption";const Sv=et((e,t)=>{const r=Be("ComboboxOptions",null,e),{classNames:i,className:a,style:s,styles:u,id:d,onMouseDown:f,labelledBy:h,...g}=r,y=Ri(),x=Oi(d);return C.useEffect(()=>{y.store.setListId(x)},[x]),R.jsx(ke,{ref:t,...y.getStyles("options",{className:a,style:s,classNames:i,styles:u}),...g,id:x,role:"listbox","aria-labelledby":h,onMouseDown:w=>{w.preventDefault(),f?.(w)}})});Sv.classes=Mr;Sv.displayName="@mantine/core/ComboboxOptions";const OA={withAriaAttributes:!0,withKeyboardNavigation:!0},Cv=et((e,t)=>{const r=Be("ComboboxSearch",OA,e),{classNames:i,styles:a,unstyled:s,vars:u,withAriaAttributes:d,onKeyDown:f,withKeyboardNavigation:h,size:g,...y}=r,x=Ri(),w=x.getStyles("search"),_=yv({targetType:"input",withAriaAttributes:d,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:f,autoComplete:"off"});return R.jsx(Un,{ref:Gr(t,x.store.searchRef),classNames:[{input:w.className},i],styles:[{input:w.style},a],size:g||x.size,..._,...y,__staticSelector:"Combobox"})});Cv.classes=Mr;Cv.displayName="@mantine/core/ComboboxSearch";const MA={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},E_=et((e,t)=>{const{children:r,refProp:i,withKeyboardNavigation:a,withAriaAttributes:s,withExpandedAttribute:u,targetType:d,autoComplete:f,...h}=Be("ComboboxTarget",MA,e),g=pu(r);if(!g)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=Ri(),x=yv({targetType:d,withAriaAttributes:s,withKeyboardNavigation:a,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f}),w=C.cloneElement(g,{...x,...h});return R.jsx(Xa.Target,{ref:Gr(t,y.store.targetRef),children:w})});E_.displayName="@mantine/core/ComboboxTarget";function TA(e,t,r){for(let i=e-1;i>=0;i-=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i;if(r){for(let i=t.length-1;i>-1;i-=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i}return e}function RA(e,t,r){for(let i=e+1;i<t.length;i+=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i;if(r){for(let i=0;i<t.length;i+=1)if(!t[i].hasAttribute("data-combobox-disabled"))return i}return e}function PA(e){for(let t=0;t<e.length;t+=1)if(!e[t].hasAttribute("data-combobox-disabled"))return t;return-1}function O_({defaultOpened:e,opened:t,onOpenedChange:r,onDropdownClose:i,onDropdownOpen:a,loop:s=!0,scrollBehavior:u="instant"}={}){const[d,f]=qa({value:t,defaultValue:e,finalValue:!1,onChange:r}),h=C.useRef(null),g=C.useRef(-1),y=C.useRef(null),x=C.useRef(null),w=C.useRef(-1),_=C.useRef(-1),E=C.useRef(-1),T=C.useCallback((B="unknown")=>{d||(f(!0),a?.(B))},[f,a,d]),N=C.useCallback((B="unknown")=>{d&&(f(!1),i?.(B))},[f,i,d]),D=C.useCallback((B="unknown")=>{d?N(B):T(B)},[N,T,d]),I=C.useCallback(()=>{const B=ja(x.current),J=Kf(`#${h.current} [data-combobox-selected]`,B);J?.removeAttribute("data-combobox-selected"),J?.removeAttribute("aria-selected")},[]),F=C.useCallback(B=>{const J=ja(x.current),V=Kf(`#${h.current}`,J),be=V?za("[data-combobox-option]",V):null;if(!be)return null;const Se=B>=be.length?0:B<0?be.length-1:B;return g.current=Se,be?.[Se]&&!be[Se].hasAttribute("data-combobox-disabled")?(I(),be[Se].setAttribute("data-combobox-selected","true"),be[Se].setAttribute("aria-selected","true"),be[Se].scrollIntoView({block:"nearest",behavior:u}),be[Se].id):null},[u,I]),k=C.useCallback(()=>{const B=ja(x.current),J=Kf(`#${h.current} [data-combobox-active]`,B);if(J){const be=za(`#${h.current} [data-combobox-option]`,B).findIndex(Se=>Se===J);return F(be)}return F(0)},[F]),U=C.useCallback(()=>{const B=ja(x.current),J=za(`#${h.current} [data-combobox-option]`,B);return F(RA(g.current,J,s))},[F,s]),A=C.useCallback(()=>{const B=ja(x.current),J=za(`#${h.current} [data-combobox-option]`,B);return F(TA(g.current,J,s))},[F,s]),$=C.useCallback(()=>{const B=ja(x.current),J=za(`#${h.current} [data-combobox-option]`,B);return F(PA(J))},[F]),ae=C.useCallback((B="selected",J)=>{E.current=window.setTimeout(()=>{const V=ja(x.current),be=za(`#${h.current} [data-combobox-option]`,V),Se=be.findIndex(q=>q.hasAttribute(`data-combobox-${B}`));g.current=Se,J?.scrollIntoView&&be[Se]?.scrollIntoView({block:"nearest",behavior:u})},0)},[]),ue=C.useCallback(()=>{g.current=-1,I()},[I]),me=C.useCallback(()=>{const B=ja(x.current);za(`#${h.current} [data-combobox-option]`,B)?.[g.current]?.click()},[]),de=C.useCallback(B=>{h.current=B},[]),_e=C.useCallback(()=>{w.current=window.setTimeout(()=>y.current?.focus(),0)},[]),ce=C.useCallback(()=>{_.current=window.setTimeout(()=>x.current?.focus(),0)},[]),Ce=C.useCallback(()=>g.current,[]);return C.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(_.current),window.clearTimeout(E.current)},[]),{dropdownOpened:d,openDropdown:T,closeDropdown:N,toggleDropdown:D,selectedOptionIndex:g.current,getSelectedOptionIndex:Ce,selectOption:F,selectFirstOption:$,selectActiveOption:k,selectNextOption:U,selectPreviousOption:A,resetSelectedOption:ue,updateSelectedOptionIndex:ae,listId:h.current,setListId:de,clickSelectedOption:me,searchRef:y,focusSearchInput:_e,targetRef:x,focusTarget:ce}}const DA={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},AA=(e,{size:t,dropdownPadding:r})=>({options:{"--combobox-option-fz":vr(t),"--combobox-option-padding":Ft(t,"combobox-option-padding")},dropdown:{"--combobox-padding":r===void 0?void 0:Ee(r),"--combobox-option-fz":vr(t),"--combobox-option-padding":Ft(t,"combobox-option-padding")}});function Qt(e){const t=Be("Combobox",DA,e),{classNames:r,styles:i,unstyled:a,children:s,store:u,vars:d,onOptionSubmit:f,onClose:h,size:g,dropdownPadding:y,resetSelectionOnOptionHover:x,__staticSelector:w,readOnly:_,attributes:E,...T}=t,N=O_(),D=u||N,I=gt({name:w||"Combobox",classes:Mr,props:t,classNames:r,styles:i,unstyled:a,attributes:E,vars:d,varsResolver:AA}),F=()=>{h?.(),D.closeDropdown()};return R.jsx(CA,{value:{getStyles:I,store:D,onOptionSubmit:f,size:g,resetSelectionOnOptionHover:x,readOnly:_},children:R.jsx(Xa,{opened:D.dropdownOpened,preventPositionChangeWhenVisible:!1,...T,onChange:k=>!k&&F(),withRoles:!1,unstyled:a,children:s})})}const NA=e=>e;Qt.extend=NA;Qt.classes=Mr;Qt.displayName="@mantine/core/Combobox";Qt.Target=E_;Qt.Dropdown=mv;Qt.Options=Sv;Qt.Option=wv;Qt.Search=Cv;Qt.Empty=gv;Qt.Chevron=pv;Qt.Footer=vv;Qt.Header=xv;Qt.EventsTarget=C_;Qt.DropdownTarget=S_;Qt.Group=bv;Qt.ClearButton=w_;Qt.HiddenInput=__;var M_={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const IA=M_,T_=C.forwardRef(({__staticSelector:e,__stylesApiProps:t,className:r,classNames:i,styles:a,unstyled:s,children:u,label:d,description:f,id:h,disabled:g,error:y,size:x,labelPosition:w="left",bodyElement:_="div",labelElement:E="label",variant:T,style:N,vars:D,mod:I,attributes:F,...k},U)=>{const A=gt({name:e,props:t,className:r,style:N,classes:M_,classNames:i,styles:a,unstyled:s,attributes:F});return R.jsx(ke,{...A("root"),ref:U,__vars:{"--label-fz":vr(x),"--label-lh":Ft(x,"label-lh")},mod:[{"label-position":w},I],variant:T,size:x,...k,children:R.jsxs(ke,{component:_,htmlFor:_==="label"?h:void 0,...A("body"),children:[u,R.jsxs("div",{...A("labelWrapper"),"data-disabled":g||void 0,children:[d&&R.jsx(ke,{component:E,htmlFor:E==="label"?h:void 0,...A("label"),"data-disabled":g||void 0,children:d}),f&&R.jsx(Un.Description,{size:x,__inheritStyles:!1,...A("description"),children:f}),y&&typeof y!="boolean"&&R.jsx(Un.Error,{size:x,__inheritStyles:!1,...A("error"),children:y})]})]})})});T_.displayName="@mantine/core/InlineInput";var R_={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const P_=C.createContext(null),jA=P_.Provider,D_=()=>C.useContext(P_),[zA,FA]=fu();var A_={card:"m_26775b0a"};const kA={withBorder:!0},LA=(e,{radius:t})=>({card:{"--card-radius":$n(t)}}),_v=et((e,t)=>{const r=Be("CheckboxCard",kA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,checked:h,mod:g,withBorder:y,value:x,onClick:w,defaultChecked:_,onChange:E,attributes:T,...N}=r,D=gt({name:"CheckboxCard",classes:A_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:T,vars:f,varsResolver:LA,rootSelector:"card"}),I=D_(),F=typeof h=="boolean"?h:I?I.value.includes(x||""):void 0,[k,U]=qa({value:F,defaultValue:_,finalValue:!1,onChange:E});return R.jsx(zA,{value:{checked:k},children:R.jsx(Us,{ref:t,mod:[{"with-border":y,checked:k},g],...D("card"),...N,role:"checkbox","aria-checked":k,onClick:A=>{w?.(A),I?.onChange(x||""),U(!k)}})})});_v.displayName="@mantine/core/CheckboxCard";_v.classes=A_;function BA({children:e,role:t}){const r=rd();return r?R.jsx("div",{role:t,"aria-labelledby":r.labelId,"aria-describedby":r.describedBy,children:e}):R.jsx(R.Fragment,{children:e})}const Ev=et((e,t)=>{const{value:r,defaultValue:i,onChange:a,size:s,wrapperProps:u,children:d,readOnly:f,disabled:h,...g}=Be("CheckboxGroup",null,e),[y,x]=qa({value:r,defaultValue:i,finalValue:[],onChange:a}),w=_=>{const E=typeof _=="string"?_:_.currentTarget.value;!f&&x(y.includes(E)?y.filter(T=>T!==E):[...y,E])};return R.jsx(jA,{value:{value:y,onChange:w,size:s,disabled:h},children:R.jsx(Un.Wrapper,{size:s,ref:t,...u,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:R.jsx(BA,{role:"group",children:d})})})});Ev.classes=Un.Wrapper.classes;Ev.displayName="@mantine/core/CheckboxGroup";function N_({size:e,style:t,...r}){const i=e!==void 0?{width:Ee(e),height:Ee(e),...t}:t;return R.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,"aria-hidden":!0,...r,children:R.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function I_({indeterminate:e,...t}){return e?R.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...t,children:R.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):R.jsx(N_,{...t})}var j_={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const UA={icon:I_,variant:"filled"},$A=(e,{radius:t,color:r,size:i,iconColor:a,variant:s,autoContrast:u})=>{const d=Ls({color:r||e.primaryColor,theme:e}),f=d.isThemeColor&&d.shade===void 0?`var(--mantine-color-${d.color}-outline)`:d.color;return{indicator:{"--checkbox-size":Ft(i,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:$n(t),"--checkbox-color":s==="outline"?f:Ci(r,e),"--checkbox-icon-color":a?Ci(a,e):uC(u,e)?Ny({color:r,theme:e,autoContrast:u}):void 0}}},Ov=et((e,t)=>{const r=Be("CheckboxIndicator",UA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,icon:h,indeterminate:g,radius:y,color:x,iconColor:w,autoContrast:_,checked:E,mod:T,variant:N,disabled:D,attributes:I,...F}=r,k=gt({name:"CheckboxIndicator",classes:j_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:I,vars:f,varsResolver:$A,rootSelector:"indicator"}),U=FA(),A=typeof E=="boolean"||typeof g=="boolean"?E||g:U?.checked||!1;return R.jsx(ke,{ref:t,...k("indicator",{variant:N}),variant:N,mod:[{checked:A,disabled:D},T],...F,children:R.jsx(h,{indeterminate:g,...k("icon")})})});Ov.displayName="@mantine/core/CheckboxIndicator";Ov.classes=j_;const HA={labelPosition:"right",icon:I_,variant:"filled"},qA=(e,{radius:t,color:r,size:i,iconColor:a,variant:s,autoContrast:u})=>{const d=Ls({color:r||e.primaryColor,theme:e}),f=d.isThemeColor&&d.shade===void 0?`var(--mantine-color-${d.color}-outline)`:d.color;return{root:{"--checkbox-size":Ft(i,"checkbox-size"),"--checkbox-radius":t===void 0?void 0:$n(t),"--checkbox-color":s==="outline"?f:Ci(r,e),"--checkbox-icon-color":a?Ci(a,e):uC(u,e)?Ny({color:r,theme:e,autoContrast:u}):void 0}}},xu=et((e,t)=>{const r=Be("Checkbox",HA,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,color:h,label:g,id:y,size:x,radius:w,wrapperProps:_,checked:E,labelPosition:T,description:N,error:D,disabled:I,variant:F,indeterminate:k,icon:U,rootRef:A,iconColor:$,onChange:ae,autoContrast:ue,mod:me,attributes:de,..._e}=r,ce=D_(),Ce=x||ce?.size,B=gt({name:"Checkbox",props:r,classes:R_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:de,vars:f,varsResolver:qA}),{styleProps:J,rest:V}=ed(_e),be=Oi(y),Se={checked:ce?.value.includes(V.value)??E,onChange:we=>{ce?.onChange(we),ae?.(we)},disabled:ce?.disabled??I},q=C.useRef(null),re=t||q;return C.useEffect(()=>{re&&"current"in re&&re.current&&(re.current.indeterminate=k||!1,k?re.current.setAttribute("data-indeterminate","true"):re.current.removeAttribute("data-indeterminate"))},[k,re]),R.jsx(T_,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:r,id:be,size:Ce,labelPosition:T,label:g,description:N,error:D,disabled:Se.disabled,classNames:i,styles:u,unstyled:d,"data-checked":Se.checked||E||void 0,variant:F,ref:A,mod:me,inert:V.inert,...J,..._,children:R.jsxs(ke,{...B("inner"),mod:{"data-label-position":T},children:[R.jsx(ke,{component:"input",id:be,ref:re,mod:{error:!!D},...B("input",{focusable:!0,variant:F}),...V,...Se,inert:V.inert,type:"checkbox"}),R.jsx(U,{indeterminate:k,...B("icon")})]})})});xu.classes={...R_,...IA};xu.displayName="@mantine/core/Checkbox";xu.Group=Ev;xu.Indicator=Ov;xu.Card=_v;function Kc(e){return"group"in e}function z_({options:e,search:t,limit:r}){const i=t.trim().toLowerCase(),a=[];for(let s=0;s<e.length;s+=1){const u=e[s];if(a.length===r)return a;Kc(u)&&a.push({group:u.group,items:z_({options:u.items,search:t,limit:r-a.length})}),Kc(u)||u.label.toLowerCase().includes(i)&&a.push(u)}return a}function GA(e){if(e.length===0)return!0;for(const t of e)if(!("group"in t)||t.items.length>0)return!1;return!0}function F_(e,t=new Set){if(Array.isArray(e))for(const r of e)if(Kc(r))F_(r.items,t);else{if(typeof r.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof r.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof r.value}`);if(t.has(r.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${r.value}" was provided more than once`);t.add(r.value)}}function VA(e,t){return Array.isArray(e)?e.includes(t):e===t}function k_({data:e,withCheckIcon:t,withAlignedLabels:r,value:i,checkIconPosition:a,unstyled:s,renderOption:u}){if(!Kc(e)){const f=VA(i,e.value),h=t&&(f?R.jsx(N_,{className:Mr.optionsDropdownCheckIcon}):r?R.jsx("div",{className:Mr.optionsDropdownCheckPlaceholder}):null),g=R.jsxs(R.Fragment,{children:[a==="left"&&h,R.jsx("span",{children:e.label}),a==="right"&&h]});return R.jsx(Qt.Option,{value:e.value,disabled:e.disabled,className:Bn({[Mr.optionsDropdownOption]:!s}),"data-reverse":a==="right"||void 0,"data-checked":f||void 0,"aria-selected":f,active:f,children:typeof u=="function"?u({option:e,checked:f}):g})}const d=e.items.map(f=>R.jsx(k_,{data:f,value:i,unstyled:s,withCheckIcon:t,withAlignedLabels:r,checkIconPosition:a,renderOption:u},f.value));return R.jsx(Qt.Group,{label:e.group,children:d})}function YA({data:e,hidden:t,hiddenWhenEmpty:r,filter:i,search:a,limit:s,maxDropdownHeight:u,withScrollArea:d=!0,filterOptions:f=!0,withCheckIcon:h=!1,withAlignedLabels:g=!1,value:y,checkIconPosition:x,nothingFoundMessage:w,unstyled:_,labelId:E,renderOption:T,scrollAreaProps:N,"aria-label":D}){F_(e);const F=typeof a=="string"?(i||z_)({options:e,search:f?a:"",limit:s??1/0}):e,k=GA(F),U=F.map(A=>R.jsx(k_,{data:A,withCheckIcon:h,withAlignedLabels:g,value:y,checkIconPosition:x,unstyled:_,renderOption:T},Kc(A)?A.group:A.value));return R.jsx(Qt.Dropdown,{hidden:t||r&&k,"data-composed":!0,children:R.jsxs(Qt.Options,{labelledBy:E,"aria-label":D,children:[d?R.jsx(yu.Autosize,{mah:u??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...N,children:U}):U,k&&w&&R.jsx(Qt.Empty,{children:w})]})})}var L_={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const KA=(e,{radius:t,color:r,gradient:i,variant:a,size:s,autoContrast:u,circle:d})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:u});return{root:{"--badge-height":Ft(s,"badge-height"),"--badge-padding-x":Ft(s,"badge-padding-x"),"--badge-fz":Ft(s,"badge-fz"),"--badge-radius":d||t===void 0?void 0:$n(t),"--badge-bg":r||a?f.background:void 0,"--badge-color":r||a?f.color:void 0,"--badge-bd":r||a?f.border:void 0,"--badge-dot-color":a==="dot"?Ci(r,e):void 0}}},Uo=Tr((e,t)=>{const r=Be("Badge",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,radius:h,color:g,gradient:y,leftSection:x,rightSection:w,children:_,variant:E,fullWidth:T,autoContrast:N,circle:D,mod:I,attributes:F,...k}=r,U=gt({name:"Badge",props:r,classes:L_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:F,vars:f,varsResolver:KA});return R.jsxs(ke,{variant:E,mod:[{block:T,circle:D,"with-right-section":!!w,"with-left-section":!!x},I],...U("root",{variant:E}),ref:t,...k,children:[x&&R.jsx("span",{...U("section"),"data-position":"left",children:x}),R.jsx("span",{...U("label"),children:_}),w&&R.jsx("span",{...U("section"),"data-position":"right",children:w})]})});Uo.classes=L_;Uo.displayName="@mantine/core/Badge";var wu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const rS={orientation:"horizontal"},XA=(e,{borderWidth:t})=>({group:{"--button-border-width":Ee(t)}}),Mv=et((e,t)=>{const r=Be("ButtonGroup",rS,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,orientation:f,vars:h,borderWidth:g,variant:y,mod:x,attributes:w,..._}=Be("ButtonGroup",rS,e),E=gt({name:"ButtonGroup",props:r,classes:wu,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:h,varsResolver:XA,rootSelector:"group"});return R.jsx(ke,{...E("group"),ref:t,variant:y,mod:[{"data-orientation":f},x],role:"group",..._})});Mv.classes=wu;Mv.displayName="@mantine/core/ButtonGroup";const WA=(e,{radius:t,color:r,gradient:i,variant:a,autoContrast:s,size:u})=>{const d=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:s});return{groupSection:{"--section-height":Ft(u,"section-height"),"--section-padding-x":Ft(u,"section-padding-x"),"--section-fz":u?.includes("compact")?vr(u.replace("compact-","")):vr(u),"--section-radius":t===void 0?void 0:$n(t),"--section-bg":r||a?d.background:void 0,"--section-color":d.color,"--section-bd":r||a?d.border:void 0}}},Tv=et((e,t)=>{const r=Be("ButtonGroupSection",null,e),{className:i,style:a,classNames:s,styles:u,unstyled:d,vars:f,variant:h,gradient:g,radius:y,autoContrast:x,attributes:w,..._}=r,E=gt({name:"ButtonGroupSection",props:r,classes:wu,className:i,style:a,classNames:s,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:WA,rootSelector:"groupSection"});return R.jsx(ke,{...E("groupSection"),ref:t,variant:h,..._})});Tv.classes=wu;Tv.displayName="@mantine/core/ButtonGroupSection";const QA={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${Ee(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},ZA=(e,{radius:t,color:r,gradient:i,variant:a,size:s,justify:u,autoContrast:d})=>{const f=e.variantColorResolver({color:r||e.primaryColor,theme:e,gradient:i,variant:a||"filled",autoContrast:d});return{root:{"--button-justify":u,"--button-height":Ft(s,"button-height"),"--button-padding-x":Ft(s,"button-padding-x"),"--button-fz":s?.includes("compact")?vr(s.replace("compact-","")):vr(s),"--button-radius":t===void 0?void 0:$n(t),"--button-bg":r||a?f.background:void 0,"--button-hover":r||a?f.hover:void 0,"--button-color":f.color,"--button-bd":r||a?f.border:void 0,"--button-hover-color":r||a?f.hoverColor:void 0}}},ii=Tr((e,t)=>{const r=Be("Button",null,e),{style:i,vars:a,className:s,color:u,disabled:d,children:f,leftSection:h,rightSection:g,fullWidth:y,variant:x,radius:w,loading:_,loaderProps:E,gradient:T,classNames:N,styles:D,unstyled:I,"data-disabled":F,autoContrast:k,mod:U,attributes:A,...$}=r,ae=gt({name:"Button",props:r,classes:wu,className:s,style:i,classNames:N,styles:D,unstyled:I,attributes:A,vars:a,varsResolver:ZA}),ue=!!h,me=!!g;return R.jsxs(Us,{ref:t,...ae("root",{active:!d&&!_&&!F}),unstyled:I,variant:x,disabled:d||_,mod:[{disabled:d||F,loading:_,block:y,"with-left-section":ue,"with-right-section":me},U],...$,children:[typeof _=="boolean"&&R.jsx(Vo,{mounted:_,transition:QA,duration:150,children:de=>R.jsx(ke,{component:"span",...ae("loader",{style:de}),"aria-hidden":!0,children:R.jsx(lo,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),R.jsxs("span",{...ae("inner"),children:[h&&R.jsx(ke,{component:"span",...ae("section"),mod:{position:"left"},children:h}),R.jsx(ke,{component:"span",mod:{loading:_},...ae("label"),children:f}),g&&R.jsx(ke,{component:"span",...ae("section"),mod:{position:"right"},children:g})]})]})});ii.classes=wu;ii.displayName="@mantine/core/Button";ii.Group=Mv;ii.GroupSection=Tv;const[JA,eN]=fo("Card component was not found in tree");var Rv={root:"m_e615b15f",section:"m_599a2148"};const Uh=Tr((e,t)=>{const r=Be("CardSection",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,withBorder:f,inheritPadding:h,mod:g,...y}=r,x=eN();return R.jsx(ke,{ref:t,mod:[{"with-border":f,"inherit-padding":h},g],...x.getStyles("section",{className:a,style:s,styles:u,classNames:i}),...y})});Uh.classes=Rv;Uh.displayName="@mantine/core/CardSection";const tN=(e,{padding:t})=>({root:{"--card-padding":hu(t)}}),ld=Tr((e,t)=>{const r=Be("Card",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,children:h,padding:g,attributes:y,...x}=r,w=gt({name:"Card",props:r,classes:Rv,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:y,vars:f,varsResolver:tN}),_=C.Children.toArray(h),E=_.map((T,N)=>typeof T=="object"&&T&&"type"in T&&T.type===Uh?C.cloneElement(T,{"data-first-section":N===0||void 0,"data-last-section":N===_.length-1||void 0}):T);return R.jsx(JA,{value:{getStyles:w},children:R.jsx(jh,{ref:t,unstyled:d,...w("root"),...x,children:E})})});ld.classes=Rv;ld.displayName="@mantine/core/Card";ld.Section=Uh;var B_={root:"m_4451eb3a"};const iu=Tr((e,t)=>{const r=Be("Center",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,inline:h,mod:g,attributes:y,...x}=r,w=gt({name:"Center",props:r,classes:B_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:y,vars:f});return R.jsx(ke,{ref:t,mod:[{inline:h},g],...w("root"),...x})});iu.classes=B_;iu.displayName="@mantine/core/Center";var Qo={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const[nN,Su]=fo("Drawer component was not found in tree"),$h=et((e,t)=>{const r=Be("DrawerBody",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Su();return R.jsx(u_,{ref:t,...h.getStyles("body",{classNames:i,style:s,styles:u,className:a}),...f})});$h.classes=Qo;$h.displayName="@mantine/core/DrawerBody";const Hh=et((e,t)=>{const r=Be("DrawerCloseButton",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Su();return R.jsx(c_,{ref:t,...h.getStyles("close",{classNames:i,style:s,styles:u,className:a}),...f})});Hh.classes=Qo;Hh.displayName="@mantine/core/DrawerCloseButton";const qh=et((e,t)=>{const r=Be("DrawerContent",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,children:f,radius:h,__hidden:g,...y}=r,x=Su(),w=x.scrollAreaComponent||k2;return R.jsx(d_,{...x.getStyles("content",{className:a,style:s,styles:u,classNames:i}),innerProps:x.getStyles("inner",{className:a,style:s,styles:u,classNames:i}),ref:t,...y,radius:h||x.radius||0,"data-hidden":g||void 0,children:R.jsx(w,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:f})})});qh.classes=Qo;qh.displayName="@mantine/core/DrawerContent";const Gh=et((e,t)=>{const r=Be("DrawerHeader",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Su();return R.jsx(f_,{ref:t,...h.getStyles("header",{classNames:i,style:s,styles:u,className:a}),...f})});Gh.classes=Qo;Gh.displayName="@mantine/core/DrawerHeader";const Vh=et((e,t)=>{const r=Be("DrawerOverlay",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Su();return R.jsx(h_,{ref:t,...h.getStyles("overlay",{classNames:i,style:s,styles:u,className:a}),...f})});Vh.classes=Qo;Vh.displayName="@mantine/core/DrawerOverlay";function rN(e){switch(e){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function iN(e){if(e==="top"||e==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const oN={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},aN={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},sN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Hi("modal"),position:"left"},lN=(e,{position:t,size:r,offset:i})=>({root:{"--drawer-size":Ft(r,"drawer-size"),"--drawer-flex":iN(t),"--drawer-height":t==="left"||t==="right"?void 0:"var(--drawer-size)","--drawer-align":rN(t),"--drawer-justify":t==="right"?"flex-end":void 0,"--drawer-offset":Ee(i)}}),Yh=et((e,t)=>{const r=Be("DrawerRoot",sN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,scrollAreaComponent:h,position:g,transitionProps:y,radius:x,attributes:w,..._}=r,{dir:E}=td(),T=gt({name:"Drawer",classes:Qo,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:lN}),N=(E==="rtl"?aN:oN)[g];return R.jsx(nN,{value:{scrollAreaComponent:h,getStyles:T,radius:x},children:R.jsx(l_,{ref:t,...T("root"),transitionProps:{transition:N,...y},"data-offset-scrollbars":h===yu.Autosize||void 0,unstyled:d,..._})})});Yh.classes=Qo;Yh.displayName="@mantine/core/DrawerRoot";const[uN,cN]=fu();function U_({children:e}){const[t,r]=C.useState([]),[i,a]=C.useState(Hi("modal"));return R.jsx(uN,{value:{stack:t,addModal:(s,u)=>{r(d=>[...new Set([...d,s])]),a(d=>typeof u=="number"&&typeof d=="number"?Math.max(d,u):d)},removeModal:s=>r(u=>u.filter(d=>d!==s)),getZIndex:s=>`calc(${i} + ${t.indexOf(s)} + 1)`,currentId:t[t.length-1],maxZIndex:i},children:e})}U_.displayName="@mantine/core/DrawerStack";const Kh=et((e,t)=>{const r=Be("DrawerTitle",null,e),{classNames:i,className:a,style:s,styles:u,vars:d,...f}=r,h=Su();return R.jsx(p_,{ref:t,...h.getStyles("title",{classNames:i,style:s,styles:u,className:a}),...f})});Kh.classes=Qo;Kh.displayName="@mantine/core/DrawerTitle";const dN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Hi("modal"),withOverlay:!0,withCloseButton:!0},Pi=et((e,t)=>{const{title:r,withOverlay:i,overlayProps:a,withCloseButton:s,closeButtonProps:u,children:d,opened:f,stackId:h,zIndex:g,...y}=Be("Drawer",dN,e),x=cN(),w=!!r||s,_=x&&h?{closeOnEscape:x.currentId===h,trapFocus:x.currentId===h,zIndex:x.getZIndex(h)}:{},E=i===!1?!1:h&&x?x.currentId===h:f;return C.useEffect(()=>{x&&h&&(f?x.addModal(h,g||Hi("modal")):x.removeModal(h))},[f,h,g]),R.jsxs(Yh,{ref:t,opened:f,zIndex:x&&h?x.getZIndex(h):g,...y,..._,children:[i&&R.jsx(Vh,{visible:E,transitionProps:x&&h?{duration:0}:void 0,...a}),R.jsxs(qh,{__hidden:x&&h&&f?h!==x.currentId:!1,children:[w&&R.jsxs(Gh,{children:[r&&R.jsx(Kh,{children:r}),s&&R.jsx(Hh,{...u})]}),R.jsx($h,{children:d})]})]})});Pi.classes=Qo;Pi.displayName="@mantine/core/Drawer";Pi.Root=Yh;Pi.Overlay=Vh;Pi.Content=qh;Pi.Body=$h;Pi.Header=Gh;Pi.Title=Kh;Pi.CloseButton=Hh;Pi.Stack=U_;var $_={root:"m_9e117634"};const fN=(e,{radius:t,fit:r})=>({root:{"--image-radius":t===void 0?void 0:$n(t),"--image-object-fit":r}}),Pv=Tr((e,t)=>{const r=Be("Image",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,onError:h,src:g,radius:y,fit:x,fallbackSrc:w,mod:_,attributes:E,...T}=r,[N,D]=C.useState(!g);C.useEffect(()=>D(!g),[g]);const I=gt({name:"Image",classes:$_,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:E,vars:f,varsResolver:fN});return N&&w?R.jsx(ke,{component:"img",ref:t,src:w,...I("root"),onError:h,mod:["fallback",_],...T}):R.jsx(ke,{component:"img",ref:t,...I("root"),src:g,onError:F=>{h?.(F),D(!0)},mod:_,...T})});Pv.classes=$_;Pv.displayName="@mantine/core/Image";function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},ey.apply(null,arguments)}function H_(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.indexOf(i)!==-1)continue;r[i]=e[i]}return r}const[SL,q_]=fu();var Xh={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const[hN,pN]=fu(),mN=(e,{gap:t},{size:r})=>({group:{"--pg-gap":t!==void 0?Ft(t):Ft(r,"pg-gap")}}),Dv=et((e,t)=>{const r=Be("PillGroup",null,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,size:h,disabled:g,attributes:y,...x}=r,_=q_()?.size||h||void 0,E=gt({name:"PillGroup",classes:Xh,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:y,vars:f,varsResolver:mN,stylesCtx:{size:_},rootSelector:"group"});return R.jsx(hN,{value:{size:_,disabled:g},children:R.jsx(ke,{ref:t,size:_,...E("group"),...x})})});Dv.classes=Xh;Dv.displayName="@mantine/core/PillGroup";const gN={variant:"default"},yN=(e,{radius:t},{size:r})=>({root:{"--pill-fz":Ft(r,"pill-fz"),"--pill-height":Ft(r,"pill-height"),"--pill-radius":t===void 0?void 0:$n(t)}}),Wh=et((e,t)=>{const r=Be("Pill",gN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,variant:h,children:g,withRemoveButton:y,onRemove:x,removeButtonProps:w,radius:_,size:E,disabled:T,mod:N,attributes:D,...I}=r,F=pN(),k=q_(),U=E||F?.size||void 0,A=k?.variant==="filled"?"contrast":h||"default",$=gt({name:"Pill",classes:Xh,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:D,vars:f,varsResolver:yN,stylesCtx:{size:U}});return R.jsxs(ke,{component:"span",ref:t,variant:A,size:U,...$("root",{variant:A}),mod:[{"with-remove":y&&!T,disabled:T||F?.disabled},N],...I,children:[R.jsx("span",{...$("label"),children:g}),y&&R.jsx($s,{variant:"transparent",radius:_,tabIndex:-1,"aria-hidden":!0,unstyled:d,...w,...$("remove",{className:w?.className,style:w?.style}),onMouseDown:ae=>{ae.preventDefault(),ae.stopPropagation(),w?.onMouseDown?.(ae)},onClick:ae=>{ae.stopPropagation(),x?.(),w?.onClick?.(ae)}})]})});Wh.classes=Xh;Wh.displayName="@mantine/core/Pill";Wh.Group=Dv;var G_={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const vN={withCloseButton:!0},bN=(e,{radius:t,color:r})=>({root:{"--notification-radius":t===void 0?void 0:$n(t),"--notification-color":r?Ci(r,e):void 0}}),Av=et((e,t)=>{const r=Be("Notification",vN,e),{className:i,color:a,radius:s,loading:u,withCloseButton:d,withBorder:f,title:h,icon:g,children:y,onClose:x,closeButtonProps:w,classNames:_,style:E,styles:T,unstyled:N,vars:D,mod:I,loaderProps:F,role:k,attributes:U,...A}=r,$=gt({name:"Notification",classes:G_,props:r,className:i,style:E,classNames:_,styles:T,unstyled:N,attributes:U,vars:D,varsResolver:bN});return R.jsxs(ke,{...$("root"),mod:[{"data-with-icon":!!g||u,"data-with-border":f},I],ref:t,role:k||"alert",...A,children:[g&&!u&&R.jsx("div",{...$("icon"),children:g}),u&&R.jsx(lo,{size:28,color:a,...F,...$("loader")}),R.jsxs("div",{...$("body"),children:[h&&R.jsx("div",{...$("title"),children:h}),R.jsx(ke,{...$("description"),mod:{"data-with-title":!!h},children:y})]}),d&&R.jsx($s,{iconSize:16,color:"gray",...w,unstyled:N,onClick:x,...$("closeButton")})]})});Av.classes=G_;Av.displayName="@mantine/core/Notification";var ty={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const xN=({reveal:e})=>R.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:R.jsx("path",{d:e?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),wN={visibilityToggleIcon:xN},SN=(e,{size:t})=>({root:{"--psi-icon-size":Ft(t,"psi-icon-size"),"--psi-button-size":Ft(t,"psi-button-size")}}),Nv=et((e,t)=>{const r=Be("PasswordInput",wN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,required:h,error:g,leftSection:y,disabled:x,id:w,variant:_,inputContainer:E,description:T,label:N,size:D,errorProps:I,descriptionProps:F,labelProps:k,withAsterisk:U,inputWrapperOrder:A,wrapperProps:$,radius:ae,rightSection:ue,rightSectionWidth:me,rightSectionPointerEvents:de,leftSectionWidth:_e,visible:ce,defaultVisible:Ce,onVisibilityChange:B,visibilityToggleIcon:J,visibilityToggleButtonProps:V,rightSectionProps:be,leftSectionProps:Se,leftSectionPointerEvents:q,withErrorStyles:re,mod:we,attributes:Ne,...Ie}=r,qe=Oi(w),[nt,wt]=qa({value:ce,defaultValue:Ce,finalValue:!1,onChange:B}),De=()=>wt(!nt),Zt=gt({name:"PasswordInput",classes:ty,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:Ne,vars:f,varsResolver:SN}),{resolvedClassNames:ln,resolvedStyles:Ze}=Mh({classNames:i,styles:u,props:r}),{styleProps:ht,rest:kt}=ed(Ie),nn=I?.id||`${qe}-error`,mn=F?.id||`${qe}-description`,Jt=`${!!g&&typeof g!="boolean"?nn:""} ${!!T?mn:""}`,Hn=Jt.trim().length>0?Jt.trim():void 0,gn=R.jsx(Xo,{...Zt("visibilityToggle"),disabled:x,radius:ae,"aria-hidden":!V,"aria-pressed":nt,tabIndex:-1,...V,variant:V?.variant??"subtle",color:"gray",unstyled:d,onTouchEnd:xn=>{xn.preventDefault(),V?.onTouchEnd?.(xn),De()},onMouseDown:xn=>{xn.preventDefault(),V?.onMouseDown?.(xn),De()},onKeyDown:xn=>{V?.onKeyDown?.(xn),xn.key===" "&&(xn.preventDefault(),De())},children:R.jsx(J,{reveal:nt})});return R.jsx(Un.Wrapper,{required:h,id:qe,label:N,error:g,description:T,size:D,classNames:ln,styles:Ze,__staticSelector:"PasswordInput",unstyled:d,withAsterisk:U,inputWrapperOrder:A,inputContainer:E,variant:_,labelProps:{...k,htmlFor:qe},descriptionProps:{...F,id:mn},errorProps:{...I,id:nn},mod:we,attributes:Ne,...Zt("root"),...ht,...$,children:R.jsx(Un,{component:"div",error:g,leftSection:y,size:D,classNames:{...ln,input:Bn(ty.input,ln.input)},styles:Ze,radius:ae,disabled:x,__staticSelector:"PasswordInput",rightSectionWidth:me,rightSection:ue??gn,variant:_,unstyled:d,leftSectionWidth:_e,rightSectionPointerEvents:de||"all",rightSectionProps:be,leftSectionProps:Se,leftSectionPointerEvents:q,withAria:!1,withErrorStyles:re,attributes:Ne,children:R.jsx("input",{required:h,"data-invalid":!!g||void 0,"data-with-left-section":!!y||void 0,...Zt("innerInput"),disabled:x,id:qe,ref:t,...kt,"aria-describedby":Hn,autoComplete:kt.autoComplete||"off",type:nt?"text":"password"})})})});Nv.classes={...Hs.classes,...ty};Nv.displayName="@mantine/core/PasswordInput";const CN={duration:100,transition:"fade"};function iS(e,t){return{...CN,...t,...e}}var Qh={tooltip:"m_1b3c8819",arrow:"m_f898399f"};function _N({offset:e,position:t,defaultOpened:r}){const[i,a]=C.useState(r),s=C.useRef(null),{x:u,y:d,elements:f,refs:h,update:g,placement:y}=Vy({placement:t,middleware:[$y({crossAxis:!0,padding:5,rootBoundary:"document"})]}),x=y.includes("right")?e:t.includes("left")?e*-1:0,w=y.includes("bottom")?e:t.includes("top")?e*-1:0,_=C.useCallback(({clientX:E,clientY:T})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:E,y:T,left:E+x,top:T+w,right:E,bottom:T}}})},[f.reference]);return C.useEffect(()=>{if(h.floating.current){const E=s.current;E.addEventListener("mousemove",_);const T=Ho(h.floating.current);return T.forEach(N=>{N.addEventListener("scroll",g)}),()=>{E.removeEventListener("mousemove",_),T.forEach(N=>{N.removeEventListener("scroll",g)})}}},[f.reference,h.floating.current,g,_,i]),{handleMouseMove:_,x:u,y:d,opened:i,setOpened:a,boundaryRef:s,floating:h.setFloating}}const EN={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Hi("popover")},ON=(e,{radius:t,color:r})=>({tooltip:{"--tooltip-radius":t===void 0?void 0:$n(t),"--tooltip-bg":r?Ci(r,e):void 0,"--tooltip-color":r?"var(--mantine-color-white)":void 0}}),Iv=et((e,t)=>{const r=Be("TooltipFloating",EN,e),{children:i,refProp:a,withinPortal:s,style:u,className:d,classNames:f,styles:h,unstyled:g,radius:y,color:x,label:w,offset:_,position:E,multiline:T,zIndex:N,disabled:D,defaultOpened:I,variant:F,vars:k,portalProps:U,attributes:A,...$}=r,ae=si(),ue=gt({name:"TooltipFloating",props:r,classes:Qh,className:d,style:u,classNames:f,styles:h,unstyled:g,attributes:A,rootSelector:"tooltip",vars:k,varsResolver:ON}),{handleMouseMove:me,x:de,y:_e,opened:ce,boundaryRef:Ce,floating:B,setOpened:J}=_N({offset:_,position:E,defaultOpened:I}),V=pu(i);if(!V)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const be=Gr(Ce,_h(V),t),Se=V.props,q=we=>{Se.onMouseEnter?.(we),me(we),J(!0)},re=we=>{Se.onMouseLeave?.(we),J(!1)};return R.jsxs(R.Fragment,{children:[R.jsx(Ga,{...U,withinPortal:s,children:R.jsx(ke,{...$,...ue("tooltip",{style:{...jy(u,ae),zIndex:N,display:!D&&ce?"block":"none",top:(_e&&Math.round(_e))??"",left:(de&&Math.round(de))??""}}),variant:F,ref:B,mod:{multiline:T},children:w})}),C.cloneElement(V,{...Se,[a]:be,onMouseEnter:q,onMouseLeave:re})]})});Iv.classes=Qh;Iv.displayName="@mantine/core/TooltipFloating";const V_=C.createContext(!1),MN=V_.Provider,TN=()=>C.useContext(V_),RN={openDelay:0,closeDelay:0};function jv(e){const{openDelay:t,closeDelay:r,children:i}=Be("TooltipGroup",RN,e);return R.jsx(MN,{value:!0,children:R.jsx(kD,{delay:{open:t,close:r},children:i})})}jv.displayName="@mantine/core/TooltipGroup";jv.extend=e=>e;function PN(e){if(e===void 0)return{shift:!0,flip:!0};const t={...e};return e.shift===void 0&&(t.shift=!0),e.flip===void 0&&(t.flip=!0),t}function DN(e){const t=PN(e.middlewares),r=[TC(e.offset)];return t.shift&&r.push($y(typeof t.shift=="boolean"?{padding:8}:{padding:8,...t.shift})),t.flip&&r.push(typeof t.flip=="boolean"?lh():lh(t.flip)),r.push(RC({element:e.arrowRef,padding:e.arrowOffset})),t.inline?r.push(typeof t.inline=="boolean"?Bc():Bc(t.inline)):e.inline&&r.push(Bc()),r}function AN(e){const[t,r]=C.useState(e.defaultOpened),a=typeof e.opened=="boolean"?e.opened:t,s=TN(),u=Oi(),d=C.useCallback(k=>{r(k),k&&N(u)},[u]),{x:f,y:h,context:g,refs:y,placement:x,middlewareData:{arrow:{x:w,y:_}={}}}=Vy({strategy:e.strategy,placement:e.position,open:a,onOpenChange:d,middleware:DN(e),whileElementsMounted:Wg}),{delay:E,currentId:T,setCurrentId:N}=LD(g,{id:u}),{getReferenceProps:D,getFloatingProps:I}=GD([zD(g,{enabled:e.events?.hover,delay:s?E:{open:e.openDelay,close:e.closeDelay},mouseOnly:!e.events?.touch}),qD(g,{enabled:e.events?.focus,visibleOnly:!0}),YD(g,{role:"tooltip"}),$D(g,{enabled:typeof e.opened>"u"})]);js(()=>{e.onPositionChange?.(x)},[x]);const F=a&&T&&T!==u;return{x:f,y:h,arrowX:w,arrowY:_,reference:y.setReference,floating:y.setFloating,getFloatingProps:I,getReferenceProps:D,isGroupPhase:F,opened:a,placement:x}}const oS={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Hi("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},NN=(e,{radius:t,color:r,variant:i,autoContrast:a})=>{const s=e.variantColorResolver({theme:e,color:r||e.primaryColor,autoContrast:a,variant:i||"filled"});return{tooltip:{"--tooltip-radius":t===void 0?void 0:$n(t),"--tooltip-bg":r?s.background:void 0,"--tooltip-color":r?s.color:void 0}}},ud=et((e,t)=>{const r=Be("Tooltip",oS,e),{children:i,position:a,refProp:s,label:u,openDelay:d,closeDelay:f,onPositionChange:h,opened:g,defaultOpened:y,withinPortal:x,radius:w,color:_,classNames:E,styles:T,unstyled:N,style:D,className:I,withArrow:F,arrowSize:k,arrowOffset:U,arrowRadius:A,arrowPosition:$,offset:ae,transitionProps:ue,multiline:me,events:de,zIndex:_e,disabled:ce,positionDependencies:Ce,onClick:B,onMouseEnter:J,onMouseLeave:V,inline:be,variant:Se,keepMounted:q,vars:re,portalProps:we,mod:Ne,floatingStrategy:Ie,middlewares:qe,autoContrast:nt,attributes:wt,target:De,...Zt}=Be("Tooltip",oS,r),{dir:ln}=td(),Ze=C.useRef(null),ht=AN({position:KC(ln,a),closeDelay:f,openDelay:d,onPositionChange:h,opened:g,defaultOpened:y,events:de,arrowRef:Ze,arrowOffset:U,offset:typeof ae=="number"?ae+(F?k/2:0):ae,positionDependencies:[...Ce,De??i],inline:be,strategy:Ie,middlewares:qe});C.useEffect(()=>{const Jt=De instanceof HTMLElement?De:typeof De=="string"?document.querySelector(De):De?.current||null;Jt&&ht.reference(Jt)},[De,ht]);const kt=gt({name:"Tooltip",props:r,classes:Qh,className:I,style:D,classNames:E,styles:T,unstyled:N,attributes:wt,rootSelector:"tooltip",vars:re,varsResolver:NN}),nn=pu(i);if(!De&&!nn)return null;if(De){const Jt=iS(ue,{duration:100,transition:"fade"});return R.jsx(R.Fragment,{children:R.jsx(Ga,{...we,withinPortal:x,children:R.jsx(Vo,{...Jt,keepMounted:q,mounted:!ce&&!!ht.opened,duration:ht.isGroupPhase?10:Jt.duration,children:Hn=>R.jsxs(ke,{...Zt,"data-fixed":Ie==="fixed"||void 0,variant:Se,mod:[{multiline:me},Ne],...ht.getFloatingProps({ref:ht.floating,className:kt("tooltip").className,style:{...kt("tooltip").style,...Hn,zIndex:_e,top:ht.y??0,left:ht.x??0}}),children:[u,R.jsx(ch,{ref:Ze,arrowX:ht.arrowX,arrowY:ht.arrowY,visible:F,position:ht.placement,arrowSize:k,arrowOffset:U,arrowRadius:A,arrowPosition:$,...kt("arrow")})]})})})})}const mn=nn.props,Rr=Gr(ht.reference,_h(nn),t),nr=iS(ue,{duration:100,transition:"fade"});return R.jsxs(R.Fragment,{children:[R.jsx(Ga,{...we,withinPortal:x,children:R.jsx(Vo,{...nr,keepMounted:q,mounted:!ce&&!!ht.opened,duration:ht.isGroupPhase?10:nr.duration,children:Jt=>R.jsxs(ke,{...Zt,"data-fixed":Ie==="fixed"||void 0,variant:Se,mod:[{multiline:me},Ne],...ht.getFloatingProps({ref:ht.floating,className:kt("tooltip").className,style:{...kt("tooltip").style,...Jt,zIndex:_e,top:ht.y??0,left:ht.x??0}}),children:[u,R.jsx(ch,{ref:Ze,arrowX:ht.arrowX,arrowY:ht.arrowY,visible:F,position:ht.placement,arrowSize:k,arrowOffset:U,arrowRadius:A,arrowPosition:$,...kt("arrow")})]})})}),C.cloneElement(nn,ht.getReferenceProps({onClick:B,onMouseEnter:J,onMouseLeave:V,onMouseMove:r.onMouseMove,onPointerDown:r.onPointerDown,onPointerEnter:r.onPointerEnter,...mn,className:Bn(I,mn.className),[s]:Rr}))]})});ud.classes=Qh;ud.displayName="@mantine/core/Tooltip";ud.Floating=Iv;ud.Group=jv;const IN={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left",openOnFocus:!0},zv=et((e,t)=>{const r=Be("Select",IN,e),{classNames:i,styles:a,unstyled:s,vars:u,dropdownOpened:d,defaultDropdownOpened:f,onDropdownClose:h,onDropdownOpen:g,onFocus:y,onBlur:x,onClick:w,onChange:_,data:E,value:T,defaultValue:N,selectFirstOptionOnChange:D,selectFirstOptionOnDropdownOpen:I,onOptionSubmit:F,comboboxProps:k,readOnly:U,disabled:A,filter:$,limit:ae,withScrollArea:ue,maxDropdownHeight:me,size:de,searchable:_e,rightSection:ce,checkIconPosition:Ce,withCheckIcon:B,withAlignedLabels:J,nothingFoundMessage:V,name:be,form:Se,searchValue:q,defaultSearchValue:re,onSearchChange:we,allowDeselect:Ne,error:Ie,rightSectionPointerEvents:qe,id:nt,clearable:wt,clearButtonProps:De,hiddenInputProps:Zt,renderOption:ln,onClear:Ze,autoComplete:ht,scrollAreaProps:kt,__defaultRightSection:nn,__clearSection:mn,__clearable:Rr,chevronColor:nr,autoSelectOnBlur:Jt,openOnFocus:Hn,attributes:gn,...xn}=r,br=C.useMemo(()=>xA(E),[E]),Lt=C.useRef({}),Ht=C.useMemo(()=>x_(br),[br]),qn=Oi(nt),[lt,wn,Cn]=qa({value:T,defaultValue:N,finalValue:null,onChange:_}),Tn=typeof lt=="string"?lt in Ht?Ht[lt]:Lt.current[lt]:void 0,Vr=$T(Tn),[rn,Pr,qt]=qa({value:q,defaultValue:re,finalValue:Tn?Tn.label:"",onChange:we}),At=O_({opened:d,defaultOpened:f,onDropdownOpen:()=>{g?.(),I?At.selectFirstOption():At.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h?.(),setTimeout(At.resetSelectedOption,0)}}),Ge=on=>{Pr(on),At.resetSelectedOption()},{resolvedClassNames:Yr,resolvedStyles:Dr}=Mh({props:r,styles:a,classNames:i});C.useEffect(()=>{D&&At.selectFirstOption()},[D,rn]),C.useEffect(()=>{T===null&&Ge(""),typeof T=="string"&&Tn&&(Vr?.value!==Tn.value||Vr?.label!==Tn.label)&&Ge(Tn.label)},[T,Tn]),C.useEffect(()=>{!Cn&&!qt&&Ge(typeof lt=="string"?lt in Ht?Ht[lt]?.label:Lt.current[lt]?.label||"":"")},[Ht,lt]),C.useEffect(()=>{lt&&lt in Ht&&(Lt.current[lt]=Ht[lt])},[Ht,lt]);const Di=R.jsx(Qt.ClearButton,{...De,onClear:()=>{wn(null,null),Ge(""),Ze?.()}}),$e=wt&&!!lt&&!A&&!U;return R.jsxs(R.Fragment,{children:[R.jsxs(Qt,{store:At,__staticSelector:"Select",classNames:Yr,styles:Dr,unstyled:s,readOnly:U,size:de,attributes:gn,keepMounted:Jt,onOptionSubmit:on=>{F?.(on);const Gn=Ne&&Ht[on].value===lt?null:Ht[on],rr=Gn?Gn.value:null;rr!==lt&&wn(rr,Gn),!Cn&&Ge(typeof rr=="string"&&Gn?.label||""),At.closeDropdown()},...k,children:[R.jsx(Qt.Target,{targetType:_e?"input":"button",autoComplete:ht,children:R.jsx(Hs,{id:qn,ref:t,__defaultRightSection:R.jsx(Qt.Chevron,{size:de,error:Ie,unstyled:s,color:nr}),__clearSection:Di,__clearable:$e,rightSection:ce,rightSectionPointerEvents:qe||"none",...xn,size:de,__staticSelector:"Select",disabled:A,readOnly:U||!_e,value:rn,onChange:on=>{Ge(on.currentTarget.value),At.openDropdown(),D&&At.selectFirstOption()},onFocus:on=>{Hn&&_e&&At.openDropdown(),y?.(on)},onBlur:on=>{Jt&&At.clickSelectedOption(),_e&&At.closeDropdown();const Gn=typeof lt=="string"&&(lt in Ht?Ht[lt]:Lt.current[lt]);Ge(Gn&&Gn.label||""),x?.(on)},onClick:on=>{_e?At.openDropdown():At.toggleDropdown(),w?.(on)},classNames:Yr,styles:Dr,unstyled:s,pointer:!_e,error:Ie,attributes:gn})}),R.jsx(YA,{data:br,hidden:U||A,filter:$,search:rn,limit:ae,hiddenWhenEmpty:!V,withScrollArea:ue,maxDropdownHeight:me,filterOptions:!!_e&&Tn?.label!==rn,value:lt,checkIconPosition:Ce,withCheckIcon:B,withAlignedLabels:J,nothingFoundMessage:V,unstyled:s,labelId:xn.label?`${qn}-label`:void 0,"aria-label":xn.label?void 0:xn["aria-label"],renderOption:ln,scrollAreaProps:kt})]}),R.jsx(Qt.HiddenInput,{value:lt,name:be,form:Se,disabled:A,...Zt})]})});zv.classes={...Hs.classes,...Qt.classes};zv.displayName="@mantine/core/Select";var Y_={root:"m_6d731127"};const jN={gap:"md",align:"stretch",justify:"flex-start"},zN=(e,{gap:t,align:r,justify:i})=>({root:{"--stack-gap":hu(t),"--stack-align":r,"--stack-justify":i}}),$i=et((e,t)=>{const r=Be("Stack",jN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,align:h,justify:g,gap:y,variant:x,attributes:w,..._}=r,E=gt({name:"Stack",props:r,classes:Y_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:w,vars:f,varsResolver:zN});return R.jsx(ke,{ref:t,...E("root"),variant:x,..._})});$i.classes=Y_;$i.displayName="@mantine/core/Stack";const ou=et((e,t)=>{const r=Be("TextInput",null,e);return R.jsx(Hs,{component:"input",ref:t,...r,__staticSelector:"TextInput"})});ou.classes=Hs.classes;ou.displayName="@mantine/core/TextInput";const FN=["h1","h2","h3","h4","h5","h6"],kN=["xs","sm","md","lg","xl"];function LN(e,t){const r=t!==void 0?t:`h${e}`;return FN.includes(r)?{fontSize:`var(--mantine-${r}-font-size)`,fontWeight:`var(--mantine-${r}-font-weight)`,lineHeight:`var(--mantine-${r}-line-height)`}:kN.includes(r)?{fontSize:`var(--mantine-font-size-${r})`,fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}:{fontSize:Ee(r),fontWeight:`var(--mantine-h${e}-font-weight)`,lineHeight:`var(--mantine-h${e}-line-height)`}}var K_={root:"m_8a5d1357"};const BN={order:1},UN=(e,{order:t,size:r,lineClamp:i,textWrap:a})=>{const s=LN(t||1,r);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":a}}},Zh=et((e,t)=>{const r=Be("Title",BN,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,order:f,vars:h,size:g,variant:y,lineClamp:x,textWrap:w,mod:_,attributes:E,...T}=r,N=gt({name:"Title",props:r,classes:K_,className:a,style:s,classNames:i,styles:u,unstyled:d,attributes:E,vars:h,varsResolver:UN});return[1,2,3,4,5,6].includes(f)?R.jsx(ke,{...N("root"),component:`h${f}`,variant:y,ref:t,mod:[{order:f,"data-line-clamp":typeof x=="number"},_],size:g,...T}):null});Zh.classes=K_;Zh.displayName="@mantine/core/Title";const $N=(e,t)=>{localStorage.setItem("sessionToken",e),localStorage.setItem("refreshToken",t)},aS=()=>localStorage.getItem("sessionToken"),sS=e=>{localStorage.setItem("user",JSON.stringify(e))},HN=()=>{const e=localStorage.getItem("user");if(!e)return null;try{return JSON.parse(e)}catch{return null}},qN=()=>{localStorage.removeItem("sessionToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},GN="https://gnaf-dev.map.ir",VN="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImY5ODkzNDMwZDIxNjI4MzJlYzNlMzZjYWQyZmRlOTM0MjYwMzY5YTA4NmViYzU3ZjBjMTU1MzcyNjVmNzE5ZTU1OWY3MTQ4ZDI2MDE4YjdmIn0.eyJhdWQiOiIxIiwianRpIjoiZjk4OTM0MzBkMjE2MjgzMmVjM2UzNmNhZDJmZGU5MzQyNjAzNjlhMDg2ZWJjNTdmMGMxNTUzNzI2NWY3MTllNTU5ZjcxNDhkMjYwMThiN2YiLCJpYXQiOjE2MzYxOTA2ODAsIm5iZiI6MTYzNjE5MDY4MCwiZXhwIjoxNjM3NjU5NDgwLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.FBzATSA1ffB_-M4anRL98P9ddgRfGaTjgTj5lTr4l0FAggl752DLZRRM93LIPeGzGfPD7lpaZZBEgMI0JdEIgqQNXs0WC06gdog_a4ioicuLrgXJvVKQ8YVmh5uA8LdQbNT8Zm12tXXBY40O6P3AMlx25LPAH3g-PpZNbFYS31_gatigi51SjywRWPmR5XkEXol1u7XytdUEJtMllHm2p7tL5rsFvaA76Ej_Vx9qbqZW5wPQAbfgvYLfwV0tW_TVg-6uNuIs_Pm8Wfen3uAqhTXF-q8oVx4Vh6v2-OntTLJfUTFRy0DjcEZSg686o1tL22Mw6zH48YcMuu3EukIdHQ",Fs=async(e,t={})=>{const r=localStorage.getItem("sessionToken"),i={"Content-Type":"application/json","x-api-key":VN,...r&&{token:r},...t.headers},a={...t,headers:i};return await fetch(`${GN}${e}`,a)};var X_=e=>{throw TypeError(e)},YN=(e,t,r)=>t.has(e)||X_("Cannot "+r),_g=(e,t,r)=>(YN(e,t,"read from private field"),r?r.call(e):t.get(e)),KN=(e,t,r)=>t.has(e)?X_("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),lS="popstate";function XN(e={}){function t(a,s){let{pathname:u="/",search:d="",hash:f=""}=Zo(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Xc("",{pathname:u,search:d,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){let u=a.document.querySelector("base"),d="";if(u&&u.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");d=h===-1?f:f.slice(0,h)}return d+"#"+(typeof s=="string"?s:uo(s))}function i(a,s){Sn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return QN(t,r,i,e)}function Et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Sn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WN(){return Math.random().toString(36).substring(2,10)}function uS(e,t){return{usr:e.state,key:e.key,idx:t}}function Xc(e,t,r=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zo(t):t,state:r,key:t&&t.key||i||WN()}}function uo({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Zo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function QN(e,t,r,i={}){let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,d="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function y(){d="POP";let T=g(),N=T==null?null:T-h;h=T,f&&f({action:d,location:E.location,delta:N})}function x(T,N){d="PUSH";let D=Xc(E.location,T,N);r&&r(D,T),h=g()+1;let I=uS(D,h),F=E.createHref(D);try{u.pushState(I,"",F)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;a.location.assign(F)}s&&f&&f({action:d,location:E.location,delta:1})}function w(T,N){d="REPLACE";let D=Xc(E.location,T,N);r&&r(D,T),h=g();let I=uS(D,h),F=E.createHref(D);u.replaceState(I,"",F),s&&f&&f({action:d,location:E.location,delta:0})}function _(T){return W_(T)}let E={get action(){return d},get location(){return e(a,u)},listen(T){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(lS,y),f=T,()=>{a.removeEventListener(lS,y),f=null}},createHref(T){return t(a,T)},createURL:_,encodeLocation(T){let N=_(T);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:w,go(T){return u.go(T)}};return E}function W_(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Et(r,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:uo(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=r+i),new URL(i,r)}var Ic,cS=class{constructor(e){if(KN(this,Ic,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(_g(this,Ic).has(e))return _g(this,Ic).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){_g(this,Ic).set(e,t)}};Ic=new WeakMap;var ZN=new Set(["lazy","caseSensitive","path","id","index","children"]);function JN(e){return ZN.has(e)}var eI=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function tI(e){return eI.has(e)}function nI(e){return e.index===!0}function Wc(e,t,r=[],i={},a=!1){return e.map((s,u)=>{let d=[...r,String(u)],f=typeof s.id=="string"?s.id:d.join("-");if(Et(s.index!==!0||!s.children,"Cannot specify children on an index route"),Et(a||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),nI(s)){let h={...s,id:f};return i[f]=dS(h,t(h)),h}else{let h={...s,id:f,children:void 0};return i[f]=dS(h,t(h)),s.children&&(h.children=Wc(s.children,t,d,i,a)),h}})}function dS(e,t){return Object.assign(e,{...t,...typeof t.lazy=="object"&&t.lazy!=null?{lazy:{...e.lazy,...t.lazy}}:{}})}function ka(e,t,r="/"){return jc(e,t,r,!1)}function jc(e,t,r,i){let a=typeof t=="string"?Zo(t):t,s=Ei(a.pathname||"/",r);if(s==null)return null;let u=Q_(e);iI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let h=mI(s);d=hI(u[f],h,i)}return d}function rI(e,t){let{route:r,pathname:i,params:a}=e;return{id:r.id,pathname:i,params:a,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function Q_(e,t=[],r=[],i="",a=!1){let s=(u,d,f=a,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Et(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=ao([i,g.relativePath]),x=r.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Q_(u.children,t,x,y,f)),!(u.path==null&&!u.index)&&t.push({path:y,score:dI(y,u.index),routesMeta:x})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))s(u,d);else for(let f of Z_(u.path))s(u,d,!0,f)}),t}function Z_(e){let t=e.split("/");if(t.length===0)return[];let[r,...i]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(i.length===0)return a?[s,""]:[s];let u=Z_(i.join("/")),d=[];return d.push(...u.map(f=>f===""?s:[s,f].join("/"))),a&&d.push(...u),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function iI(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:fI(t.routesMeta.map(i=>i.childrenIndex),r.routesMeta.map(i=>i.childrenIndex)))}var oI=/^:[\w-]+$/,aI=3,sI=2,lI=1,uI=10,cI=-2,fS=e=>e==="*";function dI(e,t){let r=e.split("/"),i=r.length;return r.some(fS)&&(i+=cI),t&&(i+=sI),r.filter(a=>!fS(a)).reduce((a,s)=>a+(oI.test(s)?aI:s===""?lI:uI),i)}function fI(e,t){return e.length===t.length&&e.slice(0,-1).every((i,a)=>i===t[a])?e[e.length-1]-t[t.length-1]:0}function hI(e,t,r=!1){let{routesMeta:i}=e,a={},s="/",u=[];for(let d=0;d<i.length;++d){let f=i[d],h=d===i.length-1,g=s==="/"?t:t.slice(s.length)||"/",y=dh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),x=f.route;if(!y&&h&&r&&!i[i.length-1].route.index&&(y=dh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:ao([s,y.pathname]),pathnameBase:vI(ao([s,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(s=ao([s,y.pathnameBase]))}return u}function dh(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,i]=pI(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],u=s.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:i.reduce((h,{paramName:g,isOptional:y},x)=>{if(g==="*"){let _=d[x]||"";u=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=d[x];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:u,pattern:e}}function pI(e,t=!1,r=!0){Sn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(i.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function mI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Sn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ei(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,i=e.charAt(r);return i&&i!=="/"?null:e.slice(r)||"/"}function gI({basename:e,pathname:t}){return t==="/"?e:ao([e,t])}var J_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jh=e=>J_.test(e);function yI(e,t="/"){let{pathname:r,search:i="",hash:a=""}=typeof e=="string"?Zo(e):e,s;if(r)if(Jh(r))s=r;else{if(r.includes("//")){let u=r;r=r.replace(/\/\/+/g,"/"),Sn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${r}`)}r.startsWith("/")?s=hS(r.substring(1),"/"):s=hS(r,t)}else s=t;return{pathname:s,search:bI(i),hash:xI(a)}}function hS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Eg(e,t,r,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eE(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function ep(e){let t=eE(e);return t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase)}function tp(e,t,r,i=!1){let a;typeof e=="string"?a=Zo(e):(a={...e},Et(!a.pathname||!a.pathname.includes("?"),Eg("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),Eg("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),Eg("#","search","hash",a)));let s=e===""||a.pathname==="",u=s?"/":a.pathname,d;if(u==null)d=r;else{let y=t.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}d=y>=0?t[y]:"/"}let f=yI(a,d),h=u&&u!=="/"&&u.endsWith("/"),g=(s||u===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var ao=e=>e.join("/").replace(/\/\/+/g,"/"),vI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),bI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,xI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,cd=class{constructor(e,t,r,i=!1){this.status=e,this.statusText=t||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Qc(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function dd(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var tE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function nE(e,t){let r=e;if(typeof r!="string"||!J_.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let i=r,a=!1;if(tE)try{let s=new URL(window.location.href),u=r.startsWith("//")?new URL(s.protocol+r):new URL(r),d=Ei(u.pathname,t);u.origin===s.origin&&d!=null?r=d+u.search+u.hash:a=!0}catch{Sn(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:r}}var Ba=Symbol("Uninstrumented");function wI(e,t){let r={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};e.forEach(a=>a({id:t.id,index:t.index,path:t.path,instrument(s){let u=Object.keys(r);for(let d of u)s[d]&&r[d].push(s[d])}}));let i={};if(typeof t.lazy=="function"&&r.lazy.length>0){let a=Wl(r.lazy,t.lazy,()=>{});a&&(i.lazy=a)}if(typeof t.lazy=="object"){let a=t.lazy;["middleware","loader","action"].forEach(s=>{let u=a[s],d=r[`lazy.${s}`];if(typeof u=="function"&&d.length>0){let f=Wl(d,u,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[s]:f}))}})}return["loader","action"].forEach(a=>{let s=t[a];if(typeof s=="function"&&r[a].length>0){let u=s[Ba]??s,d=Wl(r[a],u,(...f)=>pS(f[0]));d&&(d[Ba]=u,i[a]=d)}}),t.middleware&&t.middleware.length>0&&r.middleware.length>0&&(i.middleware=t.middleware.map(a=>{let s=a[Ba]??a,u=Wl(r.middleware,s,(...d)=>pS(d[0]));return u?(u[Ba]=s,u):a})),i}function SI(e,t){let r={navigate:[],fetch:[]};if(t.forEach(i=>i({instrument(a){let s=Object.keys(a);for(let u of s)a[u]&&r[u].push(a[u])}})),r.navigate.length>0){let i=e.navigate[Ba]??e.navigate,a=Wl(r.navigate,i,(...s)=>{let[u,d]=s;return{to:typeof u=="number"||typeof u=="string"?u:u?uo(u):".",...mS(e,d??{})}});a&&(a[Ba]=i,e.navigate=a)}if(r.fetch.length>0){let i=e.fetch[Ba]??e.fetch,a=Wl(r.fetch,i,(...s)=>{let[u,,d,f]=s;return{href:d??".",fetcherKey:u,...mS(e,f??{})}});a&&(a[Ba]=i,e.fetch=a)}return e}function Wl(e,t,r){return e.length===0?null:async(...i)=>{let a=await rE(e,r(...i),()=>t(...i),e.length-1);if(a.type==="error")throw a.value;return a.value}}async function rE(e,t,r,i){let a=e[i],s;if(a){let u,d=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=rE(e,t,r,i-1),s=await u,Et(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await a(d,t)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await d(),await u}else try{s={type:"success",value:await r()}}catch(u){s={type:"error",value:u}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function pS(e){let{request:t,context:r,params:i,unstable_pattern:a}=e;return{request:CI(t),params:{...i},unstable_pattern:a,context:_I(r)}}function mS(e,t){return{currentUrl:uo(e.state.location),..."formMethod"in t?{formMethod:t.formMethod}:{},..."formEncType"in t?{formEncType:t.formEncType}:{},..."formData"in t?{formData:t.formData}:{},..."body"in t?{body:t.body}:{}}}function CI(e){return{method:e.method,url:e.url,headers:{get:(...t)=>e.headers.get(...t)}}}function _I(e){if(OI(e)){let t={...e};return Object.freeze(t),t}else return{get:t=>e.get(t)}}var EI=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function OI(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||t===null||Object.getOwnPropertyNames(t).sort().join("\0")===EI}var iE=["POST","PUT","PATCH","DELETE"],MI=new Set(iE),TI=["GET",...iE],RI=new Set(TI),oE=new Set([301,302,303,307,308]),PI=new Set([307,308]),Og={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},DI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Tc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},AI=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),aE="remix-router-transitions",sE=Symbol("ResetLoaderData");function NI(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Et(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=e.hydrationRouteProperties||[],a=e.mapRouteProperties||AI,s=a;if(e.unstable_instrumentations){let H=e.unstable_instrumentations;s=ee=>({...a(ee),...wI(H.map(ve=>ve.route).filter(Boolean),ee)})}let u={},d=Wc(e.routes,s,void 0,u),f,h=e.basename||"/";h.startsWith("/")||(h=`/${h}`);let g=e.dataStrategy||kI,y={...e.future},x=null,w=new Set,_=null,E=null,T=null,N=e.hydrationData!=null,D=ka(d,e.history.location,h),I=!1,F=null,k;if(D==null&&!e.patchRoutesOnNavigation){let H=wi(404,{pathname:e.history.location.pathname}),{matches:ee,route:ve}=zf(d);k=!0,D=ee,F={[ve.id]:H}}else if(D&&!e.hydrationData&&po(D,d,e.history.location.pathname).active&&(D=null),D)if(D.some(H=>H.route.lazy))k=!1;else if(!D.some(H=>Fv(H.route)))k=!0;else{let H=e.hydrationData?e.hydrationData.loaderData:null,ee=e.hydrationData?e.hydrationData.errors:null;if(ee){let ve=D.findIndex(Ae=>ee[Ae.route.id]!==void 0);k=D.slice(0,ve+1).every(Ae=>!ry(Ae.route,H,ee))}else k=D.every(ve=>!ry(ve.route,H,ee))}else{k=!1,D=[];let H=po(null,d,e.history.location.pathname);H.active&&H.matches&&(I=!0,D=H.matches)}let U,A={historyAction:e.history.action,location:e.history.location,matches:D,initialized:k,navigation:Og,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||F,fetchers:new Map,blockers:new Map},$="POP",ae=null,ue=!1,me,de=!1,_e=new Map,ce=null,Ce=!1,B=!1,J=new Set,V=new Map,be=0,Se=-1,q=new Map,re=new Set,we=new Map,Ne=new Map,Ie=new Set,qe=new Map,nt,wt=null;function De(){if(x=e.history.listen(({action:H,location:ee,delta:ve})=>{if(nt){nt(),nt=void 0;return}Sn(qe.size===0||ve!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=on({currentLocation:A.location,nextLocation:ee,historyAction:H});if(Ae&&ve!=null){let Fe=new Promise(tt=>{nt=tt});e.history.go(ve*-1),$e(Ae,{state:"blocked",location:ee,proceed(){$e(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Fe.then(()=>e.history.go(ve))},reset(){let tt=new Map(A.blockers);tt.set(Ae,Tc),Ze({blockers:tt})}}),ae?.resolve(),ae=null;return}return mn(H,ee)}),r){n3(t,_e);let H=()=>r3(t,_e);t.addEventListener("pagehide",H),ce=()=>t.removeEventListener("pagehide",H)}return A.initialized||mn("POP",A.location,{initialHydration:!0}),U}function Zt(){x&&x(),ce&&ce(),w.clear(),me&&me.abort(),A.fetchers.forEach((H,ee)=>rn(ee)),A.blockers.forEach((H,ee)=>Di(ee))}function ln(H){return w.add(H),()=>w.delete(H)}function Ze(H,ee={}){H.matches&&(H.matches=H.matches.map(Fe=>{let tt=u[Fe.route.id],Xe=Fe.route;return Xe.element!==tt.element||Xe.errorElement!==tt.errorElement||Xe.hydrateFallbackElement!==tt.hydrateFallbackElement?{...Fe,route:tt}:Fe})),A={...A,...H};let ve=[],Ae=[];A.fetchers.forEach((Fe,tt)=>{Fe.state==="idle"&&(Ie.has(tt)?ve.push(tt):Ae.push(tt))}),Ie.forEach(Fe=>{!A.fetchers.has(Fe)&&!V.has(Fe)&&ve.push(Fe)}),[...w].forEach(Fe=>Fe(A,{deletedFetchers:ve,newErrors:H.errors??null,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),ve.forEach(Fe=>rn(Fe)),Ae.forEach(Fe=>A.fetchers.delete(Fe))}function ht(H,ee,{flushSync:ve}={}){let Ae=A.actionData!=null&&A.navigation.formMethod!=null&&mr(A.navigation.formMethod)&&A.navigation.state==="loading"&&H.state?._isRedirect!==!0,Fe;ee.actionData?Object.keys(ee.actionData).length>0?Fe=ee.actionData:Fe=null:Ae?Fe=A.actionData:Fe=null;let tt=ee.loaderData?ES(A.loaderData,ee.loaderData,ee.matches||[],ee.errors):A.loaderData,Xe=A.blockers;Xe.size>0&&(Xe=new Map(Xe),Xe.forEach((ot,it)=>Xe.set(it,Tc)));let He=Ce?!1:Xs(H,ee.matches||A.matches),Ke=ue===!0||A.navigation.formMethod!=null&&mr(A.navigation.formMethod)&&H.state?._isRedirect!==!0;f&&(d=f,f=void 0),Ce||$==="POP"||($==="PUSH"?e.history.push(H,H.state):$==="REPLACE"&&e.history.replace(H,H.state));let Qe;if($==="POP"){let ot=_e.get(A.location.pathname);ot&&ot.has(H.pathname)?Qe={currentLocation:A.location,nextLocation:H}:_e.has(H.pathname)&&(Qe={currentLocation:H,nextLocation:A.location})}else if(de){let ot=_e.get(A.location.pathname);ot?ot.add(H.pathname):(ot=new Set([H.pathname]),_e.set(A.location.pathname,ot)),Qe={currentLocation:A.location,nextLocation:H}}Ze({...ee,actionData:Fe,loaderData:tt,historyAction:$,location:H,initialized:!0,navigation:Og,revalidation:"idle",restoreScrollPosition:He,preventScrollReset:Ke,blockers:Xe},{viewTransitionOpts:Qe,flushSync:ve===!0}),$="POP",ue=!1,de=!1,Ce=!1,B=!1,ae?.resolve(),ae=null,wt?.resolve(),wt=null}async function kt(H,ee){if(ae?.resolve(),ae=null,typeof H=="number"){ae||(ae=RS());let Ot=ae.promise;return e.history.go(H),Ot}let ve=ny(A.location,A.matches,h,H,ee?.fromRouteId,ee?.relative),{path:Ae,submission:Fe,error:tt}=gS(!1,ve,ee),Xe=A.location,He=Xc(A.location,Ae,ee&&ee.state);He={...He,...e.history.encodeLocation(He)};let Ke=ee&&ee.replace!=null?ee.replace:void 0,Qe="PUSH";Ke===!0?Qe="REPLACE":Ke===!1||Fe!=null&&mr(Fe.formMethod)&&Fe.formAction===A.location.pathname+A.location.search&&(Qe="REPLACE");let ot=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,it=(ee&&ee.flushSync)===!0,vt=on({currentLocation:Xe,nextLocation:He,historyAction:Qe});if(vt){$e(vt,{state:"blocked",location:He,proceed(){$e(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:He}),kt(H,ee)},reset(){let Ot=new Map(A.blockers);Ot.set(vt,Tc),Ze({blockers:Ot})}});return}await mn(Qe,He,{submission:Fe,pendingError:tt,preventScrollReset:ot,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:it,callSiteDefaultShouldRevalidate:ee&&ee.unstable_defaultShouldRevalidate})}function nn(){wt||(wt=RS()),lt(),Ze({revalidation:"loading"});let H=wt.promise;return A.navigation.state==="submitting"?H:A.navigation.state==="idle"?(mn(A.historyAction,A.location,{startUninterruptedRevalidation:!0}),H):(mn($||A.historyAction,A.navigation.location,{overrideNavigation:A.navigation,enableViewTransition:de===!0}),H)}async function mn(H,ee,ve){me&&me.abort(),me=null,$=H,Ce=(ve&&ve.startUninterruptedRevalidation)===!0,Ai(A.location,A.matches),ue=(ve&&ve.preventScrollReset)===!0,de=(ve&&ve.enableViewTransition)===!0;let Ae=f||d,Fe=ve&&ve.overrideNavigation,tt=ve?.initialHydration&&A.matches&&A.matches.length>0&&!I?A.matches:ka(Ae,ee,h),Xe=(ve&&ve.flushSync)===!0;if(tt&&A.initialized&&!B&&VI(A.location,ee)&&!(ve&&ve.submission&&mr(ve.submission.formMethod))){ht(ee,{matches:tt},{flushSync:Xe});return}let He=po(tt,Ae,ee.pathname);if(He.active&&He.matches&&(tt=He.matches),!tt){let{error:un,notFoundMatches:an,route:at}=Gn(ee.pathname);ht(ee,{matches:an,loaderData:{},errors:{[at.id]:un}},{flushSync:Xe});return}me=new AbortController;let Ke=Yl(e.history,ee,me.signal,ve&&ve.submission),Qe=e.getContext?await e.getContext():new cS,ot;if(ve&&ve.pendingError)ot=[La(tt).route.id,{type:"error",error:ve.pendingError}];else if(ve&&ve.submission&&mr(ve.submission.formMethod)){let un=await Rr(Ke,ee,ve.submission,tt,Qe,He.active,ve&&ve.initialHydration===!0,{replace:ve.replace,flushSync:Xe});if(un.shortCircuited)return;if(un.pendingActionResult){let[an,at]=un.pendingActionResult;if(ni(at)&&Qc(at.error)&&at.error.status===404){me=null,ht(ee,{matches:un.matches,loaderData:{},errors:{[an]:at.error}});return}}tt=un.matches||tt,ot=un.pendingActionResult,Fe=Mg(ee,ve.submission),Xe=!1,He.active=!1,Ke=Yl(e.history,Ke.url,Ke.signal)}let{shortCircuited:it,matches:vt,loaderData:Ot,errors:Bt}=await nr(Ke,ee,tt,Qe,He.active,Fe,ve&&ve.submission,ve&&ve.fetcherSubmission,ve&&ve.replace,ve&&ve.initialHydration===!0,Xe,ot,ve&&ve.callSiteDefaultShouldRevalidate);it||(me=null,ht(ee,{matches:vt||tt,...OS(ot),loaderData:Ot,errors:Bt}))}async function Rr(H,ee,ve,Ae,Fe,tt,Xe,He={}){lt();let Ke=e3(ee,ve);if(Ze({navigation:Ke},{flushSync:He.flushSync===!0}),tt){let it=await xr(Ae,ee.pathname,H.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){if(it.partialMatches.length===0){let{matches:Ot,route:Bt}=zf(d);return{matches:Ot,pendingActionResult:[Bt.id,{type:"error",error:it.error}]}}let vt=La(it.partialMatches).route.id;return{matches:it.partialMatches,pendingActionResult:[vt,{type:"error",error:it.error}]}}else if(it.matches)Ae=it.matches;else{let{notFoundMatches:vt,error:Ot,route:Bt}=Gn(ee.pathname);return{matches:vt,pendingActionResult:[Bt.id,{type:"error",error:Ot}]}}}let Qe,ot=Zf(Ae,ee);if(!ot.route.action&&!ot.route.lazy)Qe={type:"error",error:wi(405,{method:H.method,pathname:ee.pathname,routeId:ot.route.id})};else{let it=Jl(s,u,H,Ae,ot,Xe?[]:i,Fe),vt=await Ht(H,it,Fe,null);if(Qe=vt[ot.route.id],!Qe){for(let Ot of Ae)if(vt[Ot.route.id]){Qe=vt[Ot.route.id];break}}if(H.signal.aborted)return{shortCircuited:!0}}if(Rs(Qe)){let it;return He&&He.replace!=null?it=He.replace:it=SS(Qe.response.headers.get("Location"),new URL(H.url),h)===A.location.pathname+A.location.search,await Lt(H,Qe,!0,{submission:ve,replace:it}),{shortCircuited:!0}}if(ni(Qe)){let it=La(Ae,ot.route.id);return(He&&He.replace)!==!0&&($="PUSH"),{matches:Ae,pendingActionResult:[it.route.id,Qe,ot.route.id]}}return{matches:Ae,pendingActionResult:[ot.route.id,Qe]}}async function nr(H,ee,ve,Ae,Fe,tt,Xe,He,Ke,Qe,ot,it,vt){let Ot=tt||Mg(ee,Xe),Bt=Xe||He||TS(Ot),un=!Ce&&!Qe;if(Fe){if(un){let st=Jt(it);Ze({navigation:Ot,...st!==void 0?{actionData:st}:{}},{flushSync:ot})}let Mt=await xr(ve,ee.pathname,H.signal);if(Mt.type==="aborted")return{shortCircuited:!0};if(Mt.type==="error"){if(Mt.partialMatches.length===0){let{matches:Ar,route:Dn}=zf(d);return{matches:Ar,loaderData:{},errors:{[Dn.id]:Mt.error}}}let st=La(Mt.partialMatches).route.id;return{matches:Mt.partialMatches,loaderData:{},errors:{[st]:Mt.error}}}else if(Mt.matches)ve=Mt.matches;else{let{error:st,notFoundMatches:Ar,route:Dn}=Gn(ee.pathname);return{matches:Ar,loaderData:{},errors:{[Dn.id]:st}}}}let an=f||d,{dsMatches:at,revalidatingFetchers:sn}=yS(H,Ae,s,u,e.history,A,ve,Bt,ee,Qe?[]:i,Qe===!0,B,J,Ie,we,re,an,h,e.patchRoutesOnNavigation!=null,it,vt);if(Se=++be,!e.dataStrategy&&!at.some(Mt=>Mt.shouldLoad)&&!at.some(Mt=>Mt.route.middleware&&Mt.route.middleware.length>0)&&sn.length===0){let Mt=Ge();return ht(ee,{matches:ve,loaderData:{},errors:it&&ni(it[1])?{[it[0]]:it[1].error}:null,...OS(it),...Mt?{fetchers:new Map(A.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(un){let Mt={};if(!Fe){Mt.navigation=Ot;let st=Jt(it);st!==void 0&&(Mt.actionData=st)}sn.length>0&&(Mt.fetchers=Hn(sn)),Ze(Mt,{flushSync:ot})}sn.forEach(Mt=>{qt(Mt.key),Mt.controller&&V.set(Mt.key,Mt.controller)});let yn=()=>sn.forEach(Mt=>qt(Mt.key));me&&me.signal.addEventListener("abort",yn);let{loaderResults:en,fetcherResults:Kn}=await qn(at,sn,H,Ae);if(H.signal.aborted)return{shortCircuited:!0};me&&me.signal.removeEventListener("abort",yn),sn.forEach(Mt=>V.delete(Mt.key));let Xn=Ff(en);if(Xn)return await Lt(H,Xn.result,!0,{replace:Ke}),{shortCircuited:!0};if(Xn=Ff(Kn),Xn)return re.add(Xn.key),await Lt(H,Xn.result,!0,{replace:Ke}),{shortCircuited:!0};let{loaderData:Sr,errors:dr}=_S(A,ve,en,it,sn,Kn);Qe&&A.errors&&(dr={...A.errors,...dr});let ir=Ge(),Vi=Yr(Se),ui=ir||Vi||sn.length>0;return{matches:ve,loaderData:Sr,errors:dr,...ui?{fetchers:new Map(A.fetchers)}:{}}}function Jt(H){if(H&&!ni(H[1]))return{[H[0]]:H[1].data};if(A.actionData)return Object.keys(A.actionData).length===0?null:A.actionData}function Hn(H){return H.forEach(ee=>{let ve=A.fetchers.get(ee.key),Ae=Rc(void 0,ve?ve.data:void 0);A.fetchers.set(ee.key,Ae)}),new Map(A.fetchers)}async function gn(H,ee,ve,Ae){qt(H);let Fe=(Ae&&Ae.flushSync)===!0,tt=f||d,Xe=ny(A.location,A.matches,h,ve,ee,Ae?.relative),He=ka(tt,Xe,h),Ke=po(He,tt,Xe);if(Ke.active&&Ke.matches&&(He=Ke.matches),!He){Cn(H,ee,wi(404,{pathname:Xe}),{flushSync:Fe});return}let{path:Qe,submission:ot,error:it}=gS(!0,Xe,Ae);if(it){Cn(H,ee,it,{flushSync:Fe});return}let vt=e.getContext?await e.getContext():new cS,Ot=(Ae&&Ae.preventScrollReset)===!0;if(ot&&mr(ot.formMethod)){await xn(H,ee,Qe,He,vt,Ke.active,Fe,Ot,ot,Ae&&Ae.unstable_defaultShouldRevalidate);return}we.set(H,{routeId:ee,path:Qe}),await br(H,ee,Qe,He,vt,Ke.active,Fe,Ot,ot)}async function xn(H,ee,ve,Ae,Fe,tt,Xe,He,Ke,Qe){lt(),we.delete(H);let ot=A.fetchers.get(H);wn(H,t3(Ke,ot),{flushSync:Xe});let it=new AbortController,vt=Yl(e.history,ve,it.signal,Ke);if(tt){let Ct=await xr(Ae,new URL(vt.url).pathname,vt.signal,H);if(Ct.type==="aborted")return;if(Ct.type==="error"){Cn(H,ee,Ct.error,{flushSync:Xe});return}else if(Ct.matches)Ae=Ct.matches;else{Cn(H,ee,wi(404,{pathname:ve}),{flushSync:Xe});return}}let Ot=Zf(Ae,ve);if(!Ot.route.action&&!Ot.route.lazy){let Ct=wi(405,{method:Ke.formMethod,pathname:ve,routeId:ee});Cn(H,ee,Ct,{flushSync:Xe});return}V.set(H,it);let Bt=be,un=Jl(s,u,vt,Ae,Ot,i,Fe),an=await Ht(vt,un,Fe,H),at=an[Ot.route.id];if(!at){for(let Ct of un)if(an[Ct.route.id]){at=an[Ct.route.id];break}}if(vt.signal.aborted){V.get(H)===it&&V.delete(H);return}if(Ie.has(H)){if(Rs(at)||ni(at)){wn(H,Bo(void 0));return}}else{if(Rs(at))if(V.delete(H),Se>Bt){wn(H,Bo(void 0));return}else return re.add(H),wn(H,Rc(Ke)),Lt(vt,at,!1,{fetcherSubmission:Ke,preventScrollReset:He});if(ni(at)){Cn(H,ee,at.error);return}}let sn=A.navigation.location||A.location,yn=Yl(e.history,sn,it.signal),en=f||d,Kn=A.navigation.state!=="idle"?ka(en,A.navigation.location,h):A.matches;Et(Kn,"Didn't find any matches after fetcher action");let Xn=++be;q.set(H,Xn);let Sr=Rc(Ke,at.data);A.fetchers.set(H,Sr);let{dsMatches:dr,revalidatingFetchers:ir}=yS(yn,Fe,s,u,e.history,A,Kn,Ke,sn,i,!1,B,J,Ie,we,re,en,h,e.patchRoutesOnNavigation!=null,[Ot.route.id,at],Qe);ir.filter(Ct=>Ct.key!==H).forEach(Ct=>{let Kr=Ct.key,Ja=A.fetchers.get(Kr),ra=Rc(void 0,Ja?Ja.data:void 0);A.fetchers.set(Kr,ra),qt(Kr),Ct.controller&&V.set(Kr,Ct.controller)}),Ze({fetchers:new Map(A.fetchers)});let Vi=()=>ir.forEach(Ct=>qt(Ct.key));it.signal.addEventListener("abort",Vi);let{loaderResults:ui,fetcherResults:Mt}=await qn(dr,ir,yn,Fe);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",Vi),q.delete(H),V.delete(H),ir.forEach(Ct=>V.delete(Ct.key)),A.fetchers.has(H)){let Ct=Bo(at.data);A.fetchers.set(H,Ct)}let st=Ff(ui);if(st)return Lt(yn,st.result,!1,{preventScrollReset:He});if(st=Ff(Mt),st)return re.add(st.key),Lt(yn,st.result,!1,{preventScrollReset:He});let{loaderData:Ar,errors:Dn}=_S(A,Kn,ui,void 0,ir,Mt);Yr(Xn),A.navigation.state==="loading"&&Xn>Se?(Et($,"Expected pending action"),me&&me.abort(),ht(A.navigation.location,{matches:Kn,loaderData:Ar,errors:Dn,fetchers:new Map(A.fetchers)})):(Ze({errors:Dn,loaderData:ES(A.loaderData,Ar,Kn,Dn),fetchers:new Map(A.fetchers)}),B=!1)}async function br(H,ee,ve,Ae,Fe,tt,Xe,He,Ke){let Qe=A.fetchers.get(H);wn(H,Rc(Ke,Qe?Qe.data:void 0),{flushSync:Xe});let ot=new AbortController,it=Yl(e.history,ve,ot.signal);if(tt){let at=await xr(Ae,new URL(it.url).pathname,it.signal,H);if(at.type==="aborted")return;if(at.type==="error"){Cn(H,ee,at.error,{flushSync:Xe});return}else if(at.matches)Ae=at.matches;else{Cn(H,ee,wi(404,{pathname:ve}),{flushSync:Xe});return}}let vt=Zf(Ae,ve);V.set(H,ot);let Ot=be,Bt=Jl(s,u,it,Ae,vt,i,Fe),an=(await Ht(it,Bt,Fe,H))[vt.route.id];if(V.get(H)===ot&&V.delete(H),!it.signal.aborted){if(Ie.has(H)){wn(H,Bo(void 0));return}if(Rs(an))if(Se>Ot){wn(H,Bo(void 0));return}else{re.add(H),await Lt(it,an,!1,{preventScrollReset:He});return}if(ni(an)){Cn(H,ee,an.error);return}wn(H,Bo(an.data))}}async function Lt(H,ee,ve,{submission:Ae,fetcherSubmission:Fe,preventScrollReset:tt,replace:Xe}={}){ve||(ae?.resolve(),ae=null),ee.response.headers.has("X-Remix-Revalidate")&&(B=!0);let He=ee.response.headers.get("Location");Et(He,"Expected a Location header on the redirect Response"),He=SS(He,new URL(H.url),h);let Ke=Xc(A.location,He,{_isRedirect:!0});if(r){let Bt=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Bt=!0;else if(Jh(He)){const un=W_(He,!0);Bt=un.origin!==t.location.origin||Ei(un.pathname,h)==null}if(Bt){Xe?t.location.replace(He):t.location.assign(He);return}}me=null;let Qe=Xe===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:it,formEncType:vt}=A.navigation;!Ae&&!Fe&&ot&&it&&vt&&(Ae=TS(A.navigation));let Ot=Ae||Fe;if(PI.has(ee.response.status)&&Ot&&mr(Ot.formMethod))await mn(Qe,Ke,{submission:{...Ot,formAction:He},preventScrollReset:tt||ue,enableViewTransition:ve?de:void 0});else{let Bt=Mg(Ke,Ae);await mn(Qe,Ke,{overrideNavigation:Bt,fetcherSubmission:Fe,preventScrollReset:tt||ue,enableViewTransition:ve?de:void 0})}}async function Ht(H,ee,ve,Ae){let Fe,tt={};try{Fe=await BI(g,H,ee,Ae,ve,!1)}catch(Xe){return ee.filter(He=>He.shouldLoad).forEach(He=>{tt[He.route.id]={type:"error",error:Xe}}),tt}if(H.signal.aborted)return tt;if(!mr(H.method))for(let Xe of ee){if(Fe[Xe.route.id]?.type==="error")break;!Fe.hasOwnProperty(Xe.route.id)&&!A.loaderData.hasOwnProperty(Xe.route.id)&&(!A.errors||!A.errors.hasOwnProperty(Xe.route.id))&&Xe.shouldCallHandler()&&(Fe[Xe.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${Xe.route.id}`)})}for(let[Xe,He]of Object.entries(Fe))if(WI(He)){let Ke=He.result;tt[Xe]={type:"redirect",response:qI(Ke,H,Xe,ee,h)}}else tt[Xe]=await HI(He);return tt}async function qn(H,ee,ve,Ae){let Fe=Ht(ve,H,Ae,null),tt=Promise.all(ee.map(async Ke=>{if(Ke.matches&&Ke.match&&Ke.request&&Ke.controller){let ot=(await Ht(Ke.request,Ke.matches,Ae,Ke.key))[Ke.match.route.id];return{[Ke.key]:ot}}else return Promise.resolve({[Ke.key]:{type:"error",error:wi(404,{pathname:Ke.path})}})})),Xe=await Fe,He=(await tt).reduce((Ke,Qe)=>Object.assign(Ke,Qe),{});return{loaderResults:Xe,fetcherResults:He}}function lt(){B=!0,we.forEach((H,ee)=>{V.has(ee)&&J.add(ee),qt(ee)})}function wn(H,ee,ve={}){A.fetchers.set(H,ee),Ze({fetchers:new Map(A.fetchers)},{flushSync:(ve&&ve.flushSync)===!0})}function Cn(H,ee,ve,Ae={}){let Fe=La(A.matches,ee);rn(H),Ze({errors:{[Fe.route.id]:ve},fetchers:new Map(A.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function Tn(H){return Ne.set(H,(Ne.get(H)||0)+1),Ie.has(H)&&Ie.delete(H),A.fetchers.get(H)||DI}function Vr(H,ee){qt(H,ee?.reason),wn(H,Bo(null))}function rn(H){let ee=A.fetchers.get(H);V.has(H)&&!(ee&&ee.state==="loading"&&q.has(H))&&qt(H),we.delete(H),q.delete(H),re.delete(H),Ie.delete(H),J.delete(H),A.fetchers.delete(H)}function Pr(H){let ee=(Ne.get(H)||0)-1;ee<=0?(Ne.delete(H),Ie.add(H)):Ne.set(H,ee),Ze({fetchers:new Map(A.fetchers)})}function qt(H,ee){let ve=V.get(H);ve&&(ve.abort(ee),V.delete(H))}function At(H){for(let ee of H){let ve=Tn(ee),Ae=Bo(ve.data);A.fetchers.set(ee,Ae)}}function Ge(){let H=[],ee=!1;for(let ve of re){let Ae=A.fetchers.get(ve);Et(Ae,`Expected fetcher: ${ve}`),Ae.state==="loading"&&(re.delete(ve),H.push(ve),ee=!0)}return At(H),ee}function Yr(H){let ee=[];for(let[ve,Ae]of q)if(Ae<H){let Fe=A.fetchers.get(ve);Et(Fe,`Expected fetcher: ${ve}`),Fe.state==="loading"&&(qt(ve),q.delete(ve),ee.push(ve))}return At(ee),ee.length>0}function Dr(H,ee){let ve=A.blockers.get(H)||Tc;return qe.get(H)!==ee&&qe.set(H,ee),ve}function Di(H){A.blockers.delete(H),qe.delete(H)}function $e(H,ee){let ve=A.blockers.get(H)||Tc;Et(ve.state==="unblocked"&&ee.state==="blocked"||ve.state==="blocked"&&ee.state==="blocked"||ve.state==="blocked"&&ee.state==="proceeding"||ve.state==="blocked"&&ee.state==="unblocked"||ve.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${ve.state} -> ${ee.state}`);let Ae=new Map(A.blockers);Ae.set(H,ee),Ze({blockers:Ae})}function on({currentLocation:H,nextLocation:ee,historyAction:ve}){if(qe.size===0)return;qe.size>1&&Sn(!1,"A router only supports one blocker at a time");let Ae=Array.from(qe.entries()),[Fe,tt]=Ae[Ae.length-1],Xe=A.blockers.get(Fe);if(!(Xe&&Xe.state==="proceeding")&&tt({currentLocation:H,nextLocation:ee,historyAction:ve}))return Fe}function Gn(H){let ee=wi(404,{pathname:H}),ve=f||d,{matches:Ae,route:Fe}=zf(ve);return{notFoundMatches:Ae,route:Fe,error:ee}}function rr(H,ee,ve){if(_=H,T=ee,E=ve||null,!N&&A.navigation===Og){N=!0;let Ae=Xs(A.location,A.matches);Ae!=null&&Ze({restoreScrollPosition:Ae})}return()=>{_=null,T=null,E=null}}function Gi(H,ee){return E&&E(H,ee.map(Ae=>rI(Ae,A.loaderData)))||H.key}function Ai(H,ee){if(_&&T){let ve=Gi(H,ee);_[ve]=T()}}function Xs(H,ee){if(_){let ve=Gi(H,ee),Ae=_[ve];if(typeof Ae=="number")return Ae}return null}function po(H,ee,ve){if(e.patchRoutesOnNavigation)if(H){if(Object.keys(H[0].params).length>0)return{active:!0,matches:jc(ee,ve,h,!0)}}else return{active:!0,matches:jc(ee,ve,h,!0)||[]};return{active:!1,matches:null}}async function xr(H,ee,ve,Ae){if(!e.patchRoutesOnNavigation)return{type:"success",matches:H};let Fe=H;for(;;){let tt=f==null,Xe=f||d,He=u;try{await e.patchRoutesOnNavigation({signal:ve,path:ee,matches:Fe,fetcherKey:Ae,patch:(ot,it)=>{ve.aborted||vS(ot,it,Xe,He,s,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Fe}}finally{tt&&!ve.aborted&&(d=[...d])}if(ve.aborted)return{type:"aborted"};let Ke=ka(Xe,ee,h),Qe=null;if(Ke){if(Object.keys(Ke[0].params).length===0)return{type:"success",matches:Ke};if(Qe=jc(Xe,ee,h,!0),!(Qe&&Fe.length<Qe.length&&wr(Fe,Qe.slice(0,Fe.length))))return{type:"success",matches:Ke}}if(Qe||(Qe=jc(Xe,ee,h,!0)),!Qe||wr(Fe,Qe))return{type:"success",matches:null};Fe=Qe}}function wr(H,ee){return H.length===ee.length&&H.every((ve,Ae)=>ve.route.id===ee[Ae].route.id)}function Za(H){u={},f=Wc(H,s,void 0,u)}function mo(H,ee,ve=!1){let Ae=f==null;vS(H,ee,f||d,u,s,ve),Ae&&(d=[...d],Ze({}))}return U={get basename(){return h},get future(){return y},get state(){return A},get routes(){return d},get window(){return t},initialize:De,subscribe:ln,enableScrollRestoration:rr,navigate:kt,fetch:gn,revalidate:nn,createHref:H=>e.history.createHref(H),encodeLocation:H=>e.history.encodeLocation(H),getFetcher:Tn,resetFetcher:Vr,deleteFetcher:Pr,dispose:Zt,getBlocker:Dr,deleteBlocker:Di,patchRoutes:mo,_internalFetchControllers:V,_internalSetRoutes:Za,_internalSetStateDoNotUseOrYouWillBreakYourApp(H){Ze(H)}},e.unstable_instrumentations&&(U=SI(U,e.unstable_instrumentations.map(H=>H.router).filter(Boolean))),U}function II(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function ny(e,t,r,i,a,s){let u,d;if(a){u=[];for(let h of t)if(u.push(h),h.route.id===a){d=h;break}}else u=t,d=t[t.length-1];let f=tp(i||".",ep(u),Ei(e.pathname,r)||e.pathname,s==="path");if(i==null&&(f.search=e.search,f.hash=e.hash),(i==null||i===""||i===".")&&d){let h=Lv(f.search);if(d.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&h){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(w=>w).forEach(w=>g.append("index",w));let x=g.toString();f.search=x?`?${x}`:""}}return r!=="/"&&(f.pathname=gI({basename:r,pathname:f.pathname})),uo(f)}function gS(e,t,r){if(!r||!II(r))return{path:t};if(r.formMethod&&!JI(r.formMethod))return{path:t,error:wi(405,{method:r.formMethod})};let i=()=>({path:t,error:wi(400,{type:"invalid-body"})}),s=(r.formMethod||"get").toUpperCase(),u=hE(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!mr(s))return i();let y=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,[w,_])=>`${x}${w}=${_}
`,""):String(r.body);return{path:t,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:y}}}else if(r.formEncType==="application/json"){if(!mr(s))return i();try{let y=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Et(typeof FormData=="function","FormData is not available in this environment");let d,f;if(r.formData)d=oy(r.formData),f=r.formData;else if(r.body instanceof FormData)d=oy(r.body),f=r.body;else if(r.body instanceof URLSearchParams)d=r.body,f=CS(d);else if(r.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(r.body),f=CS(d)}catch{return i()}let h={formMethod:s,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(mr(h.formMethod))return{path:t,submission:h};let g=Zo(t);return e&&g.search&&Lv(g.search)&&d.append("index",""),g.search=`?${d}`,{path:uo(g),submission:h}}function yS(e,t,r,i,a,s,u,d,f,h,g,y,x,w,_,E,T,N,D,I,F){let k=I?ni(I[1])?I[1].error:I[1].data:void 0,U=a.createURL(s.location),A=a.createURL(f),$;if(g&&s.errors){let Ce=Object.keys(s.errors)[0];$=u.findIndex(B=>B.route.id===Ce)}else if(I&&ni(I[1])){let Ce=I[0];$=u.findIndex(B=>B.route.id===Ce)-1}let ae=I?I[1].statusCode:void 0,ue=ae&&ae>=400,me={currentUrl:U,currentParams:s.matches[0]?.params||{},nextUrl:A,nextParams:u[0].params,...d,actionResult:k,actionStatus:ae},de=dd(u),_e=u.map((Ce,B)=>{let{route:J}=Ce,V=null;if($!=null&&B>$?V=!1:J.lazy?V=!0:Fv(J)?g?V=ry(J,s.loaderData,s.errors):jI(s.loaderData,s.matches[B],Ce)&&(V=!0):V=!1,V!==null)return iy(r,i,e,de,Ce,h,t,V);let be=!1;typeof F=="boolean"?be=F:ue?be=!1:(y||U.pathname+U.search===A.pathname+A.search||U.search!==A.search||zI(s.matches[B],Ce))&&(be=!0);let Se={...me,defaultShouldRevalidate:be},q=Uc(Ce,Se);return iy(r,i,e,de,Ce,h,t,q,Se,F)}),ce=[];return _.forEach((Ce,B)=>{if(g||!u.some(Ne=>Ne.route.id===Ce.routeId)||w.has(B))return;let J=s.fetchers.get(B),V=J&&J.state!=="idle"&&J.data===void 0,be=ka(T,Ce.path,N);if(!be){if(D&&V)return;ce.push({key:B,routeId:Ce.routeId,path:Ce.path,matches:null,match:null,request:null,controller:null});return}if(E.has(B))return;let Se=Zf(be,Ce.path),q=new AbortController,re=Yl(a,Ce.path,q.signal),we=null;if(x.has(B))x.delete(B),we=Jl(r,i,re,be,Se,h,t);else if(V)y&&(we=Jl(r,i,re,be,Se,h,t));else{let Ne;typeof F=="boolean"?Ne=F:ue?Ne=!1:Ne=y;let Ie={...me,defaultShouldRevalidate:Ne};Uc(Se,Ie)&&(we=Jl(r,i,re,be,Se,h,t,Ie))}we&&ce.push({key:B,routeId:Ce.routeId,path:Ce.path,matches:we,match:Se,request:re,controller:q})}),{dsMatches:_e,revalidatingFetchers:ce}}function Fv(e){return e.loader!=null||e.middleware!=null&&e.middleware.length>0}function ry(e,t,r){if(e.lazy)return!0;if(!Fv(e))return!1;let i=t!=null&&e.id in t,a=r!=null&&r[e.id]!==void 0;return!i&&a?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!i&&!a}function jI(e,t,r){let i=!t||r.route.id!==t.route.id,a=!e.hasOwnProperty(r.route.id);return i||a}function zI(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Uc(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function vS(e,t,r,i,a,s){let u;if(e){let h=i[e];Et(h,`No route found to patch children into: routeId = ${e}`),h.children||(h.children=[]),u=h.children}else u=r;let d=[],f=[];if(t.forEach(h=>{let g=u.find(y=>lE(h,y));g?f.push({existingRoute:g,newRoute:h}):d.push(h)}),d.length>0){let h=Wc(d,a,[e||"_","patch",String(u?.length||"0")],i);u.push(...h)}if(s&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:g,newRoute:y}=f[h],x=g,[w]=Wc([y],a,[],{},!0);Object.assign(x,{element:w.element?w.element:x.element,errorElement:w.errorElement?w.errorElement:x.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:x.hydrateFallbackElement})}}function lE(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,i)=>t.children?.some(a=>lE(r,a))):!1}var bS=new WeakMap,uE=({key:e,route:t,manifest:r,mapRouteProperties:i})=>{let a=r[t.id];if(Et(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let s=a.lazy[e];if(!s)return;let u=bS.get(a);u||(u={},bS.set(a,u));let d=u[e];if(d)return d;let f=(async()=>{let h=JN(e),y=a[e]!==void 0&&e!=="hasErrorBoundary";if(h)Sn(!h,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),u[e]=Promise.resolve();else if(y)Sn(!1,`Route "${a.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let x=await s();x!=null&&(Object.assign(a,{[e]:x}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[e]=void 0,Object.values(a.lazy).every(x=>x===void 0)&&(a.lazy=void 0))})();return u[e]=f,f},xS=new WeakMap;function FI(e,t,r,i,a){let s=r[e.id];if(Et(s,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let g=xS.get(s);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{Et(typeof e.lazy=="function","No lazy route function found");let x=await e.lazy(),w={};for(let _ in x){let E=x[_];if(E===void 0)continue;let T=tI(_),D=s[_]!==void 0&&_!=="hasErrorBoundary";T?Sn(!T,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?Sn(!D,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):w[_]=E}Object.assign(s,w),Object.assign(s,{...i(s),lazy:void 0})})();return xS.set(s,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let u=Object.keys(e.lazy),d=[],f;for(let g of u){if(a&&a.includes(g))continue;let y=uE({key:g,route:e,manifest:r,mapRouteProperties:i});y&&(d.push(y),g===t&&(f=y))}let h=d.length>0?Promise.all(d).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function wS(e){let t=e.matches.filter(a=>a.shouldLoad),r={};return(await Promise.all(t.map(a=>a.resolve()))).forEach((a,s)=>{r[t[s].route.id]=a}),r}async function kI(e){return e.matches.some(t=>t.route.middleware)?cE(e,()=>wS(e)):wS(e)}function cE(e,t){return LI(e,t,i=>{if(ZI(i))throw i;return i},KI,r);function r(i,a,s){if(s)return Promise.resolve(Object.assign(s.value,{[a]:{type:"error",result:i}}));{let{matches:u}=e,d=Math.min(Math.max(u.findIndex(h=>h.route.id===a),0),Math.max(u.findIndex(h=>h.shouldCallHandler()),0)),f=La(u,u[d].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function LI(e,t,r,i,a){let{matches:s,request:u,params:d,context:f,unstable_pattern:h}=e,g=s.flatMap(x=>x.route.middleware?x.route.middleware.map(w=>[x.route.id,w]):[]);return await dE({request:u,params:d,context:f,unstable_pattern:h},g,t,r,i,a)}async function dE(e,t,r,i,a,s,u=0){let{request:d}=e;if(d.signal.aborted)throw d.signal.reason??new Error(`Request aborted: ${d.method} ${d.url}`);let f=t[u];if(!f)return await r();let[h,g]=f,y,x=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await dE(e,t,r,i,a,s,u+1)},y.value}catch(w){return y={value:await s(w,h,y)},y.value}};try{let w=await g(e,x),_=w!=null?i(w):void 0;return a(_)?_:y?_??y.value:(y={value:await x()},y.value)}catch(w){return await s(w,h,y)}}function fE(e,t,r,i,a){let s=uE({key:"middleware",route:i.route,manifest:t,mapRouteProperties:e}),u=FI(i.route,mr(r.method)?"action":"loader",t,e,a);return{middleware:s,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function iy(e,t,r,i,a,s,u,d,f=null,h){let g=!1,y=fE(e,t,r,a,s);return{...a,_lazyPromises:y,shouldLoad:d,shouldRevalidateArgs:f,shouldCallHandler(x){return g=!0,f?typeof h=="boolean"?Uc(a,{...f,defaultShouldRevalidate:h}):typeof x=="boolean"?Uc(a,{...f,defaultShouldRevalidate:x}):Uc(a,f):d},resolve(x){let{lazy:w,loader:_,middleware:E}=a.route,T=g||d||x&&!mr(r.method)&&(w||_),N=E&&E.length>0&&!_&&!w;return T&&(mr(r.method)||!N)?UI({request:r,unstable_pattern:i,match:a,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:x,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function Jl(e,t,r,i,a,s,u,d=null){return i.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:d,shouldCallHandler:()=>!1,_lazyPromises:fE(e,t,r,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:iy(e,t,r,dd(i),f,s,u,!0,d))}async function BI(e,t,r,i,a,s){r.some(h=>h._lazyPromises?.middleware)&&await Promise.all(r.map(h=>h._lazyPromises?.middleware));let u={request:t,unstable_pattern:dd(r),params:r[0].params,context:a,matches:r},f=await e({...u,fetcherKey:i,runClientMiddleware:h=>{let g=u;return cE(g,()=>h({...g,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(r.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function UI({request:e,unstable_pattern:t,match:r,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:s,scopedContext:u}){let d,f,h=mr(e.method),g=h?"action":"loader",y=x=>{let w,_=new Promise((N,D)=>w=D);f=()=>w(),e.signal.addEventListener("abort",f);let E=N=>typeof x!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${r.route.id}]`)):x({request:e,unstable_pattern:t,params:r.params,context:u},...N!==void 0?[N]:[]),T=(async()=>{try{return{type:"data",result:await(s?s(D=>E(D)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([T,_])};try{let x=h?r.route.action:r.route.loader;if(i||a)if(x){let w,[_]=await Promise.all([y(x).catch(E=>{w=E}),i,a]);if(w!==void 0)throw w;d=_}else{await i;let w=h?r.route.action:r.route.loader;if(w)[d]=await Promise.all([y(w),a]);else if(g==="action"){let _=new URL(e.url),E=_.pathname+_.search;throw wi(405,{method:e.method,pathname:E,routeId:r.route.id})}else return{type:"data",result:void 0}}else if(x)d=await y(x);else{let w=new URL(e.url),_=w.pathname+w.search;throw wi(404,{pathname:_})}}catch(x){return{type:"error",result:x}}finally{f&&e.signal.removeEventListener("abort",f)}return d}async function $I(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function HI(e){let{result:t,type:r}=e;if(kv(t)){let i;try{i=await $I(t)}catch(a){return{type:"error",error:a}}return r==="error"?{type:"error",error:new cd(t.status,t.statusText,i),statusCode:t.status,headers:t.headers}:{type:"data",data:i,statusCode:t.status,headers:t.headers}}return r==="error"?MS(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:YI(t),statusCode:Qc(t)?t.status:void 0,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:Qc(t)?t.status:void 0}:MS(t)?{type:"data",data:t.data,statusCode:t.init?.status,headers:t.init?.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function qI(e,t,r,i,a){let s=e.headers.get("Location");if(Et(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!Jh(s)){let u=i.slice(0,i.findIndex(d=>d.route.id===r)+1);s=ny(new URL(t.url),u,a,s),e.headers.set("Location",s)}return e}function SS(e,t,r){if(Jh(e)){let i=e,a=i.startsWith("//")?new URL(t.protocol+i):new URL(i),s=Ei(a.pathname,r)!=null;if(a.origin===t.origin&&s)return a.pathname+a.search+a.hash}return e}function Yl(e,t,r,i){let a=e.createURL(hE(t)).toString(),s={signal:r};if(i&&mr(i.formMethod)){let{formMethod:u,formEncType:d}=i;s.method=u.toUpperCase(),d==="application/json"?(s.headers=new Headers({"Content-Type":d}),s.body=JSON.stringify(i.json)):d==="text/plain"?s.body=i.text:d==="application/x-www-form-urlencoded"&&i.formData?s.body=oy(i.formData):s.body=i.formData}return new Request(a,s)}function oy(e){let t=new URLSearchParams;for(let[r,i]of e.entries())t.append(r,typeof i=="string"?i:i.name);return t}function CS(e){let t=new FormData;for(let[r,i]of e.entries())t.append(r,i);return t}function GI(e,t,r,i=!1,a=!1){let s={},u=null,d,f=!1,h={},g=r&&ni(r[1])?r[1].error:void 0;return e.forEach(y=>{if(!(y.route.id in t))return;let x=y.route.id,w=t[x];if(Et(!Rs(w),"Cannot handle redirect results in processLoaderData"),ni(w)){let _=w.error;if(g!==void 0&&(_=g,g=void 0),u=u||{},a)u[x]=_;else{let E=La(e,x);u[E.route.id]==null&&(u[E.route.id]=_)}i||(s[x]=sE),f||(f=!0,d=Qc(w.error)?w.error.status:500),w.headers&&(h[x]=w.headers)}else s[x]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(h[x]=w.headers)}),g!==void 0&&r&&(u={[r[0]]:g},r[2]&&(s[r[2]]=void 0)),{loaderData:s,errors:u,statusCode:d||200,loaderHeaders:h}}function _S(e,t,r,i,a,s){let{loaderData:u,errors:d}=GI(t,r,i);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:g,controller:y}=f;if(y&&y.signal.aborted)return;let x=s[h];if(Et(x,"Did not find corresponding fetcher result"),ni(x)){let w=La(e.matches,g?.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:x.error}),e.fetchers.delete(h)}else if(Rs(x))Et(!1,"Unhandled fetcher revalidation redirect");else{let w=Bo(x.data);e.fetchers.set(h,w)}}),{loaderData:u,errors:d}}function ES(e,t,r,i){let a=Object.entries(t).filter(([,s])=>s!==sE).reduce((s,[u,d])=>(s[u]=d,s),{});for(let s of r){let u=s.route.id;if(!t.hasOwnProperty(u)&&e.hasOwnProperty(u)&&s.route.loader&&(a[u]=e[u]),i&&i.hasOwnProperty(u))break}return a}function OS(e){return e?ni(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function La(e,t){return(t?e.slice(0,e.findIndex(i=>i.route.id===t)+1):[...e]).reverse().find(i=>i.route.hasErrorBoundary===!0)||e[0]}function zf(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function wi(e,{pathname:t,routeId:r,method:i,type:a,message:s}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return e===400?(u="Bad Request",i&&t&&r?d=`You made a ${i} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:a==="invalid-body"&&(d="Unable to encode submission body")):e===403?(u="Forbidden",d=`Route "${r}" does not match URL "${t}"`):e===404?(u="Not Found",d=`No route matches URL "${t}"`):e===405&&(u="Method Not Allowed",i&&t&&r?d=`You made a ${i.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:i&&(d=`Invalid request method "${i.toUpperCase()}"`)),new cd(e||500,u,new Error(d),!0)}function Ff(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[i,a]=t[r];if(Rs(a))return{key:i,result:a}}}function hE(e){let t=typeof e=="string"?Zo(e):e;return uo({...t,hash:""})}function VI(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function YI(e){return new cd(e.init?.status??500,e.init?.statusText??"Internal Server Error",e.data)}function KI(e){return e!=null&&typeof e=="object"&&Object.entries(e).every(([t,r])=>typeof t=="string"&&XI(r))}function XI(e){return e!=null&&typeof e=="object"&&"type"in e&&"result"in e&&(e.type==="data"||e.type==="error")}function WI(e){return kv(e.result)&&oE.has(e.result.status)}function ni(e){return e.type==="error"}function Rs(e){return(e&&e.type)==="redirect"}function MS(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function kv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function QI(e){return oE.has(e)}function ZI(e){return kv(e)&&QI(e.status)&&e.headers.has("Location")}function JI(e){return RI.has(e.toUpperCase())}function mr(e){return MI.has(e.toUpperCase())}function Lv(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function Zf(e,t){let r=typeof t=="string"?Zo(t).search:t.search;if(e[e.length-1].route.index&&Lv(r||""))return e[e.length-1];let i=eE(e);return i[i.length-1]}function TS(e){let{formMethod:t,formAction:r,formEncType:i,text:a,formData:s,json:u}=e;if(!(!t||!r||!i)){if(a!=null)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:t,formAction:r,formEncType:i,formData:s,json:void 0,text:void 0};if(u!==void 0)return{formMethod:t,formAction:r,formEncType:i,formData:void 0,json:u,text:void 0}}}function Mg(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function e3(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Rc(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function t3(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Bo(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function n3(e,t){try{let r=e.sessionStorage.getItem(aE);if(r){let i=JSON.parse(r);for(let[a,s]of Object.entries(i||{}))s&&Array.isArray(s)&&t.set(a,new Set(s||[]))}}catch{}}function r3(e,t){if(t.size>0){let r={};for(let[i,a]of t)r[i]=[...a];try{e.sessionStorage.setItem(aE,JSON.stringify(r))}catch(i){Sn(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function RS(){let e,t,r=new Promise((i,a)=>{e=async s=>{i(s);try{await r}catch{}},t=async s=>{a(s);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var qs=C.createContext(null);qs.displayName="DataRouter";var fd=C.createContext(null);fd.displayName="DataRouterState";var pE=C.createContext(!1);function i3(){return C.useContext(pE)}var Bv=C.createContext({isTransitioning:!1});Bv.displayName="ViewTransition";var mE=C.createContext(new Map);mE.displayName="Fetchers";var o3=C.createContext(null);o3.displayName="Await";var li=C.createContext(null);li.displayName="Navigation";var np=C.createContext(null);np.displayName="Location";var qi=C.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var Uv=C.createContext(null);Uv.displayName="RouteError";var gE="REACT_ROUTER_ERROR",a3="REDIRECT",s3="ROUTE_ERROR_RESPONSE";function l3(e){if(e.startsWith(`${gE}:${a3}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function u3(e){if(e.startsWith(`${gE}:${s3}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new cd(t.status,t.statusText,t.data)}catch{}}function c3(e,{relative:t}={}){Et(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=C.useContext(li),{hash:a,pathname:s,search:u}=pd(e,{relative:t}),d=s;return r!=="/"&&(d=s==="/"?r:ao([r,s])),i.createHref({pathname:d,search:u,hash:a})}function Cu(){return C.useContext(np)!=null}function Qa(){return Et(Cu(),"useLocation() may be used only in the context of a <Router> component."),C.useContext(np).location}var yE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vE(e){C.useContext(li).static||C.useLayoutEffect(e)}function hd(){let{isDataRoute:e}=C.useContext(qi);return e?E3():d3()}function d3(){Et(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let e=C.useContext(qs),{basename:t,navigator:r}=C.useContext(li),{matches:i}=C.useContext(qi),{pathname:a}=Qa(),s=JSON.stringify(ep(i)),u=C.useRef(!1);return vE(()=>{u.current=!0}),C.useCallback((f,h={})=>{if(Sn(u.current,yE),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=tp(f,JSON.parse(s),a,h.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:ao([t,g.pathname])),(h.replace?r.replace:r.push)(g,h.state,h)},[t,r,s,a,e])}var f3=C.createContext(null);function h3(e){let t=C.useContext(qi).outlet;return C.useMemo(()=>t&&C.createElement(f3.Provider,{value:e},t),[t,e])}function pd(e,{relative:t}={}){let{matches:r}=C.useContext(qi),{pathname:i}=Qa(),a=JSON.stringify(ep(r));return C.useMemo(()=>tp(e,JSON.parse(a),i,t==="path"),[e,a,i,t])}function p3(e,t,r,i,a){Et(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=C.useContext(li),{matches:u}=C.useContext(qi),d=u[u.length-1],f=d?d.params:{},h=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let D=y&&y.path||"";xE(h,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let x=Qa(),w;w=x;let _=w.pathname||"/",E=_;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let T=ka(e,{pathname:E});return Sn(y||T!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Sn(T==null||T[T.length-1].route.element!==void 0||T[T.length-1].route.Component!==void 0||T[T.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),b3(T&&T.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:ao([g,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ao([g,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,r,i,a)}function m3(){let e=_3(),t=Qc(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=C.createElement(C.Fragment,null,C.createElement("p",null," Hey developer "),C.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",C.createElement("code",{style:s},"ErrorBoundary")," or"," ",C.createElement("code",{style:s},"errorElement")," prop on your route.")),C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},t),r?C.createElement("pre",{style:a},r):null,u)}var g3=C.createElement(m3,null),bE=class extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const r=u3(e.digest);r&&(e=r)}let t=e!==void 0?C.createElement(qi.Provider,{value:this.props.routeContext},C.createElement(Uv.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?C.createElement(y3,{error:e},t):t}};bE.contextType=pE;var Tg=new WeakMap;function y3({children:e,error:t}){let{basename:r}=C.useContext(li);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=l3(t.digest);if(i){let a=Tg.get(t);if(a)throw a;let s=nE(i.location,r);if(tE&&!Tg.get(t))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Tg.set(t,u),u}return C.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return e}function v3({routeContext:e,match:t,children:r}){let i=C.useContext(qs);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),C.createElement(qi.Provider,{value:e},r)}function b3(e,t=[],r=null,i=null,a=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let s=e,u=r?.errors;if(u!=null){let g=s.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let d=!1,f=-1;if(r)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:x,errors:w}=r,_=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||_){d=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=r&&i?(g,y)=>{i(g,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:dd(r.matches),errorInfo:y})}:void 0;return s.reduceRight((g,y,x)=>{let w,_=!1,E=null,T=null;r&&(w=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||g3,d&&(f<0&&x===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,T=null):f===x&&(_=!0,T=y.route.hydrateFallbackElement||null)));let N=t.concat(s.slice(0,x+1)),D=()=>{let I;return w?I=E:_?I=T:y.route.Component?I=C.createElement(y.route.Component,null):y.route.element?I=y.route.element:I=g,C.createElement(v3,{match:y,routeContext:{outlet:g,matches:N,isDataRoute:r!=null},children:I})};return r&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?C.createElement(bE,{location:r.location,revalidation:r.revalidation,component:E,error:w,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):D()},null)}function $v(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function x3(e){let t=C.useContext(qs);return Et(t,$v(e)),t}function w3(e){let t=C.useContext(fd);return Et(t,$v(e)),t}function S3(e){let t=C.useContext(qi);return Et(t,$v(e)),t}function Hv(e){let t=S3(e),r=t.matches[t.matches.length-1];return Et(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function C3(){return Hv("useRouteId")}function _3(){let e=C.useContext(Uv),t=w3("useRouteError"),r=Hv("useRouteError");return e!==void 0?e:t.errors?.[r]}function E3(){let{router:e}=x3("useNavigate"),t=Hv("useNavigate"),r=C.useRef(!1);return vE(()=>{r.current=!0}),C.useCallback(async(a,s={})=>{Sn(r.current,yE),r.current&&(typeof a=="number"?await e.navigate(a):await e.navigate(a,{fromRouteId:t,...s}))},[e,t])}var PS={};function xE(e,t,r){!t&&!PS[e]&&(PS[e]=!0,Sn(!1,r))}var DS={};function AS(e,t){!e&&!DS[t]&&(DS[t]=!0,console.warn(t))}var O3="useOptimistic",NS=_y[O3],M3=()=>{};function T3(e){return NS?NS(e):[e,M3]}function R3(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&Sn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:C.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&Sn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:C.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&Sn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:C.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var P3=["HydrateFallback","hydrateFallbackElement"],D3=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function A3({router:e,flushSync:t,onError:r,unstable_useTransitions:i}){i=i3()||i;let[s,u]=C.useState(e.state),[d,f]=T3(s),[h,g]=C.useState(),[y,x]=C.useState({isTransitioning:!1}),[w,_]=C.useState(),[E,T]=C.useState(),[N,D]=C.useState(),I=C.useRef(new Map),F=C.useCallback(($,{deletedFetchers:ae,newErrors:ue,flushSync:me,viewTransitionOpts:de})=>{ue&&r&&Object.values(ue).forEach(ce=>r(ce,{location:$.location,params:$.matches[0]?.params??{},unstable_pattern:dd($.matches)})),$.fetchers.forEach((ce,Ce)=>{ce.data!==void 0&&I.current.set(Ce,ce.data)}),ae.forEach(ce=>I.current.delete(ce)),AS(me===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let _e=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(AS(de==null||_e,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!de||!_e){t&&me?t(()=>u($)):i===!1?u($):C.startTransition(()=>{i===!0&&f(ce=>IS(ce,$)),u($)});return}if(t&&me){t(()=>{E&&(w?.resolve(),E.skipTransition()),x({isTransitioning:!0,flushSync:!0,currentLocation:de.currentLocation,nextLocation:de.nextLocation})});let ce=e.window.document.startViewTransition(()=>{t(()=>u($))});ce.finished.finally(()=>{t(()=>{_(void 0),T(void 0),g(void 0),x({isTransitioning:!1})})}),t(()=>T(ce));return}E?(w?.resolve(),E.skipTransition(),D({state:$,currentLocation:de.currentLocation,nextLocation:de.nextLocation})):(g($),x({isTransitioning:!0,flushSync:!1,currentLocation:de.currentLocation,nextLocation:de.nextLocation}))},[e.window,t,E,w,i,f,r]);C.useLayoutEffect(()=>e.subscribe(F),[e,F]),C.useEffect(()=>{y.isTransitioning&&!y.flushSync&&_(new D3)},[y]),C.useEffect(()=>{if(w&&h&&e.window){let $=h,ae=w.promise,ue=e.window.document.startViewTransition(async()=>{i===!1?u($):C.startTransition(()=>{i===!0&&f(me=>IS(me,$)),u($)}),await ae});ue.finished.finally(()=>{_(void 0),T(void 0),g(void 0),x({isTransitioning:!1})}),T(ue)}},[h,w,e.window,i,f]),C.useEffect(()=>{w&&h&&d.location.key===h.location.key&&w.resolve()},[w,E,d.location,h]),C.useEffect(()=>{!y.isTransitioning&&N&&(g(N.state),x({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),D(void 0))},[y.isTransitioning,N]);let k=C.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:$=>e.navigate($),push:($,ae,ue)=>e.navigate($,{state:ae,preventScrollReset:ue?.preventScrollReset}),replace:($,ae,ue)=>e.navigate($,{replace:!0,state:ae,preventScrollReset:ue?.preventScrollReset})}),[e]),U=e.basename||"/",A=C.useMemo(()=>({router:e,navigator:k,static:!1,basename:U,onError:r}),[e,k,U,r]);return C.createElement(C.Fragment,null,C.createElement(qs.Provider,{value:A},C.createElement(fd.Provider,{value:d},C.createElement(mE.Provider,{value:I.current},C.createElement(Bv.Provider,{value:y},C.createElement(z3,{basename:U,location:d.location,navigationType:d.historyAction,navigator:k,unstable_useTransitions:i},C.createElement(N3,{routes:e.routes,future:e.future,state:d,onError:r})))))),null)}function IS(e,t){return{...e,navigation:t.navigation.state!=="idle"?t.navigation:e.navigation,revalidation:t.revalidation!=="idle"?t.revalidation:e.revalidation,actionData:t.navigation.state!=="submitting"?t.actionData:e.actionData,fetchers:t.fetchers}}var N3=C.memo(I3);function I3({routes:e,future:t,state:r,onError:i}){return p3(e,void 0,r,i,t)}function j3({to:e,replace:t,state:r,relative:i}){Et(Cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=C.useContext(li);Sn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=C.useContext(qi),{pathname:u}=Qa(),d=hd(),f=tp(e,ep(s),u,i==="path"),h=JSON.stringify(f);return C.useEffect(()=>{d(JSON.parse(h),{replace:t,state:r,relative:i})},[d,h,i,t,r]),null}function wE(e){return h3(e.context)}function z3({basename:e="/",children:t=null,location:r,navigationType:i="POP",navigator:a,static:s=!1,unstable_useTransitions:u}){Et(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),f=C.useMemo(()=>({basename:d,navigator:a,static:s,unstable_useTransitions:u,future:{}}),[d,a,s,u]);typeof r=="string"&&(r=Zo(r));let{pathname:h="/",search:g="",hash:y="",state:x=null,key:w="default"}=r,_=C.useMemo(()=>{let E=Ei(h,d);return E==null?null:{location:{pathname:E,search:g,hash:y,state:x,key:w},navigationType:i}},[d,h,g,y,x,w,i]);return Sn(_!=null,`<Router basename="${d}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:C.createElement(li.Provider,{value:f},C.createElement(np.Provider,{children:t,value:_}))}var Jf="get",eh="application/x-www-form-urlencoded";function rp(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function F3(e){return rp(e)&&e.tagName.toLowerCase()==="button"}function k3(e){return rp(e)&&e.tagName.toLowerCase()==="form"}function L3(e){return rp(e)&&e.tagName.toLowerCase()==="input"}function B3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function U3(e,t){return e.button===0&&(!t||t==="_self")&&!B3(e)}var kf=null;function $3(){if(kf===null)try{new FormData(document.createElement("form"),0),kf=!1}catch{kf=!0}return kf}var H3=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rg(e){return e!=null&&!H3.has(e)?(Sn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):e}function q3(e,t){let r,i,a,s,u;if(k3(e)){let d=e.getAttribute("action");i=d?Ei(d,t):null,r=e.getAttribute("method")||Jf,a=Rg(e.getAttribute("enctype"))||eh,s=new FormData(e)}else if(F3(e)||L3(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(i=f?Ei(f,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Jf,a=Rg(e.getAttribute("formenctype"))||Rg(d.getAttribute("enctype"))||eh,s=new FormData(d,e),!$3()){let{name:h,type:g,value:y}=e;if(g==="image"){let x=h?`${h}.`:"";s.append(`${x}x`,"0"),s.append(`${x}y`,"0")}else h&&s.append(h,y)}}else{if(rp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Jf,i=null,a=eh,u=e}return s&&a==="text/plain"&&(u=s,s=void 0),{action:i,method:r.toLowerCase(),encType:a,formData:s,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function qv(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function G3(e,t,r){let i=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i.pathname==="/"?i.pathname=`_root.${r}`:t&&Ei(i.pathname,t)==="/"?i.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${r}`,i}async function V3(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Y3(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function K3(e,t,r){let i=await Promise.all(e.map(async a=>{let s=t.routes[a.route.id];if(s){let u=await V3(s,r);return u.links?u.links():[]}return[]}));return Z3(i.flat(1).filter(Y3).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function jS(e,t,r,i,a,s){let u=(f,h)=>r[h]?f.route.id!==r[h].route.id:!0,d=(f,h)=>r[h].pathname!==f.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==f.params["*"];return s==="assets"?t.filter((f,h)=>u(f,h)||d(f,h)):s==="data"?t.filter((f,h)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||d(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function X3(e,t,{includeHydrateFallback:r}={}){return W3(e.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function W3(e){return[...new Set(e)]}function Q3(e){let t={},r=Object.keys(e).sort();for(let i of r)t[i]=e[i];return t}function Z3(e,t){let r=new Set;return new Set(t),e.reduce((i,a)=>{let s=JSON.stringify(Q3(a));return r.has(s)||(r.add(s),i.push({key:s,link:a})),i},[])}function SE(){let e=C.useContext(qs);return qv(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function J3(){let e=C.useContext(fd);return qv(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Gv=C.createContext(void 0);Gv.displayName="FrameworkContext";function CE(){let e=C.useContext(Gv);return qv(e,"You must render this element inside a <HydratedRouter> element"),e}function ej(e,t){let r=C.useContext(Gv),[i,a]=C.useState(!1),[s,u]=C.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=t,x=C.useRef(null);C.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let E=N=>{N.forEach(D=>{u(D.isIntersecting)})},T=new IntersectionObserver(E,{threshold:.5});return x.current&&T.observe(x.current),()=>{T.disconnect()}}},[e]),C.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let w=()=>{a(!0)},_=()=>{a(!1),u(!1)};return r?e!=="intent"?[s,x,{}]:[s,x,{onFocus:Pc(d,w),onBlur:Pc(f,_),onMouseEnter:Pc(h,w),onMouseLeave:Pc(g,_),onTouchStart:Pc(y,w)}]:[!1,x,{}]}function Pc(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function tj({page:e,...t}){let{router:r}=SE(),i=C.useMemo(()=>ka(r.routes,e,r.basename),[r.routes,e,r.basename]);return i?C.createElement(rj,{page:e,matches:i,...t}):null}function nj(e){let{manifest:t,routeModules:r}=CE(),[i,a]=C.useState([]);return C.useEffect(()=>{let s=!1;return K3(e,t,r).then(u=>{s||a(u)}),()=>{s=!0}},[e,t,r]),i}function rj({page:e,matches:t,...r}){let i=Qa(),{manifest:a,routeModules:s}=CE(),{basename:u}=SE(),{loaderData:d,matches:f}=J3(),h=C.useMemo(()=>jS(e,t,f,a,i,"data"),[e,t,f,a,i]),g=C.useMemo(()=>jS(e,t,f,a,i,"assets"),[e,t,f,a,i]),y=C.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(t.forEach(N=>{let D=a.routes[N.route.id];!D||!D.hasLoader||(!h.some(I=>I.route.id===N.route.id)&&N.route.id in d&&s[N.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:_.add(N.route.id))}),_.size===0)return[];let T=G3(e,u,"data");return E&&_.size>0&&T.searchParams.set("_routes",t.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[T.pathname+T.search]},[u,d,i,a,h,t,e,s]),x=C.useMemo(()=>X3(g,a),[g,a]),w=nj(g);return C.createElement(C.Fragment,null,y.map(_=>C.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),x.map(_=>C.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),w.map(({key:_,link:E})=>C.createElement("link",{key:_,nonce:r.nonce,...E})))}function ij(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var oj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oj&&(window.__reactRouterVersion="7.11.0")}catch{}function aj(e,t){return NI({basename:t?.basename,getContext:t?.getContext,future:t?.future,history:XN({window:t?.window}),hydrationData:sj(),routes:e,mapRouteProperties:R3,hydrationRouteProperties:P3,dataStrategy:t?.dataStrategy,patchRoutesOnNavigation:t?.patchRoutesOnNavigation,window:t?.window,unstable_instrumentations:t?.unstable_instrumentations}).initialize()}function sj(){let e=window?.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:lj(e.errors)}),e}function lj(e){if(!e)return null;let t=Object.entries(e),r={};for(let[i,a]of t)if(a&&a.__type==="RouteErrorResponse")r[i]=new cd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let u=new s(a.message);u.stack="",r[i]=u}catch{}}if(r[i]==null){let s=new Error(a.message);s.stack="",r[i]=s}}else r[i]=a;return r}var _E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,EE=C.forwardRef(function({onClick:t,discover:r="render",prefetch:i="none",relative:a,reloadDocument:s,replace:u,state:d,target:f,to:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},_){let{basename:E,unstable_useTransitions:T}=C.useContext(li),N=typeof h=="string"&&_E.test(h),D=nE(h,E);h=D.to;let I=c3(h,{relative:a}),[F,k,U]=ej(i,w),A=fj(h,{replace:u,state:d,target:f,preventScrollReset:g,relative:a,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:T});function $(ue){t&&t(ue),ue.defaultPrevented||A(ue)}let ae=C.createElement("a",{...w,...U,href:D.absoluteURL||I,onClick:D.isExternal||s?t:$,ref:ij(_,k),target:f,"data-discover":!N&&r==="render"?"true":void 0});return F&&!N?C.createElement(C.Fragment,null,ae,C.createElement(tj,{page:I})):ae});EE.displayName="Link";var uj=C.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:i="",end:a=!1,style:s,to:u,viewTransition:d,children:f,...h},g){let y=pd(u,{relative:h.relative}),x=Qa(),w=C.useContext(fd),{navigator:_,basename:E}=C.useContext(li),T=w!=null&&yj(y)&&d===!0,N=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,D=x.pathname,I=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;r||(D=D.toLowerCase(),I=I?I.toLowerCase():null,N=N.toLowerCase()),I&&E&&(I=Ei(I,E)||I);const F=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let k=D===N||!a&&D.startsWith(N)&&D.charAt(F)==="/",U=I!=null&&(I===N||!a&&I.startsWith(N)&&I.charAt(N.length)==="/"),A={isActive:k,isPending:U,isTransitioning:T},$=k?t:void 0,ae;typeof i=="function"?ae=i(A):ae=[i,k?"active":null,U?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let ue=typeof s=="function"?s(A):s;return C.createElement(EE,{...h,"aria-current":$,className:ae,ref:g,style:ue,to:u,viewTransition:d},typeof f=="function"?f(A):f)});uj.displayName="NavLink";var cj=C.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:i,replace:a,state:s,method:u=Jf,action:d,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...w},_)=>{let{unstable_useTransitions:E}=C.useContext(li),T=mj(),N=gj(d,{relative:h}),D=u.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&_E.test(d),F=k=>{if(f&&f(k),k.defaultPrevented)return;k.preventDefault();let U=k.nativeEvent.submitter,A=U?.getAttribute("formmethod")||u,$=()=>T(U||k.currentTarget,{fetcherKey:t,method:A,navigate:r,replace:a,state:s,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x});E&&r!==!1?C.startTransition(()=>$()):$()};return C.createElement("form",{ref:_,method:D,action:N,onSubmit:i?f:F,...w,"data-discover":!I&&e==="render"?"true":void 0})});cj.displayName="Form";function dj(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OE(e){let t=C.useContext(qs);return Et(t,dj(e)),t}function fj(e,{target:t,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let h=hd(),g=Qa(),y=pd(e,{relative:s});return C.useCallback(x=>{if(U3(x,t)){x.preventDefault();let w=r!==void 0?r:uo(g)===uo(y),_=()=>h(e,{replace:w,state:i,preventScrollReset:a,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:d});f?C.startTransition(()=>_()):_()}},[g,h,y,r,i,t,e,a,s,u,d,f])}var hj=0,pj=()=>`__${String(++hj)}__`;function mj(){let{router:e}=OE("useSubmit"),{basename:t}=C.useContext(li),r=C3(),i=e.fetch,a=e.navigate;return C.useCallback(async(s,u={})=>{let{action:d,method:f,encType:h,formData:g,body:y}=q3(s,t);if(u.navigate===!1){let x=u.fetcherKey||pj();await i(x,r,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||h,flushSync:u.flushSync})}else await a(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:r,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,t,r])}function gj(e,{relative:t}={}){let{basename:r}=C.useContext(li),i=C.useContext(qi);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...pd(e||".",{relative:t})},u=Qa();if(e==null){s.search=u.search;let d=new URLSearchParams(s.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();s.search=g?`?${g}`:""}}return(!e||e===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:ao([r,s.pathname])),uo(s)}function yj(e,{relative:t}={}){let r=C.useContext(Bv);Et(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=OE("useViewTransitionState"),a=pd(e,{relative:t});if(!r.isTransitioning)return!1;let s=Ei(r.currentLocation.pathname,i)||r.currentLocation.pathname,u=Ei(r.nextLocation.pathname,i)||r.nextLocation.pathname;return dh(a.pathname,u)!=null||dh(a.pathname,s)!=null}function vj(e){return C.createElement(A3,{flushSync:Bs.flushSync,...e})}function bj(){return R.jsx(wE,{})}const xj="data:image/svg+xml,%3csvg%20width='43'%20height='43'%20viewBox='0%200%2043%2043'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5332%2017.6109L39.9674%203.49107C39.9674%203.49107%2040.765%2023.4159%2024.14%2029.562L23.985%2029.6193'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3cpath%20d='M30.47%2031.8639L35.8795%2040.7858H23.1966C23.1966%2040.7858%2018.6108%2041.6981%2013.7995%2034.5983C8.98814%2027.4985%202.63867%2016.2263%202.63867%2016.2263C2.63867%2016.2263%209.34769%209.93937%2014.3737%2018.3597C19.3997%2026.78%2020.3351%2032.5465%2026.5371%2028.7108'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3c/svg%3e";function wj(){const[e,t]=C.useState(""),[r,i]=C.useState(""),[a,s]=C.useState(!1),[u,d]=C.useState(null),{login:f}=Ks(),h=hd(),g=si(),y=async x=>{x.preventDefault(),s(!0),d(null);try{const w=await bh.login(e,r);f(w),h("/")}catch(w){console.error("Login failed",w),d("      ")}finally{s(!1)}};return R.jsx(iu,{style:{height:"100vh"},children:R.jsx(ke,{p:30,style:{width:400},children:R.jsxs($i,{gap:"lg",children:[R.jsx(iu,{children:R.jsx(Pv,{src:xj,alt:"Logo",w:38,h:38})}),R.jsx(Zh,{order:2,ta:"center",c:g.primaryColor,children:""}),R.jsx(qo,{ta:"center",c:"dimmed",children:"      :"}),R.jsx("form",{onSubmit:y,children:R.jsxs($i,{children:[R.jsx(ou,{label:" ",value:e,onChange:x=>t(x.target.value),required:!0}),R.jsx(Nv,{label:" ",value:r,onChange:x=>i(x.target.value),required:!0}),u&&R.jsx(qo,{c:"red",size:"sm",ta:"center",children:u}),R.jsx(ii,{type:"submit",fullWidth:!0,mt:"xl",loading:a,children:""})]})})]})})})}function Sj(e){let t=e,r=!1;const i=new Set;return{getState(){return t},updateState(a){t=typeof a=="function"?a(t):a},setState(a){this.updateState(a),i.forEach(s=>s(t))},initialize(a){r||(t=a,r=!0)},subscribe(a){return i.add(a),()=>i.delete(a)}}}function Cj(e){return C.useSyncExternalStore(e.subscribe,()=>e.getState(),()=>e.getState())}function _j(e,t,r){const i=[],a=[],s={};for(const u of e){const d=u.position||t;s[d]=s[d]||0,s[d]+=1,s[d]<=r?a.push(u):i.push(u)}return{notifications:a,queue:i}}const Ej=()=>Sj({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Gs=Ej(),Oj=(e=Gs)=>Cj(e);function _u(e,t){const r=e.getState(),i=t([...r.notifications,...r.queue]),a=_j(i,r.defaultPosition,r.limit);e.setState({notifications:a.notifications,queue:a.queue,limit:r.limit,defaultPosition:r.defaultPosition})}function Mj(e,t=Gs){const r=e.id||X1();return _u(t,i=>e.id&&i.some(a=>a.id===e.id)?i:[...i,{...e,id:r}]),r}function ME(e,t=Gs){return _u(t,r=>r.filter(i=>i.id===e?(i.onClose?.(i),!1):!0)),e}function Tj(e,t=Gs){return _u(t,r=>r.map(i=>i.id===e.id?{...i,...e}:i)),e.id}function Rj(e=Gs){_u(e,()=>[])}function Pj(e=Gs){_u(e,t=>t.slice(0,e.getState().limit))}const Va={show:Mj,hide:ME,update:Tj,clean:Rj,cleanQueue:Pj,updateState:_u};function ay(e,t){return ay=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ay(e,t)}function TE(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ay(e,t)}const zS={disabled:!1},fh=Yn.createContext(null);var Dj=function(t){return t.scrollTop},zc="unmounted",Es="exited",Os="entering",Kl="entered",sy="exiting",Jo=(function(e){TE(t,e);function t(i,a){var s;s=e.call(this,i,a)||this;var u=a,d=u&&!u.isMounting?i.enter:i.appear,f;return s.appearStatus=null,i.in?d?(f=Es,s.appearStatus=Os):f=Kl:i.unmountOnExit||i.mountOnEnter?f=zc:f=Es,s.state={status:f},s.nextCallback=null,s}t.getDerivedStateFromProps=function(a,s){var u=a.in;return u&&s.status===zc?{status:Es}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var s=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Os&&u!==Kl&&(s=Os):(u===Os||u===Kl)&&(s=sy)}this.updateStatus(!1,s)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,s,u,d;return s=u=d=a,a!=null&&typeof a!="number"&&(s=a.exit,u=a.enter,d=a.appear!==void 0?a.appear:u),{exit:s,enter:u,appear:d}},r.updateStatus=function(a,s){if(a===void 0&&(a=!1),s!==null)if(this.cancelNextCallback(),s===Os){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:Nc.findDOMNode(this);u&&Dj(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Es&&this.setState({status:zc})},r.performEnter=function(a){var s=this,u=this.props.enter,d=this.context?this.context.isMounting:a,f=this.props.nodeRef?[d]:[Nc.findDOMNode(this),d],h=f[0],g=f[1],y=this.getTimeouts(),x=d?y.appear:y.enter;if(!a&&!u||zS.disabled){this.safeSetState({status:Kl},function(){s.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Os},function(){s.props.onEntering(h,g),s.onTransitionEnd(x,function(){s.safeSetState({status:Kl},function(){s.props.onEntered(h,g)})})})},r.performExit=function(){var a=this,s=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:Nc.findDOMNode(this);if(!s||zS.disabled){this.safeSetState({status:Es},function(){a.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:sy},function(){a.props.onExiting(d),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:Es},function(){a.props.onExited(d)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,s){s=this.setNextCallback(s),this.setState(a,s)},r.setNextCallback=function(a){var s=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,s.nextCallback=null,a(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},r.onTransitionEnd=function(a,s){this.setNextCallback(s);var u=this.props.nodeRef?this.props.nodeRef.current:Nc.findDOMNode(this),d=a==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===zc)return null;var s=this.props,u=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var d=H_(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Yn.createElement(fh.Provider,{value:null},typeof u=="function"?u(a,d):Yn.cloneElement(Yn.Children.only(u),d))},t})(Yn.Component);Jo.contextType=fh;Jo.propTypes={};function Hl(){}Jo.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Hl,onEntering:Hl,onEntered:Hl,onExit:Hl,onExiting:Hl,onExited:Hl};Jo.UNMOUNTED=zc;Jo.EXITED=Es;Jo.ENTERING=Os;Jo.ENTERED=Kl;Jo.EXITING=sy;function Aj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vv(e,t){var r=function(s){return t&&C.isValidElement(s)?t(s):s},i=Object.create(null);return e&&C.Children.map(e,function(a){return a}).forEach(function(a){i[a.key]=r(a)}),i}function Nj(e,t){e=e||{},t=t||{};function r(g){return g in t?t[g]:e[g]}var i=Object.create(null),a=[];for(var s in e)s in t?a.length&&(i[s]=a,a=[]):a.push(s);var u,d={};for(var f in t){if(i[f])for(u=0;u<i[f].length;u++){var h=i[f][u];d[i[f][u]]=r(h)}d[f]=r(f)}for(u=0;u<a.length;u++)d[a[u]]=r(a[u]);return d}function Ps(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Ij(e,t){return Vv(e.children,function(r){return C.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ps(r,"appear",e),enter:Ps(r,"enter",e),exit:Ps(r,"exit",e)})})}function jj(e,t,r){var i=Vv(e.children),a=Nj(t,i);return Object.keys(a).forEach(function(s){var u=a[s];if(C.isValidElement(u)){var d=s in t,f=s in i,h=t[s],g=C.isValidElement(h)&&!h.props.in;f&&(!d||g)?a[s]=C.cloneElement(u,{onExited:r.bind(null,u),in:!0,exit:Ps(u,"exit",e),enter:Ps(u,"enter",e)}):!f&&d&&!g?a[s]=C.cloneElement(u,{in:!1}):f&&d&&C.isValidElement(h)&&(a[s]=C.cloneElement(u,{onExited:r.bind(null,u),in:h.props.in,exit:Ps(u,"exit",e),enter:Ps(u,"enter",e)}))}}),a}var zj=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Fj={component:"div",childFactory:function(t){return t}},Fa=(function(e){TE(t,e);function t(i,a){var s;s=e.call(this,i,a)||this;var u=s.handleExited.bind(Aj(s));return s.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},s}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(a,s){var u=s.children,d=s.handleExited,f=s.firstRender;return{children:f?Ij(a,d):jj(a,u,d),firstRender:!1}},r.handleExited=function(a,s){var u=Vv(this.props.children);a.key in u||(a.props.onExited&&a.props.onExited(s),this.mounted&&this.setState(function(d){var f=ey({},d.children);return delete f[a.key],{children:f}}))},r.render=function(){var a=this.props,s=a.component,u=a.childFactory,d=H_(a,["component","childFactory"]),f=this.state.contextValue,h=zj(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,s===null?Yn.createElement(fh.Provider,{value:f},h):Yn.createElement(fh.Provider,{value:f},Yn.createElement(s,d,h))},t})(Yn.Component);Fa.propTypes={};Fa.defaultProps=Fj;const RE=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function kj(e,t){return e.reduce((r,i)=>(r[i.position||t].push(i),r),RE.reduce((r,i)=>(r[i]=[],r),{}))}const FS={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},Lj={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function Bj({state:e,maxHeight:t,position:r,transitionDuration:i}){const[a,s]=r.split("-"),u=s==="center"?`${a}-center`:s,d={opacity:0,maxHeight:t,transform:FS[u],transitionDuration:`${i}ms, ${i}ms, ${i}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},f={opacity:1,transform:Lj[u]},h={opacity:0,maxHeight:0,transform:FS[u]};return{...d,...{entering:f,entered:f,exiting:h,exited:h}[e]}}function Uj(e,t){return typeof t=="number"?t:t===!1||e===!1?!1:e}const PE=C.forwardRef(({data:e,onHide:t,autoClose:r,...i},a)=>{const{autoClose:s,message:u,...d}=e,f=Uj(r,e.autoClose),h=C.useRef(-1),g=()=>window.clearTimeout(h.current),y=()=>{t(e.id),g()},x=()=>{typeof f=="number"&&(h.current=window.setTimeout(y,f))};return C.useEffect(()=>{e.onOpen?.(e)},[]),C.useEffect(()=>(x(),g),[f]),R.jsx(Av,{...i,...d,onClose:y,ref:a,onMouseEnter:g,onMouseLeave:x,children:u})});PE.displayName="@mantine/notifications/NotificationContainer";var DE={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const $j=Jo,Hj={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Hi("overlay"),store:Gs,withinPortal:!0},qj=(e,{zIndex:t,containerWidth:r})=>({root:{"--notifications-z-index":t?.toString(),"--notifications-container-width":Ee(r)}}),ea=et((e,t)=>{const r=Be("Notifications",Hj,e),{classNames:i,className:a,style:s,styles:u,unstyled:d,vars:f,position:h,autoClose:g,transitionDuration:y,containerWidth:x,notificationMaxHeight:w,limit:_,zIndex:E,store:T,portalProps:N,withinPortal:D,...I}=r,F=si(),k=Oj(T),U=kT(),A=Ch(),$=C.useRef({}),ae=C.useRef(0),me=(F.respectReducedMotion?A:!1)?1:y,de=gt({name:"Notifications",classes:DE,props:r,className:a,style:s,classNames:i,styles:u,unstyled:d,vars:f,varsResolver:qj});C.useEffect(()=>{T?.updateState(Ce=>({...Ce,limit:_||5,defaultPosition:h}))},[_,h]),js(()=>{k.notifications.length>ae.current&&setTimeout(()=>U(),0),ae.current=k.notifications.length},[k.notifications]);const _e=kj(k.notifications,h),ce=RE.reduce((Ce,B)=>(Ce[B]=_e[B].map(({style:J,...V})=>R.jsx($j,{timeout:me,onEnter:()=>$.current[V.id].offsetHeight,nodeRef:{current:$.current[V.id]},children:be=>R.jsx(PE,{ref:Se=>{Se&&($.current[V.id]=Se)},data:V,onHide:Se=>ME(Se,T),autoClose:g,...de("notification",{style:{...Bj({state:be,position:B,transitionDuration:me,maxHeight:w}),...J}})})},V.id)),Ce),{});return R.jsxs(Ga,{withinPortal:D,...N,children:[R.jsx(ke,{...de("root"),"data-position":"top-center",ref:t,...I,children:R.jsx(Fa,{children:ce["top-center"]})}),R.jsx(ke,{...de("root"),"data-position":"top-left",...I,children:R.jsx(Fa,{children:ce["top-left"]})}),R.jsx(ke,{...de("root",{className:Is.classNames.fullWidth}),"data-position":"top-right",...I,children:R.jsx(Fa,{children:ce["top-right"]})}),R.jsx(ke,{...de("root",{className:Is.classNames.fullWidth}),"data-position":"bottom-right",...I,children:R.jsx(Fa,{children:ce["bottom-right"]})}),R.jsx(ke,{...de("root"),"data-position":"bottom-left",...I,children:R.jsx(Fa,{children:ce["bottom-left"]})}),R.jsx(ke,{...de("root"),"data-position":"bottom-center",...I,children:R.jsx(Fa,{children:ce["bottom-center"]})})]})});ea.classes=DE;ea.displayName="@mantine/notifications/Notifications";ea.show=Va.show;ea.hide=Va.hide;ea.update=Va.update;ea.clean=Va.clean;ea.cleanQueue=Va.cleanQueue;ea.updateState=Va.updateState;var Gj={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const ta=(e,t,r,i)=>{const a=C.forwardRef(({color:s="currentColor",size:u=24,stroke:d=2,title:f,className:h,children:g,...y},x)=>C.createElement("svg",{ref:x,...Gj[e],width:u,height:u,className:["tabler-icon",`tabler-icon-${t}`,h].join(" "),strokeWidth:d,stroke:s,...y},[f&&C.createElement("title",{key:"svg-title"},f),...i.map(([w,_])=>C.createElement(w,_)),...Array.isArray(g)?g:[g]]));return a.displayName=`${r}`,a};const Vj=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],Yj=ta("outline","alert-circle","AlertCircle",Vj);const Kj=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],Xj=ta("outline","arrow-right","ArrowRight",Kj);const Wj=[["path",{d:"M5 12l5 5l10 -10",key:"svg-0"}]],Qj=ta("outline","check","Check",Wj);const Zj=[["path",{d:"M11 18.004h-4.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.388 0 2.585 .82 3.138 2.007",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],Jj=ta("outline","cloud-check","CloudCheck",Zj);const ez=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],tz=ta("outline","info-circle","InfoCircle",ez);const nz=[["path",{d:"M8 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 16v2a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-8a2 2 0 0 1 2 -2h2",key:"svg-1"}]],rz=ta("outline","layers-subtract","LayersSubtract",nz);const iz=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],oz=ta("outline","menu-2","Menu2",iz);const az=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],sz=ta("outline","wifi-off","WifiOff",az);const lz=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],AE=ta("outline","x","X",lz);function Ya(e,t,r={}){const i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}function kS(e,t,r={}){if(e.length<2)throw new Error("coordinates must be an array of two or more positions");return Ya({type:"LineString",coordinates:e},t,r)}function NE(e,t={}){const r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function uz(e,t,r={}){return Ya({type:"GeometryCollection",geometries:e},t,r)}function cz(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return[...e.geometry.coordinates];if(e.type==="Point")return[...e.coordinates]}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return[...e];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function $c(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function LS(e){return e.type==="Feature"?e.geometry:e}function dz(e,t){return e.type==="FeatureCollection"?"FeatureCollection":e.type==="GeometryCollection"?"GeometryCollection":e.type==="Feature"&&e.geometry!==null?e.geometry.type:e.type}function IE(e,t,r){if(e!==null)for(var i,a,s,u,d,f,h,g=0,y=0,x,w=e.type,_=w==="FeatureCollection",E=w==="Feature",T=_?e.features.length:1,N=0;N<T;N++){h=_?e.features[N].geometry:E?e.geometry:e,x=h?h.type==="GeometryCollection":!1,d=x?h.geometries.length:1;for(var D=0;D<d;D++){var I=0,F=0;if(u=x?h.geometries[D]:h,u!==null){f=u.coordinates;var k=u.type;switch(g=0,k){case null:break;case"Point":if(t(f,y,N,I,F)===!1)return!1;y++,I++;break;case"LineString":case"MultiPoint":for(i=0;i<f.length;i++){if(t(f[i],y,N,I,F)===!1)return!1;y++,k==="MultiPoint"&&I++}k==="LineString"&&I++;break;case"Polygon":case"MultiLineString":for(i=0;i<f.length;i++){for(a=0;a<f[i].length-g;a++){if(t(f[i][a],y,N,I,F)===!1)return!1;y++}k==="MultiLineString"&&I++,k==="Polygon"&&F++}k==="Polygon"&&I++;break;case"MultiPolygon":for(i=0;i<f.length;i++){for(F=0,a=0;a<f[i].length;a++){for(s=0;s<f[i][a].length-g;s++){if(t(f[i][a][s],y,N,I,F)===!1)return!1;y++}F++}I++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)if(IE(u.geometries[i],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function fz(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var r=0;r<e.features.length&&t(e.features[r],r)!==!1;r++);}function hz(e,t={}){if(e.bbox!=null&&t.recompute!==!0)return e.bbox;const r=[1/0,1/0,-1/0,-1/0];return IE(e,i=>{r[0]>i[0]&&(r[0]=i[0]),r[1]>i[1]&&(r[1]=i[1]),r[2]<i[0]&&(r[2]=i[0]),r[3]<i[1]&&(r[3]=i[1])}),r}var pz=hz;function BS(e,t,r={}){const i=cz(e),a=$c(t);for(let s=0;s<a.length-1;s++){let u=!1;if(r.ignoreEndVertices&&(s===0&&(u="start"),s===a.length-2&&(u="end"),s===0&&s+1===a.length-1&&(u="both")),mz(a[s],a[s+1],i,u,typeof r.epsilon>"u"?null:r.epsilon))return!0}return!1}function mz(e,t,r,i,a){const s=r[0],u=r[1],d=e[0],f=e[1],h=t[0],g=t[1],y=r[0]-d,x=r[1]-f,w=h-d,_=g-f,E=y*_-x*w;if(a!==null){if(Math.abs(E)>a)return!1}else if(E!==0)return!1;if(Math.abs(w)===Math.abs(_)&&Math.abs(w)===0)return i?!1:r[0]===e[0]&&r[1]===e[1];if(i){if(i==="start")return Math.abs(w)>=Math.abs(_)?w>0?d<s&&s<=h:h<=s&&s<d:_>0?f<u&&u<=g:g<=u&&u<f;if(i==="end")return Math.abs(w)>=Math.abs(_)?w>0?d<=s&&s<h:h<s&&s<=d:_>0?f<=u&&u<g:g<u&&u<=f;if(i==="both")return Math.abs(w)>=Math.abs(_)?w>0?d<s&&s<h:h<s&&s<d:_>0?f<u&&u<g:g<u&&u<f}else return Math.abs(w)>=Math.abs(_)?w>0?d<=s&&s<=h:h<=s&&s<=d:_>0?f<=u&&u<=g:g<=u&&u<=f;return!1}var gz=Object.defineProperty,Eu=(e,t)=>gz(e,"name",{value:t,configurable:!0}),jE=class{constructor(t){this.direction=!1,this.compareProperties=!0;var r,i,a;this.precision=10**-((r=t?.precision)!=null?r:17),this.direction=(i=t?.direction)!=null?i:!1,this.compareProperties=(a=t?.compareProperties)!=null?a:!0}compare(t,r){if(t.type!==r.type||!Fc(t,r))return!1;switch(t.type){case"Point":return this.compareCoord(t.coordinates,r.coordinates);case"LineString":return this.compareLine(t.coordinates,r.coordinates);case"Polygon":return this.comparePolygon(t,r);case"GeometryCollection":return this.compareGeometryCollection(t,r);case"Feature":return this.compareFeature(t,r);case"FeatureCollection":return this.compareFeatureCollection(t,r);default:if(t.type.startsWith("Multi")){const i=ly(t),a=ly(r);return i.every(s=>a.some(u=>this.compare(s,u)))}}return!1}compareCoord(t,r){return t.length===r.length&&t.every((i,a)=>Math.abs(i-r[a])<this.precision)}compareLine(t,r,i=0,a=!1){if(!Fc(t,r))return!1;const s=t;let u=r;if(a&&!this.compareCoord(s[0],u[0])){const f=this.fixStartIndex(u,s);if(f)u=f;else return!1}const d=this.compareCoord(s[i],u[i]);return this.direction||d?this.comparePath(s,u):this.compareCoord(s[i],u[u.length-(1+i)])?this.comparePath(s.slice().reverse(),u):!1}fixStartIndex(t,r){let i,a=-1;for(let s=0;s<t.length;s++)if(this.compareCoord(t[s],r[0])){a=s;break}return a>=0&&(i=[].concat(t.slice(a,t.length),t.slice(1,a+1))),i}comparePath(t,r){return t.every((i,a)=>this.compareCoord(i,r[a]))}comparePolygon(t,r){if(this.compareLine(t.coordinates[0],r.coordinates[0],1,!0)){const i=t.coordinates.slice(1,t.coordinates.length),a=r.coordinates.slice(1,r.coordinates.length);return i.every(s=>a.some(u=>this.compareLine(s,u,1,!0)))}return!1}compareGeometryCollection(t,r){return Fc(t.geometries,r.geometries)&&this.compareBBox(t,r)&&t.geometries.every((i,a)=>this.compare(i,r.geometries[a]))}compareFeature(t,r){return t.id===r.id&&(this.compareProperties?Yv(t.properties,r.properties):!0)&&this.compareBBox(t,r)&&this.compare(t.geometry,r.geometry)}compareFeatureCollection(t,r){return Fc(t.features,r.features)&&this.compareBBox(t,r)&&t.features.every((i,a)=>this.compare(i,r.features[a]))}compareBBox(t,r){return!t.bbox&&!r.bbox||(t.bbox&&r.bbox?this.compareCoord(t.bbox,r.bbox):!1)}};Eu(jE,"GeojsonEquality");var yz=jE;function Fc(e,t){return e.coordinates?e.coordinates.length===t.coordinates.length:e.length===t.length}Eu(Fc,"sameLength");function ly(e){return e.coordinates.map(t=>({type:e.type.replace("Multi",""),coordinates:t}))}Eu(ly,"explode");function zE(e,t,r){return new yz(r).compare(e,t)}Eu(zE,"geojsonEquality");function Yv(e,t){if(e===null&&t===null)return!0;if(e===null||t===null)return!1;const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var a of r){const s=e[a],u=t[a],d=US(s)&&US(u);if(d&&!Yv(s,u)||!d&&s!==u)return!1}return!0}Eu(Yv,"equal");var US=Eu(e=>e!=null&&typeof e=="object","isObject");function $S(e,t={}){var r=typeof t=="object"?t.mutate:t;if(!e)throw new Error("geojson is required");var i=dz(e),a=[];switch(i){case"LineString":a=Pg(e,i);break;case"MultiLineString":case"Polygon":$c(e).forEach(function(u){a.push(Pg(u,i))});break;case"MultiPolygon":$c(e).forEach(function(u){var d=[];u.forEach(function(f){d.push(Pg(f,i))}),a.push(d)});break;case"Point":return e;case"MultiPoint":var s={};$c(e).forEach(function(u){var d=u.join("-");Object.prototype.hasOwnProperty.call(s,d)||(a.push(u),s[d]=!0)});break;default:throw new Error(i+" geometry not supported")}return e.coordinates?r===!0?(e.coordinates=a,e):{type:i,coordinates:a}:r===!0?(e.geometry.coordinates=a,e):Ya({type:i,coordinates:a},e.properties,{bbox:e.bbox,id:e.id})}function Pg(e,t){const r=$c(e);if(r.length===2&&!HS(r[0],r[1]))return r;const i=[];let a=0,s=1,u=2;for(i.push(r[a]);u<r.length;)BS(r[s],kS([r[a],r[u]]))?s=u:(i.push(r[s]),a=s,s++,u=s),u++;if(i.push(r[s]),t==="Polygon"||t==="MultiPolygon"){if(BS(i[0],kS([i[1],i[i.length-2]]))&&(i.shift(),i.pop(),i.push(i[0])),i.length<4)throw new Error("invalid polygon, fewer than 4 points");if(!HS(i[0],i[i.length-1]))throw new Error("invalid polygon, first and last points not equal")}return i}function HS(e,t){return e[0]===t[0]&&e[1]===t[1]}function vz(e,t,r={}){let i=r.precision;if(i=i==null||isNaN(i)?6:i,typeof i!="number"||!(i>=0))throw new Error("precision must be a positive number");const a=LS(e).type,s=LS(t).type;return a!==s?!1:zE($S(e),$S(t),{precision:i})}function bz(e){var t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return fz(e,r=>{var i;switch((i=r.geometry)==null?void 0:i.type){case"Point":t.MultiPoint.coordinates.push(r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"MultiPoint":t.MultiPoint.coordinates.push(...r.geometry.coordinates),t.MultiPoint.properties.push(r.properties);break;case"LineString":t.MultiLineString.coordinates.push(r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"MultiLineString":t.MultiLineString.coordinates.push(...r.geometry.coordinates),t.MultiLineString.properties.push(r.properties);break;case"Polygon":t.MultiPolygon.coordinates.push(r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break;case"MultiPolygon":t.MultiPolygon.coordinates.push(...r.geometry.coordinates),t.MultiPolygon.properties.push(r.properties);break}}),NE(Object.keys(t).filter(function(r){return t[r].coordinates.length}).sort().map(function(r){var i={type:r,coordinates:t[r].coordinates},a={collectedProperties:t[r].properties};return Ya(i,a)}))}const xz=async(e,t,r)=>{const{title:i,...a}=r,u=await Fs("/task-manager/tasks",{method:"POST",body:JSON.stringify({title:i,task_type_id:13,action_area:{population_point:{id:e}},unique_features:a,assignee1:t})});if(!u.ok)throw new Error(`Failed to create task (Status: ${u.status})`);return u.json()},wz=async()=>{const e=await Fs("/task-manager/tasks?$top=9999&$filter=task_type_id eq 13");if(!e.ok)throw new Error(`Failed to fetch tasks (Status: ${e.status})`);return(await e.json()).value};var th={exports:{}},Sz=th.exports,qS;function Cz(){return qS||(qS=1,(function(e,t){(function(r,i){e.exports=i()})(Sz,function(){var r=function(p,v){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var P in O)Object.prototype.hasOwnProperty.call(O,P)&&(S[P]=O[P])})(p,v)},i=function(){return(i=Object.assign||function(p){for(var v,S=1,O=arguments.length;S<O;S++)for(var P in v=arguments[S])Object.prototype.hasOwnProperty.call(v,P)&&(p[P]=v[P]);return p}).apply(this,arguments)};function a(p,v,S){for(var O,P=0,j=v.length;P<j;P++)!O&&P in v||((O=O||Array.prototype.slice.call(v,0,P))[P]=v[P]);return p.concat(O||Array.prototype.slice.call(v))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:_M,u=Object.keys,d=Array.isArray;function f(p,v){return typeof v!="object"||u(v).forEach(function(S){p[S]=v[S]}),p}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var h=Object.getPrototypeOf,g={}.hasOwnProperty;function y(p,v){return g.call(p,v)}function x(p,v){typeof v=="function"&&(v=v(h(p))),(typeof Reflect>"u"?u:Reflect.ownKeys)(v).forEach(function(S){_(p,S,v[S])})}var w=Object.defineProperty;function _(p,v,S,O){w(p,v,f(S&&y(S,"get")&&typeof S.get=="function"?{get:S.get,set:S.set,configurable:!0}:{value:S,configurable:!0,writable:!0},O))}function E(p){return{from:function(v){return p.prototype=Object.create(v.prototype),_(p.prototype,"constructor",p),{extend:x.bind(null,p.prototype)}}}}var T=Object.getOwnPropertyDescriptor,N=[].slice;function D(p,v,S){return N.call(p,v,S)}function I(p,v){return v(p)}function F(p){if(!p)throw new Error("Assertion Failed")}function k(p){s.setImmediate?setImmediate(p):setTimeout(p,0)}function U(p,v){if(typeof v=="string"&&y(p,v))return p[v];if(!v)return p;if(typeof v!="string"){for(var S=[],O=0,P=v.length;O<P;++O){var j=U(p,v[O]);S.push(j)}return S}var L=v.indexOf(".");if(L!==-1){var G=p[v.substr(0,L)];return G==null?void 0:U(G,v.substr(L+1))}}function A(p,v,S){if(p&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof v!="string"&&"length"in v){F(typeof S!="string"&&"length"in S);for(var O=0,P=v.length;O<P;++O)A(p,v[O],S[O])}else{var j,L,G=v.indexOf(".");G!==-1?(j=v.substr(0,G),(L=v.substr(G+1))===""?S===void 0?d(p)&&!isNaN(parseInt(j))?p.splice(j,1):delete p[j]:p[j]=S:A(G=!(G=p[j])||!y(p,j)?p[j]={}:G,L,S)):S===void 0?d(p)&&!isNaN(parseInt(v))?p.splice(v,1):delete p[v]:p[v]=S}}function $(p){var v,S={};for(v in p)y(p,v)&&(S[v]=p[v]);return S}var ae=[].concat;function ue(p){return ae.apply([],p)}var qn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ue([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(v){return v+p+"Array"})}))).filter(function(p){return s[p]}),me=new Set(qn.map(function(p){return s[p]})),de=null;function _e(p){return de=new WeakMap,p=(function v(S){if(!S||typeof S!="object")return S;var O=de.get(S);if(O)return O;if(d(S)){O=[],de.set(S,O);for(var P=0,j=S.length;P<j;++P)O.push(v(S[P]))}else if(me.has(S.constructor))O=S;else{var L,G=h(S);for(L in O=G===Object.prototype?{}:Object.create(G),de.set(S,O),S)y(S,L)&&(O[L]=v(S[L]))}return O})(p),de=null,p}var ce={}.toString;function Ce(p){return ce.call(p).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",J=typeof B=="symbol"?function(p){var v;return p!=null&&(v=p[B])&&v.apply(p)}:function(){return null};function V(p,v){return v=p.indexOf(v),0<=v&&p.splice(v,1),0<=v}var be={};function Se(p){var v,S,O,P;if(arguments.length===1){if(d(p))return p.slice();if(this===be&&typeof p=="string")return[p];if(P=J(p)){for(S=[];!(O=P.next()).done;)S.push(O.value);return S}if(p==null)return[p];if(typeof(v=p.length)!="number")return[p];for(S=new Array(v);v--;)S[v]=p[v];return S}for(v=arguments.length,S=new Array(v);v--;)S[v]=arguments[v];return S}var q=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Ht=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],_r=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Ht),re={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function we(p,v){this.name=p,this.message=v}function Ne(p,v){return p+". Errors: "+Object.keys(v).map(function(S){return v[S].toString()}).filter(function(S,O,P){return P.indexOf(S)===O}).join(`
`)}function Ie(p,v,S,O){this.failures=v,this.failedKeys=O,this.successCount=S,this.message=Ne(p,v)}function qe(p,v){this.name="BulkError",this.failures=Object.keys(v).map(function(S){return v[S]}),this.failuresByPos=v,this.message=Ne(p,this.failures)}E(we).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(Ie).from(we),E(qe).from(we);var nt=_r.reduce(function(p,v){return p[v]=v+"Error",p},{}),wt=we,De=_r.reduce(function(p,v){var S=v+"Error";function O(P,j){this.name=S,P?typeof P=="string"?(this.message="".concat(P).concat(j?`
 `+j:""),this.inner=j||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=re[v]||S,this.inner=null)}return E(O).from(wt),p[v]=O,p},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var Zt=Ht.reduce(function(p,v){return p[v+"Error"]=De[v],p},{}),ln=_r.reduce(function(p,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(p[v+"Error"]=De[v]),p},{});function Ze(){}function ht(p){return p}function kt(p,v){return p==null||p===ht?v:function(S){return v(p(S))}}function nn(p,v){return function(){p.apply(this,arguments),v.apply(this,arguments)}}function mn(p,v){return p===Ze?v:function(){var S=p.apply(this,arguments);S!==void 0&&(arguments[0]=S);var O=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var j=v.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?nn(O,this.onsuccess):O),P&&(this.onerror=this.onerror?nn(P,this.onerror):P),j!==void 0?j:S}}function Rr(p,v){return p===Ze?v:function(){p.apply(this,arguments);var S=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),S&&(this.onsuccess=this.onsuccess?nn(S,this.onsuccess):S),O&&(this.onerror=this.onerror?nn(O,this.onerror):O)}}function nr(p,v){return p===Ze?v:function(S){var O=p.apply(this,arguments);f(S,O);var P=this.onsuccess,j=this.onerror;return this.onsuccess=null,this.onerror=null,S=v.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?nn(P,this.onsuccess):P),j&&(this.onerror=this.onerror?nn(j,this.onerror):j),O===void 0?S===void 0?void 0:S:f(O,S)}}function Jt(p,v){return p===Ze?v:function(){return v.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function Hn(p,v){return p===Ze?v:function(){var S=p.apply(this,arguments);if(S&&typeof S.then=="function"){for(var O=this,P=arguments.length,j=new Array(P);P--;)j[P]=arguments[P];return S.then(function(){return v.apply(O,j)})}return v.apply(this,arguments)}}ln.ModifyError=Ie,ln.DexieError=we,ln.BulkError=qe;var gn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function xn(p){gn=p}var br={},Lt=100,qn=typeof Promise>"u"?[]:(function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,h(p),p];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,h(v),p]})(),Ht=qn[0],_r=qn[1],qn=qn[2],_r=_r&&_r.then,lt=Ht&&Ht.constructor,wn=!!qn,Cn=function(p,v){Yr.push([p,v]),Vr&&(queueMicrotask(po),Vr=!1)},Tn=!0,Vr=!0,rn=[],Pr=[],qt=ht,At={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Ze,pgp:!1,env:{},finalize:Ze},Ge=At,Yr=[],Dr=0,Di=[];function $e(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=Ge;if(typeof p!="function"){if(p!==br)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&rr(this,this._value))}this._state=null,this._value=null,++v.ref,(function S(O,P){try{P(function(j){if(O._state===null){if(j===O)throw new TypeError("A promise cannot be resolved with itself.");var L=O._lib&&xr();j&&typeof j.then=="function"?S(O,function(G,X){j instanceof $e?j._then(G,X):j.then(G,X)}):(O._state=!0,O._value=j,Gi(O)),L&&wr()}},rr.bind(null,O))}catch(j){rr(O,j)}})(this,p)}var on={get:function(){var p=Ge,v=tt;function S(O,P){var j=this,L=!p.global&&(p!==Ge||v!==tt),G=L&&!Qe(),X=new $e(function(W,ie){Ai(j,new Gn(un(O,p,L,G),un(P,p,L,G),W,ie,p))});return this._consoleTask&&(X._consoleTask=this._consoleTask),X}return S.prototype=br,S},set:function(p){_(this,"then",p&&p.prototype===br?on:{get:function(){return p},set:on.set})}};function Gn(p,v,S,O,P){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof v=="function"?v:null,this.resolve=S,this.reject=O,this.psd=P}function rr(p,v){var S,O;Pr.push(v),p._state===null&&(S=p._lib&&xr(),v=qt(v),p._state=!1,p._value=v,O=p,rn.some(function(P){return P._value===O._value})||rn.push(O),Gi(p),S&&wr())}function Gi(p){var v=p._listeners;p._listeners=[];for(var S=0,O=v.length;S<O;++S)Ai(p,v[S]);var P=p._PSD;--P.ref||P.finalize(),Dr===0&&(++Dr,Cn(function(){--Dr==0&&Za()},[]))}function Ai(p,v){if(p._state!==null){var S=p._state?v.onFulfilled:v.onRejected;if(S===null)return(p._state?v.resolve:v.reject)(p._value);++v.psd.ref,++Dr,Cn(Xs,[S,p,v])}else p._listeners.push(v)}function Xs(p,v,S){try{var O,P=v._value;!v._state&&Pr.length&&(Pr=[]),O=gn&&v._consoleTask?v._consoleTask.run(function(){return p(P)}):p(P),v._state||Pr.indexOf(P)!==-1||(function(j){for(var L=rn.length;L;)if(rn[--L]._value===j._value)return rn.splice(L,1)})(v),S.resolve(O)}catch(j){S.reject(j)}finally{--Dr==0&&Za(),--S.psd.ref||S.psd.finalize()}}function po(){Bt(At,function(){xr()&&wr()})}function xr(){var p=Tn;return Vr=Tn=!1,p}function wr(){var p,v,S;do for(;0<Yr.length;)for(p=Yr,Yr=[],S=p.length,v=0;v<S;++v){var O=p[v];O[0].apply(null,O[1])}while(0<Yr.length);Vr=Tn=!0}function Za(){var p=rn;rn=[],p.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var v=Di.slice(0),S=v.length;S;)v[--S]()}function mo(p){return new $e(br,!1,p)}function H(p,v){var S=Ge;return function(){var O=xr(),P=Ge;try{return vt(S,!0),p.apply(this,arguments)}catch(j){v&&v(j)}finally{vt(P,!1),O&&wr()}}}x($e.prototype,{then:on,_then:function(p,v){Ai(this,new Gn(null,null,p,v,Ge))},catch:function(p){if(arguments.length===1)return this.then(null,p);var v=p,S=arguments[1];return typeof v=="function"?this.then(null,function(O){return(O instanceof v?S:mo)(O)}):this.then(null,function(O){return(O&&O.name===v?S:mo)(O)})},finally:function(p){return this.then(function(v){return $e.resolve(p()).then(function(){return v})},function(v){return $e.resolve(p()).then(function(){return mo(v)})})},timeout:function(p,v){var S=this;return p<1/0?new $e(function(O,P){var j=setTimeout(function(){return P(new De.Timeout(v))},p);S.then(O,P).finally(clearTimeout.bind(null,j))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_($e.prototype,Symbol.toStringTag,"Dexie.Promise"),At.env=Ot(),x($e,{all:function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v,S){p.length===0&&v([]);var O=p.length;p.forEach(function(P,j){return $e.resolve(P).then(function(L){p[j]=L,--O||v(p)},S)})})},resolve:function(p){return p instanceof $e?p:p&&typeof p.then=="function"?new $e(function(v,S){p.then(v,S)}):new $e(br,!0,p)},reject:mo,race:function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v,S){p.map(function(O){return $e.resolve(O).then(v,S)})})},PSD:{get:function(){return Ge},set:function(p){return Ge=p}},totalEchoes:{get:function(){return tt}},newPSD:He,usePSD:Bt,scheduler:{get:function(){return Cn},set:function(p){Cn=p}},rejectionMapper:{get:function(){return qt},set:function(p){qt=p}},follow:function(p,v){return new $e(function(S,O){return He(function(P,j){var L=Ge;L.unhandleds=[],L.onunhandled=j,L.finalize=nn(function(){var G,X=this;G=function(){X.unhandleds.length===0?P():j(X.unhandleds[0])},Di.push(function W(){G(),Di.splice(Di.indexOf(W),1)}),++Dr,Cn(function(){--Dr==0&&Za()},[])},L.finalize),p()},v,S,O)})}}),lt&&(lt.allSettled&&_($e,"allSettled",function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v){p.length===0&&v([]);var S=p.length,O=new Array(S);p.forEach(function(P,j){return $e.resolve(P).then(function(L){return O[j]={status:"fulfilled",value:L}},function(L){return O[j]={status:"rejected",reason:L}}).then(function(){return--S||v(O)})})})}),lt.any&&typeof AggregateError<"u"&&_($e,"any",function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(v,S){p.length===0&&S(new AggregateError([]));var O=p.length,P=new Array(O);p.forEach(function(j,L){return $e.resolve(j).then(function(G){return v(G)},function(G){P[L]=G,--O||S(new AggregateError(P))})})})}),lt.withResolvers&&($e.withResolvers=lt.withResolvers));var ee={awaits:0,echoes:0,id:0},ve=0,Ae=[],Fe=0,tt=0,Xe=0;function He(p,v,S,O){var P=Ge,j=Object.create(P);return j.parent=P,j.ref=0,j.global=!1,j.id=++Xe,At.env,j.env=wn?{Promise:$e,PromiseProp:{value:$e,configurable:!0,writable:!0},all:$e.all,race:$e.race,allSettled:$e.allSettled,any:$e.any,resolve:$e.resolve,reject:$e.reject}:{},v&&f(j,v),++P.ref,j.finalize=function(){--this.parent.ref||this.parent.finalize()},O=Bt(j,p,S,O),j.ref===0&&j.finalize(),O}function Ke(){return ee.id||(ee.id=++ve),++ee.awaits,ee.echoes+=Lt,ee.id}function Qe(){return!!ee.awaits&&(--ee.awaits==0&&(ee.id=0),ee.echoes=ee.awaits*Lt,!0)}function ot(p){return ee.echoes&&p&&p.constructor===lt?(Ke(),p.then(function(v){return Qe(),v},function(v){return Qe(),at(v)})):p}function it(){var p=Ae[Ae.length-1];Ae.pop(),vt(p,!1)}function vt(p,v){var S,O=Ge;(v?!ee.echoes||Fe++&&p===Ge:!Fe||--Fe&&p===Ge)||queueMicrotask(v?(function(P){++tt,ee.echoes&&--ee.echoes!=0||(ee.echoes=ee.awaits=ee.id=0),Ae.push(Ge),vt(P,!0)}).bind(null,p):it),p!==Ge&&(Ge=p,O===At&&(At.env=Ot()),wn&&(S=At.env.Promise,v=p.env,(O.global||p.global)&&(Object.defineProperty(s,"Promise",v.PromiseProp),S.all=v.all,S.race=v.race,S.resolve=v.resolve,S.reject=v.reject,v.allSettled&&(S.allSettled=v.allSettled),v.any&&(S.any=v.any))))}function Ot(){var p=s.Promise;return wn?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function Bt(p,v,S,O,P){var j=Ge;try{return vt(p,!0),v(S,O,P)}finally{vt(j,!1)}}function un(p,v,S,O){return typeof p!="function"?p:function(){var P=Ge;S&&Ke(),vt(v,!0);try{return p.apply(this,arguments)}finally{vt(P,!1),O&&queueMicrotask(Qe)}}}function an(p){Promise===lt&&ee.echoes===0?Fe===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+_r).indexOf("[native code]")===-1&&(Ke=Qe=Ze);var at=$e.reject,sn="",yn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",en="String expected.",Kn=[],Xn="__dbnames",Sr="readonly",dr="readwrite";function ir(p,v){return p?v?function(){return p.apply(this,arguments)&&v.apply(this,arguments)}:p:v}var Vi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function ui(p){return typeof p!="string"||/\./.test(p)?function(v){return v}:function(v){return v[p]===void 0&&p in v&&delete(v=_e(v))[p],v}}function Mt(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(p,v){try{var S=Ar(p),O=Ar(v);if(S!==O)return S==="Array"?1:O==="Array"?-1:S==="binary"?1:O==="binary"?-1:S==="string"?1:O==="string"?-1:S==="Date"?1:O!=="Date"?NaN:-1;switch(S){case"number":case"Date":case"string":return v<p?1:p<v?-1:0;case"binary":return(function(P,j){for(var L=P.length,G=j.length,X=L<G?L:G,W=0;W<X;++W)if(P[W]!==j[W])return P[W]<j[W]?-1:1;return L===G?0:L<G?-1:1})(Dn(p),Dn(v));case"Array":return(function(P,j){for(var L=P.length,G=j.length,X=L<G?L:G,W=0;W<X;++W){var ie=st(P[W],j[W]);if(ie!==0)return ie}return L===G?0:L<G?-1:1})(p,v)}}catch{}return NaN}function Ar(p){var v=typeof p;return v!="object"?v:ArrayBuffer.isView(p)?"binary":(p=Ce(p),p==="ArrayBuffer"?"binary":p)}function Dn(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}function Ct(p,v,S){var O=p.schema.yProps;return O?(v&&0<S.numFailures&&(v=v.filter(function(P,j){return!S.failures[j]})),Promise.all(O.map(function(P){return P=P.updatesTable,v?p.db.table(P).where("k").anyOf(v).delete():p.db.table(P).clear()})).then(function(){return S})):S}var Kr=(Ja.prototype.execute=function(p){var v=this["@@propmod"];if(v.add!==void 0){var S=v.add;if(d(S))return a(a([],d(p)?p:[],!0),S).sort();if(typeof S=="number")return(Number(p)||0)+S;if(typeof S=="bigint")try{return BigInt(p)+S}catch{return BigInt(0)+S}throw new TypeError("Invalid term ".concat(S))}if(v.remove!==void 0){var O=v.remove;if(d(O))return d(p)?p.filter(function(P){return!O.includes(P)}).sort():[];if(typeof O=="number")return Number(p)-O;if(typeof O=="bigint")try{return BigInt(p)-O}catch{return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return S=(S=v.replacePrefix)===null||S===void 0?void 0:S[0],S&&typeof p=="string"&&p.startsWith(S)?v.replacePrefix[1]+p.substring(S.length):p},Ja);function Ja(p){this["@@propmod"]=p}function ra(p,v){for(var S=u(v),O=S.length,P=!1,j=0;j<O;++j){var L=S[j],G=v[L],X=U(p,L);G instanceof Kr?(A(p,L,G.execute(X)),P=!0):X!==G&&(A(p,L,G),P=!0)}return P}var Ou=(Ut.prototype._trans=function(p,v,S){var O=this._tx||Ge.trans,P=this.name,j=gn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function L(W,ie,K){if(!K.schema[P])throw new De.NotFound("Table "+P+" not part of transaction");return v(K.idbtrans,K)}var G=xr();try{var X=O&&O.db._novip===this.db._novip?O===Ge.trans?O._promise(p,L,S):He(function(){return O._promise(p,L,S)},{trans:O,transless:Ge.transless||Ge}):(function W(ie,K,se,Q){if(ie.idbdb&&(ie._state.openComplete||Ge.letThrough||ie._vip)){var te=ie._createTransaction(K,se,ie._dbSchema);try{te.create(),ie._state.PR1398_maxLoop=3}catch(ne){return ne.name===nt.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return W(ie,K,se,Q)})):at(ne)}return te._promise(K,function(ne,oe){return He(function(){return Ge.trans=te,Q(ne,oe,te)})}).then(function(ne){if(K==="readwrite")try{te.idbtrans.commit()}catch{}return K==="readonly"?ne:te._completion.then(function(){return ne})})}if(ie._state.openComplete)return at(new De.DatabaseClosed(ie._state.dbOpenError));if(!ie._state.isBeingOpened){if(!ie._state.autoOpen)return at(new De.DatabaseClosed);ie.open().catch(Ze)}return ie._state.dbReadyPromise.then(function(){return W(ie,K,se,Q)})})(this.db,p,[this.name],L);return j&&(X._consoleTask=j,X=X.catch(function(W){return console.trace(W),at(W)})),X}finally{G&&wr()}},Ut.prototype.get=function(p,v){var S=this;return p&&p.constructor===Object?this.where(p).first(v):p==null?at(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return S.core.get({trans:O,key:p}).then(function(P){return S.hook.reading.fire(P)})}).then(v)},Ut.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(d(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var v=u(p);if(v.length===1)return this.where(v[0]).equals(p[v[0]]);var S=this.schema.indexes.concat(this.schema.primKey).filter(function(G){if(G.compound&&v.every(function(W){return 0<=G.keyPath.indexOf(W)})){for(var X=0;X<v.length;++X)if(v.indexOf(G.keyPath[X])===-1)return!1;return!0}return!1}).sort(function(G,X){return G.keyPath.length-X.keyPath.length})[0];if(S&&this.db._maxKey!==sn){var j=S.keyPath.slice(0,v.length);return this.where(j).equals(j.map(function(X){return p[X]}))}!S&&gn&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var O=this.schema.idxByName;function P(G,X){return st(G,X)===0}var L=v.reduce(function(K,X){var W=K[0],ie=K[1],K=O[X],se=p[X];return[W||K,W||!K?ir(ie,K&&K.multi?function(Q){return Q=U(Q,X),d(Q)&&Q.some(function(te){return P(se,te)})}:function(Q){return P(se,U(Q,X))}):ie]},[null,null]),j=L[0],L=L[1];return j?this.where(j.name).equals(p[j.keyPath]).filter(L):S?this.filter(L):this.where(v).equals("")},Ut.prototype.filter=function(p){return this.toCollection().and(p)},Ut.prototype.count=function(p){return this.toCollection().count(p)},Ut.prototype.offset=function(p){return this.toCollection().offset(p)},Ut.prototype.limit=function(p){return this.toCollection().limit(p)},Ut.prototype.each=function(p){return this.toCollection().each(p)},Ut.prototype.toArray=function(p){return this.toCollection().toArray(p)},Ut.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ut.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,d(p)?"[".concat(p.join("+"),"]"):p))},Ut.prototype.reverse=function(){return this.toCollection().reverse()},Ut.prototype.mapToClass=function(p){var v,S=this.db,O=this.name;function P(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof Mt&&((function(X,W){if(typeof W!="function"&&W!==null)throw new TypeError("Class extends value "+String(W)+" is not a constructor or null");function ie(){this.constructor=X}r(X,W),X.prototype=W===null?Object.create(W):(ie.prototype=W.prototype,new ie)})(P,v=p),Object.defineProperty(P.prototype,"db",{get:function(){return S},enumerable:!1,configurable:!0}),P.prototype.table=function(){return O},p=P);for(var j=new Set,L=p.prototype;L;L=h(L))Object.getOwnPropertyNames(L).forEach(function(X){return j.add(X)});function G(X){if(!X)return X;var W,ie=Object.create(p.prototype);for(W in X)if(!j.has(W))try{ie[W]=X[W]}catch{}return ie}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=G,this.hook("reading",G),p},Ut.prototype.defineClass=function(){return this.mapToClass(function(p){f(this,p)})},Ut.prototype.add=function(p,v){var S=this,O=this.schema.primKey,P=O.auto,j=O.keyPath,L=p;return j&&P&&(L=ui(j)(p)),this._trans("readwrite",function(G){return S.core.mutate({trans:G,type:"add",keys:v!=null?[v]:null,values:[L]})}).then(function(G){return G.numFailures?$e.reject(G.failures[0]):G.lastResult}).then(function(G){if(j)try{A(p,j,G)}catch{}return G})},Ut.prototype.upsert=function(p,v){var S=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return S.core.get({trans:P,key:p}).then(function(j){var L=j??{};return ra(L,v),O&&A(L,O,p),S.core.mutate({trans:P,type:"put",values:[L],keys:[p],upsert:!0,updates:{keys:[p],changeSpecs:[v]}}).then(function(G){return G.numFailures?$e.reject(G.failures[0]):!!j})})})},Ut.prototype.update=function(p,v){return typeof p!="object"||d(p)?this.where(":id").equals(p).modify(v):(p=U(p,this.schema.primKey.keyPath),p===void 0?at(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(v))},Ut.prototype.put=function(p,v){var S=this,O=this.schema.primKey,P=O.auto,j=O.keyPath,L=p;return j&&P&&(L=ui(j)(p)),this._trans("readwrite",function(G){return S.core.mutate({trans:G,type:"put",values:[L],keys:v!=null?[v]:null})}).then(function(G){return G.numFailures?$e.reject(G.failures[0]):G.lastResult}).then(function(G){if(j)try{A(p,j,G)}catch{}return G})},Ut.prototype.delete=function(p){var v=this;return this._trans("readwrite",function(S){return v.core.mutate({trans:S,type:"delete",keys:[p]}).then(function(O){return Ct(v,[p],O)}).then(function(O){return O.numFailures?$e.reject(O.failures[0]):void 0})})},Ut.prototype.clear=function(){var p=this;return this._trans("readwrite",function(v){return p.core.mutate({trans:v,type:"deleteRange",range:Vi}).then(function(S){return Ct(p,null,S)})}).then(function(v){return v.numFailures?$e.reject(v.failures[0]):void 0})},Ut.prototype.bulkGet=function(p){var v=this;return this._trans("readonly",function(S){return v.core.getMany({keys:p,trans:S}).then(function(O){return O.map(function(P){return v.hook.reading.fire(P)})})})},Ut.prototype.bulkAdd=function(p,v,S){var O=this,P=Array.isArray(v)?v:void 0,j=(S=S||(P?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(L){var W=O.schema.primKey,G=W.auto,W=W.keyPath;if(W&&P)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==p.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var X=p.length,W=W&&G?p.map(ui(W)):p;return O.core.mutate({trans:L,type:"add",keys:P,values:W,wantResults:j}).then(function(te){var K=te.numFailures,se=te.results,Q=te.lastResult,te=te.failures;if(K===0)return j?se:Q;throw new qe("".concat(O.name,".bulkAdd(): ").concat(K," of ").concat(X," operations failed"),te)})})},Ut.prototype.bulkPut=function(p,v,S){var O=this,P=Array.isArray(v)?v:void 0,j=(S=S||(P?void 0:v))?S.allKeys:void 0;return this._trans("readwrite",function(L){var W=O.schema.primKey,G=W.auto,W=W.keyPath;if(W&&P)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==p.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var X=p.length,W=W&&G?p.map(ui(W)):p;return O.core.mutate({trans:L,type:"put",keys:P,values:W,wantResults:j}).then(function(te){var K=te.numFailures,se=te.results,Q=te.lastResult,te=te.failures;if(K===0)return j?se:Q;throw new qe("".concat(O.name,".bulkPut(): ").concat(K," of ").concat(X," operations failed"),te)})})},Ut.prototype.bulkUpdate=function(p){var v=this,S=this.core,O=p.map(function(L){return L.key}),P=p.map(function(L){return L.changes}),j=[];return this._trans("readwrite",function(L){return S.getMany({trans:L,keys:O,cache:"clone"}).then(function(G){var X=[],W=[];p.forEach(function(K,se){var Q=K.key,te=K.changes,ne=G[se];if(ne){for(var oe=0,fe=Object.keys(te);oe<fe.length;oe++){var ge=fe[oe],Oe=te[ge];if(ge===v.schema.primKey.keyPath){if(st(Oe,Q)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else A(ne,ge,Oe)}j.push(se),X.push(Q),W.push(ne)}});var ie=X.length;return S.mutate({trans:L,type:"put",keys:X,values:W,updates:{keys:O,changeSpecs:P}}).then(function(K){var se=K.numFailures,Q=K.failures;if(se===0)return ie;for(var te=0,ne=Object.keys(Q);te<ne.length;te++){var oe,fe=ne[te],ge=j[Number(fe)];ge!=null&&(oe=Q[fe],delete Q[fe],Q[ge]=oe)}throw new qe("".concat(v.name,".bulkUpdate(): ").concat(se," of ").concat(ie," operations failed"),Q)})})})},Ut.prototype.bulkDelete=function(p){var v=this,S=p.length;return this._trans("readwrite",function(O){return v.core.mutate({trans:O,type:"delete",keys:p}).then(function(P){return Ct(v,p,P)})}).then(function(L){var P=L.numFailures,j=L.lastResult,L=L.failures;if(P===0)return j;throw new qe("".concat(v.name,".bulkDelete(): ").concat(P," of ").concat(S," operations failed"),L)})},Ut);function Ut(){}function es(p){function v(L,G){if(G){for(var X=arguments.length,W=new Array(X-1);--X;)W[X-1]=arguments[X];return S[L].subscribe.apply(null,W),p}if(typeof L=="string")return S[L]}var S={};v.addEventType=j;for(var O=1,P=arguments.length;O<P;++O)j(arguments[O]);return v;function j(L,G,X){if(typeof L!="object"){var W;G=G||Jt;var ie={subscribers:[],fire:X=X||Ze,subscribe:function(K){ie.subscribers.indexOf(K)===-1&&(ie.subscribers.push(K),ie.fire=G(ie.fire,K))},unsubscribe:function(K){ie.subscribers=ie.subscribers.filter(function(se){return se!==K}),ie.fire=ie.subscribers.reduce(G,X)}};return S[L]=v[L]=ie}u(W=L).forEach(function(K){var se=W[K];if(d(se))j(K,W[K][0],W[K][1]);else{if(se!=="asap")throw new De.InvalidArgument("Invalid event config");var Q=j(K,ht,function(){for(var te=arguments.length,ne=new Array(te);te--;)ne[te]=arguments[te];Q.subscribers.forEach(function(oe){k(function(){oe.apply(null,ne)})})})}})}}function Wn(p,v){return E(v).from({prototype:p}),v}function Yi(p,v){return!(p.filter||p.algorithm||p.or)&&(v?p.justLimit:!p.replayFilter)}function Ws(p,v){p.filter=ir(p.filter,v)}function ts(p,v,S){var O=p.replayFilter;p.replayFilter=O?function(){return ir(O(),v())}:v,p.justLimit=S&&!O}function Ni(p,v){if(p.isPrimKey)return v.primaryKey;var S=v.getIndexByKeyPath(p.index);if(!S)throw new De.Schema("KeyPath "+p.index+" on object store "+v.name+" is not indexed");return S}function Mu(p,v,S){var O=Ni(p,v.schema);return v.openCursor({trans:S,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:O,range:p.range}})}function ns(p,v,S,O){var P=p.replayFilter?ir(p.filter,p.replayFilter()):p.filter;if(p.or){var j={},L=function(G,X,W){var ie,K;P&&!P(X,W,function(se){return X.stop(se)},function(se){return X.fail(se)})||((K=""+(ie=X.primaryKey))=="[object ArrayBuffer]"&&(K=""+new Uint8Array(ie)),y(j,K)||(j[K]=!0,v(G,X,W)))};return Promise.all([p.or._iterate(L,S),go(Mu(p,O,S),p.algorithm,L,!p.keysOnly&&p.valueMapper)])}return go(Mu(p,O,S),ir(p.algorithm,P),v,!p.keysOnly&&p.valueMapper)}function go(p,v,S,O){var P=H(O?function(j,L,G){return S(O(j),L,G)}:S);return p.then(function(j){if(j)return j.start(function(){var L=function(){return j.continue()};v&&!v(j,function(G){return L=G},function(G){j.stop(G),L=Ze},function(G){j.fail(G),L=Ze})||P(j.value,j,function(G){return L=G}),L()})})}var lp=(Nt.prototype._read=function(p,v){var S=this._ctx;return S.error?S.table._trans(null,at.bind(null,S.error)):S.table._trans("readonly",p).then(v)},Nt.prototype._write=function(p){var v=this._ctx;return v.error?v.table._trans(null,at.bind(null,v.error)):v.table._trans("readwrite",p,"locked")},Nt.prototype._addAlgorithm=function(p){var v=this._ctx;v.algorithm=ir(v.algorithm,p)},Nt.prototype._iterate=function(p,v){return ns(this._ctx,p,v,this._ctx.table.core)},Nt.prototype.clone=function(p){var v=Object.create(this.constructor.prototype),S=Object.create(this._ctx);return p&&f(S,p),v._ctx=S,v},Nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nt.prototype.each=function(p){var v=this._ctx;return this._read(function(S){return ns(v,p,S,v.table.core)})},Nt.prototype.count=function(p){var v=this;return this._read(function(S){var O=v._ctx,P=O.table.core;if(Yi(O,!0))return P.count({trans:S,query:{index:Ni(O,P.schema),range:O.range}}).then(function(L){return Math.min(L,O.limit)});var j=0;return ns(O,function(){return++j,!1},S,P).then(function(){return j})}).then(p)},Nt.prototype.sortBy=function(p,v){var S=p.split(".").reverse(),O=S[0],P=S.length-1;function j(X,W){return W?j(X[S[W]],W-1):X[O]}var L=this._ctx.dir==="next"?1:-1;function G(X,W){return st(j(X,P),j(W,P))*L}return this.toArray(function(X){return X.sort(G)}).then(v)},Nt.prototype.toArray=function(p){var v=this;return this._read(function(S){var O=v._ctx;if(O.dir==="next"&&Yi(O,!0)&&0<O.limit){var P=O.valueMapper,j=Ni(O,O.table.core.schema);return O.table.core.query({trans:S,limit:O.limit,values:!0,query:{index:j,range:O.range}}).then(function(G){return G=G.result,P?G.map(P):G})}var L=[];return ns(O,function(G){return L.push(G)},S,O.table.core).then(function(){return L})},p)},Nt.prototype.offset=function(p){var v=this._ctx;return p<=0||(v.offset+=p,Yi(v)?ts(v,function(){var S=p;return function(O,P){return S===0||(S===1?--S:P(function(){O.advance(S),S=0}),!1)}}):ts(v,function(){var S=p;return function(){return--S<0}})),this},Nt.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),ts(this._ctx,function(){var v=p;return function(S,O,P){return--v<=0&&O(P),0<=v}},!0),this},Nt.prototype.until=function(p,v){return Ws(this._ctx,function(S,O,P){return!p(S.value)||(O(P),v)}),this},Nt.prototype.first=function(p){return this.limit(1).toArray(function(v){return v[0]}).then(p)},Nt.prototype.last=function(p){return this.reverse().first(p)},Nt.prototype.filter=function(p){var v;return Ws(this._ctx,function(S){return p(S.value)}),(v=this._ctx).isMatch=ir(v.isMatch,p),this},Nt.prototype.and=function(p){return this.filter(p)},Nt.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},Nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nt.prototype.desc=function(){return this.reverse()},Nt.prototype.eachKey=function(p){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,O){p(O.key,O)})},Nt.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},Nt.prototype.eachPrimaryKey=function(p){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(S,O){p(O.primaryKey,O)})},Nt.prototype.keys=function(p){var v=this._ctx;v.keysOnly=!v.isMatch;var S=[];return this.each(function(O,P){S.push(P.key)}).then(function(){return S}).then(p)},Nt.prototype.primaryKeys=function(p){var v=this._ctx;if(v.dir==="next"&&Yi(v,!0)&&0<v.limit)return this._read(function(O){var P=Ni(v,v.table.core.schema);return v.table.core.query({trans:O,values:!1,limit:v.limit,query:{index:P,range:v.range}})}).then(function(O){return O.result}).then(p);v.keysOnly=!v.isMatch;var S=[];return this.each(function(O,P){S.push(P.primaryKey)}).then(function(){return S}).then(p)},Nt.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},Nt.prototype.firstKey=function(p){return this.limit(1).keys(function(v){return v[0]}).then(p)},Nt.prototype.lastKey=function(p){return this.reverse().firstKey(p)},Nt.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var v={};return Ws(this._ctx,function(P){var O=P.primaryKey.toString(),P=y(v,O);return v[O]=!0,!P}),this},Nt.prototype.modify=function(p){var v=this,S=this._ctx;return this._write(function(O){var P=typeof p=="function"?p:function(ne){return ra(ne,p)},j=S.table.core,W=j.schema.primaryKey,L=W.outbound,G=W.extractKey,X=200,W=v.db._options.modifyChunkSize;W&&(X=typeof W=="object"?W[j.name]||W["*"]||200:W);function ie(ne,ge){var fe=ge.failures,ge=ge.numFailures;se+=ne-ge;for(var Oe=0,Re=u(fe);Oe<Re.length;Oe++){var Le=Re[Oe];K.push(fe[Le])}}var K=[],se=0,Q=[],te=p===Tu;return v.clone().primaryKeys().then(function(ne){function oe(ge){var Oe=Math.min(X,ne.length-ge),Re=ne.slice(ge,ge+Oe);return(te?Promise.resolve([]):j.getMany({trans:O,keys:Re,cache:"immutable"})).then(function(Le){var Ye=[],je=[],Ue=L?[]:null,Ve=te?Re:[];if(!te)for(var ze=0;ze<Oe;++ze){var We=Le[ze],ut={value:_e(We),primKey:ne[ge+ze]};P.call(ut,ut.value,ut)!==!1&&(ut.value==null?Ve.push(ne[ge+ze]):L||st(G(We),G(ut.value))===0?(je.push(ut.value),L&&Ue.push(ne[ge+ze])):(Ve.push(ne[ge+ze]),Ye.push(ut.value)))}return Promise.resolve(0<Ye.length&&j.mutate({trans:O,type:"add",values:Ye}).then(function(mt){for(var bt in mt.failures)Ve.splice(parseInt(bt),1);ie(Ye.length,mt)})).then(function(){return(0<je.length||fe&&typeof p=="object")&&j.mutate({trans:O,type:"put",keys:Ue,values:je,criteria:fe,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<ge}).then(function(mt){return ie(je.length,mt)})}).then(function(){return(0<Ve.length||fe&&te)&&j.mutate({trans:O,type:"delete",keys:Ve,criteria:fe,isAdditionalChunk:0<ge}).then(function(mt){return Ct(S.table,Ve,mt)}).then(function(mt){return ie(Ve.length,mt)})}).then(function(){return ne.length>ge+Oe&&oe(ge+X)})})}var fe=Yi(S)&&S.limit===1/0&&(typeof p!="function"||te)&&{index:S.index,range:S.range};return oe(0).then(function(){if(0<K.length)throw new Ie("Error modifying one or more objects",K,se,Q);return ne.length})})})},Nt.prototype.delete=function(){var p=this._ctx,v=p.range;return!Yi(p)||p.table.schema.yProps||!p.isPrimKey&&v.type!==3?this.modify(Tu):this._write(function(S){var O=p.table.core.schema.primaryKey,P=v;return p.table.core.count({trans:S,query:{index:O,range:P}}).then(function(j){return p.table.core.mutate({trans:S,type:"deleteRange",range:P}).then(function(X){var G=X.failures,X=X.numFailures;if(X)throw new Ie("Could not delete some values",Object.keys(G).map(function(W){return G[W]}),j-X);return j-X})})})},Nt);function Nt(){}var Tu=function(p,v){return v.value=null};function Ru(p,v){return p<v?-1:p===v?0:1}function up(p,v){return v<p?-1:p===v?0:1}function Cr(p,v,S){return p=p instanceof yo?new p.Collection(p):p,p._ctx.error=new(S||TypeError)(v),p}function Ii(p){return new p.Collection(p,function(){return Qs("")}).limit(0)}function Nr(p,v,S,O){var P,j,L,G,X,W,ie,K=S.length;if(!S.every(function(te){return typeof te=="string"}))return Cr(p,en);function se(te){P=te==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},j=te==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},L=te==="next"?Ru:up;var ne=S.map(function(oe){return{lower:j(oe),upper:P(oe)}}).sort(function(oe,fe){return L(oe.lower,fe.lower)});G=ne.map(function(oe){return oe.upper}),X=ne.map(function(oe){return oe.lower}),ie=(W=te)==="next"?"":O}se("next"),p=new p.Collection(p,function(){return ci(G[0],X[K-1]+O)}),p._ondirectionchange=function(te){se(te)};var Q=0;return p._addAlgorithm(function(te,ne,oe){var fe=te.key;if(typeof fe!="string")return!1;var ge=j(fe);if(v(ge,X,Q))return!0;for(var Oe=null,Re=Q;Re<K;++Re){var Le=(function(Ye,je,Ue,Ve,ze,We){for(var ut=Math.min(Ye.length,Ve.length),mt=-1,bt=0;bt<ut;++bt){var Jn=je[bt];if(Jn!==Ve[bt])return ze(Ye[bt],Ue[bt])<0?Ye.substr(0,bt)+Ue[bt]+Ue.substr(bt+1):ze(Ye[bt],Ve[bt])<0?Ye.substr(0,bt)+Ve[bt]+Ue.substr(bt+1):0<=mt?Ye.substr(0,mt)+je[mt]+Ue.substr(mt+1):null;ze(Ye[bt],Jn)<0&&(mt=bt)}return ut<Ve.length&&We==="next"?Ye+Ue.substr(Ye.length):ut<Ye.length&&We==="prev"?Ye.substr(0,Ue.length):mt<0?null:Ye.substr(0,mt)+Ve[mt]+Ue.substr(mt+1)})(fe,ge,G[Re],X[Re],L,W);Le===null&&Oe===null?Q=Re+1:(Oe===null||0<L(Oe,Le))&&(Oe=Le)}return ne(Oe!==null?function(){te.continue(Oe+ie)}:oe),!1}),p}function ci(p,v,S,O){return{type:2,lower:p,upper:v,lowerOpen:S,upperOpen:O}}function Qs(p){return{type:1,lower:p,upper:p}}var yo=(Object.defineProperty(cn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),cn.prototype.between=function(p,v,S,O){S=S!==!1,O=O===!0;try{return 0<this._cmp(p,v)||this._cmp(p,v)===0&&(S||O)&&(!S||!O)?Ii(this):new this.Collection(this,function(){return ci(p,v,!S,!O)})}catch{return Cr(this,yn)}},cn.prototype.equals=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return Qs(p)})},cn.prototype.above=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return ci(p,void 0,!0)})},cn.prototype.aboveOrEqual=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return ci(p,void 0,!1)})},cn.prototype.below=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return ci(void 0,p,!1,!0)})},cn.prototype.belowOrEqual=function(p){return p==null?Cr(this,yn):new this.Collection(this,function(){return ci(void 0,p)})},cn.prototype.startsWith=function(p){return typeof p!="string"?Cr(this,en):this.between(p,p+sn,!0,!0)},cn.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):Nr(this,function(v,S){return v.indexOf(S[0])===0},[p],sn)},cn.prototype.equalsIgnoreCase=function(p){return Nr(this,function(v,S){return v===S[0]},[p],"")},cn.prototype.anyOfIgnoreCase=function(){var p=Se.apply(be,arguments);return p.length===0?Ii(this):Nr(this,function(v,S){return S.indexOf(v)!==-1},p,"")},cn.prototype.startsWithAnyOfIgnoreCase=function(){var p=Se.apply(be,arguments);return p.length===0?Ii(this):Nr(this,function(v,S){return S.some(function(O){return v.indexOf(O)===0})},p,sn)},cn.prototype.anyOf=function(){var p=this,v=Se.apply(be,arguments),S=this._cmp;try{v.sort(S)}catch{return Cr(this,yn)}if(v.length===0)return Ii(this);var O=new this.Collection(this,function(){return ci(v[0],v[v.length-1])});O._ondirectionchange=function(j){S=j==="next"?p._ascending:p._descending,v.sort(S)};var P=0;return O._addAlgorithm(function(j,L,G){for(var X=j.key;0<S(X,v[P]);)if(++P===v.length)return L(G),!1;return S(X,v[P])===0||(L(function(){j.continue(v[P])}),!1)}),O},cn.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},cn.prototype.noneOf=function(){var p=Se.apply(be,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return Cr(this,yn)}var v=p.reduce(function(S,O){return S?S.concat([[S[S.length-1][1],O]]):[[-1/0,O]]},null);return v.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},cn.prototype.inAnyRange=function(fe,v){var S=this,O=this._cmp,P=this._ascending,j=this._descending,L=this._min,G=this._max;if(fe.length===0)return Ii(this);if(!fe.every(function(ge){return ge[0]!==void 0&&ge[1]!==void 0&&P(ge[0],ge[1])<=0}))return Cr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var X=!v||v.includeLowers!==!1,W=v&&v.includeUppers===!0,ie,K=P;function se(ge,Oe){return K(ge[0],Oe[0])}try{(ie=fe.reduce(function(ge,Oe){for(var Re=0,Le=ge.length;Re<Le;++Re){var Ye=ge[Re];if(O(Oe[0],Ye[1])<0&&0<O(Oe[1],Ye[0])){Ye[0]=L(Ye[0],Oe[0]),Ye[1]=G(Ye[1],Oe[1]);break}}return Re===Le&&ge.push(Oe),ge},[])).sort(se)}catch{return Cr(this,yn)}var Q=0,te=W?function(ge){return 0<P(ge,ie[Q][1])}:function(ge){return 0<=P(ge,ie[Q][1])},ne=X?function(ge){return 0<j(ge,ie[Q][0])}:function(ge){return 0<=j(ge,ie[Q][0])},oe=te,fe=new this.Collection(this,function(){return ci(ie[0][0],ie[ie.length-1][1],!X,!W)});return fe._ondirectionchange=function(ge){K=ge==="next"?(oe=te,P):(oe=ne,j),ie.sort(se)},fe._addAlgorithm(function(ge,Oe,Re){for(var Le,Ye=ge.key;oe(Ye);)if(++Q===ie.length)return Oe(Re),!1;return!te(Le=Ye)&&!ne(Le)||(S._cmp(Ye,ie[Q][1])===0||S._cmp(Ye,ie[Q][0])===0||Oe(function(){K===P?ge.continue(ie[Q][0]):ge.continue(ie[Q][1])}),!1)}),fe},cn.prototype.startsWithAnyOf=function(){var p=Se.apply(be,arguments);return p.every(function(v){return typeof v=="string"})?p.length===0?Ii(this):this.inAnyRange(p.map(function(v){return[v,v+sn]})):Cr(this,"startsWithAnyOf() only works with strings")},cn);function cn(){}function Xr(p){return H(function(v){return vo(v),p(v.target.error),!1})}function vo(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var ia="storagemutated",bo="x-storagemutated-1",Qn=es(null,ia),Pu=(fr.prototype._lock=function(){return F(!Ge.global),++this._reculock,this._reculock!==1||Ge.global||(Ge.lockOwnerFor=this),this},fr.prototype._unlock=function(){if(F(!Ge.global),--this._reculock==0)for(Ge.global||(Ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{Bt(p[1],p[0])}catch{}}return this},fr.prototype._locked=function(){return this._reculock&&Ge.lockOwnerFor!==this},fr.prototype.create=function(p){var v=this;if(!this.mode)return this;var S=this.db.idbdb,O=this.db._state.dbOpenError;if(F(!this.idbtrans),!p&&!S)switch(O&&O.name){case"DatabaseClosedError":throw new De.DatabaseClosed(O);case"MissingAPIError":throw new De.MissingAPI(O.message,O);default:throw new De.OpenFailed(O)}if(!this.active)throw new De.TransactionInactive;return F(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||S).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=H(function(P){vo(P),v._reject(p.error)}),p.onabort=H(function(P){vo(P),v.active&&v._reject(new De.Abort(p.error)),v.active=!1,v.on("abort").fire(P)}),p.oncomplete=H(function(){v.active=!1,v._resolve(),"mutatedParts"in p&&Qn.storagemutated.fire(p.mutatedParts)}),this},fr.prototype._promise=function(p,v,S){var O=this;if(p==="readwrite"&&this.mode!=="readwrite")return at(new De.ReadOnly("Transaction is readonly"));if(!this.active)return at(new De.TransactionInactive);if(this._locked())return new $e(function(j,L){O._blockedFuncs.push([function(){O._promise(p,v,S).then(j,L)},Ge])});if(S)return He(function(){var j=new $e(function(L,G){O._lock();var X=v(L,G,O);X&&X.then&&X.then(L,G)});return j.finally(function(){return O._unlock()}),j._lib=!0,j});var P=new $e(function(j,L){var G=v(j,L,O);G&&G.then&&G.then(j,L)});return P._lib=!0,P},fr.prototype._root=function(){return this.parent?this.parent._root():this},fr.prototype.waitFor=function(p){var v,S=this._root(),O=$e.resolve(p);S._waitingFor?S._waitingFor=S._waitingFor.then(function(){return O}):(S._waitingFor=O,S._waitingQueue=[],v=S.idbtrans.objectStore(S.storeNames[0]),(function j(){for(++S._spinCount;S._waitingQueue.length;)S._waitingQueue.shift()();S._waitingFor&&(v.get(-1/0).onsuccess=j)})());var P=S._waitingFor;return new $e(function(j,L){O.then(function(G){return S._waitingQueue.push(H(j.bind(null,G)))},function(G){return S._waitingQueue.push(H(L.bind(null,G)))}).finally(function(){S._waitingFor===P&&(S._waitingFor=null)})})},fr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},fr.prototype.table=function(p){var v=this._memoizedTables||(this._memoizedTables={});if(y(v,p))return v[p];var S=this.schema[p];if(!S)throw new De.NotFound("Table "+p+" not part of transaction");return S=new this.db.Table(p,S,this),S.core=this.db.core.table(p),v[p]=S},fr);function fr(){}function di(p,v,S,O,P,j,L,G){return{name:p,keyPath:v,unique:S,multi:O,auto:P,compound:j,src:(S&&!L?"&":"")+(O?"*":"")+(P?"++":"")+Zs(v),type:G}}function Zs(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function oa(p,v,S){return{name:p,primKey:v,indexes:S,mappedClass:null,idxByName:(O=function(P){return[P.name,P]},S.reduce(function(P,j,L){return L=O(j,L),L&&(P[L[0]]=L[1]),P},{}))};var O}var aa=function(p){try{return p.only([[]]),aa=function(){return[[]]},[[]]}catch{return aa=function(){return sn},sn}};function sa(p){return p==null?function(){}:typeof p=="string"?(v=p).split(".").length===1?function(S){return S[v]}:function(S){return U(S,v)}:function(S){return U(S,p)};var v}function rs(p){return[].slice.call(p)}var yd=0;function An(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function xo(p,v,X){function O(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=oe.lower,te=oe.upper,ne=oe.lowerOpen,oe=oe.upperOpen;return Q===void 0?te===void 0?null:v.upperBound(te,!!oe):te===void 0?v.lowerBound(Q,!!ne):v.bound(Q,te,!!ne,!!oe)}function P(se){var Q,te=se.name;return{name:te,schema:se,mutate:function(ne){var oe=ne.trans,fe=ne.type,ge=ne.keys,Oe=ne.values,Re=ne.range;return new Promise(function(Le,Ye){Le=H(Le);var je=oe.objectStore(te),Ue=je.keyPath==null,Ve=fe==="put"||fe==="add";if(!Ve&&fe!=="delete"&&fe!=="deleteRange")throw new Error("Invalid operation type: "+fe);var ze,We=(ge||Oe||{length:1}).length;if(ge&&Oe&&ge.length!==Oe.length)throw new Error("Given keys array must have same length as given values array.");if(We===0)return Le({numFailures:0,failures:{},results:[],lastResult:void 0});function ut(In){++Jn,vo(In)}var mt=[],bt=[],Jn=0;if(fe==="deleteRange"){if(Re.type===4)return Le({numFailures:Jn,failures:bt,results:[],lastResult:void 0});Re.type===3?mt.push(ze=je.clear()):mt.push(ze=je.delete(O(Re)))}else{var Ue=Ve?Ue?[Oe,ge]:[Oe,null]:[ge,null],pt=Ue[0],Nn=Ue[1];if(Ve)for(var vn=0;vn<We;++vn)mt.push(ze=Nn&&Nn[vn]!==void 0?je[fe](pt[vn],Nn[vn]):je[fe](pt[vn])),ze.onerror=ut;else for(vn=0;vn<We;++vn)mt.push(ze=je[fe](pt[vn])),ze.onerror=ut}function cs(In){In=In.target.result,mt.forEach(function(Ir,qu){return Ir.error!=null&&(bt[qu]=Ir.error)}),Le({numFailures:Jn,failures:bt,results:fe==="delete"?ge:mt.map(function(Ir){return Ir.result}),lastResult:In})}ze.onerror=function(In){ut(In),cs(In)},ze.onsuccess=cs})},getMany:function(ne){var oe=ne.trans,fe=ne.keys;return new Promise(function(ge,Oe){ge=H(ge);for(var Re,Le=oe.objectStore(te),Ye=fe.length,je=new Array(Ye),Ue=0,Ve=0,ze=function(mt){mt=mt.target,je[mt._pos]=mt.result,++Ve===Ue&&ge(je)},We=Xr(Oe),ut=0;ut<Ye;++ut)fe[ut]!=null&&((Re=Le.get(fe[ut]))._pos=ut,Re.onsuccess=ze,Re.onerror=We,++Ue);Ue===0&&ge(je)})},get:function(ne){var oe=ne.trans,fe=ne.key;return new Promise(function(ge,Oe){ge=H(ge);var Re=oe.objectStore(te).get(fe);Re.onsuccess=function(Le){return ge(Le.target.result)},Re.onerror=Xr(Oe)})},query:(Q=W,function(ne){return new Promise(function(oe,fe){oe=H(oe);var ge,Oe,Re,Ue=ne.trans,Le=ne.values,Ye=ne.limit,ze=ne.query,je=Ye===1/0?void 0:Ye,Ve=ze.index,ze=ze.range,Ue=Ue.objectStore(te),Ve=Ve.isPrimaryKey?Ue:Ue.index(Ve.name),ze=O(ze);if(Ye===0)return oe({result:[]});Q?((je=Le?Ve.getAll(ze,je):Ve.getAllKeys(ze,je)).onsuccess=function(We){return oe({result:We.target.result})},je.onerror=Xr(fe)):(ge=0,Oe=!Le&&"openKeyCursor"in Ve?Ve.openKeyCursor(ze):Ve.openCursor(ze),Re=[],Oe.onsuccess=function(We){var ut=Oe.result;return ut?(Re.push(Le?ut.value:ut.primaryKey),++ge===Ye?oe({result:Re}):void ut.continue()):oe({result:Re})},Oe.onerror=Xr(fe))})}),openCursor:function(ne){var oe=ne.trans,fe=ne.values,ge=ne.query,Oe=ne.reverse,Re=ne.unique;return new Promise(function(Le,Ye){Le=H(Le);var Ve=ge.index,je=ge.range,Ue=oe.objectStore(te),Ue=Ve.isPrimaryKey?Ue:Ue.index(Ve.name),Ve=Oe?Re?"prevunique":"prev":Re?"nextunique":"next",ze=!fe&&"openKeyCursor"in Ue?Ue.openKeyCursor(O(je),Ve):Ue.openCursor(O(je),Ve);ze.onerror=Xr(Ye),ze.onsuccess=H(function(We){var ut,mt,bt,Jn,pt=ze.result;pt?(pt.___id=++yd,pt.done=!1,ut=pt.continue.bind(pt),mt=(mt=pt.continuePrimaryKey)&&mt.bind(pt),bt=pt.advance.bind(pt),Jn=function(){throw new Error("Cursor not stopped")},pt.trans=oe,pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=function(){throw new Error("Cursor not started")},pt.fail=H(Ye),pt.next=function(){var Nn=this,vn=1;return this.start(function(){return vn--?Nn.continue():Nn.stop()}).then(function(){return Nn})},pt.start=function(Nn){function vn(){if(ze.result)try{Nn()}catch(In){pt.fail(In)}else pt.done=!0,pt.start=function(){throw new Error("Cursor behind last entry")},pt.stop()}var cs=new Promise(function(In,Ir){In=H(In),ze.onerror=Xr(Ir),pt.fail=Ir,pt.stop=function(qu){pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=Jn,In(qu)}});return ze.onsuccess=H(function(In){ze.onsuccess=vn,vn()}),pt.continue=ut,pt.continuePrimaryKey=mt,pt.advance=bt,vn(),cs},Le(pt)):Le(null)},Ye)})},count:function(ne){var oe=ne.query,fe=ne.trans,ge=oe.index,Oe=oe.range;return new Promise(function(Re,Le){var Ye=fe.objectStore(te),je=ge.isPrimaryKey?Ye:Ye.index(ge.name),Ye=O(Oe),je=Ye?je.count(Ye):je.count();je.onsuccess=H(function(Ue){return Re(Ue.target.result)}),je.onerror=Xr(Le)})}}}var j,L,G,ie=(L=X,G=rs((j=p).objectStoreNames),{schema:{name:j.name,tables:G.map(function(se){return L.objectStore(se)}).map(function(se){var Q=se.keyPath,oe=se.autoIncrement,te=d(Q),ne={},oe={name:se.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:te,keyPath:Q,autoIncrement:oe,unique:!0,extractKey:sa(Q)},indexes:rs(se.indexNames).map(function(fe){return se.index(fe)}).map(function(Re){var ge=Re.name,Oe=Re.unique,Le=Re.multiEntry,Re=Re.keyPath,Le={name:ge,compound:d(Re),keyPath:Re,unique:Oe,multiEntry:Le,extractKey:sa(Re)};return ne[An(Re)]=Le}),getIndexByKeyPath:function(fe){return ne[An(fe)]}};return ne[":id"]=oe.primaryKey,Q!=null&&(ne[An(Q)]=oe.primaryKey),oe})},hasGetAll:0<G.length&&"getAll"in L.objectStore(G[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),X=ie.schema,W=ie.hasGetAll,ie=X.tables.map(P),K={};return ie.forEach(function(se){return K[se.name]=se}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(se){if(!K[se])throw new Error("Table '".concat(se,"' not found"));return K[se]},MIN_KEY:-1/0,MAX_KEY:aa(v),schema:X}}function Js(p,v,S,O){var P=S.IDBKeyRange;return S.indexedDB,{dbcore:(O=xo(v,P,O),p.dbcore.reduce(function(j,L){return L=L.create,i(i({},j),L(j))},O))}}function Ki(p,O){var S=O.db,O=Js(p._middlewares,S,p._deps,O);p.core=O.dbcore,p.tables.forEach(function(P){var j=P.name;p.core.schema.tables.some(function(L){return L.name===j})&&(P.core=p.core.table(j),p[j]instanceof p.Table&&(p[j].core=P.core))})}function el(p,v,S,O){S.forEach(function(P){var j=O[P];v.forEach(function(L){var G=(function X(W,ie){return T(W,ie)||(W=h(W))&&X(W,ie)})(L,P);(!G||"value"in G&&G.value===void 0)&&(L===p.Transaction.prototype||L instanceof p.Transaction?_(L,P,{get:function(){return this.table(P)},set:function(X){w(this,P,{value:X,writable:!0,configurable:!0,enumerable:!0})}}):L[P]=new p.Table(P,j))})})}function is(p,v){v.forEach(function(S){for(var O in S)S[O]instanceof p.Table&&delete S[O]})}function Du(p,v){return p._cfg.version-v._cfg.version}function os(p,v,S,O){var P=p._dbSchema;S.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=oa("$meta",bd("")[0],[]),p._storeNames.push("$meta"));var j=p._createTransaction("readwrite",p._storeNames,P);j.create(S),j._completion.catch(O);var L=j._reject.bind(j),G=Ge.transless||Ge;He(function(){return Ge.trans=j,Ge.transless=G,v!==0?(Ki(p,S),W=v,((X=j).storeNames.includes("$meta")?X.table("$meta").get("version").then(function(ie){return ie??W}):$e.resolve(W)).then(function(ie){return se=ie,Q=j,te=S,ne=[],ie=(K=p)._versions,oe=K._dbSchema=la(0,K.idbdb,te),(ie=ie.filter(function(fe){return fe._cfg.version>=se})).length!==0?(ie.forEach(function(fe){ne.push(function(){var ge=oe,Oe=fe._cfg.dbschema;il(K,ge,te),il(K,Oe,te),oe=K._dbSchema=Oe;var Re=nl(ge,Oe);Re.add.forEach(function(Ve){Au(te,Ve[0],Ve[1].primKey,Ve[1].indexes)}),Re.change.forEach(function(Ve){if(Ve.recreate)throw new De.Upgrade("Not yet support for changing primary key");var ze=te.objectStore(Ve.name);Ve.add.forEach(function(We){return rl(ze,We)}),Ve.change.forEach(function(We){ze.deleteIndex(We.name),rl(ze,We)}),Ve.del.forEach(function(We){return ze.deleteIndex(We)})});var Le=fe._cfg.contentUpgrade;if(Le&&fe._cfg.version>se){Ki(K,te),Q._memoizedTables={};var Ye=$(Oe);Re.del.forEach(function(Ve){Ye[Ve]=ge[Ve]}),is(K,[K.Transaction.prototype]),el(K,[K.Transaction.prototype],u(Ye),Ye),Q.schema=Ye;var je,Ue=q(Le);return Ue&&Ke(),Re=$e.follow(function(){var Ve;(je=Le(Q))&&Ue&&(Ve=Qe.bind(null,null),je.then(Ve,Ve))}),je&&typeof je.then=="function"?$e.resolve(je):Re.then(function(){return je})}}),ne.push(function(ge){var Oe,Re,Le=fe._cfg.dbschema;Oe=Le,Re=ge,[].slice.call(Re.db.objectStoreNames).forEach(function(Ye){return Oe[Ye]==null&&Re.db.deleteObjectStore(Ye)}),is(K,[K.Transaction.prototype]),el(K,[K.Transaction.prototype],K._storeNames,K._dbSchema),Q.schema=K._dbSchema}),ne.push(function(ge){K.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(K.idbdb.version/10)===fe._cfg.version?(K.idbdb.deleteObjectStore("$meta"),delete K._dbSchema.$meta,K._storeNames=K._storeNames.filter(function(Oe){return Oe!=="$meta"})):ge.objectStore("$meta").put(fe._cfg.version,"version"))})}),(function fe(){return ne.length?$e.resolve(ne.shift()(Q.idbtrans)).then(fe):$e.resolve()})().then(function(){vd(oe,te)})):$e.resolve();var K,se,Q,te,ne,oe}).catch(L)):(u(P).forEach(function(ie){Au(S,ie,P[ie].primKey,P[ie].indexes)}),Ki(p,S),void $e.follow(function(){return p.on.populate.fire(j)}).catch(L));var X,W})}function tl(p,v){vd(p._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var S=la(0,p.idbdb,v);il(p,p._dbSchema,v);for(var O=0,P=nl(S,p._dbSchema).change;O<P.length;O++){var j=(function(L){if(L.change.length||L.recreate)return console.warn("Unable to patch indexes of table ".concat(L.name," because it has changes on the type of index or primary key.")),{value:void 0};var G=v.objectStore(L.name);L.add.forEach(function(X){gn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(L.name,".").concat(X.src)),rl(G,X)})})(P[O]);if(typeof j=="object")return j.value}}function nl(p,v){var S,O={del:[],add:[],change:[]};for(S in p)v[S]||O.del.push(S);for(S in v){var P=p[S],j=v[S];if(P){var L={name:S,def:j,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(j.primKey.keyPath||"")||P.primKey.auto!==j.primKey.auto)L.recreate=!0,O.change.push(L);else{var G=P.idxByName,X=j.idxByName,W=void 0;for(W in G)X[W]||L.del.push(W);for(W in X){var ie=G[W],K=X[W];ie?ie.src!==K.src&&L.change.push(K):L.add.push(K)}(0<L.del.length||0<L.add.length||0<L.change.length)&&O.change.push(L)}}else O.add.push([S,j])}return O}function Au(p,v,S,O){var P=p.db.createObjectStore(v,S.keyPath?{keyPath:S.keyPath,autoIncrement:S.auto}:{autoIncrement:S.auto});return O.forEach(function(j){return rl(P,j)}),P}function vd(p,v){u(p).forEach(function(S){v.db.objectStoreNames.contains(S)||(gn&&console.debug("Dexie: Creating missing table",S),Au(v,S,p[S].primKey,p[S].indexes))})}function rl(p,v){p.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function la(p,v,S){var O={};return D(v.objectStoreNames,0).forEach(function(P){for(var j=S.objectStore(P),L=di(Zs(W=j.keyPath),W||"",!0,!1,!!j.autoIncrement,W&&typeof W!="string",!0),G=[],X=0;X<j.indexNames.length;++X){var ie=j.index(j.indexNames[X]),W=ie.keyPath,ie=di(ie.name,W,!!ie.unique,!!ie.multiEntry,!1,W&&typeof W!="string",!1);G.push(ie)}O[P]=oa(P,L,G)}),O}function il(p,v,S){for(var O=S.db.objectStoreNames,P=0;P<O.length;++P){var j=O[P],L=S.objectStore(j);p._hasGetAll="getAll"in L;for(var G=0;G<L.indexNames.length;++G){var X=L.indexNames[G],W=L.index(X).keyPath,ie=typeof W=="string"?W:"["+D(W).join("+")+"]";!v[j]||(W=v[j].idxByName[ie])&&(W.name=X,delete v[j].idxByName[ie],v[j].idxByName[X]=W)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function bd(p){return p.split(",").map(function(v,S){var j=v.split(":"),O=(P=j[1])===null||P===void 0?void 0:P.trim(),P=(v=j[0].trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return di(P,j||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),d(j),S===0,O)})}var cp=(ua.prototype._createTableSchema=oa,ua.prototype._parseIndexSyntax=bd,ua.prototype._parseStoresSpec=function(p,v){var S=this;u(p).forEach(function(O){if(p[O]!==null){var P=S._parseIndexSyntax(p[O]),j=P.shift();if(!j)throw new De.Schema("Invalid schema for table "+O+": "+p[O]);if(j.unique=!0,j.multi)throw new De.Schema("Primary key cannot be multiEntry*");P.forEach(function(L){if(L.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!L.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),P=S._createTableSchema(O,j,P),v[O]=P}})},ua.prototype.stores=function(S){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,S):S;var S=v._versions,O={},P={};return S.forEach(function(j){f(O,j._cfg.storesSource),P=j._cfg.dbschema={},j._parseStoresSpec(O,P)}),v._dbSchema=P,is(v,[v._allTables,v,v.Transaction.prototype]),el(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],u(P),P),v._storeNames=u(P),this},ua.prototype.upgrade=function(p){return this._cfg.contentUpgrade=Hn(this._cfg.contentUpgrade||Ze,p),this},ua);function ua(){}function Nu(p,v){var S=p._dbNamesDB;return S||(S=p._dbNamesDB=new fi(Xn,{addons:[],indexedDB:p,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),S.table("dbnames")}function ol(p){return p&&typeof p.databases=="function"}function Iu(p){return He(function(){return Ge.letThrough=!0,p()})}function ju(p){return!("from"in p)}var Zn=function(p,v){if(!this){var S=new Zn;return p&&"d"in p&&f(S,p),S}f(this,arguments.length?{d:1,from:p,to:1<arguments.length?v:p}:{d:0})};function as(p,v,S){var O=st(v,S);if(!isNaN(O)){if(0<O)throw RangeError();if(ju(p))return f(p,{from:v,to:S,d:1});var P=p.l,O=p.r;if(st(S,p.from)<0)return P?as(P,v,S):p.l={from:v,to:S,d:1,l:null,r:null},wd(p);if(0<st(v,p.to))return O?as(O,v,S):p.r={from:v,to:S,d:1,l:null,r:null},wd(p);st(v,p.from)<0&&(p.from=v,p.l=null,p.d=O?O.d+1:1),0<st(S,p.to)&&(p.to=S,p.r=null,p.d=p.l?p.l.d+1:1),S=!p.r,P&&!p.l&&wo(p,P),O&&S&&wo(p,O)}}function wo(p,v){ju(v)||(function S(O,X){var j=X.from,L=X.to,G=X.l,X=X.r;as(O,j,L),G&&S(O,G),X&&S(O,X)})(p,v)}function xd(p,v){var S=al(v),O=S.next();if(O.done)return!1;for(var P=O.value,j=al(p),L=j.next(P.from),G=L.value;!O.done&&!L.done;){if(st(G.from,P.to)<=0&&0<=st(G.to,P.from))return!0;st(P.from,G.from)<0?P=(O=S.next(G.from)).value:G=(L=j.next(P.from)).value}return!1}function al(p){var v=ju(p)?null:{s:0,n:p};return{next:function(S){for(var O=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,O)for(;v.n.l&&st(S,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!O||st(S,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function wd(p){var v,S,O=(((v=p.r)===null||v===void 0?void 0:v.d)||0)-(((S=p.l)===null||S===void 0?void 0:S.d)||0),P=1<O?"r":O<-1?"l":"";P&&(v=P=="r"?"l":"r",S=i({},p),O=p[P],p.from=O.from,p.to=O.to,p[P]=O[P],S[P]=O[v],(p[v]=S).d=zu(S)),p.d=zu(p)}function zu(S){var v=S.r,S=S.l;return(v?S?Math.max(v.d,S.d):v.d:S?S.d:0)+1}function sl(p,v){return u(v).forEach(function(S){p[S]?wo(p[S],v[S]):p[S]=(function O(P){var j,L,G={};for(j in P)y(P,j)&&(L=P[j],G[j]=!L||typeof L!="object"||me.has(L.constructor)?L:O(L));return G})(v[S])}),p}function Fu(p,v){return p.all||v.all||Object.keys(p).some(function(S){return v[S]&&xd(v[S],p[S])})}x(Zn.prototype,((_r={add:function(p){return wo(this,p),this},addKey:function(p){return as(this,p,p),this},addKeys:function(p){var v=this;return p.forEach(function(S){return as(v,S,S)}),this},hasKey:function(p){var v=al(this).next(p).value;return v&&st(v.from,p)<=0&&0<=st(v.to,p)}})[B]=function(){return al(this)},_r));var So={},ku={},Lu=!1;function ll(p){sl(ku,p),Lu||(Lu=!0,setTimeout(function(){Lu=!1,Bu(ku,!(ku={}))},0))}function Bu(p,v){v===void 0&&(v=!1);var S=new Set;if(p.all)for(var O=0,P=Object.values(So);O<P.length;O++)Sd(L=P[O],p,S,v);else for(var j in p){var L,G=/^idb\:\/\/(.*)\/(.*)\//.exec(j);G&&(j=G[1],G=G[2],(L=So["idb://".concat(j,"/").concat(G)])&&Sd(L,p,S,v))}S.forEach(function(X){return X()})}function Sd(p,v,S,O){for(var P=[],j=0,L=Object.entries(p.queries.query);j<L.length;j++){for(var G=L[j],X=G[0],W=[],ie=0,K=G[1];ie<K.length;ie++){var se=K[ie];Fu(v,se.obsSet)?se.subscribers.forEach(function(oe){return S.add(oe)}):O&&W.push(se)}O&&P.push([X,W])}if(O)for(var Q=0,te=P;Q<te.length;Q++){var ne=te[Q],X=ne[0],W=ne[1];p.queries.query[X]=W}}function dp(p){var v=p._state,S=p._deps.indexedDB;if(v.isBeingOpened||p.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?at(v.dbOpenError):p});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var O=v.openCanceller,P=Math.round(10*p.verno),j=!1;function L(){if(v.openCanceller!==O)throw new De.DatabaseClosed("db.open() was cancelled")}function G(){return new $e(function(se,Q){if(L(),!S)throw new De.MissingAPI;var te=p.name,ne=v.autoSchema||!P?S.open(te):S.open(te,P);if(!ne)throw new De.MissingAPI;ne.onerror=Xr(Q),ne.onblocked=H(p._fireOnBlocked),ne.onupgradeneeded=H(function(oe){var fe;ie=ne.transaction,v.autoSchema&&!p._options.allowEmptyDB?(ne.onerror=vo,ie.abort(),ne.result.close(),(fe=S.deleteDatabase(te)).onsuccess=fe.onerror=H(function(){Q(new De.NoSuchDatabase("Database ".concat(te," doesnt exist")))})):(ie.onerror=Xr(Q),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,K=oe<1,p.idbdb=ne.result,j&&tl(p,ie),os(p,oe/10,ie,Q))},Q),ne.onsuccess=H(function(){ie=null;var oe,fe,ge,Oe,Re,Le=p.idbdb=ne.result,Ye=D(Le.objectStoreNames);if(0<Ye.length)try{var je=Le.transaction((Oe=Ye).length===1?Oe[0]:Oe,"readonly");if(v.autoSchema)fe=Le,ge=je,(oe=p).verno=fe.version/10,ge=oe._dbSchema=la(0,fe,ge),oe._storeNames=D(fe.objectStoreNames,0),el(oe,[oe._allTables],u(ge),ge);else if(il(p,p._dbSchema,je),((Re=nl(la(0,(Re=p).idbdb,je),Re._dbSchema)).add.length||Re.change.some(function(Ue){return Ue.add.length||Ue.change.length}))&&!j)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Le.close(),P=Le.version+1,j=!0,se(G());Ki(p,je)}catch{}Kn.push(p),Le.onversionchange=H(function(Ue){v.vcFired=!0,p.on("versionchange").fire(Ue)}),Le.onclose=H(function(){p.close({disableAutoOpen:!1})}),K&&(Re=p._deps,je=te,Le=Re.indexedDB,Re=Re.IDBKeyRange,ol(Le)||je===Xn||Nu(Le,Re).put({name:je}).catch(Ze)),se()},Q)}).catch(function(se){switch(se?.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),G();break;case"VersionError":if(0<P)return P=0,G()}return $e.reject(se)})}var X,W=v.dbReadyResolve,ie=null,K=!1;return $e.race([O,(typeof navigator>"u"?$e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(se){function Q(){return indexedDB.databases().finally(se)}X=setInterval(Q,100),Q()}).finally(function(){return clearInterval(X)}):Promise.resolve()).then(G)]).then(function(){return L(),v.onReadyBeingFired=[],$e.resolve(Iu(function(){return p.on.ready.fire(p.vip)})).then(function se(){if(0<v.onReadyBeingFired.length){var Q=v.onReadyBeingFired.reduce(Hn,Ze);return v.onReadyBeingFired=[],$e.resolve(Iu(function(){return Q(p.vip)})).then(se)}})}).finally(function(){v.openCanceller===O&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(se){v.dbOpenError=se;try{ie&&ie.abort()}catch{}return O===v.openCanceller&&p._close(),at(se)}).finally(function(){v.openComplete=!0,W()}).then(function(){var se;return K&&(se={},p.tables.forEach(function(Q){Q.schema.indexes.forEach(function(te){te.name&&(se["idb://".concat(p.name,"/").concat(Q.name,"/").concat(te.name)]=new Zn(-1/0,[[[]]]))}),se["idb://".concat(p.name,"/").concat(Q.name,"/")]=se["idb://".concat(p.name,"/").concat(Q.name,"/:dels")]=new Zn(-1/0,[[[]]])}),Qn(ia).fire(se),Bu(se,!0)),p})}function ss(p){function v(j){return p.next(j)}var S=P(v),O=P(function(j){return p.throw(j)});function P(j){return function(X){var G=j(X),X=G.value;return G.done?X:X&&typeof X.then=="function"?X.then(S,O):d(X)?Promise.all(X).then(S,O):S(X)}}return P(v)()}function Xi(p,v,S){for(var O=d(p)?p.slice():[p],P=0;P<S;++P)O.push(v);return O}var fp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return i(i({},p),{table:function(v){var S=p.table(v),O=S.schema,P={},j=[];function L(K,se,Q){var te=An(K),ne=P[te]=P[te]||[],oe=K==null?0:typeof K=="string"?1:K.length,fe=0<se,fe=i(i({},Q),{name:fe?"".concat(te,"(virtual-from:").concat(Q.name,")"):Q.name,lowLevelIndex:Q,isVirtual:fe,keyTail:se,keyLength:oe,extractKey:sa(K),unique:!fe&&Q.unique});return ne.push(fe),fe.isPrimaryKey||j.push(fe),1<oe&&L(oe===2?K[0]:K.slice(0,oe-1),se+1,Q),ne.sort(function(ge,Oe){return ge.keyTail-Oe.keyTail}),fe}v=L(O.primaryKey.keyPath,0,O.primaryKey),P[":id"]=[v];for(var G=0,X=O.indexes;G<X.length;G++){var W=X[G];L(W.keyPath,0,W)}function ie(K){var se,Q=K.query.index;return Q.isVirtual?i(i({},K),{query:{index:Q.lowLevelIndex,range:(se=K.query.range,Q=Q.keyTail,{type:se.type===1?2:se.type,lower:Xi(se.lower,se.lowerOpen?p.MAX_KEY:p.MIN_KEY,Q),lowerOpen:!0,upper:Xi(se.upper,se.upperOpen?p.MIN_KEY:p.MAX_KEY,Q),upperOpen:!0})}}):K}return i(i({},S),{schema:i(i({},O),{primaryKey:v,indexes:j,getIndexByKeyPath:function(K){return(K=P[An(K)])&&K[0]}}),count:function(K){return S.count(ie(K))},query:function(K){return S.query(ie(K))},openCursor:function(K){var se=K.query.index,Q=se.keyTail,te=se.isVirtual,ne=se.keyLength;return te?S.openCursor(ie(K)).then(function(fe){return fe&&oe(fe)}):S.openCursor(K);function oe(fe){return Object.create(fe,{continue:{value:function(ge){ge!=null?fe.continue(Xi(ge,K.reverse?p.MAX_KEY:p.MIN_KEY,Q)):K.unique?fe.continue(fe.key.slice(0,ne).concat(K.reverse?p.MIN_KEY:p.MAX_KEY,Q)):fe.continue()}},continuePrimaryKey:{value:function(ge,Oe){fe.continuePrimaryKey(Xi(ge,p.MAX_KEY,Q),Oe)}},primaryKey:{get:function(){return fe.primaryKey}},key:{get:function(){var ge=fe.key;return ne===1?ge[0]:ge.slice(0,ne)}},value:{get:function(){return fe.value}}})}}})}})}};function ul(p,v,S,O){return S=S||{},O=O||"",u(p).forEach(function(P){var j,L,G;y(v,P)?(j=p[P],L=v[P],typeof j=="object"&&typeof L=="object"&&j&&L?(G=Ce(j))!==Ce(L)?S[O+P]=v[P]:G==="Object"?ul(j,L,S,O+P+"."):j!==L&&(S[O+P]=v[P]):j!==L&&(S[O+P]=v[P])):S[O+P]=void 0}),u(v).forEach(function(P){y(p,P)||(S[O+P]=v[P])}),S}function cl(p,v){return v.type==="delete"?v.keys:v.keys||v.values.map(p.extractKey)}var Cd={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return i(i({},p),{table:function(v){var S=p.table(v),O=S.schema.primaryKey;return i(i({},S),{mutate:function(P){var j=Ge.trans,L=j.table(v).hook,G=L.deleting,X=L.creating,W=L.updating;switch(P.type){case"add":if(X.fire===Ze)break;return j._promise("readwrite",function(){return ie(P)},!0);case"put":if(X.fire===Ze&&W.fire===Ze)break;return j._promise("readwrite",function(){return ie(P)},!0);case"delete":if(G.fire===Ze)break;return j._promise("readwrite",function(){return ie(P)},!0);case"deleteRange":if(G.fire===Ze)break;return j._promise("readwrite",function(){return(function K(se,Q,te){return S.query({trans:se,values:!1,query:{index:O,range:Q},limit:te}).then(function(ne){var oe=ne.result;return ie({type:"delete",keys:oe,trans:se}).then(function(fe){return 0<fe.numFailures?Promise.reject(fe.failures[0]):oe.length<te?{failures:[],numFailures:0,lastResult:void 0}:K(se,i(i({},Q),{lower:oe[oe.length-1],lowerOpen:!0}),te)})})})(P.trans,P.range,1e4)},!0)}return S.mutate(P);function ie(K){var se,Q,te,ne=Ge.trans,oe=K.keys||cl(O,K);if(!oe)throw new Error("Keys missing");return(K=K.type==="add"||K.type==="put"?i(i({},K),{keys:oe}):i({},K)).type!=="delete"&&(K.values=a([],K.values)),K.keys&&(K.keys=a([],K.keys)),se=S,te=oe,((Q=K).type==="add"?Promise.resolve([]):se.getMany({trans:Q.trans,keys:te,cache:"immutable"})).then(function(fe){var ge=oe.map(function(Oe,Re){var Le,Ye,je,Ue=fe[Re],Ve={onerror:null,onsuccess:null};return K.type==="delete"?G.fire.call(Ve,Oe,Ue,ne):K.type==="add"||Ue===void 0?(Le=X.fire.call(Ve,Oe,K.values[Re],ne),Oe==null&&Le!=null&&(K.keys[Re]=Oe=Le,O.outbound||A(K.values[Re],O.keyPath,Oe))):(Le=ul(Ue,K.values[Re]),(Ye=W.fire.call(Ve,Le,Oe,Ue,ne))&&(je=K.values[Re],Object.keys(Ye).forEach(function(ze){y(je,ze)?je[ze]=Ye[ze]:A(je,ze,Ye[ze])}))),Ve});return S.mutate(K).then(function(Oe){for(var Re=Oe.failures,Le=Oe.results,Ye=Oe.numFailures,Oe=Oe.lastResult,je=0;je<oe.length;++je){var Ue=(Le||oe)[je],Ve=ge[je];Ue==null?Ve.onerror&&Ve.onerror(Re[je]):Ve.onsuccess&&Ve.onsuccess(K.type==="put"&&fe[je]?K.values[je]:Ue)}return{failures:Re,results:Le,numFailures:Ye,lastResult:Oe}}).catch(function(Oe){return ge.forEach(function(Re){return Re.onerror&&Re.onerror(Oe)}),Promise.reject(Oe)})})}}})}})}};function Uu(p,v,S){try{if(!v||v.keys.length<p.length)return null;for(var O=[],P=0,j=0;P<v.keys.length&&j<p.length;++P)st(v.keys[P],p[j])===0&&(O.push(S?_e(v.values[P]):v.values[P]),++j);return O.length===p.length?O:null}catch{return null}}var _d={stack:"dbcore",level:-1,create:function(p){return{table:function(v){var S=p.table(v);return i(i({},S),{getMany:function(O){if(!O.cache)return S.getMany(O);var P=Uu(O.keys,O.trans._cache,O.cache==="clone");return P?$e.resolve(P):S.getMany(O).then(function(j){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?_e(j):j},j})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),S.mutate(O)}})}}}};function Co(p,v){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function Ed(p,v){switch(p){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var hp={stack:"dbcore",level:0,name:"Observability",create:function(p){var v=p.schema.name,S=new Zn(p.MIN_KEY,p.MAX_KEY);return i(i({},p),{transaction:function(O,P,j){if(Ge.subscr&&P!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ge.querier));return p.transaction(O,P,j)},table:function(O){var P=p.table(O),j=P.schema,L=j.primaryKey,K=j.indexes,G=L.extractKey,X=L.outbound,W=L.autoIncrement&&K.filter(function(Q){return Q.compound&&Q.keyPath.includes(L.keyPath)}),ie=i(i({},P),{mutate:function(Q){function te(ze){return ze="idb://".concat(v,"/").concat(O,"/").concat(ze),Oe[ze]||(Oe[ze]=new Zn)}var ne,oe,fe,ge=Q.trans,Oe=Q.mutatedParts||(Q.mutatedParts={}),Re=te(""),Le=te(":dels"),Ye=Q.type,Ve=Q.type==="deleteRange"?[Q.range]:Q.type==="delete"?[Q.keys]:Q.values.length<50?[cl(L,Q).filter(function(ze){return ze}),Q.values]:[],je=Ve[0],Ue=Ve[1],Ve=Q.trans._cache;return d(je)?(Re.addKeys(je),(Ve=Ye==="delete"||je.length===Ue.length?Uu(je,Ve):null)||Le.addKeys(je),(Ve||Ue)&&(ne=te,oe=Ve,fe=Ue,j.indexes.forEach(function(ze){var We=ne(ze.name||"");function ut(bt){return bt!=null?ze.extractKey(bt):null}function mt(bt){return ze.multiEntry&&d(bt)?bt.forEach(function(Jn){return We.addKey(Jn)}):We.addKey(bt)}(oe||fe).forEach(function(bt,Nn){var pt=oe&&ut(oe[Nn]),Nn=fe&&ut(fe[Nn]);st(pt,Nn)!==0&&(pt!=null&&mt(pt),Nn!=null&&mt(Nn))})}))):je?(Ue={from:(Ue=je.lower)!==null&&Ue!==void 0?Ue:p.MIN_KEY,to:(Ue=je.upper)!==null&&Ue!==void 0?Ue:p.MAX_KEY},Le.add(Ue),Re.add(Ue)):(Re.add(S),Le.add(S),j.indexes.forEach(function(ze){return te(ze.name).add(S)})),P.mutate(Q).then(function(ze){return!je||Q.type!=="add"&&Q.type!=="put"||(Re.addKeys(ze.results),W&&W.forEach(function(We){for(var ut=Q.values.map(function(pt){return We.extractKey(pt)}),mt=We.keyPath.findIndex(function(pt){return pt===L.keyPath}),bt=0,Jn=ze.results.length;bt<Jn;++bt)ut[bt][mt]=ze.results[bt];te(We.name).addKeys(ut)})),ge.mutatedParts=sl(ge.mutatedParts||{},Oe),ze})}}),K=function(te){var ne=te.query,te=ne.index,ne=ne.range;return[te,new Zn((te=ne.lower)!==null&&te!==void 0?te:p.MIN_KEY,(ne=ne.upper)!==null&&ne!==void 0?ne:p.MAX_KEY)]},se={get:function(Q){return[L,new Zn(Q.key)]},getMany:function(Q){return[L,new Zn().addKeys(Q.keys)]},count:K,query:K,openCursor:K};return u(se).forEach(function(Q){ie[Q]=function(te){var ne=Ge.subscr,oe=!!ne,fe=Co(Ge,P)&&Ed(Q,te)?te.obsSet={}:ne;if(oe){var ge=function(Ue){return Ue="idb://".concat(v,"/").concat(O,"/").concat(Ue),fe[Ue]||(fe[Ue]=new Zn)},Oe=ge(""),Re=ge(":dels"),ne=se[Q](te),oe=ne[0],ne=ne[1];if((Q==="query"&&oe.isPrimaryKey&&!te.values?Re:ge(oe.name||"")).add(ne),!oe.isPrimaryKey){if(Q!=="count"){var Le=Q==="query"&&X&&te.values&&P.query(i(i({},te),{values:!1}));return P[Q].apply(this,arguments).then(function(Ue){if(Q==="query"){if(X&&te.values)return Le.then(function(ut){return ut=ut.result,Oe.addKeys(ut),Ue});var Ve=te.values?Ue.result.map(G):Ue.result;(te.values?Oe:Re).addKeys(Ve)}else if(Q==="openCursor"){var ze=Ue,We=te.values;return ze&&Object.create(ze,{key:{get:function(){return Re.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var ut=ze.primaryKey;return Re.addKey(ut),ut}},value:{get:function(){return We&&Oe.addKey(ze.primaryKey),ze.value}}})}return Ue})}Re.add(S)}}return P[Q].apply(this,arguments)}}),ie}})}};function Od(p,v,S){if(S.numFailures===0)return v;if(v.type==="deleteRange")return null;var O=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return S.numFailures===O?null:(v=i({},v),d(v.keys)&&(v.keys=v.keys.filter(function(P,j){return!(j in S.failures)})),"values"in v&&d(v.values)&&(v.values=v.values.filter(function(P,j){return!(j in S.failures)})),v)}function dl(p,v){return S=p,((O=v).lower===void 0||(O.lowerOpen?0<st(S,O.lower):0<=st(S,O.lower)))&&(p=p,(v=v).upper===void 0||(v.upperOpen?st(p,v.upper)<0:st(p,v.upper)<=0));var S,O}function $u(p,v,se,O,P,j){if(!se||se.length===0)return p;var L=v.query.index,G=L.multiEntry,X=v.query.range,W=O.schema.primaryKey.extractKey,ie=L.extractKey,K=(L.lowLevelIndex||L).extractKey,se=se.reduce(function(Q,te){var ne=Q,oe=[];if(te.type==="add"||te.type==="put")for(var fe=new Zn,ge=te.values.length-1;0<=ge;--ge){var Oe,Re=te.values[ge],Le=W(Re);fe.hasKey(Le)||(Oe=ie(Re),(G&&d(Oe)?Oe.some(function(ze){return dl(ze,X)}):dl(Oe,X))&&(fe.addKey(Le),oe.push(Re)))}switch(te.type){case"add":var Ye=new Zn().addKeys(v.values?Q.map(function(We){return W(We)}):Q),ne=Q.concat(v.values?oe.filter(function(We){return We=W(We),!Ye.hasKey(We)&&(Ye.addKey(We),!0)}):oe.map(function(We){return W(We)}).filter(function(We){return!Ye.hasKey(We)&&(Ye.addKey(We),!0)}));break;case"put":var je=new Zn().addKeys(te.values.map(function(We){return W(We)}));ne=Q.filter(function(We){return!je.hasKey(v.values?W(We):We)}).concat(v.values?oe:oe.map(function(We){return W(We)}));break;case"delete":var Ue=new Zn().addKeys(te.keys);ne=Q.filter(function(We){return!Ue.hasKey(v.values?W(We):We)});break;case"deleteRange":var Ve=te.range;ne=Q.filter(function(We){return!dl(W(We),Ve)})}return ne},p);return se===p?p:(se.sort(function(Q,te){return st(K(Q),K(te))||st(W(Q),W(te))}),v.limit&&v.limit<1/0&&(se.length>v.limit?se.length=v.limit:p.length===v.limit&&se.length<v.limit&&(P.dirty=!0)),j?Object.freeze(se):se)}function ca(p,v){return st(p.lower,v.lower)===0&&st(p.upper,v.upper)===0&&!!p.lowerOpen==!!v.lowerOpen&&!!p.upperOpen==!!v.upperOpen}function ls(p,v){return(function(S,O,P,j){if(S===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=st(S,O))===0){if(P&&j)return 0;if(P)return 1;if(j)return-1}return O})(p.lower,v.lower,p.lowerOpen,v.lowerOpen)<=0&&0<=(function(S,O,P,j){if(S===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=st(S,O))===0){if(P&&j)return 0;if(P)return-1;if(j)return 1}return O})(p.upper,v.upper,p.upperOpen,v.upperOpen)}function pp(p,v,S,O){p.subscribers.add(S),O.addEventListener("abort",function(){var P,j;p.subscribers.delete(S),p.subscribers.size===0&&(P=p,j=v,setTimeout(function(){P.subscribers.size===0&&V(j,P)},3e3))})}var fl={stack:"dbcore",level:0,name:"Cache",create:function(p){var v=p.schema.name;return i(i({},p),{transaction:function(S,O,P){var j,L,G=p.transaction(S,O,P);return O==="readwrite"&&(L=(j=new AbortController).signal,P=function(X){return function(){if(j.abort(),O==="readwrite"){for(var W=new Set,ie=0,K=S;ie<K.length;ie++){var se=K[ie],Q=So["idb://".concat(v,"/").concat(se)];if(Q){var te=p.table(se),ne=Q.optimisticOps.filter(function(We){return We.trans===G});if(G._explicit&&X&&G.mutatedParts)for(var oe=0,fe=Object.values(Q.queries.query);oe<fe.length;oe++)for(var ge=0,Oe=(Ye=fe[oe]).slice();ge<Oe.length;ge++)Fu((je=Oe[ge]).obsSet,G.mutatedParts)&&(V(Ye,je),je.subscribers.forEach(function(We){return W.add(We)}));else if(0<ne.length){Q.optimisticOps=Q.optimisticOps.filter(function(We){return We.trans!==G});for(var Re=0,Le=Object.values(Q.queries.query);Re<Le.length;Re++)for(var Ye,je,Ue,Ve=0,ze=(Ye=Le[Re]).slice();Ve<ze.length;Ve++)(je=ze[Ve]).res!=null&&G.mutatedParts&&(X&&!je.dirty?(Ue=Object.isFrozen(je.res),Ue=$u(je.res,je.req,ne,te,je,Ue),je.dirty?(V(Ye,je),je.subscribers.forEach(function(We){return W.add(We)})):Ue!==je.res&&(je.res=Ue,je.promise=$e.resolve({result:Ue}))):(je.dirty&&V(Ye,je),je.subscribers.forEach(function(We){return W.add(We)})))}}}W.forEach(function(We){return We()})}}},G.addEventListener("abort",P(!1),{signal:L}),G.addEventListener("error",P(!1),{signal:L}),G.addEventListener("complete",P(!0),{signal:L})),G},table:function(S){var O=p.table(S),P=O.schema.primaryKey;return i(i({},O),{mutate:function(j){var L=Ge.trans;if(P.outbound||L.db._options.cache==="disabled"||L.explicit||L.idbtrans.mode!=="readwrite")return O.mutate(j);var G=So["idb://".concat(v,"/").concat(S)];return G?(L=O.mutate(j),j.type!=="add"&&j.type!=="put"||!(50<=j.values.length||cl(P,j).some(function(X){return X==null}))?(G.optimisticOps.push(j),j.mutatedParts&&ll(j.mutatedParts),L.then(function(X){0<X.numFailures&&(V(G.optimisticOps,j),(X=Od(0,j,X))&&G.optimisticOps.push(X),j.mutatedParts&&ll(j.mutatedParts))}),L.catch(function(){V(G.optimisticOps,j),j.mutatedParts&&ll(j.mutatedParts)})):L.then(function(X){var W=Od(0,i(i({},j),{values:j.values.map(function(ie,K){var se;return X.failures[K]?ie:(ie=(se=P.keyPath)!==null&&se!==void 0&&se.includes(".")?_e(ie):i({},ie),A(ie,P.keyPath,X.results[K]),ie)})}),X);G.optimisticOps.push(W),queueMicrotask(function(){return j.mutatedParts&&ll(j.mutatedParts)})}),L):O.mutate(j)},query:function(j){if(!Co(Ge,O)||!Ed("query",j))return O.query(j);var L=((W=Ge.trans)===null||W===void 0?void 0:W.db._options.cache)==="immutable",K=Ge,G=K.requery,X=K.signal,W=(function(te,ne,oe,fe){var ge=So["idb://".concat(te,"/").concat(ne)];if(!ge)return[];if(!(ne=ge.queries[oe]))return[null,!1,ge,null];var Oe=ne[(fe.query?fe.query.index.name:null)||""];if(!Oe)return[null,!1,ge,null];switch(oe){case"query":var Re=Oe.find(function(Le){return Le.req.limit===fe.limit&&Le.req.values===fe.values&&ca(Le.req.query.range,fe.query.range)});return Re?[Re,!0,ge,Oe]:[Oe.find(function(Le){return("limit"in Le.req?Le.req.limit:1/0)>=fe.limit&&(!fe.values||Le.req.values)&&ls(Le.req.query.range,fe.query.range)}),!1,ge,Oe];case"count":return Re=Oe.find(function(Le){return ca(Le.req.query.range,fe.query.range)}),[Re,!!Re,ge,Oe]}})(v,S,"query",j),ie=W[0],K=W[1],se=W[2],Q=W[3];return ie&&K?ie.obsSet=j.obsSet:(K=O.query(j).then(function(te){var ne=te.result;if(ie&&(ie.res=ne),L){for(var oe=0,fe=ne.length;oe<fe;++oe)Object.freeze(ne[oe]);Object.freeze(ne)}else te.result=_e(ne);return te}).catch(function(te){return Q&&ie&&V(Q,ie),Promise.reject(te)}),ie={obsSet:j.obsSet,promise:K,subscribers:new Set,type:"query",req:j,dirty:!1},Q?Q.push(ie):(Q=[ie],(se=se||(So["idb://".concat(v,"/").concat(S)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[j.query.index.name||""]=Q)),pp(ie,Q,G,X),ie.promise.then(function(te){return{result:$u(te.result,j,se?.optimisticOps,O,ie,L)}})}})}})}};function us(p,v){return new Proxy(p,{get:function(S,O,P){return O==="db"?v:Reflect.get(S,O,P)}})}var fi=(dn.prototype.version=function(p){if(isNaN(p)||p<.1)throw new De.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var v=this._versions,S=v.filter(function(O){return O._cfg.version===p})[0];return S||(S=new this.Version(p),v.push(S),v.sort(Du),S.stores({}),this._state.autoSchema=!1,S)},dn.prototype._whenReady=function(p){var v=this;return this.idbdb&&(this._state.openComplete||Ge.letThrough||this._vip)?p():new $e(function(S,O){if(v._state.openComplete)return O(new De.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void O(new De.DatabaseClosed);v.open().catch(Ze)}v._state.dbReadyPromise.then(S,O)}).then(p)},dn.prototype.use=function(p){var v=p.stack,S=p.create,O=p.level,P=p.name;return P&&this.unuse({stack:v,name:P}),p=this._middlewares[v]||(this._middlewares[v]=[]),p.push({stack:v,create:S,level:O??10,name:P}),p.sort(function(j,L){return j.level-L.level}),this},dn.prototype.unuse=function(p){var v=p.stack,S=p.name,O=p.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(P){return O?P.create!==O:!!S&&P.name!==S})),this},dn.prototype.open=function(){var p=this;return Bt(At,function(){return dp(p)})},dn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var p=this._state,v=Kn.indexOf(this);if(0<=v&&Kn.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new $e(function(S){p.dbReadyResolve=S}),p.openCanceller=new $e(function(S,O){p.cancelOpen=O}))},dn.prototype.close=function(S){var v=(S===void 0?{disableAutoOpen:!0}:S).disableAutoOpen,S=this._state;v?(S.isBeingOpened&&S.cancelOpen(new De.DatabaseClosed),this._close(),S.autoOpen=!1,S.dbOpenError=new De.DatabaseClosed):(this._close(),S.autoOpen=this._options.autoOpen||S.isBeingOpened,S.openComplete=!1,S.dbOpenError=null)},dn.prototype.delete=function(p){var v=this;p===void 0&&(p={disableAutoOpen:!0});var S=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new $e(function(P,j){function L(){v.close(p);var G=v._deps.indexedDB.deleteDatabase(v.name);G.onsuccess=H(function(){var X,W,ie;X=v._deps,W=v.name,ie=X.indexedDB,X=X.IDBKeyRange,ol(ie)||W===Xn||Nu(ie,X).delete(W).catch(Ze),P()}),G.onerror=Xr(j),G.onblocked=v._fireOnBlocked}if(S)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(L):L()})},dn.prototype.backendDB=function(){return this.idbdb},dn.prototype.isOpen=function(){return this.idbdb!==null},dn.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},dn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},dn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(dn.prototype,"tables",{get:function(){var p=this;return u(this._allTables).map(function(v){return p._allTables[v]})},enumerable:!1,configurable:!0}),dn.prototype.transaction=function(){var p=(function(v,S,O){var P=arguments.length;if(P<2)throw new De.InvalidArgument("Too few arguments");for(var j=new Array(P-1);--P;)j[P-1]=arguments[P];return O=j.pop(),[v,ue(j),O]}).apply(this,arguments);return this._transaction.apply(this,p)},dn.prototype._transaction=function(p,v,S){var O=this,P=Ge.trans;P&&P.db===this&&p.indexOf("!")===-1||(P=null);var j,L,G=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(L=v.map(function(W){if(W=W instanceof O.Table?W.name:W,typeof W!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return W}),p=="r"||p===Sr)j=Sr;else{if(p!="rw"&&p!=dr)throw new De.InvalidArgument("Invalid transaction mode: "+p);j=dr}if(P){if(P.mode===Sr&&j===dr){if(!G)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&L.forEach(function(W){if(P&&P.storeNames.indexOf(W)===-1){if(!G)throw new De.SubTransaction("Table "+W+" not included in parent transaction.");P=null}}),G&&P&&!P.active&&(P=null)}}catch(W){return P?P._promise(null,function(ie,K){K(W)}):at(W)}var X=(function W(ie,K,se,Q,te){return $e.resolve().then(function(){var ne=Ge.transless||Ge,oe=ie._createTransaction(K,se,ie._dbSchema,Q);if(oe.explicit=!0,ne={trans:oe,transless:ne},Q)oe.idbtrans=Q.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,ie._state.PR1398_maxLoop=3}catch(Oe){return Oe.name===nt.InvalidState&&ie.isOpen()&&0<--ie._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),ie.close({disableAutoOpen:!1}),ie.open().then(function(){return W(ie,K,se,null,te)})):at(Oe)}var fe,ge=q(te);return ge&&Ke(),ne=$e.follow(function(){var Oe;(fe=te.call(oe,oe))&&(ge?(Oe=Qe.bind(null,null),fe.then(Oe,Oe)):typeof fe.next=="function"&&typeof fe.throw=="function"&&(fe=ss(fe)))},ne),(fe&&typeof fe.then=="function"?$e.resolve(fe).then(function(Oe){return oe.active?Oe:at(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):ne.then(function(){return fe})).then(function(Oe){return Q&&oe._resolve(),oe._completion.then(function(){return Oe})}).catch(function(Oe){return oe._reject(Oe),at(Oe)})})}).bind(null,this,j,L,P,S);return P?P._promise(j,X,"lock"):Ge.trans?Bt(Ge.transless,function(){return O._whenReady(X)}):this._whenReady(X)},dn.prototype.table=function(p){if(!y(this._allTables,p))throw new De.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},dn);function dn(p,v){var S=this;this._middlewares={},this.verno=0;var O=dn.dependencies;this._options=v=i({addons:dn.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},O=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,j,L,G,X,W={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Ze,dbReadyPromise:null,cancelOpen:Ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};W.dbReadyPromise=new $e(function(K){W.dbReadyResolve=K}),W.openCanceller=new $e(function(K,se){W.cancelOpen=se}),this._state=W,this.name=p,this.on=es(this,"populate","blocked","versionchange","close",{ready:[Hn,Ze]}),this.once=function(K,se){var Q=function(){for(var te=[],ne=0;ne<arguments.length;ne++)te[ne]=arguments[ne];S.on(K).unsubscribe(Q),se.apply(S,te)};return S.on(K,Q)},this.on.ready.subscribe=I(this.on.ready.subscribe,function(K){return function(se,Q){dn.vip(function(){var te,ne=S._state;ne.openComplete?(ne.dbOpenError||$e.resolve().then(se),Q&&K(se)):ne.onReadyBeingFired?(ne.onReadyBeingFired.push(se),Q&&K(se)):(K(se),te=S,Q||K(function oe(){te.on.ready.unsubscribe(se),te.on.ready.unsubscribe(oe)}))})}}),this.Collection=(P=this,Wn(lp.prototype,function(fe,oe){this.db=P;var Q=Vi,te=null;if(oe)try{Q=oe()}catch(ge){te=ge}var ne=fe._ctx,oe=ne.table,fe=oe.hook.reading.fire;this._ctx={table:oe,index:ne.index,isPrimKey:!ne.index||oe.schema.primKey.keyPath&&ne.index===oe.schema.primKey.name,range:Q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:te,or:ne.or,valueMapper:fe!==ht?fe:null}})),this.Table=(j=this,Wn(Ou.prototype,function(K,se,Q){this.db=j,this._tx=Q,this.name=K,this.schema=se,this.hook=j._allTables[K]?j._allTables[K].hook:es(null,{creating:[mn,Ze],reading:[kt,ht],updating:[nr,Ze],deleting:[Rr,Ze]})})),this.Transaction=(L=this,Wn(Pu.prototype,function(K,se,Q,te,ne){var oe=this;K!=="readonly"&&se.forEach(function(fe){fe=(fe=Q[fe])===null||fe===void 0?void 0:fe.yProps,fe&&(se=se.concat(fe.map(function(ge){return ge.updatesTable})))}),this.db=L,this.mode=K,this.storeNames=se,this.schema=Q,this.chromeTransactionDurability=te,this.idbtrans=null,this.on=es(this,"complete","error","abort"),this.parent=ne||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $e(function(fe,ge){oe._resolve=fe,oe._reject=ge}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(fe){var ge=oe.active;return oe.active=!1,oe.on.error.fire(fe),oe.parent?oe.parent._reject(fe):ge&&oe.idbtrans&&oe.idbtrans.abort(),at(fe)})})),this.Version=(G=this,Wn(cp.prototype,function(K){this.db=G,this._cfg={version:K,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(X=this,Wn(yo.prototype,function(K,se,Q){if(this.db=X,this._ctx={table:K,index:se===":id"?null:se,or:Q},this._cmp=this._ascending=st,this._descending=function(te,ne){return st(ne,te)},this._max=function(te,ne){return 0<st(te,ne)?te:ne},this._min=function(te,ne){return st(te,ne)<0?te:ne},this._IDBKeyRange=X._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(K){0<K.newVersion?console.warn("Another connection wants to upgrade database '".concat(S.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(S.name,"'. Closing db now to resume the delete request.")),S.close({disableAutoOpen:!1})}),this.on("blocked",function(K){!K.newVersion||K.newVersion<K.oldVersion?console.warn("Dexie.delete('".concat(S.name,"') was blocked")):console.warn("Upgrade '".concat(S.name,"' blocked by other connection holding version ").concat(K.oldVersion/10))}),this._maxKey=aa(v.IDBKeyRange),this._createTransaction=function(K,se,Q,te){return new S.Transaction(K,se,Q,S._options.chromeTransactionDurability,te)},this._fireOnBlocked=function(K){S.on("blocked").fire(K),Kn.filter(function(se){return se.name===S.name&&se!==S&&!se._state.vcFired}).map(function(se){return se.on("versionchange").fire(K)})},this.use(_d),this.use(fl),this.use(hp),this.use(fp),this.use(Cd);var ie=new Proxy(this,{get:function(K,se,Q){if(se==="_vip")return!0;if(se==="table")return function(ne){return us(S.table(ne),ie)};var te=Reflect.get(K,se,Q);return te instanceof Ou?us(te,ie):se==="tables"?te.map(function(ne){return us(ne,ie)}):se==="_createTransaction"?function(){return us(te.apply(this,arguments),ie)}:te}});this.vip=ie,O.forEach(function(K){return K(S)})}var da,_r=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Md=(hl.prototype.subscribe=function(p,v,S){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:v,complete:S})},hl.prototype[_r]=function(){return this},hl);function hl(p){this._subscribe=p}try{da={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{da={indexedDB:null,IDBKeyRange:null}}function Td(p){var v,S=!1,O=new Md(function(P){var j=q(p),L,G=!1,X={},W={},ie={get closed(){return G},unsubscribe:function(){G||(G=!0,L&&L.abort(),K&&Qn.storagemutated.unsubscribe(Q))}};P.start&&P.start(ie);var K=!1,se=function(){return an(te)},Q=function(ne){sl(X,ne),Fu(W,X)&&se()},te=function(){var ne,oe,fe;!G&&da.indexedDB&&(X={},ne={},L&&L.abort(),L=new AbortController,fe=(function(ge){var Oe=xr();try{j&&Ke();var Re=He(p,ge);return Re=j?Re.finally(Qe):Re}finally{Oe&&wr()}})(oe={subscr:ne,signal:L.signal,requery:se,querier:p,trans:null}),Promise.resolve(fe).then(function(ge){S=!0,v=ge,G||oe.signal.aborted||(X={},(function(Oe){for(var Re in Oe)if(y(Oe,Re))return;return 1})(W=ne)||K||(Qn(ia,Q),K=!0),an(function(){return!G&&P.next&&P.next(ge)}))},function(ge){S=!1,["DatabaseClosedError","AbortError"].includes(ge?.name)||G||an(function(){G||P.error&&P.error(ge)})}))};return setTimeout(se,0),ie});return O.hasValue=function(){return S},O.getValue=function(){return v},O}var _o=fi;function Hu(p){var v=Wi;try{Wi=!0,Qn.storagemutated.fire(p),Bu(p,!0)}finally{Wi=v}}x(_o,i(i({},ln),{delete:function(p){return new _o(p,{addons:[]}).delete()},exists:function(p){return new _o(p,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return v=_o.dependencies,S=v.indexedDB,v=v.IDBKeyRange,(ol(S)?Promise.resolve(S.databases()).then(function(O){return O.map(function(P){return P.name}).filter(function(P){return P!==Xn})}):Nu(S,v).toCollection().primaryKeys()).then(p)}catch{return at(new De.MissingAPI)}var v,S},defineClass:function(){return function(p){f(this,p)}},ignoreTransaction:function(p){return Ge.trans?Bt(Ge.transless,p):p()},vip:Iu,async:function(p){return function(){try{var v=ss(p.apply(this,arguments));return v&&typeof v.then=="function"?v:$e.resolve(v)}catch(S){return at(S)}}},spawn:function(p,v,S){try{var O=ss(p.apply(S,v||[]));return O&&typeof O.then=="function"?O:$e.resolve(O)}catch(P){return at(P)}},currentTransaction:{get:function(){return Ge.trans||null}},waitFor:function(p,v){return v=$e.resolve(typeof p=="function"?_o.ignoreTransaction(p):p).timeout(v||6e4),Ge.trans?Ge.trans.waitFor(v):v},Promise:$e,debug:{get:function(){return gn},set:function(p){xn(p)}},derive:E,extend:f,props:x,override:I,Events:es,on:Qn,liveQuery:Td,extendObservabilitySet:sl,getByKeyPath:U,setByKeyPath:A,delByKeyPath:function(p,v){typeof v=="string"?A(p,v,void 0):"length"in v&&[].map.call(v,function(S){A(p,S,void 0)})},shallowClone:$,deepClone:_e,getObjectDiff:ul,cmp:st,asap:k,minKey:-1/0,addons:[],connections:Kn,errnames:nt,dependencies:da,cache:So,semVer:"4.2.1",version:"4.2.1".split(".").map(function(p){return parseInt(p)}).reduce(function(p,v,S){return p+v/Math.pow(10,2*S)})})),_o.maxKey=aa(_o.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Qn(ia,function(p){Wi||(p=new CustomEvent(bo,{detail:p}),Wi=!0,dispatchEvent(p),Wi=!1)}),addEventListener(bo,function(p){p=p.detail,Wi||Hu(p)}));var fa,Wi=!1,hr=function(){};return typeof BroadcastChannel<"u"&&((hr=function(){(fa=new BroadcastChannel(bo)).onmessage=function(p){return p.data&&Hu(p.data)}})(),typeof fa.unref=="function"&&fa.unref(),Qn(ia,function(p){Wi||fa.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!fi.disableBfCache&&p.persisted){gn&&console.debug("Dexie: handling persisted pagehide"),fa?.close();for(var v=0,S=Kn;v<S.length;v++)S[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!fi.disableBfCache&&p.persisted&&(gn&&console.debug("Dexie: handling persisted pageshow"),hr(),Hu({all:new Zn(-1/0,[[]])}))})),$e.rejectionMapper=function(p,v){return!p||p instanceof we||p instanceof TypeError||p instanceof SyntaxError||!p.name||!Zt[p.name]?p:(v=new Zt[p.name](v||p.message,p),"stack"in p&&_(v,"stack",{get:function(){return this.inner.stack}}),v)},xn(gn),i(fi,Object.freeze({__proto__:null,Dexie:fi,liveQuery:Td,Entity:Mt,cmp:st,PropModification:Kr,replacePrefix:function(p,v){return new Kr({replacePrefix:[p,v]})},add:function(p){return new Kr({add:p})},remove:function(p){return new Kr({remove:p})},default:fi,RangeSet:Zn,mergeRanges:wo,rangesOverlap:xd}),{default:fi}),fi})})(th)),th.exports}var _z=Cz();const uy=xh(_z),GS=Symbol.for("Dexie"),au=globalThis[GS]||(globalThis[GS]=uy);if(uy.semVer!==au.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${uy.semVer} and ${au.semVer}`);const{liveQuery:_L,mergeRanges:EL,rangesOverlap:OL,RangeSet:ML,cmp:TL,Entity:RL,PropModification:PL,replacePrefix:DL,add:AL,remove:NL,DexieYProvider:IL}=au;function Ez(e,t,r){var i,a;typeof e=="function"?(i=t||[],a=r):(i=[],a=t);var s=Yn.useRef({hasResult:!1,result:a,error:null}),u=Yn.useReducer(function(h){return h+1},0);u[0];var d=u[1],f=Yn.useMemo(function(){var h=typeof e=="function"?e():e;if(!h||typeof h.subscribe!="function")throw e===h?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof h.hasValue!="function"||h.hasValue()))if(typeof h.getValue=="function")s.current.result=h.getValue(),s.current.hasResult=!0;else{var g=h.subscribe(function(y){s.current.result=y,s.current.hasResult=!0});typeof g=="function"?g():g.unsubscribe()}return h},i);if(Yn.useDebugValue(s.current.result),Yn.useEffect(function(){var h=f.subscribe(function(g){var y=s.current;(y.error!==null||y.result!==g)&&(y.error=null,y.result=g,y.hasResult=!0,d())},function(g){var y=s.current;y.error!==g&&(y.error=g,d())});return typeof h=="function"?h:h.unsubscribe.bind(h)},i),s.current.error)throw s.current.error;return s.current.result}function hh(e,t,r){return Ez(function(){return au.liveQuery(e)},t||[],r)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(e){var t=au.DexieYProvider;t&&t.release(e)});class Oz extends au{population_point;tour;parish;block;building;plate;recognition_code_info;syncState;lookups;constructor(){super("DehyarDB"),this.version(4).stores({population_point:"id, population_point_id",tour:"id, population_point_id",parish:"id, population_point_id",block:"id, population_point_id",building:"id, population_point_id",plate:"id, building_id, population_point_id",recognition_code_info:"id, plate_id, building_id",syncState:"layerName",lookups:"[tableName+id], tableName"})}}const yr=new Oz,Mz={population_point:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",population_point_type_id:"number",rural_id:"number",name:"string",en_name:"string",code:"number",opt_approval:"boolean",part_id:"number",rural_name_full:"string",rural_id_full:"number",is_rural:"boolean"},tour:{province_id:"number",tour_type:"string",is_active:"boolean",name:"string",en_name:"string",code:"number",area:"number"},parish:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",parish_type:"string",name:"string",en_name:"string",code:"number",opt_approval:"boolean"},block:{province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",name:"string",en_name:"string",code:"number",area:"number",opt_approval:"boolean",parish_id:"number"},building:{building_type_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",block_id:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",gnaf_code:"string",building_name:"string",modernization_code:"string",building_number:"number",floor_count:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",parish_id:"number",is_negative:"boolean",dundas_map_id:"number"},plate:{address_id:"number",building_id:"number",plate_no:"number",old_plate_no:"number",opt_approval:"boolean",task_id:"number",plate_name:"string"},recognition_code_info:{unit_identifier:"number",unit_status_id:"number",plate_id:"number",building_id:"number",poi_type_id:"number",act_type_id1:"number",act_type_id2:"number",act_type_id3:"number",plat:"string",floor_no:"number",unit_no:"string",height:"number",part_row_no:"number",entrance:"string",grid_code:"string",first_name:"string",last_name:"string",workshop_name:"string",action_name:"string",plate_description:"string",postalcode:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",description:"string"}},Tz=async(e,t,r)=>Fs(`/editor/tables/${e}/rows/${t}`,{method:"PATCH",body:JSON.stringify({data:r})}),VS=async(e,t,r)=>{const i=Mz[e]||{},a={};Object.entries(r).forEach(([d,f])=>{if(f===""||f===null||f===void 0){a[d]=null;return}switch(i[d]){case"number":a[d]=Number(f);break;case"boolean":a[d]=f===!0||f==="true";break;case"string":a[d]=String(f);break;default:a[d]=f}});const s=await Tz(e,t,a);if(!s.ok)throw new Error(`Failed to update ${e} (Status: ${s.status})`);return(await s.json()).data},Lf={building:[{fieldKey:"building_name",inputType:"text"},{fieldKey:"floor_count",inputType:"text"},{fieldKey:"building_type_id",inputType:"select",lookupTable:"building_type",lookupLabel:"name",lookupValue:"id"}],recognition_code_info:[{fieldKey:"part_row_no",inputType:"text"},{fieldKey:"floor_no",inputType:"text"},{fieldKey:"unit_no",inputType:"text"},{fieldKey:"description",inputType:"text"},{fieldKey:"first_name",inputType:"text"},{fieldKey:"last_name",inputType:"text"},{fieldKey:"workshop_name",inputType:"text"},{fieldKey:"unit_status_id",inputType:"select",lookupTable:"unit_status",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id1",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id2",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id3",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"}],plate:[{fieldKey:"plate_no",inputType:"text"}],parish:[{fieldKey:"name",inputType:"text"}],population_point:[{fieldKey:"population_point_type_id",inputType:"select",lookupTable:"population_point_type",lookupLabel:"name",lookupValue:"id"}]},Bf=(e,t)=>{let r=`?$filter=population_point_id eq ${e} and geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},co=[{id:"population_point",label:" ",endpoint:"/editor/tables/population_point/rows",tableName:"population_point",zIndex:10,getQuery:(e,t)=>{let r=`?$filter=id eq ${e}`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},styles:[{type:"fill",paint:{"fill-color":"#3C79F5","fill-opacity":.15}},{type:"line",paint:{"line-color":"#3C79F5","line-width":3}},{type:"symbol",layout:{"text-field":["format","  ",{},["get","name"],{}],"text-size":14,"text-anchor":"center","text-font":["IranSans-Noto"]},paint:{"text-color":"#3C79F5","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"tour",label:"",endpoint:"/editor/tables/block/rows",tableName:"tour",zIndex:20,getQuery:(e,t)=>{let r=`?$filter=population_point_id eq ${e} and geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$expand=tour(id|tour_id)",r+="&$orderby=updated_at desc",r},injectVillageId:!0,transformResponse:e=>{const t=new Map;return e.forEach(r=>{r.tour&&t.set(r.tour.id,r.tour)}),Array.from(t.values())},styles:[{type:"fill",paint:{"fill-color":"#372C32","fill-opacity":.2}},{type:"line",paint:{"line-color":"#372C32","line-width":2}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#372C32","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"parish",label:"",endpoint:"/editor/tables/parish/rows",tableName:"parish",zIndex:30,getQuery:Bf,styles:[{type:"fill",paint:{"fill-color":"#d87193","fill-opacity":.2}},{type:"line",paint:{"line-color":"#d87193","line-width":1}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#d87193","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"block",label:"",endpoint:"/editor/tables/block/rows",tableName:"block",zIndex:40,getQuery:Bf,styles:[{type:"fill",paint:{"fill-color":"#fd7e14","fill-opacity":.15}},{type:"line",paint:{"line-color":"#fd7e14","line-width":1,"line-dasharray":[2,2]}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#fd7e14","text-halo-color":"#ffffff","text-halo-width":1.5}}]},{id:"passages",label:" ",endpoint:"",tableName:"block",isDisabled:!0,zIndex:50,getQuery:Bf,styles:[{type:"line",paint:{"line-color":"#868e96"}}]},{id:"building",label:"",endpoint:"/editor/tables/building/rows",tableName:"building",zIndex:60,getQuery:Bf,styles:[{type:"fill",paint:{"fill-color":"#729dec","fill-opacity":.4,"fill-outline-color":"#4dabf7"}},{type:"symbol",minzoom:16,layout:{"text-field":["get","building_number"],"text-size":11,"text-font":["IranSans-Noto"]},paint:{"text-color":"#1864ab","text-halo-color":"#ffffff","text-halo-width":1}}]},{id:"plate",label:"",endpoint:"/editor/tables/plate/rows",tableName:"plate",zIndex:70,getQuery:(e,t)=>{let r=`?$filter=building.population_point_id eq ${e} and plate_geometry eq is_not_null`;return t&&(r+=` and updated_at gt '${t.split(" ")[0]}'`),r+="&$orderby=updated_at desc",r},transformResponse:e=>e.map(t=>{const{building:r,...i}=t;return{...i,geometry:t.plate_geometry}}),injectVillageId:!0,styles:[{type:"circle",paint:{"circle-radius":5,"circle-color":"#4A4E4A","circle-stroke-width":1,"circle-stroke-color":"#ffffff"}},{type:"symbol",minzoom:17,layout:{"text-field":["get","plate_name"],"text-size":10,"text-offset":[0,1.2],"text-anchor":"top","text-font":["IranSans-Noto"]},paint:{"text-color":"#4A4E4A","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"recognition_code_info",label:" ",endpoint:"/editor/tables/recognition_code_info/rows",tableName:"recognition_code_info",isDataOnly:!0,zIndex:0,getQuery:(e,t)=>{const r=[`building.population_point_id eq ${e}`];return t&&r.push(`updated_at gt '${t.split(" ")[0]}'`),`?$orderby=updated_at desc&$filter=${r.join(" and ")}&$expand=building(id|building_id)`},styles:[]}],cy={name:"",population_point:" ",population_point_id:" ",plate_no:" ",building_number:" ",floor_count:" ",usage:"",updated_at:" ",created_at:" ",deleted_at:" ",is_rural:" ",code:"",unit_no:" ",floor_no:"",first_name:"",last_name:" ",postalcode:" ",action_name:" ",workshop_name:" ",description:"",unit_status_id:" ",poi_type_id:" ",post_id:" ",nationa_code:" ",province_id:"",county_id:"",zone_id:"",population_point_type_id:"  ",rural_id:"",en_name:" ",grid_code:" ",opt_approval:"  ",rural_name_full:"  ",rural_id_full:"  ",tour_type:" ",is_active:"",area:"",parish_type:" ",tour_id:"",part_id:"",block_id:"",parish_id:"",building_type_id:" ",gnaf_code:" ",building_name:" ",modernization_code:"  ",dg_approval:" ",task_id:"",is_negative:" ",address_id:"",old_plate_no:"  ",plate_name:" ",act_type_id1:"  ()",act_type_id2:"  ()",act_type_id3:"  ()"};function Rz({onClose:e,resetDependency:t}){const[r,i]=C.useState(!1),a=C.useRef(0);return C.useEffect(()=>{i(!1)},[t]),{isExpanded:r,toggleExpand:()=>i(f=>!f),touchHandlers:{onTouchStart:f=>{a.current=f.touches[0].clientY},onTouchEnd:f=>{const g=f.changedTouches[0].clientY-a.current,y=40;g<-y?i(!0):g>y&&(r?i(!1):e())}}}}function Pz({onClick:e,...t}){return R.jsx(iu,{mb:"sm",style:{cursor:"pointer",touchAction:"none",paddingBottom:"8px"},onClick:e,...t,children:R.jsx(ke,{w:40,h:5,bg:"gray.4",style:{borderRadius:10}})})}function Dz(e){const t=hh(async()=>e?co.some(i=>i.tableName===e)?await yr[e].toArray():await yr.lookups.where("tableName").equals(e).toArray():[],[e]);return{data:t,isLoading:t===void 0,isError:!1}}function YS({config:e,name:t,defaultValue:r,label:i,readOnly:a,...s}){const{data:u,isLoading:d,isError:f}=Dz(e.lookupTable),h=e.lookupLabel||"name",g=e.lookupValue||"id",y=u&&u.length>0?h in u[0]:!0,x=u?.map(D=>({value:String(D[g]),label:String(D[h]??D[g])}))||[],w=i||cy[e.fieldKey]||e.fieldKey,_=r!=null?String(r):null,E=x.find(D=>D.value===_),T=!y||!E&&_?` ${w}`:w;if(a||u&&u.length>0&&!y){const D=E?E.label:_||"---";return R.jsx(ou,{name:t,label:T,value:D,readOnly:!0,variant:"filled",rightSection:d?R.jsx(lo,{size:"xs"}):null,error:void 0})}return R.jsx(zv,{name:t,label:T,placeholder:d?"  ...":` ${w}`,data:x,defaultValue:_,searchable:!0,clearable:!0,disabled:d||f,rightSection:d?R.jsx(lo,{size:"xs"}):null,error:void 0,nothingFoundMessage:"  ",...s})}const Az=new Set(["id","deleted_at","geometry_updated_at","dg_approval","dundas_map_id","geometry","geocoded_point","plate_geometry","attachment","subs","available_parts","plate_id","building_id","address_id","relations"]),KS=e=>!Az.has(e),XS=e=>e==null||e===""?"---":typeof e=="boolean"?e?"":"":String(e),WS=e=>e.replace(/_id\d*$/,"");function Nz({properties:e,onClose:t,onStartDrawing:r}){const{entityType:i,id:a}=e||{},{isOffline:s}=Ks(),[u,d]=C.useState(!1),[f,h]=C.useState(!1),g=C.useRef(!1),{isExpanded:y,toggleExpand:x,touchHandlers:w}=Rz({onClose:()=>N(!0),resetDependency:a}),_=hh(()=>{if(!i||!a)return;const U=co.find(A=>A.id===i);if(U)return yr[U.tableName].get(Number(a))},[i,a]),E=_?"plate_no"in _:!1,T=hh(()=>E&&_?.id?yr.recognition_code_info.where("plate_id").equals(_.id).toArray():[],[_,E]),N=(U=!1)=>{if(u){if(g.current&&!window.confirm("  .   "))return;d(!1),g.current=!1}(!u||U)&&t()},D=()=>{d(!0),g.current=!1,y||x()},I=async U=>{U.preventDefault(),h(!0);try{const A={},$={},ae=new Set(Lf[i]?.map(de=>de.fieldKey)||[]),ue=new Set(Lf.recognition_code_info?.map(de=>de.fieldKey)||[]),me=Array.from(U.currentTarget.elements);for(const de of me){if(!de.name||de.type==="submit"||de.type==="button")continue;const _e=de.name,ce=de.value.trim(),Ce=de.getAttribute("data-unit-id"),B=Ce?T?.find(V=>V.id.toString()===Ce)?.[_e]:_?.[_e];(B==null?"":String(B))!==ce&&(Ce&&ue.has(_e)?($[Ce]||($[Ce]={}),$[Ce][_e]=ce):!Ce&&ae.has(_e)&&(A[_e]=ce))}if(Object.keys(A).length>0&&_){const de=await VS(i,_.id,A),_e=co.find(ce=>ce.id===i);_e&&await yr[_e.tableName].put({..._,...de,geometry:de.plate_geometry||_.geometry})}for(const[de,_e]of Object.entries($))if(Object.keys(_e).length>0){const ce=await VS("recognition_code_info",de,_e);await yr.recognition_code_info.put(ce)}d(!1),g.current=!1}catch(A){console.error(A),alert("   .    .")}finally{h(!1)}};if(!e||!_)return null;const F=Object.entries(_).filter(([U])=>KS(U));return F.length>0||E&&T&&T.length>0?R.jsxs(ld,{shadow:"xl",padding:"md",radius:"t-md",withBorder:!0,style:{position:"absolute",bottom:0,left:0,right:0,zIndex:100,maxHeight:y?"100dvh":"40vh",height:y?"100dvh":"auto",transition:"max-height 0.3s ease, height 0.3s ease",display:"flex",flexDirection:"column",borderBottomLeftRadius:0,borderBottomRightRadius:0},children:[R.jsx(Pz,{onClick:x,...w}),R.jsxs(Li,{justify:"space-between",mb:"xs",style:{flexShrink:0},children:[R.jsx(qo,{fw:700,size:"sm",c:"dimmed",children:" "}),R.jsx(Xo,{variant:"subtle",color:"gray",onClick:()=>N(),children:R.jsx(AE,{size:20})})]}),R.jsxs("form",{onChange:()=>{g.current=!0},onSubmit:I,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[R.jsxs(ke,{style:{overflowY:"auto",flex:1,paddingBottom:"4px"},children:[F.length>0&&R.jsx($i,{gap:"xs",children:F.map(([U,A])=>{const $=Lf[i]?.find(de=>de.fieldKey===U),ae=u&&$,ue=`${U}-${u}-${A}`,me=U.endsWith("_id")||/_id\d+$/.test(U);if($?.inputType==="select"||me){const de=$||{fieldKey:U,inputType:"select",lookupTable:WS(U),lookupLabel:"name",lookupValue:"id"};return R.jsx(YS,{name:U,config:de,defaultValue:A,readOnly:!ae},ue)}return R.jsx(ou,{name:U,label:cy[U]||U,defaultValue:ae?A:XS(A),readOnly:!ae,variant:!u||!ae?"filled":"default"},ue)})}),E&&T&&T.length>0&&R.jsxs(ke,{mt:"md",children:[R.jsxs(qo,{fw:700,size:"sm",c:"dimmed",mb:"xs",children:["  (",T.length,")"]}),R.jsx(ri,{variant:"separated",children:T.map((U,A)=>R.jsxs(ri.Item,{value:U.id.toString(),children:[R.jsx(ri.Control,{children:U.unit_no?` ${U.unit_no}`:` ${A+1}`}),R.jsx(ri.Panel,{children:R.jsx($i,{gap:"xs",children:Object.entries(U).filter(([$])=>KS($)).map(([$,ae])=>{const ue=Lf.recognition_code_info?.find(ce=>ce.fieldKey===$),me=u&&ue,de=`unit-${U.id}-${$}-${u}-${ae}`,_e=$.endsWith("_id")||/_id\d+$/.test($);if(ue?.inputType==="select"||_e){const ce=ue||{fieldKey:$,inputType:"select",lookupTable:WS($),lookupLabel:"name",lookupValue:"id"};return R.jsx(YS,{name:$,"data-unit-id":U.id,config:ce,defaultValue:ae,readOnly:!me},de)}return R.jsx(ou,{name:$,"data-unit-id":U.id,label:cy[$]||$,defaultValue:me?ae:XS(ae),readOnly:!me,variant:!u||!me?"filled":"default"},de)})})})]},U.id))})]})]}),R.jsx(ke,{mt:"md",pt:"sm",style:{borderTop:"1px solid #eee",flexShrink:0},children:u?R.jsxs(Li,{grow:!0,children:[R.jsx(ii,{variant:"outline",onClick:()=>N(),type:"button",children:""}),R.jsx(ii,{color:"green",type:"submit",loading:f,children:""})]}):R.jsxs(Li,{grow:!0,children:[R.jsx(ii,{onClick:D,disabled:s,type:"button",children:" "}),R.jsx(ii,{variant:"outline",color:"blue",onClick:()=>{if(_?.geometry){let U=_.name;i==="building"&&(U=_.building_number),i==="plate"&&(U=_.plate_name),r?.({id:_.id,entityType:i,featureName:U,geometry:_.geometry})}},disabled:s,type:"button",children:" "})]})})]},`form-${_.id}-${u}`)]}):(t(),null)}const Iz="modulepreload",jz=function(e){return"/dehyar-pwa-deploy/"+e},QS={},zz=function(t,r,i){let a=Promise.resolve();if(r&&r.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),d=u?.nonce||u?.getAttribute("nonce");a=f(r.map(h=>{if(h=jz(h),h in QS)return;QS[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const x=document.createElement("link");if(x.rel=g?"stylesheet":Iz,g||(x.as="script"),x.crossOrigin="",x.href=h,d&&x.setAttribute("nonce",d),document.head.appendChild(x),g)return new Promise((w,_)=>{x.addEventListener("load",w),x.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(u){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=u,window.dispatchEvent(d),!d.defaultPrevented)throw u}return a.then(u=>{for(const d of u||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},FE=C.createContext(null);function Fz(){const e=C.useContext(FE)?.maps,t=C.useContext(Vs);return C.useMemo(()=>({...e,current:t?.map}),[e,t])}function kz(e,t){const r=Array.isArray(e)?e[0]:e?e.x:0,i=Array.isArray(e)?e[1]:e?e.y:0,a=Array.isArray(t)?t[0]:t?t.x:0,s=Array.isArray(t)?t[1]:t?t.y:0;return r===a&&i===s}function Ur(e,t){if(e===t)return!0;if(!e||!t)return!1;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!Ur(e[r],t[r]))return!1;return!0}else if(Array.isArray(t))return!1;if(typeof e=="object"&&typeof t=="object"){const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(const a of r)if(!t.hasOwnProperty(a)||!Ur(e[a],t[a]))return!1;return!0}return!1}function ZS(e){return{longitude:e.center.lng,latitude:e.center.lat,zoom:e.zoom,pitch:e.pitch,bearing:e.bearing,padding:e.padding}}function JS(e,t){const r=t.viewState||t,i={};if("longitude"in r&&"latitude"in r&&(r.longitude!==e.center.lng||r.latitude!==e.center.lat)){const a=e.center.constructor;i.center=new a(r.longitude,r.latitude)}return"zoom"in r&&r.zoom!==e.zoom&&(i.zoom=r.zoom),"bearing"in r&&r.bearing!==e.bearing&&(i.bearing=r.bearing),"pitch"in r&&r.pitch!==e.pitch&&(i.pitch=r.pitch),r.padding&&e.padding&&!Ur(r.padding,e.padding)&&(i.padding=r.padding),i}const Lz=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function e1(e){if(!e)return null;if(typeof e=="string"||("toJS"in e&&(e=e.toJS()),!e.layers))return e;const t={};for(const i of e.layers)t[i.id]=i;const r=e.layers.map(i=>{let a=null;"interactive"in i&&(a=Object.assign({},i),delete a.interactive);const s=t[i.ref];if(s){a=a||Object.assign({},i),delete a.ref;for(const u of Lz)u in s&&(a[u]=s[u])}return a||i});return{...e,layers:r}}const t1={version:8,sources:{},layers:[]},n1={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},r1={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},i1={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Bz=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],Uz=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class su{constructor(t,r,i){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=a=>{const s=this.props[i1[a.type]];s?s(a):a.type==="error"&&console.error(a.error)},this._onCameraEvent=a=>{if(this._internalUpdate)return;a.viewState=this._propsedCameraUpdate||ZS(this._map.transform);const s=this.props[r1[a.type]];s&&s(a)},this._onCameraUpdate=a=>this._internalUpdate?a:(this._propsedCameraUpdate=ZS(a),JS(a,this.props)),this._onPointerEvent=a=>{(a.type==="mousemove"||a.type==="mouseout")&&this._updateHover(a);const s=this.props[n1[a.type]];s&&(this.props.interactiveLayerIds&&a.type!=="mouseover"&&a.type!=="mouseout"&&(a.features=this._hoveredFeatures||this._queryRenderedFeatures(a.point)),s(a),delete a.features)},this._MapClass=t,this.props=r,this._initialize(i)}get map(){return this._map}setProps(t){const r=this.props;this.props=t;const i=this._updateSettings(t,r),a=this._updateSize(t),s=this._updateViewState(t);this._updateStyle(t,r),this._updateStyleComponents(t),this._updateHandlers(t,r),(i||a||s&&!this._map.isMoving())&&this.redraw()}static reuse(t,r){const i=su.savedMaps.pop();if(!i)return null;const a=i.map,s=a.getContainer();for(r.className=s.className;s.childNodes.length>0;)r.appendChild(s.childNodes[0]);a._container=r;const u=a._resizeObserver;u&&(u.disconnect(),u.observe(r)),i.setProps({...t,styleDiffing:!1}),a.resize();const{initialViewState:d}=t;return d&&(d.bounds?a.fitBounds(d.bounds,{...d.fitBoundsOptions,duration:0}):i._updateViewState(d)),a.isStyleLoaded()?a.fire("load"):a.once("style.load",()=>a.fire("load")),a._update(),i}_initialize(t){const{props:r}=this,{mapStyle:i=t1}=r,a={...r,...r.initialViewState,container:t,style:e1(i)},s=a.initialViewState||a.viewState||a;if(Object.assign(a,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),r.gl){const d=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=d,r.gl)}const u=new this._MapClass(a);s.padding&&u.setPadding(s.padding),r.cursor&&(u.getCanvas().style.cursor=r.cursor),u.transformCameraUpdate=this._onCameraUpdate,u.on("style.load",()=>{this._styleComponents={light:u.getLight(),sky:u.getSky(),projection:u.getProjection?.(),terrain:u.getTerrain()},this._updateStyleComponents(this.props)}),u.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const d in n1)u.on(d,this._onPointerEvent);for(const d in r1)u.on(d,this._onCameraEvent);for(const d in i1)u.on(d,this._onEvent);this._map=u}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),su.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const t=this._map;t.style&&(t._frame&&(t._frame.cancel(),t._frame=null),t._render())}_updateSize(t){const{viewState:r}=t;if(r){const i=this._map;if(r.width!==i.transform.width||r.height!==i.transform.height)return i.resize(),!0}return!1}_updateViewState(t){const r=this._map,i=r.transform;if(!r.isMoving()){const s=JS(i,t);if(Object.keys(s).length>0)return this._internalUpdate=!0,r.jumpTo(s),this._internalUpdate=!1,!0}return!1}_updateSettings(t,r){const i=this._map;let a=!1;for(const s of Bz)s in t&&!Ur(t[s],r[s])&&(a=!0,i[`set${s[0].toUpperCase()}${s.slice(1)}`]?.call(i,t[s]));return a}_updateStyle(t,r){if(t.cursor!==r.cursor&&(this._map.getCanvas().style.cursor=t.cursor||""),t.mapStyle!==r.mapStyle){const{mapStyle:i=t1,styleDiffing:a=!0}=t,s={diff:a};"localIdeographFontFamily"in t&&(s.localIdeographFontFamily=t.localIdeographFontFamily),this._map.setStyle(e1(i),s)}}_updateStyleComponents({light:t,projection:r,sky:i,terrain:a}){const s=this._map,u=this._styleComponents;s.style._loaded&&(t&&!Ur(t,u.light)&&(u.light=t,s.setLight(t)),r&&!Ur(r,u.projection)&&r!==u.projection?.type&&(u.projection=typeof r=="string"?{type:r}:r,s.setProjection?.(u.projection)),i&&!Ur(i,u.sky)&&(u.sky=i,s.setSky(i)),a!==void 0&&!Ur(a,u.terrain)&&(!a||s.getSource(a.source))&&(u.terrain=a,s.setTerrain(a)))}_updateHandlers(t,r){const i=this._map;for(const a of Uz){const s=t[a]??!0,u=r[a]??!0;Ur(s,u)||(s?i[a].enable(s):i[a].disable())}}_queryRenderedFeatures(t){const r=this._map,{interactiveLayerIds:i=[]}=this.props;try{return r.queryRenderedFeatures(t,{layers:i.filter(r.getLayer.bind(r))})}catch{return[]}}_updateHover(t){const{props:r}=this;if(r.interactiveLayerIds&&(r.onMouseMove||r.onMouseEnter||r.onMouseLeave)){const a=t.type,s=this._hoveredFeatures?.length>0,u=this._queryRenderedFeatures(t.point),d=u.length>0;!d&&s&&(t.type="mouseleave",this._onPointerEvent(t)),this._hoveredFeatures=u,d&&!s&&(t.type="mouseenter",this._onPointerEvent(t)),t.type=a}else this._hoveredFeatures=null}}su.savedMaps=[];const $z=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function Hz(e){if(!e)return null;const t=e.map,r={getMap:()=>t};for(const i of qz(t))!(i in r)&&!$z.includes(i)&&(r[i]=t[i].bind(t));return r}function qz(e){const t=new Set;let r=e;for(;r;){for(const i of Object.getOwnPropertyNames(r))i[0]!=="_"&&typeof e[i]=="function"&&i!=="fire"&&i!=="setEventedParent"&&t.add(i);r=Object.getPrototypeOf(r)}return Array.from(t)}const Gz=typeof document<"u"?C.useLayoutEffect:C.useEffect;function Vz(e,t){const{RTLTextPlugin:r,maxParallelImageRequests:i,workerCount:a,workerUrl:s}=t;if(r&&e.getRTLTextPluginStatus&&e.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:u,lazy:d=!0}=typeof r=="string"?{pluginUrl:r}:r;e.setRTLTextPlugin(u,f=>{f&&console.error(f)},d)}i!==void 0&&e.setMaxParallelImageRequests(i),a!==void 0&&e.setWorkerCount(a),s!==void 0&&e.setWorkerUrl(s)}const Vs=C.createContext(null);function Yz(e,t){const r=C.useContext(FE),[i,a]=C.useState(null),s=C.useRef(),{current:u}=C.useRef({mapLib:null,map:null});C.useEffect(()=>{const h=e.mapLib;let g=!0,y;return Promise.resolve(h||zz(()=>import("./maplibre-gl-D_1KeYwG.js").then(x=>x.m),[])).then(x=>{if(!g)return;if(!x)throw new Error("Invalid mapLib");const w="Map"in x?x:x.default;if(!w.Map)throw new Error("Invalid mapLib");Vz(w,e),e.reuseMaps&&(y=su.reuse(e,s.current)),y||(y=new su(w.Map,e,s.current)),u.map=Hz(y),u.mapLib=w,a(y),r?.onMapMount(u.map,e.id)}).catch(x=>{const{onError:w}=e;w?w({type:"error",target:null,originalEvent:null,error:x}):console.error(x)}),()=>{g=!1,y&&(r?.onMapUnmount(e.id),e.reuseMaps?y.recycle():y.destroy())}},[]),Gz(()=>{i&&i.setProps(e)}),C.useImperativeHandle(t,()=>u.map,[i]);const d=C.useMemo(()=>({position:"relative",width:"100%",height:"100%",...e.style}),[e.style]),f={height:"100%"};return C.createElement("div",{id:e.id,ref:s,style:d},i&&C.createElement(Vs.Provider,{value:u},C.createElement("div",{"mapboxgl-children":"",style:f},e.children)))}const Kz=C.forwardRef(Yz),Xz=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function na(e,t){if(!e||!t)return;const r=e.style;for(const i in t){const a=t[i];Number.isFinite(a)&&!Xz.test(i)?r[i]=`${a}px`:r[i]=a}}function kE(e,t){if(e===t)return null;const r=o1(e),i=o1(t),a=[];for(const s of i)r.has(s)||a.push(s);for(const s of r)i.has(s)||a.push(s);return a.length===0?null:a}function o1(e){return new Set(e?e.trim().split(/\s+/):[])}C.memo(C.forwardRef((e,t)=>{const{map:r,mapLib:i}=C.useContext(Vs),a=C.useRef({props:e}),s=C.useMemo(()=>{let N=!1;C.Children.forEach(e.children,F=>{F&&(N=!0)});const D={...e,element:N?document.createElement("div"):void 0},I=new i.Marker(D);return I.setLngLat([e.longitude,e.latitude]),I.getElement().addEventListener("click",F=>{a.current.props.onClick?.({type:"click",target:I,originalEvent:F})}),I.on("dragstart",F=>{const k=F;k.lngLat=s.getLngLat(),a.current.props.onDragStart?.(k)}),I.on("drag",F=>{const k=F;k.lngLat=s.getLngLat(),a.current.props.onDrag?.(k)}),I.on("dragend",F=>{const k=F;k.lngLat=s.getLngLat(),a.current.props.onDragEnd?.(k)}),I},[]);C.useEffect(()=>(s.addTo(r.getMap()),()=>{s.remove()}),[]);const{longitude:u,latitude:d,offset:f,style:h,draggable:g=!1,popup:y=null,rotation:x=0,rotationAlignment:w="auto",pitchAlignment:_="auto"}=e;C.useEffect(()=>{na(s.getElement(),h)},[h]),C.useImperativeHandle(t,()=>s,[]);const E=a.current.props;(s.getLngLat().lng!==u||s.getLngLat().lat!==d)&&s.setLngLat([u,d]),f&&!kz(s.getOffset(),f)&&s.setOffset(f),s.isDraggable()!==g&&s.setDraggable(g),s.getRotation()!==x&&s.setRotation(x),s.getRotationAlignment()!==w&&s.setRotationAlignment(w),s.getPitchAlignment()!==_&&s.setPitchAlignment(_),s.getPopup()!==y&&s.setPopup(y);const T=kE(E.className,e.className);if(T)for(const N of T)s.toggleClassName(N);return a.current.props=e,Bs.createPortal(e.children,s.getElement())}));C.memo(C.forwardRef((e,t)=>{const{map:r,mapLib:i}=C.useContext(Vs),a=C.useMemo(()=>document.createElement("div"),[]),s=C.useRef({props:e}),u=C.useMemo(()=>{const d={...e},f=new i.Popup(d);return f.setLngLat([e.longitude,e.latitude]),f.once("open",h=>{s.current.props.onOpen?.(h)}),f},[]);if(C.useEffect(()=>{const d=f=>{s.current.props.onClose?.(f)};return u.on("close",d),u.setDOMContent(a).addTo(r.getMap()),()=>{u.off("close",d),u.isOpen()&&u.remove()}},[]),C.useEffect(()=>{na(u.getElement(),e.style)},[e.style]),C.useImperativeHandle(t,()=>u,[]),u.isOpen()){const d=s.current.props;(u.getLngLat().lng!==e.longitude||u.getLngLat().lat!==e.latitude)&&u.setLngLat([e.longitude,e.latitude]),e.offset&&!Ur(d.offset,e.offset)&&u.setOffset(e.offset),(d.anchor!==e.anchor||d.maxWidth!==e.maxWidth)&&(u.options.anchor=e.anchor,u.setMaxWidth(e.maxWidth));const f=kE(d.className,e.className);if(f)for(const h of f)u.toggleClassName(h);s.current.props=e}return Bs.createPortal(e.children,a)}));function Ys(e,t,r,i){const a=C.useContext(Vs),s=C.useMemo(()=>e(a),[]);return C.useEffect(()=>{const u=t,d=null,f=typeof t=="function"?t:null,{map:h}=a;return h.hasControl(s)||(h.addControl(s,u?.position),d&&d(a)),()=>{f&&f(a),h.hasControl(s)&&h.removeControl(s)}},[]),s}function Wz(e){const t=Ys(({mapLib:r})=>new r.AttributionControl(e),{position:e.position});return C.useEffect(()=>{na(t._container,e.style)},[e.style]),null}C.memo(Wz);function Qz(e){const t=Ys(({mapLib:r})=>new r.FullscreenControl({container:e.containerId&&document.getElementById(e.containerId)}),{position:e.position});return C.useEffect(()=>{na(t._controlContainer,e.style)},[e.style]),null}C.memo(Qz);function Zz(e,t){const r=C.useRef({props:e}),i=Ys(({mapLib:a})=>{const s=new a.GeolocateControl(e),u=s._setupUI;return s._setupUI=()=>{s._container.hasChildNodes()||u()},s.on("geolocate",d=>{r.current.props.onGeolocate?.(d)}),s.on("error",d=>{r.current.props.onError?.(d)}),s.on("outofmaxbounds",d=>{r.current.props.onOutOfMaxBounds?.(d)}),s.on("trackuserlocationstart",d=>{r.current.props.onTrackUserLocationStart?.(d)}),s.on("trackuserlocationend",d=>{r.current.props.onTrackUserLocationEnd?.(d)}),s},{position:e.position});return r.current.props=e,C.useImperativeHandle(t,()=>i,[]),C.useEffect(()=>{na(i._container,e.style)},[e.style]),null}C.memo(C.forwardRef(Zz));function Jz(e){const t=Ys(({mapLib:r})=>new r.NavigationControl(e),{position:e.position});return C.useEffect(()=>{na(t._container,e.style)},[e.style]),null}const eF=C.memo(Jz);function tF(e){const t=Ys(({mapLib:s})=>new s.ScaleControl(e),{position:e.position}),r=C.useRef(e),i=r.current;r.current=e;const{style:a}=e;return e.maxWidth!==void 0&&e.maxWidth!==i.maxWidth&&(t.options.maxWidth=e.maxWidth),e.unit!==void 0&&e.unit!==i.unit&&t.setUnit(e.unit),C.useEffect(()=>{na(t._container,a)},[a]),null}C.memo(tF);function nF(e){const t=Ys(({mapLib:r})=>new r.TerrainControl(e),{position:e.position});return C.useEffect(()=>{na(t._container,e.style)},[e.style]),null}C.memo(nF);function rF(e){const t=Ys(({mapLib:r})=>new r.LogoControl(e),{position:e.position});return C.useEffect(()=>{na(t._container,e.style)},[e.style]),null}C.memo(rF);function ph(e,t){if(!e)throw new Error(t)}let iF=0;function oF(e,t,r){if(e.style&&e.style._loaded){const i={...r};return delete i.id,delete i.children,e.addSource(t,i),e.getSource(t)}return null}function aF(e,t,r){ph(t.id===r.id,"source id changed"),ph(t.type===r.type,"source type changed");let i="",a=0;for(const u in t)u!=="children"&&u!=="id"&&!Ur(r[u],t[u])&&(i=u,a++);if(!a)return;const s=t.type;if(s==="geojson")e.setData(t.data);else if(s==="image")e.updateImage({url:t.url,coordinates:t.coordinates});else switch(i){case"coordinates":e.setCoordinates?.(t.coordinates);break;case"url":e.setUrl?.(t.url);break;case"tiles":e.setTiles?.(t.tiles);break;default:console.warn(`Unable to update <Source> prop: ${i}`)}}function sF(e){const t=C.useContext(Vs).map.getMap(),r=C.useRef(e),[,i]=C.useState(0),a=C.useMemo(()=>e.id||`jsx-source-${iF++}`,[]);C.useEffect(()=>{if(t){const u=()=>setTimeout(()=>i(d=>d+1),0);return t.on("styledata",u),u(),()=>{if(t.off("styledata",u),t.style&&t.style._loaded&&t.getSource(a)){const d=t.getStyle()?.layers;if(d)for(const f of d)f.source===a&&t.removeLayer(f.id);t.removeSource(a)}}}},[t]);let s=t&&t.style&&t.getSource(a);return s?aF(s,e,r.current):s=oF(t,a,e),r.current=e,s&&C.Children.map(e.children,u=>u&&C.cloneElement(u,{source:a}))||null}function lF(e,t,r,i){if(ph(r.id===i.id,"layer id changed"),ph(r.type===i.type,"layer type changed"),r.type==="custom"||i.type==="custom")return;const{layout:a={},paint:s={},filter:u,minzoom:d,maxzoom:f,beforeId:h}=r;if(h!==i.beforeId&&e.moveLayer(t,h),a!==i.layout){const g=i.layout||{};for(const y in a)Ur(a[y],g[y])||e.setLayoutProperty(t,y,a[y]);for(const y in g)a.hasOwnProperty(y)||e.setLayoutProperty(t,y,void 0)}if(s!==i.paint){const g=i.paint||{};for(const y in s)Ur(s[y],g[y])||e.setPaintProperty(t,y,s[y]);for(const y in g)s.hasOwnProperty(y)||e.setPaintProperty(t,y,void 0)}Ur(u,i.filter)||e.setFilter(t,u),(d!==i.minzoom||f!==i.maxzoom)&&e.setLayerZoomRange(t,d,f)}function uF(e,t,r){if(e.style&&e.style._loaded&&(!("source"in r)||e.getSource(r.source))){const i={...r,id:t};delete i.beforeId,e.addLayer(i,r.beforeId)}}let cF=0;function dF(e){const t=C.useContext(Vs).map.getMap(),r=C.useRef(e),[,i]=C.useState(0),a=C.useMemo(()=>e.id||`jsx-layer-${cF++}`,[]);if(C.useEffect(()=>{if(t){const u=()=>i(d=>d+1);return t.on("styledata",u),u(),()=>{t.off("styledata",u),t.style&&t.style._loaded&&t.getLayer(a)&&t.removeLayer(a)}}},[t]),t&&t.style&&t.getLayer(a))try{lF(t,a,e,r.current)}catch(u){console.warn(u)}else uF(t,a,e);return r.current=e,null}function LE(e){const{user:t}=Ks(),r=co.find(u=>u.id===e),a=t?.action_areas?.find(u=>u.action_area.population_point)?.action_area.population_point?.id;return{features:hh(async()=>{if(!a||!r||r.isDisabled)return[];const u=yr[r.tableName],d=parseInt(a.toString());return e==="population_point"?await u.where("id").equals(d).toArray():await u.where("population_point_id").equals(d).toArray()},[a,e])||[],config:r}}function fF({layerId:e,hiddenFeatureId:t}){const{features:r,config:i}=LE(e),a=C.useMemo(()=>{if(!r||r.length===0)return null;const s=t?r.filter(u=>u.id!==t):r;return NE(s.map(u=>{const d={id:u.id,name:u.name,building_number:u.building_number,plate_name:u.plate_name,entityType:e};return Ya(u.geometry,d,{id:u.id})}))},[r,e,t]);return!i||!a?null:R.jsx(sF,{id:`source-${e}`,type:"geojson",data:a,children:i.styles.map((s,u)=>R.jsx(dF,{id:`layer-${e}-${u}`,...s,type:s.type},`${e}-${u}`))})}function hF({activeLayers:e,drawingMode:t}){const r=e.filter(i=>{const a=co.find(s=>s.id===i);return a&&!a.isDataOnly});return R.jsx(R.Fragment,{children:r.map(i=>R.jsx(fF,{layerId:i,hiddenFeatureId:t?.entityType===i?t.id:void 0},i))})}function Wt(){return Wt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var i in r)({}).hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Wt.apply(null,arguments)}const Ua="draw",eu="edit",BE="deleteCoordinate",a1="insertMidpoint";var _t;(function(e){e.Commit="commit",e.Provisional="provisional",e.Finish="finish"})(_t||(_t={}));const pF="https://raw.githubusercontent.com/JamesLMilner/terra-draw/refs/heads/main/assets/markers/marker-blue.png",Ln={SELECTED:"selected",MID_POINT:"midPoint",SELECTION_POINT_FEATURE_ID:"selectionPointFeatureId",SELECTION_POINT:"selectionPoint"},ft={MODE:"mode",CURRENTLY_DRAWING:"currentlyDrawing",EDITED:"edited",CLOSING_POINT:"closingPoint",SNAPPING_POINT:"snappingPoint",COORDINATE_POINT:"coordinatePoint",COORDINATE_POINT_FEATURE_ID:"coordinatePointFeatureId",COORDINATE_POINT_IDS:"coordinatePointIds",PROVISIONAL_COORDINATE_COUNT:"provisionalCoordinateCount",COMMITTED_COORDINATE_COUNT:"committedCoordinateCount",MARKER:"marker"},Hc=10;function Dg(e){return!!(e&&typeof e=="object"&&e!==null&&!Array.isArray(e))}function s1(e){return!!(e&&typeof e=="object"&&"properties"in e&&typeof e.properties=="object"&&e.properties!==null&&"mode"in e.properties)}function l1(e){return!!(function(t){return typeof t=="number"&&!isNaN(new Date(t).valueOf())})(e)}const mF="Feature mode property does not match the mode being added to";var lu;(function(e){e.Drawing="drawing",e.Select="select",e.Static="static",e.Render="render"})(lu||(lu={}));const gF={rightClick:!0,contextMenu:!1,leftClick:!0,onDragStart:!0,onDrag:!0,onDragEnd:!0};class md{get state(){return this._state}set state(t){throw new Error("Please use the modes lifecycle methods")}get styles(){return this._styles}set styles(t){if(typeof t!="object")throw new Error("Styling must be an object");this.onStyleChange&&this.onStyleChange([],"styling"),this._styles=t}registerBehaviors(t){}constructor(t,r=!1){this._state="unregistered",this._styles={},this.pointerEvents=gF,this.behaviors=[],this.validate=void 0,this.pointerDistance=40,this.coordinatePrecision=void 0,this.onStyleChange=void 0,this.store=void 0,this.projection="web-mercator",this.setDoubleClickToZoom=void 0,this.unproject=void 0,this.project=void 0,this.setCursor=void 0,this.isInitialUpdate=!1,this.type=lu.Drawing,this.mode="base",r?this.isInitialUpdate=!0:this.updateOptions(Wt({},t))}updateOptions(t){t!=null&&t.styles&&(this.styles=Wt({},this._styles,t.styles)),t!=null&&t.pointerDistance&&(this.pointerDistance=t.pointerDistance),t!=null&&t.validation&&(this.validate=t&&t.validation),t!=null&&t.projection&&(this.projection=t.projection),t?.pointerEvents!==void 0&&(this.pointerEvents=t.pointerEvents),t!=null&&t.modeName&&this.isInitialUpdate===!0&&(this.mode=t.modeName),this.isInitialUpdate=!1}allowPointerEvent(t,r){return typeof t=="boolean"?t:typeof t!="function"||t(r)}setDrawing(){if(this._state!=="started")throw new Error("Mode must be unregistered or stopped to start");this._state="drawing"}setStarted(){if(this._state!=="stopped"&&this._state!=="registered"&&this._state!=="drawing"&&this._state!=="selecting")throw new Error("Mode must be unregistered or stopped to start");this._state="started",this.setDoubleClickToZoom(!1)}setStopped(){if(this._state!=="started")throw new Error("Mode must be started to be stopped");this._state="stopped",this.setDoubleClickToZoom(!0)}register(t){if(this._state!=="unregistered")throw new Error("Can not register unless mode is unregistered");this._state="registered",this.store=t.store,this.store.registerOnChange(t.onChange),this.setDoubleClickToZoom=t.setDoubleClickToZoom,this.project=t.project,this.unproject=t.unproject,this.onSelect=t.onSelect,this.onDeselect=t.onDeselect,this.setCursor=t.setCursor,this.onStyleChange=t.onChange,this.onFinish=t.onFinish,this.coordinatePrecision=t.coordinatePrecision,this.registerBehaviors({mode:t.mode,store:this.store,project:this.project,unproject:this.unproject,pointerDistance:this.pointerDistance,coordinatePrecision:t.coordinatePrecision,projection:this.projection})}validateFeature(t){return this.performFeatureValidation(t)}afterFeatureAdded(t){}afterFeatureUpdated(t){}performFeatureValidation(t){if(this._state==="unregistered")throw new Error("Mode must be registered");const r=(function(i,a){let s;if(Dg(i))if(i.id==null)s="Feature has no id";else if(typeof i.id!="string"&&typeof i.id!="number")s="Feature must be string or number as per GeoJSON spec";else if(a(i.id))if(Dg(i.geometry))if(Dg(i.properties))if(typeof i.geometry.type=="string"&&["Polygon","LineString","Point"].includes(i.geometry.type))if(Array.isArray(i.geometry.coordinates)){if(!i.properties.mode||typeof i.properties.mode!="string")return{valid:!1,reason:"Feature does not have a valid mode property"}}else s="Feature coordinates is not an array";else s="Feature is not Point, LineString or Polygon";else s="Feature has no properties";else s="Feature has no geometry";else s="Feature must match the id strategy (default is UUID4)";else s="Feature is not object";return s?{valid:!1,reason:s}:{valid:!0}})(t,this.store.idStrategy.isValidId);if(this.validate){const i=this.validate(t,{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:_t.Provisional});return{valid:r.valid&&i.valid,reason:i.reason}}return{valid:r.valid,reason:r.reason}}validateModeFeature(t,r){const i=this.performFeatureValidation(t);return i.valid?t.properties.mode!==this.mode?{valid:!1,reason:mF}:r(t):{valid:!1,reason:i.reason}}onFinish(t,r){}onDeselect(t){}onSelect(t){}onKeyDown(t){}onKeyUp(t){}onMouseMove(t){}onClick(t){}onDragStart(t,r){}onDrag(t,r){}onDragEnd(t,r){}getHexColorStylingValue(t,r,i){return this.getStylingValue(t,r,i)}getNumericStylingValue(t,r,i){return this.getStylingValue(t,r,i)}getUrlStylingValue(t,r,i){return this.getStylingValue(t,r,i)}getStylingValue(t,r,i){return t===void 0?r:typeof t=="function"?t(i):t}}class yF extends md{constructor(...t){super(...t),this.type=lu.Select}}function Yo(e,t){const r=h=>h*Math.PI/180,i=r(e[1]),a=r(e[0]),s=r(t[1]),u=s-i,d=r(t[0])-a,f=Math.sin(u/2)*Math.sin(u/2)+Math.cos(i)*Math.cos(s)*Math.sin(d/2)*Math.sin(d/2);return 2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*6371e3/1e3}const UE=63710088e-1;function $r(e){return e%360*Math.PI/180}function vF(e){return e/6371.0088}function uu(e){return e%(2*Math.PI)*180/Math.PI}function Mn(e,t=9){const r=Math.pow(10,t);return Math.round(e*r)/r}const u1=57.29577951308232,c1=.017453292519943295,mh=6378137,On=(e,t)=>({x:e===0?0:e*c1*mh,y:t===0?0:Math.log(Math.tan(Math.PI/4+t*c1/2))*mh}),cu=(e,t)=>({lng:e===0?0:u1*(e/mh),lat:t===0?0:(2*Math.atan(Math.exp(t/mh))-Math.PI/2)*u1});function bF(e){let t;if(e.geometry.type==="Polygon")t=e.geometry.coordinates;else{if(e.geometry.type!=="LineString")throw new Error("Self intersects only accepts Polygons and LineStrings");t=[e.geometry.coordinates]}const r=[];for(let s=0;s<t.length;s++)for(let u=0;u<t[s].length-1;u++)for(let d=0;d<t.length;d++)for(let f=0;f<t[d].length-1;f++)a(s,u,d,f);return r.length>0;function i(s){return s<0||s>1}function a(s,u,d,f){const h=t[s][u],g=t[s][u+1],y=t[d][f],x=t[d][f+1],w=(function(T,N,D,I){if(Uf(T,D)||Uf(T,I)||Uf(N,D)||Uf(I,D))return null;const F=T[0],k=T[1],U=N[0],A=N[1],$=D[0],ae=D[1],ue=I[0],me=I[1],de=(F-U)*(ae-me)-(k-A)*($-ue);return de===0?null:[((F*A-k*U)*($-ue)-(F-U)*($*me-ae*ue))/de,((F*A-k*U)*(ae-me)-(k-A)*($*me-ae*ue))/de]})(h,g,y,x);if(w===null)return;let _,E;_=g[0]!==h[0]?(w[0]-h[0])/(g[0]-h[0]):(w[1]-h[1])/(g[1]-h[1]),E=x[0]!==y[0]?(w[0]-y[0])/(x[0]-y[0]):(w[1]-y[1])/(x[1]-y[1]),i(_)||i(E)||(w.toString(),r.push(w))}}function Uf(e,t){return e[0]===t[0]&&e[1]===t[1]}function ip(e,t){return d1(e[0])<=t&&d1(e[1])<=t}function Kv(e){return e.length===2&&typeof e[0]=="number"&&typeof e[1]=="number"&&e[0]!==1/0&&e[1]!==1/0&&(r=e[0])>=-180&&r<=180&&(t=e[1])>=-90&&t<=90;var t,r}function d1(e){let t=1,r=0;for(;Math.round(e*t)/t!==e;)t*=10,r++;return r}const xF="Feature has holes",wF="Feature has less than 4 coordinates",SF="Feature has invalid coordinates",CF="Feature coordinates are not closed";function _F(e,t){if(e.geometry.type!=="Polygon")return{valid:!1,reason:"Feature is not a Polygon"};if(e.geometry.coordinates.length!==1)return{valid:!1,reason:xF};if(e.geometry.coordinates[0].length<4)return{valid:!1,reason:wF};for(let a=0;a<e.geometry.coordinates[0].length;a++){if(!Kv(e.geometry.coordinates[0][a]))return{valid:!1,reason:SF};if(!ip(e.geometry.coordinates[0][a],t))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return(r=e.geometry.coordinates[0][0])[0]!==(i=e.geometry.coordinates[0][e.geometry.coordinates[0].length-1])[0]||r[1]!==i[1]?{valid:!1,reason:CF}:{valid:!0};var r,i}class tr{constructor({store:t,mode:r,project:i,unproject:a,pointerDistance:s,coordinatePrecision:u,projection:d}){this.store=void 0,this.mode=void 0,this.project=void 0,this.unproject=void 0,this.pointerDistance=void 0,this.coordinatePrecision=void 0,this.projection=void 0,this.store=t,this.mode=r,this.project=i,this.unproject=a,this.pointerDistance=s,this.coordinatePrecision=u,this.projection=d}}function f1(e){if(!(function(r){const i=r.coordinates[0];let a=0;for(let s=0;s<i.length-1;s++){const[u,d]=i[s],[f,h]=i[s+1];a+=(f-u)*(h+d)}return a<0})(e))return{type:"Polygon",coordinates:[e.coordinates[0].reverse()]}}const gh="insert-before",du="insert-after",Or="update",Ds="delete",oi="replace";class op extends tr{constructor(t,r){super(t),this.options=void 0,this.options=r}createPoint({coordinates:t,properties:r,context:i}){if(i?.updateType!==_t.Finish||this.validateGeometryWithUpdateType({geometry:{type:"Point",coordinates:t},properties:r,updateType:_t.Finish}))return this.handleCreateFeature({geometry:{type:"Point",coordinates:t},properties:r})}createLineString({coordinates:t,properties:r}){return this.handleCreateFeature({geometry:{type:"LineString",coordinates:t},properties:r})}createPolygon({coordinates:t,properties:r}){const i=f1({coordinates:[t]});return this.handleCreateFeature({geometry:{type:"Polygon",coordinates:i?i.coordinates:[t]},properties:r})}createGuidancePoint({coordinate:t,type:r}){return this.createGuidancePoints({coordinates:[t],type:r})[0]}createGuidancePoints({coordinates:t,type:r,additionalProperties:i}){const a=t.map((s,u)=>({type:"Feature",geometry:{type:"Point",coordinates:s},properties:Wt({mode:this.mode,[r]:!0},i?i(u):{})}));return this.createFeatures(a)}updatePoint({featureId:t,coordinateMutations:r,propertyMutations:i,context:a}){return this.handleMutateFeature({type:"Point",featureId:t,coordinateMutations:r,propertyMutations:i,context:a})}updatePolygon({featureId:t,coordinateMutations:r,context:i,propertyMutations:a}){return this.handleMutateFeature({type:"Polygon",featureId:t,coordinateMutations:r,propertyMutations:a,context:i})}updateLineString({featureId:t,coordinateMutations:r,context:i,propertyMutations:a}){return this.handleMutateFeature({type:"LineString",featureId:t,coordinateMutations:r,propertyMutations:a,context:i})}deleteFeatureIfPresent(t){t&&this.store.has(t)&&this.store.delete([t])}deleteFeaturesIfPresent(t){if(t.length===0)return;const r=t.filter(i=>this.store.has(i));r.length&&this.store.delete(r)}setDeselected(t){const r=t.filter(i=>this.store.has(i)).map(i=>({featureId:i,properties:{[Ln.SELECTED]:!1}}));this.updateFeatureProperties(r)}setSelected(t){const{type:r}=this.store.getGeometryCopy(t),i={featureId:t,propertyMutations:{[Ln.SELECTED]:!0},context:{updateType:_t.Commit}};r==="Polygon"?this.updatePolygon(i):r==="LineString"?this.updateLineString(i):r==="Point"&&this.updatePoint(i)}updateGuidancePoints(t){this.updateFeatureGeometries(t.map(({featureId:r,coordinate:i})=>({id:r,geometry:{type:"Point",coordinates:i}})))}handleCreateFeature({geometry:t,properties:r}){return this.createFeatureWithGeometry({geometry:t,properties:r})}handleMutateFeature({type:t,featureId:r,coordinateMutations:i,propertyMutations:a,context:s}){if(!this.mutateFeature({type:t,featureId:r,coordinateMutations:i,propertyMutations:a,context:s.updateType===_t.Finish?Wt({},s,{correctRightHandRule:!0}):Wt({},s)}))return null;const u=this.buildFeatureWithGeometry(r);return s.updateType!==_t.Finish||i||this.validateGeometryWithUpdateType({geometry:u.geometry,properties:u.properties,updateType:s.updateType})?u:null}epsilonOffset(){const t=1/Math.pow(10,this.coordinatePrecision-1);return Math.max(1e-6,t)}mutateFeature({type:t,featureId:r,coordinateMutations:i,propertyMutations:a,context:s}){if(!r)return!1;const u=this.store.getGeometryCopy(r),d=this.store.getPropertiesCopy(r);if(u.type!==t)throw new Error(`${t} geometries cannot be updated on features with ${u.type} geometries`);if(i){let f=this.applyCoordinateMutations(u,i);if(s.correctRightHandRule&&f.type==="Polygon"){const h=f1(f);h&&(f=h)}if(!this.validateGeometryWithUpdateType({geometry:f,properties:d,updateType:s.updateType}))return!1;this.updateFeatureGeometries([{id:r,geometry:f}])}return a&&this.updateFeatureProperties([{featureId:r,properties:a}]),!0}applyCoordinateMutations(t,r){if(this.isReplaceMutation(r))return Wt({},t,{coordinates:r.coordinates});if(t.type==="Point")throw new Error("Coordinate mutations are not supported for Point geometries");const i=t.type==="Polygon",a=i?t.coordinates[0].slice():t.coordinates.slice(),s=a.length,u=x=>{const w=x<0?s+x:x;if(w<0||w>=s)throw new RangeError(`Index ${x} (normalized to ${w}) is out of bounds`);return w},d=new Array(s).fill(void 0),f=Array.from({length:s},()=>[]),h=Array.from({length:s},()=>[]),g=[];for(const x of r){if(x.type===gh||x.type===du){const _=x.index,E=_<0?s+_:_;if(E<0||E>s)throw new RangeError(`Index ${x.index} (normalized to ${E}) is out of bounds`);if(x.type===gh){if(E>=s)throw new RangeError(`INSERT_BEFORE index ${x.index} (normalized to ${E}) is out of bounds for length ${s}`);f[E].push(x)}else E===s?g.push(x):h[E].push(x);continue}const w=u(x.index);d[w]=Wt({},x,{index:w})}const y=[];for(let x=0;x<s;x++){const w=f[x];for(const T of w)y.push(T.coordinate);const _=d[x];_?_.type===Ds||y.push(_.coordinate):y.push(a[x]);const E=h[x];for(const T of E)y.push(T.coordinate)}for(const x of g)y.push(x.coordinate);return Wt({},t,i?{coordinates:[y,...t.coordinates.slice(1)]}:{coordinates:y})}isReplaceMutation(t){return t.type===oi}createFeatureWithGeometry({geometry:t,properties:r}){const[i]=this.createFeatures([{type:"Feature",geometry:t,properties:r}]);return{id:i,type:"Feature",properties:this.store.getPropertiesCopy(i),geometry:this.store.getGeometryCopy(i)}}validateGeometryWithUpdateType({geometry:t,properties:r,updateType:i}){return!this.options.validate||this.options.validate({type:"Feature",geometry:t,properties:r||{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid}buildFeatureWithGeometry(t){return{id:t,type:"Feature",properties:this.store.getPropertiesCopy(t),geometry:this.store.getGeometryCopy(t)}}createFeatures(t){return this.store.create(t)}updateFeatureGeometries(t){this.store.updateGeometry(t)}updateFeatureProperties(t){const r=t.map(({featureId:i,properties:a})=>Object.entries(a).map(([s,u])=>({id:i,property:s,value:u}))).flat();this.store.updateProperty(r)}}const $a=(e,t)=>{const{x:r,y:i}=e,{x:a,y:s}=t,u=a-r,d=s-i;return Math.sqrt(d*d+u*u)};function $E(e,t){return e[0]===t[0]&&e[1]===t[1]}class Xv extends tr{constructor(t){super(t)}getGeometryType(t){return this.store.getGeometryCopy(t).type}coordinateAtIndexIsIdentical({featureId:t,newCoordinate:r,index:i}){const a=this.store.getGeometryCopy(t);let s;if(a.type==="Polygon")s=a.coordinates[0][i];else if(a.type==="LineString")s=a.coordinates[i];else{if(i!==0)throw new Error("Point geometries only have one coordinate at index 0");s=a.coordinates}return $E(r,s)}getGeometry(t){return this.store.getGeometryCopy(t)}getCoordinates(t){const{type:r,coordinates:i}=this.store.getGeometryCopy(t);return r==="Polygon"?i[0]:i}getCoordinate(t,r){const i=this.getCoordinates(t),a=r<0?i.length+r:r;if(a<0||a>=i.length)throw new RangeError(`Index ${r} (normalized to ${a}) is out of bounds`);return i[a]}getProperties(t){return this.store.getPropertiesCopy(t)}hasFeature(t){return this.store.has(t)}getAllFeatureIdsWhere(t){return this.store.copyAllWhere(t).map(({id:r})=>r)}}function HE({unproject:e,point:t,pointerDistance:r}){const i=r/2,{x:a,y:s}=t;return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[e(a-i,s-i),e(a+i,s-i),e(a+i,s+i),e(a-i,s+i),e(a-i,s-i)].map(u=>[u.lng,u.lat])]}}}class ap extends tr{constructor(t){super(t)}create(t){const{containerX:r,containerY:i}=t;return HE({unproject:this.unproject,point:{x:r,y:i},pointerDistance:this.pointerDistance})}}class sp extends tr{constructor(t){super(t)}measure(t,r){const{x:i,y:a}=this.project(r[0],r[1]);return $a({x:i,y:a},{x:t.containerX,y:t.containerY})}}class Wv extends tr{constructor(t,r,i){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=a=>this.getSnappable(a,s=>!!(s.properties&&s.properties.mode===this.mode)).coordinate,this.getSnappableCoordinate=(a,s)=>this.getSnappable(a,u=>!!(u.properties&&u.properties.mode===this.mode&&u.id!==s)).coordinate,this.config=t,this.pixelDistance=r,this.clickBoundingBox=i}getSnappable(t,r){const i=this.clickBoundingBox.create(t),a=this.store.search(i,r),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDist:1/0};return a.forEach(u=>{let d;if(u.geometry.type==="Polygon")d=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;d=u.geometry.coordinates}d.forEach((f,h)=>{const g=this.pixelDistance.measure(t,f);g<s.minDist&&g<this.pointerDistance&&(s.coordinate=f,s.minDist=g,s.featureId=u.id,s.featureCoordinateIndex=h)})}),s}}function h1(e,t,r){const i=$r(e[0]),a=$r(e[1]),s=$r(r),u=vF(t),d=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(s));return[uu(i+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(d))),uu(d)]}function p1(e,t){const r=$r(e[0]),i=$r(t[0]),a=$r(e[1]),s=$r(t[1]),u=Math.sin(i-r)*Math.cos(s),d=Math.cos(a)*Math.sin(s)-Math.sin(a)*Math.cos(s)*Math.cos(i-r);return uu(Math.atan2(u,d))}function EF({x:e,y:t},{x:r,y:i}){const a=r-e,s=i-t;if(a===0&&s===0)return 0;let u=Math.atan2(s,a);return u*=180/Math.PI,u>180?u-=360:u<-180&&(u+=360),u}function OF(e,t,r){const i=[],a=e.length;let s,u,d,f=0;for(let g=0;g<e.length&&!(t>=f&&g===e.length-1);g++){if(f>t&&i.length===0){if(s=t-f,!s)return i.push(e[g]),i;u=p1(e[g],e[g-1])-180,d=h1(e[g],s,u),i.push(d)}if(f>=r)return s=r-f,s?(u=p1(e[g],e[g-1])-180,d=h1(e[g],s,u),i.push(d),i):(i.push(e[g]),i);if(f>=t&&i.push(e[g]),g===e.length-1)return i;f+=Yo(e[g],e[g+1])}if(f<t&&e.length===a)throw new Error("Start position is beyond line");const h=e[e.length-1];return[h,h]}function $f(e){return e*(Math.PI/180)}function m1(e){return e*(180/Math.PI)}class MF extends tr{constructor(t){super(t),this.config=void 0,this.config=t}generateInsertionCoordinates(t,r,i){const a=[t,r];let s=0;for(let h=0;h<a.length-1;h++)s+=Yo(a[0],a[1]);if(s<=i)return a;let u=s/i-1;Number.isInteger(u)||(u=Math.floor(u)+1);const d=[];for(let h=0;h<u;h++){const g=OF(a,i*h,i*(h+1));d.push(g)}const f=[];for(let h=0;h<d.length;h++)f.push(d[h][1]);return this.limitCoordinates(f)}generateInsertionGeodesicCoordinates(t,r,i){const a=Yo(t,r),s=(function(u,d,f){const h=[],g=$f(u[1]),y=$f(u[0]),x=$f(d[1]),w=$f(d[0]);f+=1;const _=2*Math.asin(Math.sqrt(Math.sin((x-g)/2)**2+Math.cos(g)*Math.cos(x)*Math.sin((w-y)/2)**2));if(_===0||isNaN(_))return h;for(let E=0;E<=f;E++){const T=E/f,N=Math.sin((1-T)*_)/Math.sin(_),D=Math.sin(T*_)/Math.sin(_),I=N*Math.cos(g)*Math.cos(y)+D*Math.cos(x)*Math.cos(w),F=N*Math.cos(g)*Math.sin(y)+D*Math.cos(x)*Math.sin(w),k=N*Math.sin(g)+D*Math.sin(x);if(isNaN(I)||isNaN(F)||isNaN(k))continue;const U=Math.atan2(k,Math.sqrt(I**2+F**2)),A=Math.atan2(F,I);isNaN(U)||isNaN(A)||h.push([m1(A),m1(U)])}return h.slice(1,-1)})(t,r,Math.floor(a/i));return this.limitCoordinates(s)}limitCoordinates(t){return t.map(r=>[Mn(r[0],this.config.coordinatePrecision),Mn(r[1],this.config.coordinatePrecision)])}}function TF(e,t){if(e.geometry.type!=="LineString")return{valid:!1,reason:"Feature is not a LineString"};if(e.geometry.coordinates.length<2)return{valid:!1,reason:"Feature has less than 2 coordinates"};for(let r=0;r<e.geometry.coordinates.length;r++){if(!Kv(e.geometry.coordinates[r]))return{valid:!1,reason:"Feature has invalid coordinates"};if(!ip(e.geometry.coordinates[r],t))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return{valid:!0}}function g1(e){return Math.sqrt(Math.pow(e[0],2)+Math.pow(e[1],2)+Math.pow(e[2],2))}function Cs(e,t){const r=(function(i,a){const[s,u,d]=i,[f,h,g]=a;return s*f+u*h+d*g})(e,t)/(g1(e)*g1(t));return Math.acos(Math.min(Math.max(r,-1),1))}function Ag(e){const t=$r(e[1]),r=$r(e[0]);return[Math.cos(t)*Math.cos(r),Math.cos(t)*Math.sin(r),Math.sin(t)]}function _s(e){const[t,r,i]=e,a=uu(Math.asin(i));return[uu(Math.atan2(r,t)),a]}function RF(e,t,r){const i=Ag(e),a=Ag(t),s=Ag(r),[u,d,f]=s,[h,g,y]=(function(me,de){const[_e,ce,Ce]=me,[B,J,V]=de;return[ce*V-Ce*J,Ce*B-_e*V,_e*J-ce*B]})(i,a),x=g*f-y*d,w=y*u-h*f,_=h*d-g*u,E=_*g-w*y,T=x*y-_*h,N=w*h-x*g,D=1/Math.sqrt(Math.pow(E,2)+Math.pow(T,2)+Math.pow(N,2)),I=[E*D,T*D,N*D],F=[-1*E*D,-1*T*D,-1*N*D],k=Cs(i,a),U=Cs(i,I),A=Cs(a,I),$=Cs(i,F),ae=Cs(a,F);let ue;return ue=U<$&&U<ae||A<$&&A<ae?I:F,Cs(i,ue)>k||Cs(a,ue)>k?Yo(_s(ue),_s(i))<=Yo(_s(ue),_s(a))?[_s(i),!0,!1]:[_s(a),!1,!0]:[_s(ue),!1,!1]}function PF(e,t,r){const i=t.x-e.x,a=t.y-e.y,s=Math.max(0,Math.min(1,((r.x-e.x)*i+(r.y-e.y)*a)/(i*i+a*a)));return{x:e.x+s*i,y:e.y+s*a}}class Qv extends tr{constructor(t,r,i){super(t),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=a=>{const s=this.getSnappable(a,u=>!!(u.properties&&u.properties.mode===this.mode));return s.coordinate?[Mn(s.coordinate[0],this.config.coordinatePrecision),Mn(s.coordinate[1],this.config.coordinatePrecision)]:void 0},this.getSnappableCoordinate=(a,s)=>{const u=this.getSnappable(a,d=>!!(d.properties&&d.properties.mode===this.mode&&d.id!==s));return u.coordinate?[Mn(u.coordinate[0],this.config.coordinatePrecision),Mn(u.coordinate[1],this.config.coordinatePrecision)]:void 0},this.config=t,this.pixelDistance=r,this.clickBoundingBox=i}getSnappable(t,r){const i=this.clickBoundingBox.create(t),a=this.store.search(i,r),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDistance:1/0};return a.forEach(u=>{let d;if(u.geometry.type==="Polygon")d=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;d=u.geometry.coordinates}const f=[];for(let x=0;x<d.length-1;x++)f.push([d[x],d[x+1]]);let h;const g=[t.lng,t.lat];if(this.config.projection==="web-mercator"?h=(function(x,w){let _=[1/0,1/0],E=1/0,T=0;for(let N of w){const D=N[0],I=N[1];let F,k=1/0;const U=On(D[0],D[1]),A=On(I[0],I[1]),$=On(x[0],x[1]);if(D[0]===x[0]&&D[1]===x[1])F=D;else if(I[0]===x[0]&&I[1]===x[1])F=I;else{const{x:ae,y:ue}=PF(U,A,$),{lng:me,lat:de}=cu(ae,ue);F=[me,de]}F&&(k=$a($,On(F[0],F[1])),k<E&&(_=F,E=k,T=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,lineIndex:T,distance:E}})(g,f):this.config.projection==="globe"&&(h=(function(x,w){let _=[1/0,1/0],E=1/0,T=0;for(let N of w){const D=N[0],I=N[1];let F,k=1/0;D[0]===x[0]&&D[1]===x[1]?F=D:I[0]===x[0]&&I[1]===x[1]?F=I:[F]=RF(D,I,x),F&&(k=Yo(x,F),k<E&&(_=F,E=k,T=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,distance:E,lineIndex:T}})(g,f)),!h)return;const y=this.pixelDistance.measure(t,h.coordinate);y<s.minDistance&&y<this.pointerDistance&&(s.featureId=u.id,s.coordinate=[Mn(h.coordinate[0],this.config.coordinatePrecision),Mn(h.coordinate[1],this.config.coordinatePrecision)],s.featureCoordinateIndex=h.lineIndex,s.minDistance=y)}),s}}function Zv(e){return Array.isArray(e)&&e.length>0&&Array.isArray(e[0])&&Array.isArray(e[0][0])}const yh=e=>Zv(e)?e[0].slice(0,-1):e,qc=e=>Zv(e)?e[0]:e;class qE extends tr{constructor(t,r,i,a){super(t),this.config=void 0,this.pixelDistance=void 0,this.mutateFeatureBehavior=void 0,this.readFeatureBehavior=void 0,this._startEndPoints=[],this.config=t,this.pixelDistance=r,this.mutateFeatureBehavior=i,this.readFeatureBehavior=a}get ids(){return this._startEndPoints.concat()}set ids(t){}create(t){if(this.ids.length)throw new Error("Opening and closing points already created");const r=Zv(t),i=qc(t);if(r){if(i.length<=3)throw new Error("Requires at least 4 coordinates");this._startEndPoints=this.mutateFeatureBehavior.createGuidancePoints({coordinates:[i[0],i[i.length-2]],type:ft.CLOSING_POINT})}else this._startEndPoints=[this.mutateFeatureBehavior.createGuidancePoint({coordinate:i[i.length-2],type:ft.CLOSING_POINT})]}delete(){this.ids.length&&(this.mutateFeatureBehavior.deleteFeaturesIfPresent(this.ids),this._startEndPoints=[])}updateOne(t,r){this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[t],coordinate:r}])}update(t){const r=qc(t);this.ids.length!==1?this.ids.length===2&&this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:r[0]},{featureId:this.ids[1],coordinate:r[r.length-3]}]):this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:r[r.length-2]}])}isLineStringClosingPoint(t){if(this.ids.length!==1)return{isClosing:!1};const r=this.readFeatureBehavior.getGeometry(this.ids[0]);return{isClosing:this.pixelDistance.measure(t,r.coordinates)<this.pointerDistance}}isPolygonClosingPoints(t){if(this.ids.length!==2)return{isClosing:!1,isPreviousClosing:!1};const r=this.readFeatureBehavior.getGeometry(this.ids[0]),i=this.readFeatureBehavior.getGeometry(this.ids[1]),a=this.pixelDistance.measure(t,r.coordinates),s=this.pixelDistance.measure(t,i.coordinates);return{isClosing:a<this.pointerDistance,isPreviousClosing:s<this.pointerDistance}}}class Jv extends tr{constructor(t,r,i){super(t),this.readFeature=void 0,this.mutateFeature=void 0,this.readFeature=r,this.mutateFeature=i}createOrUpdate({featureId:t,featureCoordinates:r}){if(!this.readFeature.hasFeature(t))return void this.deleteOrphanedPoints(t);const i=yh(r),a=this.readFeature.getProperties(t),s=a.coordinatePointIds;if(s)if(s&&s.every(u=>this.readFeature.hasFeature(u))){const u=a.coordinatePointIds,d=u.map(f=>this.readFeature.getGeometry(f).coordinates);if(u.length!==i.length){this.deleteCoordinatePoints(u);const f=this.createPoints(i,a.mode,t);this.setFeatureCoordinatePoints(t,f)}else{const f=[];i.forEach((h,g)=>{h[0]===d[g][0]&&h[1]===d[g][1]||f.push({featureId:u[g],coordinate:h})}),this.mutateFeature.updateGuidancePoints(f)}}else{const u=s.filter(f=>this.readFeature.hasFeature(f));u.length&&this.deleteCoordinatePoints(u);const d=this.createPoints(i,a.mode,t);this.setFeatureCoordinatePoints(t,d)}else{const u=this.createPoints(i,a.mode,t);this.setFeatureCoordinatePoints(t,u)}}deletePointsByFeatureIds(t){for(const r of t)this.deleteIfPresent(r)}updateOneAtIndex(t,r,i){const a=this.readFeature.getProperties(t).coordinatePointIds;a&&a.length!==0&&a[r]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:a[r],coordinate:i}])}updateAllInPlace({featureId:t,featureCoordinates:r}){const i=this.readFeature.getProperties(t);if(!i.coordinatePointIds)return;const a=yh(r);a.length===i.coordinatePointIds.length&&this.mutateFeature.updateGuidancePoints(i.coordinatePointIds.map((s,u)=>({featureId:s,coordinate:a[u]})))}createPoints(t,r,i){return this.mutateFeature.createGuidancePoints({coordinates:t,type:ft.COORDINATE_POINT,additionalProperties:a=>({mode:r,[ft.COORDINATE_POINT]:!0,[ft.COORDINATE_POINT_FEATURE_ID]:i,index:a})})}setFeatureCoordinatePoints(t,r,i=_t.Commit){const a=this.readFeature.getGeometryType(t),s={featureId:t,propertyMutations:{[ft.COORDINATE_POINT_IDS]:r},context:{updateType:i}};if(a==="Polygon")this.mutateFeature.updatePolygon(s);else{if(a!=="LineString")throw new Error("Unsupported geometry type for coordinate points");this.mutateFeature.updateLineString(s)}}deleteCoordinatePoints(t){this.mutateFeature.deleteFeaturesIfPresent(t)}deleteIfPresent(t){if(!this.readFeature.hasFeature(t))return;const r=this.readFeature.getProperties(t).coordinatePointIds;r&&(this.deleteCoordinatePoints(r),this.setFeatureCoordinatePoints(t,null))}deleteOrphanedPoints(t){const r=this.readFeature.getAllFeatureIdsWhere(i=>i[ft.COORDINATE_POINT_FEATURE_ID]===t);this.mutateFeature.deleteFeaturesIfPresent(r)}}const DF={cancel:"Escape",finish:"Enter"},AF={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class NF extends md{constructor(t){super(t,!0),this.mode="linestring",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=DF,this.snapping=void 0,this.cursors=AF,this.mouseMove=!1,this.insertCoordinates=void 0,this.lastCommittedCoordinates=void 0,this.snappedPointId=void 0,this.lastMouseMoveEvent=void 0,this.showCoordinatePoints=!1,this.finishOnNthCoordinate=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinateSnapping=void 0,this.insertPoint=void 0,this.lineSnapping=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.closingPoints=void 0,this.coordinatePoints=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),t?.finishOnNthCoordinate!==void 0&&Number.isInteger(t.finishOnNthCoordinate)&&t.finishOnNthCoordinate>1&&(this.finishOnNthCoordinate=Math.floor(t.finishOnNthCoordinate)),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t!=null&&t.snapping&&(this.snapping=t.snapping),t?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t!=null&&t.insertCoordinates&&(this.insertCoordinates=t.insertCoordinates),t&&t.editable&&(this.editable=t.editable),t?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=t.showCoordinatePoints,this.coordinatePoints&&t.showCoordinatePoints===!0)this.store.copyAllWhere(r=>r.mode===this.mode).forEach(r=>{this.coordinatePoints.createOrUpdate({featureId:r.id,featureCoordinates:r.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const r=this.store.copyAllWhere(i=>{var a;return i.mode===this.mode&&!!((a=i[ft.COORDINATE_POINT_IDS])!=null&&a.length)});this.coordinatePoints.deletePointsByFeatureIds(r.map(i=>i.id))}}}shouldFinishOnCommit(t){return!!this.finishOnNthCoordinate&&Math.max(0,t.coordinates.length-1)>=this.finishOnNthCoordinate}updateSnappedCoordinate(t){const r=this.snapCoordinate(t);return r?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:r}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:r,type:ft.SNAPPING_POINT}),t.lng=r[0],t.lat=r[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),r}close(){if(this.currentId===void 0)return;const t=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Finish,action:Ua},coordinateMutations:[{type:Ds,index:-1}],propertyMutations:{[ft.CURRENTLY_DRAWING]:void 0}});if(!t)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:t.geometry.coordinates});const r=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.lastCommittedCoordinates=void 0,this.state==="drawing"&&this.setStarted(),this.closingPoints.delete(),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.onFinish(r,{mode:this.mode,action:Ua})}generateInsertCoordinates(t,r){if(!this.insertCoordinates||!this.lastCommittedCoordinates)throw new Error("Not able to insert coordinates");if(this.insertCoordinates.strategy!=="amount")throw new Error("Strategy does not exist");const i=Yo(t,r)/(this.insertCoordinates.value+1);let a=[];return this.projection==="globe"?a=this.insertPoint.generateInsertionGeodesicCoordinates(t,r,i):this.projection==="web-mercator"&&(a=this.insertPoint.generateInsertionCoordinates(t,r,i)),a}createLine(t){const r=this.mutateFeature.createLineString({coordinates:[t,t],properties:{mode:this.mode,[ft.CURRENTLY_DRAWING]:!0}});this.lastCommittedCoordinates=r.geometry.coordinates,this.currentId=r.id,this.currentCoordinate++,this.setDrawing(),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:r.geometry.coordinates})}firstUpdateToLine(t){if(!this.currentId)return;this.setCursor(this.cursors.close);const r=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Commit},coordinateMutations:[{type:du,index:-1,coordinate:t}]});r&&(this.closingPoints.create(r.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:r.geometry.coordinates}),this.lastCommittedCoordinates=r.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(r.geometry)&&this.close())}updateToLine(t,r){if(!this.currentId)return;const{isClosing:i}=this.closingPoints.isLineStringClosingPoint(t);if(i)return void this.close();this.setCursor(this.cursors.close);const a=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Commit},coordinateMutations:[{type:du,index:-1,coordinate:r}]});a&&(this.closingPoints.update(a.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:a.geometry.coordinates}),this.lastCommittedCoordinates=a.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(a.geometry)&&this.close())}registerBehaviors(t){this.insertPoint=new MF(t),this.clickBoundingBox=new ap(t),this.pixelDistance=new sp(t),this.lineSnapping=new Qv(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new Wv(t,this.pixelDistance,this.clickBoundingBox),this.readFeature=new Xv(t),this.mutateFeature=new op(t,{validate:this.validate}),this.closingPoints=new qE(t,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new Jv(t,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onMouseMove(t){this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=t;const r=this.updateSnappedCoordinate(t)||[t.lng,t.lat];if(this.currentId===void 0||this.currentCoordinate===0)return;const{isClosing:i}=this.closingPoints.isLineStringClosingPoint(t);i&&this.setCursor(this.cursors.close);let a=[{type:Or,index:-1,coordinate:r}];if(this.insertCoordinates){const u=this.getInsertCoordinates(r);u&&(a={type:oi,coordinates:u})}const s=this.mutateFeature.updateLineString({coordinateMutations:a,featureId:this.currentId,context:{updateType:_t.Provisional}});s&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates})}getInsertCoordinates(t){if(!this.lastCommittedCoordinates)return;const r=this.lastCommittedCoordinates[this.lastCommittedCoordinates.length-1];if($E(r,t))return;const i=this.generateInsertCoordinates(r,t);return[...this.lastCommittedCoordinates.slice(0,-1),...i,t]}onRightClick(t){if(!this.editable||this.state!=="started")return;const{featureId:r,featureCoordinateIndex:i}=this.coordinateSnapping.getSnappable(t,d=>this.lineStringFilter(d));if(!r||i===void 0)return;const a=this.readFeature.getGeometry(r);let s;if(a.type!=="LineString"||(s=a.coordinates,s.length<=2))return;const u=this.mutateFeature.updateLineString({featureId:r,coordinateMutations:[{type:Ds,index:i}],context:{updateType:_t.Finish,action:eu}});u&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:r,featureCoordinates:u.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(r,{mode:this.mode,action:BE})}onLeftClick(t){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);const r=this.snapCoordinate(t)||[t.lng,t.lat];this.currentCoordinate===0?this.createLine(r):this.currentCoordinate===1&&this.currentId?this.firstUpdateToLine(r):this.currentId&&this.updateToLine(t,r)}onClick(t){this.currentId===void 0||this.readFeature.hasFeature(this.currentId)||this.cleanUp(),(t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t))&&(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,t.button==="right"?this.onRightClick(t):t.button==="left"&&this.onLeftClick(t))}onKeyDown(){}onKeyUp(t){t.key===this.keyEvents.cancel&&this.cleanUp(),t.key===this.keyEvents.finish&&this.close()}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t)||!this.editable)return;let i;if(this.state==="started"){const a=this.lineSnapping.getSnappable(t,u=>this.lineStringFilter(u));a.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=a.featureCoordinateIndex,this.editedFeatureId=a.featureId,i=a.coordinate);const s=this.coordinateSnapping.getSnappable(t,u=>this.lineStringFilter(u));s.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,i=s.coordinate)}this.editedFeatureId&&i&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:i,type:ft.EDITED})),this.setCursor(this.cursors.dragStart),r(!1))}onDrag(t,r){if(this.allowPointerEvent(this.pointerEvents.onDrag,t)&&this.editedFeatureId!==void 0&&this.editedFeatureCoordinateIndex!==void 0){if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0){const i=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional},coordinateMutations:[{type:Or,index:this.editedFeatureCoordinateIndex,coordinate:[t.lng,t.lat]}]});if(!i)return;this.showCoordinatePoints&&(this.editedInsertIndex!==void 0?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:i.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,[t.lng,t.lat]))}else if(this.editedSnapType==="line"&&this.editedInsertIndex===void 0){this.editedInsertIndex=this.editedFeatureCoordinateIndex+1;const i=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:i.geometry.coordinates}),this.editedFeatureCoordinateIndex++}this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:[t.lng,t.lat]}]),this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional},propertyMutations:{[ft.EDITED]:!0}})}}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updateLineString({featureId:this.editedFeatureId,propertyMutations:{[ft.EDITED]:!1},context:{updateType:_t.Finish,action:eu}})))return;const i=this.editedFeatureId;r(!0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(i,{mode:this.mode,action:eu})}cleanUp(){const t=this.currentId,r=this.snappedPointId;this.snappedPointId=void 0,this.currentId=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),t&&this.showCoordinatePoints&&this.coordinatePoints.deletePointsByFeatureIds([t]),this.mutateFeature.deleteFeatureIfPresent(t),this.mutateFeature.deleteFeatureIfPresent(r),this.closingPoints.delete()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.type==="Feature"&&t.geometry.type==="LineString"&&t.properties.mode===this.mode)return r.lineStringColor=this.getHexColorStylingValue(this.styles.lineStringColor,r.lineStringColor,t),r.lineStringOpacity=this.getNumericStylingValue(this.styles.lineStringOpacity,r.lineStringOpacity===void 0?1:r.lineStringOpacity,t),r.lineStringWidth=this.getNumericStylingValue(this.styles.lineStringWidth,r.lineStringWidth,t),r.zIndex=Hc,r;if(t.type==="Feature"&&t.geometry.type==="Point"&&t.properties.mode===this.mode){const i=t.properties[ft.COORDINATE_POINT],a=t.properties[ft.CLOSING_POINT]?"closingPoint":t.properties[ft.SNAPPING_POINT]?"snappingPoint":i?"coordinatePoint":void 0;if(!a)return r;const s={closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return r.pointWidth=this.getNumericStylingValue(s[a].width,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(s[a].opacity,1,t),r.pointColor=this.getHexColorStylingValue(s[a].color,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(s[a].outlineColor,"#ffffff",t),r.pointOutlineWidth=this.getNumericStylingValue(s[a].outlineWidth,2,t),r.pointOutlineOpacity=this.getNumericStylingValue(s[a].outlineOpacity,1,t),r.zIndex=i?20:50,r}return r}validateFeature(t){return this.validateModeFeature(t,r=>TF(r,this.coordinatePrecision))}lineStringFilter(t){return!!(t.geometry.type==="LineString"&&t.properties&&t.properties.mode===this.mode)}snapCoordinate(t){var r,i,a;let s;if((r=this.snapping)!=null&&r.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((i=this.snapping)!=null&&i.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((a=this.snapping)!=null&&a.toCustom){const u=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(s=u)}return s}afterFeatureUpdated(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates}),this.editedFeatureId===t.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===t.id&&(this.closingPoints.delete(),this.currentCoordinate=0,this.currentId=void 0,this.state==="drawing"&&this.setStarted())}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates})}}const IF="Feature is not a Point",jF="Feature has invalid coordinates",zF="Feature has coordinates with excessive precision";function FF(e,t){return e.geometry.type!=="Point"?{valid:!1,reason:IF}:Kv(e.geometry.coordinates)?ip(e.geometry.coordinates,t)?{valid:!0}:{valid:!1,reason:zF}:{valid:!1,reason:jF}}class kF extends tr{constructor(t,r,i){super(t),this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pixelDistance=r,this.clickBoundingBox=i}getNearestPointFeature(t){const r=this.clickBoundingBox.create(t),i=this.store.search(r);let a,s=1/0;for(let u=0;u<i.length;u++){const d=i[u];if(d.geometry.type!=="Point"||d.properties.mode!==this.mode)continue;const f=this.pixelDistance.measure(t,d.geometry.coordinates);f>s||f>this.pointerDistance||(s=f,a=d)}return a}}const LF={create:"crosshair",dragStart:"grabbing",dragEnd:"crosshair"};class BF extends md{constructor(t){super(t,!0),this.mode="point",this.cursors=LF,this.editable=!1,this.editedFeatureId=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pointSearch=void 0,this.mutateFeature=void 0,this.updateOptions(t)}updateOptions(t){super.updateOptions(t),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t!=null&&t.editable&&(this.editable=t.editable)}start(){this.setStarted(),this.setCursor(this.cursors.create)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onClick(t){t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}onMouseMove(){}onKeyDown(){}onKeyUp(){}cleanUp(){this.editedFeatureId=void 0}onDragStart(t,r){if(this.allowPointerEvent(this.pointerEvents.onDragStart,t)){if(this.editable){const i=this.pointSearch.getNearestPointFeature(t);this.editedFeatureId=i?.id}this.editedFeatureId&&(this.setCursor(this.cursors.dragStart),r(!1))}}onDrag(t,r){this.allowPointerEvent(this.pointerEvents.onDrag,t)&&this.editedFeatureId!==void 0&&this.mutateFeature.updatePoint({featureId:this.editedFeatureId,coordinateMutations:{type:oi,coordinates:[t.lng,t.lat]},propertyMutations:{[ft.EDITED]:!0},context:{updateType:_t.Provisional}})}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||!this.mutateFeature.updatePoint({featureId:this.editedFeatureId,propertyMutations:{mode:this.mode,[ft.EDITED]:!1},context:{updateType:_t.Finish,action:"edit"}}))return;const i=this.editedFeatureId;this.setCursor(this.cursors.dragEnd),this.editedFeatureId=void 0,r(!0),this.onFinish(i,{mode:this.mode,action:Ua})}registerBehaviors(t){this.pixelDistance=new sp(t),this.clickBoundingBox=new ap(t),this.pointSearch=new kF(t,this.pixelDistance,this.clickBoundingBox),this.mutateFeature=new op(t,{validate:this.validate})}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.type==="Feature"&&t.geometry.type==="Point"&&t.properties.mode===this.mode){const i=!!(t.id&&this.editedFeatureId===t.id);r.pointWidth=this.getNumericStylingValue(i?this.styles.editedPointWidth:this.styles.pointWidth,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(this.styles.pointOpacity,r.pointOpacity===void 0?1:r.pointOpacity,t),r.pointColor=this.getHexColorStylingValue(i?this.styles.editedPointColor:this.styles.pointColor,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(i?this.styles.editedPointOutlineColor:this.styles.pointOutlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.pointOutlineOpacity,r.pointOutlineOpacity===void 0?1:r.pointOutlineOpacity,t),r.pointOutlineWidth=this.getNumericStylingValue(i?this.styles.editedPointOutlineWidth:this.styles.pointOutlineWidth,2,t),r.zIndex=30}return r}validateFeature(t){return this.validateModeFeature(t,r=>FF(r,this.coordinatePrecision))}onLeftClick(t){const r=this.mutateFeature.createPoint({coordinates:[t.lng,t.lat],properties:{mode:this.mode},context:{updateType:_t.Finish,action:Ua}});r&&this.onFinish(r.id,{mode:this.mode,action:Ua})}onRightClick(t){if(!this.editable)return;const r=this.pointSearch.getNearestPointFeature(t);r&&this.mutateFeature.deleteFeatureIfPresent(r.id)}afterFeatureUpdated(t){this.editedFeatureId===t.id&&(this.editedFeatureId=void 0,this.setCursor(this.cursors.create))}}const UF={cancel:"Escape",finish:"Enter"},$F={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class HF extends md{constructor(t){super(t,!0),this.mode="polygon",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=UF,this.cursors=$F,this.mouseMove=!1,this.showCoordinatePoints=!1,this.lastMouseMoveEvent=void 0,this.snapping=void 0,this.snappedPointId=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinatePoints=void 0,this.lineSnapping=void 0,this.coordinateSnapping=void 0,this.pixelDistance=void 0,this.closingPoints=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),t!=null&&t.cursors&&(this.cursors=Wt({},this.cursors,t.cursors)),t?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t!=null&&t.snapping&&(this.snapping=t.snapping),t?.editable!==void 0&&(this.editable=t.editable),t?.pointerEvents!==void 0&&(this.pointerEvents=t.pointerEvents),t?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=t.showCoordinatePoints,this.coordinatePoints&&t.showCoordinatePoints===!0)this.store.copyAllWhere(r=>r.mode===this.mode).forEach(r=>{this.coordinatePoints.createOrUpdate({featureId:r.id,featureCoordinates:r.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const r=this.store.copyAllWhere(i=>i.mode===this.mode&&!!i[ft.COORDINATE_POINT_IDS]);this.coordinatePoints.deletePointsByFeatureIds(r.map(i=>i.id))}}}close(){if(this.currentId===void 0||this.readFeature.getCoordinates(this.currentId).length<5)return;const t=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Ds,index:-2}],propertyMutations:{[ft.CURRENTLY_DRAWING]:void 0,[ft.COMMITTED_COORDINATE_COUNT]:void 0,[ft.PROVISIONAL_COORDINATE_COUNT]:void 0},context:{updateType:_t.Finish,action:Ua}});if(!t)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:t.geometry.coordinates}),this.state==="drawing"&&this.setStarted(),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.closingPoints.delete();const r=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.onFinish(r,{mode:this.mode,action:Ua})}registerBehaviors(t){this.readFeature=new Xv(t),this.mutateFeature=new op(t,{validate:this.validate}),this.clickBoundingBox=new ap(t),this.pixelDistance=new sp(t),this.lineSnapping=new Qv(t,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new Wv(t,this.pixelDistance,this.clickBoundingBox),this.closingPoints=new qE(t,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new Jv(t,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}updateSnappedCoordinate(t){const r=this.snapCoordinate(t);r?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:r}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:r,type:ft.SNAPPING_POINT}),t.lng=r[0],t.lat=r[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0)}onMouseMove(t){if(this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=t,this.updateSnappedCoordinate(t),this.currentId===void 0||this.currentCoordinate===0)return;const r=this.readFeature.getCoordinate(this.currentId,0),i=[t.lng,t.lat];let a;if(this.currentCoordinate===1)a=[{type:Or,index:1,coordinate:i},{type:Or,index:2,coordinate:[t.lng,t.lat-this.mutateFeature.epsilonOffset()]}];else if(this.currentCoordinate===2)a=[{type:Or,index:2,coordinate:i}];else{const{isClosing:u,isPreviousClosing:d}=this.closingPoints.isPolygonClosingPoints(t);d||u?(this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.setCursor(this.cursors.close),a=[{type:Or,index:-1,coordinate:r},{type:Or,index:-2,coordinate:r}]):a=[{type:Or,index:-2,coordinate:i},{type:Or,index:-1,coordinate:r}]}const s=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:a,propertyMutations:{[ft.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Provisional}});s&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates})}snapCoordinate(t){var r,i,a;let s;if((r=this.snapping)!=null&&r.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(t,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((i=this.snapping)!=null&&i.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(t,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(t),u&&(s=u)}if((a=this.snapping)!=null&&a.toCustom){const u=this.snapping.toCustom(t,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(s=u)}return s}polygonFilter(t){return!!(t.geometry.type==="Polygon"&&t.properties&&t.properties.mode===this.mode)}onRightClick(t){if(!this.editable||this.state!=="started")return;const{featureId:r,featureCoordinateIndex:i}=this.coordinateSnapping.getSnappable(t,f=>this.polygonFilter(f));if(!r||i===void 0)return;const a=this.readFeature.getGeometry(r);if(a.type!=="Polygon")return;const s=a.coordinates[0];if(s.length<=4)return;let u;u=i===0||i===s.length-1?[{type:Ds,index:0},{type:Ds,index:-1},{type:du,index:-1,coordinate:s[1]}]:[{type:Ds,index:i}];const d=this.mutateFeature.updatePolygon({featureId:r,coordinateMutations:u,context:{updateType:_t.Finish,action:eu}});if(d){if(this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:r,featureCoordinates:d.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0,this.snapping)){const f=this.snapCoordinate(t);if(f){const[h]=this.mutateFeature.createGuidancePoints({type:ft.SNAPPING_POINT,coordinates:[f]});this.snappedPointId=h}}this.onFinish(r,{mode:this.mode,action:eu})}}onLeftClick(t){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);let r=this.snapCoordinate(t)||[t.lng,t.lat];if(this.currentCoordinate===0){const{id:i,geometry:a}=this.mutateFeature.createPolygon({coordinates:[r,r,r,r],properties:{mode:this.mode,[ft.CURRENTLY_DRAWING]:!0,[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1,[ft.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1}});this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:i,featureCoordinates:a.coordinates}),this.currentId=i,this.currentCoordinate++,this.setDrawing()}else if(this.currentCoordinate===1&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:0}))return;const i=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Or,index:1,coordinate:r},{type:Or,index:2,coordinate:r}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:i.geometry.coordinates}),this.currentCoordinate++}else if(this.currentCoordinate===2&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:1}))return;const i=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Or,index:2,coordinate:r},{type:du,index:2,coordinate:r}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:i.geometry.coordinates}),this.currentCoordinate===2&&this.closingPoints.create(i.geometry.coordinates),this.currentCoordinate++}else if(this.currentId){const{isClosing:i,isPreviousClosing:a}=this.closingPoints.isPolygonClosingPoints(t);if(a||i)this.close();else{if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:r,index:this.currentCoordinate-1}))return;const s=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:gh,index:-1,coordinate:r}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!s)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates}),this.currentCoordinate++,this.closingPoints.ids.length&&this.closingPoints.update(s.geometry.coordinates)}}}onClick(t){this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(t),this.mouseMove=!1,t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}onKeyUp(t){t.key===this.keyEvents.cancel?this.cleanUp():t.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t)||!this.editable)return;let i;if(this.state==="started"){const a=this.lineSnapping.getSnappable(t,u=>this.polygonFilter(u));a.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=a.featureCoordinateIndex,this.editedFeatureId=a.featureId,i=a.coordinate);const s=this.coordinateSnapping.getSnappable(t,u=>this.polygonFilter(u));s.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,i=s.coordinate)}this.editedFeatureId&&i&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:i,type:ft.EDITED})),this.setCursor(this.cursors.dragStart),r(!1))}onDrag(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDrag,t)||this.editedFeatureId===void 0||this.editedFeatureCoordinateIndex===void 0)return;const i=this.readFeature.getGeometry(this.editedFeatureId),a=[t.lng,t.lat];let s=[];if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0?s=this.editedFeatureCoordinateIndex===0||this.editedFeatureCoordinateIndex===i.coordinates[0].length-1?[{type:Or,index:0,coordinate:a},{type:Or,index:-1,coordinate:a}]:[{type:Or,index:this.editedFeatureCoordinateIndex,coordinate:a}]:this.editedSnapType==="line"&&this.editedInsertIndex===void 0&&(this.editedInsertIndex=this.editedFeatureCoordinateIndex+1,s=[{type:gh,index:this.editedInsertIndex,coordinate:a}],this.editedFeatureCoordinateIndex++),s.length===0)return;const u=this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,coordinateMutations:s,propertyMutations:{[ft.EDITED]:!0},context:{updateType:_t.Provisional}});u&&(this.showCoordinatePoints&&(this.editedInsertIndex?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:u.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,u.geometry.coordinates[0][this.editedFeatureCoordinateIndex])),this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:a}]))}onDragEnd(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,t)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,propertyMutations:{[ft.EDITED]:!1},context:{updateType:_t.Finish,action:eu}})))return;const i=this.editedFeatureId;this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,r(!0),this.onFinish(i,{mode:this.mode,action:Ua})}cleanUp(){const t=this.currentId,r=this.snappedPointId,i=this.editedPointId;this.currentId=void 0,this.snappedPointId=void 0,this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),t&&this.coordinatePoints.deletePointsByFeatureIds([t]),this.mutateFeature.deleteFeatureIfPresent(t),this.mutateFeature.deleteFeatureIfPresent(i),this.mutateFeature.deleteFeatureIfPresent(r),this.closingPoints.ids.length&&this.closingPoints.delete()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.properties.mode===this.mode){if(t.geometry.type==="Polygon")return r.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,r.polygonFillColor,t),r.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,r.polygonOutlineColor,t),r.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,r.polygonOutlineWidth,t),r.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,r.polygonFillOpacity,t),r.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.outlineOpacity,1,t),r.zIndex=Hc,r;if(t.geometry.type==="Point"){const i=t.properties[ft.EDITED],a=t.properties[ft.COORDINATE_POINT],s=i?"editedPoint":t.properties[ft.CLOSING_POINT]?"closingPoint":t.properties[ft.SNAPPING_POINT]?"snappingPoint":a?"coordinatePoint":void 0;if(!s)return r;const u={editedPoint:{width:this.styles.editedPointOutlineWidth,color:this.styles.editedPointColor,opacity:this.styles.editedPointOpacity,outlineColor:this.styles.editedPointOutlineColor,outlineWidth:this.styles.editedPointOutlineWidth,outlineOpacity:this.styles.editedPointOutlineOpacity},closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return r.pointWidth=this.getNumericStylingValue(u[s].width,r.pointWidth,t),r.pointOpacity=this.getNumericStylingValue(u[s].opacity,1,t),r.pointColor=this.getHexColorStylingValue(u[s].color,r.pointColor,t),r.pointOutlineColor=this.getHexColorStylingValue(u[s].outlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(u[s].outlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(u[s].outlineWidth,2,t),r.zIndex=i?40:a?20:30,r}}return r}afterFeatureAdded(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates})}afterFeatureUpdated(t){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:t.id,featureCoordinates:t.geometry.coordinates}),this.editedFeatureId===t.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===t.id&&(this.currentCoordinate=0,this.currentId=void 0,this.closingPoints.delete(),this.state==="drawing"&&this.setStarted())}validateFeature(t){return this.validateModeFeature(t,r=>_F(r,this.coordinatePrecision))}}function dy(e,t){const r=e,i=t,a=$r(r[1]),s=$r(i[1]);let u=$r(i[0]-r[0]);u>Math.PI&&(u-=2*Math.PI),u<-Math.PI&&(u+=2*Math.PI);const d=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=(uu(Math.atan2(u,d))+360)%360;return f>180?-(360-f):f}function GE(e,t,r){let i=t;t<0&&(i=-Math.abs(i));const a=i/UE,s=e[0]*Math.PI/180,u=$r(e[1]),d=$r(r),f=a*Math.cos(d);let h=u+f;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);const g=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(u/2+Math.PI/4)),y=Math.abs(g)>1e-11?f/g:Math.cos(u),x=[(180*(s+a*Math.sin(d)/y)/Math.PI+540)%360-180,180*h/Math.PI];return x[0]+=x[0]-e[0]>180?-360:e[0]-x[0]>180?360:0,x}function qF(e,t,r,i,a){const s=i(e[0],e[1]),u=i(t[0],t[1]),{lng:d,lat:f}=a((s.x+u.x)/2,(s.y+u.y)/2);return[Mn(d,r),Mn(f,r)]}function GF(e,t,r){const i=GE(e,1e3*Yo(e,t)/2,dy(e,t));return[Mn(i[0],r),Mn(i[1],r)]}function Ng({featureCoords:e,precision:t,unproject:r,project:i,projection:a}){const s=[];for(let u=0;u<e.length-1;u++){let d;if(a==="web-mercator")d=qF(e[u],e[u+1],t,i,r);else{if(a!=="globe")throw new Error("Invalid projection");d=GF(e[u],e[u+1],t)}s.push(d)}return s}class VF extends tr{constructor(t,r,i,a,s,u){super(t),this.config=void 0,this.selectionPointBehavior=void 0,this.coordinatePointBehavior=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.pixelDistance=void 0,this._midPoints=[],this.config=t,this.selectionPointBehavior=r,this.coordinatePointBehavior=i,this.mutateFeature=a,this.readFeature=s,this.pixelDistance=u}getMidpointConfig(t){return{featureCoords:t,precision:this.coordinatePrecision,project:this.config.project,unproject:this.config.unproject,projection:this.config.projection}}get ids(){return this._midPoints.concat()}set ids(t){}getNearestMidPoint(t){let r,i=1/0;return this.ids.forEach(a=>{const s=this.readFeature.getGeometry(a),u=this.pixelDistance.measure(t,s.coordinates);u<this.pointerDistance&&u<i&&(i=u,r=a)}),r}insert({featureId:t,midPointId:r}){const i=this.readFeature.getGeometry(r),{midPointFeatureId:a,midPointSegment:s}=this.readFeature.getProperties(r),u=this.readFeature.getGeometry(a),d={featureId:a,coordinateMutations:[{type:du,index:s,coordinate:i.coordinates}],context:{updateType:_t.Commit}};let f=null;if(u.type==="Polygon")f=this.mutateFeature.updatePolygon(d);else{if(u.type!=="LineString")throw new Error("Midpoints can only be added to polygons or linestrings");f=this.mutateFeature.updateLineString(d)}if(!f)throw new Error("Failed to insert midpoint coordinate");const h=f.geometry.coordinates;this.readFeature.getProperties(t)[ft.COORDINATE_POINT_IDS]&&this.coordinatePointBehavior.createOrUpdate({featureId:t,featureCoordinates:h}),this.mutateFeature.deleteFeaturesIfPresent([...this.selectionPointBehavior.ids,...this._midPoints]),this.create({featureCoordinates:h,featureId:a}),this.selectionPointBehavior.create({featureCoordinates:h,featureId:t})}create({featureCoordinates:t,featureId:r}){if(!this.readFeature.hasFeature(r))throw new Error("Store does not have feature with this id");const i=qc(t),a=Ng(this.getMidpointConfig(i));this._midPoints=this.mutateFeature.createGuidancePoints({additionalProperties:s=>({mode:this.mode,midPointSegment:s,midPointFeatureId:r,[Ln.MID_POINT]:!0}),coordinates:a,type:Ln.MID_POINT})}delete(){this._midPoints.length&&(this.mutateFeature.deleteFeaturesIfPresent(this._midPoints),this._midPoints=[])}updateAllInPlace({featureCoordinates:t}){if(this._midPoints.length===0)return;const r=qc(t),i=Ng(this.getMidpointConfig(r));this.mutateFeature.updateGuidancePoints(this._midPoints.map((a,s)=>({featureId:a,coordinate:i[s]})))}updateOneAtIndex(t,r){if(t<0&&(t=this._midPoints.length+t),this._midPoints[t]===void 0)return;const i=qc(r),a=Ng(this.getMidpointConfig(i));this.mutateFeature.updateGuidancePoints([{featureId:this._midPoints[t],coordinate:a[t]}])}}class YF extends tr{constructor(t,r){super(t),this.mutateFeature=void 0,this._selectionPoints=[],this.mutateFeature=r}get ids(){return this._selectionPoints.concat()}set ids(t){}create({featureId:t,featureCoordinates:r}){const i=yh(r);this._selectionPoints=this.mutateFeature.createGuidancePoints({coordinates:i,type:Ln.SELECTION_POINT,additionalProperties:a=>({[Ln.SELECTION_POINT_FEATURE_ID]:t,index:a})})}delete(){this.ids.length&&(this.mutateFeature.deleteFeaturesIfPresent(this.ids),this._selectionPoints=[])}updateAllInPlace({featureCoordinates:t}){if(this._selectionPoints.length===0)return;const r=yh(t);r.length===this._selectionPoints.length&&this.mutateFeature.updateGuidancePoints(this._selectionPoints.map((i,a)=>({featureId:i,coordinate:r[a]})))}updateOneAtIndex(t,r){this._selectionPoints[t]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:this._selectionPoints[t],coordinate:r}])}}function VE(e,t){let r=!1;for(let u=0,d=t.length;u<d;u++){const f=t[u];for(let h=0,g=f.length,y=g-1;h<g;y=h++)(a=f[h])[1]>(i=e)[1]!=(s=f[y])[1]>i[1]&&i[0]<(s[0]-a[0])*(i[1]-a[1])/(s[1]-a[1])+a[0]&&(r=!r)}var i,a,s;return r}const fy=(e,t,r)=>{const i=s=>s*s,a=(s,u)=>i(s.x-u.x)+i(s.y-u.y);return Math.sqrt(((s,u,d)=>{const f=a(u,d);if(f===0)return a(s,u);let h=((s.x-u.x)*(d.x-u.x)+(s.y-u.y)*(d.y-u.y))/f;return h=Math.max(0,Math.min(1,h)),a(s,{x:u.x+h*(d.x-u.x),y:u.y+h*(d.y-u.y)})})(e,t,r))};class KF extends tr{constructor(t,r,i){super(t),this.config=void 0,this.createClickBoundingBox=void 0,this.pixelDistance=void 0,this.config=t,this.createClickBoundingBox=r,this.pixelDistance=i}find(t,r){let i,a,s,u=1/0,d=1/0;const f=this.createClickBoundingBox.create(t),h=this.store.search(f);for(let g=0;g<h.length;g++){const y=h[g],x=y.geometry;if(x.type==="Point"){if(y.properties.selectionPoint||y.properties.coordinatePoint||!r&&y.properties[Ln.MID_POINT])continue;const w=this.pixelDistance.measure(t,x.coordinates);!y.properties[Ln.MID_POINT]&&w<this.pointerDistance&&w<u&&(u=w,i=y)}else if(x.type==="LineString"){if(i)continue;for(let w=0;w<x.coordinates.length-1;w++){const _=x.coordinates[w],E=x.coordinates[w+1],T=fy({x:t.containerX,y:t.containerY},this.project(_[0],_[1]),this.project(E[0],E[1]));T<this.pointerDistance&&T<d&&(d=T,a=y)}}else if(x.type==="Polygon"){if(i||a)continue;VE([t.lng,t.lat],x.coordinates)&&(s=y)}}return{clickedFeature:i||a||s}}}class XF extends tr{constructor(t,r,i,a,s,u,d){super(t),this.config=void 0,this.featuresAtCursorEvent=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedFeatureId=null,this.dragPosition=void 0,this.config=t,this.featuresAtCursorEvent=r,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.readFeature=u,this.mutateFeature=d}startDragging(t,r){this.draggedFeatureId=r,this.dragPosition=[t.lng,t.lat]}stopDragging(){this.draggedFeatureId=null,this.dragPosition=void 0}isDragging(){return this.draggedFeatureId!==null}canDrag(t,r){const{clickedFeature:i}=this.featuresAtCursorEvent.find(t,!0);return!(!i||i.id!==r)}drag(t){if(!this.draggedFeatureId)return;const r=this.readFeature.getGeometry(this.draggedFeatureId),i=[t.lng,t.lat];if(r.type==="Polygon"||r.type==="LineString"){let a,s;if(r.type==="Polygon"?(a=r.coordinates[0],s=a.length-1):(a=r.coordinates,s=a.length),!this.dragPosition)return!1;for(let h=0;h<s;h++){const g=a[h];let y,x;if(this.config.projection==="web-mercator"){const w=On(this.dragPosition[0],this.dragPosition[1]),_=On(i[0],i[1]),E=On(g[0],g[1]),T={x:w.x-_.x,y:w.y-_.y},N=E.x-T.x,D=E.y-T.y,{lng:I,lat:F}=cu(N,D);y=I,x=F}else{const w=[this.dragPosition[0]-i[0],this.dragPosition[1]-i[1]];y=g[0]-w[0],x=g[1]-w[1]}if(y=Mn(y,this.config.coordinatePrecision),x=Mn(x,this.config.coordinatePrecision),y>180||y<-180||x>90||x<-90)return!1;a[h]=[y,x]}r.type==="Polygon"&&(a[a.length-1]=[a[0][0],a[0][1]]);const u=this.draggedFeatureId;let d=null;if(r.type==="Polygon")d=this.mutateFeature.updatePolygon({featureId:u,coordinateMutations:{type:oi,coordinates:[a]},context:{updateType:_t.Provisional}});else{if(r.type!=="LineString")return;d=this.mutateFeature.updateLineString({featureId:u,coordinateMutations:{type:oi,coordinates:a},context:{updateType:_t.Provisional}})}if(!d)return!1;const f=d.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:f}),this.selectionPoints.updateAllInPlace({featureCoordinates:f}),this.coordinatePoints.updateAllInPlace({featureId:u,featureCoordinates:f}),this.dragPosition=[t.lng,t.lat]}else r.type==="Point"&&(this.mutateFeature.updatePoint({featureId:this.draggedFeatureId,coordinateMutations:{type:oi,coordinates:i},context:{updateType:_t.Provisional}}),this.dragPosition=[t.lng,t.lat])}}class WF extends tr{constructor(t,r,i,a,s,u,d,f,h){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.coordinateSnapping=void 0,this.lineSnapping=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedCoordinate={id:null,index:-1},this.config=t,this.pixelDistance=r,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.coordinateSnapping=u,this.lineSnapping=d,this.readFeature=f,this.mutateFeature=h}getClosestCoordinate(t,r){const i={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let a;if(r.type==="LineString")a=r.coordinates;else{if(r.type!=="Polygon")return i;a=r.coordinates[0]}for(let s=0;s<a.length;s++){const u=this.pixelDistance.measure(t,a[s]);if(u<this.pointerDistance&&u<i.dist){const d=r.type==="Polygon"&&(s===a.length-1||s===0);i.dist=u,i.index=d?0:s,i.isFirstOrLastPolygonCoord=d}}return i}getDraggable(t,r){const i=this.readFeature.getGeometry(r);return this.getClosestCoordinate(t,i)}getDraggableIndex(t,r){const i=this.readFeature.getGeometry(r),a=this.getClosestCoordinate(t,i);return a.index===-1?-1:a.index}snapCoordinate(t,r,i){let a=[t.lng,t.lat];const s=u=>!!(u.properties&&u.properties.mode===i.properties.mode&&u.id!==this.draggedCoordinate.id);if(r!=null&&r.toLine){let u;u=this.lineSnapping.getSnappable(t,s).coordinate,u&&(a=u)}if(r.toCoordinate){let u;u=this.coordinateSnapping.getSnappable(t,s).coordinate,u&&(a=u)}if(r!=null&&r.toCustom){let u;u=r.toCustom(t,{currentCoordinate:this.draggedCoordinate.index,currentId:i.id,getCurrentGeometrySnapshot:i.id?()=>this.readFeature.getGeometry(i.id):()=>null,project:this.project,unproject:this.unproject}),u&&(a=u)}return a}drag(t,r,i){const a=this.draggedCoordinate.id;if(a===null)return!1;const s=this.draggedCoordinate.index,u=this.readFeature.getGeometry(a),d=this.readFeature.getProperties(a),f=u.type==="LineString"?u.coordinates:u.coordinates[0],h=u.type==="Polygon"&&(s===f.length-1||s===0),g=this.snapCoordinate(t,i,{type:"Feature",id:a,geometry:u,properties:d});if(t.lng>180||t.lng<-180||t.lat>90||t.lat<-90)return!1;if(h){const w=f.length-1;f[0]=g,f[w]=g}else f[s]=g;if(u.type!=="Point"&&!r&&bF({geometry:u}))return!1;const y=a;let x=null;return u.type==="Polygon"?x=this.mutateFeature.updatePolygon({featureId:y,coordinateMutations:{type:oi,coordinates:[f]},context:{updateType:_t.Provisional}}):u.type==="LineString"&&(x=this.mutateFeature.updateLineString({featureId:y,coordinateMutations:{type:oi,coordinates:f},context:{updateType:_t.Provisional}})),!!x&&(this.midPoints.updateOneAtIndex(s>0?s-1:-1,f),this.midPoints.updateOneAtIndex(s,f),this.selectionPoints.updateOneAtIndex(s,g),this.coordinatePoints.updateOneAtIndex(y,s,g),!0)}isDragging(){return this.draggedCoordinate.id!==null}startDragging(t,r){this.draggedCoordinate={id:t,index:r}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}}function y1(e){let t=0,r=0,i=0;return(e.geometry.type==="Polygon"?e.geometry.coordinates[0].slice(0,-1):e.geometry.coordinates).forEach(a=>{t+=a[0],r+=a[1],i++},!0),[t/i,r/i]}const YE=(e,t)=>{if(t===0||t===360||t===-360)return e;const r=.017453292519943295*t,i=(e.geometry.type==="Polygon"?e.geometry.coordinates[0]:e.geometry.coordinates).map(([u,d])=>On(u,d)),a=i.reduce((u,d)=>({x:u.x+d.x,y:u.y+d.y}),{x:0,y:0});a.x/=i.length,a.y/=i.length;const s=i.map(u=>({x:a.x+(u.x-a.x)*Math.cos(r)-(u.y-a.y)*Math.sin(r),y:a.y+(u.x-a.x)*Math.sin(r)+(u.y-a.y)*Math.cos(r)})).map(({x:u,y:d})=>[cu(u,d).lng,cu(u,d).lat]);return e.geometry.type==="Polygon"?e.geometry.coordinates[0]=s:e.geometry.coordinates=s,e};function hy(e){const t=(e.geometry.type==="Polygon"?e.geometry.coordinates[0]:e.geometry.coordinates).map(r=>{const{x:i,y:a}=On(r[0],r[1]);return[i,a]});return e.geometry.type==="Polygon"?(function(r){let i=0,a=0,s=0;const u=r.length;for(let d=0;d<u-1;d++){const[f,h]=r[d],[g,y]=r[d+1],x=f*y-g*h;i+=x,a+=(f+g)*x,s+=(h+y)*x}return i/=2,a/=6*i,s/=6*i,{x:a,y:s}})(t):(function(r){const i=r.length;let a=0,s=0;for(let u=0;u<i;u++){const[d,f]=r[u];a+=d,s+=f}return{x:a/i,y:s/i}})(t)}class QF extends tr{constructor(t,r,i,a,s,u){super(t),this.config=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryCentroid=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.config=t,this.selectionPoints=r,this.midPoints=i,this.coordinatePoints=a,this.readFeature=s,this.mutateFeature=u}reset(){this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.selectedGeometryCentroid=void 0}rotate(t,r){this.selectedGeometry||(this.selectedGeometry=this.readFeature.getGeometry(r));const i=this.selectedGeometry;if(i.type!=="Polygon"&&i.type!=="LineString")return;const a=[t.lng,t.lat];let s;const u={type:"Feature",geometry:i,properties:{}};if(this.config.projection==="web-mercator"){this.selectedGeometryWebMercatorCentroid||(this.selectedGeometryWebMercatorCentroid=hy(u));const y=On(t.lng,t.lat);if(s=EF(this.selectedGeometryWebMercatorCentroid,y),s===0)return;if(!this.lastBearing)return void(this.lastBearing=s);YE(u,-(this.lastBearing-s))}else{if(this.config.projection!=="globe")throw new Error("Unsupported projection");if(this.selectedGeometryCentroid||(this.selectedGeometryCentroid=y1({geometry:i})),s=dy(this.selectedGeometryCentroid,a),!this.lastBearing)return void(this.lastBearing=s+180);(function(y,x){if(x===0||x===360||x===-360)return y;const w=y1(y);(y.geometry.type==="Polygon"?y.geometry.coordinates[0]:y.geometry.coordinates).forEach(_=>{const E=dy(w,_)+x,T=(function(D,I){D[0]+=D[0]-I[0]>180?-360:I[0]-D[0]>180?360:0;const F=UE,k=I[1]*Math.PI/180,U=D[1]*Math.PI/180,A=U-k;let $=Math.abs(D[0]-I[0])*Math.PI/180;$>Math.PI&&($-=2*Math.PI);const ae=Math.log(Math.tan(U/2+Math.PI/4)/Math.tan(k/2+Math.PI/4)),ue=Math.abs(ae)>1e-11?A/ae:Math.cos(k);return Math.sqrt(A*A+ue*ue*$*$)*F})(w,_),N=GE(w,T,E);_[0]=N[0],_[1]=N[1]})})(u,-(this.lastBearing-(s+180)))}const d=i.type==="Polygon"?i.coordinates[0]:i.coordinates;d.forEach(y=>{y[0]=Mn(y[0],this.coordinatePrecision),y[1]=Mn(y[1],this.coordinatePrecision)});const f={featureId:r,coordinateMutations:{type:oi,coordinates:i.type==="Polygon"?[d]:d},context:{updateType:_t.Provisional}};let h=null;if(u.geometry.type==="Polygon")h=this.mutateFeature.updatePolygon(f);else{if(u.geometry.type!=="LineString")return;h=this.mutateFeature.updateLineString(f)}if(!h)return!1;const g=h.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:g}),this.selectionPoints.updateAllInPlace({featureCoordinates:g}),this.coordinatePoints.updateAllInPlace({featureId:r,featureCoordinates:g}),this.projection==="web-mercator"?this.lastBearing=s:this.projection==="globe"&&(this.lastBearing=s+180)}}class ZF extends tr{constructor(t,r){super(t),this.config=void 0,this.dragCoordinateResizeBehavior=void 0,this.config=t,this.dragCoordinateResizeBehavior=r}scale(t,r){if(!this.dragCoordinateResizeBehavior.isDragging()){const i=this.dragCoordinateResizeBehavior.getDraggableIndex(t,r);this.dragCoordinateResizeBehavior.startDragging(r,i)}this.dragCoordinateResizeBehavior.drag(t,"center-fixed")}reset(){this.dragCoordinateResizeBehavior.stopDragging()}}function KE({coordinates:e,originX:t,originY:r,xScale:i,yScale:a}){i===1&&a===1||e.forEach(s=>{const{x:u,y:d}=On(s[0],s[1]),f=t+(u-t)*i,h=r+(d-r)*a,{lng:g,lat:y}=cu(f,h);s[0]=g,s[1]=y})}class JF extends tr{constructor(t,r,i,a,s,u,d){super(t),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.minimumScale=1e-4,this.draggedCoordinate={id:null,index:-1},this.boundingBoxMaps={opposite:{0:4,1:5,2:6,3:7,4:0,5:1,6:2,7:3}},this.config=t,this.pixelDistance=r,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.readFeature=u,this.mutateFeature=d}getClosestCoordinate(t,r){const i={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let a;if(r.type==="LineString")a=r.coordinates;else{if(r.type!=="Polygon")return i;a=r.coordinates[0]}for(let s=0;s<a.length;s++){const u=this.pixelDistance.measure(t,a[s]);if(u<this.pointerDistance&&u<i.dist){const d=r.type==="Polygon"&&(s===a.length-1||s===0);i.dist=u,i.index=d?0:s,i.isFirstOrLastPolygonCoord=d}}return i}isValidDragWebMercator(t,r,i){switch(t){case 0:if(r<=0||i>=0)return!1;break;case 1:if(i>=0)return!1;break;case 2:if(r>=0||i>=0)return!1;break;case 3:if(r>=0)return!1;break;case 4:if(r>=0||i<=0)return!1;break;case 5:if(i<=0)return!1;break;case 6:if(r<=0||i<=0)return!1;break;case 7:if(r<=0)return!1}return!0}getSelectedFeatureDataWebMercator(){if(!this.draggedCoordinate.id||this.draggedCoordinate.index===-1)return null;const t=this.getFeature(this.draggedCoordinate.id);if(!t)return null;const r=this.getNormalisedCoordinates(t.geometry);return{boundingBox:this.getBBoxWebMercator(r),feature:t,updatedCoords:r,selectedCoordinate:r[this.draggedCoordinate.index]}}centerWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{feature:i,boundingBox:a,updatedCoords:s,selectedCoordinate:u}=r,d=hy(i);if(!d)return null;const f=On(u[0],u[1]),{closestBBoxIndex:h}=this.getIndexesWebMercator(a,f),g=On(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:h,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:d}),s}centerFixedWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{feature:i,boundingBox:a,updatedCoords:s,selectedCoordinate:u}=r,d=hy(i);if(!d)return null;const f=On(u[0],u[1]),{closestBBoxIndex:h}=this.getIndexesWebMercator(a,f),g=On(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:h,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:d}),s}scaleFixedWebMercator({closestBBoxIndex:t,webMercatorOrigin:r,webMercatorSelected:i,webMercatorCursor:a,updatedCoords:s}){if(!this.isValidDragWebMercator(t,r.x-a.x,r.y-a.y))return null;let u=$a(r,a)/$a(r,i);return u<0&&(u=this.minimumScale),KE({coordinates:s,originX:r.x,originY:r.y,xScale:u,yScale:u}),s}oppositeFixedWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{boundingBox:i,updatedCoords:a,selectedCoordinate:s}=r,u=On(s[0],s[1]),{oppositeBboxIndex:d,closestBBoxIndex:f}=this.getIndexesWebMercator(i,u),h={x:i[d][0],y:i[d][1]},g=On(t.lng,t.lat);return this.scaleFixedWebMercator({closestBBoxIndex:f,updatedCoords:a,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:h}),a}oppositeWebMercatorDrag(t){const r=this.getSelectedFeatureDataWebMercator();if(!r)return null;const{boundingBox:i,updatedCoords:a,selectedCoordinate:s}=r,u=On(s[0],s[1]),{oppositeBboxIndex:d,closestBBoxIndex:f}=this.getIndexesWebMercator(i,u),h={x:i[d][0],y:i[d][1]},g=On(t.lng,t.lat);return this.scaleWebMercator({closestBBoxIndex:f,updatedCoords:a,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:h}),a}scaleWebMercator({closestBBoxIndex:t,webMercatorOrigin:r,webMercatorSelected:i,webMercatorCursor:a,updatedCoords:s}){const u=r.x-a.x,d=r.y-a.y;if(!this.isValidDragWebMercator(t,u,d))return null;let f=1;u!==0&&t!==1&&t!==5&&(f=1-(r.x-i.x-u)/u);let h=1;return d!==0&&t!==3&&t!==7&&(h=1-(r.y-i.y-d)/d),this.validateScale(f,h)?(f<0&&(f=this.minimumScale),h<0&&(h=this.minimumScale),this.performWebMercatorScale(s,r.x,r.y,f,h),s):null}getFeature(t){if(this.draggedCoordinate.id===null)return null;const r=this.readFeature.getGeometry(t);return r.type!=="Polygon"&&r.type!=="LineString"?null:{id:t,type:"Feature",geometry:r,properties:{}}}getNormalisedCoordinates(t){return t.type==="Polygon"?t.coordinates[0]:t.coordinates}validateScale(t,r){const i=!isNaN(t)&&r<Number.MAX_SAFE_INTEGER,a=!isNaN(r)&&r<Number.MAX_SAFE_INTEGER;return i&&a}performWebMercatorScale(t,r,i,a,s){t.forEach(u=>{const{x:d,y:f}=On(u[0],u[1]),h=r+(d-r)*a,g=i+(f-i)*s,{lng:y,lat:x}=cu(h,g);u[0]=y,u[1]=x})}getBBoxWebMercator(t){const r=[1/0,1/0,-1/0,-1/0];(t=t.map(d=>{const{x:f,y:h}=On(d[0],d[1]);return[f,h]})).forEach(([d,f])=>{d<r[0]&&(r[0]=d),f<r[1]&&(r[1]=f),d>r[2]&&(r[2]=d),f>r[3]&&(r[3]=f)});const[i,a,s,u]=r;return[[i,u],[(i+s)/2,u],[s,u],[s,u+(a-u)/2],[s,a],[(i+s)/2,a],[i,a],[i,u+(a-u)/2]]}getIndexesWebMercator(t,r){let i,a=1/0;for(let s=0;s<t.length;s++){const u=$a({x:r.x,y:r.y},{x:t[s][0],y:t[s][1]});u<a&&(i=s,a=u)}if(i===void 0)throw new Error("No closest coordinate found");return{oppositeBboxIndex:this.boundingBoxMaps.opposite[i],closestBBoxIndex:i}}isDragging(){return this.draggedCoordinate.id!==null}startDragging(t,r){this.draggedCoordinate={id:t,index:r}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}getDraggableIndex(t,r){const i=this.readFeature.getGeometry(r),a=this.getClosestCoordinate(t,i);return a.index===-1?-1:a.index}drag(t,r){if(!this.draggedCoordinate.id)return!1;const i=this.getFeature(this.draggedCoordinate.id);if(!i)return!1;let a=null;if(r==="center"?a=this.centerWebMercatorDrag(t):r==="opposite"?a=this.oppositeWebMercatorDrag(t):r==="center-fixed"?a=this.centerFixedWebMercatorDrag(t):r==="opposite-fixed"&&(a=this.oppositeFixedWebMercatorDrag(t)),!a)return!1;for(let f=0;f<a.length;f++){const h=a[f];if(h[0]=Mn(h[0],this.coordinatePrecision),h[1]=Mn(h[1],this.coordinatePrecision),!ip(h,this.coordinatePrecision))return!1}const s=i.id;let u=null;if(i.geometry.type==="Polygon"?u=this.mutateFeature.updatePolygon({featureId:s,coordinateMutations:{type:oi,coordinates:[a]},context:{updateType:_t.Provisional}}):i.geometry.type==="LineString"&&(u=this.mutateFeature.updateLineString({featureId:s,coordinateMutations:{type:oi,coordinates:a},context:{updateType:_t.Provisional}})),!u)return!1;const d=u.geometry.coordinates;return this.midPoints.updateAllInPlace({featureCoordinates:d}),this.selectionPoints.updateAllInPlace({featureCoordinates:d}),this.coordinatePoints.updateAllInPlace({featureId:s,featureCoordinates:d}),!0}}const ek={deselect:"Escape",delete:"Delete",rotate:["Control","r"],scale:["Control","s"]},v1={pointerOver:"move",dragStart:"move",dragEnd:"move",insertMidpoint:"crosshair"};class tk extends yF{constructor(t){super(t,!0),this.mode="select",this.allowManualDeselection=!0,this.dragEventThrottle=5,this.dragEventCount=0,this.selected=[],this.flags={},this.keyEvents=ek,this.cursors=v1,this.validations={},this.dragTarget={type:"none"},this.selectionPoints=void 0,this.midPoints=void 0,this.coordinateSnap=void 0,this.featuresAtMouseEvent=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.dragFeature=void 0,this.dragCoordinate=void 0,this.rotateFeature=void 0,this.scaleFeature=void 0,this.dragCoordinateResizeFeature=void 0,this.coordinatePoints=void 0,this.lineSnap=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(t)}updateOptions(t){if(super.updateOptions(t),this.cursors=t&&t.cursors?Wt({},this.cursors,t.cursors):v1,t?.keyEvents===null?this.keyEvents={deselect:null,delete:null,rotate:null,scale:null}:t!=null&&t.keyEvents&&(this.keyEvents=Wt({},this.keyEvents,t.keyEvents)),t?.dragEventThrottle!==void 0&&(this.dragEventThrottle=t.dragEventThrottle),t?.allowManualDeselection!==void 0&&(this.allowManualDeselection=t.allowManualDeselection),t!=null&&t.flags){this.flags=Wt({},this.flags,t.flags),this.validations={};for(const r in this.flags){const i=this.flags[r].feature;i&&i.validation&&(this.validations[r]=i.validation)}}}selectFeature(t){this.select(t,!1)}setSelecting(){if(this._state!=="started")throw new Error("Mode must be started to move to selecting state");this._state="selecting"}registerBehaviors(t){this.readFeature=new Xv(t),this.mutateFeature=new op(t,{validate:(r,i)=>{const a=r.properties.mode;return this.validations&&this.validations[a]?this.validations[a](r,i):{valid:!0}}}),this.pixelDistance=new sp(t),this.clickBoundingBox=new ap(t),this.featuresAtMouseEvent=new KF(t,this.clickBoundingBox,this.pixelDistance),this.selectionPoints=new YF(t,this.mutateFeature),this.coordinatePoints=new Jv(t,this.readFeature,this.mutateFeature),this.midPoints=new VF(t,this.selectionPoints,this.coordinatePoints,this.mutateFeature,this.readFeature,this.pixelDistance),this.coordinateSnap=new Wv(t,this.pixelDistance,this.clickBoundingBox),this.lineSnap=new Qv(t,this.pixelDistance,this.clickBoundingBox),this.rotateFeature=new QF(t,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragFeature=new XF(t,this.featuresAtMouseEvent,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragCoordinate=new WF(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.coordinateSnap,this.lineSnap,this.readFeature,this.mutateFeature),this.dragCoordinateResizeFeature=new JF(t,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.scaleFeature=new ZF(t,this.dragCoordinateResizeFeature)}deselectFeature(t){this.deselect(t)}deselect(t){this.selected.includes(t)&&(this.mutateFeature.setDeselected(this.selected),this.onDeselect(this.selected[0]),this.selected=[],this.selectionPoints.delete(),this.midPoints.delete(),this.dragTarget={type:"none"})}deleteSelected(){this.selected.length&&this.mutateFeature.deleteFeaturesIfPresent(this.selected),this.selected=[],this.dragTarget={type:"none"}}clearDragTargetAndCursor(){this.dragTarget={type:"none"},this.setCursor("unset")}getSelectedFlags(t){const r=this.readFeature.getProperties(t),i=this.flags[r.mode],a=i?.feature,s=a?.coordinates;return{featureFlags:a,coordinatesFlags:s,hasDraggableFlags:a&&(a.draggable||s?.draggable||s?.resizable||typeof s?.midpoints=="object"&&s.midpoints.draggable)}}onRightClick(t){if(!this.selectionPoints.ids.length)return;let r,i=1/0;if(this.selectionPoints.ids.forEach(x=>{const w=this.readFeature.getGeometry(x),_=this.pixelDistance.measure(t,w.coordinates);_<this.pointerDistance&&_<i&&(i=_,r=this.readFeature.getProperties(x))}),!r)return;const a=r.selectionPointFeatureId,s=r.index,u=this.readFeature.getProperties(a),d=this.flags[u.mode];if(!(d&&d.feature&&d.feature.coordinates&&d.feature.coordinates.deletable))return;const f=this.readFeature.getGeometry(a);let h;if(f.type==="Polygon"){if(h=f.coordinates[0],h.length<=4)return}else if(f.type!=="LineString"||(h=f.coordinates,h.length<=2))return;f.type!=="Polygon"||s!==0&&s!==h.length-1?h.splice(s,1):(h.shift(),h.pop(),h.push([h[0][0],h[0][1]]));let g=null;if(f.type==="Polygon"?g=this.mutateFeature.updatePolygon({featureId:a,coordinateMutations:{type:oi,coordinates:[h]},context:{updateType:_t.Commit}}):f.type==="LineString"&&(g=this.mutateFeature.updateLineString({featureId:a,coordinateMutations:{type:oi,coordinates:h},context:{updateType:_t.Commit}})),!g)return;const y=g.geometry.coordinates;this.mutateFeature.deleteFeaturesIfPresent([...this.midPoints.ids,...this.selectionPoints.ids]),u.coordinatePointIds&&this.coordinatePoints.createOrUpdate({featureId:a,featureCoordinates:y}),this.selectionPoints.create({featureCoordinates:y,featureId:a}),d&&d.feature&&d.feature.coordinates&&d.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:y,featureId:a}),this.onFinish(a,{action:BE,mode:this.mode})}select(t,r=!0){if(this.selected[0]===t)return;const{mode:i}=this.readFeature.getProperties(t),a=this.flags[i];if(!a||!a.feature)return;const s=this.selected[0];if(s){if(s===t)return;this.deselect(s)}r&&this.setCursor(this.cursors.pointerOver),this.selected=[t],this.mutateFeature.setSelected(t),this.onSelect(t);const{type:u,coordinates:d}=this.readFeature.getGeometry(t);u!=="LineString"&&u!=="Polygon"||d&&a&&a.feature.coordinates&&(this.selectionPoints.create({featureCoordinates:d,featureId:t}),a.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:d,featureId:t}))}onLeftClick(t){const{clickedFeature:r}=this.featuresAtMouseEvent.find(t,this.selected.length>0),i=this.midPoints.getNearestMidPoint(t),a=this.selected[0];if(a){var s;const{featureFlags:u}=this.getSelectedFlags(a);if(u!=null&&(s=u.coordinates)!=null&&s.midpoints&&i){if(u.coordinates.draggable){const d=this.pixelDistance.measure(t,this.readFeature.getGeometry(i).coordinates),{dist:f}=this.dragCoordinate.getDraggable(t,a);if(f!==void 0&&d>f)return}return this.midPoints.insert({featureId:a,midPointId:i}),void this.onFinish(this.selected[0],{action:a1,mode:this.mode})}}if(r!=null&&r.id)this.select(r.id,!0);else if(this.selected.length&&this.allowManualDeselection)return void this.deselect(this.selected[0])}start(){this.setStarted(),this.setSelecting()}stop(){this.cleanUp(),this.setStarted(),this.setStopped()}onClick(t){t.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,t)||t.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,t)?this.onRightClick(t):t.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,t)&&this.onLeftClick(t)}canScale(t){return this.keyEvents.scale&&this.keyEvents.scale.every(r=>t.heldKeys.includes(r))}canRotate(t){return this.keyEvents.rotate&&this.keyEvents.rotate.every(r=>t.heldKeys.includes(r))}preventDefaultKeyEvent(t){const r=this.canRotate(t),i=this.canScale(t);(r||i)&&t.preventDefault()}onKeyDown(t){this.preventDefaultKeyEvent(t)}onKeyUp(t){if(this.preventDefaultKeyEvent(t),this.keyEvents.delete&&t.key===this.keyEvents.delete){if(!this.selected.length)return;const r=this.selected[0];this.onDeselect(this.selected[0]),this.coordinatePoints.deletePointsByFeatureIds([r]),this.deleteSelected(),this.selectionPoints.delete(),this.midPoints.delete()}else this.keyEvents.deselect&&t.key===this.keyEvents.deselect&&this.cleanUp()}cleanUp(){this.selected.length&&this.deselect(this.selected[0])}onDragStart(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,t))return;const i=this.selected[0];if(!i)return;const{featureFlags:a,coordinatesFlags:s,hasDraggableFlags:u}=this.getSelectedFlags(i);if(!u)return;this.dragEventCount=0;const d=this.dragTarget.type!=="none"&&this.dragTarget.featureId===i?this.dragTarget:{type:"none"},f=d.type==="coordinate"?d.coordinateIndex:this.dragCoordinate.getDraggableIndex(t,i),h=d.type==="resize"?d.coordinateIndex:this.dragCoordinateResizeFeature.getDraggableIndex(t,i),g=s?.resizable&&h!==-1,y=s?.draggable&&f!==-1,x=s&&typeof s.midpoints=="object"&&s.midpoints.draggable,w=a?.draggable&&(d.type==="feature"||this.dragFeature.canDrag(t,i));if(g)return this.setCursor(this.cursors.dragStart),this.dragCoordinateResizeFeature.startDragging(i,h),void r(!1);if(y)return this.setCursor(this.cursors.dragStart),this.dragCoordinate.startDragging(i,f),void r(!1);if(x){const _=d.type==="midpoint"?d.midPointId:this.midPoints.getNearestMidPoint(t);if(this.selected.length&&_){this.midPoints.insert({featureId:i,midPointId:_}),this.onFinish(this.selected[0],{action:a1,mode:this.mode});const E=this.dragCoordinate.getDraggableIndex(t,i);return this.dragCoordinate.startDragging(i,E),void r(!1)}}if(w)return this.setCursor(this.cursors.dragStart),this.dragFeature.startDragging(t,i),void r(!1);this.setCursor("unset")}onDrag(t,r){if(!this.allowPointerEvent(this.pointerEvents.onDrag,t))return;const i=this.selected[0];if(!i)return;const a=this.readFeature.getProperties(i),s=this.flags[a.mode],u=(s&&s.feature&&s.feature.selfIntersectable)===!0;if(this.dragEventCount++,this.dragEventCount%this.dragEventThrottle!=0){if(s&&s.feature&&s.feature.rotateable&&this.canRotate(t))return r(!1),void this.rotateFeature.rotate(t,i);if(s&&s.feature&&s.feature.scaleable&&this.canScale(t))return r(!1),void this.scaleFeature.scale(t,i);if(this.dragCoordinateResizeFeature.isDragging()&&s.feature&&s.feature.coordinates&&s.feature.coordinates.resizable){if(this.projection==="globe")throw new Error("Globe is currently unsupported projection for resizable");return r(!1),void this.dragCoordinateResizeFeature.drag(t,s.feature.coordinates.resizable)}if(this.dragCoordinate.isDragging()){var d;const f=(d=s.feature)==null||(d=d.coordinates)==null?void 0:d.snappable;let h={toCoordinate:!1};return f===!0?h={toCoordinate:!0}:typeof f=="object"&&(h=f),void this.dragCoordinate.drag(t,u,h)}this.dragFeature.isDragging()?this.dragFeature.drag(t):r(!0)}}onDragEnd(t,r){this.allowPointerEvent(this.pointerEvents.onDragEnd,t)&&(this.setCursor(this.cursors.dragEnd),this.dragCoordinate.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinate"}):this.dragFeature.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragFeature"}):this.dragCoordinateResizeFeature.isDragging()&&this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinateResize"}),this.dragCoordinate.stopDragging(),this.dragFeature.stopDragging(),this.dragCoordinateResizeFeature.stopDragging(),this.rotateFeature.reset(),this.scaleFeature.reset(),r(!0))}onMouseMove(t){const r=this.selected[0];if(!r)return void this.clearDragTargetAndCursor();if(this.dragFeature.isDragging()||this.dragCoordinate.isDragging()||this.dragCoordinateResizeFeature.isDragging())return;const{featureFlags:i}=this.getSelectedFlags(r);if(!i)return void this.clearDragTargetAndCursor();let a;const s=i.coordinates;if(s!=null&&s.midpoints&&(a=this.midPoints.getNearestMidPoint(t),a&&(this.dragTarget={type:"midpoint",featureId:r,midPointId:a},this.setCursor(this.cursors.insertMidpoint))),s&&s.draggable){const{index:u,dist:d}=this.dragCoordinate.getDraggable(t,r);if(u>-1)return a&&this.pixelDistance.measure(t,this.readFeature.getGeometry(a).coordinates)<d?void 0:(this.dragTarget={type:"coordinate",featureId:r,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver))}if(s&&s.resizable){const u=this.dragCoordinateResizeFeature.getDraggableIndex(t,r);if(u>-1)return this.dragTarget={type:"resize",featureId:r,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver)}if(i.draggable&&this.dragFeature.canDrag(t,r))return a?void 0:(this.dragTarget={type:"feature",featureId:r},void this.setCursor(this.cursors.pointerOver));a||this.clearDragTargetAndCursor()}styleFeature(t){const r=Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(t.properties.mode===this.mode&&t.geometry.type==="Point"){if(t.properties[Ln.SELECTION_POINT])return r.pointColor=this.getHexColorStylingValue(this.styles.selectionPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.selectionPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectionPointOutlineColor,r.pointOutlineColor,t),r.pointWidth=this.getNumericStylingValue(this.styles.selectionPointWidth,r.pointWidth,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectionPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectionPointOutlineWidth,2,t),r.zIndex=30,r;if(t.properties[Ln.MID_POINT])return r.pointColor=this.getHexColorStylingValue(this.styles.midPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.midPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.midPointOutlineColor,r.pointOutlineColor,t),r.pointWidth=this.getNumericStylingValue(this.styles.midPointWidth,4,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.midPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.midPointOutlineWidth,2,t),r.zIndex=50,r}else if(t.properties[Ln.SELECTED]){if(t.geometry.type==="Point"&&t.properties[ft.MARKER])return r.markerUrl=this.getUrlStylingValue(this.styles.selectedMarkerUrl,pF,t),r.markerHeight=this.getNumericStylingValue(this.styles.selectedMarkerHeight,40,t),r.markerWidth=this.getNumericStylingValue(this.styles.selectedMarkerWidth,32,t),r;if(t.geometry.type==="Polygon")return r.polygonFillColor=this.getHexColorStylingValue(this.styles.selectedPolygonColor,r.polygonFillColor,t),r.polygonOutlineWidth=this.getNumericStylingValue(this.styles.selectedPolygonOutlineWidth,r.polygonOutlineWidth,t),r.polygonOutlineColor=this.getHexColorStylingValue(this.styles.selectedPolygonOutlineColor,r.polygonOutlineColor,t),r.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPolygonOutlineOpacity,1,t),r.polygonFillOpacity=this.getNumericStylingValue(this.styles.selectedPolygonFillOpacity,r.polygonFillOpacity,t),r.zIndex=Hc,r;if(t.geometry.type==="LineString")return r.lineStringColor=this.getHexColorStylingValue(this.styles.selectedLineStringColor,r.lineStringColor,t),r.lineStringWidth=this.getNumericStylingValue(this.styles.selectedLineStringWidth,r.lineStringWidth,t),r.zIndex=Hc,r;if(t.geometry.type==="Point")return r.pointWidth=this.getNumericStylingValue(this.styles.selectedPointWidth,r.pointWidth,t),r.pointColor=this.getHexColorStylingValue(this.styles.selectedPointColor,r.pointColor,t),r.pointOpacity=this.getNumericStylingValue(this.styles.selectedPointOpacity,1,t),r.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectedPointOutlineColor,r.pointOutlineColor,t),r.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPointOutlineOpacity,1,t),r.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectedPointOutlineWidth,r.pointOutlineWidth,t),r.zIndex=Hc,r}return r}afterFeatureUpdated(t){if(this.selected.length&&t.id===this.selected[0]){var r,i;const a=this.flags[t.properties.mode];if(a==null||(r=a.feature)==null||!r.coordinates)return;const s=t.geometry.type,u=t.id;if(this.selectionPoints.delete(),this.midPoints.delete(),s!=="LineString"&&s!=="Polygon")return;const d=t.geometry.coordinates;this.selectionPoints.create({featureCoordinates:d,featureId:u}),a!=null&&(i=a.feature)!=null&&(i=i.coordinates)!=null&&i.midpoints&&this.midPoints.create({featureCoordinates:d,featureId:u})}}}class nk extends md{constructor(...t){super(...t),this.type=lu.Static,this.mode="static"}start(){}stop(){}onKeyUp(){}onKeyDown(){}onClick(){}onDragStart(){}onDrag(){}onDragEnd(){}onMouseMove(){}cleanUp(){}styleFeature(){return Wt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0})}}function XE(e,t,r,i,a){for(;i>r;){if(i-r>600){const f=i-r+1,h=t-r+1,g=Math.log(f),y=.5*Math.exp(2*g/3),x=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1);XE(e,t,Math.max(r,Math.floor(t-h*y/f+x)),Math.min(i,Math.floor(t+(f-h)*y/f+x)),a)}const s=e[t];let u=r,d=i;for(Dc(e,r,t),a(e[i],s)>0&&Dc(e,r,i);u<d;){for(Dc(e,u,d),u++,d--;a(e[u],s)<0;)u++;for(;a(e[d],s)>0;)d--}a(e[r],s)===0?Dc(e,r,d):(d++,Dc(e,d,i)),d<=t&&(r=d+1),t<=d&&(i=d-1)}}function Dc(e,t,r){const i=e[t];e[t]=e[r],e[r]=i}function ql(e,t){kc(e,0,e.children.length,t,e)}function kc(e,t,r,i,a){a||(a=Xl([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let s=t;s<r;s++){const u=e.children[s];Lc(a,e.leaf?i(u):u)}return a}function Lc(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function rk(e,t){return e.minX-t.minX}function ik(e,t){return e.minY-t.minY}function Ig(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function Hf(e){return e.maxX-e.minX+(e.maxY-e.minY)}function ok(e,t){const r=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),a=Math.min(e.maxX,t.maxX),s=Math.min(e.maxY,t.maxY);return Math.max(0,a-r)*Math.max(0,s-i)}function jg(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function qf(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function Xl(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function b1(e,t,r,i,a){const s=[t,r];for(;s.length;){if((r=s.pop())-(t=s.pop())<=i)continue;const u=t+Math.ceil((r-t)/i/2)*i;XE(e,u,t,r,a),s.push(t,u,u,r)}}class ak{constructor(t){this._maxEntries=void 0,this._minEntries=void 0,this.data=void 0,this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}search(t){let r=this.data;const i=[];if(!qf(t,r))return i;const a=this.toBBox,s=[];for(;r;){for(let u=0;u<r.children.length;u++){const d=r.children[u],f=r.leaf?a(d):d;qf(t,f)&&(r.leaf?i.push(d):jg(t,f)?this._all(d,i):s.push(d))}r=s.pop()}return i}collides(t){let r=this.data;if(qf(t,r)){const i=[];for(;r;){for(let a=0;a<r.children.length;a++){const s=r.children[a],u=r.leaf?this.toBBox(s):s;if(qf(t,u)){if(r.leaf||jg(t,u))return!0;i.push(s)}}r=i.pop()}}return!1}load(t){if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return}let r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){const i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r}insert(t){this._insert(t,this.data.height-1)}clear(){this.data=Xl([])}remove(t){let r=this.data;const i=this.toBBox(t),a=[],s=[];let u,d,f=!1;for(;r||a.length;){if(r||(r=a.pop(),d=a[a.length-1],u=s.pop(),f=!0),r.leaf){const h=r.children.indexOf(t);h!==-1&&(r.children.splice(h,1),a.push(r),this._condense(a))}f||r.leaf||!jg(r,i)?d?(u++,r=d.children[u],f=!1):r=null:(a.push(r),s.push(u),u=0,d=r,r=r.children[0])}}toBBox(t){return t}compareMinX(t,r){return t.minX-r.minX}compareMinY(t,r){return t.minY-r.minY}_all(t,r){const i=[];for(;t;)t.leaf?r.push(...t.children):i.push(...t.children),t=i.pop();return r}_build(t,r,i,a){const s=i-r+1;let u,d=this._maxEntries;if(s<=d)return u=Xl(t.slice(r,i+1)),ql(u,this.toBBox),u;a||(a=Math.ceil(Math.log(s)/Math.log(d)),d=Math.ceil(s/Math.pow(d,a-1))),u=Xl([]),u.leaf=!1,u.height=a;const f=Math.ceil(s/d),h=f*Math.ceil(Math.sqrt(d));b1(t,r,i,h,this.compareMinX);for(let g=r;g<=i;g+=h){const y=Math.min(g+h-1,i);b1(t,g,y,f,this.compareMinY);for(let x=g;x<=y;x+=f){const w=Math.min(x+f-1,y);u.children.push(this._build(t,x,w,a-1))}}return ql(u,this.toBBox),u}_chooseSubtree(t,r,i,a){for(;a.push(r),!r.leaf&&a.length-1!==i;){let d,f=1/0,h=1/0;for(let g=0;g<r.children.length;g++){const y=r.children[g],x=Ig(y),w=(s=t,u=y,(Math.max(u.maxX,s.maxX)-Math.min(u.minX,s.minX))*(Math.max(u.maxY,s.maxY)-Math.min(u.minY,s.minY))-x);w<h?(h=w,f=x<f?x:f,d=y):w===h&&x<f&&(f=x,d=y)}r=d||r.children[0]}var s,u;return r}_insert(t,r,i){const a=i?t:this.toBBox(t),s=[],u=this._chooseSubtree(a,this.data,r,s);for(u.children.push(t),Lc(u,a);r>=0&&s[r].children.length>this._maxEntries;)this._split(s,r),r--;this._adjustParentBBoxes(a,s,r)}_split(t,r){const i=t[r],a=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,a);const u=this._chooseSplitIndex(i,s,a),d=Xl(i.children.splice(u,i.children.length-u));d.height=i.height,d.leaf=i.leaf,ql(i,this.toBBox),ql(d,this.toBBox),r?t[r-1].children.push(d):this._splitRoot(i,d)}_splitRoot(t,r){this.data=Xl([t,r]),this.data.height=t.height+1,this.data.leaf=!1,ql(this.data,this.toBBox)}_chooseSplitIndex(t,r,i){let a,s=1/0,u=1/0;for(let d=r;d<=i-r;d++){const f=kc(t,0,d,this.toBBox),h=kc(t,d,i,this.toBBox),g=ok(f,h),y=Ig(f)+Ig(h);g<s?(s=g,a=d,u=y<u?y:u):g===s&&y<u&&(u=y,a=d)}return a||i-r}_chooseSplitAxis(t,r,i){const a=t.leaf?this.compareMinX:rk,s=t.leaf?this.compareMinY:ik;this._allDistMargin(t,r,i,a)<this._allDistMargin(t,r,i,s)&&t.children.sort(a)}_allDistMargin(t,r,i,a){t.children.sort(a);const s=this.toBBox,u=kc(t,0,r,s),d=kc(t,i-r,i,s);let f=Hf(u)+Hf(d);for(let h=r;h<i-r;h++){const g=t.children[h];Lc(u,t.leaf?s(g):g),f+=Hf(u)}for(let h=i-r-1;h>=r;h--){const g=t.children[h];Lc(d,t.leaf?s(g):g),f+=Hf(d)}return f}_adjustParentBBoxes(t,r,i){for(let a=i;a>=0;a--)Lc(r[a],t)}_condense(t){for(let r,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(r=t[i-1].children,r.splice(r.indexOf(t[i]),1)):this.clear():ql(t[i],this.toBBox)}}class sk{constructor(t){this.tree=void 0,this.idToNode=void 0,this.nodeToId=void 0,this.tree=new ak(t&&t.maxEntries?t.maxEntries:9),this.idToNode=new Map,this.nodeToId=new Map}setMaps(t,r){this.idToNode.set(t.id,r),this.nodeToId.set(r,t.id)}toBBox(t){const r=[],i=[];let a;if(t.geometry.type==="Polygon")a=t.geometry.coordinates[0];else if(t.geometry.type==="LineString")a=t.geometry.coordinates;else{if(t.geometry.type!=="Point")throw new Error("Not a valid feature to turn into a bounding box");a=[t.geometry.coordinates]}for(let d=0;d<a.length;d++)i.push(a[d][1]),r.push(a[d][0]);const s=Math.min(...i),u=Math.max(...i);return{minX:Math.min(...r),minY:s,maxX:Math.max(...r),maxY:u}}insert(t){if(this.idToNode.get(String(t.id)))throw new Error("Feature already exists");const r=this.toBBox(t);this.setMaps(t,r),this.tree.insert(r)}load(t){const r=[],i=new Set;t.forEach(a=>{const s=this.toBBox(a);if(this.setMaps(a,s),i.has(String(a.id)))throw new Error(`Duplicate feature ID found ${a.id}`);i.add(String(a.id)),r.push(s)}),this.tree.load(r)}update(t){this.remove(t.id);const r=this.toBBox(t);this.setMaps(t,r),this.tree.insert(r)}remove(t){const r=this.idToNode.get(t);if(!r)throw new Error(`${t} not inserted into the spatial index`);this.tree.remove(r)}clear(){this.tree.clear()}search(t){return this.tree.search(this.toBBox(t)).map(r=>this.nodeToId.get(r))}collides(t){return this.tree.collides(this.toBBox(t))}}const lk={getId:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=16*Math.random()|0;return(e=="x"?t:3&t|8).toString(16)}),isValidId:e=>typeof e=="string"&&e.length===36},x1={target:"geometry"},w1={target:"properties"};class uk{constructor(t){this.idStrategy=void 0,this.tracked=void 0,this.spatialIndex=void 0,this.store=void 0,this._onChange=()=>{},this.store={},this.spatialIndex=new sk,this.tracked=!t||t.tracked!==!1,this.idStrategy=t&&t.idStrategy?t.idStrategy:lk}clone(t){return JSON.parse(JSON.stringify(t))}getId(){return this.idStrategy.getId()}has(t){return!!this.store[t]}load(t,r,i,a){if(t.length===0)return[];let s=this.clone(t);const u=[],d=[];s=s.filter(h=>{h.id==null&&(h.id=this.idStrategy.getId());const g=h.id;if(r){const y=r(h);if(!y.valid)return u.push({id:g,valid:!1,reason:y.reason}),!1}if(this.tracked){if(h.properties.createdAt){if(!l1(h.properties.createdAt))return u.push({id:h.id,valid:!1,reason:"createdAt is not a valid numeric timestamp"}),!1}else h.properties.createdAt=+new Date;if(h.properties.updatedAt){if(!l1(h.properties.updatedAt))return u.push({id:h.id,valid:!1,reason:"updatedAt is not a valid numeric timestamp"}),!1}else h.properties.updatedAt=+new Date}return this.has(g)?(u.push({id:g,valid:!1,reason:`Feature already exists with this id: ${g}`}),!1):(this.store[g]=h,d.push(h),u.push({id:g,valid:!0}),!0)}),this.spatialIndex.load(s);const f=d.map(({id:h})=>h);return f.length>0&&(this._onChange(f,"create",a),i&&d.forEach(h=>{i(h)})),u}search(t,r){const i=this.spatialIndex.search(t).map(a=>this.store[a]);return this.clone(r?i.filter(r):i)}registerOnChange(t){this._onChange=(r,i,a)=>{t(r,i,a)}}getGeometryCopy(t){const r=this.store[t];if(!r)throw new Error(`No feature with this id (${t}), can not get geometry copy`);return this.clone(r.geometry)}getPropertiesCopy(t){const r=this.store[t];if(!r)throw new Error(`No feature with this id (${t}), can not get properties copy`);return this.clone(r.properties)}updateProperty(t,r){const i=new Set;t.forEach(({id:a,property:s,value:u})=>{const d=this.store[a];if(!d)throw new Error(`No feature with this (${a}), can not update geometry`);d.properties[s]!==u&&(i.add(a),u===void 0?delete d.properties[s]:d.properties[s]=u,this.tracked&&(d.properties.updatedAt=+new Date))}),this._onChange&&i.size>0&&this._onChange(Array.from(i),"update",r?Wt({},r,w1):w1)}updateGeometry(t,r){const i=new Set;t.forEach(({id:a,geometry:s})=>{i.add(a);const u=this.store[a];if(!u)throw new Error(`No feature with this (${a}), can not update geometry`);u.geometry=this.clone(s),this.spatialIndex.update(u),this.tracked&&(u.properties.updatedAt=+new Date)}),this._onChange&&i.size>0&&this._onChange(Array.from(i),"update",r?Wt({},r,x1):x1)}create(t,r){const i=[];return t.forEach(({geometry:a,properties:s})=>{let u,d=Wt({},s);this.tracked&&(u=+new Date,s?(d.createdAt=typeof s.createdAt=="number"?s.createdAt:u,d.updatedAt=typeof s.updatedAt=="number"?s.updatedAt:u):d={createdAt:u,updatedAt:u});const f=this.getId(),h={id:f,type:"Feature",geometry:a,properties:d};this.store[f]=h,this.spatialIndex.insert(h),i.push(f)}),this._onChange&&this._onChange([...i],"create",r),i}delete(t,r){t.forEach(i=>{if(!this.store[i])throw new Error(`No feature with id ${i}, can not delete`);delete this.store[i],this.spatialIndex.remove(i)}),this._onChange&&this._onChange([...t],"delete",r)}copy(t){return this.clone(this.store[t])}copyAll(){return this.clone(Object.keys(this.store).map(t=>this.store[t]))}copyAllWhere(t){return this.clone(Object.keys(this.store).map(r=>this.store[r]).filter(r=>r.properties&&t(r.properties)))}clear(){this.store={},this.spatialIndex.clear()}size(){return Object.keys(this.store).length}}class Gl{constructor({name:t,callback:r,unregister:i,register:a}){this.name=void 0,this.callback=void 0,this.registered=!1,this.register=void 0,this.unregister=void 0,this.name=t,this.register=()=>{this.registered||(this.registered=!0,a(r))},this.unregister=()=>{this.register&&(this.registered=!1,i(r))},this.callback=r}}var ck={__proto__:null,TerraDrawBaseAdapter:class{constructor(e){this._nextKeyUpIsContextMenu=!1,this._lastPointerDownEventTarget=void 0,this._ignoreMismatchedPointerEvents=!1,this._minPixelDragDistance=void 0,this._minPixelDragDistanceDrawing=void 0,this._minPixelDragDistanceSelecting=void 0,this._lastDrawEvent=void 0,this._coordinatePrecision=void 0,this._heldKeys=new Set,this._listeners=[],this._dragState="not-dragging",this._currentModeCallbacks=void 0,this._ignoreMismatchedPointerEvents=typeof e.ignoreMismatchedPointerEvents=="boolean"&&e.ignoreMismatchedPointerEvents,this._minPixelDragDistance=typeof e.minPixelDragDistance=="number"?e.minPixelDragDistance:1,this._minPixelDragDistanceSelecting=typeof e.minPixelDragDistanceSelecting=="number"?e.minPixelDragDistanceSelecting:1,this._minPixelDragDistanceDrawing=typeof e.minPixelDragDistanceDrawing=="number"?e.minPixelDragDistanceDrawing:8,this._coordinatePrecision=typeof e.coordinatePrecision=="number"?e.coordinatePrecision:9}getButton(e){return e.button===-1?"neither":e.button===0?"left":e.button===1?"middle":e.button===2?"right":"neither"}getMapElementXYPosition(e){const t=this.getMapEventElement(e.type),{left:r,top:i}=t.getBoundingClientRect();return{containerX:e.clientX-r,containerY:e.clientY-i}}getDrawEventFromEvent(e,t=!1){const r=this.getLngLatFromEvent(e);if(!r)return null;const{lng:i,lat:a}=r,{containerX:s,containerY:u}=this.getMapElementXYPosition(e),d=this.getButton(e),f=Array.from(this._heldKeys);return{lng:Mn(i,this._coordinatePrecision),lat:Mn(a,this._coordinatePrecision),containerX:s,containerY:u,button:d,heldKeys:f,isContextMenu:t}}register(e){this._currentModeCallbacks=e,this._listeners=this.getAdapterListeners(),this._listeners.forEach(t=>{t.register()})}getCoordinatePrecision(){return this._coordinatePrecision}getAdapterListeners(){return[new Gl({name:"pointerdown",callback:e=>{if(!this._currentModeCallbacks||!e.isPrimary)return;const t=this.getDrawEventFromEvent(e);t&&(this._dragState="pre-dragging",this._lastDrawEvent=t,this._lastPointerDownEventTarget=e.target?e.target:void 0)},register:e=>{this.getMapEventElement("pointerdown").addEventListener("pointerdown",e)},unregister:e=>{this.getMapEventElement("pointerdown").removeEventListener("pointerdown",e)}}),new Gl({name:"pointermove",callback:e=>{if(!this._currentModeCallbacks||!e.isPrimary)return;e.preventDefault();const t=this.getDrawEventFromEvent(e);if(t)if(this._dragState==="not-dragging")this._currentModeCallbacks.onMouseMove(t),this._lastDrawEvent=t;else if(this._dragState==="pre-dragging"){if(!this._lastDrawEvent)return;const r={x:this._lastDrawEvent.containerX,y:this._lastDrawEvent.containerY},i={x:t.containerX,y:t.containerY},a=this._currentModeCallbacks.getState(),s=$a(r,i);let u=!1;if(u=a==="drawing"?s<this._minPixelDragDistanceDrawing:a==="selecting"?s<this._minPixelDragDistanceSelecting:s<this._minPixelDragDistance,u)return;this._nextKeyUpIsContextMenu=!1,this._dragState="dragging",this._currentModeCallbacks.onDragStart(t,d=>{this.setDraggability.bind(this)(d)})}else this._dragState==="dragging"&&this._currentModeCallbacks.onDrag(t,r=>{this.setDraggability.bind(this)(r)})},register:e=>{this.getMapEventElement("pointermove").addEventListener("pointermove",e)},unregister:e=>{this.getMapEventElement("pointermove").removeEventListener("pointermove",e)}}),new Gl({name:"contextmenu",callback:e=>{this._currentModeCallbacks&&(e.preventDefault(),this._nextKeyUpIsContextMenu=!0)},register:e=>{this.getMapEventElement("contextmenu").addEventListener("contextmenu",e)},unregister:e=>{this.getMapEventElement("contextmenu").removeEventListener("contextmenu",e)}}),new Gl({name:"pointerup",callback:e=>{if(!this._currentModeCallbacks||e.target!==this.getMapEventElement("pointerup")||this._ignoreMismatchedPointerEvents&&this._lastPointerDownEventTarget!==e.target||(this._lastPointerDownEventTarget=void 0,!e.isPrimary))return;const t=this.getDrawEventFromEvent(e);t&&(this._dragState==="dragging"?this._currentModeCallbacks.onDragEnd(t,r=>{this.setDraggability.bind(this)(r)}):this._dragState!=="not-dragging"&&this._dragState!=="pre-dragging"||(this._nextKeyUpIsContextMenu&&(t.isContextMenu=!0,this._nextKeyUpIsContextMenu=!1),this._currentModeCallbacks.onClick(t)),this._dragState="not-dragging",this.setDraggability(!0))},register:e=>{this.getMapEventElement("pointerup").addEventListener("pointerup",e)},unregister:e=>{this.getMapEventElement("pointerup").removeEventListener("pointerup",e)}}),new Gl({name:"keyup",callback:e=>{this._currentModeCallbacks&&(this._heldKeys.delete(e.key),this._currentModeCallbacks.onKeyUp({key:e.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>e.preventDefault()}))},register:e=>{this.getMapEventElement("keyup").addEventListener("keyup",e)},unregister:e=>{this.getMapEventElement("keyup").removeEventListener("keyup",e)}}),new Gl({name:"keydown",callback:e=>{this._currentModeCallbacks&&(this._heldKeys.add(e.key),this._currentModeCallbacks.onKeyDown({key:e.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>e.preventDefault()}))},register:e=>{this.getMapEventElement("keydown").addEventListener("keydown",e)},unregister:e=>{this.getMapEventElement("keydown").removeEventListener("keydown",e)}})]}unregister(){this._listeners.forEach(e=>{e.unregister()}),this.clear(),this._currentModeCallbacks=void 0,this._lastDrawEvent=void 0,this._lastPointerDownEventTarget=void 0,this._nextKeyUpIsContextMenu=!1}}};function py(e){if(e===null||typeof e=="boolean"||typeof e=="string")return!0;if(e===void 0)return!1;if(typeof e=="number")return Number.isFinite(e);if(typeof e=="bigint"||typeof e=="symbol"||typeof e=="function"||e instanceof RegExp||e instanceof Map||e instanceof Set||e instanceof Date)return!1;if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const t=Object.getPrototypeOf(e);if(t!==Object.prototype&&t!==null)return!1}if(ArrayBuffer.isView(e)&&!(e instanceof DataView))return!1;if(Array.isArray(e)){for(const t of e)if(!py(t))return!1}return typeof e=="object"&&Object.keys(e).every(t=>typeof t=="string"&&py(e[t]))}class dk{constructor(t){this._modes=void 0,this._mode=void 0,this._adapter=void 0,this._enabled=!1,this._store=void 0,this._eventListeners=void 0,this._instanceSelectModes=void 0,this._adapter=t.adapter,this._instanceSelectModes=[],this._mode=new nk;const r=new Set,i=t.modes.reduce((g,y)=>{if(r.has(y.mode))throw new Error(`There is already a ${y.mode} mode provided`);return r.add(y.mode),g[y.mode]=y,g},{}),a=Object.keys(i);if(a.length===0)throw new Error("No modes provided");a.forEach(g=>{i[g].type===lu.Select&&this._instanceSelectModes.push(g)}),this._modes=Wt({},i,{static:this._mode}),this._eventListeners={change:[],select:[],deselect:[],finish:[],ready:[]},this._store=new uk({tracked:!!t.tracked,idStrategy:t.idStrategy?t.idStrategy:void 0});const s=g=>{const y=[],x=this._store.copyAll().filter(w=>!g.includes(w.id)||(y.push(w),!1));return{changed:y,unchanged:x}},u=(g,y)=>{this._enabled&&this._eventListeners.finish.forEach(x=>{x(g,y)})},d=(g,y,x)=>{if(!this._enabled)return;this._eventListeners.change.forEach(E=>{E(g,y,x)});const{changed:w,unchanged:_}=s(g);y==="create"?this._adapter.render({created:w,deletedIds:[],unchanged:_,updated:[]},this.getModeStyles()):y==="update"?this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:w},this.getModeStyles()):y==="delete"?this._adapter.render({created:[],deletedIds:g,unchanged:_,updated:[]},this.getModeStyles()):y==="styling"&&this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:[]},this.getModeStyles())},f=g=>{if(!this._enabled)return;this._eventListeners.select.forEach(w=>{w(g)});const{changed:y,unchanged:x}=s([g]);this._adapter.render({created:[],deletedIds:[],unchanged:x,updated:y},this.getModeStyles())},h=g=>{if(!this._enabled)return;this._eventListeners.deselect.forEach(w=>{w(g)});const{changed:y,unchanged:x}=s([g]);y&&this._adapter.render({created:[],deletedIds:[],unchanged:x,updated:y},this.getModeStyles())};Object.keys(this._modes).forEach(g=>{this._modes[g].register({mode:g,store:this._store,setCursor:this._adapter.setCursor.bind(this._adapter),project:this._adapter.project.bind(this._adapter),unproject:this._adapter.unproject.bind(this._adapter),setDoubleClickToZoom:this._adapter.setDoubleClickToZoom.bind(this._adapter),onChange:d,onSelect:f,onDeselect:h,onFinish:u,coordinatePrecision:this._adapter.getCoordinatePrecision()})})}checkEnabled(){if(!this._enabled)throw new Error("Terra Draw is not enabled")}getModeStyles(){const t={},r=this._instanceSelectModes.includes(this._mode.mode)?this._mode.mode:void 0;return Object.keys(this._modes).forEach(i=>{t[i]=a=>r&&a.properties[Ln.SELECTED]?this._modes[r].styleFeature.bind(this._modes[r])(a):this._modes[i].styleFeature.bind(this._modes[i])(a)}),t}featuresAtLocation({lng:t,lat:r},i){const a=i&&i.pointerDistance!==void 0?i.pointerDistance:30,s=!i||i.ignoreSelectFeatures===void 0||i.ignoreSelectFeatures,u=!(!i||i.ignoreCoordinatePoints===void 0)&&i.ignoreCoordinatePoints,d=!(!i||i.ignoreCurrentlyDrawing===void 0)&&i.ignoreCurrentlyDrawing,f=!(!i||i.ignoreClosingPoints===void 0)&&i.ignoreClosingPoints,h=!(!i||i.ignoreSnappingPoints===void 0)&&i.ignoreSnappingPoints,g=this._adapter.unproject.bind(this._adapter),y=this._adapter.project.bind(this._adapter),x=y(t,r),w=HE({unproject:g,point:x,pointerDistance:a});return this._store.search(w).filter(_=>{if(s&&(_.properties[Ln.MID_POINT]||_.properties[Ln.SELECTION_POINT])||u&&_.properties[ft.COORDINATE_POINT]||f&&_.properties[ft.CLOSING_POINT]||d&&_.properties[ft.CURRENTLY_DRAWING]||h&&_.properties[ft.SNAPPING_POINT])return!1;if(_.geometry.type==="Point"){const E=_.geometry.coordinates,T=y(E[0],E[1]);return $a(x,T)<a}if(_.geometry.type==="LineString"){const E=_.geometry.coordinates;for(let T=0;T<E.length-1;T++){const N=E[T],D=E[T+1];if(fy(x,y(N[0],N[1]),y(D[0],D[1]))<a)return!0}return!1}if(VE([t,r],_.geometry.coordinates))return!0;if(i!=null&&i.includePolygonsWithinPointerDistance){const E=_.geometry.coordinates;for(const T of E)for(let N=0;N<T.length-1;N++){const D=T[N],I=T[N+1],F=y(D[0],D[1]),k=y(I[0],I[1]);if(fy(x,F,k)<a)return!0}}return!1}).map(_=>{if(i==null||!i.addClosestCoordinateInfoToProperties)return _;let E;if(_.geometry.type==="Polygon")E=_.geometry.coordinates[0].slice(0,-1);else{if(_.geometry.type!=="LineString")return _;E=_.geometry.coordinates}let T,N=-1,D=1/0;for(let I=0;I<E.length;I++){const F=E[I],k=$a(y(F[0],F[1]),x);k<D&&(N=I,D=k,T=F)}return _.properties.closestCoordinateIndexToEvent=N,_.properties.closestCoordinatePixelDistanceToEvent=D,_.properties.closestCoordinateDistanceKmToEvent=Yo(T,[t,r]),_})}getSelectModeOrThrow(t=void 0){const r=this.getSelectMode({switchToSelectMode:!0,selectMode:t});if(!r)throw new Error("No select mode defined in instance");return r}getSelectMode({switchToSelectMode:t,selectMode:r}){this.checkEnabled();const i=this.getMode();if(this._instanceSelectModes.length===0)return null;if(r!==void 0&&!this._instanceSelectModes.includes(r))throw new Error(`No select mode with this name present: ${r}`);let a;return a=r!==void 0?r:this._instanceSelectModes.includes(i)?i:this._instanceSelectModes[0],t&&i!==a&&this.setMode(a),this._modes[a]}isGuidanceFeature(t){return!!(t.properties[Ln.MID_POINT]||t.properties[Ln.SELECTION_POINT]||t.properties[ft.COORDINATE_POINT]||t.properties[ft.SNAPPING_POINT])}setModeStyles(t,r){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._modes[t].styles=r}updateModeOptions(t,r){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._modes[t].updateOptions(r)}getSnapshot(){return this._store.copyAll()}getSnapshotFeature(t){if(this._store.has(t))return this._store.copy(t)}clear(){this.checkEnabled(),this._adapter.clear()}get enabled(){return this._enabled}set enabled(t){throw new Error("Enabled is read only")}getMode(){return this._mode.mode}getModeState(){return this._mode.state}setMode(t){if(this.checkEnabled(),!this._modes[t])throw new Error("No mode with this name present");this._mode.stop(),this._mode=this._modes[t],this._mode.start()}removeFeatures(t){this.checkEnabled();const r=[],i=[];let a;t.forEach(s=>{if(!this._store.has(s))throw new Error(`No feature with id ${s}, can not delete`);const u=this._store.getPropertiesCopy(s);u[Ln.SELECTED]&&this.deselectFeature(s),u[ft.CURRENTLY_DRAWING]&&this._modes[u.mode]?a=u.mode:(u[ft.COORDINATE_POINT_IDS]&&r.push(...u[ft.COORDINATE_POINT_IDS]),i.push(s))}),this._store.delete([...i,...r],{origin:"api"}),a&&this._modes[a]&&this._modes[a].cleanUp()&&this._modes[a].cleanUp()}selectFeature(t,r){this.getSelectModeOrThrow(r).selectFeature(t)}deselectFeature(t){this.getSelectModeOrThrow().deselectFeature(t)}getFeatureId(){return this._store.getId()}hasFeature(t){return this._store.has(t)}checkIsReservedProperty(t){return![...Object.values(Ln),...Object.values(ft)].includes(t)}updateFeatureProperties(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);const i=this._store.copy(t);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");const a=i.properties.mode;if(!this._modes[a])throw new Error(`No mode with name ${a} present in instance`);const s=Object.entries(r);s.forEach(([u,d])=>{if(!this.checkIsReservedProperty(u))throw new Error(`You are trying to update a reserved property name: ${u}. Please choose another name.`);if(d!==void 0&&!py(d))throw new Error(`Invalid JSON value provided for property ${u}`)}),this._store.updateProperty(s.map(([u,d])=>({id:i.id,property:u,value:d})),{origin:"api"})}updateFeatureGeometry(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);const i=this._store.copy(t);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");if(!(i&&r&&r.type&&r.coordinates))throw new Error("Invalid geometry provided");if(r.type!==i.geometry.type)throw new Error(`Geometry type mismatch: expected ${i.geometry.type}, got ${r.type}`);const a=i.properties.mode,s=this._modes[a];if(!s)throw new Error(`No mode with name ${a} present in instance`);const u=Wt({},i,{geometry:r}),d=s.validateFeature(u);if(!d.valid)throw new Error(`Feature validation failed: ${d.reason||"Unknown reason"}`);if(this._store.updateGeometry([{id:i.id,geometry:r}],{origin:"api"}),s.afterFeatureUpdated){s.afterFeatureUpdated(u);const f=u.properties[Ln.SELECTED],h=this.getSelectMode({switchToSelectMode:!1});h&&f&&h.afterFeatureUpdated(u)}}transformFeatureGeometry(t,r){if(!this._store.has(t))throw new Error(`No feature with id ${t} present in store`);let i=this._store.copy(t);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");const a=i.properties.mode,s=this._modes[a];if(!s)throw new Error(`No mode with name ${a} present in instance`);let u;if(i.geometry.type==="Polygon")u=i.geometry.coordinates[0];else{if(i.geometry.type!=="LineString")throw new Error(`Feature geometry type ${i.geometry.type} is not supported for transformation`);u=i.geometry.coordinates}if(r.projection!="web-mercator")throw new Error(`Projection ${r.projection} is not currently supported for transformation`);if(r.type==="scale"){const{x:d,y:f}=On(r.origin[0],r.origin[1]);KE({coordinates:u,originX:d,originY:f,xScale:r.options.xScale||1,yScale:r.options.yScale||1})}else r.type==="rotate"&&(i=YE(i,r.options.angle||0),u=i.geometry.type==="Polygon"?i.geometry.coordinates[0]:i.geometry.coordinates);if(u=u.map(d=>[Mn(d[0],this._adapter.getCoordinatePrecision()),Mn(d[1],this._adapter.getCoordinatePrecision())]),i.geometry.coordinates=i.geometry.type==="Polygon"?[u]:u,this._store.updateGeometry([{id:i.id,geometry:i.geometry}],{origin:"api"}),s.afterFeatureUpdated){s.afterFeatureUpdated(i);const d=i.properties[Ln.SELECTED],f=this.getSelectMode({switchToSelectMode:!1});f&&d&&f.afterFeatureUpdated(i)}}addFeatures(t){return this.checkEnabled(),t.length===0?[]:this._store.load(t,r=>{if(s1(r)){const i=r.properties.mode,a=this._modes[i];if(!a)return{id:r.id,valid:!1,reason:`${i} mode is not in the list of instantiated modes`};const s=a.validateFeature.bind(a)(r);return{id:r.id,valid:s.valid,reason:s.reason?s.reason:s.valid?void 0:"Feature is invalid"}}return{id:r.id,valid:!1,reason:"Mode property does not exist"}},r=>{if(s1(r)){const i=this._modes[r.properties.mode];i&&i.afterFeatureAdded&&i.afterFeatureAdded(r)}},{origin:"api"})}start(){this._enabled||(this._enabled=!0,this._adapter.register({onReady:()=>{this._eventListeners.ready.forEach(t=>{t()})},getState:()=>this._mode.state,onClick:t=>{this._mode.onClick(t)},onMouseMove:t=>{this._mode.onMouseMove(t)},onKeyDown:t=>{this._mode.onKeyDown(t)},onKeyUp:t=>{this._mode.onKeyUp(t)},onDragStart:(t,r)=>{this._mode.onDragStart(t,r)},onDrag:(t,r)=>{this._mode.onDrag(t,r)},onDragEnd:(t,r)=>{this._mode.onDragEnd(t,r)},onClear:()=>{this._mode.cleanUp(),this._store.clear()}}))}getFeaturesAtLngLat(t,r){const{lng:i,lat:a}=t;return this.featuresAtLocation({lng:i,lat:a},r)}getFeaturesAtPointerEvent(t,r){const i=this._adapter.getLngLatFromEvent.bind(this._adapter)(t);return i===null?[]:this.featuresAtLocation(i,r)}stop(){this._enabled&&(this._enabled=!1,this._adapter.unregister())}on(t,r){const i=this._eventListeners[t];i.includes(r)||i.push(r)}off(t,r){const i=this._eventListeners[t];i.includes(r)&&i.splice(i.indexOf(r),1)}}class fk extends ck.TerraDrawBaseAdapter{constructor(t){super(t),this._renderBeforeLayerId=void 0,this._prefixId=void 0,this._initialDragPan=void 0,this._initialDragRotate=void 0,this._nextRender=void 0,this._map=void 0,this._container=void 0,this.changedIds={deletion:!1,points:!1,linestrings:!1,polygons:!1,styling:!1},this._map=t.map,this._container=this._map.getContainer(),this._initialDragRotate=this._map.dragRotate.isEnabled(),this._initialDragPan=this._map.dragPan.isEnabled(),this._renderBeforeLayerId=t.renderBelowLayerId,this._prefixId=t.prefixId||"td"}hashCode(t){let r=0;for(let i=0;i<t.length;i++)r=(r<<5)-r+t.charCodeAt(i),r|=0;return Math.abs(r)}resizeImage(t,r,i,a){const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{const u=document.createElement("canvas");u.width=r,u.height=i;const d=u.getContext("2d");if(!d)throw new Error("Could not get canvas context");d.drawImage(s,0,0,r,i);const f=u.toDataURL();a(f)},s.src=t}_addGeoJSONSource(t,r){this._map.addSource(t,{type:"geojson",data:{type:"FeatureCollection",features:r},tolerance:0})}_addFillLayer(t){return this._map.addLayer({id:t,source:t,type:"fill",layout:{"fill-sort-key":["get","zIndex"]},paint:{"fill-color":["get","polygonFillColor"],"fill-opacity":["get","polygonFillOpacity"]}})}_addFillOutlineLayer(t){return this._map.addLayer({id:t+"-outline",source:t,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","polygonOutlineWidth"],"line-color":["get","polygonOutlineColor"],"line-opacity":["get","polygonOutlineOpacity"]}})}_addLineLayer(t){return this._map.addLayer({id:t,source:t,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","lineStringWidth"],"line-color":["get","lineStringColor"],"line-opacity":["get","lineStringOpacity"]}})}_addPointLayer(t){return this._map.addLayer({id:t,source:t,type:"circle",layout:{"circle-sort-key":["get","zIndex"]},paint:{"circle-stroke-color":["get","pointOutlineColor"],"circle-stroke-width":["get","pointOutlineWidth"],"circle-stroke-opacity":["get","pointOutlineOpacity"],"circle-radius":["get","pointWidth"],"circle-color":["get","pointColor"],"circle-opacity":["get","pointOpacity"]}})}_addMarkerLayer(t){return this._map.addLayer({id:t+"-marker",source:t,type:"symbol",filter:["has","markerId"],layout:{"icon-image":["image",["get","markerId"]],"icon-anchor":"bottom","icon-allow-overlap":!0}})}_addLayer(t,r){r==="Point"&&(this._addPointLayer(t),this._addMarkerLayer(t)),r==="LineString"&&this._addLineLayer(t),r==="Polygon"&&(this._addFillLayer(t),this._addFillOutlineLayer(t))}_addGeoJSONLayer(t,r){const i=`${this._prefixId}-${t.toLowerCase()}`;return this._addGeoJSONSource(i,r),this._addLayer(i,t),i}_setGeoJSONLayerData(t,r){const i=`${this._prefixId}-${t.toLowerCase()}`;return this._map.getSource(i).setData({type:"FeatureCollection",features:r}),i}updateChangedIds(t){[...t.updated,...t.created].forEach(r=>{r.geometry.type==="Point"?this.changedIds.points=!0:r.geometry.type==="LineString"?this.changedIds.linestrings=!0:r.geometry.type==="Polygon"&&(this.changedIds.polygons=!0)}),t.deletedIds.length>0&&(this.changedIds.deletion=!0),t.created.length===0&&t.updated.length===0&&t.deletedIds.length===0&&(this.changedIds.styling=!0)}getLngLatFromEvent(t){const{left:r,top:i}=this._container.getBoundingClientRect();return this.unproject(t.clientX-r,t.clientY-i)}getMapEventElement(){return this._map.getCanvas()}setDraggability(t){t?(this._initialDragRotate&&this._map.dragRotate.enable(),this._initialDragPan&&this._map.dragPan.enable()):(this._initialDragRotate&&this._map.dragRotate.disable(),this._initialDragPan&&this._map.dragPan.disable())}project(t,r){const{x:i,y:a}=this._map.project({lng:t,lat:r});return{x:i,y:a}}unproject(t,r){const{lng:i,lat:a}=this._map.unproject({x:t,y:r});return{lng:i,lat:a}}setCursor(t){const r=this._map.getCanvas();t==="unset"?r.style.removeProperty("cursor"):r.style.cursor=t}setDoubleClickToZoom(t){t?this._map.doubleClickZoom.enable():this._map.doubleClickZoom.disable()}render(t,r){this.updateChangedIds(t),this._nextRender&&cancelAnimationFrame(this._nextRender),this._nextRender=requestAnimationFrame(()=>{if(!this._currentModeCallbacks)return;const i=[...t.created,...t.updated,...t.unchanged],a=[],s=[],u=[];for(let g=0;g<i.length;g++){const y=i[g],{properties:x}=y,w=r[x.mode](y);if(x.zIndex=w.zIndex,x.zIndex=w.zIndex,y.geometry.type==="Point"){x.pointColor=w.pointColor,x.pointOutlineColor=w.pointOutlineColor,x.pointOutlineWidth=w.pointOutlineWidth;const _=w.pointOutlineOpacity;x.pointOutlineOpacity=_===void 0?1:_,x.pointWidth=w.pointWidth;const E=w.pointOpacity;if(x.pointOpacity=E===void 0?1:E,w.markerUrl&&w.markerWidth&&w.markerHeight){const T=`marker-${this.hashCode(w.markerUrl)}`;this._map.hasImage(T)||this.resizeImage(w.markerUrl,w.markerWidth,w.markerHeight,N=>{this._map.loadImage(N).then(D=>{this._map.hasImage(T)||this._map.addImage(T,D.data)})}),x.markerId=T,x.pointWidth=0}a.push(y)}else if(y.geometry.type==="LineString"){x.lineStringColor=w.lineStringColor,x.lineStringWidth=w.lineStringWidth;const _=w.lineStringOpacity;x.lineStringOpacity=_===void 0?1:_,s.push(y)}else if(y.geometry.type==="Polygon"){const _=w.polygonOutlineOpacity;x.polygonFillColor=w.polygonFillColor,x.polygonFillOpacity=w.polygonFillOpacity,x.polygonOutlineOpacity=_===void 0?1:_,x.polygonOutlineColor=w.polygonOutlineColor,x.polygonOutlineWidth=w.polygonOutlineWidth,u.push(y)}}const d=this.changedIds.deletion||this.changedIds.styling,f=d||this.changedIds.linestrings,h=d||this.changedIds.polygons;(d||this.changedIds.points)&&this._setGeoJSONLayerData("Point",a),f&&this._setGeoJSONLayerData("LineString",s),h&&this._setGeoJSONLayerData("Polygon",u),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1}})}clear(){this._currentModeCallbacks&&(this._currentModeCallbacks.onClear(),this._nextRender&&(cancelAnimationFrame(this._nextRender),this._nextRender=void 0),this._setGeoJSONLayerData("Point",[]),this._setGeoJSONLayerData("LineString",[]),this._setGeoJSONLayerData("Polygon",[]))}getCoordinatePrecision(){return super.getCoordinatePrecision()}unregister(){super.unregister(),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1},this._map.removeLayer(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-point-marker`),this._map.removeSource(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-linestring`),this._map.removeSource(`${this._prefixId}-linestring`),this._map.removeLayer(`${this._prefixId}-polygon`),this._map.removeLayer(`${this._prefixId}-polygon-outline`),this._map.removeSource(`${this._prefixId}-polygon`)}register(t){var r;super.register(t);const i=this._addGeoJSONLayer("Polygon",[]),a=this._addGeoJSONLayer("LineString",[]),s=this._addGeoJSONLayer("Point",[]);var u;this._renderBeforeLayerId&&(this._map.moveLayer(s,this._renderBeforeLayerId),this._map.moveLayer(a,s),this._map.moveLayer(`${i}-outline`,a),this._map.moveLayer(i,`${i}-outline`)),(r=this._currentModeCallbacks)!=null&&r.onReady&&((u=this._currentModeCallbacks)==null||u.onReady())}}const hk=e=>{const t=e.toLowerCase(),r=[new tk({flags:{polygon:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0,midpoints:!0}}},linestring:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0}}},point:{feature:{draggable:!0}}}})];return(t.includes("point")||t.includes("geometry"))&&r.push(new BF),(t.includes("line")||t.includes("geometry"))&&r.push(new NF),(t.includes("polygon")||t.includes("geometry"))&&r.push(new HF),r},pk=(e,t)=>{const r=e.toLowerCase();if(r.includes("multi"))return bz(t).features[0].geometry;if(r.includes("collection")){const i=t.features.map(s=>s.geometry);return uz(i).geometry}return t.features[0].geometry},mk=C.forwardRef((e,t)=>{const{geojsonData:r}=e,{current:i}=Fz(),a=C.useRef(null),s=C.useRef(r);return C.useEffect(()=>{if(!i)return;const u=i.getMap(),d=hk(s.current.type),f=new dk({adapter:new fk({map:u}),modes:d});if(f.start(),a.current=f,s.current){const h=s.current.type.toLowerCase();let g="polygon";h.includes("point")?g="point":h.includes("line")&&(g="linestring");const y=s.current.type==="FeatureCollection"?s.current.features.map(x=>({...x,properties:{...x.properties,mode:g}})):[{type:"Feature",geometry:s.current,properties:{mode:g}}];f.addFeatures(y),f.setMode("select")}return()=>{f.stop(),a.current=null}},[i]),C.useImperativeHandle(t,()=>({getFeatures:()=>a.current?{type:"FeatureCollection",features:a.current.getSnapshot()}:{type:"FeatureCollection",features:[]},setMode:u=>{a.current&&a.current.setMode(u)}})),null}),gk="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",yk="https://map.ir/vector/styles/main/mapir-xyz-style.json";function vk({onGeometryLoad:e,onFeatureClick:t,activeLayers:r,drawingMode:i,drawRef:a}){const s=C.useRef(null),{features:u}=LE("population_point");C.useEffect(()=>{if(u&&u.length>0){const f=u[0].geometry;if(e&&e(f),s.current)try{const h=Ya(f),g=pz(h);s.current.fitBounds([[g[0],g[1]],[g[2],g[3]]],{padding:100,duration:1e3})}catch(h){console.warn("Could not calculate bounds for village geometry",h)}}},[u,e]);const d=C.useMemo(()=>co.filter(f=>r.includes(f.id)).flatMap(f=>f.styles.map((h,g)=>`layer-${f.id}-${g}`)),[r]);return R.jsxs(Kz,{ref:s,initialViewState:{longitude:51.4015,latitude:35.6425,zoom:14},style:{width:"100%",height:"100%"},mapStyle:yk,transformRequest:f=>({url:f,headers:{"x-api-key":gk}}),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",interactiveLayerIds:d,onClick:f=>{if(t){const h=f.features?.[0];h&&h.properties?(f.originalEvent.stopPropagation(),t({id:h.properties.id,entityType:h.properties.entityType})):t(null)}},children:[R.jsx(eF,{position:"bottom-left"}),R.jsx(hF,{activeLayers:r,drawingMode:i}),i&&R.jsx(mk,{ref:a,geojsonData:i.geometry})]})}function bk({activeLayers:e,toggleLayer:t}){const[r,{open:i,close:a}]=tC(!1),s=co.filter(u=>!u.isDataOnly);return R.jsxs(R.Fragment,{children:[R.jsx(Xo,{variant:"default",size:"xl",radius:"md",style:{position:"absolute",bottom:100,right:20,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},onClick:i,children:R.jsx(rz,{size:24})}),R.jsx(Pi,{opened:r,onClose:a,title:" ",position:"bottom",size:"md",styles:{title:{fontWeight:"bold"}},children:R.jsx($i,{gap:"sm",children:s.map(u=>{const d=e.includes(u.id);return R.jsxs(Li,{justify:"space-between",align:"center",children:[R.jsx(xu,{label:u.label,checked:d,onChange:()=>t(u.id),disabled:u.isDisabled,styles:{label:{cursor:u.isDisabled?"not-allowed":"pointer"}}}),u.isDisabled&&R.jsx(Uo,{color:"gray",size:"sm",children:" "})]},u.id)})})})]})}async function S1(e,t){const r=co.find(g=>g.id===e);if(!r||r.isDisabled)return 0;const a=(await yr.syncState.get(e))?.lastSync||null,s=r.getQuery(t,a),u=r.endpoint,d=await Fs(`${u}${s}&$top=99999999`);if(!d.ok)throw new Error(`Failed to sync ${e}: ${d.statusText}`);let h=(await d.json()).value;if(r.transformResponse&&(h=r.transformResponse(h)),h.length>0){const g=yr[r.tableName],y=r.injectVillageId?h.map(w=>({...w,population_point_id:Number(t)})):h;await yr.transaction("rw",g,async()=>{await g.bulkPut(y)});const x=h[0].updated_at;x&&await yr.syncState.put({layerName:e,lastSync:x})}return h.length}async function xk(e){const t=await Fs(`/editor/tables/${e}/rows?$top=9999999`);if(!t.ok)throw new Error(`Failed to sync lookup ${e}: ${t.statusText}`);const i=(await t.json()).value.map(a=>({...a,tableName:e}));return i.length>0&&await yr.transaction("rw",yr.lookups,async()=>{await yr.lookups.where("tableName").equals(e).delete(),await yr.lookups.bulkPut(i)}),i.length}var Ac={},zg,C1;function wk(){if(C1)return zg;C1=1;var e=Math.PI/180,t=180/Math.PI;function r(D){var I=a(D[0]+1,D[2]),F=a(D[0],D[2]),k=s(D[1]+1,D[2]),U=s(D[1],D[2]);return[F,k,I,U]}function i(D){var I=r(D),F={type:"Polygon",coordinates:[[[I[0],I[3]],[I[0],I[1]],[I[2],I[1]],[I[2],I[3]],[I[0],I[3]]]]};return F}function a(D,I){return D/Math.pow(2,I)*360-180}function s(D,I){var F=Math.PI-2*Math.PI*D/Math.pow(2,I);return t*Math.atan(.5*(Math.exp(F)-Math.exp(-F)))}function u(D,I,F){var k=N(D,I,F);return k[0]=Math.floor(k[0]),k[1]=Math.floor(k[1]),k}function d(D){return[[D[0]*2,D[1]*2,D[2]+1],[D[0]*2+1,D[1]*2,D[2]+1],[D[0]*2+1,D[1]*2+1,D[2]+1],[D[0]*2,D[1]*2+1,D[2]+1]]}function f(D){return[D[0]>>1,D[1]>>1,D[2]-1]}function h(D){return d(f(D))}function g(D,I){for(var F=h(D),k=0;k<F.length;k++)if(!y(I,F[k]))return!1;return!0}function y(D,I){for(var F=0;F<D.length;F++)if(x(D[F],I))return!0;return!1}function x(D,I){return D[0]===I[0]&&D[1]===I[1]&&D[2]===I[2]}function w(D){for(var I="",F=D[2];F>0;F--){var k=0,U=1<<F-1;(D[0]&U)!==0&&k++,(D[1]&U)!==0&&(k+=2),I+=k.toString()}return I}function _(D){for(var I=0,F=0,k=D.length,U=k;U>0;U--){var A=1<<U-1,$=+D[k-U];$===1&&(I|=A),$===2&&(F|=A),$===3&&(I|=A,F|=A)}return[I,F,k]}function E(D){var I=u(D[0],D[1],32),F=u(D[2],D[3],32),k=[I[0],I[1],F[0],F[1]],U=T(k);if(U===0)return[0,0,0];var A=k[0]>>>32-U,$=k[1]>>>32-U;return[A,$,U]}function T(D){for(var I=28,F=0;F<I;F++){var k=1<<32-(F+1);if((D[0]&k)!==(D[2]&k)||(D[1]&k)!==(D[3]&k))return F}return I}function N(D,I,F){var k=Math.sin(I*e),U=Math.pow(2,F),A=U*(D/360+.5),$=U*(.5-.25*Math.log((1+k)/(1-k))/Math.PI);return A=A%U,A<0&&(A=A+U),[A,$,F]}return zg={tileToGeoJSON:i,tileToBBOX:r,getChildren:d,getParent:f,getSiblings:h,hasTile:y,hasSiblings:g,tilesEqual:x,tileToQuadkey:w,quadkeyToTile:_,pointToTile:u,bboxToTile:E,pointToTileFraction:N},zg}var _1;function Sk(){if(_1)return Ac;_1=1;var e=wk();Ac.geojson=function(g,y){return{type:"FeatureCollection",features:r(g,y).map(t)}};function t(g){return{type:"Feature",geometry:e.tileToGeoJSON(g),properties:{}}}Ac.tiles=r,Ac.indexes=function(g,y){return r(g,y).map(e.tileToQuadkey)};function r(g,y){var x,w,_=g.coordinates,E=y.max_zoom,T={},N=[];if(g.type==="Point")return[e.pointToTile(_[0],_[1],E)];if(g.type==="MultiPoint")for(x=0;x<_.length;x++)w=e.pointToTile(_[x][0],_[x][1],E),T[f(w[0],w[1],w[2])]=!0;else if(g.type==="LineString")u(T,_,E);else if(g.type==="MultiLineString")for(x=0;x<_.length;x++)u(T,_[x],E);else if(g.type==="Polygon")a(T,N,_,E);else if(g.type==="MultiPolygon")for(x=0;x<_.length;x++)a(T,N,_[x],E);else throw new Error("Geometry type not implemented");if(y.min_zoom!==E){var D=N.length;for(d(T,N),x=0;x<D;x++){var I=N[x];T[f(I[0],I[1],I[2])]=!0}return i(T,N,y)}return d(T,N),N}function i(g,y,x){for(var w=[],_=x.max_zoom;_>x.min_zoom;_--){for(var E={},T=[],N=0;N<y.length;N++){var D=y[N];if(D[0]%2===0&&D[1]%2===0){var I=f(D[0]+1,D[1],_),F=f(D[0],D[1]+1,_),k=f(D[0]+1,D[1]+1,_);if(g[I]&&g[F]&&g[k]){g[f(D[0],D[1],D[2])]=!1,g[I]=!1,g[F]=!1,g[k]=!1;var U=[D[0]/2,D[1]/2,_-1];_-1===x.min_zoom?w.push(U):(E[f(D[0]/2,D[1]/2,_-1)]=!0,T.push(U))}}}for(N=0;N<y.length;N++)D=y[N],g[f(D[0],D[1],D[2])]&&w.push(D);g=E,y=T}return w}function a(g,y,x,w){for(var _=[],E=0;E<x.length;E++){var T=[];u(g,x[E],w,T);for(var N=0,D=T.length,I=D-1;N<D;I=N++){var F=(N+1)%D,k=T[N][1];(k>T[I][1]||k>T[F][1])&&(k<T[I][1]||k<T[F][1])&&k!==T[F][1]&&_.push(T[N])}}for(_.sort(s),E=0;E<_.length;E+=2){k=_[E][1];for(var U=_[E][0]+1;U<_[E+1][0];U++){var A=f(U,k,w);g[A]||y.push([U,k,w])}}}function s(g,y){return g[1]-y[1]||g[0]-y[0]}function u(g,y,x,w){for(var _,E,T=0;T<y.length-1;T++){var N=e.pointToTileFraction(y[T][0],y[T][1],x),D=e.pointToTileFraction(y[T+1][0],y[T+1][1],x),I=N[0],F=N[1],k=D[0],U=D[1],A=k-I,$=U-F;if(!($===0&&A===0)){var ae=A>0?1:-1,ue=$>0?1:-1,me=Math.floor(I),de=Math.floor(F),_e=A===0?1/0:Math.abs(((A>0?1:0)+me-I)/A),ce=$===0?1/0:Math.abs((($>0?1:0)+de-F)/$),Ce=Math.abs(ae/A),B=Math.abs(ue/$);for((me!==_||de!==E)&&(g[f(me,de,x)]=!0,w&&de!==E&&w.push([me,de]),_=me,E=de);_e<1||ce<1;)_e<ce?(_e+=Ce,me+=ae):(ce+=B,de+=ue),g[f(me,de,x)]=!0,w&&de!==E&&w.push([me,de]),_=me,E=de}}w&&de===w[0][1]&&w.pop()}function d(g,y){for(var x=Object.keys(g),w=0;w<x.length;w++)y.push(h(+x[w]))}function f(g,y,x){var w=2*(1<<x);return(w*y+g)*32+x}function h(g){var y=g%32,x=2*(1<<y),w=(g-y)/32,_=w%x,E=(w-_)/x%x;return[_,E,y]}return Ac}var Ck=Sk();const _k=xh(Ck),Ek="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",Ok=(e,t,r)=>`https://map.ir/vector/xyz/1.0.0/Shiveh:Vector@EPSG:900913@pbf/${r}/${e}/${t}.pbf`;async function Mk(e){const r=await caches.open("offline-map-tiles"),i=0,a=14,s=10;let u=[];try{for(let d=i;d<=a;d++){const f=_k.tiles(e,{min_zoom:d,max_zoom:d});u.push(...f)}}catch(d){throw console.error("Error calculating tiles",d),new Error("Geometry too complex or invalid")}for(let d=0;d<u.length;d+=s){const f=u.slice(d,d+s);await Promise.all(f.map(async([h,g,y])=>{const x=Ok(h,g,y);if(!await r.match(x))try{const _=await fetch(x,{headers:{"x-api-key":Ek}});_.ok&&await r.put(x,_)}catch(_){console.warn(`Failed to download tile ${y}/${h}/${g}`,_)}}))}}const E1=["building_type","unit_status","act_type","population_point_type","province","county","zone","part"];function Tk(){const{user:e,isOffline:t}=Ks(),[r,i]=C.useState({status:"idle",progress:"",lastUpdated:null,error:null}),s=e?.action_areas?.find(f=>f.action_area.population_point)?.action_area.population_point?.id,u=C.useRef(!1),d=C.useCallback(async()=>{if(!(!s||t||u.current))try{u.current=!0,i(E=>({...E,status:"syncing",error:null})),i(E=>({...E,progress:"    ..."})),await S1("population_point",s);const h=(await yr.population_point.get(Number(s)))?.geometry,g=co.filter(E=>!E.isDisabled&&E.id!=="population_point"),y=g.length+(h?1:0)+E1.length;let x=0;const w=()=>{x++,i(E=>({...E,progress:`${x}  ${y}`}))},_=[];g.forEach(E=>{_.push(S1(E.id,s).then(()=>w()).catch(T=>console.error(`Failed layer ${E.id}`,T)))}),h?_.push(Mk(h).then(()=>{w()})):console.warn("No geometry found for village, skipping tiles."),E1.forEach(E=>{_.push(xk(E).then(()=>w()).catch(T=>console.error(`Failed lookup ${E}`,T)))}),await Promise.all(_),i({status:"complete",progress:"100%",lastUpdated:new Date,error:null})}catch(f){console.error("Sync failed",f),i(h=>({...h,status:"error",error:"  "}))}finally{u.current=!1}},[s,t]);return C.useEffect(()=>{if(s&&!t){d();const f=setInterval(d,300*1e3);return()=>clearInterval(f)}},[s,t,d]),r}function Rk(){const{isOffline:e}=Ks(),{status:t,progress:r,lastUpdated:i}=Tk();return e?R.jsx(Uo,{color:"gray",leftSection:R.jsx(sz,{size:14}),children:""}):t==="syncing"?R.jsx(Uo,{color:"blue",variant:"light",leftSection:R.jsx(lo,{size:12,color:"blue"}),children:r}):t==="error"?R.jsx(Uo,{color:"red",variant:"light",leftSection:R.jsx(Yj,{size:14}),children:""}):t==="complete"&&i?R.jsx(ud,{label:` : ${i.toLocaleTimeString("fa-IR")}`,children:R.jsx(Uo,{color:"green",variant:"light",leftSection:R.jsx(Jj,{size:14}),style:{cursor:"help"},children:""})}):null}function Pk(){const[e,{open:t,close:r}]=tC(!1),{logout:i,user:a,isOffline:s}=Ks(),u=hd(),[,d]=C.useState(null),[f,h]=C.useState(["population_point"]),[g,y]=C.useState(null),[x,w]=C.useState(null),[_,E]=C.useState(!1),T=C.useRef(null),N=a?.action_areas?.find(A=>A.action_area.population_point),D=N?.action_area.population_point?.name,I=N?.action_area.population_point?.id,F=A=>{y(null),w(A)},k=async()=>{if(!(!x||!T.current||!I||!a?.id)){E(!0);try{const A=T.current.getFeatures();if(A.features.length===0)throw new Error("No geometry found");const $=pk(x.geometry.type,A);if(vz(Ya(x.geometry),Ya($))){w(null);return}const ue=co.find(ce=>ce.id===x.entityType),me=ue?ue.label:x.entityType,de=x.featureName?` ${x.featureName}`:"",_e=`  ${me}${de}`;await xz(Number(I),a.id,{entityType:x.entityType,row_id:x.id,title:_e,suggested_geometry:$}),Va.show({title:" ",message:"           .",color:"green",icon:R.jsx(Qj,{size:16})}),w(null)}catch(A){console.error("Failed to save geometry task",A),Va.show({title:"",message:"    .    .",color:"red",icon:R.jsx(AE,{size:16})})}finally{E(!1)}}},U=A=>{h($=>$.includes(A)?$.filter(ae=>ae!==A):[...$,A])};return R.jsxs(qr,{header:{height:60},padding:"0",children:[R.jsx(qr.Header,{children:R.jsxs(Li,{h:"100%",px:"md",justify:"space-between",align:"center",children:[R.jsxs(Li,{gap:"xs",children:[R.jsxs(Wh,{children:[" ",D||""]}),R.jsx(Rk,{})]}),R.jsx(Xo,{variant:"subtle",color:"dark",onClick:t,size:"lg",children:R.jsx(oz,{size:28})})]})}),R.jsx(qr.Main,{style:{height:"100dvh",display:"flex",flexDirection:"column"},children:R.jsxs("div",{style:{flex:1,position:"relative"},children:[x&&R.jsx(ke,{style:{position:"absolute",top:20,left:"50%",transform:"translateX(-50%)",zIndex:1e3,width:"90%",maxWidth:500},children:R.jsx(sv,{title:" ",color:"blue",icon:R.jsx(tz,{}),styles:{root:{padding:"var(--mantine-spacing-xs)"},body:{gap:0}},children:R.jsxs($i,{gap:"sm",mt:"xs",children:[R.jsx("span",{style:{fontSize:"14px"},children:"      ."}),R.jsxs(Li,{justify:"flex-end",children:[R.jsx(ii,{variant:"default",size:"sm",onClick:()=>w(null),disabled:_,children:""}),R.jsx(ii,{color:"green",size:"sm",onClick:k,loading:_,children:""})]})]})})}),R.jsx(vk,{onGeometryLoad:d,activeLayers:f,onFeatureClick:A=>{x||y(A)},drawingMode:x,drawRef:T}),R.jsx(bk,{activeLayers:f,toggleLayer:U}),!x&&R.jsx(Nz,{properties:g,onClose:()=>y(null),onStartDrawing:F})]})}),R.jsx(Pi,{opened:e,onClose:r,title:"",position:"right",children:R.jsxs($i,{children:[R.jsx(ii,{variant:"default",c:"dark",onClick:()=>{r(),u("/tasks")},children:" "}),R.jsx(ii,{color:"red",onClick:i,variant:"light",disabled:s,children:"  "})]})})]})}var gd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dk={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Ak=class{#e=Dk;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},As=new Ak;function Nk(e){setTimeout(e,0)}var ks=typeof window>"u"||"Deno"in globalThis;function Br(){}function Ik(e,t){return typeof e=="function"?e(t):e}function my(e){return typeof e=="number"&&e>=0&&e!==1/0}function WE(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ha(e,t){return typeof e=="function"?e(t):e}function Si(e,t){return typeof e=="function"?e(t):e}function O1(e,t){const{type:r="all",exact:i,fetchStatus:a,predicate:s,queryKey:u,stale:d}=e;if(u){if(i){if(t.queryHash!==e0(u,t.options))return!1}else if(!Jc(t.queryKey,u))return!1}if(r!=="all"){const f=t.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||a&&a!==t.state.fetchStatus||s&&!s(t))}function M1(e,t){const{exact:r,status:i,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Zc(t.options.mutationKey)!==Zc(s))return!1}else if(!Jc(t.options.mutationKey,s))return!1}return!(i&&t.state.status!==i||a&&!a(t))}function e0(e,t){return(t?.queryKeyHashFn||Zc)(e)}function Zc(e){return JSON.stringify(e,(t,r)=>yy(r)?Object.keys(r).sort().reduce((i,a)=>(i[a]=r[a],i),{}):r)}function Jc(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Jc(e[r],t[r])):!1}var jk=Object.prototype.hasOwnProperty;function QE(e,t){if(e===t)return e;const r=T1(e)&&T1(t);if(!r&&!(yy(e)&&yy(t)))return t;const a=(r?e:Object.keys(e)).length,s=r?t:Object.keys(t),u=s.length,d=r?new Array(u):{};let f=0;for(let h=0;h<u;h++){const g=r?h:s[h],y=e[g],x=t[g];if(y===x){d[g]=y,(r?h<a:jk.call(e,g))&&f++;continue}if(y===null||x===null||typeof y!="object"||typeof x!="object"){d[g]=x;continue}const w=QE(y,x);d[g]=w,w===y&&f++}return a===u&&f===a?e:d}function gy(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function T1(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function yy(e){if(!R1(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!R1(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function R1(e){return Object.prototype.toString.call(e)==="[object Object]"}function zk(e){return new Promise(t=>{As.setTimeout(t,e)})}function vy(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?QE(e,t):t}function Fk(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function kk(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var t0=Symbol();function ZE(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===t0?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function JE(e,t){return typeof e=="function"?e(...t):!!e}function Lk(e,t,r){let i=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??=t(),i||(i=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var Bk=class extends gd{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ks&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},n0=new Bk;function by(){let e,t;const r=new Promise((a,s)=>{e=a,t=s});r.status="pending",r.catch(()=>{});function i(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{i({status:"fulfilled",value:a}),e(a)},r.reject=a=>{i({status:"rejected",reason:a}),t(a)},r}var Uk=Nk;function $k(){let e=[],t=0,r=d=>{d()},i=d=>{d()},a=Uk;const s=d=>{t?e.push(d):a(()=>{r(d)})},u=()=>{const d=e;e=[],d.length&&a(()=>{i(()=>{d.forEach(f=>{r(f)})})})};return{batch:d=>{let f;t++;try{f=d()}finally{t--,t||u()}return f},batchCalls:d=>(...f)=>{s(()=>{d(...f)})},schedule:s,setNotifyFunction:d=>{r=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{a=d}}}var ur=$k(),Hk=class extends gd{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ks&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#e}},vh=new Hk;function qk(e){return Math.min(1e3*2**e,3e4)}function eO(e){return(e??"online")==="online"?vh.isOnline():!0}var xy=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function tO(e){let t=!1,r=0,i;const a=by(),s=()=>a.status!=="pending",u=E=>{if(!s()){const T=new xy(E);x(T),e.onCancel?.(T)}},d=()=>{t=!0},f=()=>{t=!1},h=()=>n0.isFocused()&&(e.networkMode==="always"||vh.isOnline())&&e.canRun(),g=()=>eO(e.networkMode)&&e.canRun(),y=E=>{s()||(i?.(),a.resolve(E))},x=E=>{s()||(i?.(),a.reject(E))},w=()=>new Promise(E=>{i=T=>{(s()||h())&&E(T)},e.onPause?.()}).then(()=>{i=void 0,s()||e.onContinue?.()}),_=()=>{if(s())return;let E;const T=r===0?e.initialPromise:void 0;try{E=T??e.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(y).catch(N=>{if(s())return;const D=e.retry??(ks?0:3),I=e.retryDelay??qk,F=typeof I=="function"?I(r,N):I,k=D===!0||typeof D=="number"&&r<D||typeof D=="function"&&D(r,N);if(t||!k){x(N);return}r++,e.onFail?.(r,N),zk(F).then(()=>h()?void 0:w()).then(()=>{t?x(N):_()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(i?.(),a),cancelRetry:d,continueRetry:f,canStart:g,start:()=>(g()?_():w().then(_),a)}}var nO=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),my(this.gcTime)&&(this.#e=As.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ks?1/0:300*1e3))}clearGcTimeout(){this.#e&&(As.clearTimeout(this.#e),this.#e=void 0)}},Gk=class extends nO{#e;#t;#n;#i;#r;#s;#a;constructor(e){super(),this.#a=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=D1(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=D1(this.options);t.data!==void 0&&(this.setState(P1(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const r=vy(this.state.data,e,this.options);return this.#o({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#o({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Br).catch(Br):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Si(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===t0||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Ha(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!WE(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(f=>f.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#a=!0,r.signal)})},a=()=>{const d=ZE(this.options,t),h=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#a=!1,this.options.persister?this.options.persister(d,h,this):d(h)},u=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(d),d})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#o({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=tO({initialPromise:t?.initialPromise,fn:u.fetchFn,onCancel:d=>{d instanceof xy&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),r.abort()},onFail:(d,f)=>{this.#o({type:"failed",failureCount:d,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof xy){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#o({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#o(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...rO(r.data,this.options),fetchMeta:e.meta??null};case"success":const i={...r,...P1(e.data,e.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const a=e.error;return{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),ur.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function rO(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:eO(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function P1(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function D1(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,i=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Vk=class extends gd{constructor(e,t){super(),this.options=t,this.#e=e,this.#o=null,this.#a=by(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#s;#a;#o;#m;#f;#h;#u;#c;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),A1(this.#t,this.options)?this.#d():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return wy(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return wy(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#x(),this.#w(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,r=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Si(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!gy(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&N1(this.#t,r,this.options,t)&&this.#d(),this.updateResult(),i&&(this.#t!==r||Si(this.options.enabled,this.#t)!==Si(t.enabled,this.#t)||Ha(this.options.staleTime,this.#t)!==Ha(t.staleTime,this.#t))&&this.#g();const a=this.#y();i&&(this.#t!==r||Si(this.options.enabled,this.#t)!==Si(t.enabled,this.#t)||a!==this.#l)&&this.#v(a)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(t,e);return Kk(this,r)&&(this.#i=r,this.#s=this.options,this.#r=this.#t.state),r}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(r,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,i))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#d(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Br)),t}#g(){this.#x();const e=Ha(this.options.staleTime,this.#t);if(ks||this.#i.isStale||!my(e))return;const r=WE(this.#i.dataUpdatedAt,e)+1;this.#u=As.setTimeout(()=>{this.#i.isStale||this.updateResult()},r)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#w(),this.#l=e,!(ks||Si(this.options.enabled,this.#t)===!1||!my(this.#l)||this.#l===0)&&(this.#c=As.setInterval(()=>{(this.options.refetchIntervalInBackground||n0.isFocused())&&this.#d()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#x(){this.#u&&(As.clearTimeout(this.#u),this.#u=void 0)}#w(){this.#c&&(As.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const r=this.#t,i=this.options,a=this.#i,s=this.#r,u=this.#s,f=e!==r?e.state:this.#n,{state:h}=e;let g={...h},y=!1,x;if(t._optimisticResults){const $=this.hasListeners(),ae=!$&&A1(e,t),ue=$&&N1(e,r,t,i);(ae||ue)&&(g={...g,...rO(h.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:w,errorUpdatedAt:_,status:E}=g;x=g.data;let T=!1;if(t.placeholderData!==void 0&&x===void 0&&E==="pending"){let $;a?.isPlaceholderData&&t.placeholderData===u?.placeholderData?($=a.data,T=!0):$=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,$!==void 0&&(E="success",x=vy(a?.data,$,t),y=!0)}if(t.select&&x!==void 0&&!T)if(a&&x===s?.data&&t.select===this.#m)x=this.#f;else try{this.#m=t.select,x=t.select(x),x=vy(a?.data,x,t),this.#f=x,this.#o=null}catch($){this.#o=$}this.#o&&(w=this.#o,x=this.#f,_=Date.now(),E="error");const N=g.fetchStatus==="fetching",D=E==="pending",I=E==="error",F=D&&N,k=x!==void 0,A={status:E,fetchStatus:g.fetchStatus,isPending:D,isSuccess:E==="success",isError:I,isInitialLoading:F,isLoading:F,data:x,dataUpdatedAt:g.dataUpdatedAt,error:w,errorUpdatedAt:_,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>f.dataUpdateCount||g.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!D,isLoadingError:I&&!k,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:I&&k,isStale:r0(e,t),refetch:this.refetch,promise:this.#a,isEnabled:Si(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const $=me=>{A.status==="error"?me.reject(A.error):A.data!==void 0&&me.resolve(A.data)},ae=()=>{const me=this.#a=A.promise=by();$(me)},ue=this.#a;switch(ue.status){case"pending":e.queryHash===r.queryHash&&$(ue);break;case"fulfilled":(A.status==="error"||A.data!==ue.value)&&ae();break;case"rejected":(A.status!=="error"||A.error!==ue.reason)&&ae();break}}return A}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),gy(t,e))return;this.#i=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!this.#p.size)return!0;const s=new Set(a??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#i).some(u=>{const d=u;return this.#i[d]!==e[d]&&s.has(d)})};this.#C({listeners:r()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#C(e){ur.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Yk(e,t){return Si(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function A1(e,t){return Yk(e,t)||e.state.data!==void 0&&wy(e,t,t.refetchOnMount)}function wy(e,t,r){if(Si(t.enabled,e)!==!1&&Ha(t.staleTime,e)!=="static"){const i=typeof r=="function"?r(e):r;return i==="always"||i!==!1&&r0(e,t)}return!1}function N1(e,t,r,i){return(e!==t||Si(i.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&r0(e,r)}function r0(e,t){return Si(t.enabled,e)!==!1&&e.isStaleByTime(Ha(t.staleTime,e))}function Kk(e,t){return!gy(e.getCurrentResult(),t)}function I1(e){return{onFetch:(t,r)=>{const i=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],u=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},f=0;const h=async()=>{let g=!1;const y=_=>{Lk(_,()=>t.signal,()=>g=!0)},x=ZE(t.options,t.fetchOptions),w=async(_,E,T)=>{if(g)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const D=(()=>{const U={client:t.client,queryKey:t.queryKey,pageParam:E,direction:T?"backward":"forward",meta:t.options.meta};return y(U),U})(),I=await x(D),{maxPages:F}=t.options,k=T?kk:Fk;return{pages:k(_.pages,I,F),pageParams:k(_.pageParams,E,F)}};if(a&&s.length){const _=a==="backward",E=_?Xk:j1,T={pages:s,pageParams:u},N=E(i,T);d=await w(T,N,_)}else{const _=e??s.length;do{const E=f===0?u[0]??i.initialPageParam:j1(i,d);if(f>0&&E==null)break;d=await w(d,E),f++}while(f<_)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(h,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=h}}}function j1(e,{pages:t,pageParams:r}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,r[i],r):void 0}function Xk(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}var Wk=class extends nO{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||Qk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=tO({fn:()=>this.options.mutationFn?this.options.mutationFn(e,r):Promise.reject(new Error("No mutationFn found")),onFail:(s,u)=>{this.#r({type:"failed",failureCount:s,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#i.canStart();try{if(i)t();else{this.#r({type:"pending",variables:e,isPaused:a}),await this.#n.config.onMutate?.(e,this,r);const u=await this.options.onMutate?.(e,r);u!==this.state.context&&this.#r({type:"pending",context:u,variables:e,isPaused:a})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,e,this.state.context,this,r),await this.options.onSuccess?.(s,e,this.state.context,r),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,r),await this.options.onSettled?.(s,null,e,this.state.context,r),this.#r({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,e,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onError?.(s,e,this.state.context,r)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,r)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,s,e,this.state.context,r)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#r(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),ur.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function Qk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zk=class extends gd{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,r){const i=new Wk({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){this.#e.add(e);const t=Gf(e);if(typeof t=="string"){const r=this.#t.get(t);r?r.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Gf(e);if(typeof t=="string"){const r=this.#t.get(t);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Gf(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(a=>a.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Gf(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){ur.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>M1(t,r))}findAll(e={}){return this.getAll().filter(t=>M1(e,t))}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return ur.batch(()=>Promise.all(e.map(t=>t.continue().catch(Br))))}};function Gf(e){return e.options.scope?.id}var Jk=class extends gd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,r){const i=t.queryKey,a=t.queryHash??e0(i,t);let s=this.get(a);return s||(s=new Gk({client:e,queryKey:i,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ur.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>O1(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>O1(e,r)):t}notify(e){ur.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){ur.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ur.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},eL=class{#e;#t;#n;#i;#r;#s;#a;#o;constructor(e={}){this.#e=e.queryCache||new Jk,this.#t=e.mutationCache||new Zk,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#a=n0.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=vh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#a?.(),this.#a=void 0,this.#o?.(),this.#o=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#e.build(this,t),i=r.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Ha(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:r})=>{const i=r.data;return[t,i]})}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(i.queryHash)?.state.data,u=Ik(t,s);if(u!==void 0)return this.#e.build(this,i).setData(u,{...r,manual:!0})}setQueriesData(e,t,r){return ur.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;ur.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#e;return ur.batch(()=>(r.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},i=ur.batch(()=>this.#e.findAll(e).map(a=>a.cancel(r)));return Promise.all(i).then(Br).catch(Br)}invalidateQueries(e,t={}){return ur.batch(()=>(this.#e.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},i=ur.batch(()=>this.#e.findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,r);return r.throwOnError||(s=s.catch(Br)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Br)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#e.build(this,t);return r.isStaleByTime(Ha(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Br).catch(Br)}fetchInfiniteQuery(e){return e.behavior=I1(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Br).catch(Br)}ensureInfiniteQueryData(e){return e.behavior=I1(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return vh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(Zc(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(i=>{Jc(e,i.queryKey)&&Object.assign(r,i.defaultOptions)}),r}setMutationDefaults(e,t){this.#r.set(Zc(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],r={};return t.forEach(i=>{Jc(e,i.mutationKey)&&Object.assign(r,i.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=e0(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===t0&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},iO=C.createContext(void 0),tL=e=>{const t=C.useContext(iO);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},nL=({client:e,children:t})=>(C.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),R.jsx(iO.Provider,{value:e,children:t})),oO=C.createContext(!1),rL=()=>C.useContext(oO);oO.Provider;function iL(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var oL=C.createContext(iL()),aL=()=>C.useContext(oL),sL=(e,t,r)=>{const i=r?.state.error&&typeof e.throwOnError=="function"?JE(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},lL=e=>{C.useEffect(()=>{e.clearReset()},[e])},uL=({result:e,errorResetBoundary:t,throwOnError:r,query:i,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(a&&e.data===void 0||JE(r,[e.error,i])),cL=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...a)=>r(i(...a)):r(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},dL=(e,t)=>e.isLoading&&e.isFetching&&!t,fL=(e,t)=>e?.suspense&&t.isPending,z1=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function hL(e,t,r){const i=rL(),a=aL(),s=tL(),u=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(u);const d=s.getQueryCache().get(u.queryHash);u._optimisticResults=i?"isRestoring":"optimistic",cL(u),sL(u,a,d),lL(a);const f=!s.getQueryCache().get(u.queryHash),[h]=C.useState(()=>new t(s,u)),g=h.getOptimisticResult(u),y=!i&&e.subscribed!==!1;if(C.useSyncExternalStore(C.useCallback(x=>{const w=y?h.subscribe(ur.batchCalls(x)):Br;return h.updateResult(),w},[h,y]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),C.useEffect(()=>{h.setOptions(u)},[u,h]),fL(u,g))throw z1(u,h,a);if(uL({result:g,errorResetBoundary:a,throwOnError:u.throwOnError,query:d,suspense:u.suspense}))throw g.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(u,g),u.experimental_prefetchInRender&&!ks&&dL(g,i)&&(f?z1(u,h,a):d?.promise)?.catch(Br).finally(()=>{h.updateResult()}),u.notifyOnChangeProps?g:h.trackResult(g)}function pL(e,t){return hL(e,Vk)}function mL(){const e=hd(),{data:t,isLoading:r,isError:i}=pL({queryKey:["tasks"],queryFn:wz}),a=u=>{switch(u){case"todo":return{label:" ",color:"blue"};case"in_progress":return{label:"  ",color:"yellow"};case"done":return{label:" ",color:"green"};default:return{label:u,color:"gray"}}},s=u=>u?u.split(" ")[0]:"";return R.jsxs(qr,{header:{height:60},padding:"0",children:[R.jsx(qr.Header,{children:R.jsxs(Li,{h:"100%",px:"md",align:"center",children:[R.jsx(Xo,{variant:"subtle",color:"dark",onClick:()=>e(-1),size:"lg",children:R.jsx(Xj,{size:24})}),R.jsx(Zh,{order:4,children:" "})]})}),R.jsx(qr.Main,{children:R.jsxs($i,{p:"md",gap:"sm",children:[r&&R.jsx(iu,{py:"xl",children:R.jsx(lo,{})}),i&&R.jsx(qo,{c:"red",ta:"center",mt:"md",children:"   "}),!r&&t?.length===0&&R.jsx(qo,{c:"dimmed",ta:"center",mt:"md",children:"   "}),t?.map(u=>{const d=a(u.state);return R.jsx(ld,{shadow:"sm",padding:"md",radius:"md",withBorder:!0,children:R.jsxs($i,{gap:"xs",children:[R.jsx(qo,{fw:500,size:"sm",children:u.title}),R.jsxs(Li,{gap:"xs",children:[R.jsx(Uo,{color:"gray",variant:"light",children:s(u.created_at)}),R.jsx(Uo,{color:d.color,variant:"light",children:d.label})]})]})},u.id)})]})})]})}const gL=()=>{const{isAuthenticated:e}=Ks();return e?R.jsx(wE,{}):R.jsx(j3,{to:"/login",replace:!0})},Sy=aj([{path:"/",element:R.jsx(bj,{}),children:[{element:R.jsx(gL,{}),children:[{index:!0,element:R.jsx(Pk,{})},{path:"tasks",element:R.jsx(mL,{})}]},{path:"login",element:R.jsx(wj,{})}]}]),F1={login:"/register/tokens/user",me:"/register/users/my-self"},bh={getUserProfile:async()=>{const e=await Fs(F1.me);if(!e.ok){const t=new Error("Failed to fetch user profile");throw t.status=e.status,t}return e.json()},login:async(e,t)=>{const r=await Fs(F1.login,{method:"POST",body:JSON.stringify({grant_type:"password",client_id:1,client_secret:"MapIr",username:e,password:t})});if(!r.ok)throw new Error("Login failed");const i=await r.json();return $N(i.access_token,i.refresh_token),bh.getUserProfile()},logout:()=>{qN(),Sy?Sy.navigate("/login"):window.location.hash="/login"}},aO=C.createContext(void 0),yL=({children:e})=>{const[t,r]=C.useState(null),[i,a]=C.useState(!!aS()),[s,u]=C.useState(!0),d=UT(),f=()=>{r(null),a(!1),bh.logout()};C.useEffect(()=>{(async()=>{if(!aS()){u(!1);return}if(t){u(!1);return}try{const x=await bh.getUserProfile();r(x),sS(x),a(!0)}catch(x){console.error("Failed to load user profile",x);const w=x;if(w.status===401||w.status===403){console.warn("Token expired, logging out."),f();return}const _=HN();_?(console.log("Network failed. Restoring user from offline cache."),r(_),a(!0)):f()}finally{u(!1)}})()},[t]);const h=g=>{r(g),sS(g),a(!0)};return R.jsx(aO.Provider,{value:{user:t,isAuthenticated:i,isLoading:s,login:h,logout:f,isOffline:!d.online},children:e})},Ks=()=>{const e=C.useContext(aO);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},vL=["#e8ecf4","#d0d9e9","#b9c6df","#a1b3d4","#8aa0c9","#728dbe","#5b7ab3","#4367a9","#2c549e","#144193"],bL={primaryColor:"blue",primaryShade:9,colors:{blue:vL}},xL=new eL;function wL(){return R.jsx(eP,{initialDirection:"rtl",children:R.jsxs(lC,{theme:bL,children:[R.jsx(ea,{position:"top-center",zIndex:1e3}),R.jsx(nL,{client:xL,children:R.jsx(yL,{children:R.jsx(vj,{router:Sy})})})]})})}NM.createRoot(document.getElementById("root")).render(R.jsx(C.StrictMode,{children:R.jsx(wL,{})}));export{xh as g};
