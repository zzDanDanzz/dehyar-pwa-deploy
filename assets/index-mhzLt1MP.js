function XT(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(i,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var QT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Th(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var cg={exports:{}},Ec={};var pw;function ZT(){if(pw)return Ec;pw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,s){var u=null;if(s!==void 0&&(u=""+s),a.key!==void 0&&(u=""+a.key),"key"in a){s={};for(var c in a)c!=="key"&&(s[c]=a[c])}else s=a;return a=s.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:s}}return Ec.Fragment=e,Ec.jsx=n,Ec.jsxs=n,Ec}var mw;function JT(){return mw||(mw=1,cg.exports=ZT()),cg.exports}var M=JT(),dg={exports:{}},yt={};var gw;function eM(){if(gw)return yt;gw=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),v=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=v&&H[v]||H["@@iterator"],typeof H=="function"?H:null)}var _={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,P={};function N(H,ne,Ce){this.props=H,this.context=ne,this.refs=P,this.updater=Ce||_}N.prototype.isReactComponent={},N.prototype.setState=function(H,ne){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,ne,"setState")},N.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function D(){}D.prototype=N.prototype;function A(H,ne,Ce){this.props=H,this.context=ne,this.refs=P,this.updater=Ce||_}var z=A.prototype=new D;z.constructor=A,E(z,N.prototype),z.isPureReactComponent=!0;var L=Array.isArray;function G(){}var j={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function ie(H,ne,Ce){var Ne=Ce.ref;return{$$typeof:t,type:H,key:ne,ref:Ne!==void 0?Ne:null,props:Ce}}function se(H,ne){return ie(H.type,ne,H.props)}function de(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function me(H){var ne={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(Ce){return ne[Ce]})}var Ee=/\/+/g;function ce(H,ne){return typeof H=="object"&&H!==null&&H.key!=null?me(""+H.key):ne.toString(36)}function xe(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(G,G):(H.status="pending",H.then(function(ne){H.status==="pending"&&(H.status="fulfilled",H.value=ne)},function(ne){H.status==="pending"&&(H.status="rejected",H.reason=ne)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function B(H,ne,Ce,Ne,Ie){var qe=typeof H;(qe==="undefined"||qe==="boolean")&&(H=null);var nt=!1;if(H===null)nt=!0;else switch(qe){case"bigint":case"string":case"number":nt=!0;break;case"object":switch(H.$$typeof){case t:case e:nt=!0;break;case g:return nt=H._init,B(nt(H._payload),ne,Ce,Ne,Ie)}}if(nt)return Ie=Ie(H),nt=Ne===""?"."+ce(H,0):Ne,L(Ie)?(Ce="",nt!=null&&(Ce=nt.replace(Ee,"$&/")+"/"),B(Ie,ne,Ce,"",function(Jt){return Jt})):Ie!=null&&(de(Ie)&&(Ie=se(Ie,Ce+(Ie.key==null||H&&H.key===Ie.key?"":(""+Ie.key).replace(Ee,"$&/")+"/")+nt)),ne.push(Ie)),1;nt=0;var wt=Ne===""?".":Ne+":";if(L(H))for(var De=0;De<H.length;De++)Ne=H[De],qe=wt+ce(Ne,De),nt+=B(Ne,ne,Ce,qe,Ie);else if(De=w(H),typeof De=="function")for(H=De.call(H),De=0;!(Ne=H.next()).done;)Ne=Ne.value,qe=wt+ce(Ne,De++),nt+=B(Ne,ne,Ce,qe,Ie);else if(qe==="object"){if(typeof H.then=="function")return B(xe(H),ne,Ce,Ne,Ie);throw ne=String(H),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return nt}function W(H,ne,Ce){if(H==null)return H;var Ne=[],Ie=0;return B(H,Ne,"","",function(qe){return ne.call(Ce,qe,Ie++)}),Ne}function V(H){if(H._status===-1){var ne=H._result;ne=ne(),ne.then(function(Ce){(H._status===0||H._status===-1)&&(H._status=1,H._result=Ce)},function(Ce){(H._status===0||H._status===-1)&&(H._status=2,H._result=Ce)}),H._status===-1&&(H._status=0,H._result=ne)}if(H._status===1)return H._result.default;throw H._result}var ge=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Se={map:W,forEach:function(H,ne,Ce){W(H,function(){ne.apply(this,arguments)},Ce)},count:function(H){var ne=0;return W(H,function(){ne++}),ne},toArray:function(H){return W(H,function(ne){return ne})||[]},only:function(H){if(!de(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return yt.Activity=y,yt.Children=Se,yt.Component=N,yt.Fragment=n,yt.Profiler=a,yt.PureComponent=A,yt.StrictMode=i,yt.Suspense=f,yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,yt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return j.H.useMemoCache(H)}},yt.cache=function(H){return function(){return H.apply(null,arguments)}},yt.cacheSignal=function(){return null},yt.cloneElement=function(H,ne,Ce){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var Ne=E({},H.props),Ie=H.key;if(ne!=null)for(qe in ne.key!==void 0&&(Ie=""+ne.key),ne)!U.call(ne,qe)||qe==="key"||qe==="__self"||qe==="__source"||qe==="ref"&&ne.ref===void 0||(Ne[qe]=ne[qe]);var qe=arguments.length-2;if(qe===1)Ne.children=Ce;else if(1<qe){for(var nt=Array(qe),wt=0;wt<qe;wt++)nt[wt]=arguments[wt+2];Ne.children=nt}return ie(H.type,Ie,Ne)},yt.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},yt.createElement=function(H,ne,Ce){var Ne,Ie={},qe=null;if(ne!=null)for(Ne in ne.key!==void 0&&(qe=""+ne.key),ne)U.call(ne,Ne)&&Ne!=="key"&&Ne!=="__self"&&Ne!=="__source"&&(Ie[Ne]=ne[Ne]);var nt=arguments.length-2;if(nt===1)Ie.children=Ce;else if(1<nt){for(var wt=Array(nt),De=0;De<nt;De++)wt[De]=arguments[De+2];Ie.children=wt}if(H&&H.defaultProps)for(Ne in nt=H.defaultProps,nt)Ie[Ne]===void 0&&(Ie[Ne]=nt[Ne]);return ie(H,qe,Ie)},yt.createRef=function(){return{current:null}},yt.forwardRef=function(H){return{$$typeof:c,render:H}},yt.isValidElement=de,yt.lazy=function(H){return{$$typeof:g,_payload:{_status:-1,_result:H},_init:V}},yt.memo=function(H,ne){return{$$typeof:h,type:H,compare:ne===void 0?null:ne}},yt.startTransition=function(H){var ne=j.T,Ce={};j.T=Ce;try{var Ne=H(),Ie=j.S;Ie!==null&&Ie(Ce,Ne),typeof Ne=="object"&&Ne!==null&&typeof Ne.then=="function"&&Ne.then(G,ge)}catch(qe){ge(qe)}finally{ne!==null&&Ce.types!==null&&(ne.types=Ce.types),j.T=ne}},yt.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},yt.use=function(H){return j.H.use(H)},yt.useActionState=function(H,ne,Ce){return j.H.useActionState(H,ne,Ce)},yt.useCallback=function(H,ne){return j.H.useCallback(H,ne)},yt.useContext=function(H){return j.H.useContext(H)},yt.useDebugValue=function(){},yt.useDeferredValue=function(H,ne){return j.H.useDeferredValue(H,ne)},yt.useEffect=function(H,ne){return j.H.useEffect(H,ne)},yt.useEffectEvent=function(H){return j.H.useEffectEvent(H)},yt.useId=function(){return j.H.useId()},yt.useImperativeHandle=function(H,ne,Ce){return j.H.useImperativeHandle(H,ne,Ce)},yt.useInsertionEffect=function(H,ne){return j.H.useInsertionEffect(H,ne)},yt.useLayoutEffect=function(H,ne){return j.H.useLayoutEffect(H,ne)},yt.useMemo=function(H,ne){return j.H.useMemo(H,ne)},yt.useOptimistic=function(H,ne){return j.H.useOptimistic(H,ne)},yt.useReducer=function(H,ne,Ce){return j.H.useReducer(H,ne,Ce)},yt.useRef=function(H){return j.H.useRef(H)},yt.useState=function(H){return j.H.useState(H)},yt.useSyncExternalStore=function(H,ne,Ce){return j.H.useSyncExternalStore(H,ne,Ce)},yt.useTransition=function(){return j.H.useTransition()},yt.version="19.2.3",yt}var yw;function Ny(){return yw||(yw=1,dg.exports=eM()),dg.exports}var S=Ny();const Rn=Th(S),Iy=XT({__proto__:null,default:Rn},[S]);var fg={exports:{}},Oc={},hg={exports:{}},pg={};var vw;function tM(){return vw||(vw=1,(function(t){function e(B,W){var V=B.length;B.push(W);e:for(;0<V;){var ge=V-1>>>1,Se=B[ge];if(0<a(Se,W))B[ge]=W,B[V]=Se,V=ge;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var W=B[0],V=B.pop();if(V!==W){B[0]=V;e:for(var ge=0,Se=B.length,H=Se>>>1;ge<H;){var ne=2*(ge+1)-1,Ce=B[ne],Ne=ne+1,Ie=B[Ne];if(0>a(Ce,V))Ne<Se&&0>a(Ie,Ce)?(B[ge]=Ie,B[Ne]=V,ge=Ne):(B[ge]=Ce,B[ne]=V,ge=ne);else if(Ne<Se&&0>a(Ie,V))B[ge]=Ie,B[Ne]=V,ge=Ne;else break e}}return W}function a(B,W){var V=B.sortIndex-W.sortIndex;return V!==0?V:B.id-W.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,c=u.now();t.unstable_now=function(){return u.now()-c}}var f=[],h=[],g=1,y=null,v=3,w=!1,_=!1,E=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function z(B){for(var W=n(h);W!==null;){if(W.callback===null)i(h);else if(W.startTime<=B)i(h),W.sortIndex=W.expirationTime,e(f,W);else break;W=n(h)}}function L(B){if(E=!1,z(B),!_)if(n(f)!==null)_=!0,G||(G=!0,me());else{var W=n(h);W!==null&&xe(L,W.startTime-B)}}var G=!1,j=-1,U=5,ie=-1;function se(){return P?!0:!(t.unstable_now()-ie<U)}function de(){if(P=!1,G){var B=t.unstable_now();ie=B;var W=!0;try{e:{_=!1,E&&(E=!1,D(j),j=-1),w=!0;var V=v;try{t:{for(z(B),y=n(f);y!==null&&!(y.expirationTime>B&&se());){var ge=y.callback;if(typeof ge=="function"){y.callback=null,v=y.priorityLevel;var Se=ge(y.expirationTime<=B);if(B=t.unstable_now(),typeof Se=="function"){y.callback=Se,z(B),W=!0;break t}y===n(f)&&i(f),z(B)}else i(f);y=n(f)}if(y!==null)W=!0;else{var H=n(h);H!==null&&xe(L,H.startTime-B),W=!1}}break e}finally{y=null,v=V,w=!1}W=void 0}}finally{W?me():G=!1}}}var me;if(typeof A=="function")me=function(){A(de)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,ce=Ee.port2;Ee.port1.onmessage=de,me=function(){ce.postMessage(null)}}else me=function(){N(de,0)};function xe(B,W){j=N(function(){B(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(B){switch(v){case 1:case 2:case 3:var W=3;break;default:W=v}var V=v;v=W;try{return B()}finally{v=V}},t.unstable_requestPaint=function(){P=!0},t.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var V=v;v=B;try{return W()}finally{v=V}},t.unstable_scheduleCallback=function(B,W,V){var ge=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ge+V:ge):V=ge,B){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=V+Se,B={id:g++,callback:W,priorityLevel:B,startTime:V,expirationTime:Se,sortIndex:-1},V>ge?(B.sortIndex=V,e(h,B),n(f)===null&&B===n(h)&&(E?(D(j),j=-1):E=!0,xe(L,V-ge))):(B.sortIndex=Se,e(f,B),_||w||(_=!0,G||(G=!0,me()))),B},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(B){var W=v;return function(){var V=v;v=W;try{return B.apply(this,arguments)}finally{v=V}}}})(pg)),pg}var bw;function nM(){return bw||(bw=1,hg.exports=tM()),hg.exports}var mg={exports:{}},mr={};var xw;function rM(){if(xw)return mr;xw=1;var t=Ny();function e(f){var h="https://react.dev/errors/"+f;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)h+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+f+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,h,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:h,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(f,h){if(f==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,mr.createPortal=function(f,h){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(f,h,null,g)},mr.flushSync=function(f){var h=u.T,g=i.p;try{if(u.T=null,i.p=2,f)return f()}finally{u.T=h,i.p=g,i.d.f()}},mr.preconnect=function(f,h){typeof f=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,i.d.C(f,h))},mr.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},mr.preinit=function(f,h){if(typeof f=="string"&&h&&typeof h.as=="string"){var g=h.as,y=c(g,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;g==="style"?i.d.S(f,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:y,integrity:v,fetchPriority:w}):g==="script"&&i.d.X(f,{crossOrigin:y,integrity:v,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},mr.preinitModule=function(f,h){if(typeof f=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var g=c(h.as,h.crossOrigin);i.d.M(f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&i.d.M(f)},mr.preload=function(f,h){if(typeof f=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var g=h.as,y=c(g,h.crossOrigin);i.d.L(f,g,{crossOrigin:y,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},mr.preloadModule=function(f,h){if(typeof f=="string")if(h){var g=c(h.as,h.crossOrigin);i.d.m(f,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else i.d.m(f)},mr.requestFormReset=function(f){i.d.r(f)},mr.unstable_batchedUpdates=function(f,h){return f(h)},mr.useFormState=function(f,h,g){return u.H.useFormState(f,h,g)},mr.useFormStatus=function(){return u.H.useHostTransitionStatus()},mr.version="19.2.3",mr}var ww;function JS(){if(ww)return mg.exports;ww=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mg.exports=rM(),mg.exports}var Sw;function iM(){if(Sw)return Oc;Sw=1;var t=nM(),e=Ny(),n=JS();function i(r){var o="https://react.dev/errors/"+r;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function s(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,(o.flags&4098)!==0&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function u(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function c(r){if(r.tag===31){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function f(r){if(s(r)!==r)throw Error(i(188))}function h(r){var o=r.alternate;if(!o){if(o=s(r),o===null)throw Error(i(188));return o!==r?null:r}for(var l=r,d=o;;){var m=l.return;if(m===null)break;var x=m.alternate;if(x===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===x.child){for(x=m.child;x;){if(x===l)return f(m),r;if(x===d)return f(m),o;x=x.sibling}throw Error(i(188))}if(l.return!==d.return)l=m,d=x;else{for(var T=!1,k=m.child;k;){if(k===l){T=!0,l=m,d=x;break}if(k===d){T=!0,d=m,l=x;break}k=k.sibling}if(!T){for(k=x.child;k;){if(k===l){T=!0,l=x,d=m;break}if(k===d){T=!0,d=x,l=m;break}k=k.sibling}if(!T)throw Error(i(189))}}if(l.alternate!==d)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:o}function g(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r;for(r=r.child;r!==null;){if(o=g(r),o!==null)return o;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),_=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),A=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),ie=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),de=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=de&&r[de]||r["@@iterator"],typeof r=="function"?r:null)}var Ee=Symbol.for("react.client.reference");function ce(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===Ee?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case N:return"Profiler";case P:return"StrictMode";case L:return"Suspense";case G:return"SuspenseList";case ie:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case _:return"Portal";case A:return r.displayName||"Context";case D:return(r._context.displayName||"Context")+".Consumer";case z:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case j:return o=r.displayName||null,o!==null?o:ce(r.type)||"Memo";case U:o=r._payload,r=r._init;try{return ce(r(o))}catch{}}return null}var xe=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V={pending:!1,data:null,method:null,action:null},ge=[],Se=-1;function H(r){return{current:r}}function ne(r){0>Se||(r.current=ge[Se],ge[Se]=null,Se--)}function Ce(r,o){Se++,ge[Se]=r.current,r.current=o}var Ne=H(null),Ie=H(null),qe=H(null),nt=H(null);function wt(r,o){switch(Ce(qe,o),Ce(Ie,r),Ce(Ne,null),o.nodeType){case 9:case 11:r=(r=o.documentElement)&&(r=r.namespaceURI)?zx(r):0;break;default:if(r=o.tagName,o=o.namespaceURI)o=zx(o),r=Lx(o,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ne(Ne),Ce(Ne,r)}function De(){ne(Ne),ne(Ie),ne(qe)}function Jt(r){r.memoizedState!==null&&Ce(nt,r);var o=Ne.current,l=Lx(o,r.type);o!==l&&(Ce(Ie,r),Ce(Ne,l))}function un(r){Ie.current===r&&(ne(Ne),ne(Ie)),nt.current===r&&(ne(nt),wc._currentValue=V)}var Je,ht;function Ft(r){if(Je===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);Je=o&&o[1]||"",ht=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+r+ht}var rn=!1;function gn(r,o){if(!r||rn)return"";rn=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var d={DetermineComponentFrameRoot:function(){try{if(o){var Re=function(){throw Error()};if(Object.defineProperty(Re.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Re,[])}catch(we){var ve=we}Reflect.construct(r,[],Re)}else{try{Re.call()}catch(we){ve=we}r.call(Re.prototype)}}else{try{throw Error()}catch(we){ve=we}(Re=r())&&typeof Re.catch=="function"&&Re.catch(function(){})}}catch(we){if(we&&ve&&typeof we.stack=="string")return[we.stack,ve.stack]}return[null,null]}};d.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(d.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(d.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=d.DetermineComponentFrameRoot(),T=x[0],k=x[1];if(T&&k){var Y=T.split(`
`),pe=k.split(`
`);for(m=d=0;d<Y.length&&!Y[d].includes("DetermineComponentFrameRoot");)d++;for(;m<pe.length&&!pe[m].includes("DetermineComponentFrameRoot");)m++;if(d===Y.length||m===pe.length)for(d=Y.length-1,m=pe.length-1;1<=d&&0<=m&&Y[d]!==pe[m];)m--;for(;1<=d&&0<=m;d--,m--)if(Y[d]!==pe[m]){if(d!==1||m!==1)do if(d--,m--,0>m||Y[d]!==pe[m]){var Te=`
`+Y[d].replace(" at new "," at ");return r.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",r.displayName)),Te}while(1<=d&&0<=m);break}}}finally{rn=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Ft(l):""}function Ar(r,o){switch(r.tag){case 26:case 27:case 5:return Ft(r.type);case 16:return Ft("Lazy");case 13:return r.child!==o&&o!==null?Ft("Suspense Fallback"):Ft("Suspense");case 19:return Ft("SuspenseList");case 0:case 15:return gn(r.type,!1);case 11:return gn(r.type.render,!1);case 1:return gn(r.type,!0);case 31:return Ft("Activity");default:return""}}function ir(r){try{var o="",l=null;do o+=Ar(r,l),l=r,r=r.return;while(r);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}var en=Object.prototype.hasOwnProperty,Vn=t.unstable_scheduleCallback,yn=t.unstable_cancelCallback,wn=t.unstable_shouldYield,Sr=t.unstable_requestPaint,Bt=t.unstable_now,qt=t.unstable_getCurrentPriorityLevel,Yn=t.unstable_ImmediatePriority,lt=t.unstable_UserBlockingPriority,Sn=t.unstable_NormalPriority,En=t.unstable_LowPriority,Dn=t.unstable_IdlePriority,Xr=t.log,on=t.unstable_setDisableYieldValue,Nr=null,Gt=null;function At(r){if(typeof Xr=="function"&&on(r),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(Nr,r)}catch{}}var Ge=Math.clz32?Math.clz32:zi,Qr=Math.log,Ir=Math.LN2;function zi(r){return r>>>=0,r===0?32:31-(Qr(r)/Ir|0)|0}var $e=256,an=262144,Kn=4194304;function or(r){var o=r&42;if(o!==0)return o;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function Xi(r,o,l){var d=r.pendingLanes;if(d===0)return 0;var m=0,x=r.suspendedLanes,T=r.pingedLanes;r=r.warmLanes;var k=d&134217727;return k!==0?(d=k&~x,d!==0?m=or(d):(T&=k,T!==0?m=or(T):l||(l=k&~r,l!==0&&(m=or(l))))):(k=d&~x,k!==0?m=or(k):T!==0?m=or(T):l||(l=d&~r,l!==0&&(m=or(l)))),m===0?0:o!==0&&o!==m&&(o&x)===0&&(x=m&-m,l=o&-o,x>=l||x===32&&(l&4194048)!==0)?o:m}function Li(r,o){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&o)===0}function Qs(r,o){switch(r){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wo(){var r=Kn;return Kn<<=1,(Kn&62914560)===0&&(Kn=4194304),r}function Cr(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function _r(r,o){r.pendingLanes|=o,o!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ts(r,o,l,d,m,x){var T=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var k=r.entanglements,Y=r.expirationTimes,pe=r.hiddenUpdates;for(l=T&~l;0<l;){var Te=31-Ge(l),Re=1<<Te;k[Te]=0,Y[Te]=-1;var ve=pe[Te];if(ve!==null)for(pe[Te]=null,Te=0;Te<ve.length;Te++){var we=ve[Te];we!==null&&(we.lane&=-536870913)}l&=~Re}d!==0&&So(r,d,0),x!==0&&m===0&&r.tag!==0&&(r.suspendedLanes|=x&~(T&~o))}function So(r,o,l){r.pendingLanes|=o,r.suspendedLanes&=~o;var d=31-Ge(o);r.entangledLanes|=o,r.entanglements[d]=r.entanglements[d]|1073741824|l&261930}function $(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var d=31-Ge(l),m=1<<d;m&o|r[d]&o&&(r[d]|=o),l&=~m}}function ee(r,o){var l=o&-o;return l=(l&42)!==0?1:be(l),(l&(r.suspendedLanes|o))!==0?0:l}function be(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function Ae(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Fe(){var r=W.p;return r!==0?r:(r=window.event,r===void 0?32:sw(r.type))}function tt(r,o){var l=W.p;try{return W.p=r,o()}finally{W.p=l}}var We=Math.random().toString(36).slice(2),He="__reactFiber$"+We,Ke="__reactProps$"+We,Qe="__reactContainer$"+We,ot="__reactEvents$"+We,it="__reactListeners$"+We,vt="__reactHandles$"+We,Ot="__reactResources$"+We,Ut="__reactMarker$"+We;function cn(r){delete r[He],delete r[Ke],delete r[ot],delete r[it],delete r[vt]}function sn(r){var o=r[He];if(o)return o;for(var l=r.parentNode;l;){if(o=l[Qe]||l[He]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=Gx(r);r!==null;){if(l=r[He])return l;r=Gx(r)}return o}r=l,l=r.parentNode}return null}function at(r){if(r=r[He]||r[Qe]){var o=r.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return r}return null}function ln(r){var o=r.tag;if(o===5||o===26||o===27||o===6)return r.stateNode;throw Error(i(33))}function vn(r){var o=r[Ot];return o||(o=r[Ot]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function tn(r){r[Ut]=!0}var Xn=new Set,Qn={};function Er(r,o){fr(r,o),fr(r+"Capture",o)}function fr(r,o){for(Qn[r]=o,r=0;r<o.length;r++)Xn.add(o[r])}var ar=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qi={},mi={};function Tt(r){return en.call(mi,r)?!0:en.call(Qi,r)?!1:ar.test(r)?mi[r]=!0:(Qi[r]=!0,!1)}function st(r,o,l){if(Tt(o))if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(o);return;case"boolean":var d=o.toLowerCase().slice(0,5);if(d!=="data-"&&d!=="aria-"){r.removeAttribute(o);return}}r.setAttribute(o,""+l)}}function jr(r,o,l){if(l===null)r.removeAttribute(o);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttribute(o,""+l)}}function jn(r,o,l,d){if(d===null)r.removeAttribute(l);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(o,l,""+d)}}function Ct(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Zr(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ns(r,o,l){var d=Object.getOwnPropertyDescriptor(r.constructor.prototype,o);if(!r.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,x=d.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){l=""+T,x.call(this,T)}}),Object.defineProperty(r,o,{enumerable:d.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function ua(r){if(!r._valueTracker){var o=Zr(r)?"checked":"value";r._valueTracker=ns(r,o,""+r[o])}}function Mu(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return r&&(d=Zr(r)?r.checked?"true":"false":r.value),r=d,r!==l?(o.setValue(r),!0):!1}function $t(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var rs=/[\n"\\]/g;function Zn(r){return r.replace(rs,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Zi(r,o,l,d,m,x,T,k){r.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?r.type=T:r.removeAttribute("type"),o!=null?T==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+Ct(o)):r.value!==""+Ct(o)&&(r.value=""+Ct(o)):T!=="submit"&&T!=="reset"||r.removeAttribute("value"),o!=null?is(r,T,Ct(o)):l!=null?is(r,T,Ct(l)):d!=null&&r.removeAttribute("value"),m==null&&x!=null&&(r.defaultChecked=!!x),m!=null&&(r.checked=m&&typeof m!="function"&&typeof m!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?r.name=""+Ct(k):r.removeAttribute("name")}function Zs(r,o,l,d,m,x,T,k){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(r.type=x),o!=null||l!=null){if(!(x!=="submit"&&x!=="reset"||o!=null)){ua(r);return}l=l!=null?""+Ct(l):"",o=o!=null?""+Ct(o):l,k||o===r.value||(r.value=o),r.defaultValue=o}d=d??m,d=typeof d!="function"&&typeof d!="symbol"&&!!d,r.checked=k?r.checked:!!d,r.defaultChecked=!!d,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(r.name=T),ua(r)}function is(r,o,l){o==="number"&&$t(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function Fi(r,o,l,d){if(r=r.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=o.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ct(l),o=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}o!==null||r[m].disabled||(o=r[m])}o!==null&&(o.selected=!0)}}function Pu(r,o,l){if(o!=null&&(o=""+Ct(o),o!==r.value&&(r.value=o),l==null)){r.defaultValue!==o&&(r.defaultValue=o);return}r.defaultValue=l!=null?""+Ct(l):""}function os(r,o,l,d){if(o==null){if(d!=null){if(l!=null)throw Error(i(92));if(xe(d)){if(1<d.length)throw Error(i(93));d=d[0]}l=d}l==null&&(l=""),o=l}l=Ct(o),r.defaultValue=l,d=r.textContent,d===l&&d!==""&&d!==null&&(r.value=d),ua(r)}function Co(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var bp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nt(r,o,l){var d=o.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?d?r.setProperty(o,""):o==="float"?r.cssFloat="":r[o]="":d?r.setProperty(o,l):typeof l!="number"||l===0||bp.has(o)?o==="float"?r.cssFloat=l:r[o]=(""+l).trim():r[o]=l+"px"}function Ru(r,o,l){if(o!=null&&typeof o!="object")throw Error(i(62));if(r=r.style,l!=null){for(var d in l)!l.hasOwnProperty(d)||o!=null&&o.hasOwnProperty(d)||(d.indexOf("--")===0?r.setProperty(d,""):d==="float"?r.cssFloat="":r[d]="");for(var m in o)d=o[m],o.hasOwnProperty(m)&&l[m]!==d&&Nt(r,m,d)}else for(var x in o)o.hasOwnProperty(x)&&Nt(r,x,o[x])}function Du(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bi(r){return Or.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function kr(){}var gi=null;function Js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var _o=null,dn=null;function Jr(r){var o=at(r);if(o&&(r=o.stateNode)){var l=r[Ke]||null;e:switch(r=o.stateNode,o.type){case"input":if(Zi(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zn(""+o)+'"][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==r&&d.form===r.form){var m=d[Ke]||null;if(!m)throw Error(i(90));Zi(d,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<l.length;o++)d=l[o],d.form===r.form&&Mu(d)}break e;case"textarea":Pu(r,l.value,l.defaultValue);break e;case"select":o=l.value,o!=null&&Fi(r,!!l.multiple,o,!1)}}}var Eo=!1;function ca(r,o,l){if(Eo)return r(o,l);Eo=!0;try{var d=r(o);return d}finally{if(Eo=!1,(_o!==null||dn!==null)&&(cf(),_o&&(o=_o,r=dn,dn=_o=null,Jr(o),r)))for(o=0;o<r.length;o++)Jr(r[o])}}function Oo(r,o){var l=r.stateNode;if(l===null)return null;var d=l[Ke]||null;if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,o,typeof l));return l}var Jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Au=!1;if(Jn)try{var hr={};Object.defineProperty(hr,"passive",{get:function(){Au=!0}}),window.addEventListener("test",hr,hr),window.removeEventListener("test",hr,hr)}catch{Au=!1}var yi=null,el=null,da=null;function fa(){if(da)return da;var r,o=el,l=o.length,d,m="value"in yi?yi.value:yi.textContent,x=m.length;for(r=0;r<l&&o[r]===m[r];r++);var T=l-r;for(d=1;d<=T&&o[l-d]===m[x-d];d++);return da=m.slice(r,1<d?1-d:void 0)}function ha(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function as(){return!0}function wd(){return!1}function kn(r){function o(l,d,m,x,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=x,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(x):x[k]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?as:wd,this.isPropagationStopped=wd,this}return y(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),o}var To={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tl=kn(To),Ji=y({},To,{view:0,detail:0}),nl=kn(Ji),ss,Nu,ls,rl=y({},Ji,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ls&&(ls&&r.type==="mousemove"?(ss=r.screenX-ls.screenX,Nu=r.screenY-ls.screenY):Nu=ss=0,ls=r),ss)},movementY:function(r){return"movementY"in r?r.movementY:Nu}}),il=kn(rl),Iu=y({},rl,{dataTransfer:0}),Sd=kn(Iu),ol=y({},Ji,{relatedTarget:0}),pa=kn(ol),al=y({},To,{animationName:0,elapsedTime:0,pseudoElement:0}),Cd=kn(al),wp=y({},To,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ma=kn(wp),ju=y({},To,{data:0}),sl=kn(ju),ku={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function us(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=er[r])?!!o[r]:!1}function Mo(){return us}var _d=y({},Ji,{key:function(r){if(r.key){var o=ku[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=ha(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?zu[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(r){return r.type==="keypress"?ha(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ha(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),ll=kn(_d),Ed=y({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lu=kn(Ed),ul=y({},Ji,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),Fu=kn(ul),Po=y({},To,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=kn(Po),Uu=y({},rl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),cl=kn(Uu),$u=y({},To,{newState:0,oldState:0}),Od=kn($u),Sp=[9,13,27,32],cs=Jn&&"CompositionEvent"in window,eo=null;Jn&&"documentMode"in document&&(eo=document.documentMode);var Cp=Jn&&"TextEvent"in window&&!eo,dl=Jn&&(!cs||eo&&8<eo&&11>=eo),fl=" ",Td=!1;function Hu(r,o){switch(r){case"keyup":return Sp.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Md(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ro=!1;function Pd(r,o){switch(r){case"compositionend":return Md(o);case"keypress":return o.which!==32?null:(Td=!0,fl);case"textInput":return r=o.data,r===fl&&Td?null:r;default:return null}}function _p(r,o){if(Ro)return r==="compositionend"||!cs&&Hu(r,o)?(r=fa(),da=el=yi=null,Ro=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return dl&&o.locale!=="ko"?null:o.data;default:return null}}var Rd={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hl(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Rd[r.type]:o==="textarea"}function qu(r,o,l,d){_o?dn?dn.push(d):dn=[d]:_o=d,o=yf(o,"onChange"),0<o.length&&(l=new tl("onChange","change",null,l,d),r.push({event:l,listeners:o}))}var ga=null,ds=null;function Ep(r){Dx(r,0)}function pl(r){var o=ln(r);if(Mu(o))return r}function fs(r,o){if(r==="change")return o}var vi=!1;if(Jn){var fn;if(Jn){var ya="oninput"in document;if(!ya){var Tr=document.createElement("div");Tr.setAttribute("oninput","return;"),ya=typeof Tr.oninput=="function"}fn=ya}else fn=!1;vi=fn&&(!document.documentMode||9<document.documentMode)}function Dd(){ga&&(ga.detachEvent("onpropertychange",ml),ds=ga=null)}function ml(r){if(r.propertyName==="value"&&pl(ds)){var o=[];qu(o,ds,r,Js(r)),ca(Ep,o)}}function Ad(r,o,l){r==="focusin"?(Dd(),ga=o,ds=l,ga.attachEvent("onpropertychange",ml)):r==="focusout"&&Dd()}function Do(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return pl(ds)}function Gu(r,o){if(r==="click")return pl(o)}function va(r,o){if(r==="input"||r==="change")return pl(o)}function to(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var pr=typeof Object.is=="function"?Object.is:to;function p(r,o){if(pr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!en.call(o,m)||!pr(r[m],o[m]))return!1}return!0}function b(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function C(r,o){var l=b(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=o&&d>=o)return{node:l,offset:o-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=b(l)}}function O(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?O(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function R(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var o=$t(r.document);o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=$t(r.document)}return o}function I(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}var F=Jn&&"documentMode"in document&&11>=document.documentMode,q=null,X=null,Q=null,oe=!1;function K(r,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;oe||q==null||q!==$t(d)||(d=q,"selectionStart"in d&&I(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Q&&p(Q,d)||(Q=d,d=yf(X,"onSelect"),0<d.length&&(o=new tl("onSelect","select",null,o,l),r.push({event:o,listeners:d}),o.target=q)))}function le(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Z={animationend:le("Animation","AnimationEnd"),animationiteration:le("Animation","AnimationIteration"),animationstart:le("Animation","AnimationStart"),transitionrun:le("Transition","TransitionRun"),transitionstart:le("Transition","TransitionStart"),transitioncancel:le("Transition","TransitionCancel"),transitionend:le("Transition","TransitionEnd")},te={},re={};Jn&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete Z.animationend.animation,delete Z.animationiteration.animation,delete Z.animationstart.animation),"TransitionEvent"in window||delete Z.transitionend.transition);function ae(r){if(te[r])return te[r];if(!Z[r])return r;var o=Z[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in re)return te[r]=o[l];return r}var fe=ae("animationend"),ye=ae("animationiteration"),Oe=ae("animationstart"),Pe=ae("transitionrun"),Be=ae("transitionstart"),Ye=ae("transitioncancel"),ke=ae("transitionend"),Ue=new Map,Ve="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ve.push("scrollEnd");function ze(r,o){Ue.set(r,o),Er(o,[r])}var Xe=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},ut=[],gt=0,bt=0;function tr(){for(var r=gt,o=bt=gt=0;o<r;){var l=ut[o];ut[o++]=null;var d=ut[o];ut[o++]=null;var m=ut[o];ut[o++]=null;var x=ut[o];if(ut[o++]=null,d!==null&&m!==null){var T=d.pending;T===null?m.next=m:(m.next=T.next,T.next=m),d.pending=m}x!==0&&hs(l,m,x)}}function pt(r,o,l,d){ut[gt++]=r,ut[gt++]=o,ut[gt++]=l,ut[gt++]=d,bt|=d,r.lanes|=d,r=r.alternate,r!==null&&(r.lanes|=d)}function zn(r,o,l,d){return pt(r,o,l,d),Ln(r)}function bn(r,o){return pt(r,null,null,o),Ln(r)}function hs(r,o,l){r.lanes|=l;var d=r.alternate;d!==null&&(d.lanes|=l);for(var m=!1,x=r.return;x!==null;)x.childLanes|=l,d=x.alternate,d!==null&&(d.childLanes|=l),x.tag===22&&(r=x.stateNode,r===null||r._visibility&1||(m=!0)),r=x,x=x.return;return r.tag===3?(x=r.stateNode,m&&o!==null&&(m=31-Ge(l),r=x.hiddenUpdates,d=r[m],d===null?r[m]=[o]:d.push(o),o.lane=l|536870912),x):null}function Ln(r){if(50<pc)throw pc=0,Im=null,Error(i(185));for(var o=r.return;o!==null;)r=o,o=r.return;return r.tag===3?r.stateNode:null}var zr={};function Vu(r,o,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(r,o,l,d){return new Vu(r,o,l,d)}function Op(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ao(r,o){var l=r.alternate;return l===null?(l=ei(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function h0(r,o){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=o,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,o=l.dependencies,r.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),r}function Nd(r,o,l,d,m,x){var T=0;if(d=r,typeof r=="function")Op(r)&&(T=1);else if(typeof r=="string")T=LT(r,l,Ne.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case ie:return r=ei(31,l,o,m),r.elementType=ie,r.lanes=x,r;case E:return ps(l.children,m,x,o);case P:T=8,m|=24;break;case N:return r=ei(12,l,o,m|2),r.elementType=N,r.lanes=x,r;case L:return r=ei(13,l,o,m),r.elementType=L,r.lanes=x,r;case G:return r=ei(19,l,o,m),r.elementType=G,r.lanes=x,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:T=10;break e;case D:T=9;break e;case z:T=11;break e;case j:T=14;break e;case U:T=16,d=null;break e}T=29,l=Error(i(130,r===null?"null":typeof r,"")),d=null}return o=ei(T,l,o,m),o.elementType=r,o.type=d,o.lanes=x,o}function ps(r,o,l,d){return r=ei(7,r,d,o),r.lanes=l,r}function Tp(r,o,l){return r=ei(6,r,null,o),r.lanes=l,r}function p0(r){var o=ei(18,null,null,0);return o.stateNode=r,o}function Mp(r,o,l){return o=ei(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}var m0=new WeakMap;function bi(r,o){if(typeof r=="object"&&r!==null){var l=m0.get(r);return l!==void 0?l:(o={value:r,source:o,stack:ir(o)},m0.set(r,o),o)}return{value:r,source:o,stack:ir(o)}}var gl=[],yl=0,Id=null,Yu=0,xi=[],wi=0,ba=null,no=1,ro="";function No(r,o){gl[yl++]=Yu,gl[yl++]=Id,Id=r,Yu=o}function g0(r,o,l){xi[wi++]=no,xi[wi++]=ro,xi[wi++]=ba,ba=r;var d=no;r=ro;var m=32-Ge(d)-1;d&=~(1<<m),l+=1;var x=32-Ge(o)+m;if(30<x){var T=m-m%5;x=(d&(1<<T)-1).toString(32),d>>=T,m-=T,no=1<<32-Ge(o)+m|l<<m|d,ro=x+r}else no=1<<x|l<<m|d,ro=r}function Pp(r){r.return!==null&&(No(r,1),g0(r,1,0))}function Rp(r){for(;r===Id;)Id=gl[--yl],gl[yl]=null,Yu=gl[--yl],gl[yl]=null;for(;r===ba;)ba=xi[--wi],xi[wi]=null,ro=xi[--wi],xi[wi]=null,no=xi[--wi],xi[wi]=null}function y0(r,o){xi[wi++]=no,xi[wi++]=ro,xi[wi++]=ba,no=o.id,ro=o.overflow,ba=r}var sr=null,hn=null,It=!1,xa=null,Si=!1,Dp=Error(i(519));function wa(r){var o=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ku(bi(o,r)),Dp}function v0(r){var o=r.stateNode,l=r.type,d=r.memoizedProps;switch(o[He]=r,o[Ke]=d,l){case"dialog":Pt("cancel",o),Pt("close",o);break;case"iframe":case"object":case"embed":Pt("load",o);break;case"video":case"audio":for(l=0;l<gc.length;l++)Pt(gc[l],o);break;case"source":Pt("error",o);break;case"img":case"image":case"link":Pt("error",o),Pt("load",o);break;case"details":Pt("toggle",o);break;case"input":Pt("invalid",o),Zs(o,d.value,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name,!0);break;case"select":Pt("invalid",o);break;case"textarea":Pt("invalid",o),os(o,d.value,d.defaultValue,d.children)}l=d.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||o.textContent===""+l||d.suppressHydrationWarning===!0||jx(o.textContent,l)?(d.popover!=null&&(Pt("beforetoggle",o),Pt("toggle",o)),d.onScroll!=null&&Pt("scroll",o),d.onScrollEnd!=null&&Pt("scrollend",o),d.onClick!=null&&(o.onclick=kr),o=!0):o=!1,o||wa(r,!0)}function b0(r){for(sr=r.return;sr;)switch(sr.tag){case 5:case 31:case 13:Si=!1;return;case 27:case 3:Si=!0;return;default:sr=sr.return}}function vl(r){if(r!==sr)return!1;if(!It)return b0(r),It=!0,!1;var o=r.tag,l;if((l=o!==3&&o!==27)&&((l=o===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Wm(r.type,r.memoizedProps)),l=!l),l&&hn&&wa(r),b0(r),o===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));hn=qx(r)}else if(o===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));hn=qx(r)}else o===27?(o=hn,ja(r.type)?(r=eg,eg=null,hn=r):hn=o):hn=sr?_i(r.stateNode.nextSibling):null;return!0}function ms(){hn=sr=null,It=!1}function Ap(){var r=xa;return r!==null&&(Ur===null?Ur=r:Ur.push.apply(Ur,r),xa=null),r}function Ku(r){xa===null?xa=[r]:xa.push(r)}var Np=H(null),gs=null,Io=null;function Sa(r,o,l){Ce(Np,o._currentValue),o._currentValue=l}function jo(r){r._currentValue=Np.current,ne(Np)}function Ip(r,o,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===l)break;r=r.return}}function jp(r,o,l,d){var m=r.child;for(m!==null&&(m.return=r);m!==null;){var x=m.dependencies;if(x!==null){var T=m.child;x=x.firstContext;e:for(;x!==null;){var k=x;x=m;for(var Y=0;Y<o.length;Y++)if(k.context===o[Y]){x.lanes|=l,k=x.alternate,k!==null&&(k.lanes|=l),Ip(x.return,l,r),d||(T=null);break e}x=k.next}}else if(m.tag===18){if(T=m.return,T===null)throw Error(i(341));T.lanes|=l,x=T.alternate,x!==null&&(x.lanes|=l),Ip(T,l,r),T=null}else T=m.child;if(T!==null)T.return=m;else for(T=m;T!==null;){if(T===r){T=null;break}if(m=T.sibling,m!==null){m.return=T.return,T=m;break}T=T.return}m=T}}function bl(r,o,l,d){r=null;for(var m=o,x=!1;m!==null;){if(!x){if((m.flags&524288)!==0)x=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var T=m.alternate;if(T===null)throw Error(i(387));if(T=T.memoizedProps,T!==null){var k=m.type;pr(m.pendingProps.value,T.value)||(r!==null?r.push(k):r=[k])}}else if(m===nt.current){if(T=m.alternate,T===null)throw Error(i(387));T.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(r!==null?r.push(wc):r=[wc])}m=m.return}r!==null&&jp(o,r,l,d),o.flags|=262144}function jd(r){for(r=r.firstContext;r!==null;){if(!pr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function ys(r){gs=r,Io=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function lr(r){return x0(gs,r)}function kd(r,o){return gs===null&&ys(r),x0(r,o)}function x0(r,o){var l=o._currentValue;if(o={context:o,memoizedValue:l,next:null},Io===null){if(r===null)throw Error(i(308));Io=o,r.dependencies={lanes:0,firstContext:o},r.flags|=524288}else Io=Io.next=o;return l}var IO=typeof AbortController<"u"?AbortController:function(){var r=[],o=this.signal={aborted:!1,addEventListener:function(l,d){r.push(d)}};this.abort=function(){o.aborted=!0,r.forEach(function(l){return l()})}},jO=t.unstable_scheduleCallback,kO=t.unstable_NormalPriority,Fn={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kp(){return{controller:new IO,data:new Map,refCount:0}}function Wu(r){r.refCount--,r.refCount===0&&jO(kO,function(){r.controller.abort()})}var Xu=null,zp=0,xl=0,wl=null;function zO(r,o){if(Xu===null){var l=Xu=[];zp=0,xl=Bm(),wl={status:"pending",value:void 0,then:function(d){l.push(d)}}}return zp++,o.then(w0,w0),o}function w0(){if(--zp===0&&Xu!==null){wl!==null&&(wl.status="fulfilled");var r=Xu;Xu=null,xl=0,wl=null;for(var o=0;o<r.length;o++)(0,r[o])()}}function LO(r,o){var l=[],d={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return r.then(function(){d.status="fulfilled",d.value=o;for(var m=0;m<l.length;m++)(0,l[m])(o)},function(m){for(d.status="rejected",d.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),d}var S0=B.S;B.S=function(r,o){ox=Bt(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&zO(r,o),S0!==null&&S0(r,o)};var vs=H(null);function Lp(){var r=vs.current;return r!==null?r:nn.pooledCache}function zd(r,o){o===null?Ce(vs,vs.current):Ce(vs,o.pool)}function C0(){var r=Lp();return r===null?null:{parent:Fn._currentValue,pool:r}}var Sl=Error(i(460)),Fp=Error(i(474)),Ld=Error(i(542)),Fd={then:function(){}};function _0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function E0(r,o,l){switch(l=r[l],l===void 0?r.push(o):l!==o&&(o.then(kr,kr),o=l),o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,T0(r),r;default:if(typeof o.status=="string")o.then(kr,kr);else{if(r=nn,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=o,r.status="pending",r.then(function(d){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=d}},function(d){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=d}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw r=o.reason,T0(r),r}throw xs=o,Sl}}function bs(r){try{var o=r._init;return o(r._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(xs=l,Sl):l}}var xs=null;function O0(){if(xs===null)throw Error(i(459));var r=xs;return xs=null,r}function T0(r){if(r===Sl||r===Ld)throw Error(i(483))}var Cl=null,Qu=0;function Bd(r){var o=Qu;return Qu+=1,Cl===null&&(Cl=[]),E0(Cl,r,o)}function Zu(r,o){o=o.props.ref,r.ref=o!==void 0?o:null}function Ud(r,o){throw o.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(o),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r)))}function M0(r){function o(ue,J){if(r){var he=ue.deletions;he===null?(ue.deletions=[J],ue.flags|=16):he.push(J)}}function l(ue,J){if(!r)return null;for(;J!==null;)o(ue,J),J=J.sibling;return null}function d(ue){for(var J=new Map;ue!==null;)ue.key!==null?J.set(ue.key,ue):J.set(ue.index,ue),ue=ue.sibling;return J}function m(ue,J){return ue=Ao(ue,J),ue.index=0,ue.sibling=null,ue}function x(ue,J,he){return ue.index=he,r?(he=ue.alternate,he!==null?(he=he.index,he<J?(ue.flags|=67108866,J):he):(ue.flags|=67108866,J)):(ue.flags|=1048576,J)}function T(ue){return r&&ue.alternate===null&&(ue.flags|=67108866),ue}function k(ue,J,he,Me){return J===null||J.tag!==6?(J=Tp(he,ue.mode,Me),J.return=ue,J):(J=m(J,he),J.return=ue,J)}function Y(ue,J,he,Me){var ct=he.type;return ct===E?Te(ue,J,he.props.children,Me,he.key):J!==null&&(J.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===U&&bs(ct)===J.type)?(J=m(J,he.props),Zu(J,he),J.return=ue,J):(J=Nd(he.type,he.key,he.props,null,ue.mode,Me),Zu(J,he),J.return=ue,J)}function pe(ue,J,he,Me){return J===null||J.tag!==4||J.stateNode.containerInfo!==he.containerInfo||J.stateNode.implementation!==he.implementation?(J=Mp(he,ue.mode,Me),J.return=ue,J):(J=m(J,he.children||[]),J.return=ue,J)}function Te(ue,J,he,Me,ct){return J===null||J.tag!==7?(J=ps(he,ue.mode,Me,ct),J.return=ue,J):(J=m(J,he),J.return=ue,J)}function Re(ue,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Tp(""+J,ue.mode,he),J.return=ue,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return he=Nd(J.type,J.key,J.props,null,ue.mode,he),Zu(he,J),he.return=ue,he;case _:return J=Mp(J,ue.mode,he),J.return=ue,J;case U:return J=bs(J),Re(ue,J,he)}if(xe(J)||me(J))return J=ps(J,ue.mode,he,null),J.return=ue,J;if(typeof J.then=="function")return Re(ue,Bd(J),he);if(J.$$typeof===A)return Re(ue,kd(ue,J),he);Ud(ue,J)}return null}function ve(ue,J,he,Me){var ct=J!==null?J.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return ct!==null?null:k(ue,J,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case w:return he.key===ct?Y(ue,J,he,Me):null;case _:return he.key===ct?pe(ue,J,he,Me):null;case U:return he=bs(he),ve(ue,J,he,Me)}if(xe(he)||me(he))return ct!==null?null:Te(ue,J,he,Me,null);if(typeof he.then=="function")return ve(ue,J,Bd(he),Me);if(he.$$typeof===A)return ve(ue,J,kd(ue,he),Me);Ud(ue,he)}return null}function we(ue,J,he,Me,ct){if(typeof Me=="string"&&Me!==""||typeof Me=="number"||typeof Me=="bigint")return ue=ue.get(he)||null,k(J,ue,""+Me,ct);if(typeof Me=="object"&&Me!==null){switch(Me.$$typeof){case w:return ue=ue.get(Me.key===null?he:Me.key)||null,Y(J,ue,Me,ct);case _:return ue=ue.get(Me.key===null?he:Me.key)||null,pe(J,ue,Me,ct);case U:return Me=bs(Me),we(ue,J,he,Me,ct)}if(xe(Me)||me(Me))return ue=ue.get(he)||null,Te(J,ue,Me,ct,null);if(typeof Me.then=="function")return we(ue,J,he,Bd(Me),ct);if(Me.$$typeof===A)return we(ue,J,he,kd(J,Me),ct);Ud(J,Me)}return null}function et(ue,J,he,Me){for(var ct=null,zt=null,rt=J,St=J=0,Dt=null;rt!==null&&St<he.length;St++){rt.index>St?(Dt=rt,rt=null):Dt=rt.sibling;var Lt=ve(ue,rt,he[St],Me);if(Lt===null){rt===null&&(rt=Dt);break}r&&rt&&Lt.alternate===null&&o(ue,rt),J=x(Lt,J,St),zt===null?ct=Lt:zt.sibling=Lt,zt=Lt,rt=Dt}if(St===he.length)return l(ue,rt),It&&No(ue,St),ct;if(rt===null){for(;St<he.length;St++)rt=Re(ue,he[St],Me),rt!==null&&(J=x(rt,J,St),zt===null?ct=rt:zt.sibling=rt,zt=rt);return It&&No(ue,St),ct}for(rt=d(rt);St<he.length;St++)Dt=we(rt,ue,St,he[St],Me),Dt!==null&&(r&&Dt.alternate!==null&&rt.delete(Dt.key===null?St:Dt.key),J=x(Dt,J,St),zt===null?ct=Dt:zt.sibling=Dt,zt=Dt);return r&&rt.forEach(function(Ba){return o(ue,Ba)}),It&&No(ue,St),ct}function dt(ue,J,he,Me){if(he==null)throw Error(i(151));for(var ct=null,zt=null,rt=J,St=J=0,Dt=null,Lt=he.next();rt!==null&&!Lt.done;St++,Lt=he.next()){rt.index>St?(Dt=rt,rt=null):Dt=rt.sibling;var Ba=ve(ue,rt,Lt.value,Me);if(Ba===null){rt===null&&(rt=Dt);break}r&&rt&&Ba.alternate===null&&o(ue,rt),J=x(Ba,J,St),zt===null?ct=Ba:zt.sibling=Ba,zt=Ba,rt=Dt}if(Lt.done)return l(ue,rt),It&&No(ue,St),ct;if(rt===null){for(;!Lt.done;St++,Lt=he.next())Lt=Re(ue,Lt.value,Me),Lt!==null&&(J=x(Lt,J,St),zt===null?ct=Lt:zt.sibling=Lt,zt=Lt);return It&&No(ue,St),ct}for(rt=d(rt);!Lt.done;St++,Lt=he.next())Lt=we(rt,ue,St,Lt.value,Me),Lt!==null&&(r&&Lt.alternate!==null&&rt.delete(Lt.key===null?St:Lt.key),J=x(Lt,J,St),zt===null?ct=Lt:zt.sibling=Lt,zt=Lt);return r&&rt.forEach(function(WT){return o(ue,WT)}),It&&No(ue,St),ct}function Xt(ue,J,he,Me){if(typeof he=="object"&&he!==null&&he.type===E&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case w:e:{for(var ct=he.key;J!==null;){if(J.key===ct){if(ct=he.type,ct===E){if(J.tag===7){l(ue,J.sibling),Me=m(J,he.props.children),Me.return=ue,ue=Me;break e}}else if(J.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===U&&bs(ct)===J.type){l(ue,J.sibling),Me=m(J,he.props),Zu(Me,he),Me.return=ue,ue=Me;break e}l(ue,J);break}else o(ue,J);J=J.sibling}he.type===E?(Me=ps(he.props.children,ue.mode,Me,he.key),Me.return=ue,ue=Me):(Me=Nd(he.type,he.key,he.props,null,ue.mode,Me),Zu(Me,he),Me.return=ue,ue=Me)}return T(ue);case _:e:{for(ct=he.key;J!==null;){if(J.key===ct)if(J.tag===4&&J.stateNode.containerInfo===he.containerInfo&&J.stateNode.implementation===he.implementation){l(ue,J.sibling),Me=m(J,he.children||[]),Me.return=ue,ue=Me;break e}else{l(ue,J);break}else o(ue,J);J=J.sibling}Me=Mp(he,ue.mode,Me),Me.return=ue,ue=Me}return T(ue);case U:return he=bs(he),Xt(ue,J,he,Me)}if(xe(he))return et(ue,J,he,Me);if(me(he)){if(ct=me(he),typeof ct!="function")throw Error(i(150));return he=ct.call(he),dt(ue,J,he,Me)}if(typeof he.then=="function")return Xt(ue,J,Bd(he),Me);if(he.$$typeof===A)return Xt(ue,J,kd(ue,he),Me);Ud(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,J!==null&&J.tag===6?(l(ue,J.sibling),Me=m(J,he),Me.return=ue,ue=Me):(l(ue,J),Me=Tp(he,ue.mode,Me),Me.return=ue,ue=Me),T(ue)):l(ue,J)}return function(ue,J,he,Me){try{Qu=0;var ct=Xt(ue,J,he,Me);return Cl=null,ct}catch(rt){if(rt===Sl||rt===Ld)throw rt;var zt=ei(29,rt,null,ue.mode);return zt.lanes=Me,zt.return=ue,zt}}}var ws=M0(!0),P0=M0(!1),Ca=!1;function Bp(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Up(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function _a(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function Ea(r,o,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,(Ht&2)!==0){var m=d.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),d.pending=o,o=Ln(r),hs(r,null,l),o}return pt(r,d,o,l),Ln(r)}function Ju(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194048)!==0)){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,$(r,l)}}function $p(r,o){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,x=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};x===null?m=x=T:x=x.next=T,l=l.next}while(l!==null);x===null?m=x=o:x=x.next=o}else m=x=o;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:x,shared:d.shared,callbacks:d.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}var Hp=!1;function ec(){if(Hp){var r=wl;if(r!==null)throw r}}function tc(r,o,l,d){Hp=!1;var m=r.updateQueue;Ca=!1;var x=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var Y=k,pe=Y.next;Y.next=null,T===null?x=pe:T.next=pe,T=Y;var Te=r.alternate;Te!==null&&(Te=Te.updateQueue,k=Te.lastBaseUpdate,k!==T&&(k===null?Te.firstBaseUpdate=pe:k.next=pe,Te.lastBaseUpdate=Y))}if(x!==null){var Re=m.baseState;T=0,Te=pe=Y=null,k=x;do{var ve=k.lane&-536870913,we=ve!==k.lane;if(we?(Rt&ve)===ve:(d&ve)===ve){ve!==0&&ve===xl&&(Hp=!0),Te!==null&&(Te=Te.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var et=r,dt=k;ve=o;var Xt=l;switch(dt.tag){case 1:if(et=dt.payload,typeof et=="function"){Re=et.call(Xt,Re,ve);break e}Re=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=dt.payload,ve=typeof et=="function"?et.call(Xt,Re,ve):et,ve==null)break e;Re=y({},Re,ve);break e;case 2:Ca=!0}}ve=k.callback,ve!==null&&(r.flags|=64,we&&(r.flags|=8192),we=m.callbacks,we===null?m.callbacks=[ve]:we.push(ve))}else we={lane:ve,tag:k.tag,payload:k.payload,callback:k.callback,next:null},Te===null?(pe=Te=we,Y=Re):Te=Te.next=we,T|=ve;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;we=k,k=we.next,we.next=null,m.lastBaseUpdate=we,m.shared.pending=null}}while(!0);Te===null&&(Y=Re),m.baseState=Y,m.firstBaseUpdate=pe,m.lastBaseUpdate=Te,x===null&&(m.shared.lanes=0),Ra|=T,r.lanes=T,r.memoizedState=Re}}function R0(r,o){if(typeof r!="function")throw Error(i(191,r));r.call(o)}function D0(r,o){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)R0(l[r],o)}var _l=H(null),$d=H(0);function A0(r,o){r=qo,Ce($d,r),Ce(_l,o),qo=r|o.baseLanes}function qp(){Ce($d,qo),Ce(_l,_l.current)}function Gp(){qo=$d.current,ne(_l),ne($d)}var ti=H(null),Ci=null;function Oa(r){var o=r.alternate;Ce(An,An.current&1),Ce(ti,r),Ci===null&&(o===null||_l.current!==null||o.memoizedState!==null)&&(Ci=r)}function Vp(r){Ce(An,An.current),Ce(ti,r),Ci===null&&(Ci=r)}function N0(r){r.tag===22?(Ce(An,An.current),Ce(ti,r),Ci===null&&(Ci=r)):Ta()}function Ta(){Ce(An,An.current),Ce(ti,ti.current)}function ni(r){ne(ti),Ci===r&&(Ci=null),ne(An)}var An=H(0);function Hd(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Zm(l)||Jm(l)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var ko=0,xt=null,Kt=null,Bn=null,qd=!1,El=!1,Ss=!1,Gd=0,nc=0,Ol=null,FO=0;function On(){throw Error(i(321))}function Yp(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!pr(r[l],o[l]))return!1;return!0}function Kp(r,o,l,d,m,x){return ko=x,xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,B.H=r===null||r.memoizedState===null?gb:um,Ss=!1,x=l(d,m),Ss=!1,El&&(x=j0(o,l,d,m)),I0(r),x}function I0(r){B.H=oc;var o=Kt!==null&&Kt.next!==null;if(ko=0,Bn=Kt=xt=null,qd=!1,nc=0,Ol=null,o)throw Error(i(300));r===null||Un||(r=r.dependencies,r!==null&&jd(r)&&(Un=!0))}function j0(r,o,l,d){xt=r;var m=0;do{if(El&&(Ol=null),nc=0,El=!1,25<=m)throw Error(i(301));if(m+=1,Bn=Kt=null,r.updateQueue!=null){var x=r.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}B.H=yb,x=o(l,d)}while(El);return x}function BO(){var r=B.H,o=r.useState()[0];return o=typeof o.then=="function"?rc(o):o,r=r.useState()[0],(Kt!==null?Kt.memoizedState:null)!==r&&(xt.flags|=1024),o}function Wp(){var r=Gd!==0;return Gd=0,r}function Xp(r,o,l){o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~l}function Qp(r){if(qd){for(r=r.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}qd=!1}ko=0,Bn=Kt=xt=null,El=!1,nc=Gd=0,Ol=null}function Mr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?xt.memoizedState=Bn=r:Bn=Bn.next=r,Bn}function Nn(){if(Kt===null){var r=xt.alternate;r=r!==null?r.memoizedState:null}else r=Kt.next;var o=Bn===null?xt.memoizedState:Bn.next;if(o!==null)Bn=o,Kt=r;else{if(r===null)throw xt.alternate===null?Error(i(467)):Error(i(310));Kt=r,r={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},Bn===null?xt.memoizedState=Bn=r:Bn=Bn.next=r}return Bn}function Vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rc(r){var o=nc;return nc+=1,Ol===null&&(Ol=[]),r=E0(Ol,r,o),o=xt,(Bn===null?o.memoizedState:Bn.next)===null&&(o=o.alternate,B.H=o===null||o.memoizedState===null?gb:um),r}function Yd(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return rc(r);if(r.$$typeof===A)return lr(r)}throw Error(i(438,String(r)))}function Zp(r){var o=null,l=xt.updateQueue;if(l!==null&&(o=l.memoCache),o==null){var d=xt.alternate;d!==null&&(d=d.updateQueue,d!==null&&(d=d.memoCache,d!=null&&(o={data:d.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),l===null&&(l=Vd(),xt.updateQueue=l),l.memoCache=o,l=o.data[o.index],l===void 0)for(l=o.data[o.index]=Array(r),d=0;d<r;d++)l[d]=se;return o.index++,l}function zo(r,o){return typeof o=="function"?o(r):o}function Kd(r){var o=Nn();return Jp(o,Kt,r)}function Jp(r,o,l){var d=r.queue;if(d===null)throw Error(i(311));d.lastRenderedReducer=l;var m=r.baseQueue,x=d.pending;if(x!==null){if(m!==null){var T=m.next;m.next=x.next,x.next=T}o.baseQueue=m=x,d.pending=null}if(x=r.baseState,m===null)r.memoizedState=x;else{o=m.next;var k=T=null,Y=null,pe=o,Te=!1;do{var Re=pe.lane&-536870913;if(Re!==pe.lane?(Rt&Re)===Re:(ko&Re)===Re){var ve=pe.revertLane;if(ve===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Re===xl&&(Te=!0);else if((ko&ve)===ve){pe=pe.next,ve===xl&&(Te=!0);continue}else Re={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Y===null?(k=Y=Re,T=x):Y=Y.next=Re,xt.lanes|=ve,Ra|=ve;Re=pe.action,Ss&&l(x,Re),x=pe.hasEagerState?pe.eagerState:l(x,Re)}else ve={lane:Re,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Y===null?(k=Y=ve,T=x):Y=Y.next=ve,xt.lanes|=Re,Ra|=Re;pe=pe.next}while(pe!==null&&pe!==o);if(Y===null?T=x:Y.next=k,!pr(x,r.memoizedState)&&(Un=!0,Te&&(l=wl,l!==null)))throw l;r.memoizedState=x,r.baseState=T,r.baseQueue=Y,d.lastRenderedState=x}return m===null&&(d.lanes=0),[r.memoizedState,d.dispatch]}function em(r){var o=Nn(),l=o.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,x=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do x=r(x,T.action),T=T.next;while(T!==m);pr(x,o.memoizedState)||(Un=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),l.lastRenderedState=x}return[x,d]}function k0(r,o,l){var d=xt,m=Nn(),x=It;if(x){if(l===void 0)throw Error(i(407));l=l()}else l=o();var T=!pr((Kt||m).memoizedState,l);if(T&&(m.memoizedState=l,Un=!0),m=m.queue,rm(F0.bind(null,d,m,r),[r]),m.getSnapshot!==o||T||Bn!==null&&Bn.memoizedState.tag&1){if(d.flags|=2048,Tl(9,{destroy:void 0},L0.bind(null,d,m,l,o),null),nn===null)throw Error(i(349));x||(ko&127)!==0||z0(d,o,l)}return l}function z0(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=xt.updateQueue,o===null?(o=Vd(),xt.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function L0(r,o,l,d){o.value=l,o.getSnapshot=d,B0(o)&&U0(r)}function F0(r,o,l){return l(function(){B0(o)&&U0(r)})}function B0(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!pr(r,l)}catch{return!0}}function U0(r){var o=bn(r,2);o!==null&&$r(o,r,2)}function tm(r){var o=Mr();if(typeof r=="function"){var l=r;if(r=l(),Ss){At(!0);try{l()}finally{At(!1)}}}return o.memoizedState=o.baseState=r,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:r},o}function $0(r,o,l,d){return r.baseState=l,Jp(r,Kt,typeof d=="function"?d:zo)}function UO(r,o,l,d,m){if(Qd(r))throw Error(i(485));if(r=o.action,r!==null){var x={payload:m,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){x.listeners.push(T)}};B.T!==null?l(!0):x.isTransition=!1,d(x),l=o.pending,l===null?(x.next=o.pending=x,H0(o,x)):(x.next=l.next,o.pending=l.next=x)}}function H0(r,o){var l=o.action,d=o.payload,m=r.state;if(o.isTransition){var x=B.T,T={};B.T=T;try{var k=l(m,d),Y=B.S;Y!==null&&Y(T,k),q0(r,o,k)}catch(pe){nm(r,o,pe)}finally{x!==null&&T.types!==null&&(x.types=T.types),B.T=x}}else try{x=l(m,d),q0(r,o,x)}catch(pe){nm(r,o,pe)}}function q0(r,o,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(d){G0(r,o,d)},function(d){return nm(r,o,d)}):G0(r,o,l)}function G0(r,o,l){o.status="fulfilled",o.value=l,V0(o),r.state=l,o=r.pending,o!==null&&(l=o.next,l===o?r.pending=null:(l=l.next,o.next=l,H0(r,l)))}function nm(r,o,l){var d=r.pending;if(r.pending=null,d!==null){d=d.next;do o.status="rejected",o.reason=l,V0(o),o=o.next;while(o!==d)}r.action=null}function V0(r){r=r.listeners;for(var o=0;o<r.length;o++)(0,r[o])()}function Y0(r,o){return o}function K0(r,o){if(It){var l=nn.formState;if(l!==null){e:{var d=xt;if(It){if(hn){t:{for(var m=hn,x=Si;m.nodeType!==8;){if(!x){m=null;break t}if(m=_i(m.nextSibling),m===null){m=null;break t}}x=m.data,m=x==="F!"||x==="F"?m:null}if(m){hn=_i(m.nextSibling),d=m.data==="F!";break e}}wa(d)}d=!1}d&&(o=l[0])}}return l=Mr(),l.memoizedState=l.baseState=o,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y0,lastRenderedState:o},l.queue=d,l=hb.bind(null,xt,d),d.dispatch=l,d=tm(!1),x=lm.bind(null,xt,!1,d.queue),d=Mr(),m={state:o,dispatch:null,action:r,pending:null},d.queue=m,l=UO.bind(null,xt,m,x,l),m.dispatch=l,d.memoizedState=r,[o,l,!1]}function W0(r){var o=Nn();return X0(o,Kt,r)}function X0(r,o,l){if(o=Jp(r,o,Y0)[0],r=Kd(zo)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var d=rc(o)}catch(T){throw T===Sl?Ld:T}else d=o;o=Nn();var m=o.queue,x=m.dispatch;return l!==o.memoizedState&&(xt.flags|=2048,Tl(9,{destroy:void 0},$O.bind(null,m,l),null)),[d,x,r]}function $O(r,o){r.action=o}function Q0(r){var o=Nn(),l=Kt;if(l!==null)return X0(o,l,r);Nn(),o=o.memoizedState,l=Nn();var d=l.queue.dispatch;return l.memoizedState=r,[o,d,!1]}function Tl(r,o,l,d){return r={tag:r,create:l,deps:d,inst:o,next:null},o=xt.updateQueue,o===null&&(o=Vd(),xt.updateQueue=o),l=o.lastEffect,l===null?o.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,o.lastEffect=r),r}function Z0(){return Nn().memoizedState}function Wd(r,o,l,d){var m=Mr();xt.flags|=r,m.memoizedState=Tl(1|o,{destroy:void 0},l,d===void 0?null:d)}function Xd(r,o,l,d){var m=Nn();d=d===void 0?null:d;var x=m.memoizedState.inst;Kt!==null&&d!==null&&Yp(d,Kt.memoizedState.deps)?m.memoizedState=Tl(o,x,l,d):(xt.flags|=r,m.memoizedState=Tl(1|o,x,l,d))}function J0(r,o){Wd(8390656,8,r,o)}function rm(r,o){Xd(2048,8,r,o)}function HO(r){xt.flags|=4;var o=xt.updateQueue;if(o===null)o=Vd(),xt.updateQueue=o,o.events=[r];else{var l=o.events;l===null?o.events=[r]:l.push(r)}}function eb(r){var o=Nn().memoizedState;return HO({ref:o,nextImpl:r}),function(){if((Ht&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}function tb(r,o){return Xd(4,2,r,o)}function nb(r,o){return Xd(4,4,r,o)}function rb(r,o){if(typeof o=="function"){r=r();var l=o(r);return function(){typeof l=="function"?l():o(null)}}if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function ib(r,o,l){l=l!=null?l.concat([r]):null,Xd(4,4,rb.bind(null,o,r),l)}function im(){}function ob(r,o){var l=Nn();o=o===void 0?null:o;var d=l.memoizedState;return o!==null&&Yp(o,d[1])?d[0]:(l.memoizedState=[r,o],r)}function ab(r,o){var l=Nn();o=o===void 0?null:o;var d=l.memoizedState;if(o!==null&&Yp(o,d[1]))return d[0];if(d=r(),Ss){At(!0);try{r()}finally{At(!1)}}return l.memoizedState=[d,o],d}function om(r,o,l){return l===void 0||(ko&1073741824)!==0&&(Rt&261930)===0?r.memoizedState=o:(r.memoizedState=l,r=sx(),xt.lanes|=r,Ra|=r,l)}function sb(r,o,l,d){return pr(l,o)?l:_l.current!==null?(r=om(r,l,d),pr(r,o)||(Un=!0),r):(ko&42)===0||(ko&1073741824)!==0&&(Rt&261930)===0?(Un=!0,r.memoizedState=l):(r=sx(),xt.lanes|=r,Ra|=r,o)}function lb(r,o,l,d,m){var x=W.p;W.p=x!==0&&8>x?x:8;var T=B.T,k={};B.T=k,lm(r,!1,o,l);try{var Y=m(),pe=B.S;if(pe!==null&&pe(k,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var Te=LO(Y,d);ic(r,o,Te,oi(r))}else ic(r,o,d,oi(r))}catch(Re){ic(r,o,{then:function(){},status:"rejected",reason:Re},oi())}finally{W.p=x,T!==null&&k.types!==null&&(T.types=k.types),B.T=T}}function qO(){}function am(r,o,l,d){if(r.tag!==5)throw Error(i(476));var m=ub(r).queue;lb(r,m,o,V,l===null?qO:function(){return cb(r),l(d)})}function ub(r){var o=r.memoizedState;if(o!==null)return o;o={memoizedState:V,baseState:V,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:V},next:null};var l={};return o.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:l},next:null},r.memoizedState=o,r=r.alternate,r!==null&&(r.memoizedState=o),o}function cb(r){var o=ub(r);o.next===null&&(o=r.alternate.memoizedState),ic(r,o.next.queue,{},oi())}function sm(){return lr(wc)}function db(){return Nn().memoizedState}function fb(){return Nn().memoizedState}function GO(r){for(var o=r.return;o!==null;){switch(o.tag){case 24:case 3:var l=oi();r=_a(l);var d=Ea(o,r,l);d!==null&&($r(d,o,l),Ju(d,o,l)),o={cache:kp()},r.payload=o;return}o=o.return}}function VO(r,o,l){var d=oi();l={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Qd(r)?pb(o,l):(l=zn(r,o,l,d),l!==null&&($r(l,r,d),mb(l,o,d)))}function hb(r,o,l){var d=oi();ic(r,o,l,d)}function ic(r,o,l,d){var m={lane:d,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qd(r))pb(o,m);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var T=o.lastRenderedState,k=x(T,l);if(m.hasEagerState=!0,m.eagerState=k,pr(k,T))return pt(r,o,m,0),nn===null&&tr(),!1}catch{}if(l=zn(r,o,m,d),l!==null)return $r(l,r,d),mb(l,o,d),!0}return!1}function lm(r,o,l,d){if(d={lane:2,revertLane:Bm(),gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Qd(r)){if(o)throw Error(i(479))}else o=zn(r,l,d,2),o!==null&&$r(o,r,2)}function Qd(r){var o=r.alternate;return r===xt||o!==null&&o===xt}function pb(r,o){El=qd=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function mb(r,o,l){if((l&4194048)!==0){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,$(r,l)}}var oc={readContext:lr,use:Yd,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useLayoutEffect:On,useInsertionEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useSyncExternalStore:On,useId:On,useHostTransitionStatus:On,useFormState:On,useActionState:On,useOptimistic:On,useMemoCache:On,useCacheRefresh:On};oc.useEffectEvent=On;var gb={readContext:lr,use:Yd,useCallback:function(r,o){return Mr().memoizedState=[r,o===void 0?null:o],r},useContext:lr,useEffect:J0,useImperativeHandle:function(r,o,l){l=l!=null?l.concat([r]):null,Wd(4194308,4,rb.bind(null,o,r),l)},useLayoutEffect:function(r,o){return Wd(4194308,4,r,o)},useInsertionEffect:function(r,o){Wd(4,2,r,o)},useMemo:function(r,o){var l=Mr();o=o===void 0?null:o;var d=r();if(Ss){At(!0);try{r()}finally{At(!1)}}return l.memoizedState=[d,o],d},useReducer:function(r,o,l){var d=Mr();if(l!==void 0){var m=l(o);if(Ss){At(!0);try{l(o)}finally{At(!1)}}}else m=o;return d.memoizedState=d.baseState=m,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:m},d.queue=r,r=r.dispatch=VO.bind(null,xt,r),[d.memoizedState,r]},useRef:function(r){var o=Mr();return r={current:r},o.memoizedState=r},useState:function(r){r=tm(r);var o=r.queue,l=hb.bind(null,xt,o);return o.dispatch=l,[r.memoizedState,l]},useDebugValue:im,useDeferredValue:function(r,o){var l=Mr();return om(l,r,o)},useTransition:function(){var r=tm(!1);return r=lb.bind(null,xt,r.queue,!0,!1),Mr().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,o,l){var d=xt,m=Mr();if(It){if(l===void 0)throw Error(i(407));l=l()}else{if(l=o(),nn===null)throw Error(i(349));(Rt&127)!==0||z0(d,o,l)}m.memoizedState=l;var x={value:l,getSnapshot:o};return m.queue=x,J0(F0.bind(null,d,x,r),[r]),d.flags|=2048,Tl(9,{destroy:void 0},L0.bind(null,d,x,l,o),null),l},useId:function(){var r=Mr(),o=nn.identifierPrefix;if(It){var l=ro,d=no;l=(d&~(1<<32-Ge(d)-1)).toString(32)+l,o="_"+o+"R_"+l,l=Gd++,0<l&&(o+="H"+l.toString(32)),o+="_"}else l=FO++,o="_"+o+"r_"+l.toString(32)+"_";return r.memoizedState=o},useHostTransitionStatus:sm,useFormState:K0,useActionState:K0,useOptimistic:function(r){var o=Mr();o.memoizedState=o.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=l,o=lm.bind(null,xt,!0,l),l.dispatch=o,[r,o]},useMemoCache:Zp,useCacheRefresh:function(){return Mr().memoizedState=GO.bind(null,xt)},useEffectEvent:function(r){var o=Mr(),l={impl:r};return o.memoizedState=l,function(){if((Ht&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},um={readContext:lr,use:Yd,useCallback:ob,useContext:lr,useEffect:rm,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ab,useReducer:Kd,useRef:Z0,useState:function(){return Kd(zo)},useDebugValue:im,useDeferredValue:function(r,o){var l=Nn();return sb(l,Kt.memoizedState,r,o)},useTransition:function(){var r=Kd(zo)[0],o=Nn().memoizedState;return[typeof r=="boolean"?r:rc(r),o]},useSyncExternalStore:k0,useId:db,useHostTransitionStatus:sm,useFormState:W0,useActionState:W0,useOptimistic:function(r,o){var l=Nn();return $0(l,Kt,r,o)},useMemoCache:Zp,useCacheRefresh:fb};um.useEffectEvent=eb;var yb={readContext:lr,use:Yd,useCallback:ob,useContext:lr,useEffect:rm,useImperativeHandle:ib,useInsertionEffect:tb,useLayoutEffect:nb,useMemo:ab,useReducer:em,useRef:Z0,useState:function(){return em(zo)},useDebugValue:im,useDeferredValue:function(r,o){var l=Nn();return Kt===null?om(l,r,o):sb(l,Kt.memoizedState,r,o)},useTransition:function(){var r=em(zo)[0],o=Nn().memoizedState;return[typeof r=="boolean"?r:rc(r),o]},useSyncExternalStore:k0,useId:db,useHostTransitionStatus:sm,useFormState:Q0,useActionState:Q0,useOptimistic:function(r,o){var l=Nn();return Kt!==null?$0(l,Kt,r,o):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:Zp,useCacheRefresh:fb};yb.useEffectEvent=eb;function cm(r,o,l,d){o=r.memoizedState,l=l(d,o),l=l==null?o:y({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var dm={enqueueSetState:function(r,o,l){r=r._reactInternals;var d=oi(),m=_a(d);m.payload=o,l!=null&&(m.callback=l),o=Ea(r,m,d),o!==null&&($r(o,r,d),Ju(o,r,d))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var d=oi(),m=_a(d);m.tag=1,m.payload=o,l!=null&&(m.callback=l),o=Ea(r,m,d),o!==null&&($r(o,r,d),Ju(o,r,d))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=oi(),d=_a(l);d.tag=2,o!=null&&(d.callback=o),o=Ea(r,d,l),o!==null&&($r(o,r,l),Ju(o,r,l))}};function vb(r,o,l,d,m,x,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,x,T):o.prototype&&o.prototype.isPureReactComponent?!p(l,d)||!p(m,x):!0}function bb(r,o,l,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==r&&dm.enqueueReplaceState(o,o.state,null)}function Cs(r,o){var l=o;if("ref"in o){l={};for(var d in o)d!=="ref"&&(l[d]=o[d])}if(r=r.defaultProps){l===o&&(l=y({},l));for(var m in r)l[m]===void 0&&(l[m]=r[m])}return l}function xb(r){Xe(r)}function wb(r){console.error(r)}function Sb(r){Xe(r)}function Zd(r,o){try{var l=r.onUncaughtError;l(o.value,{componentStack:o.stack})}catch(d){setTimeout(function(){throw d})}}function Cb(r,o,l){try{var d=r.onCaughtError;d(l.value,{componentStack:l.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function fm(r,o,l){return l=_a(l),l.tag=3,l.payload={element:null},l.callback=function(){Zd(r,o)},l}function _b(r){return r=_a(r),r.tag=3,r}function Eb(r,o,l,d){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var x=d.value;r.payload=function(){return m(x)},r.callback=function(){Cb(o,l,d)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(r.callback=function(){Cb(o,l,d),typeof m!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var k=d.stack;this.componentDidCatch(d.value,{componentStack:k!==null?k:""})})}function YO(r,o,l,d,m){if(l.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){if(o=l.alternate,o!==null&&bl(o,l,m,!0),l=ti.current,l!==null){switch(l.tag){case 31:case 13:return Ci===null?df():l.alternate===null&&Tn===0&&(Tn=3),l.flags&=-257,l.flags|=65536,l.lanes=m,d===Fd?l.flags|=16384:(o=l.updateQueue,o===null?l.updateQueue=new Set([d]):o.add(d),zm(r,d,m)),!1;case 22:return l.flags|=65536,d===Fd?l.flags|=16384:(o=l.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([d])},l.updateQueue=o):(l=o.retryQueue,l===null?o.retryQueue=new Set([d]):l.add(d)),zm(r,d,m)),!1}throw Error(i(435,l.tag))}return zm(r,d,m),df(),!1}if(It)return o=ti.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=m,d!==Dp&&(r=Error(i(422),{cause:d}),Ku(bi(r,l)))):(d!==Dp&&(o=Error(i(423),{cause:d}),Ku(bi(o,l))),r=r.current.alternate,r.flags|=65536,m&=-m,r.lanes|=m,d=bi(d,l),m=fm(r.stateNode,d,m),$p(r,m),Tn!==4&&(Tn=2)),!1;var x=Error(i(520),{cause:d});if(x=bi(x,l),hc===null?hc=[x]:hc.push(x),Tn!==4&&(Tn=2),o===null)return!0;d=bi(d,l),l=o;do{switch(l.tag){case 3:return l.flags|=65536,r=m&-m,l.lanes|=r,r=fm(l.stateNode,d,r),$p(l,r),!1;case 1:if(o=l.type,x=l.stateNode,(l.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Da===null||!Da.has(x))))return l.flags|=65536,m&=-m,l.lanes|=m,m=_b(m),Eb(m,r,l,d),$p(l,m),!1}l=l.return}while(l!==null);return!1}var hm=Error(i(461)),Un=!1;function ur(r,o,l,d){o.child=r===null?P0(o,null,l,d):ws(o,r.child,l,d)}function Ob(r,o,l,d,m){l=l.render;var x=o.ref;if("ref"in d){var T={};for(var k in d)k!=="ref"&&(T[k]=d[k])}else T=d;return ys(o),d=Kp(r,o,l,T,x,m),k=Wp(),r!==null&&!Un?(Xp(r,o,m),Lo(r,o,m)):(It&&k&&Pp(o),o.flags|=1,ur(r,o,d,m),o.child)}function Tb(r,o,l,d,m){if(r===null){var x=l.type;return typeof x=="function"&&!Op(x)&&x.defaultProps===void 0&&l.compare===null?(o.tag=15,o.type=x,Mb(r,o,x,d,m)):(r=Nd(l.type,null,d,o,o.mode,m),r.ref=o.ref,r.return=o,o.child=r)}if(x=r.child,!wm(r,m)){var T=x.memoizedProps;if(l=l.compare,l=l!==null?l:p,l(T,d)&&r.ref===o.ref)return Lo(r,o,m)}return o.flags|=1,r=Ao(x,d),r.ref=o.ref,r.return=o,o.child=r}function Mb(r,o,l,d,m){if(r!==null){var x=r.memoizedProps;if(p(x,d)&&r.ref===o.ref)if(Un=!1,o.pendingProps=d=x,wm(r,m))(r.flags&131072)!==0&&(Un=!0);else return o.lanes=r.lanes,Lo(r,o,m)}return pm(r,o,l,d,m)}function Pb(r,o,l,d){var m=d.children,x=r!==null?r.memoizedState:null;if(r===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.mode==="hidden"){if((o.flags&128)!==0){if(x=x!==null?x.baseLanes|l:l,r!==null){for(d=o.child=r.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;d=m&~x}else d=0,o.child=null;return Rb(r,o,x,l,d)}if((l&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},r!==null&&zd(o,x!==null?x.cachePool:null),x!==null?A0(o,x):qp(),N0(o);else return d=o.lanes=536870912,Rb(r,o,x!==null?x.baseLanes|l:l,l,d)}else x!==null?(zd(o,x.cachePool),A0(o,x),Ta(),o.memoizedState=null):(r!==null&&zd(o,null),qp(),Ta());return ur(r,o,m,l),o.child}function ac(r,o){return r!==null&&r.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Rb(r,o,l,d,m){var x=Lp();return x=x===null?null:{parent:Fn._currentValue,pool:x},o.memoizedState={baseLanes:l,cachePool:x},r!==null&&zd(o,null),qp(),N0(o),r!==null&&bl(r,o,d,!0),o.childLanes=m,null}function Jd(r,o){return o=tf({mode:o.mode,children:o.children},r.mode),o.ref=r.ref,r.child=o,o.return=r,o}function Db(r,o,l){return ws(o,r.child,null,l),r=Jd(o,o.pendingProps),r.flags|=2,ni(o),o.memoizedState=null,r}function KO(r,o,l){var d=o.pendingProps,m=(o.flags&128)!==0;if(o.flags&=-129,r===null){if(It){if(d.mode==="hidden")return r=Jd(o,d),o.lanes=536870912,ac(null,r);if(Vp(o),(r=hn)?(r=Hx(r,Si),r=r!==null&&r.data==="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ba!==null?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},l=p0(r),l.return=o,o.child=l,sr=o,hn=null)):r=null,r===null)throw wa(o);return o.lanes=536870912,null}return Jd(o,d)}var x=r.memoizedState;if(x!==null){var T=x.dehydrated;if(Vp(o),m)if(o.flags&256)o.flags&=-257,o=Db(r,o,l);else if(o.memoizedState!==null)o.child=r.child,o.flags|=128,o=null;else throw Error(i(558));else if(Un||bl(r,o,l,!1),m=(l&r.childLanes)!==0,Un||m){if(d=nn,d!==null&&(T=ee(d,l),T!==0&&T!==x.retryLane))throw x.retryLane=T,bn(r,T),$r(d,r,T),hm;df(),o=Db(r,o,l)}else r=x.treeContext,hn=_i(T.nextSibling),sr=o,It=!0,xa=null,Si=!1,r!==null&&y0(o,r),o=Jd(o,d),o.flags|=4096;return o}return r=Ao(r.child,{mode:d.mode,children:d.children}),r.ref=o.ref,o.child=r,r.return=o,r}function ef(r,o){var l=o.ref;if(l===null)r!==null&&r.ref!==null&&(o.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(o.flags|=4194816)}}function pm(r,o,l,d,m){return ys(o),l=Kp(r,o,l,d,void 0,m),d=Wp(),r!==null&&!Un?(Xp(r,o,m),Lo(r,o,m)):(It&&d&&Pp(o),o.flags|=1,ur(r,o,l,m),o.child)}function Ab(r,o,l,d,m,x){return ys(o),o.updateQueue=null,l=j0(o,d,l,m),I0(r),d=Wp(),r!==null&&!Un?(Xp(r,o,x),Lo(r,o,x)):(It&&d&&Pp(o),o.flags|=1,ur(r,o,l,x),o.child)}function Nb(r,o,l,d,m){if(ys(o),o.stateNode===null){var x=zr,T=l.contextType;typeof T=="object"&&T!==null&&(x=lr(T)),x=new l(d,x),o.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=dm,o.stateNode=x,x._reactInternals=o,x=o.stateNode,x.props=d,x.state=o.memoizedState,x.refs={},Bp(o),T=l.contextType,x.context=typeof T=="object"&&T!==null?lr(T):zr,x.state=o.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(cm(o,l,T,d),x.state=o.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(T=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),T!==x.state&&dm.enqueueReplaceState(x,x.state,null),tc(o,d,x,m),ec(),x.state=o.memoizedState),typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!0}else if(r===null){x=o.stateNode;var k=o.memoizedProps,Y=Cs(l,k);x.props=Y;var pe=x.context,Te=l.contextType;T=zr,typeof Te=="object"&&Te!==null&&(T=lr(Te));var Re=l.getDerivedStateFromProps;Te=typeof Re=="function"||typeof x.getSnapshotBeforeUpdate=="function",k=o.pendingProps!==k,Te||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(k||pe!==T)&&bb(o,x,d,T),Ca=!1;var ve=o.memoizedState;x.state=ve,tc(o,d,x,m),ec(),pe=o.memoizedState,k||ve!==pe||Ca?(typeof Re=="function"&&(cm(o,l,Re,d),pe=o.memoizedState),(Y=Ca||vb(o,l,Y,d,ve,pe,T))?(Te||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(o.flags|=4194308)):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=pe),x.props=d,x.state=pe,x.context=T,d=Y):(typeof x.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{x=o.stateNode,Up(r,o),T=o.memoizedProps,Te=Cs(l,T),x.props=Te,Re=o.pendingProps,ve=x.context,pe=l.contextType,Y=zr,typeof pe=="object"&&pe!==null&&(Y=lr(pe)),k=l.getDerivedStateFromProps,(pe=typeof k=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(T!==Re||ve!==Y)&&bb(o,x,d,Y),Ca=!1,ve=o.memoizedState,x.state=ve,tc(o,d,x,m),ec();var we=o.memoizedState;T!==Re||ve!==we||Ca||r!==null&&r.dependencies!==null&&jd(r.dependencies)?(typeof k=="function"&&(cm(o,l,k,d),we=o.memoizedState),(Te=Ca||vb(o,l,Te,d,ve,we,Y)||r!==null&&r.dependencies!==null&&jd(r.dependencies))?(pe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(d,we,Y),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(d,we,Y)),typeof x.componentDidUpdate=="function"&&(o.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=we),x.props=d,x.state=we,x.context=Y,d=Te):(typeof x.componentDidUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(o.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||T===r.memoizedProps&&ve===r.memoizedState||(o.flags|=1024),d=!1)}return x=d,ef(r,o),d=(o.flags&128)!==0,x||d?(x=o.stateNode,l=d&&typeof l.getDerivedStateFromError!="function"?null:x.render(),o.flags|=1,r!==null&&d?(o.child=ws(o,r.child,null,m),o.child=ws(o,null,l,m)):ur(r,o,l,m),o.memoizedState=x.state,r=o.child):r=Lo(r,o,m),r}function Ib(r,o,l,d){return ms(),o.flags|=256,ur(r,o,l,d),o.child}var mm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function gm(r){return{baseLanes:r,cachePool:C0()}}function ym(r,o,l){return r=r!==null?r.childLanes&~l:0,o&&(r|=ii),r}function jb(r,o,l){var d=o.pendingProps,m=!1,x=(o.flags&128)!==0,T;if((T=x)||(T=r!==null&&r.memoizedState===null?!1:(An.current&2)!==0),T&&(m=!0,o.flags&=-129),T=(o.flags&32)!==0,o.flags&=-33,r===null){if(It){if(m?Oa(o):Ta(),(r=hn)?(r=Hx(r,Si),r=r!==null&&r.data!=="&"?r:null,r!==null&&(o.memoizedState={dehydrated:r,treeContext:ba!==null?{id:no,overflow:ro}:null,retryLane:536870912,hydrationErrors:null},l=p0(r),l.return=o,o.child=l,sr=o,hn=null)):r=null,r===null)throw wa(o);return Jm(r)?o.lanes=32:o.lanes=536870912,null}var k=d.children;return d=d.fallback,m?(Ta(),m=o.mode,k=tf({mode:"hidden",children:k},m),d=ps(d,m,l,null),k.return=o,d.return=o,k.sibling=d,o.child=k,d=o.child,d.memoizedState=gm(l),d.childLanes=ym(r,T,l),o.memoizedState=mm,ac(null,d)):(Oa(o),vm(o,k))}var Y=r.memoizedState;if(Y!==null&&(k=Y.dehydrated,k!==null)){if(x)o.flags&256?(Oa(o),o.flags&=-257,o=bm(r,o,l)):o.memoizedState!==null?(Ta(),o.child=r.child,o.flags|=128,o=null):(Ta(),k=d.fallback,m=o.mode,d=tf({mode:"visible",children:d.children},m),k=ps(k,m,l,null),k.flags|=2,d.return=o,k.return=o,d.sibling=k,o.child=d,ws(o,r.child,null,l),d=o.child,d.memoizedState=gm(l),d.childLanes=ym(r,T,l),o.memoizedState=mm,o=ac(null,d));else if(Oa(o),Jm(k)){if(T=k.nextSibling&&k.nextSibling.dataset,T)var pe=T.dgst;T=pe,d=Error(i(419)),d.stack="",d.digest=T,Ku({value:d,source:null,stack:null}),o=bm(r,o,l)}else if(Un||bl(r,o,l,!1),T=(l&r.childLanes)!==0,Un||T){if(T=nn,T!==null&&(d=ee(T,l),d!==0&&d!==Y.retryLane))throw Y.retryLane=d,bn(r,d),$r(T,r,d),hm;Zm(k)||df(),o=bm(r,o,l)}else Zm(k)?(o.flags|=192,o.child=r.child,o=null):(r=Y.treeContext,hn=_i(k.nextSibling),sr=o,It=!0,xa=null,Si=!1,r!==null&&y0(o,r),o=vm(o,d.children),o.flags|=4096);return o}return m?(Ta(),k=d.fallback,m=o.mode,Y=r.child,pe=Y.sibling,d=Ao(Y,{mode:"hidden",children:d.children}),d.subtreeFlags=Y.subtreeFlags&65011712,pe!==null?k=Ao(pe,k):(k=ps(k,m,l,null),k.flags|=2),k.return=o,d.return=o,d.sibling=k,o.child=d,ac(null,d),d=o.child,k=r.child.memoizedState,k===null?k=gm(l):(m=k.cachePool,m!==null?(Y=Fn._currentValue,m=m.parent!==Y?{parent:Y,pool:Y}:m):m=C0(),k={baseLanes:k.baseLanes|l,cachePool:m}),d.memoizedState=k,d.childLanes=ym(r,T,l),o.memoizedState=mm,ac(r.child,d)):(Oa(o),l=r.child,r=l.sibling,l=Ao(l,{mode:"visible",children:d.children}),l.return=o,l.sibling=null,r!==null&&(T=o.deletions,T===null?(o.deletions=[r],o.flags|=16):T.push(r)),o.child=l,o.memoizedState=null,l)}function vm(r,o){return o=tf({mode:"visible",children:o},r.mode),o.return=r,r.child=o}function tf(r,o){return r=ei(22,r,null,o),r.lanes=0,r}function bm(r,o,l){return ws(o,r.child,null,l),r=vm(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function kb(r,o,l){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Ip(r.return,o,l)}function xm(r,o,l,d,m,x){var T=r.memoizedState;T===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m,treeForkCount:x}:(T.isBackwards=o,T.rendering=null,T.renderingStartTime=0,T.last=d,T.tail=l,T.tailMode=m,T.treeForkCount=x)}function zb(r,o,l){var d=o.pendingProps,m=d.revealOrder,x=d.tail;d=d.children;var T=An.current,k=(T&2)!==0;if(k?(T=T&1|2,o.flags|=128):T&=1,Ce(An,T),ur(r,o,d,l),d=It?Yu:0,!k&&r!==null&&(r.flags&128)!==0)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&kb(r,l,o);else if(r.tag===19)kb(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(m){case"forwards":for(l=o.child,m=null;l!==null;)r=l.alternate,r!==null&&Hd(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),xm(o,!1,m,l,x,d);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(r=m.alternate,r!==null&&Hd(r)===null){o.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}xm(o,!0,l,null,x,d);break;case"together":xm(o,!1,null,null,void 0,d);break;default:o.memoizedState=null}return o.child}function Lo(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),Ra|=o.lanes,(l&o.childLanes)===0)if(r!==null){if(bl(r,o,l,!1),(l&o.childLanes)===0)return null}else return null;if(r!==null&&o.child!==r.child)throw Error(i(153));if(o.child!==null){for(r=o.child,l=Ao(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=Ao(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function wm(r,o){return(r.lanes&o)!==0?!0:(r=r.dependencies,!!(r!==null&&jd(r)))}function WO(r,o,l){switch(o.tag){case 3:wt(o,o.stateNode.containerInfo),Sa(o,Fn,r.memoizedState.cache),ms();break;case 27:case 5:Jt(o);break;case 4:wt(o,o.stateNode.containerInfo);break;case 10:Sa(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,Vp(o),null;break;case 13:var d=o.memoizedState;if(d!==null)return d.dehydrated!==null?(Oa(o),o.flags|=128,null):(l&o.child.childLanes)!==0?jb(r,o,l):(Oa(o),r=Lo(r,o,l),r!==null?r.sibling:null);Oa(o);break;case 19:var m=(r.flags&128)!==0;if(d=(l&o.childLanes)!==0,d||(bl(r,o,l,!1),d=(l&o.childLanes)!==0),m){if(d)return zb(r,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ce(An,An.current),d)break;return null;case 22:return o.lanes=0,Pb(r,o,l,o.pendingProps);case 24:Sa(o,Fn,r.memoizedState.cache)}return Lo(r,o,l)}function Lb(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps)Un=!0;else{if(!wm(r,l)&&(o.flags&128)===0)return Un=!1,WO(r,o,l);Un=(r.flags&131072)!==0}else Un=!1,It&&(o.flags&1048576)!==0&&g0(o,Yu,o.index);switch(o.lanes=0,o.tag){case 16:e:{var d=o.pendingProps;if(r=bs(o.elementType),o.type=r,typeof r=="function")Op(r)?(d=Cs(r,d),o.tag=1,o=Nb(null,o,r,d,l)):(o.tag=0,o=pm(null,o,r,d,l));else{if(r!=null){var m=r.$$typeof;if(m===z){o.tag=11,o=Ob(null,o,r,d,l);break e}else if(m===j){o.tag=14,o=Tb(null,o,r,d,l);break e}}throw o=ce(r)||r,Error(i(306,o,""))}}return o;case 0:return pm(r,o,o.type,o.pendingProps,l);case 1:return d=o.type,m=Cs(d,o.pendingProps),Nb(r,o,d,m,l);case 3:e:{if(wt(o,o.stateNode.containerInfo),r===null)throw Error(i(387));d=o.pendingProps;var x=o.memoizedState;m=x.element,Up(r,o),tc(o,d,null,l);var T=o.memoizedState;if(d=T.cache,Sa(o,Fn,d),d!==x.cache&&jp(o,[Fn],l,!0),ec(),d=T.element,x.isDehydrated)if(x={element:d,isDehydrated:!1,cache:T.cache},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){o=Ib(r,o,d,l);break e}else if(d!==m){m=bi(Error(i(424)),o),Ku(m),o=Ib(r,o,d,l);break e}else for(r=o.stateNode.containerInfo,r.nodeType===9?r=r.body:r=r.nodeName==="HTML"?r.ownerDocument.body:r,hn=_i(r.firstChild),sr=o,It=!0,xa=null,Si=!0,l=P0(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(ms(),d===m){o=Lo(r,o,l);break e}ur(r,o,d,l)}o=o.child}return o;case 26:return ef(r,o),r===null?(l=Wx(o.type,null,o.pendingProps,null))?o.memoizedState=l:It||(l=o.type,r=o.pendingProps,d=vf(qe.current).createElement(l),d[He]=o,d[Ke]=r,cr(d,l,r),tn(d),o.stateNode=d):o.memoizedState=Wx(o.type,r.memoizedProps,o.pendingProps,r.memoizedState),null;case 27:return Jt(o),r===null&&It&&(d=o.stateNode=Vx(o.type,o.pendingProps,qe.current),sr=o,Si=!0,m=hn,ja(o.type)?(eg=m,hn=_i(d.firstChild)):hn=m),ur(r,o,o.pendingProps.children,l),ef(r,o),r===null&&(o.flags|=4194304),o.child;case 5:return r===null&&It&&((m=d=hn)&&(d=ET(d,o.type,o.pendingProps,Si),d!==null?(o.stateNode=d,sr=o,hn=_i(d.firstChild),Si=!1,m=!0):m=!1),m||wa(o)),Jt(o),m=o.type,x=o.pendingProps,T=r!==null?r.memoizedProps:null,d=x.children,Wm(m,x)?d=null:T!==null&&Wm(m,T)&&(o.flags|=32),o.memoizedState!==null&&(m=Kp(r,o,BO,null,null,l),wc._currentValue=m),ef(r,o),ur(r,o,d,l),o.child;case 6:return r===null&&It&&((r=l=hn)&&(l=OT(l,o.pendingProps,Si),l!==null?(o.stateNode=l,sr=o,hn=null,r=!0):r=!1),r||wa(o)),null;case 13:return jb(r,o,l);case 4:return wt(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=ws(o,null,d,l):ur(r,o,d,l),o.child;case 11:return Ob(r,o,o.type,o.pendingProps,l);case 7:return ur(r,o,o.pendingProps,l),o.child;case 8:return ur(r,o,o.pendingProps.children,l),o.child;case 12:return ur(r,o,o.pendingProps.children,l),o.child;case 10:return d=o.pendingProps,Sa(o,o.type,d.value),ur(r,o,d.children,l),o.child;case 9:return m=o.type._context,d=o.pendingProps.children,ys(o),m=lr(m),d=d(m),o.flags|=1,ur(r,o,d,l),o.child;case 14:return Tb(r,o,o.type,o.pendingProps,l);case 15:return Mb(r,o,o.type,o.pendingProps,l);case 19:return zb(r,o,l);case 31:return KO(r,o,l);case 22:return Pb(r,o,l,o.pendingProps);case 24:return ys(o),d=lr(Fn),r===null?(m=Lp(),m===null&&(m=nn,x=kp(),m.pooledCache=x,x.refCount++,x!==null&&(m.pooledCacheLanes|=l),m=x),o.memoizedState={parent:d,cache:m},Bp(o),Sa(o,Fn,m)):((r.lanes&l)!==0&&(Up(r,o),tc(o,null,null,l),ec()),m=r.memoizedState,x=o.memoizedState,m.parent!==d?(m={parent:d,cache:d},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Sa(o,Fn,d)):(d=x.cache,Sa(o,Fn,d),d!==m.cache&&jp(o,[Fn],l,!0))),ur(r,o,o.pendingProps.children,l),o.child;case 29:throw o.pendingProps}throw Error(i(156,o.tag))}function Fo(r){r.flags|=4}function Sm(r,o,l,d,m){if((o=(r.mode&32)!==0)&&(o=!1),o){if(r.flags|=16777216,(m&335544128)===m)if(r.stateNode.complete)r.flags|=8192;else if(dx())r.flags|=8192;else throw xs=Fd,Fp}else r.flags&=-16777217}function Fb(r,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!ew(o))if(dx())r.flags|=8192;else throw xs=Fd,Fp}function nf(r,o){o!==null&&(r.flags|=4),r.flags&16384&&(o=r.tag!==22?wo():536870912,r.lanes|=o,Dl|=o)}function sc(r,o){if(!It)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function pn(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(o)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&65011712,d|=m.flags&65011712,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,o}function XO(r,o,l){var d=o.pendingProps;switch(Rp(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(o),null;case 1:return pn(o),null;case 3:return l=o.stateNode,d=null,r!==null&&(d=r.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),jo(Fn),De(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(vl(o)?Fo(o):r===null||r.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ap())),pn(o),null;case 26:var m=o.type,x=o.memoizedState;return r===null?(Fo(o),x!==null?(pn(o),Fb(o,x)):(pn(o),Sm(o,m,null,d,l))):x?x!==r.memoizedState?(Fo(o),pn(o),Fb(o,x)):(pn(o),o.flags&=-16777217):(r=r.memoizedProps,r!==d&&Fo(o),pn(o),Sm(o,m,r,d,l)),null;case 27:if(un(o),l=qe.current,m=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Fo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return pn(o),null}r=Ne.current,vl(o)?v0(o):(r=Vx(m,d,l),o.stateNode=r,Fo(o))}return pn(o),null;case 5:if(un(o),m=o.type,r!==null&&o.stateNode!=null)r.memoizedProps!==d&&Fo(o);else{if(!d){if(o.stateNode===null)throw Error(i(166));return pn(o),null}if(x=Ne.current,vl(o))v0(o);else{var T=vf(qe.current);switch(x){case 1:x=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:x=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":x=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":x=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":x=T.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof d.is=="string"?T.createElement("select",{is:d.is}):T.createElement("select"),d.multiple?x.multiple=!0:d.size&&(x.size=d.size);break;default:x=typeof d.is=="string"?T.createElement(m,{is:d.is}):T.createElement(m)}}x[He]=o,x[Ke]=d;e:for(T=o.child;T!==null;){if(T.tag===5||T.tag===6)x.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===o)break e;for(;T.sibling===null;){if(T.return===null||T.return===o)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}o.stateNode=x;e:switch(cr(x,m,d),m){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}d&&Fo(o)}}return pn(o),Sm(o,o.type,r===null?null:r.memoizedProps,o.pendingProps,l),null;case 6:if(r&&o.stateNode!=null)r.memoizedProps!==d&&Fo(o);else{if(typeof d!="string"&&o.stateNode===null)throw Error(i(166));if(r=qe.current,vl(o)){if(r=o.stateNode,l=o.memoizedProps,d=null,m=sr,m!==null)switch(m.tag){case 27:case 5:d=m.memoizedProps}r[He]=o,r=!!(r.nodeValue===l||d!==null&&d.suppressHydrationWarning===!0||jx(r.nodeValue,l)),r||wa(o,!0)}else r=vf(r).createTextNode(d),r[He]=o,o.stateNode=r}return pn(o),null;case 31:if(l=o.memoizedState,r===null||r.memoizedState!==null){if(d=vl(o),l!==null){if(r===null){if(!d)throw Error(i(318));if(r=o.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[He]=o}else ms(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),r=!1}else l=Ap(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=l),r=!0;if(!r)return o.flags&256?(ni(o),o):(ni(o),null);if((o.flags&128)!==0)throw Error(i(558))}return pn(o),null;case 13:if(d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(m=vl(o),d!==null&&d.dehydrated!==null){if(r===null){if(!m)throw Error(i(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[He]=o}else ms(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;pn(o),m=!1}else m=Ap(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=m),m=!0;if(!m)return o.flags&256?(ni(o),o):(ni(o),null)}return ni(o),(o.flags&128)!==0?(o.lanes=l,o):(l=d!==null,r=r!==null&&r.memoizedState!==null,l&&(d=o.child,m=null,d.alternate!==null&&d.alternate.memoizedState!==null&&d.alternate.memoizedState.cachePool!==null&&(m=d.alternate.memoizedState.cachePool.pool),x=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),x!==m&&(d.flags|=2048)),l!==r&&l&&(o.child.flags|=8192),nf(o,o.updateQueue),pn(o),null);case 4:return De(),r===null&&qm(o.stateNode.containerInfo),pn(o),null;case 10:return jo(o.type),pn(o),null;case 19:if(ne(An),d=o.memoizedState,d===null)return pn(o),null;if(m=(o.flags&128)!==0,x=d.rendering,x===null)if(m)sc(d,!1);else{if(Tn!==0||r!==null&&(r.flags&128)!==0)for(r=o.child;r!==null;){if(x=Hd(r),x!==null){for(o.flags|=128,sc(d,!1),r=x.updateQueue,o.updateQueue=r,nf(o,r),o.subtreeFlags=0,r=l,l=o.child;l!==null;)h0(l,r),l=l.sibling;return Ce(An,An.current&1|2),It&&No(o,d.treeForkCount),o.child}r=r.sibling}d.tail!==null&&Bt()>lf&&(o.flags|=128,m=!0,sc(d,!1),o.lanes=4194304)}else{if(!m)if(r=Hd(x),r!==null){if(o.flags|=128,m=!0,r=r.updateQueue,o.updateQueue=r,nf(o,r),sc(d,!0),d.tail===null&&d.tailMode==="hidden"&&!x.alternate&&!It)return pn(o),null}else 2*Bt()-d.renderingStartTime>lf&&l!==536870912&&(o.flags|=128,m=!0,sc(d,!1),o.lanes=4194304);d.isBackwards?(x.sibling=o.child,o.child=x):(r=d.last,r!==null?r.sibling=x:o.child=x,d.last=x)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Bt(),r.sibling=null,l=An.current,Ce(An,m?l&1|2:l&1),It&&No(o,d.treeForkCount),r):(pn(o),null);case 22:case 23:return ni(o),Gp(),d=o.memoizedState!==null,r!==null?r.memoizedState!==null!==d&&(o.flags|=8192):d&&(o.flags|=8192),d?(l&536870912)!==0&&(o.flags&128)===0&&(pn(o),o.subtreeFlags&6&&(o.flags|=8192)):pn(o),l=o.updateQueue,l!==null&&nf(o,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==l&&(o.flags|=2048),r!==null&&ne(vs),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),o.memoizedState.cache!==l&&(o.flags|=2048),jo(Fn),pn(o),null;case 25:return null;case 30:return null}throw Error(i(156,o.tag))}function QO(r,o){switch(Rp(o),o.tag){case 1:return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return jo(Fn),De(),r=o.flags,(r&65536)!==0&&(r&128)===0?(o.flags=r&-65537|128,o):null;case 26:case 27:case 5:return un(o),null;case 31:if(o.memoizedState!==null){if(ni(o),o.alternate===null)throw Error(i(340));ms()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 13:if(ni(o),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(i(340));ms()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return ne(An),null;case 4:return De(),null;case 10:return jo(o.type),null;case 22:case 23:return ni(o),Gp(),r!==null&&ne(vs),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 24:return jo(Fn),null;case 25:return null;default:return null}}function Bb(r,o){switch(Rp(o),o.tag){case 3:jo(Fn),De();break;case 26:case 27:case 5:un(o);break;case 4:De();break;case 31:o.memoizedState!==null&&ni(o);break;case 13:ni(o);break;case 19:ne(An);break;case 10:jo(o.type);break;case 22:case 23:ni(o),Gp(),r!==null&&ne(vs);break;case 24:jo(Fn)}}function lc(r,o){try{var l=o.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&r)===r){d=void 0;var x=l.create,T=l.inst;d=x(),T.destroy=d}l=l.next}while(l!==m)}}catch(k){Yt(o,o.return,k)}}function Ma(r,o,l){try{var d=o.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var x=m.next;d=x;do{if((d.tag&r)===r){var T=d.inst,k=T.destroy;if(k!==void 0){T.destroy=void 0,m=o;var Y=l,pe=k;try{pe()}catch(Te){Yt(m,Y,Te)}}}d=d.next}while(d!==x)}}catch(Te){Yt(o,o.return,Te)}}function Ub(r){var o=r.updateQueue;if(o!==null){var l=r.stateNode;try{D0(o,l)}catch(d){Yt(r,r.return,d)}}}function $b(r,o,l){l.props=Cs(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(d){Yt(r,o,d)}}function uc(r,o){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var d=r.stateNode;break;case 30:d=r.stateNode;break;default:d=r.stateNode}typeof l=="function"?r.refCleanup=l(d):l.current=d}}catch(m){Yt(r,o,m)}}function io(r,o){var l=r.ref,d=r.refCleanup;if(l!==null)if(typeof d=="function")try{d()}catch(m){Yt(r,o,m)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Yt(r,o,m)}else l.current=null}function Hb(r){var o=r.type,l=r.memoizedProps,d=r.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":l.autoFocus&&d.focus();break e;case"img":l.src?d.src=l.src:l.srcSet&&(d.srcset=l.srcSet)}}catch(m){Yt(r,r.return,m)}}function Cm(r,o,l){try{var d=r.stateNode;bT(d,r.type,l,o),d[Ke]=o}catch(m){Yt(r,r.return,m)}}function qb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&ja(r.type)||r.tag===4}function _m(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||qb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&ja(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,o):(o=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,o.appendChild(r),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=kr));else if(d!==4&&(d===27&&ja(r.type)&&(l=r.stateNode,o=null),r=r.child,r!==null))for(Em(r,o,l),r=r.sibling;r!==null;)Em(r,o,l),r=r.sibling}function rf(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(d!==4&&(d===27&&ja(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(rf(r,o,l),r=r.sibling;r!==null;)rf(r,o,l),r=r.sibling}function Gb(r){var o=r.stateNode,l=r.memoizedProps;try{for(var d=r.type,m=o.attributes;m.length;)o.removeAttributeNode(m[0]);cr(o,d,l),o[He]=r,o[Ke]=l}catch(x){Yt(r,r.return,x)}}var Bo=!1,$n=!1,Om=!1,Vb=typeof WeakSet=="function"?WeakSet:Set,nr=null;function ZO(r,o){if(r=r.containerInfo,Ym=Ef,r=R(r),I(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,x=d.focusNode;d=d.focusOffset;try{l.nodeType,x.nodeType}catch{l=null;break e}var T=0,k=-1,Y=-1,pe=0,Te=0,Re=r,ve=null;t:for(;;){for(var we;Re!==l||m!==0&&Re.nodeType!==3||(k=T+m),Re!==x||d!==0&&Re.nodeType!==3||(Y=T+d),Re.nodeType===3&&(T+=Re.nodeValue.length),(we=Re.firstChild)!==null;)ve=Re,Re=we;for(;;){if(Re===r)break t;if(ve===l&&++pe===m&&(k=T),ve===x&&++Te===d&&(Y=T),(we=Re.nextSibling)!==null)break;Re=ve,ve=Re.parentNode}Re=we}l=k===-1||Y===-1?null:{start:k,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(Km={focusedElem:r,selectionRange:l},Ef=!1,nr=o;nr!==null;)if(o=nr,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,nr=r;else for(;nr!==null;){switch(o=nr,x=o.alternate,r=o.flags,o.tag){case 0:if((r&4)!==0&&(r=o.updateQueue,r=r!==null?r.events:null,r!==null))for(l=0;l<r.length;l++)m=r[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&x!==null){r=void 0,l=o,m=x.memoizedProps,x=x.memoizedState,d=l.stateNode;try{var et=Cs(l.type,m);r=d.getSnapshotBeforeUpdate(et,x),d.__reactInternalSnapshotBeforeUpdate=r}catch(dt){Yt(l,l.return,dt)}}break;case 3:if((r&1024)!==0){if(r=o.stateNode.containerInfo,l=r.nodeType,l===9)Qm(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Qm(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=o.sibling,r!==null){r.return=o.return,nr=r;break}nr=o.return}}function Yb(r,o,l){var d=l.flags;switch(l.tag){case 0:case 11:case 15:$o(r,l),d&4&&lc(5,l);break;case 1:if($o(r,l),d&4)if(r=l.stateNode,o===null)try{r.componentDidMount()}catch(T){Yt(l,l.return,T)}else{var m=Cs(l.type,o.memoizedProps);o=o.memoizedState;try{r.componentDidUpdate(m,o,r.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(l,l.return,T)}}d&64&&Ub(l),d&512&&uc(l,l.return);break;case 3:if($o(r,l),d&64&&(r=l.updateQueue,r!==null)){if(o=null,l.child!==null)switch(l.child.tag){case 27:case 5:o=l.child.stateNode;break;case 1:o=l.child.stateNode}try{D0(r,o)}catch(T){Yt(l,l.return,T)}}break;case 27:o===null&&d&4&&Gb(l);case 26:case 5:$o(r,l),o===null&&d&4&&Hb(l),d&512&&uc(l,l.return);break;case 12:$o(r,l);break;case 31:$o(r,l),d&4&&Xb(r,l);break;case 13:$o(r,l),d&4&&Qb(r,l),d&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=sT.bind(null,l),TT(r,l))));break;case 22:if(d=l.memoizedState!==null||Bo,!d){o=o!==null&&o.memoizedState!==null||$n,m=Bo;var x=$n;Bo=d,($n=o)&&!x?Ho(r,l,(l.subtreeFlags&8772)!==0):$o(r,l),Bo=m,$n=x}break;case 30:break;default:$o(r,l)}}function Kb(r){var o=r.alternate;o!==null&&(r.alternate=null,Kb(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&cn(o)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var xn=null,Lr=!1;function Uo(r,o,l){for(l=l.child;l!==null;)Wb(r,o,l),l=l.sibling}function Wb(r,o,l){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Nr,l)}catch{}switch(l.tag){case 26:$n||io(l,o),Uo(r,o,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:$n||io(l,o);var d=xn,m=Lr;ja(l.type)&&(xn=l.stateNode,Lr=!1),Uo(r,o,l),vc(l.stateNode),xn=d,Lr=m;break;case 5:$n||io(l,o);case 6:if(d=xn,m=Lr,xn=null,Uo(r,o,l),xn=d,Lr=m,xn!==null)if(Lr)try{(xn.nodeType===9?xn.body:xn.nodeName==="HTML"?xn.ownerDocument.body:xn).removeChild(l.stateNode)}catch(x){Yt(l,o,x)}else try{xn.removeChild(l.stateNode)}catch(x){Yt(l,o,x)}break;case 18:xn!==null&&(Lr?(r=xn,Ux(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Fl(r)):Ux(xn,l.stateNode));break;case 4:d=xn,m=Lr,xn=l.stateNode.containerInfo,Lr=!0,Uo(r,o,l),xn=d,Lr=m;break;case 0:case 11:case 14:case 15:Ma(2,l,o),$n||Ma(4,l,o),Uo(r,o,l);break;case 1:$n||(io(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"&&$b(l,o,d)),Uo(r,o,l);break;case 21:Uo(r,o,l);break;case 22:$n=(d=$n)||l.memoizedState!==null,Uo(r,o,l),$n=d;break;default:Uo(r,o,l)}}function Xb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Fl(r)}catch(l){Yt(o,o.return,l)}}}function Qb(r,o){if(o.memoizedState===null&&(r=o.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Fl(r)}catch(l){Yt(o,o.return,l)}}function JO(r){switch(r.tag){case 31:case 13:case 19:var o=r.stateNode;return o===null&&(o=r.stateNode=new Vb),o;case 22:return r=r.stateNode,o=r._retryCache,o===null&&(o=r._retryCache=new Vb),o;default:throw Error(i(435,r.tag))}}function of(r,o){var l=JO(r);o.forEach(function(d){if(!l.has(d)){l.add(d);var m=lT.bind(null,r,d);d.then(m,m)}})}function Fr(r,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d],x=r,T=o,k=T;e:for(;k!==null;){switch(k.tag){case 27:if(ja(k.type)){xn=k.stateNode,Lr=!1;break e}break;case 5:xn=k.stateNode,Lr=!1;break e;case 3:case 4:xn=k.stateNode.containerInfo,Lr=!0;break e}k=k.return}if(xn===null)throw Error(i(160));Wb(x,T,m),xn=null,Lr=!1,x=m.alternate,x!==null&&(x.return=null),m.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)Zb(o,r),o=o.sibling}var Ui=null;function Zb(r,o){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Fr(o,r),Br(r),d&4&&(Ma(3,r,r.return),lc(3,r),Ma(5,r,r.return));break;case 1:Fr(o,r),Br(r),d&512&&($n||l===null||io(l,l.return)),d&64&&Bo&&(r=r.updateQueue,r!==null&&(d=r.callbacks,d!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?d:l.concat(d))));break;case 26:var m=Ui;if(Fr(o,r),Br(r),d&512&&($n||l===null||io(l,l.return)),d&4){var x=l!==null?l.memoizedState:null;if(d=r.memoizedState,l===null)if(d===null)if(r.stateNode===null){e:{d=r.type,l=r.memoizedProps,m=m.ownerDocument||m;t:switch(d){case"title":x=m.getElementsByTagName("title")[0],(!x||x[Ut]||x[He]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=m.createElement(d),m.head.insertBefore(x,m.querySelector("head > title"))),cr(x,d,l),x[He]=r,tn(x),d=x;break e;case"link":var T=Zx("link","href",m).get(d+(l.href||""));if(T){for(var k=0;k<T.length;k++)if(x=T[k],x.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&x.getAttribute("rel")===(l.rel==null?null:l.rel)&&x.getAttribute("title")===(l.title==null?null:l.title)&&x.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(k,1);break t}}x=m.createElement(d),cr(x,d,l),m.head.appendChild(x);break;case"meta":if(T=Zx("meta","content",m).get(d+(l.content||""))){for(k=0;k<T.length;k++)if(x=T[k],x.getAttribute("content")===(l.content==null?null:""+l.content)&&x.getAttribute("name")===(l.name==null?null:l.name)&&x.getAttribute("property")===(l.property==null?null:l.property)&&x.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&x.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(k,1);break t}}x=m.createElement(d),cr(x,d,l),m.head.appendChild(x);break;default:throw Error(i(468,d))}x[He]=r,tn(x),d=x}r.stateNode=d}else Jx(m,r.type,r.stateNode);else r.stateNode=Qx(m,d,r.memoizedProps);else x!==d?(x===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):x.count--,d===null?Jx(m,r.type,r.stateNode):Qx(m,d,r.memoizedProps)):d===null&&r.stateNode!==null&&Cm(r,r.memoizedProps,l.memoizedProps)}break;case 27:Fr(o,r),Br(r),d&512&&($n||l===null||io(l,l.return)),l!==null&&d&4&&Cm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(Fr(o,r),Br(r),d&512&&($n||l===null||io(l,l.return)),r.flags&32){m=r.stateNode;try{Co(m,"")}catch(et){Yt(r,r.return,et)}}d&4&&r.stateNode!=null&&(m=r.memoizedProps,Cm(r,m,l!==null?l.memoizedProps:m)),d&1024&&(Om=!0);break;case 6:if(Fr(o,r),Br(r),d&4){if(r.stateNode===null)throw Error(i(162));d=r.memoizedProps,l=r.stateNode;try{l.nodeValue=d}catch(et){Yt(r,r.return,et)}}break;case 3:if(wf=null,m=Ui,Ui=bf(o.containerInfo),Fr(o,r),Ui=m,Br(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Fl(o.containerInfo)}catch(et){Yt(r,r.return,et)}Om&&(Om=!1,Jb(r));break;case 4:d=Ui,Ui=bf(r.stateNode.containerInfo),Fr(o,r),Br(r),Ui=d;break;case 12:Fr(o,r),Br(r);break;case 31:Fr(o,r),Br(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,of(r,d)));break;case 13:Fr(o,r),Br(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(sf=Bt()),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,of(r,d)));break;case 22:m=r.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,pe=Bo,Te=$n;if(Bo=pe||m,$n=Te||Y,Fr(o,r),$n=Te,Bo=pe,Br(r),d&8192)e:for(o=r.stateNode,o._visibility=m?o._visibility&-2:o._visibility|1,m&&(l===null||Y||Bo||$n||_s(r)),l=null,o=r;;){if(o.tag===5||o.tag===26){if(l===null){Y=l=o;try{if(x=Y.stateNode,m)T=x.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{k=Y.stateNode;var Re=Y.memoizedProps.style,ve=Re!=null&&Re.hasOwnProperty("display")?Re.display:null;k.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(et){Yt(Y,Y.return,et)}}}else if(o.tag===6){if(l===null){Y=o;try{Y.stateNode.nodeValue=m?"":Y.memoizedProps}catch(et){Yt(Y,Y.return,et)}}}else if(o.tag===18){if(l===null){Y=o;try{var we=Y.stateNode;m?$x(we,!0):$x(Y.stateNode,!1)}catch(et){Yt(Y,Y.return,et)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===r)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break e;for(;o.sibling===null;){if(o.return===null||o.return===r)break e;l===o&&(l=null),o=o.return}l===o&&(l=null),o.sibling.return=o.return,o=o.sibling}d&4&&(d=r.updateQueue,d!==null&&(l=d.retryQueue,l!==null&&(d.retryQueue=null,of(r,l))));break;case 19:Fr(o,r),Br(r),d&4&&(d=r.updateQueue,d!==null&&(r.updateQueue=null,of(r,d)));break;case 30:break;case 21:break;default:Fr(o,r),Br(r)}}function Br(r){var o=r.flags;if(o&2){try{for(var l,d=r.return;d!==null;){if(qb(d)){l=d;break}d=d.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,x=_m(r);rf(r,x,m);break;case 5:var T=l.stateNode;l.flags&32&&(Co(T,""),l.flags&=-33);var k=_m(r);rf(r,k,T);break;case 3:case 4:var Y=l.stateNode.containerInfo,pe=_m(r);Em(r,pe,Y);break;default:throw Error(i(161))}}catch(Te){Yt(r,r.return,Te)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function Jb(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var o=r;Jb(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),r=r.sibling}}function $o(r,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)Yb(r,o.alternate,o),o=o.sibling}function _s(r){for(r=r.child;r!==null;){var o=r;switch(o.tag){case 0:case 11:case 14:case 15:Ma(4,o,o.return),_s(o);break;case 1:io(o,o.return);var l=o.stateNode;typeof l.componentWillUnmount=="function"&&$b(o,o.return,l),_s(o);break;case 27:vc(o.stateNode);case 26:case 5:io(o,o.return),_s(o);break;case 22:o.memoizedState===null&&_s(o);break;case 30:_s(o);break;default:_s(o)}r=r.sibling}}function Ho(r,o,l){for(l=l&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var d=o.alternate,m=r,x=o,T=x.flags;switch(x.tag){case 0:case 11:case 15:Ho(m,x,l),lc(4,x);break;case 1:if(Ho(m,x,l),d=x,m=d.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(pe){Yt(d,d.return,pe)}if(d=x,m=d.updateQueue,m!==null){var k=d.stateNode;try{var Y=m.shared.hiddenCallbacks;if(Y!==null)for(m.shared.hiddenCallbacks=null,m=0;m<Y.length;m++)R0(Y[m],k)}catch(pe){Yt(d,d.return,pe)}}l&&T&64&&Ub(x),uc(x,x.return);break;case 27:Gb(x);case 26:case 5:Ho(m,x,l),l&&d===null&&T&4&&Hb(x),uc(x,x.return);break;case 12:Ho(m,x,l);break;case 31:Ho(m,x,l),l&&T&4&&Xb(m,x);break;case 13:Ho(m,x,l),l&&T&4&&Qb(m,x);break;case 22:x.memoizedState===null&&Ho(m,x,l),uc(x,x.return);break;case 30:break;default:Ho(m,x,l)}o=o.sibling}}function Tm(r,o){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(r=o.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Wu(l))}function Mm(r,o){r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Wu(r))}function $i(r,o,l,d){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)ex(r,o,l,d),o=o.sibling}function ex(r,o,l,d){var m=o.flags;switch(o.tag){case 0:case 11:case 15:$i(r,o,l,d),m&2048&&lc(9,o);break;case 1:$i(r,o,l,d);break;case 3:$i(r,o,l,d),m&2048&&(r=null,o.alternate!==null&&(r=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==r&&(o.refCount++,r!=null&&Wu(r)));break;case 12:if(m&2048){$i(r,o,l,d),r=o.stateNode;try{var x=o.memoizedProps,T=x.id,k=x.onPostCommit;typeof k=="function"&&k(T,o.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(Y){Yt(o,o.return,Y)}}else $i(r,o,l,d);break;case 31:$i(r,o,l,d);break;case 13:$i(r,o,l,d);break;case 23:break;case 22:x=o.stateNode,T=o.alternate,o.memoizedState!==null?x._visibility&2?$i(r,o,l,d):cc(r,o):x._visibility&2?$i(r,o,l,d):(x._visibility|=2,Ml(r,o,l,d,(o.subtreeFlags&10256)!==0||!1)),m&2048&&Tm(T,o);break;case 24:$i(r,o,l,d),m&2048&&Mm(o.alternate,o);break;default:$i(r,o,l,d)}}function Ml(r,o,l,d,m){for(m=m&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var x=r,T=o,k=l,Y=d,pe=T.flags;switch(T.tag){case 0:case 11:case 15:Ml(x,T,k,Y,m),lc(8,T);break;case 23:break;case 22:var Te=T.stateNode;T.memoizedState!==null?Te._visibility&2?Ml(x,T,k,Y,m):cc(x,T):(Te._visibility|=2,Ml(x,T,k,Y,m)),m&&pe&2048&&Tm(T.alternate,T);break;case 24:Ml(x,T,k,Y,m),m&&pe&2048&&Mm(T.alternate,T);break;default:Ml(x,T,k,Y,m)}o=o.sibling}}function cc(r,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var l=r,d=o,m=d.flags;switch(d.tag){case 22:cc(l,d),m&2048&&Tm(d.alternate,d);break;case 24:cc(l,d),m&2048&&Mm(d.alternate,d);break;default:cc(l,d)}o=o.sibling}}var dc=8192;function Pl(r,o,l){if(r.subtreeFlags&dc)for(r=r.child;r!==null;)tx(r,o,l),r=r.sibling}function tx(r,o,l){switch(r.tag){case 26:Pl(r,o,l),r.flags&dc&&r.memoizedState!==null&&FT(l,Ui,r.memoizedState,r.memoizedProps);break;case 5:Pl(r,o,l);break;case 3:case 4:var d=Ui;Ui=bf(r.stateNode.containerInfo),Pl(r,o,l),Ui=d;break;case 22:r.memoizedState===null&&(d=r.alternate,d!==null&&d.memoizedState!==null?(d=dc,dc=16777216,Pl(r,o,l),dc=d):Pl(r,o,l));break;default:Pl(r,o,l)}}function nx(r){var o=r.alternate;if(o!==null&&(r=o.child,r!==null)){o.child=null;do o=r.sibling,r.sibling=null,r=o;while(r!==null)}}function fc(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];nr=d,ix(d,r)}nx(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)rx(r),r=r.sibling}function rx(r){switch(r.tag){case 0:case 11:case 15:fc(r),r.flags&2048&&Ma(9,r,r.return);break;case 3:fc(r);break;case 12:fc(r);break;case 22:var o=r.stateNode;r.memoizedState!==null&&o._visibility&2&&(r.return===null||r.return.tag!==13)?(o._visibility&=-3,af(r)):fc(r);break;default:fc(r)}}function af(r){var o=r.deletions;if((r.flags&16)!==0){if(o!==null)for(var l=0;l<o.length;l++){var d=o[l];nr=d,ix(d,r)}nx(r)}for(r=r.child;r!==null;){switch(o=r,o.tag){case 0:case 11:case 15:Ma(8,o,o.return),af(o);break;case 22:l=o.stateNode,l._visibility&2&&(l._visibility&=-3,af(o));break;default:af(o)}r=r.sibling}}function ix(r,o){for(;nr!==null;){var l=nr;switch(l.tag){case 0:case 11:case 15:Ma(8,l,o);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var d=l.memoizedState.cachePool.pool;d!=null&&d.refCount++}break;case 24:Wu(l.memoizedState.cache)}if(d=l.child,d!==null)d.return=l,nr=d;else e:for(l=r;nr!==null;){d=nr;var m=d.sibling,x=d.return;if(Kb(d),d===l){nr=null;break e}if(m!==null){m.return=x,nr=m;break e}nr=x}}}var eT={getCacheForType:function(r){var o=lr(Fn),l=o.data.get(r);return l===void 0&&(l=r(),o.data.set(r,l)),l},cacheSignal:function(){return lr(Fn).controller.signal}},tT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,nn=null,Mt=null,Rt=0,Vt=0,ri=null,Pa=!1,Rl=!1,Pm=!1,qo=0,Tn=0,Ra=0,Es=0,Rm=0,ii=0,Dl=0,hc=null,Ur=null,Dm=!1,sf=0,ox=0,lf=1/0,uf=null,Da=null,Wn=0,Aa=null,Al=null,Go=0,Am=0,Nm=null,ax=null,pc=0,Im=null;function oi(){return(Ht&2)!==0&&Rt!==0?Rt&-Rt:B.T!==null?Bm():Fe()}function sx(){if(ii===0)if((Rt&536870912)===0||It){var r=an;an<<=1,(an&3932160)===0&&(an=262144),ii=r}else ii=536870912;return r=ti.current,r!==null&&(r.flags|=32),ii}function $r(r,o,l){(r===nn&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)&&(Nl(r,0),Na(r,Rt,ii,!1)),_r(r,l),((Ht&2)===0||r!==nn)&&(r===nn&&((Ht&2)===0&&(Es|=l),Tn===4&&Na(r,Rt,ii,!1)),oo(r))}function lx(r,o,l){if((Ht&6)!==0)throw Error(i(327));var d=!l&&(o&127)===0&&(o&r.expiredLanes)===0||Li(r,o),m=d?iT(r,o):km(r,o,!0),x=d;do{if(m===0){Rl&&!d&&Na(r,o,0,!1);break}else{if(l=r.current.alternate,x&&!nT(l)){m=km(r,o,!1),x=!1;continue}if(m===2){if(x=o,r.errorRecoveryDisabledLanes&x)var T=0;else T=r.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){o=T;e:{var k=r;m=hc;var Y=k.current.memoizedState.isDehydrated;if(Y&&(Nl(k,T).flags|=256),T=km(k,T,!1),T!==2){if(Pm&&!Y){k.errorRecoveryDisabledLanes|=x,Es|=x,m=4;break e}x=Ur,Ur=m,x!==null&&(Ur===null?Ur=x:Ur.push.apply(Ur,x))}m=T}if(x=!1,m!==2)continue}}if(m===1){Nl(r,0),Na(r,o,0,!0);break}e:{switch(d=r,x=m,x){case 0:case 1:throw Error(i(345));case 4:if((o&4194048)!==o)break;case 6:Na(d,o,ii,!Pa);break e;case 2:Ur=null;break;case 3:case 5:break;default:throw Error(i(329))}if((o&62914560)===o&&(m=sf+300-Bt(),10<m)){if(Na(d,o,ii,!Pa),Xi(d,0,!0)!==0)break e;Go=o,d.timeoutHandle=Fx(ux.bind(null,d,l,Ur,uf,Dm,o,ii,Es,Dl,Pa,x,"Throttled",-0,0),m);break e}ux(d,l,Ur,uf,Dm,o,ii,Es,Dl,Pa,x,null,-0,0)}}break}while(!0);oo(r)}function ux(r,o,l,d,m,x,T,k,Y,pe,Te,Re,ve,we){if(r.timeoutHandle=-1,Re=o.subtreeFlags,Re&8192||(Re&16785408)===16785408){Re={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kr},tx(o,x,Re);var et=(x&62914560)===x?sf-Bt():(x&4194048)===x?ox-Bt():0;if(et=BT(Re,et),et!==null){Go=x,r.cancelPendingCommit=et(yx.bind(null,r,o,x,l,d,m,T,k,Y,Te,Re,null,ve,we)),Na(r,x,T,!pe);return}}yx(r,o,x,l,d,m,T,k,Y)}function nT(r){for(var o=r;;){var l=o.tag;if((l===0||l===11||l===15)&&o.flags&16384&&(l=o.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var d=0;d<l.length;d++){var m=l[d],x=m.getSnapshot;m=m.value;try{if(!pr(x(),m))return!1}catch{return!1}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Na(r,o,l,d){o&=~Rm,o&=~Es,r.suspendedLanes|=o,r.pingedLanes&=~o,d&&(r.warmLanes|=o),d=r.expirationTimes;for(var m=o;0<m;){var x=31-Ge(m),T=1<<x;d[x]=-1,m&=~T}l!==0&&So(r,l,o)}function cf(){return(Ht&6)===0?(mc(0),!1):!0}function jm(){if(Mt!==null){if(Vt===0)var r=Mt.return;else r=Mt,Io=gs=null,Qp(r),Cl=null,Qu=0,r=Mt;for(;r!==null;)Bb(r.alternate,r),r=r.return;Mt=null}}function Nl(r,o){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,ST(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Go=0,jm(),nn=r,Mt=l=Ao(r.current,null),Rt=o,Vt=0,ri=null,Pa=!1,Rl=Li(r,o),Pm=!1,Dl=ii=Rm=Es=Ra=Tn=0,Ur=hc=null,Dm=!1,(o&8)!==0&&(o|=o&32);var d=r.entangledLanes;if(d!==0)for(r=r.entanglements,d&=o;0<d;){var m=31-Ge(d),x=1<<m;o|=r[m],d&=~x}return qo=o,tr(),l}function cx(r,o){xt=null,B.H=oc,o===Sl||o===Ld?(o=O0(),Vt=3):o===Fp?(o=O0(),Vt=4):Vt=o===hm?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ri=o,Mt===null&&(Tn=1,Zd(r,bi(o,r.current)))}function dx(){var r=ti.current;return r===null?!0:(Rt&4194048)===Rt?Ci===null:(Rt&62914560)===Rt||(Rt&536870912)!==0?r===Ci:!1}function fx(){var r=B.H;return B.H=oc,r===null?oc:r}function hx(){var r=B.A;return B.A=eT,r}function df(){Tn=4,Pa||(Rt&4194048)!==Rt&&ti.current!==null||(Rl=!0),(Ra&134217727)===0&&(Es&134217727)===0||nn===null||Na(nn,Rt,ii,!1)}function km(r,o,l){var d=Ht;Ht|=2;var m=fx(),x=hx();(nn!==r||Rt!==o)&&(uf=null,Nl(r,o)),o=!1;var T=Tn;e:do try{if(Vt!==0&&Mt!==null){var k=Mt,Y=ri;switch(Vt){case 8:jm(),T=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(o=!0);var pe=Vt;if(Vt=0,ri=null,Il(r,k,Y,pe),l&&Rl){T=0;break e}break;default:pe=Vt,Vt=0,ri=null,Il(r,k,Y,pe)}}rT(),T=Tn;break}catch(Te){cx(r,Te)}while(!0);return o&&r.shellSuspendCounter++,Io=gs=null,Ht=d,B.H=m,B.A=x,Mt===null&&(nn=null,Rt=0,tr()),T}function rT(){for(;Mt!==null;)px(Mt)}function iT(r,o){var l=Ht;Ht|=2;var d=fx(),m=hx();nn!==r||Rt!==o?(uf=null,lf=Bt()+500,Nl(r,o)):Rl=Li(r,o);e:do try{if(Vt!==0&&Mt!==null){o=Mt;var x=ri;t:switch(Vt){case 1:Vt=0,ri=null,Il(r,o,x,1);break;case 2:case 9:if(_0(x)){Vt=0,ri=null,mx(o);break}o=function(){Vt!==2&&Vt!==9||nn!==r||(Vt=7),oo(r)},x.then(o,o);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:_0(x)?(Vt=0,ri=null,mx(o)):(Vt=0,ri=null,Il(r,o,x,7));break;case 5:var T=null;switch(Mt.tag){case 26:T=Mt.memoizedState;case 5:case 27:var k=Mt;if(T?ew(T):k.stateNode.complete){Vt=0,ri=null;var Y=k.sibling;if(Y!==null)Mt=Y;else{var pe=k.return;pe!==null?(Mt=pe,ff(pe)):Mt=null}break t}}Vt=0,ri=null,Il(r,o,x,5);break;case 6:Vt=0,ri=null,Il(r,o,x,6);break;case 8:jm(),Tn=6;break e;default:throw Error(i(462))}}oT();break}catch(Te){cx(r,Te)}while(!0);return Io=gs=null,B.H=d,B.A=m,Ht=l,Mt!==null?0:(nn=null,Rt=0,tr(),Tn)}function oT(){for(;Mt!==null&&!wn();)px(Mt)}function px(r){var o=Lb(r.alternate,r,qo);r.memoizedProps=r.pendingProps,o===null?ff(r):Mt=o}function mx(r){var o=r,l=o.alternate;switch(o.tag){case 15:case 0:o=Ab(l,o,o.pendingProps,o.type,void 0,Rt);break;case 11:o=Ab(l,o,o.pendingProps,o.type.render,o.ref,Rt);break;case 5:Qp(o);default:Bb(l,o),o=Mt=h0(o,qo),o=Lb(l,o,qo)}r.memoizedProps=r.pendingProps,o===null?ff(r):Mt=o}function Il(r,o,l,d){Io=gs=null,Qp(o),Cl=null,Qu=0;var m=o.return;try{if(YO(r,m,o,l,Rt)){Tn=1,Zd(r,bi(l,r.current)),Mt=null;return}}catch(x){if(m!==null)throw Mt=m,x;Tn=1,Zd(r,bi(l,r.current)),Mt=null;return}o.flags&32768?(It||d===1?r=!0:Rl||(Rt&536870912)!==0?r=!1:(Pa=r=!0,(d===2||d===9||d===3||d===6)&&(d=ti.current,d!==null&&d.tag===13&&(d.flags|=16384))),gx(o,r)):ff(o)}function ff(r){var o=r;do{if((o.flags&32768)!==0){gx(o,Pa);return}r=o.return;var l=XO(o.alternate,o,qo);if(l!==null){Mt=l;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=r}while(o!==null);Tn===0&&(Tn=5)}function gx(r,o){do{var l=QO(r.alternate,r);if(l!==null){l.flags&=32767,Mt=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!o&&(r=r.sibling,r!==null)){Mt=r;return}Mt=r=l}while(r!==null);Tn=6,Mt=null}function yx(r,o,l,d,m,x,T,k,Y){r.cancelPendingCommit=null;do hf();while(Wn!==0);if((Ht&6)!==0)throw Error(i(327));if(o!==null){if(o===r.current)throw Error(i(177));if(x=o.lanes|o.childLanes,x|=bt,ts(r,l,x,T,k,Y),r===nn&&(Mt=nn=null,Rt=0),Al=o,Aa=r,Go=l,Am=x,Nm=m,ax=d,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,uT(Sn,function(){return Sx(),null})):(r.callbackNode=null,r.callbackPriority=0),d=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||d){d=B.T,B.T=null,m=W.p,W.p=2,T=Ht,Ht|=4;try{ZO(r,o,l)}finally{Ht=T,W.p=m,B.T=d}}Wn=1,vx(),bx(),xx()}}function vx(){if(Wn===1){Wn=0;var r=Aa,o=Al,l=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var d=W.p;W.p=2;var m=Ht;Ht|=4;try{Zb(o,r);var x=Km,T=R(r.containerInfo),k=x.focusedElem,Y=x.selectionRange;if(T!==k&&k&&k.ownerDocument&&O(k.ownerDocument.documentElement,k)){if(Y!==null&&I(k)){var pe=Y.start,Te=Y.end;if(Te===void 0&&(Te=pe),"selectionStart"in k)k.selectionStart=pe,k.selectionEnd=Math.min(Te,k.value.length);else{var Re=k.ownerDocument||document,ve=Re&&Re.defaultView||window;if(ve.getSelection){var we=ve.getSelection(),et=k.textContent.length,dt=Math.min(Y.start,et),Xt=Y.end===void 0?dt:Math.min(Y.end,et);!we.extend&&dt>Xt&&(T=Xt,Xt=dt,dt=T);var ue=C(k,dt),J=C(k,Xt);if(ue&&J&&(we.rangeCount!==1||we.anchorNode!==ue.node||we.anchorOffset!==ue.offset||we.focusNode!==J.node||we.focusOffset!==J.offset)){var he=Re.createRange();he.setStart(ue.node,ue.offset),we.removeAllRanges(),dt>Xt?(we.addRange(he),we.extend(J.node,J.offset)):(he.setEnd(J.node,J.offset),we.addRange(he))}}}}for(Re=[],we=k;we=we.parentNode;)we.nodeType===1&&Re.push({element:we,left:we.scrollLeft,top:we.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<Re.length;k++){var Me=Re[k];Me.element.scrollLeft=Me.left,Me.element.scrollTop=Me.top}}Ef=!!Ym,Km=Ym=null}finally{Ht=m,W.p=d,B.T=l}}r.current=o,Wn=2}}function bx(){if(Wn===2){Wn=0;var r=Aa,o=Al,l=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var d=W.p;W.p=2;var m=Ht;Ht|=4;try{Yb(r,o.alternate,o)}finally{Ht=m,W.p=d,B.T=l}}Wn=3}}function xx(){if(Wn===4||Wn===3){Wn=0,Sr();var r=Aa,o=Al,l=Go,d=ax;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Wn=5:(Wn=0,Al=Aa=null,wx(r,r.pendingLanes));var m=r.pendingLanes;if(m===0&&(Da=null),Ae(l),o=o.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Nr,o,void 0,(o.current.flags&128)===128)}catch{}if(d!==null){o=B.T,m=W.p,W.p=2,B.T=null;try{for(var x=r.onRecoverableError,T=0;T<d.length;T++){var k=d[T];x(k.value,{componentStack:k.stack})}}finally{B.T=o,W.p=m}}(Go&3)!==0&&hf(),oo(r),m=r.pendingLanes,(l&261930)!==0&&(m&42)!==0?r===Im?pc++:(pc=0,Im=r):pc=0,mc(0)}}function wx(r,o){(r.pooledCacheLanes&=o)===0&&(o=r.pooledCache,o!=null&&(r.pooledCache=null,Wu(o)))}function hf(){return vx(),bx(),xx(),Sx()}function Sx(){if(Wn!==5)return!1;var r=Aa,o=Am;Am=0;var l=Ae(Go),d=B.T,m=W.p;try{W.p=32>l?32:l,B.T=null,l=Nm,Nm=null;var x=Aa,T=Go;if(Wn=0,Al=Aa=null,Go=0,(Ht&6)!==0)throw Error(i(331));var k=Ht;if(Ht|=4,rx(x.current),ex(x,x.current,T,l),Ht=k,mc(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Nr,x)}catch{}return!0}finally{W.p=m,B.T=d,wx(r,o)}}function Cx(r,o,l){o=bi(l,o),o=fm(r.stateNode,o,2),r=Ea(r,o,2),r!==null&&(_r(r,2),oo(r))}function Yt(r,o,l){if(r.tag===3)Cx(r,r,l);else for(;o!==null;){if(o.tag===3){Cx(o,r,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Da===null||!Da.has(d))){r=bi(l,r),l=_b(2),d=Ea(o,l,2),d!==null&&(Eb(l,d,o,r),_r(d,2),oo(d));break}}o=o.return}}function zm(r,o,l){var d=r.pingCache;if(d===null){d=r.pingCache=new tT;var m=new Set;d.set(o,m)}else m=d.get(o),m===void 0&&(m=new Set,d.set(o,m));m.has(l)||(Pm=!0,m.add(l),r=aT.bind(null,r,o,l),o.then(r,r))}function aT(r,o,l){var d=r.pingCache;d!==null&&d.delete(o),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,nn===r&&(Rt&l)===l&&(Tn===4||Tn===3&&(Rt&62914560)===Rt&&300>Bt()-sf?(Ht&2)===0&&Nl(r,0):Rm|=l,Dl===Rt&&(Dl=0)),oo(r)}function _x(r,o){o===0&&(o=wo()),r=bn(r,o),r!==null&&(_r(r,o),oo(r))}function sT(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),_x(r,l)}function lT(r,o){var l=0;switch(r.tag){case 31:case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;case 22:d=r.stateNode._retryCache;break;default:throw Error(i(314))}d!==null&&d.delete(o),_x(r,l)}function uT(r,o){return Vn(r,o)}var pf=null,jl=null,Lm=!1,mf=!1,Fm=!1,Ia=0;function oo(r){r!==jl&&r.next===null&&(jl===null?pf=jl=r:jl=jl.next=r),mf=!0,Lm||(Lm=!0,dT())}function mc(r,o){if(!Fm&&mf){Fm=!0;do for(var l=!1,d=pf;d!==null;){if(r!==0){var m=d.pendingLanes;if(m===0)var x=0;else{var T=d.suspendedLanes,k=d.pingedLanes;x=(1<<31-Ge(42|r)+1)-1,x&=m&~(T&~k),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(l=!0,Mx(d,x))}else x=Rt,x=Xi(d,d===nn?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),(x&3)===0||Li(d,x)||(l=!0,Mx(d,x));d=d.next}while(l);Fm=!1}}function cT(){Ex()}function Ex(){mf=Lm=!1;var r=0;Ia!==0&&wT()&&(r=Ia);for(var o=Bt(),l=null,d=pf;d!==null;){var m=d.next,x=Ox(d,o);x===0?(d.next=null,l===null?pf=m:l.next=m,m===null&&(jl=l)):(l=d,(r!==0||(x&3)!==0)&&(mf=!0)),d=m}Wn!==0&&Wn!==5||mc(r),Ia!==0&&(Ia=0)}function Ox(r,o){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,x=r.pendingLanes&-62914561;0<x;){var T=31-Ge(x),k=1<<T,Y=m[T];Y===-1?((k&l)===0||(k&d)!==0)&&(m[T]=Qs(k,o)):Y<=o&&(r.expiredLanes|=k),x&=~k}if(o=nn,l=Rt,l=Xi(r,r===o?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d=r.callbackNode,l===0||r===o&&(Vt===2||Vt===9)||r.cancelPendingCommit!==null)return d!==null&&d!==null&&yn(d),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Li(r,l)){if(o=l&-l,o===r.callbackPriority)return o;switch(d!==null&&yn(d),Ae(l)){case 2:case 8:l=lt;break;case 32:l=Sn;break;case 268435456:l=Dn;break;default:l=Sn}return d=Tx.bind(null,r),l=Vn(l,d),r.callbackPriority=o,r.callbackNode=l,o}return d!==null&&d!==null&&yn(d),r.callbackPriority=2,r.callbackNode=null,2}function Tx(r,o){if(Wn!==0&&Wn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(hf()&&r.callbackNode!==l)return null;var d=Rt;return d=Xi(r,r===nn?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),d===0?null:(lx(r,d,o),Ox(r,Bt()),r.callbackNode!=null&&r.callbackNode===l?Tx.bind(null,r):null)}function Mx(r,o){if(hf())return null;lx(r,o,!0)}function dT(){CT(function(){(Ht&6)!==0?Vn(Yn,cT):Ex()})}function Bm(){if(Ia===0){var r=xl;r===0&&(r=$e,$e<<=1,($e&261888)===0&&($e=256)),Ia=r}return Ia}function Px(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:Bi(""+r)}function Rx(r,o){var l=o.ownerDocument.createElement("input");return l.name=o.name,l.value=o.value,r.id&&l.setAttribute("form",r.id),o.parentNode.insertBefore(l,o),r=new FormData(r),l.parentNode.removeChild(l),r}function fT(r,o,l,d,m){if(o==="submit"&&l&&l.stateNode===m){var x=Px((m[Ke]||null).action),T=d.submitter;T&&(o=(o=T[Ke]||null)?Px(o.formAction):T.getAttribute("formAction"),o!==null&&(x=o,T=null));var k=new tl("action","action",null,d,m);r.push({event:k,listeners:[{instance:null,listener:function(){if(d.defaultPrevented){if(Ia!==0){var Y=T?Rx(m,T):new FormData(m);am(l,{pending:!0,data:Y,method:m.method,action:x},null,Y)}}else typeof x=="function"&&(k.preventDefault(),Y=T?Rx(m,T):new FormData(m),am(l,{pending:!0,data:Y,method:m.method,action:x},x,Y))},currentTarget:m}]})}}for(var Um=0;Um<Ve.length;Um++){var $m=Ve[Um],hT=$m.toLowerCase(),pT=$m[0].toUpperCase()+$m.slice(1);ze(hT,"on"+pT)}ze(fe,"onAnimationEnd"),ze(ye,"onAnimationIteration"),ze(Oe,"onAnimationStart"),ze("dblclick","onDoubleClick"),ze("focusin","onFocus"),ze("focusout","onBlur"),ze(Pe,"onTransitionRun"),ze(Be,"onTransitionStart"),ze(Ye,"onTransitionCancel"),ze(ke,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),Er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Er("onBeforeInput",["compositionend","keypress","textInput","paste"]),Er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function Dx(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var x=void 0;if(o)for(var T=d.length-1;0<=T;T--){var k=d[T],Y=k.instance,pe=k.currentTarget;if(k=k.listener,Y!==x&&m.isPropagationStopped())break e;x=k,m.currentTarget=pe;try{x(m)}catch(Te){Xe(Te)}m.currentTarget=null,x=Y}else for(T=0;T<d.length;T++){if(k=d[T],Y=k.instance,pe=k.currentTarget,k=k.listener,Y!==x&&m.isPropagationStopped())break e;x=k,m.currentTarget=pe;try{x(m)}catch(Te){Xe(Te)}m.currentTarget=null,x=Y}}}}function Pt(r,o){var l=o[ot];l===void 0&&(l=o[ot]=new Set);var d=r+"__bubble";l.has(d)||(Ax(o,r,2,!1),l.add(d))}function Hm(r,o,l){var d=0;o&&(d|=4),Ax(l,r,d,o)}var gf="_reactListening"+Math.random().toString(36).slice(2);function qm(r){if(!r[gf]){r[gf]=!0,Xn.forEach(function(l){l!=="selectionchange"&&(mT.has(l)||Hm(l,!1,r),Hm(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[gf]||(o[gf]=!0,Hm("selectionchange",!1,o))}}function Ax(r,o,l,d){switch(sw(o)){case 2:var m=HT;break;case 8:m=qT;break;default:m=og}l=m.bind(null,o,l,r),m=void 0,!Au||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(o,l,{capture:!0,passive:m}):r.addEventListener(o,l,!0):m!==void 0?r.addEventListener(o,l,{passive:m}):r.addEventListener(o,l,!1)}function Gm(r,o,l,d,m){var x=d;if((o&1)===0&&(o&2)===0&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===m)break;if(T===4)for(T=d.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&T.stateNode.containerInfo===m)return;T=T.return}for(;k!==null;){if(T=sn(k),T===null)return;if(Y=T.tag,Y===5||Y===6||Y===26||Y===27){d=x=T;continue e}k=k.parentNode}}d=d.return}ca(function(){var pe=x,Te=Js(l),Re=[];e:{var ve=Ue.get(r);if(ve!==void 0){var we=tl,et=r;switch(r){case"keypress":if(ha(l)===0)break e;case"keydown":case"keyup":we=ll;break;case"focusin":et="focus",we=pa;break;case"focusout":et="blur",we=pa;break;case"beforeblur":case"afterblur":we=pa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Sd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Fu;break;case fe:case ye:case Oe:we=Cd;break;case ke:we=Bu;break;case"scroll":case"scrollend":we=nl;break;case"wheel":we=cl;break;case"copy":case"cut":case"paste":we=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=Lu;break;case"toggle":case"beforetoggle":we=Od}var dt=(o&4)!==0,Xt=!dt&&(r==="scroll"||r==="scrollend"),ue=dt?ve!==null?ve+"Capture":null:ve;dt=[];for(var J=pe,he;J!==null;){var Me=J;if(he=Me.stateNode,Me=Me.tag,Me!==5&&Me!==26&&Me!==27||he===null||ue===null||(Me=Oo(J,ue),Me!=null&&dt.push(yc(J,Me,he))),Xt)break;J=J.return}0<dt.length&&(ve=new we(ve,et,null,l,Te),Re.push({event:ve,listeners:dt}))}}if((o&7)===0){e:{if(ve=r==="mouseover"||r==="pointerover",we=r==="mouseout"||r==="pointerout",ve&&l!==gi&&(et=l.relatedTarget||l.fromElement)&&(sn(et)||et[Qe]))break e;if((we||ve)&&(ve=Te.window===Te?Te:(ve=Te.ownerDocument)?ve.defaultView||ve.parentWindow:window,we?(et=l.relatedTarget||l.toElement,we=pe,et=et?sn(et):null,et!==null&&(Xt=s(et),dt=et.tag,et!==Xt||dt!==5&&dt!==27&&dt!==6)&&(et=null)):(we=null,et=pe),we!==et)){if(dt=il,Me="onMouseLeave",ue="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(dt=Lu,Me="onPointerLeave",ue="onPointerEnter",J="pointer"),Xt=we==null?ve:ln(we),he=et==null?ve:ln(et),ve=new dt(Me,J+"leave",we,l,Te),ve.target=Xt,ve.relatedTarget=he,Me=null,sn(Te)===pe&&(dt=new dt(ue,J+"enter",et,l,Te),dt.target=he,dt.relatedTarget=Xt,Me=dt),Xt=Me,we&&et)t:{for(dt=gT,ue=we,J=et,he=0,Me=ue;Me;Me=dt(Me))he++;Me=0;for(var ct=J;ct;ct=dt(ct))Me++;for(;0<he-Me;)ue=dt(ue),he--;for(;0<Me-he;)J=dt(J),Me--;for(;he--;){if(ue===J||J!==null&&ue===J.alternate){dt=ue;break t}ue=dt(ue),J=dt(J)}dt=null}else dt=null;we!==null&&Nx(Re,ve,we,dt,!1),et!==null&&Xt!==null&&Nx(Re,Xt,et,dt,!0)}}e:{if(ve=pe?ln(pe):window,we=ve.nodeName&&ve.nodeName.toLowerCase(),we==="select"||we==="input"&&ve.type==="file")var zt=fs;else if(hl(ve))if(vi)zt=va;else{zt=Do;var rt=Ad}else we=ve.nodeName,!we||we.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?pe&&Du(pe.elementType)&&(zt=fs):zt=Gu;if(zt&&(zt=zt(r,pe))){qu(Re,zt,l,Te);break e}rt&&rt(r,ve,pe),r==="focusout"&&pe&&ve.type==="number"&&pe.memoizedProps.value!=null&&is(ve,"number",ve.value)}switch(rt=pe?ln(pe):window,r){case"focusin":(hl(rt)||rt.contentEditable==="true")&&(q=rt,X=pe,Q=null);break;case"focusout":Q=X=q=null;break;case"mousedown":oe=!0;break;case"contextmenu":case"mouseup":case"dragend":oe=!1,K(Re,l,Te);break;case"selectionchange":if(F)break;case"keydown":case"keyup":K(Re,l,Te)}var St;if(cs)e:{switch(r){case"compositionstart":var Dt="onCompositionStart";break e;case"compositionend":Dt="onCompositionEnd";break e;case"compositionupdate":Dt="onCompositionUpdate";break e}Dt=void 0}else Ro?Hu(r,l)&&(Dt="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Dt="onCompositionStart");Dt&&(dl&&l.locale!=="ko"&&(Ro||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&Ro&&(St=fa()):(yi=Te,el="value"in yi?yi.value:yi.textContent,Ro=!0)),rt=yf(pe,Dt),0<rt.length&&(Dt=new sl(Dt,r,null,l,Te),Re.push({event:Dt,listeners:rt}),St?Dt.data=St:(St=Md(l),St!==null&&(Dt.data=St)))),(St=Cp?Pd(r,l):_p(r,l))&&(Dt=yf(pe,"onBeforeInput"),0<Dt.length&&(rt=new sl("onBeforeInput","beforeinput",null,l,Te),Re.push({event:rt,listeners:Dt}),rt.data=St)),fT(Re,r,pe,l,Te)}Dx(Re,o)})}function yc(r,o,l){return{instance:r,listener:o,currentTarget:l}}function yf(r,o){for(var l=o+"Capture",d=[];r!==null;){var m=r,x=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||x===null||(m=Oo(r,l),m!=null&&d.unshift(yc(r,m,x)),m=Oo(r,o),m!=null&&d.push(yc(r,m,x))),r.tag===3)return d;r=r.return}return[]}function gT(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Nx(r,o,l,d,m){for(var x=o._reactName,T=[];l!==null&&l!==d;){var k=l,Y=k.alternate,pe=k.stateNode;if(k=k.tag,Y!==null&&Y===d)break;k!==5&&k!==26&&k!==27||pe===null||(Y=pe,m?(pe=Oo(l,x),pe!=null&&T.unshift(yc(l,pe,Y))):m||(pe=Oo(l,x),pe!=null&&T.push(yc(l,pe,Y)))),l=l.return}T.length!==0&&r.push({event:o,listeners:T})}var yT=/\r\n?/g,vT=/\u0000|\uFFFD/g;function Ix(r){return(typeof r=="string"?r:""+r).replace(yT,`
`).replace(vT,"")}function jx(r,o){return o=Ix(o),Ix(r)===o}function Wt(r,o,l,d,m,x){switch(l){case"children":typeof d=="string"?o==="body"||o==="textarea"&&d===""||Co(r,d):(typeof d=="number"||typeof d=="bigint")&&o!=="body"&&Co(r,""+d);break;case"className":jr(r,"class",d);break;case"tabIndex":jr(r,"tabindex",d);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(r,l,d);break;case"style":Ru(r,d,x);break;case"data":if(o!=="object"){jr(r,"data",d);break}case"src":case"href":if(d===""&&(o!=="a"||l!=="href")){r.removeAttribute(l);break}if(d==null||typeof d=="function"||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Bi(""+d),r.setAttribute(l,d);break;case"action":case"formAction":if(typeof d=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(l==="formAction"?(o!=="input"&&Wt(r,o,"name",m.name,m,null),Wt(r,o,"formEncType",m.formEncType,m,null),Wt(r,o,"formMethod",m.formMethod,m,null),Wt(r,o,"formTarget",m.formTarget,m,null)):(Wt(r,o,"encType",m.encType,m,null),Wt(r,o,"method",m.method,m,null),Wt(r,o,"target",m.target,m,null)));if(d==null||typeof d=="symbol"||typeof d=="boolean"){r.removeAttribute(l);break}d=Bi(""+d),r.setAttribute(l,d);break;case"onClick":d!=null&&(r.onclick=kr);break;case"onScroll":d!=null&&Pt("scroll",r);break;case"onScrollEnd":d!=null&&Pt("scrollend",r);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=d&&typeof d!="function"&&typeof d!="symbol";break;case"muted":r.muted=d&&typeof d!="function"&&typeof d!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(d==null||typeof d=="function"||typeof d=="boolean"||typeof d=="symbol"){r.removeAttribute("xlink:href");break}l=Bi(""+d),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""+d):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":d&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":d===!0?r.setAttribute(l,""):d!==!1&&d!=null&&typeof d!="function"&&typeof d!="symbol"?r.setAttribute(l,d):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":d!=null&&typeof d!="function"&&typeof d!="symbol"&&!isNaN(d)&&1<=d?r.setAttribute(l,d):r.removeAttribute(l);break;case"rowSpan":case"start":d==null||typeof d=="function"||typeof d=="symbol"||isNaN(d)?r.removeAttribute(l):r.setAttribute(l,d);break;case"popover":Pt("beforetoggle",r),Pt("toggle",r),st(r,"popover",d);break;case"xlinkActuate":jn(r,"http://www.w3.org/1999/xlink","xlink:actuate",d);break;case"xlinkArcrole":jn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",d);break;case"xlinkRole":jn(r,"http://www.w3.org/1999/xlink","xlink:role",d);break;case"xlinkShow":jn(r,"http://www.w3.org/1999/xlink","xlink:show",d);break;case"xlinkTitle":jn(r,"http://www.w3.org/1999/xlink","xlink:title",d);break;case"xlinkType":jn(r,"http://www.w3.org/1999/xlink","xlink:type",d);break;case"xmlBase":jn(r,"http://www.w3.org/XML/1998/namespace","xml:base",d);break;case"xmlLang":jn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",d);break;case"xmlSpace":jn(r,"http://www.w3.org/XML/1998/namespace","xml:space",d);break;case"is":st(r,"is",d);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=xp.get(l)||l,st(r,l,d))}}function Vm(r,o,l,d,m,x){switch(l){case"style":Ru(r,d,x);break;case"dangerouslySetInnerHTML":if(d!=null){if(typeof d!="object"||!("__html"in d))throw Error(i(61));if(l=d.__html,l!=null){if(m.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof d=="string"?Co(r,d):(typeof d=="number"||typeof d=="bigint")&&Co(r,""+d);break;case"onScroll":d!=null&&Pt("scroll",r);break;case"onScrollEnd":d!=null&&Pt("scrollend",r);break;case"onClick":d!=null&&(r.onclick=kr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qn.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),o=l.slice(2,m?l.length-7:void 0),x=r[Ke]||null,x=x!=null?x[l]:null,typeof x=="function"&&r.removeEventListener(o,x,m),typeof d=="function")){typeof x!="function"&&x!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(o,d,m);break e}l in r?r[l]=d:d===!0?r.setAttribute(l,""):st(r,l,d)}}}function cr(r,o,l){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",r),Pt("load",r);var d=!1,m=!1,x;for(x in l)if(l.hasOwnProperty(x)){var T=l[x];if(T!=null)switch(x){case"src":d=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Wt(r,o,x,T,l,null)}}m&&Wt(r,o,"srcSet",l.srcSet,l,null),d&&Wt(r,o,"src",l.src,l,null);return;case"input":Pt("invalid",r);var k=x=T=m=null,Y=null,pe=null;for(d in l)if(l.hasOwnProperty(d)){var Te=l[d];if(Te!=null)switch(d){case"name":m=Te;break;case"type":T=Te;break;case"checked":Y=Te;break;case"defaultChecked":pe=Te;break;case"value":x=Te;break;case"defaultValue":k=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(i(137,o));break;default:Wt(r,o,d,Te,l,null)}}Zs(r,x,k,Y,pe,T,m,!1);return;case"select":Pt("invalid",r),d=T=x=null;for(m in l)if(l.hasOwnProperty(m)&&(k=l[m],k!=null))switch(m){case"value":x=k;break;case"defaultValue":T=k;break;case"multiple":d=k;default:Wt(r,o,m,k,l,null)}o=x,l=T,r.multiple=!!d,o!=null?Fi(r,!!d,o,!1):l!=null&&Fi(r,!!d,l,!0);return;case"textarea":Pt("invalid",r),x=m=d=null;for(T in l)if(l.hasOwnProperty(T)&&(k=l[T],k!=null))switch(T){case"value":d=k;break;case"defaultValue":m=k;break;case"children":x=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(i(91));break;default:Wt(r,o,T,k,l,null)}os(r,d,m,x);return;case"option":for(Y in l)l.hasOwnProperty(Y)&&(d=l[Y],d!=null)&&(Y==="selected"?r.selected=d&&typeof d!="function"&&typeof d!="symbol":Wt(r,o,Y,d,l,null));return;case"dialog":Pt("beforetoggle",r),Pt("toggle",r),Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":Pt("load",r);break;case"video":case"audio":for(d=0;d<gc.length;d++)Pt(gc[d],r);break;case"image":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"embed":case"source":case"link":Pt("error",r),Pt("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in l)if(l.hasOwnProperty(pe)&&(d=l[pe],d!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,o));default:Wt(r,o,pe,d,l,null)}return;default:if(Du(o)){for(Te in l)l.hasOwnProperty(Te)&&(d=l[Te],d!==void 0&&Vm(r,o,Te,d,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(d=l[k],d!=null&&Wt(r,o,k,d,l,null))}function bT(r,o,l,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,x=null,T=null,k=null,Y=null,pe=null,Te=null;for(we in l){var Re=l[we];if(l.hasOwnProperty(we)&&Re!=null)switch(we){case"checked":break;case"value":break;case"defaultValue":Y=Re;default:d.hasOwnProperty(we)||Wt(r,o,we,null,d,Re)}}for(var ve in d){var we=d[ve];if(Re=l[ve],d.hasOwnProperty(ve)&&(we!=null||Re!=null))switch(ve){case"type":x=we;break;case"name":m=we;break;case"checked":pe=we;break;case"defaultChecked":Te=we;break;case"value":T=we;break;case"defaultValue":k=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(i(137,o));break;default:we!==Re&&Wt(r,o,ve,we,d,Re)}}Zi(r,T,k,Y,pe,Te,x,m);return;case"select":we=T=k=ve=null;for(x in l)if(Y=l[x],l.hasOwnProperty(x)&&Y!=null)switch(x){case"value":break;case"multiple":we=Y;default:d.hasOwnProperty(x)||Wt(r,o,x,null,d,Y)}for(m in d)if(x=d[m],Y=l[m],d.hasOwnProperty(m)&&(x!=null||Y!=null))switch(m){case"value":ve=x;break;case"defaultValue":k=x;break;case"multiple":T=x;default:x!==Y&&Wt(r,o,m,x,d,Y)}o=k,l=T,d=we,ve!=null?Fi(r,!!l,ve,!1):!!d!=!!l&&(o!=null?Fi(r,!!l,o,!0):Fi(r,!!l,l?[]:"",!1));return;case"textarea":we=ve=null;for(k in l)if(m=l[k],l.hasOwnProperty(k)&&m!=null&&!d.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:Wt(r,o,k,null,d,m)}for(T in d)if(m=d[T],x=l[T],d.hasOwnProperty(T)&&(m!=null||x!=null))switch(T){case"value":ve=m;break;case"defaultValue":we=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==x&&Wt(r,o,T,m,d,x)}Pu(r,ve,we);return;case"option":for(var et in l)ve=l[et],l.hasOwnProperty(et)&&ve!=null&&!d.hasOwnProperty(et)&&(et==="selected"?r.selected=!1:Wt(r,o,et,null,d,ve));for(Y in d)ve=d[Y],we=l[Y],d.hasOwnProperty(Y)&&ve!==we&&(ve!=null||we!=null)&&(Y==="selected"?r.selected=ve&&typeof ve!="function"&&typeof ve!="symbol":Wt(r,o,Y,ve,d,we));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in l)ve=l[dt],l.hasOwnProperty(dt)&&ve!=null&&!d.hasOwnProperty(dt)&&Wt(r,o,dt,null,d,ve);for(pe in d)if(ve=d[pe],we=l[pe],d.hasOwnProperty(pe)&&ve!==we&&(ve!=null||we!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(i(137,o));break;default:Wt(r,o,pe,ve,d,we)}return;default:if(Du(o)){for(var Xt in l)ve=l[Xt],l.hasOwnProperty(Xt)&&ve!==void 0&&!d.hasOwnProperty(Xt)&&Vm(r,o,Xt,void 0,d,ve);for(Te in d)ve=d[Te],we=l[Te],!d.hasOwnProperty(Te)||ve===we||ve===void 0&&we===void 0||Vm(r,o,Te,ve,d,we);return}}for(var ue in l)ve=l[ue],l.hasOwnProperty(ue)&&ve!=null&&!d.hasOwnProperty(ue)&&Wt(r,o,ue,null,d,ve);for(Re in d)ve=d[Re],we=l[Re],!d.hasOwnProperty(Re)||ve===we||ve==null&&we==null||Wt(r,o,Re,ve,d,we)}function kx(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xT(){if(typeof performance.getEntriesByType=="function"){for(var r=0,o=0,l=performance.getEntriesByType("resource"),d=0;d<l.length;d++){var m=l[d],x=m.transferSize,T=m.initiatorType,k=m.duration;if(x&&k&&kx(T)){for(T=0,k=m.responseEnd,d+=1;d<l.length;d++){var Y=l[d],pe=Y.startTime;if(pe>k)break;var Te=Y.transferSize,Re=Y.initiatorType;Te&&kx(Re)&&(Y=Y.responseEnd,T+=Te*(Y<k?1:(k-pe)/(Y-pe)))}if(--d,o+=8*(x+T)/(m.duration/1e3),r++,10<r)break}}if(0<r)return o/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Ym=null,Km=null;function vf(r){return r.nodeType===9?r:r.ownerDocument}function zx(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lx(r,o){if(r===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&o==="foreignObject"?0:r}function Wm(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Xm=null;function wT(){var r=window.event;return r&&r.type==="popstate"?r===Xm?!1:(Xm=r,!0):(Xm=null,!1)}var Fx=typeof setTimeout=="function"?setTimeout:void 0,ST=typeof clearTimeout=="function"?clearTimeout:void 0,Bx=typeof Promise=="function"?Promise:void 0,CT=typeof queueMicrotask=="function"?queueMicrotask:typeof Bx<"u"?function(r){return Bx.resolve(null).then(r).catch(_T)}:Fx;function _T(r){setTimeout(function(){throw r})}function ja(r){return r==="head"}function Ux(r,o){var l=o,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(d===0){r.removeChild(m),Fl(o);return}d--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")d++;else if(l==="html")vc(r.ownerDocument.documentElement);else if(l==="head"){l=r.ownerDocument.head,vc(l);for(var x=l.firstChild;x;){var T=x.nextSibling,k=x.nodeName;x[Ut]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&x.rel.toLowerCase()==="stylesheet"||l.removeChild(x),x=T}}else l==="body"&&vc(r.ownerDocument.body);l=m}while(l);Fl(o)}function $x(r,o){var l=r;r=0;do{var d=l.nextSibling;if(l.nodeType===1?o?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(o?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),d&&d.nodeType===8)if(l=d.data,l==="/$"){if(r===0)break;r--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||r++;l=d}while(l)}function Qm(r){var o=r.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var l=o;switch(o=o.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Qm(l),cn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function ET(r,o,l,d){for(;r.nodeType===1;){var m=l;if(r.nodeName.toLowerCase()!==o.toLowerCase()){if(!d&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(d){if(!r[Ut])switch(o){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(x=r.getAttribute("rel"),x==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(x!==m.rel||r.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||r.getAttribute("title")!==(m.title==null?null:m.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(x=r.getAttribute("src"),(x!==(m.src==null?null:m.src)||r.getAttribute("type")!==(m.type==null?null:m.type)||r.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&x&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(o==="input"&&r.type==="hidden"){var x=m.name==null?null:""+m.name;if(m.type==="hidden"&&r.getAttribute("name")===x)return r}else return r;if(r=_i(r.nextSibling),r===null)break}return null}function OT(r,o,l){if(o==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=_i(r.nextSibling),r===null))return null;return r}function Hx(r,o){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=_i(r.nextSibling),r===null))return null;return r}function Zm(r){return r.data==="$?"||r.data==="$~"}function Jm(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function TT(r,o){var l=r.ownerDocument;if(r.data==="$~")r._reactRetry=o;else if(r.data!=="$?"||l.readyState!=="loading")o();else{var d=function(){o(),l.removeEventListener("DOMContentLoaded",d)};l.addEventListener("DOMContentLoaded",d),r._reactRetry=d}}function _i(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return r}var eg=null;function qx(r){r=r.nextSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"||l==="/&"){if(o===0)return _i(r.nextSibling);o--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||o++}r=r.nextSibling}return null}function Gx(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(o===0)return r;o--}else l!=="/$"&&l!=="/&"||o++}r=r.previousSibling}return null}function Vx(r,o,l){switch(o=vf(l),r){case"html":if(r=o.documentElement,!r)throw Error(i(452));return r;case"head":if(r=o.head,!r)throw Error(i(453));return r;case"body":if(r=o.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vc(r){for(var o=r.attributes;o.length;)r.removeAttributeNode(o[0]);cn(r)}var Ei=new Map,Yx=new Set;function bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Vo=W.d;W.d={f:MT,r:PT,D:RT,C:DT,L:AT,m:NT,X:jT,S:IT,M:kT};function MT(){var r=Vo.f(),o=cf();return r||o}function PT(r){var o=at(r);o!==null&&o.tag===5&&o.type==="form"?cb(o):Vo.r(r)}var kl=typeof document>"u"?null:document;function Kx(r,o,l){var d=kl;if(d&&typeof o=="string"&&o){var m=Zn(o);m='link[rel="'+r+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),Yx.has(m)||(Yx.add(m),r={rel:r,crossOrigin:l,href:o},d.querySelector(m)===null&&(o=d.createElement("link"),cr(o,"link",r),tn(o),d.head.appendChild(o)))}}function RT(r){Vo.D(r),Kx("dns-prefetch",r,null)}function DT(r,o){Vo.C(r,o),Kx("preconnect",r,o)}function AT(r,o,l){Vo.L(r,o,l);var d=kl;if(d&&r&&o){var m='link[rel="preload"][as="'+Zn(o)+'"]';o==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+Zn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+Zn(l.imageSizes)+'"]')):m+='[href="'+Zn(r)+'"]';var x=m;switch(o){case"style":x=zl(r);break;case"script":x=Ll(r)}Ei.has(x)||(r=y({rel:"preload",href:o==="image"&&l&&l.imageSrcSet?void 0:r,as:o},l),Ei.set(x,r),d.querySelector(m)!==null||o==="style"&&d.querySelector(bc(x))||o==="script"&&d.querySelector(xc(x))||(o=d.createElement("link"),cr(o,"link",r),tn(o),d.head.appendChild(o)))}}function NT(r,o){Vo.m(r,o);var l=kl;if(l&&r){var d=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+Zn(d)+'"][href="'+Zn(r)+'"]',x=m;switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=Ll(r)}if(!Ei.has(x)&&(r=y({rel:"modulepreload",href:r},o),Ei.set(x,r),l.querySelector(m)===null)){switch(d){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xc(x)))return}d=l.createElement("link"),cr(d,"link",r),tn(d),l.head.appendChild(d)}}}function IT(r,o,l){Vo.S(r,o,l);var d=kl;if(d&&r){var m=vn(d).hoistableStyles,x=zl(r);o=o||"default";var T=m.get(x);if(!T){var k={loading:0,preload:null};if(T=d.querySelector(bc(x)))k.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":o},l),(l=Ei.get(x))&&tg(r,l);var Y=T=d.createElement("link");tn(Y),cr(Y,"link",r),Y._p=new Promise(function(pe,Te){Y.onload=pe,Y.onerror=Te}),Y.addEventListener("load",function(){k.loading|=1}),Y.addEventListener("error",function(){k.loading|=2}),k.loading|=4,xf(T,o,d)}T={type:"stylesheet",instance:T,count:1,state:k},m.set(x,T)}}}function jT(r,o){Vo.X(r,o);var l=kl;if(l&&r){var d=vn(l).hoistableScripts,m=Ll(r),x=d.get(m);x||(x=l.querySelector(xc(m)),x||(r=y({src:r,async:!0},o),(o=Ei.get(m))&&ng(r,o),x=l.createElement("script"),tn(x),cr(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function kT(r,o){Vo.M(r,o);var l=kl;if(l&&r){var d=vn(l).hoistableScripts,m=Ll(r),x=d.get(m);x||(x=l.querySelector(xc(m)),x||(r=y({src:r,async:!0,type:"module"},o),(o=Ei.get(m))&&ng(r,o),x=l.createElement("script"),tn(x),cr(x,"link",r),l.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},d.set(m,x))}}function Wx(r,o,l,d){var m=(m=qe.current)?bf(m):null;if(!m)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(o=zl(l.href),l=vn(m).hoistableStyles,d=l.get(o),d||(d={type:"style",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=zl(l.href);var x=vn(m).hoistableStyles,T=x.get(r);if(T||(m=m.ownerDocument||m,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(r,T),(x=m.querySelector(bc(r)))&&!x._p&&(T.instance=x,T.state.loading=5),Ei.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Ei.set(r,l),x||zT(m,r,l,T.state))),o&&d===null)throw Error(i(528,""));return T}if(o&&d!==null)throw Error(i(529,""));return null;case"script":return o=l.async,l=l.src,typeof l=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ll(l),l=vn(m).hoistableScripts,d=l.get(o),d||(d={type:"script",instance:null,count:0,state:null},l.set(o,d)),d):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function zl(r){return'href="'+Zn(r)+'"'}function bc(r){return'link[rel="stylesheet"]['+r+"]"}function Xx(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function zT(r,o,l,d){r.querySelector('link[rel="preload"][as="style"]['+o+"]")?d.loading=1:(o=r.createElement("link"),d.preload=o,o.addEventListener("load",function(){return d.loading|=1}),o.addEventListener("error",function(){return d.loading|=2}),cr(o,"link",l),tn(o),r.head.appendChild(o))}function Ll(r){return'[src="'+Zn(r)+'"]'}function xc(r){return"script[async]"+r}function Qx(r,o,l){if(o.count++,o.instance===null)switch(o.type){case"style":var d=r.querySelector('style[data-href~="'+Zn(l.href)+'"]');if(d)return o.instance=d,tn(d),d;var m=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return d=(r.ownerDocument||r).createElement("style"),tn(d),cr(d,"style",m),xf(d,l.precedence,r),o.instance=d;case"stylesheet":m=zl(l.href);var x=r.querySelector(bc(m));if(x)return o.state.loading|=4,o.instance=x,tn(x),x;d=Xx(l),(m=Ei.get(m))&&tg(d,m),x=(r.ownerDocument||r).createElement("link"),tn(x);var T=x;return T._p=new Promise(function(k,Y){T.onload=k,T.onerror=Y}),cr(x,"link",d),o.state.loading|=4,xf(x,l.precedence,r),o.instance=x;case"script":return x=Ll(l.src),(m=r.querySelector(xc(x)))?(o.instance=m,tn(m),m):(d=l,(m=Ei.get(x))&&(d=y({},l),ng(d,m)),r=r.ownerDocument||r,m=r.createElement("script"),tn(m),cr(m,"link",d),r.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(i(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(d=o.instance,o.state.loading|=4,xf(d,l.precedence,r));return o.instance}function xf(r,o,l){for(var d=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=d.length?d[d.length-1]:null,x=m,T=0;T<d.length;T++){var k=d[T];if(k.dataset.precedence===o)x=k;else if(x!==m)break}x?x.parentNode.insertBefore(r,x.nextSibling):(o=l.nodeType===9?l.head:l,o.insertBefore(r,o.firstChild))}function tg(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.title==null&&(r.title=o.title)}function ng(r,o){r.crossOrigin==null&&(r.crossOrigin=o.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=o.referrerPolicy),r.integrity==null&&(r.integrity=o.integrity)}var wf=null;function Zx(r,o,l){if(wf===null){var d=new Map,m=wf=new Map;m.set(l,d)}else m=wf,d=m.get(l),d||(d=new Map,m.set(l,d));if(d.has(r))return d;for(d.set(r,null),l=l.getElementsByTagName(r),m=0;m<l.length;m++){var x=l[m];if(!(x[Ut]||x[He]||r==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var T=x.getAttribute(o)||"";T=r+T;var k=d.get(T);k?k.push(x):d.set(T,[x])}}return d}function Jx(r,o,l){r=r.ownerDocument||r,r.head.insertBefore(l,o==="title"?r.querySelector("head > title"):null)}function LT(r,o,l){if(l===1||o.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;return o.rel==="stylesheet"?(r=o.disabled,typeof o.precedence=="string"&&r==null):!0;case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function ew(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function FT(r,o,l,d){if(l.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=zl(d.href),x=o.querySelector(bc(m));if(x){o=x._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(r.count++,r=Sf.bind(r),o.then(r,r)),l.state.loading|=4,l.instance=x,tn(x);return}x=o.ownerDocument||o,d=Xx(d),(m=Ei.get(m))&&tg(d,m),x=x.createElement("link"),tn(x);var T=x;T._p=new Promise(function(k,Y){T.onload=k,T.onerror=Y}),cr(x,"link",d),l.instance=x}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(l,o),(o=l.state.preload)&&(l.state.loading&3)===0&&(r.count++,l=Sf.bind(r),o.addEventListener("load",l),o.addEventListener("error",l))}}var rg=0;function BT(r,o){return r.stylesheets&&r.count===0&&_f(r,r.stylesheets),0<r.count||0<r.imgCount?function(l){var d=setTimeout(function(){if(r.stylesheets&&_f(r,r.stylesheets),r.unsuspend){var x=r.unsuspend;r.unsuspend=null,x()}},6e4+o);0<r.imgBytes&&rg===0&&(rg=62500*xT());var m=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&_f(r,r.stylesheets),r.unsuspend)){var x=r.unsuspend;r.unsuspend=null,x()}},(r.imgBytes>rg?50:800)+o);return r.unsuspend=l,function(){r.unsuspend=null,clearTimeout(d),clearTimeout(m)}}:null}function Sf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Cf=null;function _f(r,o){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Cf=new Map,o.forEach(UT,r),Cf=null,Sf.call(r))}function UT(r,o){if(!(o.state.loading&4)){var l=Cf.get(r);if(l)var d=l.get(null);else{l=new Map,Cf.set(r,l);for(var m=r.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<m.length;x++){var T=m[x];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),d=T)}d&&l.set(null,d)}m=o.instance,T=m.getAttribute("data-precedence"),x=l.get(T)||d,x===d&&l.set(null,m),l.set(T,m),this.count++,d=Sf.bind(this),m.addEventListener("load",d),m.addEventListener("error",d),x?x.parentNode.insertBefore(m,x.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(m,r.firstChild)),o.state.loading|=4}}var wc={$$typeof:A,Provider:null,Consumer:null,_currentValue:V,_currentValue2:V,_threadCount:0};function $T(r,o,l,d,m,x,T,k,Y){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.hiddenUpdates=Cr(null),this.identifierPrefix=d,this.onUncaughtError=m,this.onCaughtError=x,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function tw(r,o,l,d,m,x,T,k,Y,pe,Te,Re){return r=new $T(r,o,l,T,Y,pe,Te,Re,k),o=1,x===!0&&(o|=24),x=ei(3,null,null,o),r.current=x,x.stateNode=r,o=kp(),o.refCount++,r.pooledCache=o,o.refCount++,x.memoizedState={element:d,isDehydrated:l,cache:o},Bp(x),r}function nw(r){return r?(r=zr,r):zr}function rw(r,o,l,d,m,x){m=nw(m),d.context===null?d.context=m:d.pendingContext=m,d=_a(o),d.payload={element:l},x=x===void 0?null:x,x!==null&&(d.callback=x),l=Ea(r,d,o),l!==null&&($r(l,r,o),Ju(l,r,o))}function iw(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function ig(r,o){iw(r,o),(r=r.alternate)&&iw(r,o)}function ow(r){if(r.tag===13||r.tag===31){var o=bn(r,67108864);o!==null&&$r(o,r,67108864),ig(r,67108864)}}function aw(r){if(r.tag===13||r.tag===31){var o=oi();o=be(o);var l=bn(r,o);l!==null&&$r(l,r,o),ig(r,o)}}var Ef=!0;function HT(r,o,l,d){var m=B.T;B.T=null;var x=W.p;try{W.p=2,og(r,o,l,d)}finally{W.p=x,B.T=m}}function qT(r,o,l,d){var m=B.T;B.T=null;var x=W.p;try{W.p=8,og(r,o,l,d)}finally{W.p=x,B.T=m}}function og(r,o,l,d){if(Ef){var m=ag(d);if(m===null)Gm(r,o,d,Of,l),lw(r,d);else if(VT(m,r,o,l,d))d.stopPropagation();else if(lw(r,d),o&4&&-1<GT.indexOf(r)){for(;m!==null;){var x=at(m);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var T=or(x.pendingLanes);if(T!==0){var k=x;for(k.pendingLanes|=2,k.entangledLanes|=2;T;){var Y=1<<31-Ge(T);k.entanglements[1]|=Y,T&=~Y}oo(x),(Ht&6)===0&&(lf=Bt()+500,mc(0))}}break;case 31:case 13:k=bn(x,2),k!==null&&$r(k,x,2),cf(),ig(x,2)}if(x=ag(d),x===null&&Gm(r,o,d,Of,l),x===m)break;m=x}m!==null&&d.stopPropagation()}else Gm(r,o,d,null,l)}}function ag(r){return r=Js(r),sg(r)}var Of=null;function sg(r){if(Of=null,r=sn(r),r!==null){var o=s(r);if(o===null)r=null;else{var l=o.tag;if(l===13){if(r=u(o),r!==null)return r;r=null}else if(l===31){if(r=c(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null)}}return Of=r,null}function sw(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qt()){case Yn:return 2;case lt:return 8;case Sn:case En:return 32;case Dn:return 268435456;default:return 32}default:return 32}}var lg=!1,ka=null,za=null,La=null,Sc=new Map,Cc=new Map,Fa=[],GT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lw(r,o){switch(r){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":za=null;break;case"mouseover":case"mouseout":La=null;break;case"pointerover":case"pointerout":Sc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cc.delete(o.pointerId)}}function _c(r,o,l,d,m,x){return r===null||r.nativeEvent!==x?(r={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:x,targetContainers:[m]},o!==null&&(o=at(o),o!==null&&ow(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),r)}function VT(r,o,l,d,m){switch(o){case"focusin":return ka=_c(ka,r,o,l,d,m),!0;case"dragenter":return za=_c(za,r,o,l,d,m),!0;case"mouseover":return La=_c(La,r,o,l,d,m),!0;case"pointerover":var x=m.pointerId;return Sc.set(x,_c(Sc.get(x)||null,r,o,l,d,m)),!0;case"gotpointercapture":return x=m.pointerId,Cc.set(x,_c(Cc.get(x)||null,r,o,l,d,m)),!0}return!1}function uw(r){var o=sn(r.target);if(o!==null){var l=s(o);if(l!==null){if(o=l.tag,o===13){if(o=u(l),o!==null){r.blockedOn=o,tt(r.priority,function(){aw(l)});return}}else if(o===31){if(o=c(l),o!==null){r.blockedOn=o,tt(r.priority,function(){aw(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tf(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=ag(r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);gi=d,l.target.dispatchEvent(d),gi=null}else return o=at(l),o!==null&&ow(o),r.blockedOn=l,!1;o.shift()}return!0}function cw(r,o,l){Tf(r)&&l.delete(o)}function YT(){lg=!1,ka!==null&&Tf(ka)&&(ka=null),za!==null&&Tf(za)&&(za=null),La!==null&&Tf(La)&&(La=null),Sc.forEach(cw),Cc.forEach(cw)}function Mf(r,o){r.blockedOn===o&&(r.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,YT)))}var Pf=null;function dw(r){Pf!==r&&(Pf=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Pf===r&&(Pf=null);for(var o=0;o<r.length;o+=3){var l=r[o],d=r[o+1],m=r[o+2];if(typeof d!="function"){if(sg(d||l)===null)continue;break}var x=at(l);x!==null&&(r.splice(o,3),o-=3,am(x,{pending:!0,data:m,method:l.method,action:d},d,m))}}))}function Fl(r){function o(Y){return Mf(Y,r)}ka!==null&&Mf(ka,r),za!==null&&Mf(za,r),La!==null&&Mf(La,r),Sc.forEach(o),Cc.forEach(o);for(var l=0;l<Fa.length;l++){var d=Fa[l];d.blockedOn===r&&(d.blockedOn=null)}for(;0<Fa.length&&(l=Fa[0],l.blockedOn===null);)uw(l),l.blockedOn===null&&Fa.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(d=0;d<l.length;d+=3){var m=l[d],x=l[d+1],T=m[Ke]||null;if(typeof x=="function")T||dw(l);else if(T){var k=null;if(x&&x.hasAttribute("formAction")){if(m=x,T=x[Ke]||null)k=T.formAction;else if(sg(m)!==null)continue}else k=T.action;typeof k=="function"?l[d+1]=k:(l.splice(d,3),d-=3),dw(l)}}}function fw(){function r(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(T){return m=T})},focusReset:"manual",scroll:"manual"})}function o(){m!==null&&(m(),m=null),d||setTimeout(l,20)}function l(){if(!d&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var d=!1,m=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(l,100),function(){d=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),m!==null&&(m(),m=null)}}}function ug(r){this._internalRoot=r}Rf.prototype.render=ug.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(i(409));var l=o.current,d=oi();rw(l,d,r,o,null,null)},Rf.prototype.unmount=ug.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;rw(r.current,2,null,r,null,null),cf(),o[Qe]=null}};function Rf(r){this._internalRoot=r}Rf.prototype.unstable_scheduleHydration=function(r){if(r){var o=Fe();r={blockedOn:null,target:r,priority:o};for(var l=0;l<Fa.length&&o!==0&&o<Fa[l].priority;l++);Fa.splice(l,0,r),l===0&&uw(r)}};var hw=e.version;if(hw!=="19.2.3")throw Error(i(527,hw,"19.2.3"));W.findDOMNode=function(r){var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=h(o),r=r!==null?g(r):null,r=r===null?null:r.stateNode,r};var KT={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Df.isDisabled&&Df.supportsFiber)try{Nr=Df.inject(KT),Gt=Df}catch{}}return Oc.createRoot=function(r,o){if(!a(r))throw Error(i(299));var l=!1,d="",m=xb,x=wb,T=Sb;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(x=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError)),o=tw(r,1,!1,null,null,l,d,null,m,x,T,fw),r[Qe]=o.current,qm(r),new ug(o)},Oc.hydrateRoot=function(r,o,l){if(!a(r))throw Error(i(299));var d=!1,m="",x=xb,T=wb,k=Sb,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(x=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(Y=l.formState)),o=tw(r,1,!0,o,l??null,d,m,Y,x,T,k,fw),o.context=nw(null),l=o.current,d=oi(),d=be(d),m=_a(d),m.callback=null,Ea(l,m,d),l=d,o.current.lanes=l,_r(o,l),oo(o),r[Qe]=o.current,qm(r),new Rf(o)},Oc.version="19.2.3",Oc}var Cw;function oM(){if(Cw)return fg.exports;Cw=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=iM(),fg.exports}var aM=oM(),so=function(){return so=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},so.apply(this,arguments)};function eC(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function sM(t,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,s;i<a;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return t.concat(s||Array.prototype.slice.call(e))}var Xf="right-scroll-bar-position",Qf="width-before-scroll-bar",lM="with-scroll-bars-hidden",uM="--removed-body-scroll-bar-size";function gg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function cM(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(i){var a=n.value;a!==i&&(n.value=i,n.callback(i,a))}}}})[0];return n.callback=e,n.facade}var dM=typeof window<"u"?S.useLayoutEffect:S.useEffect,_w=new WeakMap;function fM(t,e){var n=cM(null,function(i){return t.forEach(function(a){return gg(a,i)})});return dM(function(){var i=_w.get(n);if(i){var a=new Set(i),s=new Set(t),u=n.current;a.forEach(function(c){s.has(c)||gg(c,null)}),s.forEach(function(c){a.has(c)||gg(c,u)})}_w.set(n,t)},[t]),n}function hM(t){return t}function pM(t,e){e===void 0&&(e=hM);var n=[],i=!1,a={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var u=e(s,i);return n.push(u),function(){n=n.filter(function(c){return c!==u})}},assignSyncMedium:function(s){for(i=!0;n.length;){var u=n;n=[],u.forEach(s)}n={push:function(c){return s(c)},filter:function(){return n}}},assignMedium:function(s){i=!0;var u=[];if(n.length){var c=n;n=[],c.forEach(s),u=n}var f=function(){var g=u;u=[],g.forEach(s)},h=function(){return Promise.resolve().then(f)};h(),n={push:function(g){u.push(g),h()},filter:function(g){return u=u.filter(g),n}}}};return a}function mM(t){t===void 0&&(t={});var e=pM(null);return e.options=so({async:!0,ssr:!1},t),e}var tC=function(t){var e=t.sideCar,n=eC(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=e.read();if(!i)throw new Error("Sidecar medium not found");return S.createElement(i,so({},n))};tC.isSideCarExport=!0;function gM(t,e){return t.useMedium(e),tC}var nC=mM(),yg=function(){},Mh=S.forwardRef(function(t,e){var n=S.useRef(null),i=S.useState({onScrollCapture:yg,onWheelCapture:yg,onTouchMoveCapture:yg}),a=i[0],s=i[1],u=t.forwardProps,c=t.children,f=t.className,h=t.removeScrollBar,g=t.enabled,y=t.shards,v=t.sideCar,w=t.noRelative,_=t.noIsolation,E=t.inert,P=t.allowPinchZoom,N=t.as,D=N===void 0?"div":N,A=t.gapMode,z=eC(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=v,G=fM([n,e]),j=so(so({},z),a);return S.createElement(S.Fragment,null,g&&S.createElement(L,{sideCar:nC,removeScrollBar:h,shards:y,noRelative:w,noIsolation:_,inert:E,setCallbacks:s,allowPinchZoom:!!P,lockRef:n,gapMode:A}),u?S.cloneElement(S.Children.only(c),so(so({},j),{ref:G})):S.createElement(D,so({},j,{className:f,ref:G}),c))});Mh.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mh.classNames={fullWidth:Qf,zeroRight:Xf};var yM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vM(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=yM();return e&&t.setAttribute("nonce",e),t}function bM(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function xM(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var wM=function(){var t=0,e=null;return{add:function(n){t==0&&(e=vM())&&(bM(e,n),xM(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},SM=function(){var t=wM();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},rC=function(){var t=SM(),e=function(n){var i=n.styles,a=n.dynamic;return t(i,a),null};return e},CM={left:0,top:0,right:0,gap:0},vg=function(t){return parseInt(t||"",10)||0},_M=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],i=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[vg(n),vg(i),vg(a)]},EM=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return CM;var e=_M(t),n=document.documentElement.clientWidth,i=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,i-n+e[2]-e[0])}},OM=rC(),eu="data-scroll-locked",TM=function(t,e,n,i){var a=t.left,s=t.top,u=t.right,c=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(lM,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(c,"px ").concat(i,`;
  }
  body[`).concat(eu,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(i,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(i,`;
    `),n==="padding"&&"padding-right: ".concat(c,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xf,` {
    right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Qf,` {
    margin-right: `).concat(c,"px ").concat(i,`;
  }
  
  .`).concat(Xf," .").concat(Xf,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(Qf," .").concat(Qf,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(eu,`] {
    `).concat(uM,": ").concat(c,`px;
  }
`)},Ew=function(){var t=parseInt(document.body.getAttribute(eu)||"0",10);return isFinite(t)?t:0},MM=function(){S.useEffect(function(){return document.body.setAttribute(eu,(Ew()+1).toString()),function(){var t=Ew()-1;t<=0?document.body.removeAttribute(eu):document.body.setAttribute(eu,t.toString())}},[])},PM=function(t){var e=t.noRelative,n=t.noImportant,i=t.gapMode,a=i===void 0?"margin":i;MM();var s=S.useMemo(function(){return EM(a)},[a]);return S.createElement(OM,{styles:TM(s,!e,a,n?"":"!important")})},Wg=!1;if(typeof window<"u")try{var Af=Object.defineProperty({},"passive",{get:function(){return Wg=!0,!0}});window.addEventListener("test",Af,Af),window.removeEventListener("test",Af,Af)}catch{Wg=!1}var Bl=Wg?{passive:!1}:!1,RM=function(t){return t.tagName==="TEXTAREA"},iC=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!RM(t)&&n[e]==="visible")},DM=function(t){return iC(t,"overflowY")},AM=function(t){return iC(t,"overflowX")},Ow=function(t,e){var n=e.ownerDocument,i=e;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var a=oC(t,i);if(a){var s=aC(t,i),u=s[1],c=s[2];if(u>c)return!0}i=i.parentNode}while(i&&i!==n.body);return!1},NM=function(t){var e=t.scrollTop,n=t.scrollHeight,i=t.clientHeight;return[e,n,i]},IM=function(t){var e=t.scrollLeft,n=t.scrollWidth,i=t.clientWidth;return[e,n,i]},oC=function(t,e){return t==="v"?DM(e):AM(e)},aC=function(t,e){return t==="v"?NM(e):IM(e)},jM=function(t,e){return t==="h"&&e==="rtl"?-1:1},kM=function(t,e,n,i,a){var s=jM(t,window.getComputedStyle(e).direction),u=s*i,c=n.target,f=e.contains(c),h=!1,g=u>0,y=0,v=0;do{if(!c)break;var w=aC(t,c),_=w[0],E=w[1],P=w[2],N=E-P-s*_;(_||N)&&oC(t,c)&&(y+=N,v+=_);var D=c.parentNode;c=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(g&&Math.abs(y)<1||!g&&Math.abs(v)<1)&&(h=!0),h},Nf=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Tw=function(t){return[t.deltaX,t.deltaY]},Mw=function(t){return t&&"current"in t?t.current:t},zM=function(t,e){return t[0]===e[0]&&t[1]===e[1]},LM=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},FM=0,Ul=[];function BM(t){var e=S.useRef([]),n=S.useRef([0,0]),i=S.useRef(),a=S.useState(FM++)[0],s=S.useState(rC)[0],u=S.useRef(t);S.useEffect(function(){u.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var E=sM([t.lockRef.current],(t.shards||[]).map(Mw),!0).filter(Boolean);return E.forEach(function(P){return P.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),E.forEach(function(P){return P.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=S.useCallback(function(E,P){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!u.current.allowPinchZoom;var N=Nf(E),D=n.current,A="deltaX"in E?E.deltaX:D[0]-N[0],z="deltaY"in E?E.deltaY:D[1]-N[1],L,G=E.target,j=Math.abs(A)>Math.abs(z)?"h":"v";if("touches"in E&&j==="h"&&G.type==="range")return!1;var U=window.getSelection(),ie=U&&U.anchorNode,se=ie?ie===G||ie.contains(G):!1;if(se)return!1;var de=Ow(j,G);if(!de)return!0;if(de?L=j:(L=j==="v"?"h":"v",de=Ow(j,G)),!de)return!1;if(!i.current&&"changedTouches"in E&&(A||z)&&(i.current=L),!L)return!0;var me=i.current||L;return kM(me,P,E,me==="h"?A:z)},[]),f=S.useCallback(function(E){var P=E;if(!(!Ul.length||Ul[Ul.length-1]!==s)){var N="deltaY"in P?Tw(P):Nf(P),D=e.current.filter(function(L){return L.name===P.type&&(L.target===P.target||P.target===L.shadowParent)&&zM(L.delta,N)})[0];if(D&&D.should){P.cancelable&&P.preventDefault();return}if(!D){var A=(u.current.shards||[]).map(Mw).filter(Boolean).filter(function(L){return L.contains(P.target)}),z=A.length>0?c(P,A[0]):!u.current.noIsolation;z&&P.cancelable&&P.preventDefault()}}},[]),h=S.useCallback(function(E,P,N,D){var A={name:E,delta:P,target:N,should:D,shadowParent:UM(N)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(z){return z!==A})},1)},[]),g=S.useCallback(function(E){n.current=Nf(E),i.current=void 0},[]),y=S.useCallback(function(E){h(E.type,Tw(E),E.target,c(E,t.lockRef.current))},[]),v=S.useCallback(function(E){h(E.type,Nf(E),E.target,c(E,t.lockRef.current))},[]);S.useEffect(function(){return Ul.push(s),t.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:v}),document.addEventListener("wheel",f,Bl),document.addEventListener("touchmove",f,Bl),document.addEventListener("touchstart",g,Bl),function(){Ul=Ul.filter(function(E){return E!==s}),document.removeEventListener("wheel",f,Bl),document.removeEventListener("touchmove",f,Bl),document.removeEventListener("touchstart",g,Bl)}},[]);var w=t.removeScrollBar,_=t.inert;return S.createElement(S.Fragment,null,_?S.createElement(s,{styles:LM(a)}):null,w?S.createElement(PM,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function UM(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const $M=gM(nC,BM);var ks=S.forwardRef(function(t,e){return S.createElement(Mh,so({},t,{ref:e,sideCar:$M}))});ks.classNames=Mh.classNames;function dr(t){return Object.keys(t)}function bg(t){return t&&typeof t=="object"&&!Array.isArray(t)}function jy(t,e){const n={...t},i=e;return bg(t)&&bg(e)&&Object.keys(e).forEach(a=>{bg(i[a])&&a in t?n[a]=jy(n[a],i[a]):n[a]=i[a]}),n}function HM(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function qM(t){return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:t.match(/^calc\((.*?)\)$/)?.[1].split("*")[0].trim()}function Xg(t){const e=qM(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function Pw(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function sC(t,{shouldScale:e=!1}={}){function n(i){if(i===0||i==="0")return`0${t}`;if(typeof i=="number"){const a=`${i/16}${t}`;return e?Pw(a):a}if(typeof i=="string"){if(i===""||i.startsWith("calc(")||i.startsWith("clamp(")||i.includes("rgba("))return i;if(i.includes(","))return i.split(",").map(s=>n(s)).join(",");if(i.includes(" "))return i.split(" ").map(s=>n(s)).join(" ");const a=i.replace("px","");if(!Number.isNaN(Number(a))){const s=`${Number(a)/16}${t}`;return e?Pw(s):s}}return i}return n}const _e=sC("rem",{shouldScale:!0}),lh=sC("em");function ky(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function lC(t){if(typeof t=="number")return!0;if(typeof t=="string"){if(t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!=="")return!0;const e=/^[+-]?[0-9]+(\.[0-9]+)?(px|em|rem|ex|ch|lh|rlh|vw|vh|vmin|vmax|vb|vi|svw|svh|lvw|lvh|dvw|dvh|cm|mm|in|pt|pc|q|cqw|cqh|cqi|cqb|cqmin|cqmax|%)?$/;return t.trim().split(/\s+/).every(i=>e.test(i))}return!1}function uC(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==S.Fragment:!1}function go(t){const e=S.createContext(null);return[({children:a,value:s})=>M.jsx(e.Provider,{value:s,children:a}),()=>{const a=S.useContext(e);if(a===null)throw new Error(t);return a}]}function mu(t=null){const e=S.createContext(t);return[({children:a,value:s})=>M.jsx(e.Provider,{value:s,children:a}),()=>S.useContext(e)]}function Rw(t,e){return n=>{if(typeof n!="string"||n.trim().length===0)throw new Error(e);return`${t}-${n}`}}function Qg(t,e){let n=t;for(;(n=n.parentElement)&&!n.matches(e););return n}function GM(t,e,n){for(let i=t-1;i>=0;i-=1)if(!e[i].disabled)return i;if(n){for(let i=e.length-1;i>-1;i-=1)if(!e[i].disabled)return i}return t}function VM(t,e,n){for(let i=t+1;i<e.length;i+=1)if(!e[i].disabled)return i;if(n){for(let i=0;i<e.length;i+=1)if(!e[i].disabled)return i}return t}function YM(t,e,n){return Qg(t,n)===Qg(e,n)}function KM({parentSelector:t,siblingSelector:e,onKeyDown:n,loop:i=!0,activateOnFocus:a=!1,dir:s="rtl",orientation:u}){return c=>{n?.(c);const f=Array.from(Qg(c.currentTarget,t)?.querySelectorAll(e)||[]).filter(v=>YM(c.currentTarget,v,t)),h=f.findIndex(v=>c.currentTarget===v),g=VM(h,f,i),y=GM(h,f,i);switch(c.key){case"ArrowRight":break;case"ArrowLeft":break;case"ArrowUp":{c.stopPropagation(),c.preventDefault(),f[y].focus(),a&&f[y].click();break}case"ArrowDown":{c.stopPropagation(),c.preventDefault(),f[g].focus(),a&&f[g].click();break}case"Home":{c.stopPropagation(),c.preventDefault(),!f[0].disabled&&f[0].focus();break}case"End":{c.stopPropagation(),c.preventDefault();const v=f.length-1;!f[v].disabled&&f[v].focus();break}}}}const WM={app:100,modal:200,popover:300,overlay:400,max:9999};function Ki(t){return WM[t]}const XM=()=>{};function QM(t,e={active:!0}){return typeof t!="function"||!e.active?e.onKeyDown||XM:n=>{n.key==="Escape"&&(t(n),e.onTrigger?.())}}function kt(t,e="size",n=!0){if(t!==void 0)return lC(t)?n?_e(t):t:`var(--${e}-${t})`}function Bs(t){return kt(t,"mantine-spacing")}function In(t){return t===void 0?"var(--mantine-radius-default)":kt(t,"mantine-radius")}function xr(t){return kt(t,"mantine-font-size")}function ZM(t){return kt(t,"mantine-line-height",!1)}function zy(t){if(t)return kt(t,"mantine-shadow",!1)}function Ly(t,e){return t in e?Xg(e[t]):Xg(t)}function Dw(t,e){const n=t.map(i=>({value:i,px:Ly(i,e)}));return n.sort((i,a)=>i.px-a.px),n}function cC(t="mantine-"){return`${t}${Math.random().toString(36).slice(2,11)}`}function Rs(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>((...n)=>e.current?.(...n)),[])}function Ph(t,e){const{delay:n,flushOnUnmount:i,leading:a}=typeof e=="number"?{delay:e,flushOnUnmount:!1,leading:!1}:e,s=Rs(t),u=S.useRef(0),c=S.useMemo(()=>{const f=Object.assign((...h)=>{window.clearTimeout(u.current);const g=f._isFirstCall;f._isFirstCall=!1;function y(){window.clearTimeout(u.current),u.current=0,f._isFirstCall=!0}if(a&&g){s(...h);const _=()=>{y()},E=()=>{u.current!==0&&(y(),s(...h))},P=()=>{y()};f.flush=E,f.cancel=P,u.current=window.setTimeout(_,n);return}if(a&&!g){const _=()=>{u.current!==0&&(y(),s(...h))},E=()=>{y()};f.flush=_,f.cancel=E;const P=()=>{y()};u.current=window.setTimeout(P,n);return}const v=()=>{u.current!==0&&(y(),s(...h))},w=()=>{y()};f.flush=v,f.cancel=w,u.current=window.setTimeout(v,n)},{flush:()=>{},cancel:()=>{},_isFirstCall:!0});return f},[s,n,a]);return S.useEffect(()=>()=>{i?c.flush():c.cancel()},[c,i]),c}const JM=["mousedown","touchstart"];function eP(t,e,n){const i=S.useRef(null),a=e||JM;return S.useEffect(()=>{const s=u=>{const{target:c}=u??{};if(Array.isArray(n)){const f=!document.body.contains(c)&&c?.tagName!=="HTML";n.every(g=>!!g&&!u.composedPath().includes(g))&&!f&&t(u)}else i.current&&!i.current.contains(c)&&t(u)};return a.forEach(u=>document.addEventListener(u,s)),()=>{a.forEach(u=>document.removeEventListener(u,s))}},[i,t,n]),i}function tP(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function nP(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function rP(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[i,a]=S.useState(n?e:nP(t));return S.useEffect(()=>{try{const s=window.matchMedia(t);return a(s.matches),tP(s,u=>a(u.matches))}catch{return}},[t]),i||!1}const Za=typeof document<"u"?S.useLayoutEffect:S.useEffect;function zs(t,e){const n=S.useRef(!1);S.useEffect(()=>()=>{n.current=!1},[]),S.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function dC({opened:t,shouldReturnFocus:e=!0}){const n=S.useRef(null),i=()=>{n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&n.current?.focus({preventScroll:!0})};return zs(()=>{let a=-1;const s=u=>{u.key==="Tab"&&window.clearTimeout(a)};return document.addEventListener("keydown",s),t?n.current=document.activeElement:e&&(a=window.setTimeout(i,10)),()=>{window.clearTimeout(a),document.removeEventListener("keydown",s)}},[t,e]),i}const iP=/input|select|textarea|button|object/,fC="a, input, select, textarea, button, object, [tabindex]";function oP(t){return t.style.display==="none"}function aP(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(oP(n))return!1;n=n.parentNode}return!0}function hC(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function Zg(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(hC(t));return(iP.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&aP(t)}function pC(t){const e=hC(t);return(Number.isNaN(e)||e>=0)&&Zg(t)}function sP(t){return Array.from(t.querySelectorAll(fC)).filter(pC)}function lP(t,e){const n=sP(t);if(!n.length){e.preventDefault();return}const i=n[e.shiftKey?0:n.length-1],a=t.getRootNode();let s=i===a.activeElement||t===a.activeElement;const u=a.activeElement;if(u.tagName==="INPUT"&&u.getAttribute("type")==="radio"&&(s=n.filter(g=>g.getAttribute("type")==="radio"&&g.getAttribute("name")===u.getAttribute("name")).includes(i)),!s)return;e.preventDefault();const f=n[e.shiftKey?n.length-1:0];f&&f.focus()}function uP(t=!0){const e=S.useRef(null),n=a=>{let s=a.querySelector("[data-autofocus]");if(!s){const u=Array.from(a.querySelectorAll(fC));s=u.find(pC)||u.find(Zg)||null,!s&&Zg(a)&&(s=a)}s&&s.focus({preventScroll:!0})},i=S.useCallback(a=>{t&&a!==null&&e.current!==a&&(a?(setTimeout(()=>{a.getRootNode()&&n(a)}),e.current=a):e.current=null)},[t]);return S.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>n(e.current));const a=s=>{s.key==="Tab"&&e.current&&lP(e.current,s)};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t]),i}const cP=t=>(t+1)%1e6;function dP(){const[,t]=S.useReducer(cP,0);return t}const fP=Rn.useId||(()=>{});function hP(){const t=fP();return t?`mantine-${t.replace(/:/g,"")}`:""}function Ai(t){const e=hP(),[n,i]=S.useState(e);return Za(()=>{i(cC())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function mC(t,e,{autoInvoke:n=!1}={}){const[i,a]=S.useState(!1),s=S.useRef(null),u=S.useRef(null),c=S.useCallback(()=>{a(g=>(!g&&(!s.current||s.current===-1)&&(s.current=window.setInterval(u.current,e)),!0))},[]),f=S.useCallback(()=>{a(!1),window.clearInterval(s.current||-1),s.current=-1},[]),h=S.useCallback(()=>{i?f():c()},[i]);return S.useEffect(()=>(u.current=t,i&&c(),f),[t,i,e]),S.useEffect(()=>{n&&c()},[]),{start:c,stop:f,toggle:h,active:i}}function uh(t,e,n){S.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function Jg(t,e){if(typeof t=="function")return t(e);typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function gC(...t){const e=new Map;return n=>{if(t.forEach(i=>{const a=Jg(i,n);a&&e.set(i,a)}),e.size>0)return()=>{t.forEach(i=>{const a=e.get(i);a&&typeof a=="function"?a():Jg(i,null)}),e.clear()}}}function Wr(...t){return S.useCallback(gC(...t),t)}function Xa({value:t,defaultValue:e,finalValue:n,onChange:i=()=>{}}){const[a,s]=S.useState(e!==void 0?e:n),u=(c,...f)=>{s(c),i?.(c,...f)};return t!==void 0?[t,i,!0]:[a,u,!1]}function Rh(t,e){return rP("(prefers-reduced-motion: reduce)",t,e)}function yC(t=!1,e={}){const[n,i]=S.useState(t),a=S.useCallback(()=>{i(c=>c||(e.onOpen?.(),!0))},[e.onOpen]),s=S.useCallback(()=>{i(c=>c&&(e.onClose?.(),!1))},[e.onClose]),u=S.useCallback(()=>{n?s():a()},[s,a,n]);return[n,{open:a,close:s,toggle:u}]}function If(){if(typeof navigator>"u")return{};const t=navigator,e=t.connection||t.mozConnection||t.webkitConnection;return e?{downlink:e?.downlink,downlinkMax:e?.downlinkMax,effectiveType:e?.effectiveType,rtt:e?.rtt,saveData:e?.saveData,type:e?.type}:{}}function pP(){const[t,e]=S.useState({online:!0}),n=S.useCallback(()=>e(i=>({...i,...If()})),[]);return uh("online",()=>e({online:!0,...If()})),uh("offline",()=>e({online:!1,...If()})),S.useEffect(()=>{const i=navigator;if(i.connection)return e({online:i.onLine,...If()}),i.connection.addEventListener("change",n),()=>i.connection.removeEventListener("change",n);typeof i.onLine=="boolean"&&e(a=>({...a,online:i.onLine}))},[]),t}function mP(t){const e=S.useRef(void 0);return S.useEffect(()=>{e.current=t},[t]),e.current}function gP(t,e,n){const i=S.useRef(null),a=S.useRef(null);return S.useEffect(()=>{const s=typeof n=="function"?n():n;return(s||a.current)&&(i.current=new MutationObserver(t),i.current.observe(s||a.current,e)),()=>{i.current?.disconnect()}},[t,e]),a}function Dh(t){const e=Rn.version;return typeof Rn.version!="string"||e.startsWith("18.")?t?.ref:t?.props?.ref}function Zf(t,e=document){const n=e.querySelector(t);if(n)return n;const i=e.querySelectorAll("*");for(let a=0;a<i.length;a+=1){const s=i[a];if(s.shadowRoot){const u=Zf(t,s.shadowRoot);if(u)return u}}return null}function $a(t,e=document){const n=[],i=e.querySelectorAll(t);n.push(...Array.from(i));const a=e.querySelectorAll("*");for(let s=0;s<a.length;s+=1){const u=a[s];if(u.shadowRoot){const c=$a(t,u.shadowRoot);n.push(...c)}}return n}function Ua(t){if(!t)return document;const e=t.getRootNode();return e instanceof ShadowRoot||e instanceof Document?e:document}function gu(t){const e=S.Children.toArray(t);return e.length!==1||!uC(e[0])?null:e[0]}function vC(t){var e,n,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=vC(t[e]))&&(i&&(i+=" "),i+=n)}else for(n in t)t[n]&&(i&&(i+=" "),i+=n);return i}function qn(){for(var t,e,n=0,i="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=vC(t))&&(i&&(i+=" "),i+=e);return i}const yP={};function vP(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([i,a])=>{e[i]?e[i]=qn(e[i],a):e[i]=a})}),e}function Ah({theme:t,classNames:e,props:n,stylesCtx:i}){const s=(Array.isArray(e)?e:[e]).map(u=>typeof u=="function"?u(t,n,i):u||yP);return vP(s)}function ch({theme:t,styles:e,props:n,stylesCtx:i}){return(Array.isArray(e)?e:[e]).reduce((s,u)=>typeof u=="function"?{...s,...u(t,n,i)}:{...s,...u},{})}const bC=S.createContext(null);function ta(){const t=S.useContext(bC);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function bP(){return ta().cssVariablesResolver}function xP(){return ta().classNamesPrefix}function Fy(){return ta().getStyleNonce}function wP(){return ta().withStaticClasses}function SP(){return ta().headless}function CP(){return ta().stylesTransform?.sx}function _P(){return ta().stylesTransform?.styles}function Nh(){return ta().env||"default"}function EP(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function OP(t){let e=t.replace("#","");if(e.length===3){const u=e.split("");e=[u[0],u[0],u[1],u[1],u[2],u[2]].join("")}if(e.length===8){const u=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:u}}const n=parseInt(e,16),i=n>>16&255,a=n>>8&255,s=n&255;return{r:i,g:a,b:s,a:1}}function TP(t){const[e,n,i,a]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:i,a:a===void 0?1:a}}function MP(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const i=parseInt(n[1],10),a=parseInt(n[2],10)/100,s=parseInt(n[3],10)/100,u=n[5]?parseFloat(n[5]):void 0,c=(1-Math.abs(2*s-1))*a,f=i/60,h=c*(1-Math.abs(f%2-1)),g=s-c/2;let y,v,w;return f>=0&&f<1?(y=c,v=h,w=0):f>=1&&f<2?(y=h,v=c,w=0):f>=2&&f<3?(y=0,v=c,w=h):f>=3&&f<4?(y=0,v=h,w=c):f>=4&&f<5?(y=h,v=0,w=c):(y=c,v=0,w=h),{r:Math.round((y+g)*255),g:Math.round((v+g)*255),b:Math.round((w+g)*255),a:u||1}}function By(t){return EP(t)?OP(t):t.startsWith("rgb")?TP(t):t.startsWith("hsl")?MP(t):{r:0,g:0,b:0,a:1}}function jf(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:i,b:a,a:s}=By(t),u=1-e,c=f=>Math.round(f*u);return`rgba(${c(n)}, ${c(i)}, ${c(a)}, ${s})`}function Yc(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function xg(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function PP(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function RP(t){if(t.startsWith("oklch("))return(PP(t)||0)/100;const{r:e,g:n,b:i}=By(t),a=e/255,s=n/255,u=i/255,c=xg(a),f=xg(s),h=xg(u);return .2126*c+.7152*f+.0722*h}function Tc(t,e=.179){return t.startsWith("var(")?!1:RP(t)>e}function Us({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Tc(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:Tc(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:Tc(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[i,a]=t.split("."),s=a?Number(a):void 0,u=i in e.colors;if(u){const c=s!==void 0?e.colors[i][s]:e.colors[i][Yc(e,n||"light")];return{color:i,value:c,shade:s,isThemeColor:u,isLight:Tc(c,e.luminanceThreshold),variable:a?`--mantine-color-${i}-${s}`:`--mantine-color-${i}-filled`}}return{color:t,value:t,isThemeColor:u,isLight:Tc(t,e.luminanceThreshold),shade:s,variable:void 0}}function di(t,e){const n=Us({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function ey(t,e){const n={from:t?.from||e.defaultGradient.from,to:t?.to||e.defaultGradient.to,deg:t?.deg??e.defaultGradient.deg??0},i=di(n.from,e),a=di(n.to,e);return`linear-gradient(${n.deg}deg, ${i} 0%, ${a} 100%)`}function ao(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const s=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${s}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:i,b:a}=By(t);return`rgba(${n}, ${i}, ${a}, ${e})`}const $l=ao,DP=({color:t,theme:e,variant:n,gradient:i,autoContrast:a})=>{const s=Us({color:t,theme:e}),u=typeof a=="boolean"?a:e.autoContrast;if(n==="none")return{background:"transparent",hover:"transparent",color:"inherit",border:"none"};if(n==="filled"){const c=u&&s.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return s.isThemeColor?s.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:c,border:`${_e(1)} solid transparent`}:{background:`var(--mantine-color-${s.color}-${s.shade})`,hover:`var(--mantine-color-${s.color}-${s.shade===9?8:s.shade+1})`,color:c,border:`${_e(1)} solid transparent`}:{background:t,hover:jf(t,.1),color:c,border:`${_e(1)} solid transparent`}}if(n==="light"){if(s.isThemeColor){if(s.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${_e(1)} solid transparent`};const c=e.colors[s.color][s.shade];return{background:ao(c,.1),hover:ao(c,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:ao(t,.1),hover:ao(t,.12),color:t,border:`${_e(1)} solid transparent`}}if(n==="outline")return s.isThemeColor?s.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${_e(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:ao(e.colors[s.color][s.shade],.05),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${_e(1)} solid var(--mantine-color-${s.color}-${s.shade})`}:{background:"transparent",hover:ao(t,.05),color:t,border:`${_e(1)} solid ${t}`};if(n==="subtle"){if(s.isThemeColor){if(s.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${_e(1)} solid transparent`};const c=e.colors[s.color][s.shade];return{background:"transparent",hover:ao(c,.12),color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${_e(1)} solid transparent`}}return{background:"transparent",hover:ao(t,.12),color:t,border:`${_e(1)} solid transparent`}}return n==="transparent"?s.isThemeColor?s.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${s.color}-${Math.min(s.shade,6)})`,border:`${_e(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${_e(1)} solid transparent`}:n==="white"?s.isThemeColor?s.shade===void 0?{background:"var(--mantine-color-white)",hover:jf(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:jf(e.white,.01),color:`var(--mantine-color-${s.color}-${s.shade})`,border:`${_e(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:jf(e.white,.01),color:t,border:`${_e(1)} solid transparent`}:n==="gradient"?{background:ey(i,e),hover:ey(i,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${_e(1)} solid var(--mantine-color-default-border)`}:{}},AP={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Aw="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",Uy={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:AP,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:DP,autoContrast:!1,luminanceThreshold:.3,fontFamily:Aw,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:Aw,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:_e(34),lineHeight:"1.3"},h2:{fontSize:_e(26),lineHeight:"1.35"},h3:{fontSize:_e(22),lineHeight:"1.4"},h4:{fontSize:_e(18),lineHeight:"1.45"},h5:{fontSize:_e(16),lineHeight:"1.5"},h6:{fontSize:_e(14),lineHeight:"1.5"}}},fontSizes:{xs:_e(12),sm:_e(14),md:_e(16),lg:_e(18),xl:_e(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:_e(2),sm:_e(4),md:_e(8),lg:_e(16),xl:_e(32)},spacing:{xs:_e(10),sm:_e(12),md:_e(16),lg:_e(20),xl:_e(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), 0 ${_e(1)} ${_e(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(10)} ${_e(15)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(7)} ${_e(7)} ${_e(-5)}`,md:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(20)} ${_e(25)} ${_e(-5)}, rgba(0, 0, 0, 0.04) 0 ${_e(10)} ${_e(10)} ${_e(-5)}`,lg:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(28)} ${_e(23)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(12)} ${_e(12)} ${_e(-7)}`,xl:`0 ${_e(1)} ${_e(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${_e(36)} ${_e(28)} ${_e(-7)}, rgba(0, 0, 0, 0.04) 0 ${_e(17)} ${_e(17)} ${_e(-7)}`},other:{},components:{}};function Nw(t){return t==="auto"||t==="dark"||t==="light"}function NP({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const i=window.localStorage.getItem(t);return Nw(i)?i:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(i){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",i)}},subscribe:n=>{e=i=>{i.storageArea===window.localStorage&&i.key===t&&Nw(i.newValue)&&n(i.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const IP="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more  https://mantine.dev/theming/colors/#primary-color",Iw="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function wg(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function jw(t){if(!(t.primaryColor in t.colors))throw new Error(IP);if(typeof t.primaryShade=="object"&&(!wg(t.primaryShade.dark)||!wg(t.primaryShade.light)))throw new Error(Iw);if(typeof t.primaryShade=="number"&&!wg(t.primaryShade))throw new Error(Iw)}function jP(t,e){if(!e)return jw(t),t;const n=jy(t,e);return e.fontFamily&&!e.headings?.fontFamily&&(n.headings.fontFamily=e.fontFamily),jw(n),n}const $y=S.createContext(null),kP=()=>S.useContext($y)||Uy;function hi(){const t=S.useContext($y);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function xC({theme:t,children:e,inherit:n=!0}){const i=kP(),a=S.useMemo(()=>jP(n?i:Uy,t),[t,i,n]);return M.jsx($y.Provider,{value:a,children:e})}xC.displayName="@mantine/core/MantineThemeProvider";function zP(){const t=hi(),e=Fy(),n=dr(t.breakpoints).reduce((i,a)=>{const s=t.breakpoints[a].includes("px"),u=Xg(t.breakpoints[a]),c=s?`${u-.1}px`:lh(u-.1),f=s?`${u}px`:lh(u);return`${i}@media (max-width: ${c}) {.mantine-visible-from-${a} {display: none !important;}}@media (min-width: ${f}) {.mantine-hidden-from-${a} {display: none !important;}}`},"");return M.jsx("style",{"data-mantine-styles":"classes",nonce:e?.(),dangerouslySetInnerHTML:{__html:n}})}function Sg(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function wC(t,e){const n=e?[e]:[":root",":host"],i=Sg(t.variables),a=i?`${n.join(", ")}{${i}}`:"",s=Sg(t.dark),u=Sg(t.light),c=g=>n.map(y=>y===":host"?`${y}([data-mantine-color-scheme="${g}"])`:`${y}[data-mantine-color-scheme="${g}"]`).join(", "),f=s?`${c("dark")}{${s}}`:"",h=u?`${c("light")}{${u}}`:"";return`${a}

${f}

${h}`}function Hy({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Us({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function kw(t,e){return Hy({color:t.colors[t.primaryColor][Yc(t,e)],theme:t,autoContrast:null})}function kf({theme:t,color:e,colorScheme:n,name:i=e,withColorValues:a=!0}){if(!t.colors[e])return{};if(n==="light"){const c=Yc(t,"light"),f={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-filled)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${c})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${c===9?8:c+1})`,[`--mantine-color-${i}-light`]:$l(t.colors[e][c],.1),[`--mantine-color-${i}-light-hover`]:$l(t.colors[e][c],.12),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${c})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${c})`,[`--mantine-color-${i}-outline-hover`]:$l(t.colors[e][c],.05)};return a?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...f}:f}const s=Yc(t,"dark"),u={[`--mantine-color-${i}-text`]:`var(--mantine-color-${i}-4)`,[`--mantine-color-${i}-filled`]:`var(--mantine-color-${i}-${s})`,[`--mantine-color-${i}-filled-hover`]:`var(--mantine-color-${i}-${s===9?8:s+1})`,[`--mantine-color-${i}-light`]:$l(t.colors[e][Math.max(0,s-2)],.15),[`--mantine-color-${i}-light-hover`]:$l(t.colors[e][Math.max(0,s-2)],.2),[`--mantine-color-${i}-light-color`]:`var(--mantine-color-${i}-${Math.max(s-5,0)})`,[`--mantine-color-${i}-outline`]:`var(--mantine-color-${i}-${Math.max(s-4,0)})`,[`--mantine-color-${i}-outline-hover`]:$l(t.colors[e][Math.max(s-4,0)],.05)};return a?{[`--mantine-color-${i}-0`]:t.colors[e][0],[`--mantine-color-${i}-1`]:t.colors[e][1],[`--mantine-color-${i}-2`]:t.colors[e][2],[`--mantine-color-${i}-3`]:t.colors[e][3],[`--mantine-color-${i}-4`]:t.colors[e][4],[`--mantine-color-${i}-5`]:t.colors[e][5],[`--mantine-color-${i}-6`]:t.colors[e][6],[`--mantine-color-${i}-7`]:t.colors[e][7],[`--mantine-color-${i}-8`]:t.colors[e][8],[`--mantine-color-${i}-9`]:t.colors[e][9],...u}:u}function LP(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Hl(t,e,n){dr(e).forEach(i=>Object.assign(t,{[`--mantine-${n}-${i}`]:e[i]}))}const SC=t=>{const e=Yc(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:_e(t.defaultRadius),i={variables:{"--mantine-z-index-app":"100","--mantine-z-index-modal":"200","--mantine-z-index-popover":"300","--mantine-z-index-overlay":"400","--mantine-z-index-max":"9999","--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-color-scheme":"light","--mantine-primary-color-contrast":kw(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)","--mantine-color-disabled":"var(--mantine-color-gray-2)","--mantine-color-disabled-color":"var(--mantine-color-gray-5)","--mantine-color-disabled-border":"var(--mantine-color-gray-3)"},dark:{"--mantine-color-scheme":"dark","--mantine-primary-color-contrast":kw(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)","--mantine-color-disabled":"var(--mantine-color-dark-6)","--mantine-color-disabled-color":"var(--mantine-color-dark-3)","--mantine-color-disabled-border":"var(--mantine-color-dark-4)"}};Hl(i.variables,t.breakpoints,"breakpoint"),Hl(i.variables,t.spacing,"spacing"),Hl(i.variables,t.fontSizes,"font-size"),Hl(i.variables,t.lineHeights,"line-height"),Hl(i.variables,t.shadows,"shadow"),Hl(i.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((s,u)=>{i.variables[`--mantine-primary-color-${u}`]=`var(--mantine-color-${t.primaryColor}-${u})`}),dr(t.colors).forEach(s=>{const u=t.colors[s];if(LP(u)){Object.assign(i.light,kf({theme:t,name:u.name,color:u.light,colorScheme:"light",withColorValues:!0})),Object.assign(i.dark,kf({theme:t,name:u.name,color:u.dark,colorScheme:"dark",withColorValues:!0}));return}u.forEach((c,f)=>{i.variables[`--mantine-color-${s}-${f}`]=c}),Object.assign(i.light,kf({theme:t,color:s,colorScheme:"light",withColorValues:!1})),Object.assign(i.dark,kf({theme:t,color:s,colorScheme:"dark",withColorValues:!1}))});const a=t.headings.sizes;return dr(a).forEach(s=>{i.variables[`--mantine-${s}-font-size`]=a[s].fontSize,i.variables[`--mantine-${s}-line-height`]=a[s].lineHeight,i.variables[`--mantine-${s}-font-weight`]=a[s].fontWeight||t.headings.fontWeight}),i};function FP({theme:t,generator:e}){const n=SC(t),i=e?.(t);return i?jy(n,i):n}const Cg=SC(Uy);function BP(t){const e={variables:{},light:{},dark:{}};return dr(t.variables).forEach(n=>{Cg.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),dr(t.light).forEach(n=>{Cg.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),dr(t.dark).forEach(n=>{Cg.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function UP(t){return wC({variables:{},dark:{"--mantine-color-scheme":"dark"},light:{"--mantine-color-scheme":"light"}},t)}function CC({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=hi(),i=Fy(),a=bP(),s=FP({theme:n,generator:a}),u=(t===void 0||t===":root"||t===":host")&&e,c=u?BP(s):s,f=wC(c,t);return f?M.jsx("style",{"data-mantine-styles":!0,nonce:i?.(),dangerouslySetInnerHTML:{__html:`${f}${u?"":UP(t)}`}}):null}CC.displayName="@mantine/CssVariables";function ql(t,e){const n=typeof window<"u"&&"matchMedia"in window&&window.matchMedia("(prefers-color-scheme: dark)")?.matches,i=t!=="auto"?t:n?"dark":"light";e()?.setAttribute("data-mantine-color-scheme",i)}function $P({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:i}){const a=S.useRef(null),[s,u]=S.useState(()=>t.get(e)),c=i||s,f=S.useCallback(g=>{i||(ql(g,n),u(g),t.set(g))},[t.set,c,i]),h=S.useCallback(()=>{u(e),ql(e,n),t.clear()},[t.clear,e]);return S.useEffect(()=>(t.subscribe(f),t.unsubscribe),[t.subscribe,t.unsubscribe]),Za(()=>{ql(t.get(e),n)},[]),S.useEffect(()=>{if(i)return ql(i,n),()=>{};i===void 0&&ql(s,n),typeof window<"u"&&"matchMedia"in window&&(a.current=window.matchMedia("(prefers-color-scheme: dark)"));const g=y=>{s==="auto"&&ql(y.matches?"dark":"light",n)};return a.current?.addEventListener("change",g),()=>a.current?.removeEventListener("change",g)},[s,i]),{colorScheme:c,setColorScheme:f,clearColorScheme:h}}function HP({respectReducedMotion:t,getRootElement:e}){Za(()=>{t&&e()?.setAttribute("data-respect-reduced-motion","true")},[t])}function _C({theme:t,children:e,getStyleNonce:n,withStaticClasses:i=!0,withGlobalClasses:a=!0,deduplicateCssVariables:s=!0,withCssVariables:u=!0,cssVariablesSelector:c,classNamesPrefix:f="mantine",colorSchemeManager:h=NP(),defaultColorScheme:g="light",getRootElement:y=()=>document.documentElement,cssVariablesResolver:v,forceColorScheme:w,stylesTransform:_,env:E}){const{colorScheme:P,setColorScheme:N,clearColorScheme:D}=$P({defaultColorScheme:g,forceColorScheme:w,manager:h,getRootElement:y});return HP({respectReducedMotion:t?.respectReducedMotion||!1,getRootElement:y}),M.jsx(bC.Provider,{value:{colorScheme:P,setColorScheme:N,clearColorScheme:D,getRootElement:y,classNamesPrefix:f,getStyleNonce:n,cssVariablesResolver:v,cssVariablesSelector:c??":root",withStaticClasses:i,stylesTransform:_,env:E},children:M.jsxs(xC,{theme:t,children:[u&&M.jsx(CC,{cssVariablesSelector:c,deduplicateCssVariables:s}),a&&M.jsx(zP,{}),e]})})}_C.displayName="@mantine/core/MantineProvider";function Ih({classNames:t,styles:e,props:n,stylesCtx:i}){const a=hi();return{resolvedClassNames:Ah({theme:a,classNames:t,props:n,stylesCtx:i||void 0}),resolvedStyles:ch({theme:a,styles:e,props:n,stylesCtx:i||void 0})}}const qP={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function GP({theme:t,options:e,unstyled:n}){return qn(e?.focusable&&!n&&(t.focusClassName||qP[t.focusRing]),e?.active&&!n&&t.activeClassName)}function VP({selector:t,stylesCtx:e,options:n,props:i,theme:a}){return Ah({theme:a,classNames:n?.classNames,props:n?.props||i,stylesCtx:e})[t]}function zw({selector:t,stylesCtx:e,theme:n,classNames:i,props:a}){return Ah({theme:n,classNames:i,props:a,stylesCtx:e})[t]}function YP({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function KP({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function WP({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:i}){return i===!1?[]:t.map(a=>`${e}-${a}-${n}`)}function XP({themeName:t,theme:e,selector:n,props:i,stylesCtx:a}){return t.map(s=>Ah({theme:e,classNames:e.components[s]?.classNames,props:i,stylesCtx:a})?.[n])}function QP({options:t,classes:e,selector:n,unstyled:i}){return t?.variant&&!i?e[`${n}--${t.variant}`]:void 0}function ZP({theme:t,options:e,themeName:n,selector:i,classNamesPrefix:a,classNames:s,classes:u,unstyled:c,className:f,rootSelector:h,props:g,stylesCtx:y,withStaticClasses:v,headless:w,transformedStyles:_}){return qn(GP({theme:t,options:e,unstyled:c||w}),XP({theme:t,themeName:n,selector:i,props:g,stylesCtx:y}),QP({options:e,classes:u,selector:i,unstyled:c}),zw({selector:i,stylesCtx:y,theme:t,classNames:s,props:g}),zw({selector:i,stylesCtx:y,theme:t,classNames:_,props:g}),VP({selector:i,stylesCtx:y,options:e,props:g,theme:t}),YP({rootSelector:h,selector:i,className:f}),KP({selector:i,classes:u,unstyled:c||w}),v&&!w&&WP({themeName:n,classNamesPrefix:a,selector:i,withStaticClass:e?.withStaticClass}),e?.className)}function JP({theme:t,themeName:e,props:n,stylesCtx:i,selector:a}){return e.map(s=>ch({theme:t,styles:t.components[s]?.styles,props:n,stylesCtx:i})[a]).reduce((s,u)=>({...s,...u}),{})}function ty({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...ty({style:i,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function eR(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(i=>{e[i]={...e[i],...ky(n[i])}}),e),{})}function tR({vars:t,varsResolver:e,theme:n,props:i,stylesCtx:a,selector:s,themeName:u,headless:c}){return eR([c?{}:e?.(n,i,a),...u.map(f=>n.components?.[f]?.vars?.(n,i,a)),t?.(n,i,a)])?.[s]}function nR({theme:t,themeName:e,selector:n,options:i,props:a,stylesCtx:s,rootSelector:u,styles:c,style:f,vars:h,varsResolver:g,headless:y,withStylesTransform:v}){return{...!v&&JP({theme:t,themeName:e,props:a,stylesCtx:s,selector:n}),...!v&&ch({theme:t,styles:c,props:a,stylesCtx:s})[n],...!v&&ch({theme:t,styles:i?.styles,props:i?.props||a,stylesCtx:s})[n],...tR({theme:t,props:a,stylesCtx:s,vars:h,varsResolver:g,selector:n,themeName:e,headless:y}),...u===n?ty({style:f,theme:t}):null,...ty({style:i?.style,theme:t})}}function rR({props:t,stylesCtx:e,themeName:n}){const i=hi(),a=_P()?.();return{getTransformedStyles:u=>a?[...u.map(f=>a(f,{props:t,theme:i,ctx:e})),...n.map(f=>a(i.components[f]?.styles,{props:t,theme:i,ctx:e}))].filter(Boolean):[],withStylesTransform:!!a}}function mt({name:t,classes:e,props:n,stylesCtx:i,className:a,style:s,rootSelector:u="root",unstyled:c,classNames:f,styles:h,vars:g,varsResolver:y,attributes:v}){const w=hi(),_=xP(),E=wP(),P=SP(),N=(Array.isArray(t)?t:[t]).filter(z=>z),{withStylesTransform:D,getTransformedStyles:A}=rR({props:n,stylesCtx:i,themeName:N});return(z,L)=>({className:ZP({theme:w,options:L,themeName:N,selector:z,classNamesPrefix:_,classNames:f,classes:e,unstyled:c,className:a,rootSelector:u,props:n,stylesCtx:i,withStaticClasses:E,headless:P,transformedStyles:A([L?.styles,h])}),style:nR({theme:w,themeName:N,selector:z,options:L,props:n,stylesCtx:i,rootSelector:u,styles:h,style:s,vars:g,varsResolver:y,headless:P,withStylesTransform:D}),...v?.[z]})}function EC(t,e){return typeof t=="boolean"?t:e.autoContrast}function Le(t,e,n){const i=hi(),a=i.components[t]?.defaultProps,s=typeof a=="function"?a(i):a;return{...e,...s,...ky(n)}}function _g(t){return dr(t).reduce((e,n)=>t[n]!==void 0?`${e}${HM(n)}:${t[n]};`:e,"").trim()}function iR({selector:t,styles:e,media:n,container:i}){const a=e?_g(e):"",s=Array.isArray(n)?n.map(c=>`@media${c.query}{${t}{${_g(c.styles)}}}`):[],u=Array.isArray(i)?i.map(c=>`@container ${c.query}{${t}{${_g(c.styles)}}}`):[];return`${a?`${t}{${a}}`:""}${s.join("")}${u.join("")}`.trim()}function OC(t){const e=Fy();return M.jsx("style",{"data-mantine-styles":"inline",nonce:e?.(),dangerouslySetInnerHTML:{__html:iR(t)}})}function nd(t){const{m:e,mx:n,my:i,mt:a,mb:s,ml:u,mr:c,me:f,ms:h,p:g,px:y,py:v,pt:w,pb:_,pl:E,pr:P,pe:N,ps:D,bd:A,bdrs:z,bg:L,c:G,opacity:j,ff:U,fz:ie,fw:se,lts:de,ta:me,lh:Ee,fs:ce,tt:xe,td:B,w:W,miw:V,maw:ge,h:Se,mih:H,mah:ne,bgsz:Ce,bgp:Ne,bgr:Ie,bga:qe,pos:nt,top:wt,left:De,bottom:Jt,right:un,inset:Je,display:ht,flex:Ft,hiddenFrom:rn,visibleFrom:gn,lightHidden:Ar,darkHidden:ir,sx:en,...Vn}=t;return{styleProps:ky({m:e,mx:n,my:i,mt:a,mb:s,ml:u,mr:c,me:f,ms:h,p:g,px:y,py:v,pt:w,pb:_,pl:E,pr:P,pe:N,ps:D,bd:A,bg:L,c:G,opacity:j,ff:U,fz:ie,fw:se,lts:de,ta:me,lh:Ee,fs:ce,tt:xe,td:B,w:W,miw:V,maw:ge,h:Se,mih:H,mah:ne,bgsz:Ce,bgp:Ne,bgr:Ie,bga:qe,pos:nt,top:wt,left:De,bottom:Jt,right:un,inset:Je,display:ht,flex:Ft,bdrs:z,hiddenFrom:rn,visibleFrom:gn,lightHidden:Ar,darkHidden:ir,sx:en}),rest:Vn}}const oR={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bdrs:{type:"radius",property:"borderRadius"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"size",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function qy(t,e){const n=Us({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function aR(t,e){const n=Us({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:qy(t,e)}function sR(t,e){if(typeof t=="number")return _e(t);if(typeof t=="string"){const[n,i,...a]=t.split(" ").filter(u=>u.trim()!=="");let s=`${_e(n)}`;return i&&(s+=` ${i}`),a.length>0&&(s+=` ${qy(a.join(" "),e)}`),s.trim()}return t}const Lw={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function lR(t){return typeof t=="string"&&t in Lw?Lw[t]:t}const uR=["h1","h2","h3","h4","h5","h6"];function cR(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&uR.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?_e(t):t}function dR(t){return t}const fR=["h1","h2","h3","h4","h5","h6"];function hR(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&fR.includes(t)?`var(--mantine-${t}-line-height)`:t}function pR(t,e){return typeof t=="string"&&t in e.radius?`var(--mantine-radius-${t})`:typeof t=="number"||typeof t=="string"?_e(t):t}function mR(t){return typeof t=="number"?_e(t):t}function gR(t,e){if(typeof t=="number")return _e(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return _e(t);const i=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${i}) * -1)`:`var(${i})`}return t}const Eg={color:qy,textColor:aR,fontSize:cR,spacing:gR,radius:pR,identity:dR,size:mR,lineHeight:hR,fontFamily:lR,border:sR};function Fw(t){return t.replace("(min-width: ","").replace("em)","")}function yR({media:t,...e}){const i=Object.keys(t).sort((a,s)=>Number(Fw(a))-Number(Fw(s))).map(a=>({query:a,styles:t[a]}));return{...e,media:i}}function vR(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function bR(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function xR(t){return typeof t=="object"&&t!==null?dr(t).filter(e=>e!=="base"):[]}function wR(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function SR({styleProps:t,data:e,theme:n}){return yR(dr(t).reduce((i,a)=>{if(a==="hiddenFrom"||a==="visibleFrom"||a==="sx")return i;const s=e[a],u=Array.isArray(s.property)?s.property:[s.property],c=bR(t[a]);if(!vR(t[a]))return u.forEach(h=>{i.inlineStyles[h]=Eg[s.type](c,n)}),i;i.hasResponsiveStyles=!0;const f=xR(t[a]);return u.forEach(h=>{c!=null&&(i.styles[h]=Eg[s.type](c,n)),f.forEach(g=>{const y=`(min-width: ${n.breakpoints[g]})`;i.media[y]={...i.media[y],[h]:Eg[s.type](wR(t[a],g),n)}})}),i},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function CR(){return`__m__-${S.useId().replace(/[:]/g,"")}`}function Gy(t,e){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...Gy(i,e)}),{}):typeof t=="function"?t(e):t??{}}function TC(t){return t.startsWith("data-")?t:`data-${t}`}function _R(t){return Object.keys(t).reduce((e,n)=>{const i=t[n];return i===void 0||i===""||i===!1||i===null||(e[TC(n)]=t[n]),e},{})}function MC(t){return t?typeof t=="string"?{[TC(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...MC(n)}),{}):_R(t):null}function ny(t,e){return Array.isArray(t)?[...t].reduce((n,i)=>({...n,...ny(i,e)}),{}):typeof t=="function"?t(e):t??{}}function ER({theme:t,style:e,vars:n,styleProps:i}){const a=ny(e,t),s=ny(n,t);return{...a,...s,...i}}const PC=S.forwardRef(({component:t,style:e,__vars:n,className:i,variant:a,mod:s,size:u,hiddenFrom:c,visibleFrom:f,lightHidden:h,darkHidden:g,renderRoot:y,__size:v,...w},_)=>{const E=hi(),P=t||"div",{styleProps:N,rest:D}=nd(w),z=CP()?.()?.(N.sx),L=CR(),G=SR({styleProps:N,theme:E,data:oR}),j={ref:_,style:ER({theme:E,style:e,vars:n,styleProps:G.inlineStyles}),className:qn(i,z,{[L]:G.hasResponsiveStyles,"mantine-light-hidden":h,"mantine-dark-hidden":g,[`mantine-hidden-from-${c}`]:c,[`mantine-visible-from-${f}`]:f}),"data-variant":a,"data-size":lC(u)?void 0:u||void 0,size:v,...MC(s),...D};return M.jsxs(M.Fragment,{children:[G.hasResponsiveStyles&&M.jsx(OC,{selector:`.${L}`,styles:G.styles,media:G.media}),typeof y=="function"?y(j):M.jsx(P,{...j})]})});PC.displayName="@mantine/core/Box";const je=PC;function RC(t){return t}function OR(t){const e=t;return n=>{const i=S.forwardRef((a,s)=>M.jsx(e,{...n,...a,ref:s}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i}}function Ze(t){const e=S.forwardRef(t);return e.extend=RC,e.withProps=n=>{const i=S.forwardRef((a,s)=>M.jsx(e,{...n,...a,ref:s}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i},e}function wr(t){const e=S.forwardRef(t);return e.withProps=n=>{const i=S.forwardRef((a,s)=>M.jsx(e,{...n,...a,ref:s}));return i.extend=e.extend,i.displayName=`WithProps(${e.displayName})`,i},e.extend=RC,e}const DC=S.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function rd(){return S.useContext(DC)}function TR({children:t,initialDirection:e="ltr",detectDirection:n=!0}){const[i,a]=S.useState(e),s=S.useCallback(f=>{a(f),document.documentElement.getAttribute("dir")!==f&&document.documentElement.setAttribute("dir",f)},[]),u=()=>s(i==="ltr"?"rtl":"ltr");Za(()=>{if(n){const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&a(f)}},[]);const c=S.useCallback(()=>{if(typeof document>"u")return;const f=document.documentElement.getAttribute("dir");(f==="rtl"||f==="ltr")&&a(h=>h!==f?f:h)},[]);return gP(c,n?{attributes:!0,attributeFilter:["dir"]}:{},typeof document<"u"&&n?document.documentElement:null),M.jsx(DC.Provider,{value:{dir:i,toggleDirection:u,setDirection:s},children:t})}var $s=JS();const jc=Th($s);function MR(t){if(!t||typeof t=="string")return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Og(t){return t?.current?t.current.scrollHeight:"auto"}const Mc=typeof window<"u"&&window.requestAnimationFrame,Bw=0,PR=t=>({height:0,overflow:"hidden",...t?{}:{display:"none"}});function RR({transitionDuration:t,transitionTimingFunction:e="ease",onTransitionEnd:n=()=>{},opened:i,keepMounted:a=!1}){const s=S.useRef(null),u=PR(a),[c,f]=S.useState(i?{}:u),h=_=>{$s.flushSync(()=>f(_))},g=_=>{h(E=>({...E,..._}))};function y(_){const E=t||MR(_);return{transition:`height ${E}ms ${e}, opacity ${E}ms ${e}`}}zs(()=>{typeof Mc=="function"&&Mc(i?()=>{g({willChange:"height",display:"block",overflow:"hidden"}),Mc(()=>{const _=Og(s);g({...y(_),height:_})})}:()=>{const _=Og(s);g({...y(_),willChange:"height",height:_}),Mc(()=>g({height:Bw,overflow:"hidden"}))})},[i]);const v=_=>{if(!(_.target!==s.current||_.propertyName!=="height"))if(i){const E=Og(s);E===c.height?h({}):g({height:E}),n()}else c.height===Bw&&(h(u),n())};function w({style:_={},refKey:E="ref",...P}={}){const N=P[E],D={"aria-hidden":!i,...P,[E]:gC(s,N),onTransitionEnd:v,style:{boxSizing:"border-box",..._,...c}};return Rn.version.startsWith("18")?i||(D.inert=""):D.inert=!i,D}return w}const DR={transitionDuration:200,transitionTimingFunction:"ease",animateOpacity:!0},AC=Ze((t,e)=>{const{children:n,in:i,transitionDuration:a,transitionTimingFunction:s,style:u,onTransitionEnd:c,animateOpacity:f,keepMounted:h,...g}=Le("Collapse",DR,t),y=hi(),v=Rh(),_=(y.respectReducedMotion?v:!1)?0:a,E=RR({opened:i,transitionDuration:_,transitionTimingFunction:s,onTransitionEnd:c,keepMounted:h});return _===0?i?M.jsx(je,{...g,children:n}):null:M.jsx(je,{...E({style:{opacity:i||!f?1:0,transition:f?`opacity ${_}ms ${s}`:"none",...Gy(u,y)},ref:e,...g}),children:n})});AC.displayName="@mantine/core/Collapse";function jh(){return typeof window<"u"}function yu(t){return NC(t)?(t.nodeName||"").toLowerCase():"#document"}function Yr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function yo(t){var e;return(e=(NC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NC(t){return jh()?t instanceof Node||t instanceof Yr(t).Node:!1}function mn(t){return jh()?t instanceof Element||t instanceof Yr(t).Element:!1}function fi(t){return jh()?t instanceof HTMLElement||t instanceof Yr(t).HTMLElement:!1}function ry(t){return!jh()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Yr(t).ShadowRoot}const AR=new Set(["inline","contents"]);function id(t){const{overflow:e,overflowX:n,overflowY:i,display:a}=Ri(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!AR.has(a)}const NR=new Set(["table","td","th"]);function IR(t){return NR.has(yu(t))}const jR=[":popover-open",":modal"];function kh(t){return jR.some(e=>{try{return t.matches(e)}catch{return!1}})}const kR=["transform","translate","scale","rotate","perspective"],zR=["transform","translate","scale","rotate","perspective","filter"],LR=["paint","layout","strict","content"];function Vy(t){const e=zh(),n=mn(t)?Ri(t):t;return kR.some(i=>n[i]?n[i]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||zR.some(i=>(n.willChange||"").includes(i))||LR.some(i=>(n.contain||"").includes(i))}function FR(t){let e=Qo(t);for(;fi(e)&&!Wo(e);){if(Vy(e))return e;if(kh(e))return null;e=Qo(e)}return null}function zh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const BR=new Set(["html","body","#document"]);function Wo(t){return BR.has(yu(t))}function Ri(t){return Yr(t).getComputedStyle(t)}function Lh(t){return mn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qo(t){if(yu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ry(t)&&t.host||yo(t);return ry(e)?e.host:e}function IC(t){const e=Qo(t);return Wo(e)?t.ownerDocument?t.ownerDocument.body:t.body:fi(e)&&id(e)?e:IC(e)}function Xo(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const a=IC(t),s=a===((i=t.ownerDocument)==null?void 0:i.body),u=Yr(a);if(s){const c=iy(u);return e.concat(u,u.visualViewport||[],id(a)?a:[],c&&n?Xo(c):[])}return e.concat(a,Xo(a,[],n))}function iy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const UR=["top","right","bottom","left"],Vi=Math.min,yr=Math.max,dh=Math.round,zf=Math.floor,uo=t=>({x:t,y:t}),$R={left:"right",right:"left",bottom:"top",top:"bottom"},HR={start:"end",end:"start"};function oy(t,e,n){return yr(t,Vi(e,n))}function ho(t,e){return typeof t=="function"?t(e):t}function Yi(t){return t.split("-")[0]}function vu(t){return t.split("-")[1]}function Yy(t){return t==="x"?"y":"x"}function Ky(t){return t==="y"?"height":"width"}const qR=new Set(["top","bottom"]);function qi(t){return qR.has(Yi(t))?"y":"x"}function Wy(t){return Yy(qi(t))}function GR(t,e,n){n===void 0&&(n=!1);const i=vu(t),a=Wy(t),s=Ky(a);let u=a==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(u=fh(u)),[u,fh(u)]}function VR(t){const e=fh(t);return[ay(t),e,ay(e)]}function ay(t){return t.replace(/start|end/g,e=>HR[e])}const Uw=["left","right"],$w=["right","left"],YR=["top","bottom"],KR=["bottom","top"];function WR(t,e,n){switch(t){case"top":case"bottom":return n?e?$w:Uw:e?Uw:$w;case"left":case"right":return e?YR:KR;default:return[]}}function XR(t,e,n,i){const a=vu(t);let s=WR(Yi(t),n==="start",i);return a&&(s=s.map(u=>u+"-"+a),e&&(s=s.concat(s.map(ay)))),s}function fh(t){return t.replace(/left|right|bottom|top/g,e=>$R[e])}function QR(t){return{top:0,right:0,bottom:0,left:0,...t}}function Xy(t){return typeof t!="number"?QR(t):{top:t,right:t,bottom:t,left:t}}function iu(t){const{x:e,y:n,width:i,height:a}=t;return{width:i,height:a,top:n,left:e,right:e+i,bottom:n+a,x:e,y:n}}function ZR(){const t=navigator.userAgentData;return t!=null&&t.platform?t.platform:navigator.platform}function JR(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:n,version:i}=e;return n+"/"+i}).join(" "):navigator.userAgent}function eD(){return/apple/i.test(navigator.vendor)}function tD(){return ZR().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function nD(){return JR().includes("jsdom/")}const Hw="data-floating-ui-focusable",rD="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function qw(t){let e=t.activeElement;for(;((n=e)==null||(n=n.shadowRoot)==null?void 0:n.activeElement)!=null;){var n;e=e.shadowRoot.activeElement}return e}function Kc(t,e){if(!t||!e)return!1;const n=e.getRootNode==null?void 0:e.getRootNode();if(t.contains(e))return!0;if(n&&ry(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Wl(t){return"composedPath"in t?t.composedPath()[0]:t.target}function Tg(t,e){if(e==null)return!1;if("composedPath"in t)return t.composedPath().includes(e);const n=t;return n.target!=null&&e.contains(n.target)}function iD(t){return t.matches("html,body")}function Ds(t){return t?.ownerDocument||document}function oD(t){return fi(t)&&t.matches(rD)}function aD(t){if(!t||nD())return!0;try{return t.matches(":focus-visible")}catch{return!0}}function sD(t){return t?t.hasAttribute(Hw)?t:t.querySelector("["+Hw+"]")||t:null}function Jf(t,e,n){return n===void 0&&(n=!0),t.filter(a=>{var s;return a.parentId===e&&(!n||((s=a.context)==null?void 0:s.open))}).flatMap(a=>[a,...Jf(t,a.id,n)])}function lD(t){return"nativeEvent"in t}function sy(t,e){const n=["mouse","pen"];return n.push("",void 0),n.includes(t)}var uD=typeof document<"u",cD=function(){},co=uD?S.useLayoutEffect:cD;const dD={...Iy};function Lf(t){const e=S.useRef(t);return co(()=>{e.current=t}),e}const fD=dD.useInsertionEffect,hD=fD||(t=>t());function lo(t){const e=S.useRef(()=>{});return hD(()=>{e.current=t}),S.useCallback(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e.current==null?void 0:e.current(...i)},[])}function Gw(t,e,n){let{reference:i,floating:a}=t;const s=qi(e),u=Wy(e),c=Ky(u),f=Yi(e),h=s==="y",g=i.x+i.width/2-a.width/2,y=i.y+i.height/2-a.height/2,v=i[c]/2-a[c]/2;let w;switch(f){case"top":w={x:g,y:i.y-a.height};break;case"bottom":w={x:g,y:i.y+i.height};break;case"right":w={x:i.x+i.width,y};break;case"left":w={x:i.x-a.width,y};break;default:w={x:i.x,y:i.y}}switch(vu(e)){case"start":w[u]-=v*(n&&h?-1:1);break;case"end":w[u]+=v*(n&&h?-1:1);break}return w}const pD=async(t,e,n)=>{const{placement:i="bottom",strategy:a="absolute",middleware:s=[],platform:u}=n,c=s.filter(Boolean),f=await(u.isRTL==null?void 0:u.isRTL(e));let h=await u.getElementRects({reference:t,floating:e,strategy:a}),{x:g,y}=Gw(h,i,f),v=i,w={},_=0;for(let E=0;E<c.length;E++){const{name:P,fn:N}=c[E],{x:D,y:A,data:z,reset:L}=await N({x:g,y,initialPlacement:i,placement:v,strategy:a,middlewareData:w,rects:h,platform:u,elements:{reference:t,floating:e}});g=D??g,y=A??y,w={...w,[P]:{...w[P],...z}},L&&_<=50&&(_++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(h=L.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:a}):L.rects),{x:g,y}=Gw(h,v,f)),E=-1)}return{x:g,y,placement:v,strategy:a,middlewareData:w}};async function Wc(t,e){var n;e===void 0&&(e={});const{x:i,y:a,platform:s,rects:u,elements:c,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:v=!1,padding:w=0}=ho(e,t),_=Xy(w),P=c[v?y==="floating"?"reference":"floating":y],N=iu(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(P)))==null||n?P:P.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(c.floating)),boundary:h,rootBoundary:g,strategy:f})),D=y==="floating"?{x:i,y:a,width:u.floating.width,height:u.floating.height}:u.reference,A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(c.floating)),z=await(s.isElement==null?void 0:s.isElement(A))?await(s.getScale==null?void 0:s.getScale(A))||{x:1,y:1}:{x:1,y:1},L=iu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:A,strategy:f}):D);return{top:(N.top-L.top+_.top)/z.y,bottom:(L.bottom-N.bottom+_.bottom)/z.y,left:(N.left-L.left+_.left)/z.x,right:(L.right-N.right+_.right)/z.x}}const mD=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:a,rects:s,platform:u,elements:c,middlewareData:f}=e,{element:h,padding:g=0}=ho(t,e)||{};if(h==null)return{};const y=Xy(g),v={x:n,y:i},w=Wy(a),_=Ky(w),E=await u.getDimensions(h),P=w==="y",N=P?"top":"left",D=P?"bottom":"right",A=P?"clientHeight":"clientWidth",z=s.reference[_]+s.reference[w]-v[w]-s.floating[_],L=v[w]-s.reference[w],G=await(u.getOffsetParent==null?void 0:u.getOffsetParent(h));let j=G?G[A]:0;(!j||!await(u.isElement==null?void 0:u.isElement(G)))&&(j=c.floating[A]||s.floating[_]);const U=z/2-L/2,ie=j/2-E[_]/2-1,se=Vi(y[N],ie),de=Vi(y[D],ie),me=se,Ee=j-E[_]-de,ce=j/2-E[_]/2+U,xe=oy(me,ce,Ee),B=!f.arrow&&vu(a)!=null&&ce!==xe&&s.reference[_]/2-(ce<me?se:de)-E[_]/2<0,W=B?ce<me?ce-me:ce-Ee:0;return{[w]:v[w]+W,data:{[w]:xe,centerOffset:ce-xe-W,...B&&{alignmentOffset:W}},reset:B}}}),gD=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:a,middlewareData:s,rects:u,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:E=!0,...P}=ho(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=Yi(a),D=qi(c),A=Yi(c)===c,z=await(f.isRTL==null?void 0:f.isRTL(h.floating)),L=v||(A||!E?[fh(c)]:VR(c)),G=_!=="none";!v&&G&&L.push(...XR(c,E,_,z));const j=[c,...L],U=await Wc(e,P),ie=[];let se=((i=s.flip)==null?void 0:i.overflows)||[];if(g&&ie.push(U[N]),y){const ce=GR(a,u,z);ie.push(U[ce[0]],U[ce[1]])}if(se=[...se,{placement:a,overflows:ie}],!ie.every(ce=>ce<=0)){var de,me;const ce=(((de=s.flip)==null?void 0:de.index)||0)+1,xe=j[ce];if(xe&&(!(y==="alignment"?D!==qi(xe):!1)||se.every(V=>qi(V.placement)===D?V.overflows[0]>0:!0)))return{data:{index:ce,overflows:se},reset:{placement:xe}};let B=(me=se.filter(W=>W.overflows[0]<=0).sort((W,V)=>W.overflows[1]-V.overflows[1])[0])==null?void 0:me.placement;if(!B)switch(w){case"bestFit":{var Ee;const W=(Ee=se.filter(V=>{if(G){const ge=qi(V.placement);return ge===D||ge==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(ge=>ge>0).reduce((ge,Se)=>ge+Se,0)]).sort((V,ge)=>V[1]-ge[1])[0])==null?void 0:Ee[0];W&&(B=W);break}case"initialPlacement":B=c;break}if(a!==B)return{reset:{placement:B}}}return{}}}};function Vw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yw(t){return UR.some(e=>t[e]>=0)}const yD=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:i="referenceHidden",...a}=ho(t,e);switch(i){case"referenceHidden":{const s=await Wc(e,{...a,elementContext:"reference"}),u=Vw(s,n.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:Yw(u)}}}case"escaped":{const s=await Wc(e,{...a,altBoundary:!0}),u=Vw(s,n.floating);return{data:{escapedOffsets:u,escaped:Yw(u)}}}default:return{}}}}};function jC(t){const e=Vi(...t.map(s=>s.left)),n=Vi(...t.map(s=>s.top)),i=yr(...t.map(s=>s.right)),a=yr(...t.map(s=>s.bottom));return{x:e,y:n,width:i-e,height:a-n}}function vD(t){const e=t.slice().sort((a,s)=>a.y-s.y),n=[];let i=null;for(let a=0;a<e.length;a++){const s=e[a];!i||s.y-i.y>i.height/2?n.push([s]):n[n.length-1].push(s),i=s}return n.map(a=>iu(jC(a)))}const bD=function(t){return t===void 0&&(t={}),{name:"inline",options:t,async fn(e){const{placement:n,elements:i,rects:a,platform:s,strategy:u}=e,{padding:c=2,x:f,y:h}=ho(t,e),g=Array.from(await(s.getClientRects==null?void 0:s.getClientRects(i.reference))||[]),y=vD(g),v=iu(jC(g)),w=Xy(c);function _(){if(y.length===2&&y[0].left>y[1].right&&f!=null&&h!=null)return y.find(P=>f>P.left-w.left&&f<P.right+w.right&&h>P.top-w.top&&h<P.bottom+w.bottom)||v;if(y.length>=2){if(qi(n)==="y"){const se=y[0],de=y[y.length-1],me=Yi(n)==="top",Ee=se.top,ce=de.bottom,xe=me?se.left:de.left,B=me?se.right:de.right,W=B-xe,V=ce-Ee;return{top:Ee,bottom:ce,left:xe,right:B,width:W,height:V,x:xe,y:Ee}}const P=Yi(n)==="left",N=yr(...y.map(se=>se.right)),D=Vi(...y.map(se=>se.left)),A=y.filter(se=>P?se.left===D:se.right===N),z=A[0].top,L=A[A.length-1].bottom,G=D,j=N,U=j-G,ie=L-z;return{top:z,bottom:L,left:G,right:j,width:U,height:ie,x:G,y:z}}return v}const E=await s.getElementRects({reference:{getBoundingClientRect:_},floating:i.floating,strategy:u});return a.reference.x!==E.reference.x||a.reference.y!==E.reference.y||a.reference.width!==E.reference.width||a.reference.height!==E.reference.height?{reset:{rects:E}}:{}}}},kC=new Set(["left","top"]);async function xD(t,e){const{placement:n,platform:i,elements:a}=t,s=await(i.isRTL==null?void 0:i.isRTL(a.floating)),u=Yi(n),c=vu(n),f=qi(n)==="y",h=kC.has(u)?-1:1,g=s&&f?-1:1,y=ho(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:_}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return c&&typeof _=="number"&&(w=c==="end"?_*-1:_),f?{x:w*g,y:v*h}:{x:v*h,y:w*g}}const wD=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:a,y:s,placement:u,middlewareData:c}=e,f=await xD(e,t);return u===((n=c.offset)==null?void 0:n.placement)&&(i=c.arrow)!=null&&i.alignmentOffset?{}:{x:a+f.x,y:s+f.y,data:{...f,placement:u}}}}},SD=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:a}=e,{mainAxis:s=!0,crossAxis:u=!1,limiter:c={fn:P=>{let{x:N,y:D}=P;return{x:N,y:D}}},...f}=ho(t,e),h={x:n,y:i},g=await Wc(e,f),y=qi(Yi(a)),v=Yy(y);let w=h[v],_=h[y];if(s){const P=v==="y"?"top":"left",N=v==="y"?"bottom":"right",D=w+g[P],A=w-g[N];w=oy(D,w,A)}if(u){const P=y==="y"?"top":"left",N=y==="y"?"bottom":"right",D=_+g[P],A=_-g[N];_=oy(D,_,A)}const E=c.fn({...e,[v]:w,[y]:_});return{...E,data:{x:E.x-n,y:E.y-i,enabled:{[v]:s,[y]:u}}}}}},CD=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:i,placement:a,rects:s,middlewareData:u}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=ho(t,e),g={x:n,y:i},y=qi(a),v=Yy(y);let w=g[v],_=g[y];const E=ho(c,e),P=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(f){const A=v==="y"?"height":"width",z=s.reference[v]-s.floating[A]+P.mainAxis,L=s.reference[v]+s.reference[A]-P.mainAxis;w<z?w=z:w>L&&(w=L)}if(h){var N,D;const A=v==="y"?"width":"height",z=kC.has(Yi(a)),L=s.reference[y]-s.floating[A]+(z&&((N=u.offset)==null?void 0:N[y])||0)+(z?0:P.crossAxis),G=s.reference[y]+s.reference[A]+(z?0:((D=u.offset)==null?void 0:D[y])||0)-(z?P.crossAxis:0);_<L?_=L:_>G&&(_=G)}return{[v]:w,[y]:_}}}},_D=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,i;const{placement:a,rects:s,platform:u,elements:c}=e,{apply:f=()=>{},...h}=ho(t,e),g=await Wc(e,h),y=Yi(a),v=vu(a),w=qi(a)==="y",{width:_,height:E}=s.floating;let P,N;y==="top"||y==="bottom"?(P=y,N=v===(await(u.isRTL==null?void 0:u.isRTL(c.floating))?"start":"end")?"left":"right"):(N=y,P=v==="end"?"top":"bottom");const D=E-g.top-g.bottom,A=_-g.left-g.right,z=Vi(E-g[P],D),L=Vi(_-g[N],A),G=!e.middlewareData.shift;let j=z,U=L;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(U=A),(i=e.middlewareData.shift)!=null&&i.enabled.y&&(j=D),G&&!v){const se=yr(g.left,0),de=yr(g.right,0),me=yr(g.top,0),Ee=yr(g.bottom,0);w?U=_-2*(se!==0||de!==0?se+de:yr(g.left,g.right)):j=E-2*(me!==0||Ee!==0?me+Ee:yr(g.top,g.bottom))}await f({...e,availableWidth:U,availableHeight:j});const ie=await u.getDimensions(c.floating);return _!==ie.width||E!==ie.height?{reset:{rects:!0}}:{}}}};function zC(t){const e=Ri(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const a=fi(t),s=a?t.offsetWidth:n,u=a?t.offsetHeight:i,c=dh(n)!==s||dh(i)!==u;return c&&(n=s,i=u),{width:n,height:i,$:c}}function Qy(t){return mn(t)?t:t.contextElement}function tu(t){const e=Qy(t);if(!fi(e))return uo(1);const n=e.getBoundingClientRect(),{width:i,height:a,$:s}=zC(e);let u=(s?dh(n.width):n.width)/i,c=(s?dh(n.height):n.height)/a;return(!u||!Number.isFinite(u))&&(u=1),(!c||!Number.isFinite(c))&&(c=1),{x:u,y:c}}const ED=uo(0);function LC(t){const e=Yr(t);return!zh()||!e.visualViewport?ED:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function OD(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Yr(t)?!1:e}function Ls(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const a=t.getBoundingClientRect(),s=Qy(t);let u=uo(1);e&&(i?mn(i)&&(u=tu(i)):u=tu(t));const c=OD(s,n,i)?LC(s):uo(0);let f=(a.left+c.x)/u.x,h=(a.top+c.y)/u.y,g=a.width/u.x,y=a.height/u.y;if(s){const v=Yr(s),w=i&&mn(i)?Yr(i):i;let _=v,E=iy(_);for(;E&&i&&w!==_;){const P=tu(E),N=E.getBoundingClientRect(),D=Ri(E),A=N.left+(E.clientLeft+parseFloat(D.paddingLeft))*P.x,z=N.top+(E.clientTop+parseFloat(D.paddingTop))*P.y;f*=P.x,h*=P.y,g*=P.x,y*=P.y,f+=A,h+=z,_=Yr(E),E=iy(_)}}return iu({width:g,height:y,x:f,y:h})}function Fh(t,e){const n=Lh(t).scrollLeft;return e?e.left+n:Ls(yo(t)).left+n}function FC(t,e){const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-Fh(t,n),a=n.top+e.scrollTop;return{x:i,y:a}}function TD(t){let{elements:e,rect:n,offsetParent:i,strategy:a}=t;const s=a==="fixed",u=yo(i),c=e?kh(e.floating):!1;if(i===u||c&&s)return n;let f={scrollLeft:0,scrollTop:0},h=uo(1);const g=uo(0),y=fi(i);if((y||!y&&!s)&&((yu(i)!=="body"||id(u))&&(f=Lh(i)),fi(i))){const w=Ls(i);h=tu(i),g.x=w.x+i.clientLeft,g.y=w.y+i.clientTop}const v=u&&!y&&!s?FC(u,f):uo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-f.scrollLeft*h.x+g.x+v.x,y:n.y*h.y-f.scrollTop*h.y+g.y+v.y}}function MD(t){return Array.from(t.getClientRects())}function PD(t){const e=yo(t),n=Lh(t),i=t.ownerDocument.body,a=yr(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),s=yr(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+Fh(t);const c=-n.scrollTop;return Ri(i).direction==="rtl"&&(u+=yr(e.clientWidth,i.clientWidth)-a),{width:a,height:s,x:u,y:c}}const Kw=25;function RD(t,e){const n=Yr(t),i=yo(t),a=n.visualViewport;let s=i.clientWidth,u=i.clientHeight,c=0,f=0;if(a){s=a.width,u=a.height;const g=zh();(!g||g&&e==="fixed")&&(c=a.offsetLeft,f=a.offsetTop)}const h=Fh(i);if(h<=0){const g=i.ownerDocument,y=g.body,v=getComputedStyle(y),w=g.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,_=Math.abs(i.clientWidth-y.clientWidth-w);_<=Kw&&(s-=_)}else h<=Kw&&(s+=h);return{width:s,height:u,x:c,y:f}}const DD=new Set(["absolute","fixed"]);function AD(t,e){const n=Ls(t,!0,e==="fixed"),i=n.top+t.clientTop,a=n.left+t.clientLeft,s=fi(t)?tu(t):uo(1),u=t.clientWidth*s.x,c=t.clientHeight*s.y,f=a*s.x,h=i*s.y;return{width:u,height:c,x:f,y:h}}function Ww(t,e,n){let i;if(e==="viewport")i=RD(t,n);else if(e==="document")i=PD(yo(t));else if(mn(e))i=AD(e,n);else{const a=LC(t);i={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return iu(i)}function BC(t,e){const n=Qo(t);return n===e||!mn(n)||Wo(n)?!1:Ri(n).position==="fixed"||BC(n,e)}function ND(t,e){const n=e.get(t);if(n)return n;let i=Xo(t,[],!1).filter(c=>mn(c)&&yu(c)!=="body"),a=null;const s=Ri(t).position==="fixed";let u=s?Qo(t):t;for(;mn(u)&&!Wo(u);){const c=Ri(u),f=Vy(u);!f&&c.position==="fixed"&&(a=null),(s?!f&&!a:!f&&c.position==="static"&&!!a&&DD.has(a.position)||id(u)&&!f&&BC(t,u))?i=i.filter(g=>g!==u):a=c,u=Qo(u)}return e.set(t,i),i}function ID(t){let{element:e,boundary:n,rootBoundary:i,strategy:a}=t;const u=[...n==="clippingAncestors"?kh(e)?[]:ND(e,this._c):[].concat(n),i],c=u[0],f=u.reduce((h,g)=>{const y=Ww(e,g,a);return h.top=yr(y.top,h.top),h.right=Vi(y.right,h.right),h.bottom=Vi(y.bottom,h.bottom),h.left=yr(y.left,h.left),h},Ww(e,c,a));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function jD(t){const{width:e,height:n}=zC(t);return{width:e,height:n}}function kD(t,e,n){const i=fi(e),a=yo(e),s=n==="fixed",u=Ls(t,!0,s,e);let c={scrollLeft:0,scrollTop:0};const f=uo(0);function h(){f.x=Fh(a)}if(i||!i&&!s)if((yu(e)!=="body"||id(a))&&(c=Lh(e)),i){const w=Ls(e,!0,s,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else a&&h();s&&!i&&a&&h();const g=a&&!i&&!s?FC(a,c):uo(0),y=u.left+c.scrollLeft-f.x-g.x,v=u.top+c.scrollTop-f.y-g.y;return{x:y,y:v,width:u.width,height:u.height}}function Mg(t){return Ri(t).position==="static"}function Xw(t,e){if(!fi(t)||Ri(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return yo(t)===n&&(n=n.ownerDocument.body),n}function UC(t,e){const n=Yr(t);if(kh(t))return n;if(!fi(t)){let a=Qo(t);for(;a&&!Wo(a);){if(mn(a)&&!Mg(a))return a;a=Qo(a)}return n}let i=Xw(t,e);for(;i&&IR(i)&&Mg(i);)i=Xw(i,e);return i&&Wo(i)&&Mg(i)&&!Vy(i)?n:i||FR(t)||n}const zD=async function(t){const e=this.getOffsetParent||UC,n=this.getDimensions,i=await n(t.floating);return{reference:kD(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function LD(t){return Ri(t).direction==="rtl"}const FD={convertOffsetParentRelativeRectToViewportRelativeRect:TD,getDocumentElement:yo,getClippingRect:ID,getOffsetParent:UC,getElementRects:zD,getClientRects:MD,getDimensions:jD,getScale:tu,isElement:mn,isRTL:LD};function $C(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function BD(t,e){let n=null,i;const a=yo(t);function s(){var c;clearTimeout(i),(c=n)==null||c.disconnect(),n=null}function u(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),s();const h=t.getBoundingClientRect(),{left:g,top:y,width:v,height:w}=h;if(c||e(),!v||!w)return;const _=zf(y),E=zf(a.clientWidth-(g+v)),P=zf(a.clientHeight-(y+w)),N=zf(g),A={rootMargin:-_+"px "+-E+"px "+-P+"px "+-N+"px",threshold:yr(0,Vi(1,f))||1};let z=!0;function L(G){const j=G[0].intersectionRatio;if(j!==f){if(!z)return u();j?u(!1,j):i=setTimeout(()=>{u(!1,1e-7)},1e3)}j===1&&!$C(h,t.getBoundingClientRect())&&u(),z=!1}try{n=new IntersectionObserver(L,{...A,root:a.ownerDocument})}catch{n=new IntersectionObserver(L,A)}n.observe(t)}return u(!0),s}function ly(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=i,h=Qy(t),g=a||s?[...h?Xo(h):[],...Xo(e)]:[];g.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const y=h&&c?BD(h,n):null;let v=-1,w=null;u&&(w=new ResizeObserver(N=>{let[D]=N;D&&D.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=w)==null||A.observe(e)})),n()}),h&&!f&&w.observe(h),w.observe(e));let _,E=f?Ls(t):null;f&&P();function P(){const N=Ls(t);E&&!$C(E,N)&&n(),E=N,_=requestAnimationFrame(P)}return n(),()=>{var N;g.forEach(D=>{a&&D.removeEventListener("scroll",n),s&&D.removeEventListener("resize",n)}),y?.(),(N=w)==null||N.disconnect(),w=null,f&&cancelAnimationFrame(_)}}const UD=wD,$D=SD,HD=gD,qD=_D,GD=yD,Qw=mD,VD=bD,YD=CD,KD=(t,e,n)=>{const i=new Map,a={platform:FD,...n},s={...a.platform,_c:i};return pD(t,e,{...a,platform:s})};var WD=typeof document<"u",XD=function(){},eh=WD?S.useLayoutEffect:XD;function hh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,i,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(i=n;i--!==0;)if(!hh(t[i],e[i]))return!1;return!0}if(a=Object.keys(t),n=a.length,n!==Object.keys(e).length)return!1;for(i=n;i--!==0;)if(!{}.hasOwnProperty.call(e,a[i]))return!1;for(i=n;i--!==0;){const s=a[i];if(!(s==="_owner"&&t.$$typeof)&&!hh(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function HC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Zw(t,e){const n=HC(t);return Math.round(e*n)/n}function Pg(t){const e=S.useRef(t);return eh(()=>{e.current=t}),e}function QD(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:i=[],platform:a,elements:{reference:s,floating:u}={},transform:c=!0,whileElementsMounted:f,open:h}=t,[g,y]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[v,w]=S.useState(i);hh(v,i)||w(i);const[_,E]=S.useState(null),[P,N]=S.useState(null),D=S.useCallback(V=>{V!==G.current&&(G.current=V,E(V))},[]),A=S.useCallback(V=>{V!==j.current&&(j.current=V,N(V))},[]),z=s||_,L=u||P,G=S.useRef(null),j=S.useRef(null),U=S.useRef(g),ie=f!=null,se=Pg(f),de=Pg(a),me=Pg(h),Ee=S.useCallback(()=>{if(!G.current||!j.current)return;const V={placement:e,strategy:n,middleware:v};de.current&&(V.platform=de.current),KD(G.current,j.current,V).then(ge=>{const Se={...ge,isPositioned:me.current!==!1};ce.current&&!hh(U.current,Se)&&(U.current=Se,$s.flushSync(()=>{y(Se)}))})},[v,e,n,de,me]);eh(()=>{h===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,y(V=>({...V,isPositioned:!1})))},[h]);const ce=S.useRef(!1);eh(()=>(ce.current=!0,()=>{ce.current=!1}),[]),eh(()=>{if(z&&(G.current=z),L&&(j.current=L),z&&L){if(se.current)return se.current(z,L,Ee);Ee()}},[z,L,Ee,se,ie]);const xe=S.useMemo(()=>({reference:G,floating:j,setReference:D,setFloating:A}),[D,A]),B=S.useMemo(()=>({reference:z,floating:L}),[z,L]),W=S.useMemo(()=>{const V={position:n,left:0,top:0};if(!B.floating)return V;const ge=Zw(B.floating,g.x),Se=Zw(B.floating,g.y);return c?{...V,transform:"translate("+ge+"px, "+Se+"px)",...HC(B.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:ge,top:Se}},[n,c,B.floating,g.x,g.y]);return S.useMemo(()=>({...g,update:Ee,refs:xe,elements:B,floatingStyles:W}),[g,Ee,xe,B,W])}const ZD=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:i,padding:a}=typeof t=="function"?t(n):t;return i&&e(i)?i.current!=null?Qw({element:i.current,padding:a}).fn(n):{}:i?Qw({element:i,padding:a}).fn(n):{}}}},qC=(t,e)=>({...UD(t),options:[t,e]}),Zy=(t,e)=>({...$D(t),options:[t,e]}),Jw=(t,e)=>({...YD(t),options:[t,e]}),ph=(t,e)=>({...HD(t),options:[t,e]}),JD=(t,e)=>({...qD(t),options:[t,e]}),e2=(t,e)=>({...GD(t),options:[t,e]}),$c=(t,e)=>({...VD(t),options:[t,e]}),GC=(t,e)=>({...ZD(t),options:[t,e]});function VC(t){const e=S.useRef(void 0),n=S.useCallback(i=>{const a=t.map(s=>{if(s!=null){if(typeof s=="function"){const u=s,c=u(i);return typeof c=="function"?c:()=>{u(null)}}return s.current=i,()=>{s.current=null}}});return()=>{a.forEach(s=>s?.())}},t);return S.useMemo(()=>t.every(i=>i==null)?null:i=>{e.current&&(e.current(),e.current=void 0),i!=null&&(e.current=n(i))},t)}const t2="data-floating-ui-focusable",e1="active",t1="selected",n2={...Iy};let n1=!1,r2=0;const r1=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+r2++;function i2(){const[t,e]=S.useState(()=>n1?r1():void 0);return co(()=>{t==null&&e(r1())},[]),S.useEffect(()=>{n1=!0},[]),t}const o2=n2.useId,YC=o2||i2;function a2(){const t=new Map;return{emit(e,n){var i;(i=t.get(e))==null||i.forEach(a=>a(n))},on(e,n){t.has(e)||t.set(e,new Set),t.get(e).add(n)},off(e,n){var i;(i=t.get(e))==null||i.delete(n)}}}const s2=S.createContext(null),l2=S.createContext(null),Jy=()=>{var t;return((t=S.useContext(s2))==null?void 0:t.id)||null},ev=()=>S.useContext(l2);function tv(t){return"data-floating-ui-"+t}function Oi(t){t.current!==-1&&(clearTimeout(t.current),t.current=-1)}const i1=tv("safe-polygon");function th(t,e,n){if(n&&!sy(n))return 0;if(typeof t=="number")return t;if(typeof t=="function"){const i=t();return typeof i=="number"?i:i?.[e]}return t?.[e]}function Rg(t){return typeof t=="function"?t():t}function u2(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,dataRef:a,events:s,elements:u}=t,{enabled:c=!0,delay:f=0,handleClose:h=null,mouseOnly:g=!1,restMs:y=0,move:v=!0}=e,w=ev(),_=Jy(),E=Lf(h),P=Lf(f),N=Lf(n),D=Lf(y),A=S.useRef(),z=S.useRef(-1),L=S.useRef(),G=S.useRef(-1),j=S.useRef(!0),U=S.useRef(!1),ie=S.useRef(()=>{}),se=S.useRef(!1),de=lo(()=>{var W;const V=(W=a.current.openEvent)==null?void 0:W.type;return V?.includes("mouse")&&V!=="mousedown"});S.useEffect(()=>{if(!c)return;function W(V){let{open:ge}=V;ge||(Oi(z),Oi(G),j.current=!0,se.current=!1)}return s.on("openchange",W),()=>{s.off("openchange",W)}},[c,s]),S.useEffect(()=>{if(!c||!E.current||!n)return;function W(ge){de()&&i(!1,ge,"hover")}const V=Ds(u.floating).documentElement;return V.addEventListener("mouseleave",W),()=>{V.removeEventListener("mouseleave",W)}},[u.floating,n,i,c,E,de]);const me=S.useCallback(function(W,V,ge){V===void 0&&(V=!0),ge===void 0&&(ge="hover");const Se=th(P.current,"close",A.current);Se&&!L.current?(Oi(z),z.current=window.setTimeout(()=>i(!1,W,ge),Se)):V&&(Oi(z),i(!1,W,ge))},[P,i]),Ee=lo(()=>{ie.current(),L.current=void 0}),ce=lo(()=>{if(U.current){const W=Ds(u.floating).body;W.style.pointerEvents="",W.removeAttribute(i1),U.current=!1}}),xe=lo(()=>a.current.openEvent?["click","mousedown"].includes(a.current.openEvent.type):!1);S.useEffect(()=>{if(!c)return;function W(ne){if(Oi(z),j.current=!1,g&&!sy(A.current)||Rg(D.current)>0&&!th(P.current,"open"))return;const Ce=th(P.current,"open",A.current);Ce?z.current=window.setTimeout(()=>{N.current||i(!0,ne,"hover")},Ce):n||i(!0,ne,"hover")}function V(ne){if(xe()){ce();return}ie.current();const Ce=Ds(u.floating);if(Oi(G),se.current=!1,E.current&&a.current.floatingContext){n||Oi(z),L.current=E.current({...a.current.floatingContext,tree:w,x:ne.clientX,y:ne.clientY,onClose(){ce(),Ee(),xe()||me(ne,!0,"safe-polygon")}});const Ie=L.current;Ce.addEventListener("mousemove",Ie),ie.current=()=>{Ce.removeEventListener("mousemove",Ie)};return}(A.current!=="touch"||!Kc(u.floating,ne.relatedTarget))&&me(ne)}function ge(ne){xe()||a.current.floatingContext&&(E.current==null||E.current({...a.current.floatingContext,tree:w,x:ne.clientX,y:ne.clientY,onClose(){ce(),Ee(),xe()||me(ne)}})(ne))}function Se(){Oi(z)}function H(ne){xe()||me(ne,!1)}if(mn(u.domReference)){const ne=u.domReference,Ce=u.floating;return n&&ne.addEventListener("mouseleave",ge),v&&ne.addEventListener("mousemove",W,{once:!0}),ne.addEventListener("mouseenter",W),ne.addEventListener("mouseleave",V),Ce&&(Ce.addEventListener("mouseleave",ge),Ce.addEventListener("mouseenter",Se),Ce.addEventListener("mouseleave",H)),()=>{n&&ne.removeEventListener("mouseleave",ge),v&&ne.removeEventListener("mousemove",W),ne.removeEventListener("mouseenter",W),ne.removeEventListener("mouseleave",V),Ce&&(Ce.removeEventListener("mouseleave",ge),Ce.removeEventListener("mouseenter",Se),Ce.removeEventListener("mouseleave",H))}}},[u,c,t,g,v,me,Ee,ce,i,n,N,w,P,E,a,xe,D]),co(()=>{var W;if(c&&n&&(W=E.current)!=null&&(W=W.__options)!=null&&W.blockPointerEvents&&de()){U.current=!0;const ge=u.floating;if(mn(u.domReference)&&ge){var V;const Se=Ds(u.floating).body;Se.setAttribute(i1,"");const H=u.domReference,ne=w==null||(V=w.nodesRef.current.find(Ce=>Ce.id===_))==null||(V=V.context)==null?void 0:V.elements.floating;return ne&&(ne.style.pointerEvents=""),Se.style.pointerEvents="none",H.style.pointerEvents="auto",ge.style.pointerEvents="auto",()=>{Se.style.pointerEvents="",H.style.pointerEvents="",ge.style.pointerEvents=""}}}},[c,n,_,u,w,E,de]),co(()=>{n||(A.current=void 0,se.current=!1,Ee(),ce())},[n,Ee,ce]),S.useEffect(()=>()=>{Ee(),Oi(z),Oi(G),ce()},[c,u.domReference,Ee,ce]);const B=S.useMemo(()=>{function W(V){A.current=V.pointerType}return{onPointerDown:W,onPointerEnter:W,onMouseMove(V){const{nativeEvent:ge}=V;function Se(){!j.current&&!N.current&&i(!0,ge,"hover")}g&&!sy(A.current)||n||Rg(D.current)===0||se.current&&V.movementX**2+V.movementY**2<2||(Oi(G),A.current==="touch"?Se():(se.current=!0,G.current=window.setTimeout(Se,Rg(D.current))))}}},[g,i,n,N,D]);return S.useMemo(()=>c?{reference:B}:{},[c,B])}const uy=()=>{},KC=S.createContext({delay:0,initialDelay:0,timeoutMs:0,currentId:null,setCurrentId:uy,setState:uy,isInstantPhase:!1}),c2=()=>S.useContext(KC);function d2(t){const{children:e,delay:n,timeoutMs:i=0}=t,[a,s]=S.useReducer((f,h)=>({...f,...h}),{delay:n,timeoutMs:i,initialDelay:n,currentId:null,isInstantPhase:!1}),u=S.useRef(null),c=S.useCallback(f=>{s({currentId:f})},[]);return co(()=>{a.currentId?u.current===null?u.current=a.currentId:a.isInstantPhase||s({isInstantPhase:!0}):(a.isInstantPhase&&s({isInstantPhase:!1}),u.current=null)},[a.currentId,a.isInstantPhase]),M.jsx(KC.Provider,{value:S.useMemo(()=>({...a,setState:s,setCurrentId:c}),[a,c]),children:e})}function f2(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,floatingId:a}=t,{id:s,enabled:u=!0}=e,c=s??a,f=c2(),{currentId:h,setCurrentId:g,initialDelay:y,setState:v,timeoutMs:w}=f;return co(()=>{u&&h&&(v({delay:{open:1,close:th(y,"close")}}),h!==c&&i(!1))},[u,c,i,v,h,y]),co(()=>{function _(){i(!1),v({delay:y,currentId:null})}if(u&&h&&!n&&h===c){if(w){const E=window.setTimeout(_,w);return()=>{clearTimeout(E)}}_()}},[u,n,v,h,c,i,y,w]),co(()=>{u&&(g===uy||!n||g(c))},[u,n,g,c]),f}const h2={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},p2={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},o1=t=>{var e,n;return{escapeKey:typeof t=="boolean"?t:(e=t?.escapeKey)!=null?e:!1,outsidePress:typeof t=="boolean"?t:(n=t?.outsidePress)!=null?n:!0}};function m2(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,elements:a,dataRef:s}=t,{enabled:u=!0,escapeKey:c=!0,outsidePress:f=!0,outsidePressEvent:h="pointerdown",referencePress:g=!1,referencePressEvent:y="pointerdown",ancestorScroll:v=!1,bubbles:w,capture:_}=e,E=ev(),P=lo(typeof f=="function"?f:()=>!1),N=typeof f=="function"?P:f,D=S.useRef(!1),{escapeKey:A,outsidePress:z}=o1(w),{escapeKey:L,outsidePress:G}=o1(_),j=S.useRef(!1),U=lo(ce=>{var xe;if(!n||!u||!c||ce.key!=="Escape"||j.current)return;const B=(xe=s.current.floatingContext)==null?void 0:xe.nodeId,W=E?Jf(E.nodesRef.current,B):[];if(!A&&(ce.stopPropagation(),W.length>0)){let V=!0;if(W.forEach(ge=>{var Se;if((Se=ge.context)!=null&&Se.open&&!ge.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}i(!1,lD(ce)?ce.nativeEvent:ce,"escape-key")}),ie=lo(ce=>{var xe;const B=()=>{var W;U(ce),(W=Wl(ce))==null||W.removeEventListener("keydown",B)};(xe=Wl(ce))==null||xe.addEventListener("keydown",B)}),se=lo(ce=>{var xe;const B=s.current.insideReactTree;s.current.insideReactTree=!1;const W=D.current;if(D.current=!1,h==="click"&&W||B||typeof N=="function"&&!N(ce))return;const V=Wl(ce),ge="["+tv("inert")+"]",Se=Ds(a.floating).querySelectorAll(ge);let H=mn(V)?V:null;for(;H&&!Wo(H);){const Ie=Qo(H);if(Wo(Ie)||!mn(Ie))break;H=Ie}if(Se.length&&mn(V)&&!iD(V)&&!Kc(V,a.floating)&&Array.from(Se).every(Ie=>!Kc(H,Ie)))return;if(fi(V)&&Ee){const Ie=Wo(V),qe=Ri(V),nt=/auto|scroll/,wt=Ie||nt.test(qe.overflowX),De=Ie||nt.test(qe.overflowY),Jt=wt&&V.clientWidth>0&&V.scrollWidth>V.clientWidth,un=De&&V.clientHeight>0&&V.scrollHeight>V.clientHeight,Je=qe.direction==="rtl",ht=un&&(Je?ce.offsetX<=V.offsetWidth-V.clientWidth:ce.offsetX>V.clientWidth),Ft=Jt&&ce.offsetY>V.clientHeight;if(ht||Ft)return}const ne=(xe=s.current.floatingContext)==null?void 0:xe.nodeId,Ce=E&&Jf(E.nodesRef.current,ne).some(Ie=>{var qe;return Tg(ce,(qe=Ie.context)==null?void 0:qe.elements.floating)});if(Tg(ce,a.floating)||Tg(ce,a.domReference)||Ce)return;const Ne=E?Jf(E.nodesRef.current,ne):[];if(Ne.length>0){let Ie=!0;if(Ne.forEach(qe=>{var nt;if((nt=qe.context)!=null&&nt.open&&!qe.context.dataRef.current.__outsidePressBubbles){Ie=!1;return}}),!Ie)return}i(!1,ce,"outside-press")}),de=lo(ce=>{var xe;const B=()=>{var W;se(ce),(W=Wl(ce))==null||W.removeEventListener(h,B)};(xe=Wl(ce))==null||xe.addEventListener(h,B)});S.useEffect(()=>{if(!n||!u)return;s.current.__escapeKeyBubbles=A,s.current.__outsidePressBubbles=z;let ce=-1;function xe(Se){i(!1,Se,"ancestor-scroll")}function B(){window.clearTimeout(ce),j.current=!0}function W(){ce=window.setTimeout(()=>{j.current=!1},zh()?5:0)}const V=Ds(a.floating);c&&(V.addEventListener("keydown",L?ie:U,L),V.addEventListener("compositionstart",B),V.addEventListener("compositionend",W)),N&&V.addEventListener(h,G?de:se,G);let ge=[];return v&&(mn(a.domReference)&&(ge=Xo(a.domReference)),mn(a.floating)&&(ge=ge.concat(Xo(a.floating))),!mn(a.reference)&&a.reference&&a.reference.contextElement&&(ge=ge.concat(Xo(a.reference.contextElement)))),ge=ge.filter(Se=>{var H;return Se!==((H=V.defaultView)==null?void 0:H.visualViewport)}),ge.forEach(Se=>{Se.addEventListener("scroll",xe,{passive:!0})}),()=>{c&&(V.removeEventListener("keydown",L?ie:U,L),V.removeEventListener("compositionstart",B),V.removeEventListener("compositionend",W)),N&&V.removeEventListener(h,G?de:se,G),ge.forEach(Se=>{Se.removeEventListener("scroll",xe)}),window.clearTimeout(ce)}},[s,a,c,N,h,n,i,v,u,A,z,U,L,ie,se,G,de]),S.useEffect(()=>{s.current.insideReactTree=!1},[s,N,h]);const me=S.useMemo(()=>({onKeyDown:U,...g&&{[h2[y]]:ce=>{i(!1,ce.nativeEvent,"reference-press")},...y!=="click"&&{onClick(ce){i(!1,ce.nativeEvent,"reference-press")}}}}),[U,i,g,y]),Ee=S.useMemo(()=>({onKeyDown:U,onMouseDown(){D.current=!0},onMouseUp(){D.current=!0},[p2[h]]:()=>{s.current.insideReactTree=!0}}),[U,h,s]);return S.useMemo(()=>u?{reference:me,floating:Ee}:{},[u,me,Ee])}function g2(t){const{open:e=!1,onOpenChange:n,elements:i}=t,a=YC(),s=S.useRef({}),[u]=S.useState(()=>a2()),c=Jy()!=null,[f,h]=S.useState(i.reference),g=lo((w,_,E)=>{s.current.openEvent=w?_:void 0,u.emit("openchange",{open:w,event:_,reason:E,nested:c}),n?.(w,_,E)}),y=S.useMemo(()=>({setPositionReference:h}),[]),v=S.useMemo(()=>({reference:f||i.reference||null,floating:i.floating||null,domReference:i.reference}),[f,i.reference,i.floating]);return S.useMemo(()=>({dataRef:s,open:e,onOpenChange:g,elements:v,events:u,floatingId:a,refs:y}),[e,g,v,u,a,y])}function nv(t){t===void 0&&(t={});const{nodeId:e}=t,n=g2({...t,elements:{reference:null,floating:null,...t.elements}}),i=t.rootContext||n,a=i.elements,[s,u]=S.useState(null),[c,f]=S.useState(null),g=a?.domReference||s,y=S.useRef(null),v=ev();co(()=>{g&&(y.current=g)},[g]);const w=QD({...t,elements:{...a,...c&&{reference:c}}}),_=S.useCallback(A=>{const z=mn(A)?{getBoundingClientRect:()=>A.getBoundingClientRect(),getClientRects:()=>A.getClientRects(),contextElement:A}:A;f(z),w.refs.setReference(z)},[w.refs]),E=S.useCallback(A=>{(mn(A)||A===null)&&(y.current=A,u(A)),(mn(w.refs.reference.current)||w.refs.reference.current===null||A!==null&&!mn(A))&&w.refs.setReference(A)},[w.refs]),P=S.useMemo(()=>({...w.refs,setReference:E,setPositionReference:_,domReference:y}),[w.refs,E,_]),N=S.useMemo(()=>({...w.elements,domReference:g}),[w.elements,g]),D=S.useMemo(()=>({...w,...i,refs:P,elements:N,nodeId:e}),[w,P,N,e,i]);return co(()=>{i.dataRef.current.floatingContext=D;const A=v?.nodesRef.current.find(z=>z.id===e);A&&(A.context=D)}),S.useMemo(()=>({...w,context:D,refs:P,elements:N}),[w,P,N,D])}function Dg(){return tD()&&eD()}function y2(t,e){e===void 0&&(e={});const{open:n,onOpenChange:i,events:a,dataRef:s,elements:u}=t,{enabled:c=!0,visibleOnly:f=!0}=e,h=S.useRef(!1),g=S.useRef(-1),y=S.useRef(!0);S.useEffect(()=>{if(!c)return;const w=Yr(u.domReference);function _(){!n&&fi(u.domReference)&&u.domReference===qw(Ds(u.domReference))&&(h.current=!0)}function E(){y.current=!0}function P(){y.current=!1}return w.addEventListener("blur",_),Dg()&&(w.addEventListener("keydown",E,!0),w.addEventListener("pointerdown",P,!0)),()=>{w.removeEventListener("blur",_),Dg()&&(w.removeEventListener("keydown",E,!0),w.removeEventListener("pointerdown",P,!0))}},[u.domReference,n,c]),S.useEffect(()=>{if(!c)return;function w(_){let{reason:E}=_;(E==="reference-press"||E==="escape-key")&&(h.current=!0)}return a.on("openchange",w),()=>{a.off("openchange",w)}},[a,c]),S.useEffect(()=>()=>{Oi(g)},[]);const v=S.useMemo(()=>({onMouseLeave(){h.current=!1},onFocus(w){if(h.current)return;const _=Wl(w.nativeEvent);if(f&&mn(_)){if(Dg()&&!w.relatedTarget){if(!y.current&&!oD(_))return}else if(!aD(_))return}i(!0,w.nativeEvent,"focus")},onBlur(w){h.current=!1;const _=w.relatedTarget,E=w.nativeEvent,P=mn(_)&&_.hasAttribute(tv("focus-guard"))&&_.getAttribute("data-type")==="outside";g.current=window.setTimeout(()=>{var N;const D=qw(u.domReference?u.domReference.ownerDocument:document);!_&&D===u.domReference||Kc((N=s.current.floatingContext)==null?void 0:N.refs.floating.current,D)||Kc(u.domReference,D)||P||i(!1,E,"focus")})}}),[s,u.domReference,i,f]);return S.useMemo(()=>c?{reference:v}:{},[c,v])}function Ag(t,e,n){const i=new Map,a=n==="item";let s=t;if(a&&t){const{[e1]:u,[t1]:c,...f}=t;s=f}return{...n==="floating"&&{tabIndex:-1,[t2]:""},...s,...e.map(u=>{const c=u?u[n]:null;return typeof c=="function"?t?c(t):null:c}).concat(t).reduce((u,c)=>(c&&Object.entries(c).forEach(f=>{let[h,g]=f;if(!(a&&[e1,t1].includes(h)))if(h.indexOf("on")===0){if(i.has(h)||i.set(h,[]),typeof g=="function"){var y;(y=i.get(h))==null||y.push(g),u[h]=function(){for(var v,w=arguments.length,_=new Array(w),E=0;E<w;E++)_[E]=arguments[E];return(v=i.get(h))==null?void 0:v.map(P=>P(..._)).find(P=>P!==void 0)}}}else u[h]=g}),u),{})}}function v2(t){t===void 0&&(t=[]);const e=t.map(c=>c?.reference),n=t.map(c=>c?.floating),i=t.map(c=>c?.item),a=S.useCallback(c=>Ag(c,t,"reference"),e),s=S.useCallback(c=>Ag(c,t,"floating"),n),u=S.useCallback(c=>Ag(c,t,"item"),i);return S.useMemo(()=>({getReferenceProps:a,getFloatingProps:s,getItemProps:u}),[a,s,u])}const b2=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function x2(t,e){var n,i;e===void 0&&(e={});const{open:a,elements:s,floatingId:u}=t,{enabled:c=!0,role:f="dialog"}=e,h=YC(),g=((n=s.domReference)==null?void 0:n.id)||h,y=S.useMemo(()=>{var D;return((D=sD(s.floating))==null?void 0:D.id)||u},[s.floating,u]),v=(i=b2.get(f))!=null?i:f,_=Jy()!=null,E=S.useMemo(()=>v==="tooltip"||f==="label"?{["aria-"+(f==="label"?"labelledby":"describedby")]:a?y:void 0}:{"aria-expanded":a?"true":"false","aria-haspopup":v==="alertdialog"?"dialog":v,"aria-controls":a?y:void 0,...v==="listbox"&&{role:"combobox"},...v==="menu"&&{id:g},...v==="menu"&&_&&{role:"menuitem"},...f==="select"&&{"aria-autocomplete":"none"},...f==="combobox"&&{"aria-autocomplete":"list"}},[v,y,_,a,g,f]),P=S.useMemo(()=>{const D={id:y,...v&&{role:v}};return v==="tooltip"||f==="label"?D:{...D,...v==="menu"&&{"aria-labelledby":g}}},[v,y,g,f]),N=S.useCallback(D=>{let{active:A,selected:z}=D;const L={role:"option",...A&&{id:y+"-fui-option"}};switch(f){case"select":case"combobox":return{...L,"aria-selected":z}}return{}},[y,f]);return S.useMemo(()=>c?{reference:E,floating:P,item:N}:{},[c,E,P,N])}var rv={root:"m_d57069b5",content:"m_b1336c6",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const[w2,Ni]=go("ScrollArea.Root component was not found in tree");function ou(t,e){const n=Rs(e);Za(()=>{let i=0;if(t){const a=new ResizeObserver(()=>{cancelAnimationFrame(i),i=window.requestAnimationFrame(n)});return a.observe(t),()=>{window.cancelAnimationFrame(i),a.unobserve(t)}}},[t,n])}const S2=S.forwardRef((t,e)=>{const{style:n,...i}=t,a=Ni(),[s,u]=S.useState(0),[c,f]=S.useState(0),h=!!(s&&c);return ou(a.scrollbarX,()=>{const g=a.scrollbarX?.offsetHeight||0;a.onCornerHeightChange(g),f(g)}),ou(a.scrollbarY,()=>{const g=a.scrollbarY?.offsetWidth||0;a.onCornerWidthChange(g),u(g)}),h?M.jsx("div",{...i,ref:e,style:{...n,width:s,height:c}}):null}),C2=S.forwardRef((t,e)=>{const n=Ni(),i=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&i?M.jsx(S2,{...t,ref:e}):null}),_2={scrollHideDelay:1e3,type:"hover"},WC=S.forwardRef((t,e)=>{const{type:n,scrollHideDelay:i,scrollbars:a,getStyles:s,...u}=Le("ScrollAreaRoot",_2,t),[c,f]=S.useState(null),[h,g]=S.useState(null),[y,v]=S.useState(null),[w,_]=S.useState(null),[E,P]=S.useState(null),[N,D]=S.useState(0),[A,z]=S.useState(0),[L,G]=S.useState(!1),[j,U]=S.useState(!1),ie=Wr(e,se=>f(se));return M.jsx(w2,{value:{type:n,scrollHideDelay:i,scrollArea:c,viewport:h,onViewportChange:g,content:y,onContentChange:v,scrollbarX:w,onScrollbarXChange:_,scrollbarXEnabled:L,onScrollbarXEnabledChange:G,scrollbarY:E,onScrollbarYChange:P,scrollbarYEnabled:j,onScrollbarYEnabledChange:U,onCornerWidthChange:D,onCornerHeightChange:z,getStyles:s},children:M.jsx(je,{...u,ref:ie,__vars:{"--sa-corner-width":a!=="xy"?"0px":`${N}px`,"--sa-corner-height":a!=="xy"?"0px":`${A}px`}})})});WC.displayName="@mantine/core/ScrollAreaRoot";function XC(t,e){const n=t/e;return Number.isNaN(n)?0:n}function Bh(t){const e=XC(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=(t.scrollbar.size-n)*e;return Math.max(i,18)}function QC(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const i=(e[1]-e[0])/(t[1]-t[0]);return e[0]+i*(n-t[0])}}function E2(t,[e,n]){return Math.min(n,Math.max(e,t))}function a1(t,e,n="ltr"){const i=Bh(e),a=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-a,u=e.content-e.viewport,c=s-i,f=n==="ltr"?[0,u]:[u*-1,0],h=E2(t,f);return QC([0,u],[0,c])(h)}function O2(t,e,n,i="ltr"){const a=Bh(n),s=a/2,u=e||s,c=a-u,f=n.scrollbar.paddingStart+u,h=n.scrollbar.size-n.scrollbar.paddingEnd-c,g=n.content-n.viewport,y=i==="ltr"?[0,g]:[g*-1,0];return QC([f,h],y)(t)}function ZC(t,e){return t>0&&t<e}function mh(t){return t?parseInt(t,10):0}function js(t,e,{checkForDefaultPrevented:n=!0}={}){return i=>{t?.(i),(n===!1||!i.defaultPrevented)&&e?.(i)}}const[T2,JC]=go("ScrollAreaScrollbar was not found in tree"),e_=S.forwardRef((t,e)=>{const{sizes:n,hasThumb:i,onThumbChange:a,onThumbPointerUp:s,onThumbPointerDown:u,onThumbPositionChange:c,onDragScroll:f,onWheelScroll:h,onResize:g,...y}=t,v=Ni(),[w,_]=S.useState(null),E=Wr(e,U=>_(U)),P=S.useRef(null),N=S.useRef(""),{viewport:D}=v,A=n.content-n.viewport,z=Rs(h),L=Rs(c),G=Ph(g,10),j=U=>{if(P.current){const ie=U.clientX-P.current.left,se=U.clientY-P.current.top;f({x:ie,y:se})}};return S.useEffect(()=>{const U=ie=>{const se=ie.target;w?.contains(se)&&z(ie,A)};return document.addEventListener("wheel",U,{passive:!1}),()=>document.removeEventListener("wheel",U,{passive:!1})},[D,w,A,z]),S.useEffect(L,[n,L]),ou(w,G),ou(v.content,G),M.jsx(T2,{value:{scrollbar:w,hasThumb:i,onThumbChange:Rs(a),onThumbPointerUp:Rs(s),onThumbPositionChange:L,onThumbPointerDown:Rs(u)},children:M.jsx("div",{...y,ref:E,"data-mantine-scrollbar":!0,style:{position:"absolute",...y.style},onPointerDown:js(t.onPointerDown,U=>{U.preventDefault(),U.button===0&&(U.target.setPointerCapture(U.pointerId),P.current=w.getBoundingClientRect(),N.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",j(U))}),onPointerMove:js(t.onPointerMove,j),onPointerUp:js(t.onPointerUp,U=>{const ie=U.target;ie.hasPointerCapture(U.pointerId)&&(U.preventDefault(),ie.releasePointerCapture(U.pointerId))}),onLostPointerCapture:()=>{document.body.style.webkitUserSelect=N.current,P.current=null}})})}),t_=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,style:a,...s}=t,u=Ni(),[c,f]=S.useState(),h=S.useRef(null),g=Wr(e,h,u.onScrollbarXChange);return S.useEffect(()=>{h.current&&f(getComputedStyle(h.current))},[h]),M.jsx(e_,{"data-orientation":"horizontal",...s,ref:g,sizes:n,style:{...a,"--sa-thumb-width":`${Bh(n)}px`},onThumbPointerDown:y=>t.onThumbPointerDown(y.x),onDragScroll:y=>t.onDragScroll(y.x),onWheelScroll:(y,v)=>{if(u.viewport){const w=u.viewport.scrollLeft+y.deltaX;t.onWheelScroll(w),ZC(w,v)&&y.preventDefault()}},onResize:()=>{h.current&&u.viewport&&c&&i({content:u.viewport.scrollWidth,viewport:u.viewport.offsetWidth,scrollbar:{size:h.current.clientWidth,paddingStart:mh(c.paddingLeft),paddingEnd:mh(c.paddingRight)}})}})});t_.displayName="@mantine/core/ScrollAreaScrollbarX";const n_=S.forwardRef((t,e)=>{const{sizes:n,onSizesChange:i,style:a,...s}=t,u=Ni(),[c,f]=S.useState(),h=S.useRef(null),g=Wr(e,h,u.onScrollbarYChange);return S.useEffect(()=>{h.current&&f(window.getComputedStyle(h.current))},[]),M.jsx(e_,{...s,"data-orientation":"vertical",ref:g,sizes:n,style:{"--sa-thumb-height":`${Bh(n)}px`,...a},onThumbPointerDown:y=>t.onThumbPointerDown(y.y),onDragScroll:y=>t.onDragScroll(y.y),onWheelScroll:(y,v)=>{if(u.viewport){const w=u.viewport.scrollTop+y.deltaY;t.onWheelScroll(w),ZC(w,v)&&y.preventDefault()}},onResize:()=>{h.current&&u.viewport&&c&&i({content:u.viewport.scrollHeight,viewport:u.viewport.offsetHeight,scrollbar:{size:h.current.clientHeight,paddingStart:mh(c.paddingTop),paddingEnd:mh(c.paddingBottom)}})}})});n_.displayName="@mantine/core/ScrollAreaScrollbarY";const Uh=S.forwardRef((t,e)=>{const{orientation:n="vertical",...i}=t,{dir:a}=rd(),s=Ni(),u=S.useRef(null),c=S.useRef(0),[f,h]=S.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),g=XC(f.viewport,f.content),y={...i,sizes:f,onSizesChange:h,hasThumb:g>0&&g<1,onThumbChange:w=>{u.current=w},onThumbPointerUp:()=>{c.current=0},onThumbPointerDown:w=>{c.current=w}},v=(w,_)=>O2(w,c.current,f,_);return n==="horizontal"?M.jsx(t_,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&u.current){const w=s.viewport.scrollLeft,_=a1(w,f,a);u.current.style.transform=`translate3d(${_}px, 0, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollLeft=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollLeft=v(w,a))}}):n==="vertical"?M.jsx(n_,{...y,ref:e,onThumbPositionChange:()=>{if(s.viewport&&u.current){const w=s.viewport.scrollTop,_=a1(w,f);f.scrollbar.size===0?u.current.style.setProperty("--thumb-opacity","0"):u.current.style.setProperty("--thumb-opacity","1"),u.current.style.transform=`translate3d(0, ${_}px, 0)`}},onWheelScroll:w=>{s.viewport&&(s.viewport.scrollTop=w)},onDragScroll:w=>{s.viewport&&(s.viewport.scrollTop=v(w))}}):null});Uh.displayName="@mantine/core/ScrollAreaScrollbarVisible";const iv=S.forwardRef((t,e)=>{const n=Ni(),{forceMount:i,...a}=t,[s,u]=S.useState(!1),c=t.orientation==="horizontal",f=Ph(()=>{if(n.viewport){const h=n.viewport.offsetWidth<n.viewport.scrollWidth,g=n.viewport.offsetHeight<n.viewport.scrollHeight;u(c?h:g)}},10);return ou(n.viewport,f),ou(n.content,f),i||s?M.jsx(Uh,{"data-state":s?"visible":"hidden",...a,ref:e}):null});iv.displayName="@mantine/core/ScrollAreaScrollbarAuto";const r_=S.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ni(),[s,u]=S.useState(!1);return S.useEffect(()=>{const{scrollArea:c}=a;let f=0;if(c){const h=()=>{window.clearTimeout(f),u(!0)},g=()=>{f=window.setTimeout(()=>u(!1),a.scrollHideDelay)};return c.addEventListener("pointerenter",h),c.addEventListener("pointerleave",g),()=>{window.clearTimeout(f),c.removeEventListener("pointerenter",h),c.removeEventListener("pointerleave",g)}}},[a.scrollArea,a.scrollHideDelay]),n||s?M.jsx(iv,{"data-state":s?"visible":"hidden",...i,ref:e}):null});r_.displayName="@mantine/core/ScrollAreaScrollbarHover";const M2=S.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ni(),s=t.orientation==="horizontal",[u,c]=S.useState("hidden"),f=Ph(()=>c("idle"),100);return S.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>c("hidden"),a.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,a.scrollHideDelay]),S.useEffect(()=>{const{viewport:h}=a,g=s?"scrollLeft":"scrollTop";if(h){let y=h[g];const v=()=>{const w=h[g];y!==w&&(c("scrolling"),f()),y=w};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[a.viewport,s,f]),n||u!=="hidden"?M.jsx(Uh,{"data-state":u==="hidden"?"hidden":"visible",...i,ref:e,onPointerEnter:js(t.onPointerEnter,()=>c("interacting")),onPointerLeave:js(t.onPointerLeave,()=>c("idle"))}):null}),cy=S.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=Ni(),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:u}=a,c=t.orientation==="horizontal";return S.useEffect(()=>(c?s(!0):u(!0),()=>{c?s(!1):u(!1)}),[c,s,u]),a.type==="hover"?M.jsx(r_,{...i,ref:e,forceMount:n}):a.type==="scroll"?M.jsx(M2,{...i,ref:e,forceMount:n}):a.type==="auto"?M.jsx(iv,{...i,ref:e,forceMount:n}):a.type==="always"?M.jsx(Uh,{...i,ref:e}):null});cy.displayName="@mantine/core/ScrollAreaScrollbar";function P2(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},i=0;return(function a(){const s={left:t.scrollLeft,top:t.scrollTop},u=n.left!==s.left,c=n.top!==s.top;(u||c)&&e(),n=s,i=window.requestAnimationFrame(a)})(),()=>window.cancelAnimationFrame(i)}const i_=S.forwardRef((t,e)=>{const{style:n,...i}=t,a=Ni(),s=JC(),{onThumbPositionChange:u}=s,c=Wr(e,g=>s.onThumbChange(g)),f=S.useRef(void 0),h=Ph(()=>{f.current&&(f.current(),f.current=void 0)},100);return S.useEffect(()=>{const{viewport:g}=a;if(g){const y=()=>{if(h(),!f.current){const v=P2(g,u);f.current=v,u()}};return u(),g.addEventListener("scroll",y),()=>g.removeEventListener("scroll",y)}},[a.viewport,h,u]),M.jsx("div",{"data-state":s.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:js(t.onPointerDownCapture,g=>{const v=g.target.getBoundingClientRect(),w=g.clientX-v.left,_=g.clientY-v.top;s.onThumbPointerDown({x:w,y:_})}),onPointerUp:js(t.onPointerUp,s.onThumbPointerUp)})});i_.displayName="@mantine/core/ScrollAreaThumb";const dy=S.forwardRef((t,e)=>{const{forceMount:n,...i}=t,a=JC();return n||a.hasThumb?M.jsx(i_,{ref:e,...i}):null});dy.displayName="@mantine/core/ScrollAreaThumb";const o_=S.forwardRef(({children:t,style:e,onWheel:n,...i},a)=>{const s=Ni(),u=Wr(a,s.onViewportChange),c=f=>{if(n?.(f),s.scrollbarXEnabled&&s.viewport&&f.shiftKey){const{scrollTop:h,scrollHeight:g,clientHeight:y,scrollWidth:v,clientWidth:w}=s.viewport,_=h<1,E=h>=g-y-1;v>w&&(_||E)&&f.stopPropagation()}};return M.jsx(je,{...i,ref:u,onWheel:c,style:{overflowX:s.scrollbarXEnabled?"scroll":"hidden",overflowY:s.scrollbarYEnabled?"scroll":"hidden",...e},children:M.jsx("div",{...s.getStyles("content"),ref:s.onContentChange,children:t})})});o_.displayName="@mantine/core/ScrollAreaViewport";const a_={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},R2=(t,{scrollbarSize:e,overscrollBehavior:n,scrollbars:i})=>{let a=n;return n&&i&&(i==="x"?a=`${n} auto`:i==="y"&&(a=`auto ${n}`)),{root:{"--scrollarea-scrollbar-size":_e(e),"--scrollarea-over-scroll-behavior":a}}},bu=Ze((t,e)=>{const n=Le("ScrollArea",a_,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,scrollbarSize:f,vars:h,type:g,scrollHideDelay:y,viewportProps:v,viewportRef:w,onScrollPositionChange:_,children:E,offsetScrollbars:P,scrollbars:N,onBottomReached:D,onTopReached:A,overscrollBehavior:z,attributes:L,...G}=n,[j,U]=S.useState(!1),[ie,se]=S.useState(!1),[de,me]=S.useState(!1),Ee=mt({name:"ScrollArea",props:n,classes:rv,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:L,vars:h,varsResolver:R2}),ce=S.useRef(null),xe=VC([w,ce]);return S.useEffect(()=>{if(!ce.current||P!=="present")return;const B=ce.current,W=new ResizeObserver(()=>{const{scrollHeight:V,clientHeight:ge,scrollWidth:Se,clientWidth:H}=B;se(V>ge),me(Se>H)});return W.observe(B),()=>W.disconnect()},[ce,P]),M.jsxs(WC,{getStyles:Ee,type:g==="never"?"always":g,scrollHideDelay:y,ref:e,scrollbars:N,...Ee("root"),...G,children:[M.jsx(o_,{...v,...Ee("viewport",{style:v?.style}),ref:xe,"data-offset-scrollbars":P===!0?"xy":P||void 0,"data-scrollbars":N||void 0,"data-horizontal-hidden":P==="present"&&!de?"true":void 0,"data-vertical-hidden":P==="present"&&!ie?"true":void 0,onScroll:B=>{v?.onScroll?.(B),_?.({x:B.currentTarget.scrollLeft,y:B.currentTarget.scrollTop});const{scrollTop:W,scrollHeight:V,clientHeight:ge}=B.currentTarget;W-(V-ge)>=-.8&&D?.(),W===0&&A?.()},children:E}),(N==="xy"||N==="x")&&M.jsx(cy,{...Ee("scrollbar"),orientation:"horizontal","data-hidden":g==="never"||P==="present"&&!de?!0:void 0,forceMount:!0,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),children:M.jsx(dy,{...Ee("thumb")})}),(N==="xy"||N==="y")&&M.jsx(cy,{...Ee("scrollbar"),orientation:"vertical","data-hidden":g==="never"||P==="present"&&!ie?!0:void 0,forceMount:!0,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),children:M.jsx(dy,{...Ee("thumb")})}),M.jsx(C2,{...Ee("corner"),"data-hovered":j||void 0,"data-hidden":g==="never"||void 0})]})});bu.displayName="@mantine/core/ScrollArea";const ov=Ze((t,e)=>{const{children:n,classNames:i,styles:a,scrollbarSize:s,scrollHideDelay:u,type:c,dir:f,offsetScrollbars:h,overscrollBehavior:g,viewportRef:y,onScrollPositionChange:v,unstyled:w,variant:_,viewportProps:E,scrollbars:P,style:N,vars:D,onBottomReached:A,onTopReached:z,onOverflowChange:L,...G}=Le("ScrollAreaAutosize",a_,t),j=S.useRef(null),U=VC([y,j]),[ie,se]=S.useState(!1),de=S.useRef(!1);return S.useEffect(()=>{if(!L)return;const me=j.current;if(!me)return;const Ee=()=>{const xe=me.scrollHeight>me.clientHeight;xe!==ie&&(de.current?L?.(xe):(de.current=!0,xe&&L?.(!0)),se(xe))};Ee();const ce=new ResizeObserver(Ee);return ce.observe(me),()=>ce.disconnect()},[L,ie]),M.jsx(je,{...G,ref:e,style:[{display:"flex",overflow:"hidden"},N],children:M.jsx(je,{style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden",...P==="y"&&{minWidth:0},...P==="x"&&{minHeight:0},...P==="xy"&&{minWidth:0,minHeight:0},...P===!1&&{minWidth:0,minHeight:0}},children:M.jsx(bu,{classNames:i,styles:a,scrollHideDelay:u,scrollbarSize:s,type:c,dir:f,offsetScrollbars:h,overscrollBehavior:g,viewportRef:U,onScrollPositionChange:v,unstyled:w,variant:_,viewportProps:E,vars:D,scrollbars:P,onBottomReached:A,onTopReached:z,"data-autosize":"true",children:n})})})});bu.classes=rv;ov.displayName="@mantine/core/ScrollAreaAutosize";ov.classes=rv;bu.Autosize=ov;var s_={root:"m_87cf2631"};const D2={__staticSelector:"UnstyledButton"},Hs=wr((t,e)=>{const n=Le("UnstyledButton",D2,t),{className:i,component:a="button",__staticSelector:s,unstyled:u,classNames:c,styles:f,style:h,attributes:g,...y}=n,v=mt({name:s,props:n,classes:s_,className:i,style:h,classNames:c,styles:f,unstyled:u,attributes:g});return M.jsx(je,{...v("root",{focusable:!0}),component:a,ref:e,type:a==="button"?"button":void 0,...y})});Hs.classes=s_;Hs.displayName="@mantine/core/UnstyledButton";var l_={root:"m_515a97f8"};const av=Ze((t,e)=>{const n=Le("VisuallyHidden",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,attributes:h,...g}=n,y=mt({name:"VisuallyHidden",classes:l_,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:h});return M.jsx(je,{component:"span",ref:e,...y("root"),...g})});av.classes=l_;av.displayName="@mantine/core/VisuallyHidden";var u_={root:"m_1b7284a3"};const A2=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:In(e),"--paper-shadow":zy(n)}}),od=wr((t,e)=>{const n=Le("Paper",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,withBorder:f,vars:h,radius:g,shadow:y,variant:v,mod:w,attributes:_,...E}=n,P=mt({name:"Paper",props:n,classes:u_,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:_,vars:h,varsResolver:A2});return M.jsx(je,{ref:e,mod:[{"data-with-border":f},w],...P("root"),variant:v,...E})});od.classes=u_;od.displayName="@mantine/core/Paper";function s1(t,e,n,i){return t==="center"||i==="center"?{top:e}:t==="end"?{bottom:n}:t==="start"?{top:n}:{}}function l1(t,e,n,i,a){return t==="center"||i==="center"?{left:e}:t==="end"?{[a==="ltr"?"right":"left"]:n}:t==="start"?{[a==="ltr"?"left":"right"]:n}:{}}const N2={bottom:"borderTopLeftRadius",left:"borderTopRightRadius",right:"borderBottomLeftRadius",top:"borderBottomRightRadius"};function I2({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:a,arrowX:s,arrowY:u,dir:c}){const[f,h="center"]=t.split("-"),g={width:e,height:e,transform:"rotate(45deg)",position:"absolute",[N2[f]]:i},y=-e/2;return f==="left"?{...g,...s1(h,u,n,a),right:y,borderLeftColor:"transparent",borderBottomColor:"transparent",clipPath:"polygon(100% 0, 0 0, 100% 100%)"}:f==="right"?{...g,...s1(h,u,n,a),left:y,borderRightColor:"transparent",borderTopColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 100%)"}:f==="top"?{...g,...l1(h,s,n,a,c),bottom:y,borderTopColor:"transparent",borderLeftColor:"transparent",clipPath:"polygon(0 100%, 100% 100%, 100% 0)"}:f==="bottom"?{...g,...l1(h,s,n,a,c),top:y,borderBottomColor:"transparent",borderRightColor:"transparent",clipPath:"polygon(0 100%, 0 0, 100% 0)"}:{}}const gh=S.forwardRef(({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:a,visible:s,arrowX:u,arrowY:c,style:f,...h},g)=>{const{dir:y}=rd();return s?M.jsx("div",{...h,ref:g,style:{...f,...I2({position:t,arrowSize:e,arrowOffset:n,arrowRadius:i,arrowPosition:a,dir:y,arrowX:u,arrowY:c})}}):null});gh.displayName="@mantine/core/FloatingArrow";function c_(t,e){if(t==="rtl"&&(e.includes("right")||e.includes("left"))){const[n,i]=e.split("-"),a=n==="right"?"left":"right";return i===void 0?a:`${a}-${i}`}return e}var d_={root:"m_9814e45f"};const j2={zIndex:Ki("modal")},k2=(t,{gradient:e,color:n,backgroundOpacity:i,blur:a,radius:s,zIndex:u})=>({root:{"--overlay-bg":e||(n!==void 0||i!==void 0)&&ao(n||"#000",i??.6)||void 0,"--overlay-filter":a?`blur(${_e(a)})`:void 0,"--overlay-radius":s===void 0?void 0:In(s),"--overlay-z-index":u?.toString()}}),$h=wr((t,e)=>{const n=Le("Overlay",j2,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,fixed:h,center:g,children:y,radius:v,zIndex:w,gradient:_,blur:E,color:P,backgroundOpacity:N,mod:D,attributes:A,...z}=n,L=mt({name:"Overlay",props:n,classes:d_,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:A,vars:f,varsResolver:k2});return M.jsx(je,{ref:e,...L("root"),mod:[{center:g,fixed:h},D],...z,children:y})});$h.classes=d_;$h.displayName="@mantine/core/Overlay";function Ng(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}function z2({target:t,reuseTargetNode:e,...n}){if(t)return typeof t=="string"?document.querySelector(t)||Ng(n):t;if(e){const i=document.querySelector("[data-mantine-shared-portal-node]");if(i)return i;const a=Ng(n);return a.setAttribute("data-mantine-shared-portal-node","true"),document.body.appendChild(a),a}return Ng(n)}const L2={reuseTargetNode:!0},f_=Ze((t,e)=>{const{children:n,target:i,reuseTargetNode:a,...s}=Le("Portal",L2,t),[u,c]=S.useState(!1),f=S.useRef(null);return Za(()=>(c(!0),f.current=z2({target:i,reuseTargetNode:a,...s}),Jg(e,f.current),!i&&!a&&f.current&&document.body.appendChild(f.current),()=>{!i&&!a&&f.current&&document.body.removeChild(f.current)}),[i]),!u||!f.current?null:$s.createPortal(M.jsx(M.Fragment,{children:n}),f.current)});f_.displayName="@mantine/core/Portal";const Qa=Ze(({withinPortal:t=!0,children:e,...n},i)=>Nh()==="test"||!t?M.jsx(M.Fragment,{children:e}):M.jsx(f_,{ref:i,...n,children:e}));Qa.displayName="@mantine/core/OptionalPortal";const Pc=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${t==="bottom"?10:-10}px)`},transitionProperty:"transform, opacity"}),Ff={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(30px)"},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-30px)"},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(30px)"},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-30px)"},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(-20px) skew(-10deg, -5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:"translateY(20px) skew(-10deg, -5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(-5deg)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:"translateY(20px) rotate(5deg)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Pc("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Pc("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Pc("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Pc("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Pc("top"),common:{transformOrigin:"top right"}}},u1={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function F2({transition:t,state:e,duration:n,timingFunction:i}){const a={WebkitBackfaceVisibility:"hidden",transitionDuration:`${n}ms`,transitionTimingFunction:i};return typeof t=="string"?t in Ff?{transitionProperty:Ff[t].transitionProperty,...a,...Ff[t].common,...Ff[t][u1[e]]}:{}:{transitionProperty:t.transitionProperty,...a,...t.common,...t[u1[e]]}}function B2({duration:t,exitDuration:e,timingFunction:n,mounted:i,onEnter:a,onExit:s,onEntered:u,onExited:c,enterDelay:f,exitDelay:h}){const g=hi(),y=Rh(),v=g.respectReducedMotion?y:!1,[w,_]=S.useState(v?0:t),[E,P]=S.useState(i?"entered":"exited"),N=S.useRef(-1),D=S.useRef(-1),A=S.useRef(-1);function z(){window.clearTimeout(N.current),window.clearTimeout(D.current),cancelAnimationFrame(A.current)}const L=j=>{z();const U=j?a:s,ie=j?u:c,se=v?0:j?t:e;_(se),se===0?(typeof U=="function"&&U(),typeof ie=="function"&&ie(),P(j?"entered":"exited")):A.current=requestAnimationFrame(()=>{jc.flushSync(()=>{P(j?"pre-entering":"pre-exiting")}),A.current=requestAnimationFrame(()=>{typeof U=="function"&&U(),P(j?"entering":"exiting"),N.current=window.setTimeout(()=>{typeof ie=="function"&&ie(),P(j?"entered":"exited")},se)})})},G=j=>{if(z(),typeof(j?f:h)!="number"){L(j);return}D.current=window.setTimeout(()=>{L(j)},j?f:h)};return zs(()=>{G(i)},[i]),S.useEffect(()=>()=>{z()},[]),{transitionDuration:w,transitionStatus:E,transitionTimingFunction:n||"ease"}}function Zo({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:i=n,mounted:a,children:s,timingFunction:u="ease",onExit:c,onEntered:f,onEnter:h,onExited:g,enterDelay:y,exitDelay:v}){const w=Nh(),{transitionDuration:_,transitionStatus:E,transitionTimingFunction:P}=B2({mounted:a,exitDuration:i,duration:n,timingFunction:u,onExit:c,onEntered:f,onEnter:h,onExited:g,enterDelay:y,exitDelay:v});return _===0||w==="test"?a?M.jsx(M.Fragment,{children:s({})}):t?s({display:"none"}):null:E==="exited"?t?s({display:"none"}):null:M.jsx(M.Fragment,{children:s(F2({transition:e,duration:_,state:E,timingFunction:P}))})}Zo.displayName="@mantine/core/Transition";const[U2,h_]=go("Popover component was not found in the tree");var p_={dropdown:"m_38a85659",arrow:"m_a31dc6c1",overlay:"m_3d7bc908"};function Hh({children:t,active:e=!0,refProp:n="ref",innerRef:i}){const a=uP(e),s=Wr(a,i),u=gu(t);return u?S.cloneElement(u,{[n]:s}):t}function m_(t){return M.jsx(av,{tabIndex:-1,"data-autofocus":!0,...t})}Hh.displayName="@mantine/core/FocusTrap";m_.displayName="@mantine/core/FocusTrapInitialFocus";Hh.InitialFocus=m_;const sv=Ze((t,e)=>{const n=Le("PopoverDropdown",null,t),{className:i,style:a,vars:s,children:u,onKeyDownCapture:c,variant:f,classNames:h,styles:g,...y}=n,v=h_(),w=dC({opened:v.opened,shouldReturnFocus:v.returnFocus}),_=v.withRoles?{"aria-labelledby":v.getTargetId(),id:v.getDropdownId(),role:"dialog",tabIndex:-1}:{},E=Wr(e,v.floating);return v.disabled?null:M.jsx(Qa,{...v.portalProps,withinPortal:v.withinPortal,children:M.jsx(Zo,{mounted:v.opened,...v.transitionProps,transition:v.transitionProps?.transition||"fade",duration:v.transitionProps?.duration??150,keepMounted:v.keepMounted,exitDuration:typeof v.transitionProps?.exitDuration=="number"?v.transitionProps.exitDuration:v.transitionProps?.duration,children:P=>M.jsx(Hh,{active:v.trapFocus&&v.opened,innerRef:E,children:M.jsxs(je,{..._,...y,variant:f,onKeyDownCapture:QM(()=>{v.onClose?.(),v.onDismiss?.()},{active:v.closeOnEscape,onTrigger:w,onKeyDown:c}),"data-position":v.placement,"data-fixed":v.floatingStrategy==="fixed"||void 0,...v.getStyles("dropdown",{className:i,props:n,classNames:h,styles:g,style:[{...P,zIndex:v.zIndex,top:v.y??0,left:v.x??0,width:v.width==="target"?void 0:_e(v.width),...v.referenceHidden?{display:"none"}:null},v.resolvedStyles.dropdown,g?.dropdown,a]}),children:[u,M.jsx(gh,{ref:v.arrowRef,arrowX:v.arrowX,arrowY:v.arrowY,visible:v.withArrow,position:v.placement,arrowSize:v.arrowSize,arrowRadius:v.arrowRadius,arrowOffset:v.arrowOffset,arrowPosition:v.arrowPosition,...v.getStyles("arrow",{props:n,classNames:h,styles:g})})]})})})})});sv.classes=p_;sv.displayName="@mantine/core/PopoverDropdown";const $2={refProp:"ref",popupType:"dialog"},g_=Ze((t,e)=>{const{children:n,refProp:i,popupType:a,...s}=Le("PopoverTarget",$2,t),u=gu(n);if(!u)throw new Error("Popover.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const c=s,f=h_(),h=Wr(f.reference,Dh(u),e),g=f.withRoles?{"aria-haspopup":a,"aria-expanded":f.opened,"aria-controls":f.opened?f.getDropdownId():void 0,id:f.getTargetId()}:{},y=u.props;return S.cloneElement(u,{...c,...g,...f.targetProps,className:qn(f.targetProps.className,c.className,y.className),[i]:h,...f.controlled?null:{onClick:()=>{f.onToggle(),y.onClick?.()}}})});g_.displayName="@mantine/core/PopoverTarget";function H2(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function q2(t,e,n){const i=H2(t.middlewares),a=[qC(t.offset),e2()];return t.dropdownVisible&&n!=="test"&&t.preventPositionChangeWhenVisible&&(i.flip=!1),i.flip&&a.push(typeof i.flip=="boolean"?ph():ph(i.flip)),i.shift&&a.push(Zy(typeof i.shift=="boolean"?{limiter:Jw(),padding:5}:{limiter:Jw(),padding:5,...i.shift})),i.inline&&a.push(typeof i.inline=="boolean"?$c():$c(i.inline)),a.push(GC({element:t.arrowRef,padding:t.arrowOffset})),(i.size||t.width==="target")&&a.push(JD({...typeof i.size=="boolean"?{}:i.size,apply({rects:s,availableWidth:u,availableHeight:c,...f}){const g=e().refs.floating.current?.style??{};i.size&&(typeof i.size=="object"&&i.size.apply?i.size.apply({rects:s,availableWidth:u,availableHeight:c,...f}):Object.assign(g,{maxWidth:`${u}px`,maxHeight:`${c}px`})),t.width==="target"&&Object.assign(g,{width:`${s.reference.width}px`})}})),a}function G2(t){const e=Nh(),[n,i]=Xa({value:t.opened,defaultValue:t.defaultOpened,finalValue:!1,onChange:t.onChange}),a=S.useRef(n),s=()=>{n&&!t.disabled&&i(!1)},u=()=>{t.disabled||i(!n)},c=nv({strategy:t.strategy,placement:t.preventPositionChangeWhenVisible?t.positionRef.current:t.position,middleware:q2(t,()=>c,e),whileElementsMounted:t.keepMounted?void 0:ly});return S.useEffect(()=>{if(!(!c.refs.reference.current||!c.refs.floating.current)&&n)return ly(c.refs.reference.current,c.refs.floating.current,c.update)},[n,c.update]),zs(()=>{t.onPositionChange?.(c.placement),t.positionRef.current=c.placement},[c.placement,t.preventPositionChangeWhenVisible]),zs(()=>{n!==a.current&&(n?t.onOpen?.():t.onClose?.()),a.current=n},[n,t.onClose,t.onOpen]),Za(()=>{let f=-1;return n&&(f=window.setTimeout(()=>t.setDropdownVisible(!0),4)),()=>{window.clearTimeout(f)}},[n,t.position]),{floating:c,controlled:typeof t.opened=="boolean",opened:n,onClose:s,onToggle:u}}const V2={position:"bottom",offset:8,positionDependencies:[],transitionProps:{transition:"fade",duration:150},middlewares:{flip:!0,shift:!0,inline:!1},arrowSize:7,arrowOffset:5,arrowRadius:0,arrowPosition:"side",closeOnClickOutside:!0,withinPortal:!0,closeOnEscape:!0,trapFocus:!1,withRoles:!0,returnFocus:!1,withOverlay:!1,hideDetached:!0,clickOutsideEvents:["mousedown","touchstart"],zIndex:Ki("popover"),__staticSelector:"Popover",width:"max-content"},Y2=(t,{radius:e,shadow:n})=>({dropdown:{"--popover-radius":e===void 0?void 0:In(e),"--popover-shadow":zy(n)}});function Ja(t){const e=Le("Popover",V2,t),{children:n,position:i,offset:a,onPositionChange:s,positionDependencies:u,opened:c,transitionProps:f,onExitTransitionEnd:h,onEnterTransitionEnd:g,width:y,middlewares:v,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:P,arrowPosition:N,unstyled:D,classNames:A,styles:z,closeOnClickOutside:L,withinPortal:G,portalProps:j,closeOnEscape:U,clickOutsideEvents:ie,trapFocus:se,onClose:de,onDismiss:me,onOpen:Ee,onChange:ce,zIndex:xe,radius:B,shadow:W,id:V,defaultOpened:ge,__staticSelector:Se,withRoles:H,disabled:ne,returnFocus:Ce,variant:Ne,keepMounted:Ie,vars:qe,floatingStrategy:nt,withOverlay:wt,overlayProps:De,hideDetached:Jt,attributes:un,preventPositionChangeWhenVisible:Je,...ht}=e,Ft=mt({name:Se,props:e,classes:p_,classNames:A,styles:z,unstyled:D,attributes:un,rootSelector:"dropdown",vars:qe,varsResolver:Y2}),{resolvedStyles:rn}=Ih({classNames:A,styles:z,props:e}),[gn,Ar]=S.useState(c??ge??!1),ir=S.useRef(i),en=S.useRef(null),[Vn,yn]=S.useState(null),[wn,Sr]=S.useState(null),{dir:Bt}=rd(),qt=Nh(),Yn=Ai(V),lt=G2({middlewares:v,width:y,position:c_(Bt,i),offset:typeof a=="number"?a+(w?_/2:0):a,arrowRef:en,arrowOffset:E,onPositionChange:s,positionDependencies:u,opened:c,defaultOpened:ge,onChange:ce,onOpen:Ee,onClose:de,onDismiss:me,strategy:nt,dropdownVisible:gn,setDropdownVisible:Ar,positionRef:ir,disabled:ne,preventPositionChangeWhenVisible:Je,keepMounted:Ie});eP(()=>{L&&(lt.onClose(),me?.())},ie,[Vn,wn]);const Sn=S.useCallback(on=>{yn(on),lt.floating.refs.setReference(on)},[lt.floating.refs.setReference]),En=S.useCallback(on=>{Sr(on),lt.floating.refs.setFloating(on)},[lt.floating.refs.setFloating]),Dn=S.useCallback(()=>{f?.onExited?.(),h?.(),Ar(!1),Je||(ir.current=i)},[f?.onExited,h,Je,i]),Xr=S.useCallback(()=>{f?.onEntered?.(),g?.()},[f?.onEntered,g]);return M.jsxs(U2,{value:{returnFocus:Ce,disabled:ne,controlled:lt.controlled,reference:Sn,floating:En,x:lt.floating.x,y:lt.floating.y,arrowX:lt.floating?.middlewareData?.arrow?.x,arrowY:lt.floating?.middlewareData?.arrow?.y,opened:lt.opened,arrowRef:en,transitionProps:{...f,onExited:Dn,onEntered:Xr},width:y,withArrow:w,arrowSize:_,arrowOffset:E,arrowRadius:P,arrowPosition:N,placement:lt.floating.placement,trapFocus:se,withinPortal:G,portalProps:j,zIndex:xe,radius:B,shadow:W,closeOnEscape:U,onDismiss:me,onClose:lt.onClose,onToggle:lt.onToggle,getTargetId:()=>`${Yn}-target`,getDropdownId:()=>`${Yn}-dropdown`,withRoles:H,targetProps:ht,__staticSelector:Se,classNames:A,styles:z,unstyled:D,variant:Ne,keepMounted:Ie,getStyles:Ft,resolvedStyles:rn,floatingStrategy:nt,referenceHidden:Jt&&qt!=="test"?lt.floating.middlewareData.hide?.referenceHidden:!1},children:[n,wt&&M.jsx(Zo,{transition:"fade",mounted:lt.opened,duration:f?.duration||250,exitDuration:f?.exitDuration||250,children:on=>M.jsx(Qa,{withinPortal:G,children:M.jsx($h,{...De,...Ft("overlay",{className:De?.className,style:[on,De?.style]})})})})]})}Ja.Target=g_;Ja.Dropdown=sv;Ja.displayName="@mantine/core/Popover";Ja.extend=t=>t;var Gi={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const y_=S.forwardRef(({className:t,...e},n)=>M.jsxs(je,{component:"span",className:qn(Gi.barsLoader,t),...e,ref:n,children:[M.jsx("span",{className:Gi.bar}),M.jsx("span",{className:Gi.bar}),M.jsx("span",{className:Gi.bar})]}));y_.displayName="@mantine/core/Bars";const v_=S.forwardRef(({className:t,...e},n)=>M.jsxs(je,{component:"span",className:qn(Gi.dotsLoader,t),...e,ref:n,children:[M.jsx("span",{className:Gi.dot}),M.jsx("span",{className:Gi.dot}),M.jsx("span",{className:Gi.dot})]}));v_.displayName="@mantine/core/Dots";const b_=S.forwardRef(({className:t,...e},n)=>M.jsx(je,{component:"span",className:qn(Gi.ovalLoader,t),...e,ref:n}));b_.displayName="@mantine/core/Oval";const x_={bars:y_,oval:b_,dots:v_},K2={loaders:x_,type:"oval"},W2=(t,{size:e,color:n})=>({root:{"--loader-size":kt(e,"loader-size"),"--loader-color":n?di(n,t):void 0}}),po=Ze((t,e)=>{const n=Le("Loader",K2,t),{size:i,color:a,type:s,vars:u,className:c,style:f,classNames:h,styles:g,unstyled:y,loaders:v,variant:w,children:_,attributes:E,...P}=n,N=mt({name:"Loader",props:n,classes:Gi,className:c,style:f,classNames:h,styles:g,unstyled:y,attributes:E,vars:u,varsResolver:W2});return _?M.jsx(je,{...N("root"),ref:e,...P,children:_}):M.jsx(je,{...N("root"),ref:e,component:v[s],variant:w,size:i,...P})});po.defaultLoaders=x_;po.classes=Gi;po.displayName="@mantine/core/Loader";var xu={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21",groupSection:"m_437b6484"};const c1={orientation:"horizontal"},X2=(t,{borderWidth:e})=>({group:{"--ai-border-width":_e(e)}}),lv=Ze((t,e)=>{const n=Le("ActionIconGroup",c1,t),{className:i,style:a,classNames:s,styles:u,unstyled:c,orientation:f,vars:h,borderWidth:g,variant:y,mod:v,attributes:w,..._}=Le("ActionIconGroup",c1,t),E=mt({name:"ActionIconGroup",props:n,classes:xu,className:i,style:a,classNames:s,styles:u,unstyled:c,attributes:w,vars:h,varsResolver:X2,rootSelector:"group"});return M.jsx(je,{...E("group"),ref:e,variant:y,mod:[{"data-orientation":f},v],role:"group",..._})});lv.classes=xu;lv.displayName="@mantine/core/ActionIconGroup";const Q2=(t,{radius:e,color:n,gradient:i,variant:a,autoContrast:s,size:u})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:a||"filled",autoContrast:s});return{groupSection:{"--section-height":kt(u,"section-height"),"--section-padding-x":kt(u,"section-padding-x"),"--section-fz":xr(u),"--section-radius":e===void 0?void 0:In(e),"--section-bg":n||a?c.background:void 0,"--section-color":c.color,"--section-bd":n||a?c.border:void 0}}},uv=Ze((t,e)=>{const n=Le("ActionIconGroupSection",null,t),{className:i,style:a,classNames:s,styles:u,unstyled:c,vars:f,variant:h,gradient:g,radius:y,autoContrast:v,attributes:w,..._}=n,E=mt({name:"ActionIconGroupSection",props:n,classes:xu,className:i,style:a,classNames:s,styles:u,unstyled:c,attributes:w,vars:f,varsResolver:Q2,rootSelector:"groupSection"});return M.jsx(je,{...E("groupSection"),ref:e,variant:h,..._})});uv.classes=xu;uv.displayName="@mantine/core/ActionIconGroupSection";const Z2=(t,{size:e,radius:n,variant:i,gradient:a,color:s,autoContrast:u})=>{const c=t.variantColorResolver({color:s||t.primaryColor,theme:t,gradient:a,variant:i||"filled",autoContrast:u});return{root:{"--ai-size":kt(e,"ai-size"),"--ai-radius":n===void 0?void 0:In(n),"--ai-bg":s||i?c.background:void 0,"--ai-hover":s||i?c.hover:void 0,"--ai-hover-color":s||i?c.hoverColor:void 0,"--ai-color":c.color,"--ai-bd":s||i?c.border:void 0}}},na=wr((t,e)=>{const n=Le("ActionIcon",null,t),{className:i,unstyled:a,variant:s,classNames:u,styles:c,style:f,loading:h,loaderProps:g,size:y,color:v,radius:w,__staticSelector:_,gradient:E,vars:P,children:N,disabled:D,"data-disabled":A,autoContrast:z,mod:L,attributes:G,...j}=n,U=mt({name:["ActionIcon",_],props:n,className:i,style:f,classes:xu,classNames:u,styles:c,unstyled:a,attributes:G,vars:P,varsResolver:Z2});return M.jsxs(Hs,{...U("root",{active:!D&&!h&&!A}),...j,unstyled:a,variant:s,size:y,disabled:D||h,ref:e,mod:[{loading:h,disabled:D||A},L],children:[typeof h=="boolean"&&M.jsx(Zo,{mounted:h,transition:"slide-down",duration:150,children:ie=>M.jsx(je,{component:"span",...U("loader",{style:ie}),"aria-hidden":!0,children:M.jsx(po,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...g})})}),M.jsx(je,{component:"span",mod:{loading:h},...U("icon"),children:N})]})});na.classes=xu;na.displayName="@mantine/core/ActionIcon";na.Group=lv;na.GroupSection=uv;const w_=S.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},i)=>M.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:i,...n,children:M.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));w_.displayName="@mantine/core/CloseIcon";var S_={root:"m_86a44da5","root--subtle":"m_220c80f2"};const J2={variant:"subtle"},eA=(t,{size:e,radius:n,iconSize:i})=>({root:{"--cb-size":kt(e,"cb-size"),"--cb-radius":n===void 0?void 0:In(n),"--cb-icon-size":_e(i)}}),qs=wr((t,e)=>{const n=Le("CloseButton",J2,t),{iconSize:i,children:a,vars:s,radius:u,className:c,classNames:f,style:h,styles:g,unstyled:y,"data-disabled":v,disabled:w,variant:_,icon:E,mod:P,attributes:N,__staticSelector:D,...A}=n,z=mt({name:D||"CloseButton",props:n,className:c,style:h,classes:S_,classNames:f,styles:g,unstyled:y,attributes:N,vars:s,varsResolver:eA});return M.jsxs(Hs,{ref:e,...A,unstyled:y,variant:_,disabled:w,mod:[{disabled:w||v},P],...z("root",{variant:_,active:!w&&!v}),children:[E||M.jsx(w_,{}),a]})});qs.classes=S_;qs.displayName="@mantine/core/CloseButton";function tA(t){return S.Children.toArray(t).filter(Boolean)}var C_={root:"m_4081bf90"};const nA={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},rA=(t,{grow:e,preventGrowOverflow:n,gap:i,align:a,justify:s,wrap:u},{childWidth:c})=>({root:{"--group-child-width":e&&n?c:void 0,"--group-gap":Bs(i),"--group-align":a,"--group-justify":s,"--group-wrap":u}}),Gr=Ze((t,e)=>{const n=Le("Group",nA,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,children:f,gap:h,align:g,justify:y,wrap:v,grow:w,preventGrowOverflow:_,vars:E,variant:P,__size:N,mod:D,attributes:A,...z}=n,L=tA(f),G=L.length,j=Bs(h??"md"),ie={childWidth:`calc(${100/G}% - (${j} - ${j} / ${G}))`},se=mt({name:"Group",props:n,stylesCtx:ie,className:a,style:s,classes:C_,classNames:i,styles:u,unstyled:c,attributes:A,vars:E,varsResolver:rA});return M.jsx(je,{...se("root"),ref:e,variant:P,mod:[{grow:w},D],size:N,...z,children:L})});Gr.classes=C_;Gr.displayName="@mantine/core/Group";const[iA,ra]=go("ModalBase component was not found in tree");function oA({opened:t,transitionDuration:e}){const[n,i]=S.useState(t),a=S.useRef(-1),u=Rh()?0:e;return S.useEffect(()=>(t?(i(!0),window.clearTimeout(a.current)):u===0?i(!1):a.current=window.setTimeout(()=>i(!1),u),()=>window.clearTimeout(a.current)),[t,u]),n}function aA({id:t,transitionProps:e,opened:n,trapFocus:i,closeOnEscape:a,onClose:s,returnFocus:u}){const c=Ai(t),[f,h]=S.useState(!1),[g,y]=S.useState(!1),v=typeof e?.duration=="number"?e?.duration:200,w=oA({opened:n,transitionDuration:v});return uh("keydown",_=>{_.key==="Escape"&&a&&!_.isComposing&&n&&_.target?.getAttribute("data-mantine-stop-propagation")!=="true"&&s()},{capture:!0}),dC({opened:n,shouldReturnFocus:i&&u}),{_id:c,titleMounted:f,bodyMounted:g,shouldLockScroll:w,setTitleMounted:h,setBodyMounted:y}}const __=S.forwardRef(({keepMounted:t,opened:e,onClose:n,id:i,transitionProps:a,onExitTransitionEnd:s,onEnterTransitionEnd:u,trapFocus:c,closeOnEscape:f,returnFocus:h,closeOnClickOutside:g,withinPortal:y,portalProps:v,lockScroll:w,children:_,zIndex:E,shadow:P,padding:N,__vars:D,unstyled:A,removeScrollProps:z,...L},G)=>{const{_id:j,titleMounted:U,bodyMounted:ie,shouldLockScroll:se,setTitleMounted:de,setBodyMounted:me}=aA({id:i,transitionProps:a,opened:e,trapFocus:c,closeOnEscape:f,onClose:n,returnFocus:h}),{key:Ee,...ce}=z||{};return M.jsx(Qa,{...v,withinPortal:y,children:M.jsx(iA,{value:{opened:e,onClose:n,closeOnClickOutside:g,onExitTransitionEnd:s,onEnterTransitionEnd:u,transitionProps:{...a,keepMounted:t},getTitleId:()=>`${j}-title`,getBodyId:()=>`${j}-body`,titleMounted:U,bodyMounted:ie,setTitleMounted:de,setBodyMounted:me,trapFocus:c,closeOnEscape:f,zIndex:E,unstyled:A},children:M.jsx(ks,{enabled:se&&w,...ce,children:M.jsx(je,{ref:G,...L,__vars:{...D,"--mb-z-index":(E||Ki("modal")).toString(),"--mb-shadow":zy(P),"--mb-padding":Bs(N)},children:_})},Ee)})})});__.displayName="@mantine/core/ModalBase";var au={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};function sA(){const t=ra();return S.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}const E_=S.forwardRef(({className:t,...e},n)=>{const i=sA(),a=ra();return M.jsx(je,{ref:n,...e,id:i,className:qn({[au.body]:!a.unstyled},t)})});E_.displayName="@mantine/core/ModalBaseBody";const O_=S.forwardRef(({className:t,onClick:e,...n},i)=>{const a=ra();return M.jsx(qs,{ref:i,...n,onClick:s=>{a.onClose(),e?.(s)},className:qn({[au.close]:!a.unstyled},t),unstyled:a.unstyled})});O_.displayName="@mantine/core/ModalBaseCloseButton";const T_=S.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:i,style:a,...s},u)=>{const c=ra();return M.jsx(Zo,{mounted:c.opened,transition:"pop",...c.transitionProps,onExited:()=>{c.onExitTransitionEnd?.(),c.transitionProps?.onExited?.()},onEntered:()=>{c.onEnterTransitionEnd?.(),c.transitionProps?.onEntered?.()},...t,children:f=>M.jsx("div",{...n,className:qn({[au.inner]:!c.unstyled},n.className),children:M.jsx(Hh,{active:c.opened&&c.trapFocus,innerRef:u,children:M.jsx(od,{...s,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":c.bodyMounted?c.getBodyId():void 0,"aria-labelledby":c.titleMounted?c.getTitleId():void 0,style:[a,f],className:qn({[au.content]:!c.unstyled},e),unstyled:c.unstyled,children:s.children})})})})});T_.displayName="@mantine/core/ModalBaseContent";const M_=S.forwardRef(({className:t,...e},n)=>{const i=ra();return M.jsx(je,{component:"header",ref:n,className:qn({[au.header]:!i.unstyled},t),...e})});M_.displayName="@mantine/core/ModalBaseHeader";const lA={duration:200,timingFunction:"ease",transition:"fade"};function uA(t){const e=ra();return{...lA,...e.transitionProps,...t}}const P_=S.forwardRef(({onClick:t,transitionProps:e,style:n,visible:i,...a},s)=>{const u=ra(),c=uA(e);return M.jsx(Zo,{mounted:i!==void 0?i:u.opened,...c,transition:"fade",children:f=>M.jsx($h,{ref:s,fixed:!0,style:[n,f],zIndex:u.zIndex,unstyled:u.unstyled,onClick:h=>{t?.(h),u.closeOnClickOutside&&u.onClose()},...a})})});P_.displayName="@mantine/core/ModalBaseOverlay";function cA(){const t=ra();return S.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const R_=S.forwardRef(({className:t,...e},n)=>{const i=cA(),a=ra();return M.jsx(je,{component:"h2",ref:n,className:qn({[au.title]:!a.unstyled},t),...e,id:i})});R_.displayName="@mantine/core/ModalBaseTitle";function dA({children:t}){return M.jsx(M.Fragment,{children:t})}const[fA,hA]=mu({size:"sm"});var Ii={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const D_=Ze((t,e)=>{const n=Le("InputClearButton",null,t),{size:i,variant:a,vars:s,classNames:u,styles:c,...f}=n,h=hA(),{resolvedClassNames:g,resolvedStyles:y}=Ih({classNames:u,styles:c,props:n});return M.jsx(qs,{variant:a||"transparent",ref:e,size:i||h?.size||"sm",classNames:g,styles:y,__staticSelector:"InputClearButton",style:{pointerEvents:"all",background:"var(--input-bg)",...f.style},...f})});D_.displayName="@mantine/core/InputClearButton";const pA={xs:7,sm:8,md:10,lg:12,xl:15};function mA({__clearable:t,__clearSection:e,rightSection:n,__defaultRightSection:i,size:a="sm"}){const s=t&&e;return s&&(n||i)?M.jsxs("div",{"data-combined-clear-section":!0,style:{display:"flex",gap:2,alignItems:"center",paddingInlineEnd:pA[a]},children:[s,n||i]}):n===null?null:n||s||i}const[gA,ad]=mu({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0}),yA=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${xr(e)} - ${_e(2)})`}}),qh=Ze((t,e)=>{const n=Le("InputDescription",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,size:h,__staticSelector:g,__inheritStyles:y=!0,attributes:v,variant:w,..._}=Le("InputDescription",null,n),E=ad(),P=mt({name:["InputWrapper",g],props:n,classes:Ii,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:v,rootSelector:"description",vars:f,varsResolver:yA}),N=y&&E?.getStyles||P;return M.jsx(je,{component:"p",ref:e,variant:w,size:h,...N("description",E?.getStyles?{className:a,style:s}:void 0),..._})});qh.classes=Ii;qh.displayName="@mantine/core/InputDescription";const vA=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${xr(e)} - ${_e(2)})`}}),Gh=Ze((t,e)=>{const n=Le("InputError",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,size:h,attributes:g,__staticSelector:y,__inheritStyles:v=!0,variant:w,..._}=n,E=mt({name:["InputWrapper",y],props:n,classes:Ii,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:g,rootSelector:"error",vars:f,varsResolver:vA}),P=ad(),N=v&&P?.getStyles||E;return M.jsx(je,{component:"p",ref:e,variant:w,size:h,...N("error",P?.getStyles?{className:a,style:s}:void 0),..._})});Gh.classes=Ii;Gh.displayName="@mantine/core/InputError";const d1={labelElement:"label"},bA=(t,{size:e})=>({label:{"--input-label-size":xr(e),"--input-asterisk-color":void 0}}),Vh=Ze((t,e)=>{const n=Le("InputLabel",d1,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,labelElement:h,size:g,required:y,htmlFor:v,onMouseDown:w,children:_,__staticSelector:E,variant:P,mod:N,attributes:D,...A}=Le("InputLabel",d1,n),z=mt({name:["InputWrapper",E],props:n,classes:Ii,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:D,rootSelector:"label",vars:f,varsResolver:bA}),L=ad(),G=L?.getStyles||z;return M.jsxs(je,{...G("label",L?.getStyles?{className:a,style:s}:void 0),component:h,variant:P,size:g,ref:e,htmlFor:h==="label"?v:void 0,mod:[{required:y},N],onMouseDown:j=>{w?.(j),!j.defaultPrevented&&j.detail>1&&j.preventDefault()},...A,children:[_,y&&M.jsx("span",{...G("required"),"aria-hidden":!0,children:" *"})]})});Vh.classes=Ii;Vh.displayName="@mantine/core/InputLabel";const cv=Ze((t,e)=>{const n=Le("InputPlaceholder",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,__staticSelector:h,variant:g,error:y,mod:v,attributes:w,..._}=n,E=mt({name:["InputPlaceholder",h],props:n,classes:Ii,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:w,rootSelector:"placeholder"});return M.jsx(je,{...E("placeholder"),mod:[{error:!!y},v],component:"span",variant:g,ref:e,..._})});cv.classes=Ii;cv.displayName="@mantine/core/InputPlaceholder";function xA(t,{hasDescription:e,hasError:n}){const i=t.findIndex(f=>f==="input"),a=t.slice(0,i),s=t.slice(i+1),u=e&&a.includes("description")||n&&a.includes("error");return{offsetBottom:e&&s.includes("description")||n&&s.includes("error"),offsetTop:u}}const wA={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},SA=(t,{size:e})=>({label:{"--input-label-size":xr(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${xr(e)} - ${_e(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${xr(e)} - ${_e(2)})`}}),dv=Ze((t,e)=>{const n=Le("InputWrapper",wA,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,size:h,variant:g,__staticSelector:y,inputContainer:v,inputWrapperOrder:w,label:_,error:E,description:P,labelProps:N,descriptionProps:D,errorProps:A,labelElement:z,children:L,withAsterisk:G,id:j,required:U,__stylesApiProps:ie,mod:se,attributes:de,...me}=n,Ee=mt({name:["InputWrapper",y],props:ie||n,classes:Ii,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:de,vars:f,varsResolver:SA}),ce={size:h,variant:g,__staticSelector:y},xe=Ai(j),B=typeof G=="boolean"?G:U,W=A?.id||`${xe}-error`,V=D?.id||`${xe}-description`,ge=xe,Se=!!E&&typeof E!="boolean",H=!!P,ne=`${Se?W:""} ${H?V:""}`,Ce=ne.trim().length>0?ne.trim():void 0,Ne=N?.id||`${xe}-label`,Ie=_&&M.jsx(Vh,{labelElement:z,id:Ne,htmlFor:ge,required:B,...ce,...N,children:_},"label"),qe=H&&M.jsx(qh,{...D,...ce,size:D?.size||ce.size,id:D?.id||V,children:P},"description"),nt=M.jsx(S.Fragment,{children:v(L)},"input"),wt=Se&&S.createElement(Gh,{...A,...ce,size:A?.size||ce.size,key:"error",id:A?.id||W},E),De=w.map(Jt=>{switch(Jt){case"label":return Ie;case"input":return nt;case"description":return qe;case"error":return wt;default:return null}});return M.jsx(gA,{value:{getStyles:Ee,describedBy:Ce,inputId:ge,labelId:Ne,...xA(w,{hasDescription:H,hasError:Se})},children:M.jsx(je,{ref:e,variant:g,size:h,mod:[{error:!!E},se],...Ee("root"),...me,children:De})})});dv.classes=Ii;dv.displayName="@mantine/core/InputWrapper";const CA={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0,size:"sm"},_A=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":kt(e.size,"input-height"),"--input-fz":xr(e.size),"--input-radius":e.radius===void 0?void 0:In(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?_e(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?_e(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?kt(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),Gn=wr((t,e)=>{const n=Le("Input",CA,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,required:f,__staticSelector:h,__stylesApiProps:g,size:y,wrapperProps:v,error:w,disabled:_,leftSection:E,leftSectionProps:P,leftSectionWidth:N,rightSection:D,rightSectionProps:A,rightSectionWidth:z,rightSectionPointerEvents:L,leftSectionPointerEvents:G,variant:j,vars:U,pointer:ie,multiline:se,radius:de,id:me,withAria:Ee,withErrorStyles:ce,mod:xe,inputSize:B,attributes:W,__clearSection:V,__clearable:ge,__defaultRightSection:Se,...H}=n,{styleProps:ne,rest:Ce}=nd(H),Ne=ad(),Ie={offsetBottom:Ne?.offsetBottom,offsetTop:Ne?.offsetTop},qe=mt({name:["Input",h],props:g||n,classes:Ii,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:W,stylesCtx:Ie,rootSelector:"wrapper",vars:U,varsResolver:_A}),nt=Ee?{required:f,disabled:_,"aria-invalid":!!w,"aria-describedby":Ne?.describedBy,id:Ne?.inputId||me}:{},wt=mA({__clearable:ge,__clearSection:V,rightSection:D,__defaultRightSection:Se,size:y});return M.jsx(fA,{value:{size:y||"sm"},children:M.jsxs(je,{...qe("wrapper"),...ne,...v,mod:[{error:!!w&&ce,pointer:ie,disabled:_,multiline:se,"data-with-right-section":!!wt,"data-with-left-section":!!E},xe],variant:j,size:y,children:[E&&M.jsx("div",{...P,"data-position":"left",...qe("section",{className:P?.className,style:P?.style}),children:E}),M.jsx(je,{component:"input",...Ce,...nt,ref:e,required:f,mod:{disabled:_,error:!!w&&ce},variant:j,__size:B,...qe("input")}),wt&&M.jsx("div",{...A,"data-position":"right",...qe("section",{className:A?.className,style:A?.style}),children:wt})]})})});Gn.classes=Ii;Gn.Wrapper=dv;Gn.Label=Vh;Gn.Error=Gh;Gn.Description=qh;Gn.Placeholder=cv;Gn.ClearButton=D_;Gn.displayName="@mantine/core/Input";function EA(t,e,n){const i=Le(t,e,n),{label:a,description:s,error:u,required:c,classNames:f,styles:h,className:g,unstyled:y,__staticSelector:v,__stylesApiProps:w,errorProps:_,labelProps:E,descriptionProps:P,wrapperProps:N,id:D,size:A,style:z,inputContainer:L,inputWrapperOrder:G,withAsterisk:j,variant:U,vars:ie,mod:se,attributes:de,...me}=i,{styleProps:Ee,rest:ce}=nd(me),xe={label:a,description:s,error:u,required:c,classNames:f,className:g,__staticSelector:v,__stylesApiProps:w||i,errorProps:_,labelProps:E,descriptionProps:P,unstyled:y,styles:h,size:A,style:z,inputContainer:L,inputWrapperOrder:G,withAsterisk:j,variant:U,id:D,mod:se,attributes:de,...N};return{...ce,classNames:f,styles:h,unstyled:y,wrapperProps:{...xe,...Ee},inputProps:{required:c,classNames:f,styles:h,unstyled:y,size:A,__staticSelector:v,__stylesApiProps:w||i,error:u,variant:U,id:D,attributes:de}}}const OA={__staticSelector:"InputBase",withAria:!0,size:"sm"},Gs=wr((t,e)=>{const{inputProps:n,wrapperProps:i,...a}=EA("InputBase",OA,t);return M.jsx(Gn.Wrapper,{...i,children:M.jsx(Gn,{...n,...a,ref:e})})});Gs.classes={...Gn.classes,...Gn.Wrapper.classes};Gs.displayName="@mantine/core/InputBase";const[TA,fv]=go("Accordion component was not found in the tree");var sd={root:"m_9bdbb667",panel:"m_df78851f",content:"m_4ba554d4",itemTitle:"m_8fa820a0",control:"m_4ba585b8","control--default":"m_6939a5e9","control--contained":"m_4271d21b",label:"m_df3ffa0f",chevron:"m_3f35ae96",icon:"m_9bd771fe",item:"m_9bd7b098","item--default":"m_fe19b709","item--contained":"m_1f921b3b","item--filled":"m_2cdf939a","item--separated":"m_9f59b069"};function hv({style:t,size:e=16,...n}){return M.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...t,width:_e(e),height:_e(e),display:"block"},...n,children:M.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}hv.displayName="@mantine/core/AccordionChevron";const[MA,A_]=go("Accordion.Item component was not found in the tree"),pv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,chevron:c,icon:f,onClick:h,onKeyDown:g,children:y,disabled:v,mod:w,..._}=Le("AccordionControl",null,t),{value:E}=A_(),P=fv(),N=P.isItemActive(E),D=typeof P.order=="number",A=`h${P.order}`,z=M.jsxs(Hs,{..._,...P.getStyles("control",{className:i,classNames:n,style:a,styles:s,variant:P.variant}),unstyled:P.unstyled,mod:["accordion-control",{active:N,"chevron-position":P.chevronPosition,disabled:v},w],ref:e,onClick:L=>{h?.(L),P.onChange(E)},type:"button",disabled:v,"aria-expanded":N,"aria-controls":P.getRegionId(E),id:P.getControlId(E),onKeyDown:KM({siblingSelector:"[data-accordion-control]",parentSelector:"[data-accordion]",activateOnFocus:!1,loop:P.loop,orientation:"vertical",onKeyDown:g}),children:[M.jsx(je,{component:"span",mod:{rotate:!P.disableChevronRotation&&N,position:P.chevronPosition},...P.getStyles("chevron",{classNames:n,styles:s}),children:c||P.chevron}),M.jsx("span",{...P.getStyles("label",{classNames:n,styles:s}),children:y}),f&&M.jsx(je,{component:"span",mod:{"chevron-position":P.chevronPosition},...P.getStyles("icon",{classNames:n,styles:s}),children:f})]});return D?M.jsx(A,{...P.getStyles("itemTitle",{classNames:n,styles:s}),children:z}):z});pv.displayName="@mantine/core/AccordionControl";pv.classes=sd;const mv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,value:c,mod:f,...h}=Le("AccordionItem",null,t),g=fv();return M.jsx(MA,{value:{value:c},children:M.jsx(je,{ref:e,mod:[{active:g.isItemActive(c)},f],...g.getStyles("item",{className:i,classNames:n,styles:s,style:a,variant:g.variant}),...h})})});mv.displayName="@mantine/core/AccordionItem";mv.classes=sd;const gv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,children:c,...f}=Le("AccordionPanel",null,t),{value:h}=A_(),g=fv();return M.jsx(AC,{ref:e,...g.getStyles("panel",{className:i,classNames:n,style:a,styles:s}),...f,in:g.isItemActive(h),transitionDuration:g.transitionDuration??200,role:"region",id:g.getRegionId(h),"aria-labelledby":g.getControlId(h),children:M.jsx("div",{...g.getStyles("content",{classNames:n,styles:s}),children:c})})});gv.displayName="@mantine/core/AccordionPanel";gv.classes=sd;const PA={multiple:!1,disableChevronRotation:!1,chevronPosition:"right",variant:"default",chevronSize:"auto",chevronIconSize:16},RA=(t,{transitionDuration:e,chevronSize:n,radius:i})=>({root:{"--accordion-transition-duration":e===void 0?void 0:`${e}ms`,"--accordion-chevron-size":n===void 0?void 0:_e(n),"--accordion-radius":i===void 0?void 0:In(i)}});function si(t){const e=Le("Accordion",PA,t),{classNames:n,className:i,style:a,styles:s,unstyled:u,vars:c,children:f,multiple:h,value:g,defaultValue:y,onChange:v,id:w,loop:_,transitionDuration:E,disableChevronRotation:P,chevronPosition:N,chevronSize:D,order:A,chevron:z,variant:L,radius:G,chevronIconSize:j,attributes:U,...ie}=e,se=Ai(w),[de,me]=Xa({value:g,defaultValue:y,finalValue:h?[]:null,onChange:v}),Ee=B=>Array.isArray(de)?de.includes(B):B===de,ce=B=>{const W=Array.isArray(de)?de.includes(B)?de.filter(V=>V!==B):[...de,B]:B===de?null:B;me(W)},xe=mt({name:"Accordion",classes:sd,props:e,className:i,style:a,classNames:n,styles:s,unstyled:u,attributes:U,vars:c,varsResolver:RA});return M.jsx(TA,{value:{isItemActive:Ee,onChange:ce,getControlId:Rw(`${se}-control`,"Accordion.Item component was rendered with invalid value or without value"),getRegionId:Rw(`${se}-panel`,"Accordion.Item component was rendered with invalid value or without value"),chevron:z===null?null:z||M.jsx(hv,{size:j}),transitionDuration:E,disableChevronRotation:P,chevronPosition:N,order:A,loop:_,getStyles:xe,variant:L,unstyled:u},children:M.jsx(je,{...xe("root"),id:se,...ie,variant:L,"data-accordion":!0,children:f})})}const DA=t=>t;si.extend=DA;si.withProps=OR(si);si.classes=sd;si.displayName="@mantine/core/Accordion";si.Item=mv;si.Panel=gv;si.Control=pv;si.Chevron=hv;var N_={root:"m_66836ed3",wrapper:"m_a5d60502",body:"m_667c2793",title:"m_6a03f287",label:"m_698f4f23",icon:"m_667f2a6a",message:"m_7fa78076",closeButton:"m_87f54839"};const AA=(t,{radius:e,color:n,variant:i,autoContrast:a})=>{const s=t.variantColorResolver({color:n||t.primaryColor,theme:t,variant:i||"light",autoContrast:a});return{root:{"--alert-radius":e===void 0?void 0:In(e),"--alert-bg":n||i?s.background:void 0,"--alert-color":s.color,"--alert-bd":n||i?s.border:void 0}}},yh=Ze((t,e)=>{const n=Le("Alert",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,radius:h,color:g,title:y,children:v,id:w,icon:_,withCloseButton:E,onClose:P,closeButtonLabel:N,variant:D,autoContrast:A,role:z,attributes:L,...G}=n,j=mt({name:"Alert",classes:N_,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:L,vars:f,varsResolver:AA}),U=Ai(w),ie=y&&`${U}-title`||void 0,se=`${U}-body`;return M.jsx(je,{id:U,...j("root",{variant:D}),variant:D,ref:e,role:z||"alert",...G,"aria-describedby":v?se:void 0,"aria-labelledby":y?ie:void 0,children:M.jsxs("div",{...j("wrapper"),children:[_&&M.jsx("div",{...j("icon"),children:_}),M.jsxs("div",{...j("body"),children:[y&&M.jsx("div",{...j("title"),"data-with-close-button":E||void 0,children:M.jsx("span",{id:ie,...j("label"),children:y})}),v&&M.jsx("div",{id:se,...j("message"),"data-variant":D,children:v})]}),E&&M.jsx(qs,{...j("closeButton"),onClick:P,variant:"transparent",size:16,iconSize:16,"aria-label":N,unstyled:c})]})})});yh.classes=N_;yh.displayName="@mantine/core/Alert";var I_={root:"m_b6d8b162"};function NA(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const IA={inherit:!1},jA=(t,{variant:e,lineClamp:n,gradient:i,size:a,color:s})=>({root:{"--text-fz":xr(a),"--text-lh":ZM(a),"--text-gradient":e==="gradient"?ey(i,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":s?di(s,t):void 0}}),li=wr((t,e)=>{const n=Le("Text",IA,t),{lineClamp:i,truncate:a,inline:s,inherit:u,gradient:c,span:f,__staticSelector:h,vars:g,className:y,style:v,classNames:w,styles:_,unstyled:E,variant:P,mod:N,size:D,attributes:A,...z}=n,L=mt({name:["Text",h],props:n,classes:I_,className:y,style:v,classNames:w,styles:_,unstyled:E,attributes:A,vars:g,varsResolver:jA});return M.jsx(je,{...L("root",{focusable:!0}),ref:e,component:f?"span":"p",variant:P,mod:[{"data-truncate":NA(a),"data-line-clamp":typeof i=="number","data-inline":s,"data-inherit":u},N],size:D,...z})});li.classes=I_;li.displayName="@mantine/core/Text";const[kA,wu]=go("AppShell was not found in tree");var es={root:"m_89ab340",navbar:"m_45252eee",aside:"m_9cdde9a",header:"m_3b16f56b",main:"m_8983817",footer:"m_3840c879",section:"m_6dcfc7c7"};const yv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,unstyled:u,vars:c,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellAside",null,t),v=wu();return v.disabled?null:M.jsx(je,{component:"aside",ref:e,mod:[{"with-border":f??v.withBorder},g],...v.getStyles("aside",{className:qn({[ks.classNames.zeroRight]:v.offsetScrollbars},i),classNames:n,styles:s,style:a}),...y,__vars:{"--app-shell-aside-z-index":`calc(${h??v.zIndex} + 1)`}})});yv.classes=es;yv.displayName="@mantine/core/AppShellAside";const vv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,unstyled:u,vars:c,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellFooter",null,t),v=wu();return v.disabled?null:M.jsx(je,{component:"footer",ref:e,mod:[{"with-border":f??v.withBorder},g],...v.getStyles("footer",{className:qn({[ks.classNames.zeroRight]:v.offsetScrollbars},i),classNames:n,styles:s,style:a}),...y,__vars:{"--app-shell-footer-z-index":(h??v.zIndex)?.toString()}})});vv.classes=es;vv.displayName="@mantine/core/AppShellFooter";const bv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,unstyled:u,vars:c,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellHeader",null,t),v=wu();return v.disabled?null:M.jsx(je,{component:"header",ref:e,mod:[{"with-border":f??v.withBorder},g],...v.getStyles("header",{className:qn({[ks.classNames.zeroRight]:v.offsetScrollbars},i),classNames:n,styles:s,style:a}),...y,__vars:{"--app-shell-header-z-index":(h??v.zIndex)?.toString()}})});bv.classes=es;bv.displayName="@mantine/core/AppShellHeader";const xv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,...c}=Le("AppShellMain",null,t),f=wu();return M.jsx(je,{component:"main",ref:e,...f.getStyles("main",{className:i,style:a,classNames:n,styles:s}),...c})});xv.classes=es;xv.displayName="@mantine/core/AppShellMain";function ld(t){return typeof t=="object"?t.base:t}function ud(t){const e=typeof t=="object"&&t!==null&&typeof t.base<"u"&&Object.keys(t).length===1;return typeof t=="number"||typeof t=="string"||e}function cd(t){return!(typeof t!="object"||t===null||Object.keys(t).length===1&&"base"in t)}function zA({baseStyles:t,minMediaStyles:e,maxMediaStyles:n,aside:i,theme:a,mode:s}){const u=i?.width,c="translateX(var(--app-shell-aside-width))",f="translateX(calc(var(--app-shell-aside-width) * -1))";if(i?.breakpoint&&!i?.collapsed?.mobile&&(n[i?.breakpoint]=n[i?.breakpoint]||{},s==="fixed"?(n[i?.breakpoint]["--app-shell-aside-width"]="100%",n[i?.breakpoint]["--app-shell-aside-offset"]="0px"):(n[i?.breakpoint]["--app-shell-aside-width"]="0px",n[i?.breakpoint]["--app-shell-aside-offset"]="0px")),ud(u)){const h=_e(ld(u));t["--app-shell-aside-width"]=h,t["--app-shell-aside-offset"]=h}if(cd(u)&&(typeof u.base<"u"&&(t["--app-shell-aside-width"]=_e(u.base),t["--app-shell-aside-offset"]=_e(u.base)),dr(u).forEach(h=>{h!=="base"&&(e[h]=e[h]||{},e[h]["--app-shell-aside-width"]=_e(u[h]),e[h]["--app-shell-aside-offset"]=_e(u[h]))})),i?.breakpoint&&s==="static"&&(e[i.breakpoint]=e[i.breakpoint]||{},e[i.breakpoint]["--app-shell-aside-position"]="sticky",e[i.breakpoint]["--app-shell-aside-grid-row"]="2",e[i.breakpoint]["--app-shell-aside-grid-column"]="3",e[i.breakpoint]["--app-shell-main-column-end"]="3"),i?.collapsed?.desktop){const h=i.breakpoint;e[h]=e[h]||{},e[h]["--app-shell-aside-transform"]=c,e[h]["--app-shell-aside-transform-rtl"]=f,s==="fixed"?e[h]["--app-shell-aside-offset"]="0px !important":(e[h]["--app-shell-aside-width"]="0px",e[h]["--app-shell-aside-display"]="none",e[h]["--app-shell-main-column-end"]="-1"),e[h]["--app-shell-aside-scroll-locked-visibility"]="hidden"}if(i?.collapsed?.mobile){const h=Ly(i.breakpoint,a.breakpoints)-.1;n[h]=n[h]||{},s==="fixed"?(n[h]["--app-shell-aside-width"]="100%",n[h]["--app-shell-aside-offset"]="0px"):n[h]["--app-shell-aside-width"]="0px",n[h]["--app-shell-aside-transform"]=c,n[h]["--app-shell-aside-transform-rtl"]=f,n[h]["--app-shell-aside-scroll-locked-visibility"]="hidden"}}function LA({baseStyles:t,minMediaStyles:e,footer:n,mode:i}){const a=n?.height,s="translateY(var(--app-shell-footer-height))",u=i==="static"?!0:n?.offset??!0;if(i==="static"&&n&&(t["--app-shell-footer-position"]="sticky",t["--app-shell-footer-grid-column"]="1 / -1",t["--app-shell-footer-grid-row"]="3"),ud(a)){const c=_e(ld(a));t["--app-shell-footer-height"]=c,u&&(t["--app-shell-footer-offset"]=c)}cd(a)&&(typeof a.base<"u"&&(t["--app-shell-footer-height"]=_e(a.base),u&&(t["--app-shell-footer-offset"]=_e(a.base))),dr(a).forEach(c=>{c!=="base"&&(e[c]=e[c]||{},e[c]["--app-shell-footer-height"]=_e(a[c]),u&&(e[c]["--app-shell-footer-offset"]=_e(a[c])))})),n?.collapsed&&(t["--app-shell-footer-transform"]=s,i==="fixed"&&(t["--app-shell-footer-offset"]="0px !important"))}function FA({baseStyles:t,minMediaStyles:e,header:n,mode:i}){const a=n?.height,s="translateY(calc(var(--app-shell-header-height) * -1))",u=i==="static"?!0:n?.offset??!0;if(i==="static"&&n&&(t["--app-shell-header-position"]="sticky",t["--app-shell-header-grid-column"]="1 / -1",t["--app-shell-header-grid-row"]="1"),ud(a)){const c=_e(ld(a));t["--app-shell-header-height"]=c,u&&(t["--app-shell-header-offset"]=c)}cd(a)&&(typeof a.base<"u"&&(t["--app-shell-header-height"]=_e(a.base),u&&(t["--app-shell-header-offset"]=_e(a.base))),dr(a).forEach(c=>{c!=="base"&&(e[c]=e[c]||{},e[c]["--app-shell-header-height"]=_e(a[c]),u&&(e[c]["--app-shell-header-offset"]=_e(a[c])))})),n?.collapsed&&(t["--app-shell-header-transform"]=s,i==="fixed"&&(t["--app-shell-header-offset"]="0px !important"))}function BA({baseStyles:t,minMediaStyles:e,maxMediaStyles:n,navbar:i,theme:a,mode:s}){const u=i?.width,c="translateX(calc(var(--app-shell-navbar-width) * -1))",f="translateX(var(--app-shell-navbar-width))";if(i?.breakpoint&&!i?.collapsed?.mobile&&(n[i?.breakpoint]=n[i?.breakpoint]||{},n[i?.breakpoint]["--app-shell-navbar-offset"]="0px",n[i?.breakpoint]["--app-shell-navbar-width"]="100%",s==="static"&&(n[i?.breakpoint]["--app-shell-navbar-grid-width"]="0px")),ud(u)){const h=_e(ld(u));t["--app-shell-navbar-width"]=h,t["--app-shell-navbar-offset"]=h,s==="static"&&(t["--app-shell-navbar-grid-width"]=h)}if(cd(u)&&(typeof u.base<"u"&&(t["--app-shell-navbar-width"]=_e(u.base),t["--app-shell-navbar-offset"]=_e(u.base),s==="static"&&(t["--app-shell-navbar-grid-width"]=_e(u.base))),dr(u).forEach(h=>{h!=="base"&&(e[h]=e[h]||{},e[h]["--app-shell-navbar-width"]=_e(u[h]),e[h]["--app-shell-navbar-offset"]=_e(u[h]),s==="static"&&(e[h]["--app-shell-navbar-grid-width"]=_e(u[h])))})),i?.breakpoint&&s==="static"&&(e[i.breakpoint]=e[i.breakpoint]||{},e[i.breakpoint]["--app-shell-navbar-position"]="sticky",e[i.breakpoint]["--app-shell-navbar-grid-row"]="2",e[i.breakpoint]["--app-shell-navbar-grid-column"]="1",e[i.breakpoint]["--app-shell-main-column-start"]="2"),i?.collapsed?.desktop){const h=i.breakpoint;e[h]=e[h]||{},e[h]["--app-shell-navbar-transform"]=c,e[h]["--app-shell-navbar-transform-rtl"]=f,s==="fixed"?e[h]["--app-shell-navbar-offset"]="0px !important":(e[h]["--app-shell-navbar-width"]="0px",e[h]["--app-shell-navbar-display"]="none",e[h]["--app-shell-main-column-start"]="1")}if(i?.collapsed?.mobile){const h=Ly(i.breakpoint,a.breakpoints)-.1;n[h]=n[h]||{},n[h]["--app-shell-navbar-width"]="100%",n[h]["--app-shell-navbar-offset"]="0px",s==="static"&&(n[h]["--app-shell-navbar-grid-width"]="0px"),n[h]["--app-shell-navbar-transform"]=c,n[h]["--app-shell-navbar-transform-rtl"]=f}}function Ig(t){return Number(t)===0?"0px":Bs(t)}function UA({padding:t,baseStyles:e,minMediaStyles:n}){ud(t)&&(e["--app-shell-padding"]=Ig(ld(t))),cd(t)&&(t.base&&(e["--app-shell-padding"]=Ig(t.base)),dr(t).forEach(i=>{i!=="base"&&(n[i]=n[i]||{},n[i]["--app-shell-padding"]=Ig(t[i]))}))}function $A({navbar:t,header:e,footer:n,aside:i,padding:a,theme:s,mode:u}){const c={},f={},h={};u==="static"&&(h["--app-shell-main-grid-column"]="1 / -1",h["--app-shell-main-grid-row"]="2"),BA({baseStyles:h,minMediaStyles:c,maxMediaStyles:f,navbar:t,theme:s,mode:u}),zA({baseStyles:h,minMediaStyles:c,maxMediaStyles:f,aside:i,theme:s,mode:u}),FA({baseStyles:h,minMediaStyles:c,header:e,mode:u}),LA({baseStyles:h,minMediaStyles:c,footer:n,mode:u}),UA({baseStyles:h,minMediaStyles:c,padding:a});const g=Dw(dr(c),s.breakpoints).map(w=>({query:`(min-width: ${lh(w.px)})`,styles:c[w.value]})),y=Dw(dr(f),s.breakpoints).map(w=>({query:`(max-width: ${lh(w.px)})`,styles:f[w.value]})),v=[...g,...y];return{baseStyles:h,media:v}}function HA({navbar:t,header:e,aside:n,footer:i,padding:a,mode:s,selector:u}){const c=hi(),f=ta(),{media:h,baseStyles:g}=$A({navbar:t,header:e,footer:i,aside:n,padding:a,theme:c,mode:s});return M.jsx(OC,{media:h,styles:g,selector:u||f.cssVariablesSelector})}const wv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,unstyled:u,vars:c,withBorder:f,zIndex:h,mod:g,...y}=Le("AppShellNavbar",null,t),v=wu();return v.disabled?null:M.jsx(je,{component:"nav",ref:e,mod:[{"with-border":f??v.withBorder},g],...v.getStyles("navbar",{className:i,classNames:n,styles:s,style:a}),...y,__vars:{"--app-shell-navbar-z-index":`calc(${h??v.zIndex} + 1)`}})});wv.classes=es;wv.displayName="@mantine/core/AppShellNavbar";const Sv=wr((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,grow:c,mod:f,...h}=Le("AppShellSection",null,t),g=wu();return M.jsx(je,{ref:e,mod:[{grow:c},f],...g.getStyles("section",{className:i,style:a,classNames:n,styles:s}),...h})});Sv.classes=es;Sv.displayName="@mantine/core/AppShellSection";function qA({transitionDuration:t,disabled:e}){const[n,i]=S.useState(!0),a=S.useRef(-1),s=S.useRef(-1);return uh("resize",()=>{i(!0),clearTimeout(a.current),a.current=window.setTimeout(()=>S.startTransition(()=>{i(!1)}),200)}),Za(()=>{i(!0),clearTimeout(s.current),s.current=window.setTimeout(()=>S.startTransition(()=>{i(!1)}),t||0)},[e,t]),n}const GA={withBorder:!0,padding:0,transitionDuration:200,transitionTimingFunction:"ease",zIndex:Ki("app"),mode:"fixed"},VA=(t,{transitionDuration:e,transitionTimingFunction:n})=>({root:{"--app-shell-transition-duration":`${e}ms`,"--app-shell-transition-timing-function":n}}),Kr=Ze((t,e)=>{const n=Le("AppShell",GA,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,navbar:h,withBorder:g,padding:y,transitionDuration:v,transitionTimingFunction:w,header:_,zIndex:E,layout:P,disabled:N,aside:D,footer:A,offsetScrollbars:z=!0,mode:L,mod:G,attributes:j,id:U,...ie}=n,se=mt({name:"AppShell",classes:es,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:j,vars:f,varsResolver:VA}),de=qA({disabled:N,transitionDuration:v}),me=Ai(U);return M.jsxs(kA,{value:{getStyles:se,withBorder:g,zIndex:E,disabled:N,offsetScrollbars:z,mode:L},children:[M.jsx(HA,{navbar:h,header:_,aside:D,footer:A,padding:y,mode:L,selector:L==="static"?`#${me}`:void 0}),M.jsx(je,{ref:e,...se("root"),mod:[{resizing:de,layout:P,disabled:N,mode:L},G],id:me,...ie})]})});Kr.classes=es;Kr.displayName="@mantine/core/AppShell";Kr.Navbar=wv;Kr.Header=bv;Kr.Main=xv;Kr.Aside=yv;Kr.Footer=vv;Kr.Section=Sv;function j_(t){return typeof t=="string"?{value:t,label:t}:"value"in t&&!("label"in t)?{value:t.value,label:t.value,disabled:t.disabled}:typeof t=="number"?{value:t.toString(),label:t.toString()}:"group"in t?{group:t.group,items:t.items.map(e=>j_(e))}:t}function YA(t){return t?t.map(e=>j_(e)):[]}function k_(t){return t.reduce((e,n)=>"group"in n?{...e,...k_(n.items)}:(e[n.value]=n,e),{})}var Dr={dropdown:"m_88b62a41",search:"m_985517d8",options:"m_b2821a6e",option:"m_92253aa5",empty:"m_2530cd1d",header:"m_858f94bd",footer:"m_82b967cb",group:"m_254f3e4f",groupLabel:"m_2bb2e9e5",chevron:"m_2943220b",optionsDropdownOption:"m_390b5f4",optionsDropdownCheckIcon:"m_8ee53fc2",optionsDropdownCheckPlaceholder:"m_a530ee0a"};const KA={error:null},WA=(t,{size:e,color:n})=>({chevron:{"--combobox-chevron-size":kt(e,"combobox-chevron-size"),"--combobox-chevron-color":n?di(n,t):void 0}}),Cv=Ze((t,e)=>{const n=Le("ComboboxChevron",KA,t),{size:i,error:a,style:s,className:u,classNames:c,styles:f,unstyled:h,vars:g,mod:y,...v}=n,w=mt({name:"ComboboxChevron",classes:Dr,props:n,style:s,className:u,classNames:c,styles:f,unstyled:h,vars:g,varsResolver:WA,rootSelector:"chevron"});return M.jsx(je,{component:"svg",...v,...w("chevron"),size:i,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",mod:["combobox-chevron",{error:a},y],ref:e,children:M.jsx("path",{d:"M4.93179 5.43179C4.75605 5.60753 4.75605 5.89245 4.93179 6.06819C5.10753 6.24392 5.39245 6.24392 5.56819 6.06819L7.49999 4.13638L9.43179 6.06819C9.60753 6.24392 9.89245 6.24392 10.0682 6.06819C10.2439 5.89245 10.2439 5.60753 10.0682 5.43179L7.81819 3.18179C7.73379 3.0974 7.61933 3.04999 7.49999 3.04999C7.38064 3.04999 7.26618 3.0974 7.18179 3.18179L4.93179 5.43179ZM10.0682 9.56819C10.2439 9.39245 10.2439 9.10753 10.0682 8.93179C9.89245 8.75606 9.60753 8.75606 9.43179 8.93179L7.49999 10.8636L5.56819 8.93179C5.39245 8.75606 5.10753 8.75606 4.93179 8.93179C4.75605 9.10753 4.75605 9.39245 4.93179 9.56819L7.18179 11.8182C7.35753 11.9939 7.64245 11.9939 7.81819 11.8182L10.0682 9.56819Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})});Cv.classes=Dr;Cv.displayName="@mantine/core/ComboboxChevron";const[XA,ji]=go("Combobox component was not found in tree"),z_=S.forwardRef(({size:t,onMouseDown:e,onClick:n,onClear:i,...a},s)=>M.jsx(Gn.ClearButton,{ref:s,tabIndex:-1,"aria-hidden":!0,...a,onMouseDown:u=>{u.preventDefault(),e?.(u)},onClick:u=>{i(),n?.(u)}}));z_.displayName="@mantine/core/ComboboxClearButton";const _v=Ze((t,e)=>{const{classNames:n,styles:i,className:a,style:s,hidden:u,...c}=Le("ComboboxDropdown",null,t),f=ji();return M.jsx(Ja.Dropdown,{...c,ref:e,role:"presentation","data-hidden":u||void 0,...f.getStyles("dropdown",{className:a,style:s,classNames:n,styles:i})})});_v.classes=Dr;_v.displayName="@mantine/core/ComboboxDropdown";const QA={refProp:"ref"},L_=Ze((t,e)=>{const{children:n,refProp:i}=Le("ComboboxDropdownTarget",QA,t);if(ji(),!uC(n))throw new Error("Combobox.DropdownTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");return M.jsx(Ja.Target,{ref:e,refProp:i,children:n})});L_.displayName="@mantine/core/ComboboxDropdownTarget";const Ev=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,...c}=Le("ComboboxEmpty",null,t),f=ji();return M.jsx(je,{ref:e,...f.getStyles("empty",{className:i,classNames:n,styles:s,style:a}),...c})});Ev.classes=Dr;Ev.displayName="@mantine/core/ComboboxEmpty";function Ov({onKeyDown:t,withKeyboardNavigation:e,withAriaAttributes:n,withExpandedAttribute:i,targetType:a,autoComplete:s}){const u=ji(),[c,f]=S.useState(null),h=y=>{if(t?.(y),!u.readOnly&&e){if(y.nativeEvent.isComposing)return;if(y.nativeEvent.code==="ArrowDown"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectNextOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="ArrowUp"&&(y.preventDefault(),u.store.dropdownOpened?f(u.store.selectPreviousOption()):(u.store.openDropdown("keyboard"),f(u.store.selectActiveOption()),u.store.updateSelectedOptionIndex("selected",{scrollIntoView:!0}))),y.nativeEvent.code==="Enter"||y.nativeEvent.code==="NumpadEnter"){if(y.nativeEvent.keyCode===229)return;const v=u.store.getSelectedOptionIndex();u.store.dropdownOpened&&v!==-1?(y.preventDefault(),u.store.clickSelectedOption()):a==="button"&&(y.preventDefault(),u.store.openDropdown("keyboard"))}y.key==="Escape"&&u.store.closeDropdown("keyboard"),y.nativeEvent.code==="Space"&&a==="button"&&(y.preventDefault(),u.store.toggleDropdown("keyboard"))}};return{...n?{"aria-haspopup":"listbox","aria-expanded":i?!!(u.store.listId&&u.store.dropdownOpened):void 0,"aria-controls":u.store.dropdownOpened&&u.store.listId?u.store.listId:void 0,"aria-activedescendant":u.store.dropdownOpened&&c||void 0,autoComplete:s,"data-expanded":u.store.dropdownOpened||void 0,"data-mantine-stop-propagation":u.store.dropdownOpened||void 0}:{},onKeyDown:h}}const ZA={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},F_=Ze((t,e)=>{const{children:n,refProp:i,withKeyboardNavigation:a,withAriaAttributes:s,withExpandedAttribute:u,targetType:c,autoComplete:f,...h}=Le("ComboboxEventsTarget",ZA,t),g=gu(n);if(!g)throw new Error("Combobox.EventsTarget component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=ji(),v=Ov({targetType:c,withAriaAttributes:s,withKeyboardNavigation:a,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f});return S.cloneElement(g,{...v,...h,[i]:Wr(e,y.store.targetRef,Dh(g))})});F_.displayName="@mantine/core/ComboboxEventsTarget";const Tv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,...c}=Le("ComboboxFooter",null,t),f=ji();return M.jsx(je,{ref:e,...f.getStyles("footer",{className:i,classNames:n,style:a,styles:s}),...c,onMouseDown:h=>{h.preventDefault()}})});Tv.classes=Dr;Tv.displayName="@mantine/core/ComboboxFooter";const Mv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,children:c,label:f,id:h,...g}=Le("ComboboxGroup",null,t),y=ji(),v=Ai(h);return M.jsxs(je,{ref:e,role:"group","aria-labelledby":f?v:void 0,...y.getStyles("group",{className:i,classNames:n,style:a,styles:s}),...g,children:[f&&M.jsx("div",{id:v,...y.getStyles("groupLabel",{classNames:n,styles:s}),children:f}),c]})});Mv.classes=Dr;Mv.displayName="@mantine/core/ComboboxGroup";const Pv=Ze((t,e)=>{const{classNames:n,className:i,style:a,styles:s,vars:u,...c}=Le("ComboboxHeader",null,t),f=ji();return M.jsx(je,{ref:e,...f.getStyles("header",{className:i,classNames:n,style:a,styles:s}),...c,onMouseDown:h=>{h.preventDefault()}})});Pv.classes=Dr;Pv.displayName="@mantine/core/ComboboxHeader";function B_({value:t,valuesDivider:e=",",...n}){return M.jsx("input",{type:"hidden",value:Array.isArray(t)?t.join(e):t||"",...n})}B_.displayName="@mantine/core/ComboboxHiddenInput";const Rv=Ze((t,e)=>{const n=Le("ComboboxOption",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,onClick:f,id:h,active:g,onMouseDown:y,onMouseOver:v,disabled:w,selected:_,mod:E,...P}=n,N=ji(),D=S.useId(),A=h||D;return M.jsx(je,{...N.getStyles("option",{className:a,classNames:i,styles:u,style:s}),...P,ref:e,id:A,mod:["combobox-option",{"combobox-active":g,"combobox-disabled":w,"combobox-selected":_},E],role:"option",onClick:z=>{w?z.preventDefault():(N.onOptionSubmit?.(n.value,n),f?.(z))},onMouseDown:z=>{z.preventDefault(),y?.(z)},onMouseOver:z=>{N.resetSelectionOnOptionHover&&N.store.resetSelectedOption(),v?.(z)}})});Rv.classes=Dr;Rv.displayName="@mantine/core/ComboboxOption";const Dv=Ze((t,e)=>{const n=Le("ComboboxOptions",null,t),{classNames:i,className:a,style:s,styles:u,id:c,onMouseDown:f,labelledBy:h,...g}=n,y=ji(),v=Ai(c);return S.useEffect(()=>{y.store.setListId(v)},[v]),M.jsx(je,{ref:e,...y.getStyles("options",{className:a,style:s,classNames:i,styles:u}),...g,id:v,role:"listbox","aria-labelledby":h,onMouseDown:w=>{w.preventDefault(),f?.(w)}})});Dv.classes=Dr;Dv.displayName="@mantine/core/ComboboxOptions";const JA={withAriaAttributes:!0,withKeyboardNavigation:!0},Av=Ze((t,e)=>{const n=Le("ComboboxSearch",JA,t),{classNames:i,styles:a,unstyled:s,vars:u,withAriaAttributes:c,onKeyDown:f,withKeyboardNavigation:h,size:g,...y}=n,v=ji(),w=v.getStyles("search"),_=Ov({targetType:"input",withAriaAttributes:c,withKeyboardNavigation:h,withExpandedAttribute:!1,onKeyDown:f,autoComplete:"off"});return M.jsx(Gn,{ref:Wr(e,v.store.searchRef),classNames:[{input:w.className},i],styles:[{input:w.style},a],size:g||v.size,..._,...y,__staticSelector:"Combobox"})});Av.classes=Dr;Av.displayName="@mantine/core/ComboboxSearch";const eN={refProp:"ref",targetType:"input",withKeyboardNavigation:!0,withAriaAttributes:!0,withExpandedAttribute:!1,autoComplete:"off"},U_=Ze((t,e)=>{const{children:n,refProp:i,withKeyboardNavigation:a,withAriaAttributes:s,withExpandedAttribute:u,targetType:c,autoComplete:f,...h}=Le("ComboboxTarget",eN,t),g=gu(n);if(!g)throw new Error("Combobox.Target component children should be an element or a component that accepts ref. Fragments, strings, numbers and other primitive values are not supported");const y=ji(),v=Ov({targetType:c,withAriaAttributes:s,withKeyboardNavigation:a,withExpandedAttribute:u,onKeyDown:g.props.onKeyDown,autoComplete:f}),w=S.cloneElement(g,{...v,...h});return M.jsx(Ja.Target,{ref:Wr(e,y.store.targetRef),children:w})});U_.displayName="@mantine/core/ComboboxTarget";function tN(t,e,n){for(let i=t-1;i>=0;i-=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i;if(n){for(let i=e.length-1;i>-1;i-=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i}return t}function nN(t,e,n){for(let i=t+1;i<e.length;i+=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i;if(n){for(let i=0;i<e.length;i+=1)if(!e[i].hasAttribute("data-combobox-disabled"))return i}return t}function rN(t){for(let e=0;e<t.length;e+=1)if(!t[e].hasAttribute("data-combobox-disabled"))return e;return-1}function $_({defaultOpened:t,opened:e,onOpenedChange:n,onDropdownClose:i,onDropdownOpen:a,loop:s=!0,scrollBehavior:u="instant"}={}){const[c,f]=Xa({value:e,defaultValue:t,finalValue:!1,onChange:n}),h=S.useRef(null),g=S.useRef(-1),y=S.useRef(null),v=S.useRef(null),w=S.useRef(-1),_=S.useRef(-1),E=S.useRef(-1),P=S.useCallback((B="unknown")=>{c||(f(!0),a?.(B))},[f,a,c]),N=S.useCallback((B="unknown")=>{c&&(f(!1),i?.(B))},[f,i,c]),D=S.useCallback((B="unknown")=>{c?N(B):P(B)},[N,P,c]),A=S.useCallback(()=>{const B=Ua(v.current),W=Zf(`#${h.current} [data-combobox-selected]`,B);W?.removeAttribute("data-combobox-selected"),W?.removeAttribute("aria-selected")},[]),z=S.useCallback(B=>{const W=Ua(v.current),V=Zf(`#${h.current}`,W),ge=V?$a("[data-combobox-option]",V):null;if(!ge)return null;const Se=B>=ge.length?0:B<0?ge.length-1:B;return g.current=Se,ge?.[Se]&&!ge[Se].hasAttribute("data-combobox-disabled")?(A(),ge[Se].setAttribute("data-combobox-selected","true"),ge[Se].setAttribute("aria-selected","true"),ge[Se].scrollIntoView({block:"nearest",behavior:u}),ge[Se].id):null},[u,A]),L=S.useCallback(()=>{const B=Ua(v.current),W=Zf(`#${h.current} [data-combobox-active]`,B);if(W){const ge=$a(`#${h.current} [data-combobox-option]`,B).findIndex(Se=>Se===W);return z(ge)}return z(0)},[z]),G=S.useCallback(()=>{const B=Ua(v.current),W=$a(`#${h.current} [data-combobox-option]`,B);return z(nN(g.current,W,s))},[z,s]),j=S.useCallback(()=>{const B=Ua(v.current),W=$a(`#${h.current} [data-combobox-option]`,B);return z(tN(g.current,W,s))},[z,s]),U=S.useCallback(()=>{const B=Ua(v.current),W=$a(`#${h.current} [data-combobox-option]`,B);return z(rN(W))},[z]),ie=S.useCallback((B="selected",W)=>{E.current=window.setTimeout(()=>{const V=Ua(v.current),ge=$a(`#${h.current} [data-combobox-option]`,V),Se=ge.findIndex(H=>H.hasAttribute(`data-combobox-${B}`));g.current=Se,W?.scrollIntoView&&ge[Se]?.scrollIntoView({block:"nearest",behavior:u})},0)},[]),se=S.useCallback(()=>{g.current=-1,A()},[A]),de=S.useCallback(()=>{const B=Ua(v.current);$a(`#${h.current} [data-combobox-option]`,B)?.[g.current]?.click()},[]),me=S.useCallback(B=>{h.current=B},[]),Ee=S.useCallback(()=>{w.current=window.setTimeout(()=>y.current?.focus(),0)},[]),ce=S.useCallback(()=>{_.current=window.setTimeout(()=>v.current?.focus(),0)},[]),xe=S.useCallback(()=>g.current,[]);return S.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(_.current),window.clearTimeout(E.current)},[]),{dropdownOpened:c,openDropdown:P,closeDropdown:N,toggleDropdown:D,selectedOptionIndex:g.current,getSelectedOptionIndex:xe,selectOption:z,selectFirstOption:U,selectActiveOption:L,selectNextOption:G,selectPreviousOption:j,resetSelectedOption:se,updateSelectedOptionIndex:ie,listId:h.current,setListId:me,clickSelectedOption:de,searchRef:y,focusSearchInput:Ee,targetRef:v,focusTarget:ce}}const iN={keepMounted:!0,withinPortal:!0,resetSelectionOnOptionHover:!1,width:"target",transitionProps:{transition:"fade",duration:0},size:"sm"},oN=(t,{size:e,dropdownPadding:n})=>({options:{"--combobox-option-fz":xr(e),"--combobox-option-padding":kt(e,"combobox-option-padding")},dropdown:{"--combobox-padding":n===void 0?void 0:_e(n),"--combobox-option-fz":xr(e),"--combobox-option-padding":kt(e,"combobox-option-padding")}});function Zt(t){const e=Le("Combobox",iN,t),{classNames:n,styles:i,unstyled:a,children:s,store:u,vars:c,onOptionSubmit:f,onClose:h,size:g,dropdownPadding:y,resetSelectionOnOptionHover:v,__staticSelector:w,readOnly:_,attributes:E,...P}=e,N=$_(),D=u||N,A=mt({name:w||"Combobox",classes:Dr,props:e,classNames:n,styles:i,unstyled:a,attributes:E,vars:c,varsResolver:oN}),z=()=>{h?.(),D.closeDropdown()};return M.jsx(XA,{value:{getStyles:A,store:D,onOptionSubmit:f,size:g,resetSelectionOnOptionHover:v,readOnly:_},children:M.jsx(Ja,{opened:D.dropdownOpened,preventPositionChangeWhenVisible:!1,...P,onChange:L=>!L&&z(),withRoles:!1,unstyled:a,children:s})})}const aN=t=>t;Zt.extend=aN;Zt.classes=Dr;Zt.displayName="@mantine/core/Combobox";Zt.Target=U_;Zt.Dropdown=_v;Zt.Options=Dv;Zt.Option=Rv;Zt.Search=Av;Zt.Empty=Ev;Zt.Chevron=Cv;Zt.Footer=Tv;Zt.Header=Pv;Zt.EventsTarget=F_;Zt.DropdownTarget=L_;Zt.Group=Mv;Zt.ClearButton=z_;Zt.HiddenInput=B_;var H_={root:"m_5f75b09e",body:"m_5f6e695e",labelWrapper:"m_d3ea56bb",label:"m_8ee546b8",description:"m_328f68c0",error:"m_8e8a99cc"};const sN=H_,q_=S.forwardRef(({__staticSelector:t,__stylesApiProps:e,className:n,classNames:i,styles:a,unstyled:s,children:u,label:c,description:f,id:h,disabled:g,error:y,size:v,labelPosition:w="left",bodyElement:_="div",labelElement:E="label",variant:P,style:N,vars:D,mod:A,attributes:z,...L},G)=>{const j=mt({name:t,props:e,className:n,style:N,classes:H_,classNames:i,styles:a,unstyled:s,attributes:z});return M.jsx(je,{...j("root"),ref:G,__vars:{"--label-fz":xr(v),"--label-lh":kt(v,"label-lh")},mod:[{"label-position":w},A],variant:P,size:v,...L,children:M.jsxs(je,{component:_,htmlFor:_==="label"?h:void 0,...j("body"),children:[u,M.jsxs("div",{...j("labelWrapper"),"data-disabled":g||void 0,children:[c&&M.jsx(je,{component:E,htmlFor:E==="label"?h:void 0,...j("label"),"data-disabled":g||void 0,children:c}),f&&M.jsx(Gn.Description,{size:v,__inheritStyles:!1,...j("description"),children:f}),y&&typeof y!="boolean"&&M.jsx(Gn.Error,{size:v,__inheritStyles:!1,...j("error"),children:y})]})]})})});q_.displayName="@mantine/core/InlineInput";var G_={root:"m_bf2d988c",inner:"m_26062bec",input:"m_26063560",icon:"m_bf295423","input--outline":"m_215c4542"};const V_=S.createContext(null),lN=V_.Provider,Y_=()=>S.useContext(V_),[uN,cN]=mu();var K_={card:"m_26775b0a"};const dN={withBorder:!0},fN=(t,{radius:e})=>({card:{"--card-radius":In(e)}}),Nv=Ze((t,e)=>{const n=Le("CheckboxCard",dN,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,checked:h,mod:g,withBorder:y,value:v,onClick:w,defaultChecked:_,onChange:E,attributes:P,...N}=n,D=mt({name:"CheckboxCard",classes:K_,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:P,vars:f,varsResolver:fN,rootSelector:"card"}),A=Y_(),z=typeof h=="boolean"?h:A?A.value.includes(v||""):void 0,[L,G]=Xa({value:z,defaultValue:_,finalValue:!1,onChange:E});return M.jsx(uN,{value:{checked:L},children:M.jsx(Hs,{ref:e,mod:[{"with-border":y,checked:L},g],...D("card"),...N,role:"checkbox","aria-checked":L,onClick:j=>{w?.(j),A?.onChange(v||""),G(!L)}})})});Nv.displayName="@mantine/core/CheckboxCard";Nv.classes=K_;function hN({children:t,role:e}){const n=ad();return n?M.jsx("div",{role:e,"aria-labelledby":n.labelId,"aria-describedby":n.describedBy,children:t}):M.jsx(M.Fragment,{children:t})}const Iv=Ze((t,e)=>{const{value:n,defaultValue:i,onChange:a,size:s,wrapperProps:u,children:c,readOnly:f,disabled:h,...g}=Le("CheckboxGroup",null,t),[y,v]=Xa({value:n,defaultValue:i,finalValue:[],onChange:a}),w=_=>{const E=typeof _=="string"?_:_.currentTarget.value;!f&&v(y.includes(E)?y.filter(P=>P!==E):[...y,E])};return M.jsx(lN,{value:{value:y,onChange:w,size:s,disabled:h},children:M.jsx(Gn.Wrapper,{size:s,ref:e,...u,...g,labelElement:"div",__staticSelector:"CheckboxGroup",children:M.jsx(hN,{role:"group",children:c})})})});Iv.classes=Gn.Wrapper.classes;Iv.displayName="@mantine/core/CheckboxGroup";function W_({size:t,style:e,...n}){const i=t!==void 0?{width:_e(t),height:_e(t),...e}:e;return M.jsx("svg",{viewBox:"0 0 10 7",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:i,"aria-hidden":!0,...n,children:M.jsx("path",{d:"M4 4.586L1.707 2.293A1 1 0 1 0 .293 3.707l3 3a.997.997 0 0 0 1.414 0l5-5A1 1 0 1 0 8.293.293L4 4.586z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function X_({indeterminate:t,...e}){return t?M.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 32 6","aria-hidden":!0,...e,children:M.jsx("rect",{width:"32",height:"6",fill:"currentColor",rx:"3"})}):M.jsx(W_,{...e})}var Q_={indicator:"m_5e5256ee",icon:"m_1b1c543a","indicator--outline":"m_76e20374"};const pN={icon:X_,variant:"filled"},mN=(t,{radius:e,color:n,size:i,iconColor:a,variant:s,autoContrast:u})=>{const c=Us({color:n||t.primaryColor,theme:t}),f=c.isThemeColor&&c.shade===void 0?`var(--mantine-color-${c.color}-outline)`:c.color;return{indicator:{"--checkbox-size":kt(i,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:In(e),"--checkbox-color":s==="outline"?f:di(n,t),"--checkbox-icon-color":a?di(a,t):EC(u,t)?Hy({color:n,theme:t,autoContrast:u}):void 0}}},jv=Ze((t,e)=>{const n=Le("CheckboxIndicator",pN,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,icon:h,indeterminate:g,radius:y,color:v,iconColor:w,autoContrast:_,checked:E,mod:P,variant:N,disabled:D,attributes:A,...z}=n,L=mt({name:"CheckboxIndicator",classes:Q_,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:A,vars:f,varsResolver:mN,rootSelector:"indicator"}),G=cN(),j=typeof E=="boolean"||typeof g=="boolean"?E||g:G?.checked||!1;return M.jsx(je,{ref:e,...L("indicator",{variant:N}),variant:N,mod:[{checked:j,disabled:D},P],...z,children:M.jsx(h,{indeterminate:g,...L("icon")})})});jv.displayName="@mantine/core/CheckboxIndicator";jv.classes=Q_;const gN={labelPosition:"right",icon:X_,variant:"filled"},yN=(t,{radius:e,color:n,size:i,iconColor:a,variant:s,autoContrast:u})=>{const c=Us({color:n||t.primaryColor,theme:t}),f=c.isThemeColor&&c.shade===void 0?`var(--mantine-color-${c.color}-outline)`:c.color;return{root:{"--checkbox-size":kt(i,"checkbox-size"),"--checkbox-radius":e===void 0?void 0:In(e),"--checkbox-color":s==="outline"?f:di(n,t),"--checkbox-icon-color":a?di(a,t):EC(u,t)?Hy({color:n,theme:t,autoContrast:u}):void 0}}},Su=Ze((t,e)=>{const n=Le("Checkbox",gN,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,color:h,label:g,id:y,size:v,radius:w,wrapperProps:_,checked:E,labelPosition:P,description:N,error:D,disabled:A,variant:z,indeterminate:L,icon:G,rootRef:j,iconColor:U,onChange:ie,autoContrast:se,mod:de,attributes:me,...Ee}=n,ce=Y_(),xe=v||ce?.size,B=mt({name:"Checkbox",props:n,classes:G_,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:me,vars:f,varsResolver:yN}),{styleProps:W,rest:V}=nd(Ee),ge=Ai(y),Se={checked:ce?.value.includes(V.value)??E,onChange:Ce=>{ce?.onChange(Ce),ie?.(Ce)},disabled:ce?.disabled??A},H=S.useRef(null),ne=e||H;return S.useEffect(()=>{ne&&"current"in ne&&ne.current&&(ne.current.indeterminate=L||!1,L?ne.current.setAttribute("data-indeterminate","true"):ne.current.removeAttribute("data-indeterminate"))},[L,ne]),M.jsx(q_,{...B("root"),__staticSelector:"Checkbox",__stylesApiProps:n,id:ge,size:xe,labelPosition:P,label:g,description:N,error:D,disabled:Se.disabled,classNames:i,styles:u,unstyled:c,"data-checked":Se.checked||E||void 0,variant:z,ref:j,mod:de,inert:V.inert,...W,..._,children:M.jsxs(je,{...B("inner"),mod:{"data-label-position":P},children:[M.jsx(je,{component:"input",id:ge,ref:ne,mod:{error:!!D},...B("input",{focusable:!0,variant:z}),...V,...Se,inert:V.inert,type:"checkbox"}),M.jsx(G,{indeterminate:L,...B("icon")})]})})});Su.classes={...G_,...sN};Su.displayName="@mantine/core/Checkbox";Su.Group=Iv;Su.Indicator=jv;Su.Card=Nv;function Xc(t){return"group"in t}function Z_({options:t,search:e,limit:n}){const i=e.trim().toLowerCase(),a=[];for(let s=0;s<t.length;s+=1){const u=t[s];if(a.length===n)return a;Xc(u)&&a.push({group:u.group,items:Z_({options:u.items,search:e,limit:n-a.length})}),Xc(u)||u.label.toLowerCase().includes(i)&&a.push(u)}return a}function vN(t){if(t.length===0)return!0;for(const e of t)if(!("group"in e)||e.items.length>0)return!1;return!0}function J_(t,e=new Set){if(Array.isArray(t))for(const n of t)if(Xc(n))J_(n.items,e);else{if(typeof n.value>"u")throw new Error("[@mantine/core] Each option must have value property");if(typeof n.value!="string")throw new Error(`[@mantine/core] Option value must be a string, other data formats are not supported, got ${typeof n.value}`);if(e.has(n.value))throw new Error(`[@mantine/core] Duplicate options are not supported. Option with value "${n.value}" was provided more than once`);e.add(n.value)}}function bN(t,e){return Array.isArray(t)?t.includes(e):t===e}function eE({data:t,withCheckIcon:e,withAlignedLabels:n,value:i,checkIconPosition:a,unstyled:s,renderOption:u}){if(!Xc(t)){const f=bN(i,t.value),h=e&&(f?M.jsx(W_,{className:Dr.optionsDropdownCheckIcon}):n?M.jsx("div",{className:Dr.optionsDropdownCheckPlaceholder}):null),g=M.jsxs(M.Fragment,{children:[a==="left"&&h,M.jsx("span",{children:t.label}),a==="right"&&h]});return M.jsx(Zt.Option,{value:t.value,disabled:t.disabled,className:qn({[Dr.optionsDropdownOption]:!s}),"data-reverse":a==="right"||void 0,"data-checked":f||void 0,"aria-selected":f,active:f,children:typeof u=="function"?u({option:t,checked:f}):g})}const c=t.items.map(f=>M.jsx(eE,{data:f,value:i,unstyled:s,withCheckIcon:e,withAlignedLabels:n,checkIconPosition:a,renderOption:u},f.value));return M.jsx(Zt.Group,{label:t.group,children:c})}function xN({data:t,hidden:e,hiddenWhenEmpty:n,filter:i,search:a,limit:s,maxDropdownHeight:u,withScrollArea:c=!0,filterOptions:f=!0,withCheckIcon:h=!1,withAlignedLabels:g=!1,value:y,checkIconPosition:v,nothingFoundMessage:w,unstyled:_,labelId:E,renderOption:P,scrollAreaProps:N,"aria-label":D}){J_(t);const z=typeof a=="string"?(i||Z_)({options:t,search:f?a:"",limit:s??1/0}):t,L=vN(z),G=z.map(j=>M.jsx(eE,{data:j,withCheckIcon:h,withAlignedLabels:g,value:y,checkIconPosition:v,unstyled:_,renderOption:P},Xc(j)?j.group:j.value));return M.jsx(Zt.Dropdown,{hidden:e||n&&L,"data-composed":!0,children:M.jsxs(Zt.Options,{labelledBy:E,"aria-label":D,children:[c?M.jsx(bu.Autosize,{mah:u??220,type:"scroll",scrollbarSize:"var(--combobox-padding)",offsetScrollbars:"y",...N,children:G}):G,L&&w&&M.jsx(Zt.Empty,{children:w})]})})}var Yh={group:"m_11def92b",root:"m_f85678b6",image:"m_11f8ac07",placeholder:"m_104cd71f"};const tE=S.createContext(null),wN=tE.Provider;function SN(){return{withinGroup:!!S.useContext(tE)}}const CN=(t,{spacing:e})=>({group:{"--ag-spacing":Bs(e)}}),kv=Ze((t,e)=>{const n=Le("AvatarGroup",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,spacing:h,attributes:g,...y}=n,v=mt({name:"AvatarGroup",classes:Yh,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:g,vars:f,varsResolver:CN,rootSelector:"group"});return M.jsx(wN,{value:!0,children:M.jsx(je,{ref:e,...v("group"),...y})})});kv.classes=Yh;kv.displayName="@mantine/core/AvatarGroup";function _N(t){return M.jsx("svg",{...t,"data-avatar-placeholder-icon":!0,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:M.jsx("path",{d:"M0.877014 7.49988C0.877014 3.84219 3.84216 0.877045 7.49985 0.877045C11.1575 0.877045 14.1227 3.84219 14.1227 7.49988C14.1227 11.1575 11.1575 14.1227 7.49985 14.1227C3.84216 14.1227 0.877014 11.1575 0.877014 7.49988ZM7.49985 1.82704C4.36683 1.82704 1.82701 4.36686 1.82701 7.49988C1.82701 8.97196 2.38774 10.3131 3.30727 11.3213C4.19074 9.94119 5.73818 9.02499 7.50023 9.02499C9.26206 9.02499 10.8093 9.94097 11.6929 11.3208C12.6121 10.3127 13.1727 8.97172 13.1727 7.49988C13.1727 4.36686 10.6328 1.82704 7.49985 1.82704ZM10.9818 11.9787C10.2839 10.7795 8.9857 9.97499 7.50023 9.97499C6.01458 9.97499 4.71624 10.7797 4.01845 11.9791C4.97952 12.7272 6.18765 13.1727 7.49985 13.1727C8.81227 13.1727 10.0206 12.727 10.9818 11.9787ZM5.14999 6.50487C5.14999 5.207 6.20212 4.15487 7.49999 4.15487C8.79786 4.15487 9.84999 5.207 9.84999 6.50487C9.84999 7.80274 8.79786 8.85487 7.49999 8.85487C6.20212 8.85487 5.14999 7.80274 5.14999 6.50487ZM7.49999 5.10487C6.72679 5.10487 6.09999 5.73167 6.09999 6.50487C6.09999 7.27807 6.72679 7.90487 7.49999 7.90487C8.27319 7.90487 8.89999 7.27807 8.89999 6.50487C8.89999 5.73167 8.27319 5.10487 7.49999 5.10487Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}function EN(t){let e=0;for(let n=0;n<t.length;n+=1){const i=t.charCodeAt(n);e=(e<<5)-e+i,e|=0}return e}const ON=["blue","cyan","grape","green","indigo","lime","orange","pink","red","teal","violet"];function TN(t,e=ON){const n=EN(t),i=Math.abs(n)%e.length;return e[i]}function MN(t,e=2){const n=t.split(" ");return n.length===1?t.slice(0,e).toUpperCase():n.map(i=>i[0]).slice(0,e).join("").toUpperCase()}const PN=(t,{size:e,radius:n,variant:i,gradient:a,color:s,autoContrast:u,name:c,allowedInitialsColors:f})=>{const h=s==="initials"&&typeof c=="string"?TN(c,f):s,g=t.variantColorResolver({color:h||"gray",theme:t,gradient:a,variant:i||"light",autoContrast:u});return{root:{"--avatar-size":kt(e,"avatar-size"),"--avatar-radius":n===void 0?void 0:In(n),"--avatar-bg":h||i?g.background:void 0,"--avatar-color":h||i?g.color:void 0,"--avatar-bd":h||i?g.border:void 0}}},Kh=wr((t,e)=>{const n=Le("Avatar",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,src:h,alt:g,radius:y,color:v,gradient:w,imageProps:_,children:E,autoContrast:P,mod:N,name:D,allowedInitialsColors:A,attributes:z,...L}=n,G=SN(),[j,U]=S.useState(!h),ie=mt({name:"Avatar",props:n,classes:Yh,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:z,vars:f,varsResolver:PN});return S.useEffect(()=>U(!h),[h]),M.jsx(je,{...ie("root"),mod:[{"within-group":G.withinGroup},N],ref:e,...L,children:j||!h?M.jsx("span",{...ie("placeholder"),title:g,children:E||typeof D=="string"&&MN(D)||M.jsx(_N,{})}):M.jsx("img",{..._,...ie("image"),src:h,alt:g,onError:se=>{U(!0),_?.onError?.(se)}})})});Kh.classes=Yh;Kh.displayName="@mantine/core/Avatar";Kh.Group=kv;var nE={root:"m_347db0ec","root--dot":"m_fbd81e3d",label:"m_5add502a",section:"m_91fdda9b"};const RN=(t,{radius:e,color:n,gradient:i,variant:a,size:s,autoContrast:u,circle:c})=>{const f=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:a||"filled",autoContrast:u});return{root:{"--badge-height":kt(s,"badge-height"),"--badge-padding-x":kt(s,"badge-padding-x"),"--badge-fz":kt(s,"badge-fz"),"--badge-radius":c||e===void 0?void 0:In(e),"--badge-bg":n||a?f.background:void 0,"--badge-color":n||a?f.color:void 0,"--badge-bd":n||a?f.border:void 0,"--badge-dot-color":a==="dot"?di(n,t):void 0}}},Ko=wr((t,e)=>{const n=Le("Badge",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,radius:h,color:g,gradient:y,leftSection:v,rightSection:w,children:_,variant:E,fullWidth:P,autoContrast:N,circle:D,mod:A,attributes:z,...L}=n,G=mt({name:"Badge",props:n,classes:nE,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:z,vars:f,varsResolver:RN});return M.jsxs(je,{variant:E,mod:[{block:P,circle:D,"with-right-section":!!w,"with-left-section":!!v},A],...G("root",{variant:E}),ref:e,...L,children:[v&&M.jsx("span",{...G("section"),"data-position":"left",children:v}),M.jsx("span",{...G("label"),children:_}),w&&M.jsx("span",{...G("section"),"data-position":"right",children:w})]})});Ko.classes=nE;Ko.displayName="@mantine/core/Badge";var Cu={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844",groupSection:"m_70be2a01"};const f1={orientation:"horizontal"},DN=(t,{borderWidth:e})=>({group:{"--button-border-width":_e(e)}}),zv=Ze((t,e)=>{const n=Le("ButtonGroup",f1,t),{className:i,style:a,classNames:s,styles:u,unstyled:c,orientation:f,vars:h,borderWidth:g,variant:y,mod:v,attributes:w,..._}=Le("ButtonGroup",f1,t),E=mt({name:"ButtonGroup",props:n,classes:Cu,className:i,style:a,classNames:s,styles:u,unstyled:c,attributes:w,vars:h,varsResolver:DN,rootSelector:"group"});return M.jsx(je,{...E("group"),ref:e,variant:y,mod:[{"data-orientation":f},v],role:"group",..._})});zv.classes=Cu;zv.displayName="@mantine/core/ButtonGroup";const AN=(t,{radius:e,color:n,gradient:i,variant:a,autoContrast:s,size:u})=>{const c=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:a||"filled",autoContrast:s});return{groupSection:{"--section-height":kt(u,"section-height"),"--section-padding-x":kt(u,"section-padding-x"),"--section-fz":u?.includes("compact")?xr(u.replace("compact-","")):xr(u),"--section-radius":e===void 0?void 0:In(e),"--section-bg":n||a?c.background:void 0,"--section-color":c.color,"--section-bd":n||a?c.border:void 0}}},Lv=Ze((t,e)=>{const n=Le("ButtonGroupSection",null,t),{className:i,style:a,classNames:s,styles:u,unstyled:c,vars:f,variant:h,gradient:g,radius:y,autoContrast:v,attributes:w,..._}=n,E=mt({name:"ButtonGroupSection",props:n,classes:Cu,className:i,style:a,classNames:s,styles:u,unstyled:c,attributes:w,vars:f,varsResolver:AN,rootSelector:"groupSection"});return M.jsx(je,{...E("groupSection"),ref:e,variant:h,..._})});Lv.classes=Cu;Lv.displayName="@mantine/core/ButtonGroupSection";const NN={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${_e(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},IN=(t,{radius:e,color:n,gradient:i,variant:a,size:s,justify:u,autoContrast:c})=>{const f=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:i,variant:a||"filled",autoContrast:c});return{root:{"--button-justify":u,"--button-height":kt(s,"button-height"),"--button-padding-x":kt(s,"button-padding-x"),"--button-fz":s?.includes("compact")?xr(s.replace("compact-","")):xr(s),"--button-radius":e===void 0?void 0:In(e),"--button-bg":n||a?f.background:void 0,"--button-hover":n||a?f.hover:void 0,"--button-color":f.color,"--button-bd":n||a?f.border:void 0,"--button-hover-color":n||a?f.hoverColor:void 0}}},vr=wr((t,e)=>{const n=Le("Button",null,t),{style:i,vars:a,className:s,color:u,disabled:c,children:f,leftSection:h,rightSection:g,fullWidth:y,variant:v,radius:w,loading:_,loaderProps:E,gradient:P,classNames:N,styles:D,unstyled:A,"data-disabled":z,autoContrast:L,mod:G,attributes:j,...U}=n,ie=mt({name:"Button",props:n,classes:Cu,className:s,style:i,classNames:N,styles:D,unstyled:A,attributes:j,vars:a,varsResolver:IN}),se=!!h,de=!!g;return M.jsxs(Hs,{ref:e,...ie("root",{active:!c&&!_&&!z}),unstyled:A,variant:v,disabled:c||_,mod:[{disabled:c||z,loading:_,block:y,"with-left-section":se,"with-right-section":de},G],...U,children:[typeof _=="boolean"&&M.jsx(Zo,{mounted:_,transition:NN,duration:150,children:me=>M.jsx(je,{component:"span",...ie("loader",{style:me}),"aria-hidden":!0,children:M.jsx(po,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...E})})}),M.jsxs("span",{...ie("inner"),children:[h&&M.jsx(je,{component:"span",...ie("section"),mod:{position:"left"},children:h}),M.jsx(je,{component:"span",mod:{loading:_},...ie("label"),children:f}),g&&M.jsx(je,{component:"span",...ie("section"),mod:{position:"right"},children:g})]})]})});vr.classes=Cu;vr.displayName="@mantine/core/Button";vr.Group=zv;vr.GroupSection=Lv;const[jN,kN]=go("Card component was not found in tree");var Fv={root:"m_e615b15f",section:"m_599a2148"};const Wh=wr((t,e)=>{const n=Le("CardSection",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,withBorder:f,inheritPadding:h,mod:g,...y}=n,v=kN();return M.jsx(je,{ref:e,mod:[{"with-border":f,"inherit-padding":h},g],...v.getStyles("section",{className:a,style:s,styles:u,classNames:i}),...y})});Wh.classes=Fv;Wh.displayName="@mantine/core/CardSection";const zN=(t,{padding:e})=>({root:{"--card-padding":Bs(e)}}),dd=wr((t,e)=>{const n=Le("Card",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,children:h,padding:g,attributes:y,...v}=n,w=mt({name:"Card",props:n,classes:Fv,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:y,vars:f,varsResolver:zN}),_=S.Children.toArray(h),E=_.map((P,N)=>typeof P=="object"&&P&&"type"in P&&P.type===Wh?S.cloneElement(P,{"data-first-section":N===0||void 0,"data-last-section":N===_.length-1||void 0}):P);return M.jsx(jN,{value:{getStyles:w},children:M.jsx(od,{ref:e,unstyled:c,...w("root"),...v,children:E})})});dd.classes=Fv;dd.displayName="@mantine/core/Card";dd.Section=Wh;var rE={root:"m_4451eb3a"};const su=wr((t,e)=>{const n=Le("Center",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,inline:h,mod:g,attributes:y,...v}=n,w=mt({name:"Center",props:n,classes:rE,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:y,vars:f});return M.jsx(je,{ref:e,mod:[{inline:h},g],...w("root"),...v})});su.classes=rE;su.displayName="@mantine/core/Center";var iE={root:"m_3eebeb36",label:"m_9e365f20"};const LN={orientation:"horizontal"},FN=(t,{color:e,variant:n,size:i})=>({root:{"--divider-color":e?di(e,t):void 0,"--divider-border-style":n,"--divider-size":kt(i,"divider-size")}}),Bv=Ze((t,e)=>{const n=Le("Divider",LN,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,color:h,orientation:g,label:y,labelPosition:v,mod:w,attributes:_,...E}=n,P=mt({name:"Divider",classes:iE,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:_,vars:f,varsResolver:FN});return M.jsx(je,{ref:e,mod:[{orientation:g,"with-label":!!y},w],...P("root"),...E,role:"separator",children:y&&M.jsx(je,{component:"span",mod:{position:v},...P("label"),children:y})})});Bv.classes=iE;Bv.displayName="@mantine/core/Divider";var ia={root:"m_f11b401e",header:"m_5a7c2c9",content:"m_b8a05bbd",inner:"m_31cd769a"};const[BN,_u]=go("Drawer component was not found in tree"),Xh=Ze((t,e)=>{const n=Le("DrawerBody",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,...f}=n,h=_u();return M.jsx(E_,{ref:e,...h.getStyles("body",{classNames:i,style:s,styles:u,className:a}),...f})});Xh.classes=ia;Xh.displayName="@mantine/core/DrawerBody";const Qh=Ze((t,e)=>{const n=Le("DrawerCloseButton",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,...f}=n,h=_u();return M.jsx(O_,{ref:e,...h.getStyles("close",{classNames:i,style:s,styles:u,className:a}),...f})});Qh.classes=ia;Qh.displayName="@mantine/core/DrawerCloseButton";const Zh=Ze((t,e)=>{const n=Le("DrawerContent",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,children:f,radius:h,__hidden:g,...y}=n,v=_u(),w=v.scrollAreaComponent||dA;return M.jsx(T_,{...v.getStyles("content",{className:a,style:s,styles:u,classNames:i}),innerProps:v.getStyles("inner",{className:a,style:s,styles:u,classNames:i}),ref:e,...y,radius:h||v.radius||0,"data-hidden":g||void 0,children:M.jsx(w,{style:{height:"calc(100vh - var(--drawer-offset) * 2)"},children:f})})});Zh.classes=ia;Zh.displayName="@mantine/core/DrawerContent";const Jh=Ze((t,e)=>{const n=Le("DrawerHeader",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,...f}=n,h=_u();return M.jsx(M_,{ref:e,...h.getStyles("header",{classNames:i,style:s,styles:u,className:a}),...f})});Jh.classes=ia;Jh.displayName="@mantine/core/DrawerHeader";const ep=Ze((t,e)=>{const n=Le("DrawerOverlay",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,...f}=n,h=_u();return M.jsx(P_,{ref:e,...h.getStyles("overlay",{classNames:i,style:s,styles:u,className:a}),...f})});ep.classes=ia;ep.displayName="@mantine/core/DrawerOverlay";function UN(t){switch(t){case"top":return"flex-start";case"bottom":return"flex-end";default:return}}function $N(t){if(t==="top"||t==="bottom")return"0 0 calc(100% - var(--drawer-offset, 0rem) * 2)"}const HN={top:"slide-down",bottom:"slide-up",left:"slide-right",right:"slide-left"},qN={top:"slide-down",bottom:"slide-up",right:"slide-right",left:"slide-left"},GN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ki("modal"),position:"left"},VN=(t,{position:e,size:n,offset:i})=>({root:{"--drawer-size":kt(n,"drawer-size"),"--drawer-flex":$N(e),"--drawer-height":e==="left"||e==="right"?void 0:"var(--drawer-size)","--drawer-align":UN(e),"--drawer-justify":e==="right"?"flex-end":void 0,"--drawer-offset":_e(i)}}),tp=Ze((t,e)=>{const n=Le("DrawerRoot",GN,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,scrollAreaComponent:h,position:g,transitionProps:y,radius:v,attributes:w,..._}=n,{dir:E}=rd(),P=mt({name:"Drawer",classes:ia,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:w,vars:f,varsResolver:VN}),N=(E==="rtl"?qN:HN)[g];return M.jsx(BN,{value:{scrollAreaComponent:h,getStyles:P,radius:v},children:M.jsx(__,{ref:e,...P("root"),transitionProps:{transition:N,...y},"data-offset-scrollbars":h===bu.Autosize||void 0,unstyled:c,..._})})});tp.classes=ia;tp.displayName="@mantine/core/DrawerRoot";const[YN,KN]=mu();function oE({children:t}){const[e,n]=S.useState([]),[i,a]=S.useState(Ki("modal"));return M.jsx(YN,{value:{stack:e,addModal:(s,u)=>{n(c=>[...new Set([...c,s])]),a(c=>typeof u=="number"&&typeof c=="number"?Math.max(c,u):c)},removeModal:s=>n(u=>u.filter(c=>c!==s)),getZIndex:s=>`calc(${i} + ${e.indexOf(s)} + 1)`,currentId:e[e.length-1],maxZIndex:i},children:t})}oE.displayName="@mantine/core/DrawerStack";const np=Ze((t,e)=>{const n=Le("DrawerTitle",null,t),{classNames:i,className:a,style:s,styles:u,vars:c,...f}=n,h=_u();return M.jsx(R_,{ref:e,...h.getStyles("title",{classNames:i,style:s,styles:u,className:a}),...f})});np.classes=ia;np.displayName="@mantine/core/DrawerTitle";const WN={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Ki("modal"),withOverlay:!0,withCloseButton:!0},ki=Ze((t,e)=>{const{title:n,withOverlay:i,overlayProps:a,withCloseButton:s,closeButtonProps:u,children:c,opened:f,stackId:h,zIndex:g,...y}=Le("Drawer",WN,t),v=KN(),w=!!n||s,_=v&&h?{closeOnEscape:v.currentId===h,trapFocus:v.currentId===h,zIndex:v.getZIndex(h)}:{},E=i===!1?!1:h&&v?v.currentId===h:f;return S.useEffect(()=>{v&&h&&(f?v.addModal(h,g||Ki("modal")):v.removeModal(h))},[f,h,g]),M.jsxs(tp,{ref:e,opened:f,zIndex:v&&h?v.getZIndex(h):g,...y,..._,children:[i&&M.jsx(ep,{visible:E,transitionProps:v&&h?{duration:0}:void 0,...a}),M.jsxs(Zh,{__hidden:v&&h&&f?h!==v.currentId:!1,children:[w&&M.jsxs(Jh,{children:[n&&M.jsx(np,{children:n}),s&&M.jsx(Qh,{...u})]}),M.jsx(Xh,{children:c})]})]})});ki.classes=ia;ki.displayName="@mantine/core/Drawer";ki.Root=tp;ki.Overlay=ep;ki.Content=Zh;ki.Body=Xh;ki.Header=Jh;ki.Title=np;ki.CloseButton=Qh;ki.Stack=oE;var aE={root:"m_9e117634"};const XN=(t,{radius:e,fit:n})=>({root:{"--image-radius":e===void 0?void 0:In(e),"--image-object-fit":n}}),Uv=wr((t,e)=>{const n=Le("Image",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,onError:h,src:g,radius:y,fit:v,fallbackSrc:w,mod:_,attributes:E,...P}=n,[N,D]=S.useState(!g);S.useEffect(()=>D(!g),[g]);const A=mt({name:"Image",classes:aE,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:E,vars:f,varsResolver:XN});return N&&w?M.jsx(je,{component:"img",ref:e,src:w,...A("root"),onError:h,mod:["fallback",_],...P}):M.jsx(je,{component:"img",ref:e,...A("root"),src:g,onError:z=>{h?.(z),D(!0)},mod:_,...P})});Uv.classes=aE;Uv.displayName="@mantine/core/Image";function fy(){return fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},fy.apply(null,arguments)}function sE(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}const[K5,lE]=mu();var rp={root:"m_7cda1cd6","root--default":"m_44da308b","root--contrast":"m_e3a01f8",label:"m_1e0e6180",remove:"m_ae386778",group:"m_1dcfd90b"};const[QN,ZN]=mu(),JN=(t,{gap:e},{size:n})=>({group:{"--pg-gap":e!==void 0?kt(e):kt(n,"pg-gap")}}),$v=Ze((t,e)=>{const n=Le("PillGroup",null,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,size:h,disabled:g,attributes:y,...v}=n,_=lE()?.size||h||void 0,E=mt({name:"PillGroup",classes:rp,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:y,vars:f,varsResolver:JN,stylesCtx:{size:_},rootSelector:"group"});return M.jsx(QN,{value:{size:_,disabled:g},children:M.jsx(je,{ref:e,size:_,...E("group"),...v})})});$v.classes=rp;$v.displayName="@mantine/core/PillGroup";const eI={variant:"default"},tI=(t,{radius:e},{size:n})=>({root:{"--pill-fz":kt(n,"pill-fz"),"--pill-height":kt(n,"pill-height"),"--pill-radius":e===void 0?void 0:In(e)}}),ip=Ze((t,e)=>{const n=Le("Pill",eI,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,variant:h,children:g,withRemoveButton:y,onRemove:v,removeButtonProps:w,radius:_,size:E,disabled:P,mod:N,attributes:D,...A}=n,z=ZN(),L=lE(),G=E||z?.size||void 0,j=L?.variant==="filled"?"contrast":h||"default",U=mt({name:"Pill",classes:rp,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:D,vars:f,varsResolver:tI,stylesCtx:{size:G}});return M.jsxs(je,{component:"span",ref:e,variant:j,size:G,...U("root",{variant:j}),mod:[{"with-remove":y&&!P,disabled:P||z?.disabled},N],...A,children:[M.jsx("span",{...U("label"),children:g}),y&&M.jsx(qs,{variant:"transparent",radius:_,tabIndex:-1,"aria-hidden":!0,unstyled:c,...w,...U("remove",{className:w?.className,style:w?.style}),onMouseDown:ie=>{ie.preventDefault(),ie.stopPropagation(),w?.onMouseDown?.(ie)},onClick:ie=>{ie.stopPropagation(),v?.(),w?.onClick?.(ie)}})]})});ip.classes=rp;ip.displayName="@mantine/core/Pill";ip.Group=$v;var uE={root:"m_a513464",icon:"m_a4ceffb",loader:"m_b0920b15",body:"m_a49ed24",title:"m_3feedf16",description:"m_3d733a3a",closeButton:"m_919a4d88"};const nI={withCloseButton:!0},rI=(t,{radius:e,color:n})=>({root:{"--notification-radius":e===void 0?void 0:In(e),"--notification-color":n?di(n,t):void 0}}),Hv=Ze((t,e)=>{const n=Le("Notification",nI,t),{className:i,color:a,radius:s,loading:u,withCloseButton:c,withBorder:f,title:h,icon:g,children:y,onClose:v,closeButtonProps:w,classNames:_,style:E,styles:P,unstyled:N,vars:D,mod:A,loaderProps:z,role:L,attributes:G,...j}=n,U=mt({name:"Notification",classes:uE,props:n,className:i,style:E,classNames:_,styles:P,unstyled:N,attributes:G,vars:D,varsResolver:rI});return M.jsxs(je,{...U("root"),mod:[{"data-with-icon":!!g||u,"data-with-border":f},A],ref:e,role:L||"alert",...j,children:[g&&!u&&M.jsx("div",{...U("icon"),children:g}),u&&M.jsx(po,{size:28,color:a,...z,...U("loader")}),M.jsxs("div",{...U("body"),children:[h&&M.jsx("div",{...U("title"),children:h}),M.jsx(je,{...U("description"),mod:{"data-with-title":!!h},children:y})]}),c&&M.jsx(qs,{iconSize:16,color:"gray",...w,unstyled:N,onClick:v,...U("closeButton")})]})});Hv.classes=uE;Hv.displayName="@mantine/core/Notification";var hy={root:"m_f61ca620",input:"m_ccf8da4c",innerInput:"m_f2d85dd2",visibilityToggle:"m_b1072d44"};const iI=({reveal:t})=>M.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"var(--psi-icon-size)",height:"var(--psi-icon-size)"},children:M.jsx("path",{d:t?"M13.3536 2.35355C13.5488 2.15829 13.5488 1.84171 13.3536 1.64645C13.1583 1.45118 12.8417 1.45118 12.6464 1.64645L10.6828 3.61012C9.70652 3.21671 8.63759 3 7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C0.902945 9.08812 2.02314 10.1861 3.36061 10.9323L1.64645 12.6464C1.45118 12.8417 1.45118 13.1583 1.64645 13.3536C1.84171 13.5488 2.15829 13.5488 2.35355 13.3536L4.31723 11.3899C5.29348 11.7833 6.36241 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C14.0971 5.9119 12.9769 4.81391 11.6394 4.06771L13.3536 2.35355ZM9.90428 4.38861C9.15332 4.1361 8.34759 4 7.5 4C4.80285 4 2.52952 5.37816 1.09622 7.50001C1.87284 8.6497 2.89609 9.58106 4.09974 10.1931L9.90428 4.38861ZM5.09572 10.6114L10.9003 4.80685C12.1039 5.41894 13.1272 6.35031 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11C6.65241 11 5.84668 10.8639 5.09572 10.6114Z":"M7.5 11C4.80285 11 2.52952 9.62184 1.09622 7.50001C2.52952 5.37816 4.80285 4 7.5 4C10.1971 4 12.4705 5.37816 13.9038 7.50001C12.4705 9.62183 10.1971 11 7.5 11ZM7.5 3C4.30786 3 1.65639 4.70638 0.0760002 7.23501C-0.0253338 7.39715 -0.0253334 7.60288 0.0760014 7.76501C1.65639 10.2936 4.30786 12 7.5 12C10.6921 12 13.3436 10.2936 14.924 7.76501C15.0253 7.60288 15.0253 7.39715 14.924 7.23501C13.3436 4.70638 10.6921 3 7.5 3ZM7.5 9.5C8.60457 9.5 9.5 8.60457 9.5 7.5C9.5 6.39543 8.60457 5.5 7.5 5.5C6.39543 5.5 5.5 6.39543 5.5 7.5C5.5 8.60457 6.39543 9.5 7.5 9.5Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),oI={visibilityToggleIcon:iI},aI=(t,{size:e})=>({root:{"--psi-icon-size":kt(e,"psi-icon-size"),"--psi-button-size":kt(e,"psi-button-size")}}),qv=Ze((t,e)=>{const n=Le("PasswordInput",oI,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,required:h,error:g,leftSection:y,disabled:v,id:w,variant:_,inputContainer:E,description:P,label:N,size:D,errorProps:A,descriptionProps:z,labelProps:L,withAsterisk:G,inputWrapperOrder:j,wrapperProps:U,radius:ie,rightSection:se,rightSectionWidth:de,rightSectionPointerEvents:me,leftSectionWidth:Ee,visible:ce,defaultVisible:xe,onVisibilityChange:B,visibilityToggleIcon:W,visibilityToggleButtonProps:V,rightSectionProps:ge,leftSectionProps:Se,leftSectionPointerEvents:H,withErrorStyles:ne,mod:Ce,attributes:Ne,...Ie}=n,qe=Ai(w),[nt,wt]=Xa({value:ce,defaultValue:xe,finalValue:!1,onChange:B}),De=()=>wt(!nt),Jt=mt({name:"PasswordInput",classes:hy,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:Ne,vars:f,varsResolver:aI}),{resolvedClassNames:un,resolvedStyles:Je}=Ih({classNames:i,styles:u,props:n}),{styleProps:ht,rest:Ft}=nd(Ie),rn=A?.id||`${qe}-error`,gn=z?.id||`${qe}-description`,en=`${!!g&&typeof g!="boolean"?rn:""} ${!!P?gn:""}`,Vn=en.trim().length>0?en.trim():void 0,yn=M.jsx(na,{...Jt("visibilityToggle"),disabled:v,radius:ie,"aria-hidden":!V,"aria-pressed":nt,tabIndex:-1,...V,variant:V?.variant??"subtle",color:"gray",unstyled:c,onTouchEnd:wn=>{wn.preventDefault(),V?.onTouchEnd?.(wn),De()},onMouseDown:wn=>{wn.preventDefault(),V?.onMouseDown?.(wn),De()},onKeyDown:wn=>{V?.onKeyDown?.(wn),wn.key===" "&&(wn.preventDefault(),De())},children:M.jsx(W,{reveal:nt})});return M.jsx(Gn.Wrapper,{required:h,id:qe,label:N,error:g,description:P,size:D,classNames:un,styles:Je,__staticSelector:"PasswordInput",unstyled:c,withAsterisk:G,inputWrapperOrder:j,inputContainer:E,variant:_,labelProps:{...L,htmlFor:qe},descriptionProps:{...z,id:gn},errorProps:{...A,id:rn},mod:Ce,attributes:Ne,...Jt("root"),...ht,...U,children:M.jsx(Gn,{component:"div",error:g,leftSection:y,size:D,classNames:{...un,input:qn(hy.input,un.input)},styles:Je,radius:ie,disabled:v,__staticSelector:"PasswordInput",rightSectionWidth:de,rightSection:se??yn,variant:_,unstyled:c,leftSectionWidth:Ee,rightSectionPointerEvents:me||"all",rightSectionProps:ge,leftSectionProps:Se,leftSectionPointerEvents:H,withAria:!1,withErrorStyles:ne,attributes:Ne,children:M.jsx("input",{required:h,"data-invalid":!!g||void 0,"data-with-left-section":!!y||void 0,...Jt("innerInput"),disabled:v,id:qe,ref:e,...Ft,"aria-describedby":Vn,autoComplete:Ft.autoComplete||"off",type:nt?"text":"password"})})})});qv.classes={...Gs.classes,...hy};qv.displayName="@mantine/core/PasswordInput";const sI={duration:100,transition:"fade"};function h1(t,e){return{...sI,...e,...t}}var op={tooltip:"m_1b3c8819",arrow:"m_f898399f"};function lI({offset:t,position:e,defaultOpened:n}){const[i,a]=S.useState(n),s=S.useRef(null),{x:u,y:c,elements:f,refs:h,update:g,placement:y}=nv({placement:e,middleware:[Zy({crossAxis:!0,padding:5,rootBoundary:"document"})]}),v=y.includes("right")?t:e.includes("left")?t*-1:0,w=y.includes("bottom")?t:e.includes("top")?t*-1:0,_=S.useCallback(({clientX:E,clientY:P})=>{h.setPositionReference({getBoundingClientRect(){return{width:0,height:0,x:E,y:P,left:E+v,top:P+w,right:E,bottom:P}}})},[f.reference]);return S.useEffect(()=>{if(h.floating.current){const E=s.current;E.addEventListener("mousemove",_);const P=Xo(h.floating.current);return P.forEach(N=>{N.addEventListener("scroll",g)}),()=>{E.removeEventListener("mousemove",_),P.forEach(N=>{N.removeEventListener("scroll",g)})}}},[f.reference,h.floating.current,g,_,i]),{handleMouseMove:_,x:u,y:c,opened:i,setOpened:a,boundaryRef:s,floating:h.setFloating}}const uI={refProp:"ref",withinPortal:!0,offset:10,position:"right",zIndex:Ki("popover")},cI=(t,{radius:e,color:n})=>({tooltip:{"--tooltip-radius":e===void 0?void 0:In(e),"--tooltip-bg":n?di(n,t):void 0,"--tooltip-color":n?"var(--mantine-color-white)":void 0}}),Gv=Ze((t,e)=>{const n=Le("TooltipFloating",uI,t),{children:i,refProp:a,withinPortal:s,style:u,className:c,classNames:f,styles:h,unstyled:g,radius:y,color:v,label:w,offset:_,position:E,multiline:P,zIndex:N,disabled:D,defaultOpened:A,variant:z,vars:L,portalProps:G,attributes:j,...U}=n,ie=hi(),se=mt({name:"TooltipFloating",props:n,classes:op,className:c,style:u,classNames:f,styles:h,unstyled:g,attributes:j,rootSelector:"tooltip",vars:L,varsResolver:cI}),{handleMouseMove:de,x:me,y:Ee,opened:ce,boundaryRef:xe,floating:B,setOpened:W}=lI({offset:_,position:E,defaultOpened:A}),V=gu(i);if(!V)throw new Error("[@mantine/core] Tooltip.Floating component children should be an element or a component that accepts ref, fragments, strings, numbers and other primitive values are not supported");const ge=Wr(xe,Dh(V),e),Se=V.props,H=Ce=>{Se.onMouseEnter?.(Ce),de(Ce),W(!0)},ne=Ce=>{Se.onMouseLeave?.(Ce),W(!1)};return M.jsxs(M.Fragment,{children:[M.jsx(Qa,{...G,withinPortal:s,children:M.jsx(je,{...U,...se("tooltip",{style:{...Gy(u,ie),zIndex:N,display:!D&&ce?"block":"none",top:(Ee&&Math.round(Ee))??"",left:(me&&Math.round(me))??""}}),variant:z,ref:B,mod:{multiline:P},children:w})}),S.cloneElement(V,{...Se,[a]:ge,onMouseEnter:H,onMouseLeave:ne})]})});Gv.classes=op;Gv.displayName="@mantine/core/TooltipFloating";const cE=S.createContext(!1),dI=cE.Provider,fI=()=>S.useContext(cE),hI={openDelay:0,closeDelay:0};function Vv(t){const{openDelay:e,closeDelay:n,children:i}=Le("TooltipGroup",hI,t);return M.jsx(dI,{value:!0,children:M.jsx(d2,{delay:{open:e,close:n},children:i})})}Vv.displayName="@mantine/core/TooltipGroup";Vv.extend=t=>t;function pI(t){if(t===void 0)return{shift:!0,flip:!0};const e={...t};return t.shift===void 0&&(e.shift=!0),t.flip===void 0&&(e.flip=!0),e}function mI(t){const e=pI(t.middlewares),n=[qC(t.offset)];return e.shift&&n.push(Zy(typeof e.shift=="boolean"?{padding:8}:{padding:8,...e.shift})),e.flip&&n.push(typeof e.flip=="boolean"?ph():ph(e.flip)),n.push(GC({element:t.arrowRef,padding:t.arrowOffset})),e.inline?n.push(typeof e.inline=="boolean"?$c():$c(e.inline)):t.inline&&n.push($c()),n}function gI(t){const[e,n]=S.useState(t.defaultOpened),a=typeof t.opened=="boolean"?t.opened:e,s=fI(),u=Ai(),c=S.useCallback(L=>{n(L),L&&N(u)},[u]),{x:f,y:h,context:g,refs:y,placement:v,middlewareData:{arrow:{x:w,y:_}={}}}=nv({strategy:t.strategy,placement:t.position,open:a,onOpenChange:c,middleware:mI(t),whileElementsMounted:ly}),{delay:E,currentId:P,setCurrentId:N}=f2(g,{id:u}),{getReferenceProps:D,getFloatingProps:A}=v2([u2(g,{enabled:t.events?.hover,delay:s?E:{open:t.openDelay,close:t.closeDelay},mouseOnly:!t.events?.touch}),y2(g,{enabled:t.events?.focus,visibleOnly:!0}),x2(g,{role:"tooltip"}),m2(g,{enabled:typeof t.opened>"u"})]);zs(()=>{t.onPositionChange?.(v)},[v]);const z=a&&P&&P!==u;return{x:f,y:h,arrowX:w,arrowY:_,reference:y.setReference,floating:y.setFloating,getFloatingProps:A,getReferenceProps:D,isGroupPhase:z,opened:a,placement:v}}const p1={position:"top",refProp:"ref",withinPortal:!0,arrowSize:4,arrowOffset:5,arrowRadius:0,arrowPosition:"side",offset:5,transitionProps:{duration:100,transition:"fade"},events:{hover:!0,focus:!1,touch:!1},zIndex:Ki("popover"),positionDependencies:[],middlewares:{flip:!0,shift:!0,inline:!1}},yI=(t,{radius:e,color:n,variant:i,autoContrast:a})=>{const s=t.variantColorResolver({theme:t,color:n||t.primaryColor,autoContrast:a,variant:i||"filled"});return{tooltip:{"--tooltip-radius":e===void 0?void 0:In(e),"--tooltip-bg":n?s.background:void 0,"--tooltip-color":n?s.color:void 0}}},fd=Ze((t,e)=>{const n=Le("Tooltip",p1,t),{children:i,position:a,refProp:s,label:u,openDelay:c,closeDelay:f,onPositionChange:h,opened:g,defaultOpened:y,withinPortal:v,radius:w,color:_,classNames:E,styles:P,unstyled:N,style:D,className:A,withArrow:z,arrowSize:L,arrowOffset:G,arrowRadius:j,arrowPosition:U,offset:ie,transitionProps:se,multiline:de,events:me,zIndex:Ee,disabled:ce,positionDependencies:xe,onClick:B,onMouseEnter:W,onMouseLeave:V,inline:ge,variant:Se,keepMounted:H,vars:ne,portalProps:Ce,mod:Ne,floatingStrategy:Ie,middlewares:qe,autoContrast:nt,attributes:wt,target:De,...Jt}=Le("Tooltip",p1,n),{dir:un}=rd(),Je=S.useRef(null),ht=gI({position:c_(un,a),closeDelay:f,openDelay:c,onPositionChange:h,opened:g,defaultOpened:y,events:me,arrowRef:Je,arrowOffset:G,offset:typeof ie=="number"?ie+(z?L/2:0):ie,positionDependencies:[...xe,De??i],inline:ge,strategy:Ie,middlewares:qe});S.useEffect(()=>{const en=De instanceof HTMLElement?De:typeof De=="string"?document.querySelector(De):De?.current||null;en&&ht.reference(en)},[De,ht]);const Ft=mt({name:"Tooltip",props:n,classes:op,className:A,style:D,classNames:E,styles:P,unstyled:N,attributes:wt,rootSelector:"tooltip",vars:ne,varsResolver:yI}),rn=gu(i);if(!De&&!rn)return null;if(De){const en=h1(se,{duration:100,transition:"fade"});return M.jsx(M.Fragment,{children:M.jsx(Qa,{...Ce,withinPortal:v,children:M.jsx(Zo,{...en,keepMounted:H,mounted:!ce&&!!ht.opened,duration:ht.isGroupPhase?10:en.duration,children:Vn=>M.jsxs(je,{...Jt,"data-fixed":Ie==="fixed"||void 0,variant:Se,mod:[{multiline:de},Ne],...ht.getFloatingProps({ref:ht.floating,className:Ft("tooltip").className,style:{...Ft("tooltip").style,...Vn,zIndex:Ee,top:ht.y??0,left:ht.x??0}}),children:[u,M.jsx(gh,{ref:Je,arrowX:ht.arrowX,arrowY:ht.arrowY,visible:z,position:ht.placement,arrowSize:L,arrowOffset:G,arrowRadius:j,arrowPosition:U,...Ft("arrow")})]})})})})}const gn=rn.props,Ar=Wr(ht.reference,Dh(rn),e),ir=h1(se,{duration:100,transition:"fade"});return M.jsxs(M.Fragment,{children:[M.jsx(Qa,{...Ce,withinPortal:v,children:M.jsx(Zo,{...ir,keepMounted:H,mounted:!ce&&!!ht.opened,duration:ht.isGroupPhase?10:ir.duration,children:en=>M.jsxs(je,{...Jt,"data-fixed":Ie==="fixed"||void 0,variant:Se,mod:[{multiline:de},Ne],...ht.getFloatingProps({ref:ht.floating,className:Ft("tooltip").className,style:{...Ft("tooltip").style,...en,zIndex:Ee,top:ht.y??0,left:ht.x??0}}),children:[u,M.jsx(gh,{ref:Je,arrowX:ht.arrowX,arrowY:ht.arrowY,visible:z,position:ht.placement,arrowSize:L,arrowOffset:G,arrowRadius:j,arrowPosition:U,...Ft("arrow")})]})})}),S.cloneElement(rn,ht.getReferenceProps({onClick:B,onMouseEnter:W,onMouseLeave:V,onMouseMove:n.onMouseMove,onPointerDown:n.onPointerDown,onPointerEnter:n.onPointerEnter,...gn,className:qn(A,gn.className),[s]:Ar}))]})});fd.classes=op;fd.displayName="@mantine/core/Tooltip";fd.Floating=Gv;fd.Group=Vv;const vI={withCheckIcon:!0,allowDeselect:!0,checkIconPosition:"left",openOnFocus:!0},Yv=Ze((t,e)=>{const n=Le("Select",vI,t),{classNames:i,styles:a,unstyled:s,vars:u,dropdownOpened:c,defaultDropdownOpened:f,onDropdownClose:h,onDropdownOpen:g,onFocus:y,onBlur:v,onClick:w,onChange:_,data:E,value:P,defaultValue:N,selectFirstOptionOnChange:D,selectFirstOptionOnDropdownOpen:A,onOptionSubmit:z,comboboxProps:L,readOnly:G,disabled:j,filter:U,limit:ie,withScrollArea:se,maxDropdownHeight:de,size:me,searchable:Ee,rightSection:ce,checkIconPosition:xe,withCheckIcon:B,withAlignedLabels:W,nothingFoundMessage:V,name:ge,form:Se,searchValue:H,defaultSearchValue:ne,onSearchChange:Ce,allowDeselect:Ne,error:Ie,rightSectionPointerEvents:qe,id:nt,clearable:wt,clearButtonProps:De,hiddenInputProps:Jt,renderOption:un,onClear:Je,autoComplete:ht,scrollAreaProps:Ft,__defaultRightSection:rn,__clearSection:gn,__clearable:Ar,chevronColor:ir,autoSelectOnBlur:en,openOnFocus:Vn,attributes:yn,...wn}=n,Sr=S.useMemo(()=>YA(E),[E]),Bt=S.useRef({}),qt=S.useMemo(()=>k_(Sr),[Sr]),Yn=Ai(nt),[lt,Sn,En]=Xa({value:P,defaultValue:N,finalValue:null,onChange:_}),Dn=typeof lt=="string"?lt in qt?qt[lt]:Bt.current[lt]:void 0,Xr=mP(Dn),[on,Nr,Gt]=Xa({value:H,defaultValue:ne,finalValue:Dn?Dn.label:"",onChange:Ce}),At=$_({opened:c,defaultOpened:f,onDropdownOpen:()=>{g?.(),A?At.selectFirstOption():At.updateSelectedOptionIndex("active",{scrollIntoView:!0})},onDropdownClose:()=>{h?.(),setTimeout(At.resetSelectedOption,0)}}),Ge=an=>{Nr(an),At.resetSelectedOption()},{resolvedClassNames:Qr,resolvedStyles:Ir}=Ih({props:n,styles:a,classNames:i});S.useEffect(()=>{D&&At.selectFirstOption()},[D,on]),S.useEffect(()=>{P===null&&Ge(""),typeof P=="string"&&Dn&&(Xr?.value!==Dn.value||Xr?.label!==Dn.label)&&Ge(Dn.label)},[P,Dn]),S.useEffect(()=>{!En&&!Gt&&Ge(typeof lt=="string"?lt in qt?qt[lt]?.label:Bt.current[lt]?.label||"":"")},[qt,lt]),S.useEffect(()=>{lt&&lt in qt&&(Bt.current[lt]=qt[lt])},[qt,lt]);const zi=M.jsx(Zt.ClearButton,{...De,onClear:()=>{Sn(null,null),Ge(""),Je?.()}}),$e=wt&&!!lt&&!j&&!G;return M.jsxs(M.Fragment,{children:[M.jsxs(Zt,{store:At,__staticSelector:"Select",classNames:Qr,styles:Ir,unstyled:s,readOnly:G,size:me,attributes:yn,keepMounted:en,onOptionSubmit:an=>{z?.(an);const Kn=Ne&&qt[an].value===lt?null:qt[an],or=Kn?Kn.value:null;or!==lt&&Sn(or,Kn),!En&&Ge(typeof or=="string"&&Kn?.label||""),At.closeDropdown()},...L,children:[M.jsx(Zt.Target,{targetType:Ee?"input":"button",autoComplete:ht,children:M.jsx(Gs,{id:Yn,ref:e,__defaultRightSection:M.jsx(Zt.Chevron,{size:me,error:Ie,unstyled:s,color:ir}),__clearSection:zi,__clearable:$e,rightSection:ce,rightSectionPointerEvents:qe||"none",...wn,size:me,__staticSelector:"Select",disabled:j,readOnly:G||!Ee,value:on,onChange:an=>{Ge(an.currentTarget.value),At.openDropdown(),D&&At.selectFirstOption()},onFocus:an=>{Vn&&Ee&&At.openDropdown(),y?.(an)},onBlur:an=>{en&&At.clickSelectedOption(),Ee&&At.closeDropdown();const Kn=typeof lt=="string"&&(lt in qt?qt[lt]:Bt.current[lt]);Ge(Kn&&Kn.label||""),v?.(an)},onClick:an=>{Ee?At.openDropdown():At.toggleDropdown(),w?.(an)},classNames:Qr,styles:Ir,unstyled:s,pointer:!Ee,error:Ie,attributes:yn})}),M.jsx(xN,{data:Sr,hidden:G||j,filter:U,search:on,limit:ie,hiddenWhenEmpty:!V,withScrollArea:se,maxDropdownHeight:de,filterOptions:!!Ee&&Dn?.label!==on,value:lt,checkIconPosition:xe,withCheckIcon:B,withAlignedLabels:W,nothingFoundMessage:V,unstyled:s,labelId:wn.label?`${Yn}-label`:void 0,"aria-label":wn.label?void 0:wn["aria-label"],renderOption:un,scrollAreaProps:Ft})]}),M.jsx(Zt.HiddenInput,{value:lt,name:ge,form:Se,disabled:j,...Jt})]})});Yv.classes={...Gs.classes,...Zt.classes};Yv.displayName="@mantine/core/Select";var dE={root:"m_6d731127"};const bI={gap:"md",align:"stretch",justify:"flex-start"},xI=(t,{gap:e,align:n,justify:i})=>({root:{"--stack-gap":Bs(e),"--stack-align":n,"--stack-justify":i}}),ui=Ze((t,e)=>{const n=Le("Stack",bI,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,align:h,justify:g,gap:y,variant:v,attributes:w,..._}=n,E=mt({name:"Stack",props:n,classes:dE,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:w,vars:f,varsResolver:xI});return M.jsx(je,{ref:e,...E("root"),variant:v,..._})});ui.classes=dE;ui.displayName="@mantine/core/Stack";const lu=Ze((t,e)=>{const n=Le("TextInput",null,t);return M.jsx(Gs,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});lu.classes=Gs.classes;lu.displayName="@mantine/core/TextInput";const wI=["h1","h2","h3","h4","h5","h6"],SI=["xs","sm","md","lg","xl"];function CI(t,e){const n=e!==void 0?e:`h${t}`;return wI.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:SI.includes(n)?{fontSize:`var(--mantine-font-size-${n})`,fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}:{fontSize:_e(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var fE={root:"m_8a5d1357"};const _I={order:1},EI=(t,{order:e,size:n,lineClamp:i,textWrap:a})=>{const s=CI(e||1,n);return{root:{"--title-fw":s.fontWeight,"--title-lh":s.lineHeight,"--title-fz":s.fontSize,"--title-line-clamp":typeof i=="number"?i.toString():void 0,"--title-text-wrap":a}}},ap=Ze((t,e)=>{const n=Le("Title",_I,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,order:f,vars:h,size:g,variant:y,lineClamp:v,textWrap:w,mod:_,attributes:E,...P}=n,N=mt({name:"Title",props:n,classes:fE,className:a,style:s,classNames:i,styles:u,unstyled:c,attributes:E,vars:h,varsResolver:EI});return[1,2,3,4,5,6].includes(f)?M.jsx(je,{...N("root"),component:`h${f}`,variant:y,ref:e,mod:[{order:f,"data-line-clamp":typeof v=="number"},_],size:g,...P}):null});ap.classes=fE;ap.displayName="@mantine/core/Title";function OI(t){let e=t,n=!1;const i=new Set;return{getState(){return e},updateState(a){e=typeof a=="function"?a(e):a},setState(a){this.updateState(a),i.forEach(s=>s(e))},initialize(a){n||(e=a,n=!0)},subscribe(a){return i.add(a),()=>i.delete(a)}}}function TI(t){return S.useSyncExternalStore(t.subscribe,()=>t.getState(),()=>t.getState())}function MI(t,e,n){const i=[],a=[],s={};for(const u of t){const c=u.position||e;s[c]=s[c]||0,s[c]+=1,s[c]<=n?a.push(u):i.push(u)}return{notifications:a,queue:i}}const PI=()=>OI({notifications:[],queue:[],defaultPosition:"bottom-right",limit:5}),Vs=PI(),RI=(t=Vs)=>TI(t);function Eu(t,e){const n=t.getState(),i=e([...n.notifications,...n.queue]),a=MI(i,n.defaultPosition,n.limit);t.setState({notifications:a.notifications,queue:a.queue,limit:n.limit,defaultPosition:n.defaultPosition})}function DI(t,e=Vs){const n=t.id||cC();return Eu(e,i=>t.id&&i.some(a=>a.id===t.id)?i:[...i,{...t,id:n}]),n}function hE(t,e=Vs){return Eu(e,n=>n.filter(i=>i.id===t?(i.onClose?.(i),!1):!0)),t}function AI(t,e=Vs){return Eu(e,n=>n.map(i=>i.id===t.id?{...i,...t}:i)),t.id}function NI(t=Vs){Eu(t,()=>[])}function II(t=Vs){Eu(t,e=>e.slice(0,t.getState().limit))}const Pi={show:DI,hide:hE,update:AI,clean:NI,cleanQueue:II,updateState:Eu};function py(t,e){return py=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},py(t,e)}function pE(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,py(t,e)}const m1={disabled:!1},vh=Rn.createContext(null);var jI=function(e){return e.scrollTop},kc="unmounted",Ms="exited",Ps="entering",Xl="entered",my="exiting",oa=(function(t){pE(e,t);function e(i,a){var s;s=t.call(this,i,a)||this;var u=a,c=u&&!u.isMounting?i.enter:i.appear,f;return s.appearStatus=null,i.in?c?(f=Ms,s.appearStatus=Ps):f=Xl:i.unmountOnExit||i.mountOnEnter?f=kc:f=Ms,s.state={status:f},s.nextCallback=null,s}e.getDerivedStateFromProps=function(a,s){var u=a.in;return u&&s.status===kc?{status:Ms}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(a){var s=null;if(a!==this.props){var u=this.state.status;this.props.in?u!==Ps&&u!==Xl&&(s=Ps):(u===Ps||u===Xl)&&(s=my)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var a=this.props.timeout,s,u,c;return s=u=c=a,a!=null&&typeof a!="number"&&(s=a.exit,u=a.enter,c=a.appear!==void 0?a.appear:u),{exit:s,enter:u,appear:c}},n.updateStatus=function(a,s){if(a===void 0&&(a=!1),s!==null)if(this.cancelNextCallback(),s===Ps){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:jc.findDOMNode(this);u&&jI(u)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ms&&this.setState({status:kc})},n.performEnter=function(a){var s=this,u=this.props.enter,c=this.context?this.context.isMounting:a,f=this.props.nodeRef?[c]:[jc.findDOMNode(this),c],h=f[0],g=f[1],y=this.getTimeouts(),v=c?y.appear:y.enter;if(!a&&!u||m1.disabled){this.safeSetState({status:Xl},function(){s.props.onEntered(h)});return}this.props.onEnter(h,g),this.safeSetState({status:Ps},function(){s.props.onEntering(h,g),s.onTransitionEnd(v,function(){s.safeSetState({status:Xl},function(){s.props.onEntered(h,g)})})})},n.performExit=function(){var a=this,s=this.props.exit,u=this.getTimeouts(),c=this.props.nodeRef?void 0:jc.findDOMNode(this);if(!s||m1.disabled){this.safeSetState({status:Ms},function(){a.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:my},function(){a.props.onExiting(c),a.onTransitionEnd(u.exit,function(){a.safeSetState({status:Ms},function(){a.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(a,s){s=this.setNextCallback(s),this.setState(a,s)},n.setNextCallback=function(a){var s=this,u=!0;return this.nextCallback=function(c){u&&(u=!1,s.nextCallback=null,a(c))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(a,s){this.setNextCallback(s);var u=this.props.nodeRef?this.props.nodeRef.current:jc.findDOMNode(this),c=a==null&&!this.props.addEndListener;if(!u||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],h=f[0],g=f[1];this.props.addEndListener(h,g)}a!=null&&setTimeout(this.nextCallback,a)},n.render=function(){var a=this.state.status;if(a===kc)return null;var s=this.props,u=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var c=sE(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Rn.createElement(vh.Provider,{value:null},typeof u=="function"?u(a,c):Rn.cloneElement(Rn.Children.only(u),c))},e})(Rn.Component);oa.contextType=vh;oa.propTypes={};function Gl(){}oa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Gl,onEntering:Gl,onEntered:Gl,onExit:Gl,onExiting:Gl,onExited:Gl};oa.UNMOUNTED=kc;oa.EXITED=Ms;oa.ENTERING=Ps;oa.ENTERED=Xl;oa.EXITING=my;function kI(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kv(t,e){var n=function(s){return e&&S.isValidElement(s)?e(s):s},i=Object.create(null);return t&&S.Children.map(t,function(a){return a}).forEach(function(a){i[a.key]=n(a)}),i}function zI(t,e){t=t||{},e=e||{};function n(g){return g in e?e[g]:t[g]}var i=Object.create(null),a=[];for(var s in t)s in e?a.length&&(i[s]=a,a=[]):a.push(s);var u,c={};for(var f in e){if(i[f])for(u=0;u<i[f].length;u++){var h=i[f][u];c[i[f][u]]=n(h)}c[f]=n(f)}for(u=0;u<a.length;u++)c[a[u]]=n(a[u]);return c}function As(t,e,n){return n[e]!=null?n[e]:t.props[e]}function LI(t,e){return Kv(t.children,function(n){return S.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:As(n,"appear",t),enter:As(n,"enter",t),exit:As(n,"exit",t)})})}function FI(t,e,n){var i=Kv(t.children),a=zI(e,i);return Object.keys(a).forEach(function(s){var u=a[s];if(S.isValidElement(u)){var c=s in e,f=s in i,h=e[s],g=S.isValidElement(h)&&!h.props.in;f&&(!c||g)?a[s]=S.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:As(u,"exit",t),enter:As(u,"enter",t)}):!f&&c&&!g?a[s]=S.cloneElement(u,{in:!1}):f&&c&&S.isValidElement(h)&&(a[s]=S.cloneElement(u,{onExited:n.bind(null,u),in:h.props.in,exit:As(u,"exit",t),enter:As(u,"enter",t)}))}}),a}var BI=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},UI={component:"div",childFactory:function(e){return e}},Ha=(function(t){pE(e,t);function e(i,a){var s;s=t.call(this,i,a)||this;var u=s.handleExited.bind(kI(s));return s.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(a,s){var u=s.children,c=s.handleExited,f=s.firstRender;return{children:f?LI(a,c):FI(a,u,c),firstRender:!1}},n.handleExited=function(a,s){var u=Kv(this.props.children);a.key in u||(a.props.onExited&&a.props.onExited(s),this.mounted&&this.setState(function(c){var f=fy({},c.children);return delete f[a.key],{children:f}}))},n.render=function(){var a=this.props,s=a.component,u=a.childFactory,c=sE(a,["component","childFactory"]),f=this.state.contextValue,h=BI(this.state.children).map(u);return delete c.appear,delete c.enter,delete c.exit,s===null?Rn.createElement(vh.Provider,{value:f},h):Rn.createElement(vh.Provider,{value:f},Rn.createElement(s,c,h))},e})(Rn.Component);Ha.propTypes={};Ha.defaultProps=UI;const mE=["bottom-center","bottom-left","bottom-right","top-center","top-left","top-right"];function $I(t,e){return t.reduce((n,i)=>(n[i.position||e].push(i),n),mE.reduce((n,i)=>(n[i]=[],n),{}))}const g1={left:"translateX(-100%)",right:"translateX(100%)","top-center":"translateY(-100%)","bottom-center":"translateY(100%)"},HI={left:"translateX(0)",right:"translateX(0)","top-center":"translateY(0)","bottom-center":"translateY(0)"};function qI({state:t,maxHeight:e,position:n,transitionDuration:i}){const[a,s]=n.split("-"),u=s==="center"?`${a}-center`:s,c={opacity:0,maxHeight:e,transform:g1[u],transitionDuration:`${i}ms, ${i}ms, ${i}ms`,transitionTimingFunction:"cubic-bezier(.51,.3,0,1.21), cubic-bezier(.51,.3,0,1.21), linear",transitionProperty:"opacity, transform, max-height"},f={opacity:1,transform:HI[u]},h={opacity:0,maxHeight:0,transform:g1[u]};return{...c,...{entering:f,entered:f,exiting:h,exited:h}[t]}}function GI(t,e){return typeof e=="number"?e:e===!1||t===!1?!1:t}const gE=S.forwardRef(({data:t,onHide:e,autoClose:n,...i},a)=>{const{autoClose:s,message:u,...c}=t,f=GI(n,t.autoClose),h=S.useRef(-1),g=()=>window.clearTimeout(h.current),y=()=>{e(t.id),g()},v=()=>{typeof f=="number"&&(h.current=window.setTimeout(y,f))};return S.useEffect(()=>{t.onOpen?.(t)},[]),S.useEffect(()=>(v(),g),[f]),M.jsx(Hv,{...i,...c,onClose:y,ref:a,onMouseEnter:g,onMouseLeave:v,children:u})});gE.displayName="@mantine/notifications/NotificationContainer";var yE={root:"m_b37d9ac7",notification:"m_5ed0edd0"};const VI=oa,YI={position:"bottom-right",autoClose:4e3,transitionDuration:250,containerWidth:440,notificationMaxHeight:200,limit:5,zIndex:Ki("overlay"),store:Vs,withinPortal:!0},KI=(t,{zIndex:e,containerWidth:n})=>({root:{"--notifications-z-index":e?.toString(),"--notifications-container-width":_e(n)}}),aa=Ze((t,e)=>{const n=Le("Notifications",YI,t),{classNames:i,className:a,style:s,styles:u,unstyled:c,vars:f,position:h,autoClose:g,transitionDuration:y,containerWidth:v,notificationMaxHeight:w,limit:_,zIndex:E,store:P,portalProps:N,withinPortal:D,...A}=n,z=hi(),L=RI(P),G=dP(),j=Rh(),U=S.useRef({}),ie=S.useRef(0),de=(z.respectReducedMotion?j:!1)?1:y,me=mt({name:"Notifications",classes:yE,props:n,className:a,style:s,classNames:i,styles:u,unstyled:c,vars:f,varsResolver:KI});S.useEffect(()=>{P?.updateState(xe=>({...xe,limit:_||5,defaultPosition:h}))},[_,h]),zs(()=>{L.notifications.length>ie.current&&setTimeout(()=>G(),0),ie.current=L.notifications.length},[L.notifications]);const Ee=$I(L.notifications,h),ce=mE.reduce((xe,B)=>(xe[B]=Ee[B].map(({style:W,...V})=>M.jsx(VI,{timeout:de,onEnter:()=>U.current[V.id].offsetHeight,nodeRef:{current:U.current[V.id]},children:ge=>M.jsx(gE,{ref:Se=>{Se&&(U.current[V.id]=Se)},data:V,onHide:Se=>hE(Se,P),autoClose:g,...me("notification",{style:{...qI({state:ge,position:B,transitionDuration:de,maxHeight:w}),...W}})})},V.id)),xe),{});return M.jsxs(Qa,{withinPortal:D,...N,children:[M.jsx(je,{...me("root"),"data-position":"top-center",ref:e,...A,children:M.jsx(Ha,{children:ce["top-center"]})}),M.jsx(je,{...me("root"),"data-position":"top-left",...A,children:M.jsx(Ha,{children:ce["top-left"]})}),M.jsx(je,{...me("root",{className:ks.classNames.fullWidth}),"data-position":"top-right",...A,children:M.jsx(Ha,{children:ce["top-right"]})}),M.jsx(je,{...me("root",{className:ks.classNames.fullWidth}),"data-position":"bottom-right",...A,children:M.jsx(Ha,{children:ce["bottom-right"]})}),M.jsx(je,{...me("root"),"data-position":"bottom-left",...A,children:M.jsx(Ha,{children:ce["bottom-left"]})}),M.jsx(je,{...me("root"),"data-position":"bottom-center",...A,children:M.jsx(Ha,{children:ce["bottom-center"]})})]})});aa.classes=yE;aa.displayName="@mantine/notifications/Notifications";aa.show=Pi.show;aa.hide=Pi.hide;aa.update=Pi.update;aa.clean=Pi.clean;aa.cleanQueue=Pi.cleanQueue;aa.updateState=Pi.updateState;var sp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},WI={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},XI=class{#e=WI;#t=!1;setTimeoutProvider(t){this.#e=t}setTimeout(t,e){return this.#e.setTimeout(t,e)}clearTimeout(t){this.#e.clearTimeout(t)}setInterval(t,e){return this.#e.setInterval(t,e)}clearInterval(t){this.#e.clearInterval(t)}},gy=new XI;function QI(t){setTimeout(t,0)}var lp=typeof window>"u"||"Deno"in globalThis;function Hi(){}function ZI(t,e){return typeof t=="function"?t(e):t}function JI(t){return typeof t=="number"&&t>=0&&t!==1/0}function e3(t,e){return Math.max(t+(e||0)-Date.now(),0)}function yy(t,e){return typeof t=="function"?t(e):t}function t3(t,e){return typeof t=="function"?t(e):t}function y1(t,e){const{type:n="all",exact:i,fetchStatus:a,predicate:s,queryKey:u,stale:c}=t;if(u){if(i){if(e.queryHash!==Wv(u,e.options))return!1}else if(!Zc(e.queryKey,u))return!1}if(n!=="all"){const f=e.isActive();if(n==="active"&&!f||n==="inactive"&&f)return!1}return!(typeof c=="boolean"&&e.isStale()!==c||a&&a!==e.state.fetchStatus||s&&!s(e))}function v1(t,e){const{exact:n,status:i,predicate:a,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(Qc(e.options.mutationKey)!==Qc(s))return!1}else if(!Zc(e.options.mutationKey,s))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function Wv(t,e){return(e?.queryKeyHashFn||Qc)(t)}function Qc(t){return JSON.stringify(t,(e,n)=>vy(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Zc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Zc(t[n],e[n])):!1}var n3=Object.prototype.hasOwnProperty;function vE(t,e){if(t===e)return t;const n=b1(t)&&b1(e);if(!n&&!(vy(t)&&vy(e)))return e;const a=(n?t:Object.keys(t)).length,s=n?e:Object.keys(e),u=s.length,c=n?new Array(u):{};let f=0;for(let h=0;h<u;h++){const g=n?h:s[h],y=t[g],v=e[g];if(y===v){c[g]=y,(n?h<a:n3.call(t,g))&&f++;continue}if(y===null||v===null||typeof y!="object"||typeof v!="object"){c[g]=v;continue}const w=vE(y,v);c[g]=w,w===y&&f++}return a===u&&f===a?t:c}function b1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vy(t){if(!x1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!x1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function x1(t){return Object.prototype.toString.call(t)==="[object Object]"}function r3(t){return new Promise(e=>{gy.setTimeout(e,t)})}function i3(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?vE(t,e):e}function o3(t,e,n=0){const i=[...t,e];return n&&i.length>n?i.slice(1):i}function a3(t,e,n=0){const i=[e,...t];return n&&i.length>n?i.slice(0,-1):i}var Xv=Symbol();function bE(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===Xv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function s3(t,e,n){let i=!1,a;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(a??=e(),i||(i=!0,a.aborted?n():a.addEventListener("abort",n,{once:!0})),a)}),t}var l3=class extends sp{#e;#t;#n;constructor(){super(),this.#n=t=>{if(!lp&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#e!==t&&(this.#e=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},xE=new l3;function u3(){let t,e;const n=new Promise((a,s)=>{t=a,e=s});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),t(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}var c3=QI;function d3(){let t=[],e=0,n=c=>{c()},i=c=>{c()},a=c3;const s=c=>{e?t.push(c):a(()=>{n(c)})},u=()=>{const c=t;t=[],c.length&&a(()=>{i(()=>{c.forEach(f=>{n(f)})})})};return{batch:c=>{let f;e++;try{f=c()}finally{e--,e||u()}return f},batchCalls:c=>(...f)=>{s(()=>{c(...f)})},schedule:s,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{i=c},setScheduler:c=>{a=c}}}var Rr=d3(),f3=class extends sp{#e=!0;#t;#n;constructor(){super(),this.#n=t=>{if(!lp&&window.addEventListener){const e=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(t){this.#n=t,this.#t?.(),this.#t=t(this.setOnline.bind(this))}setOnline(t){this.#e!==t&&(this.#e=t,this.listeners.forEach(n=>{n(t)}))}isOnline(){return this.#e}},bh=new f3;function h3(t){return Math.min(1e3*2**t,3e4)}function wE(t){return(t??"online")==="online"?bh.isOnline():!0}var by=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function SE(t){let e=!1,n=0,i;const a=u3(),s=()=>a.status!=="pending",u=E=>{if(!s()){const P=new by(E);v(P),t.onCancel?.(P)}},c=()=>{e=!0},f=()=>{e=!1},h=()=>xE.isFocused()&&(t.networkMode==="always"||bh.isOnline())&&t.canRun(),g=()=>wE(t.networkMode)&&t.canRun(),y=E=>{s()||(i?.(),a.resolve(E))},v=E=>{s()||(i?.(),a.reject(E))},w=()=>new Promise(E=>{i=P=>{(s()||h())&&E(P)},t.onPause?.()}).then(()=>{i=void 0,s()||t.onContinue?.()}),_=()=>{if(s())return;let E;const P=n===0?t.initialPromise:void 0;try{E=P??t.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(y).catch(N=>{if(s())return;const D=t.retry??(lp?0:3),A=t.retryDelay??h3,z=typeof A=="function"?A(n,N):A,L=D===!0||typeof D=="number"&&n<D||typeof D=="function"&&D(n,N);if(e||!L){v(N);return}n++,t.onFail?.(n,N),r3(z).then(()=>h()?void 0:w()).then(()=>{e?v(N):_()})})};return{promise:a,status:()=>a.status,cancel:u,continue:()=>(i?.(),a),cancelRetry:c,continueRetry:f,canStart:g,start:()=>(g()?_():w().then(_),a)}}var CE=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),JI(this.gcTime)&&(this.#e=gy.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(lp?1/0:300*1e3))}clearGcTimeout(){this.#e&&(gy.clearTimeout(this.#e),this.#e=void 0)}},p3=class extends CE{#e;#t;#n;#i;#r;#a;#s;constructor(t){super(),this.#s=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#i=t.client,this.#n=this.#i.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#e=S1(this.options),this.state=t.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(t){if(this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const e=S1(this.options);e.data!==void 0&&(this.setState(w1(e.data,e.dataUpdatedAt)),this.#e=e)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(t,e){const n=i3(this.state.data,t,this.options);return this.#o({data:n,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),n}setState(t,e){this.#o({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#r?.promise;return this.#r?.cancel(t),e?e.then(Hi).catch(Hi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(t=>t3(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>yy(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!e3(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#r&&(this.#s?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#o({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(t&&this.setOptions(t),!this.options.queryFn){const c=this.observers.find(f=>f.options.queryFn);c&&this.setOptions(c.options)}const n=new AbortController,i=c=>{Object.defineProperty(c,"signal",{enumerable:!0,get:()=>(this.#s=!0,n.signal)})},a=()=>{const c=bE(this.options,e),h=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#s=!1,this.options.persister?this.options.persister(c,h,this):c(h)},u=(()=>{const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:a};return i(c),c})();this.options.behavior?.onFetch(u,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==u.fetchOptions?.meta)&&this.#o({type:"fetch",meta:u.fetchOptions?.meta}),this.#r=SE({initialPromise:e?.initialPromise,fn:u.fetchFn,onCancel:c=>{c instanceof by&&c.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(c,f)=>{this.#o({type:"failed",failureCount:c,error:f})},onPause:()=>{this.#o({type:"pause"})},onContinue:()=>{this.#o({type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0});try{const c=await this.#r.start();if(c===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(c),this.#n.config.onSuccess?.(c,this),this.#n.config.onSettled?.(c,this.state.error,this),c}catch(c){if(c instanceof by){if(c.silent)return this.#r.promise;if(c.revert){if(this.state.data===void 0)throw c;return this.state.data}}throw this.#o({type:"error",error:c}),this.#n.config.onError?.(c,this),this.#n.config.onSettled?.(this.state.data,c,this),c}finally{this.scheduleGc()}}#o(t){const e=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...m3(n.data,this.options),fetchMeta:t.meta??null};case"success":const i={...n,...w1(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=t.manual?i:void 0,i;case"error":const a=t.error;return{...n,error:a,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=e(this.state),Rr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:t})})}};function m3(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:wE(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function w1(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function S1(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,i=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}function C1(t){return{onFetch:(e,n)=>{const i=e.options,a=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],u=e.state.data?.pageParams||[];let c={pages:[],pageParams:[]},f=0;const h=async()=>{let g=!1;const y=_=>{s3(_,()=>e.signal,()=>g=!0)},v=bE(e.options,e.fetchOptions),w=async(_,E,P)=>{if(g)return Promise.reject();if(E==null&&_.pages.length)return Promise.resolve(_);const D=(()=>{const G={client:e.client,queryKey:e.queryKey,pageParam:E,direction:P?"backward":"forward",meta:e.options.meta};return y(G),G})(),A=await v(D),{maxPages:z}=e.options,L=P?a3:o3;return{pages:L(_.pages,A,z),pageParams:L(_.pageParams,E,z)}};if(a&&s.length){const _=a==="backward",E=_?g3:_1,P={pages:s,pageParams:u},N=E(i,P);c=await w(P,N,_)}else{const _=t??s.length;do{const E=f===0?u[0]??i.initialPageParam:_1(i,c);if(f>0&&E==null)break;c=await w(c,E),f++}while(f<_)}return c};e.options.persister?e.fetchFn=()=>e.options.persister?.(h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n):e.fetchFn=h}}}function _1(t,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?t.getNextPageParam(e[i],e,n[i],n):void 0}function g3(t,{pages:e,pageParams:n}){return e.length>0?t.getPreviousPageParam?.(e[0],e,n[0],n):void 0}var y3=class extends CE{#e;#t;#n;#i;constructor(t){super(),this.#e=t.client,this.mutationId=t.mutationId,this.#n=t.mutationCache,this.#t=[],this.state=t.state||v3(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=SE({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(s,u)=>{this.#r({type:"failed",failureCount:s,error:u})},onPause:()=>{this.#r({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",a=!this.#i.canStart();try{if(i)e();else{this.#r({type:"pending",variables:t,isPaused:a}),await this.#n.config.onMutate?.(t,this,n);const u=await this.options.onMutate?.(t,n);u!==this.state.context&&this.#r({type:"pending",context:u,variables:t,isPaused:a})}const s=await this.#i.start();return await this.#n.config.onSuccess?.(s,t,this.state.context,this,n),await this.options.onSuccess?.(s,t,this.state.context,n),await this.#n.config.onSettled?.(s,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(s,null,t,this.state.context,n),this.#r({type:"success",data:s}),s}catch(s){try{await this.#n.config.onError?.(s,t,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onError?.(s,t,this.state.context,n)}catch(u){Promise.reject(u)}try{await this.#n.config.onSettled?.(void 0,s,this.state.variables,this.state.context,this,n)}catch(u){Promise.reject(u)}try{await this.options.onSettled?.(void 0,s,t,this.state.context,n)}catch(u){Promise.reject(u)}throw this.#r({type:"error",error:s}),s}finally{this.#n.runNext(this)}}#r(t){const e=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Rr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(t)}),this.#n.notify({mutation:this,type:"updated",action:t})})}};function v3(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var b3=class extends sp{constructor(t={}){super(),this.config=t,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(t,e,n){const i=new y3({client:t,mutationCache:this,mutationId:++this.#n,options:t.defaultMutationOptions(e),state:n});return this.add(i),i}add(t){this.#e.add(t);const e=Bf(t);if(typeof e=="string"){const n=this.#t.get(e);n?n.push(t):this.#t.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#e.delete(t)){const e=Bf(t);if(typeof e=="string"){const n=this.#t.get(e);if(n)if(n.length>1){const i=n.indexOf(t);i!==-1&&n.splice(i,1)}else n[0]===t&&this.#t.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=Bf(t);if(typeof e=="string"){const i=this.#t.get(e)?.find(a=>a.state.status==="pending");return!i||i===t}else return!0}runNext(t){const e=Bf(t);return typeof e=="string"?this.#t.get(e)?.find(i=>i!==t&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Rr.batch(()=>{this.#e.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(t){const e={exact:!0,...t};return this.getAll().find(n=>v1(e,n))}findAll(t={}){return this.getAll().filter(e=>v1(t,e))}notify(t){Rr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Rr.batch(()=>Promise.all(t.map(e=>e.continue().catch(Hi))))}};function Bf(t){return t.options.scope?.id}var x3=class extends sp{constructor(t={}){super(),this.config=t,this.#e=new Map}#e;build(t,e,n){const i=e.queryKey,a=e.queryHash??Wv(i,e);let s=this.get(a);return s||(s=new p3({client:t,queryKey:i,queryHash:a,options:t.defaultQueryOptions(e),state:n,defaultOptions:t.getQueryDefaults(i)}),this.add(s)),s}add(t){this.#e.has(t.queryHash)||(this.#e.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#e.get(t.queryHash);e&&(t.destroy(),e===t&&this.#e.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Rr.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#e.get(t)}getAll(){return[...this.#e.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(n=>y1(e,n))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(n=>y1(t,n)):e}notify(t){Rr.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Rr.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},w3=class{#e;#t;#n;#i;#r;#a;#s;#o;constructor(t={}){this.#e=t.queryCache||new x3,this.#t=t.mutationCache||new b3,this.#n=t.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#s=xE.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#o=bh.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#s?.(),this.#s=void 0,this.#o?.(),this.#o=void 0)}isFetching(t){return this.#e.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#t.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=this.#e.build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(yy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(t){return this.#e.findAll(t).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(t,e,n){const i=this.defaultQueryOptions({queryKey:t}),s=this.#e.get(i.queryHash)?.state.data,u=ZI(e,s);if(u!==void 0)return this.#e.build(this,i).setData(u,{...n,manual:!0})}setQueriesData(t,e,n){return Rr.batch(()=>this.#e.findAll(t).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#e.get(e.queryHash)?.state}removeQueries(t){const e=this.#e;Rr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=this.#e;return Rr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},i=Rr.batch(()=>this.#e.findAll(t).map(a=>a.cancel(n)));return Promise.all(i).then(Hi).catch(Hi)}invalidateQueries(t,e={}){return Rr.batch(()=>(this.#e.findAll(t).forEach(n=>{n.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Rr.batch(()=>this.#e.findAll(t).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let s=a.fetch(void 0,n);return n.throwOnError||(s=s.catch(Hi)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(i).then(Hi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=this.#e.build(this,e);return n.isStaleByTime(yy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Hi).catch(Hi)}fetchInfiniteQuery(t){return t.behavior=C1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Hi).catch(Hi)}ensureInfiniteQueryData(t){return t.behavior=C1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bh.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(t){this.#n=t}setQueryDefaults(t,e){this.#i.set(Qc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#i.values()],n={};return e.forEach(i=>{Zc(t,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(t,e){this.#r.set(Qc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#r.values()],n={};return e.forEach(i=>{Zc(t,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#n.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Wv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Xv&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#n.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},S3=S.createContext(void 0),C3=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),M.jsx(S3.Provider,{value:t,children:e}));var _E=t=>{throw TypeError(t)},_3=(t,e,n)=>e.has(t)||_E("Cannot "+n),jg=(t,e,n)=>(_3(t,e,"read from private field"),n?n.call(t):e.get(t)),E3=(t,e,n)=>e.has(t)?_E("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),E1="popstate";function O3(t={}){function e(a,s){let{pathname:u="/",search:c="",hash:f=""}=sa(a.location.hash.substring(1));return!u.startsWith("/")&&!u.startsWith(".")&&(u="/"+u),Jc("",{pathname:u,search:c,hash:f},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(a,s){let u=a.document.querySelector("base"),c="";if(u&&u.getAttribute("href")){let f=a.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof s=="string"?s:mo(s))}function i(a,s){_n(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(s)})`)}return M3(e,n,i,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _n(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function T3(){return Math.random().toString(36).substring(2,10)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function Jc(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||i||T3()}}function mo({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function M3(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:s=!1}=i,u=a.history,c="POP",f=null,h=g();h==null&&(h=0,u.replaceState({...u.state,idx:h},""));function g(){return(u.state||{idx:null}).idx}function y(){c="POP";let P=g(),N=P==null?null:P-h;h=P,f&&f({action:c,location:E.location,delta:N})}function v(P,N){c="PUSH";let D=Jc(E.location,P,N);n&&n(D,P),h=g()+1;let A=O1(D,h),z=E.createHref(D);try{u.pushState(A,"",z)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;a.location.assign(z)}s&&f&&f({action:c,location:E.location,delta:1})}function w(P,N){c="REPLACE";let D=Jc(E.location,P,N);n&&n(D,P),h=g();let A=O1(D,h),z=E.createHref(D);u.replaceState(A,"",z),s&&f&&f({action:c,location:E.location,delta:0})}function _(P){return EE(P)}let E={get action(){return c},get location(){return t(a,u)},listen(P){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(E1,y),f=P,()=>{a.removeEventListener(E1,y),f=null}},createHref(P){return e(a,P)},createURL:_,encodeLocation(P){let N=_(P);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:v,replace:w,go(P){return u.go(P)}};return E}function EE(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Et(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:mo(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}var zc,T1=class{constructor(t){if(E3(this,zc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(jg(this,zc).has(t))return jg(this,zc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){jg(this,zc).set(t,e)}};zc=new WeakMap;var P3=new Set(["lazy","caseSensitive","path","id","index","children"]);function R3(t){return P3.has(t)}var D3=new Set(["lazy","caseSensitive","path","id","index","middleware","children"]);function A3(t){return D3.has(t)}function N3(t){return t.index===!0}function ed(t,e,n=[],i={},a=!1){return t.map((s,u)=>{let c=[...n,String(u)],f=typeof s.id=="string"?s.id:c.join("-");if(Et(s.index!==!0||!s.children,"Cannot specify children on an index route"),Et(a||!i[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),N3(s)){let h={...s,id:f};return i[f]=M1(h,e(h)),h}else{let h={...s,id:f,children:void 0};return i[f]=M1(h,e(h)),s.children&&(h.children=ed(s.children,e,c,i,a)),h}})}function M1(t,e){return Object.assign(t,{...e,...typeof e.lazy=="object"&&e.lazy!=null?{lazy:{...t.lazy,...e.lazy}}:{}})}function qa(t,e,n="/"){return Lc(t,e,n,!1)}function Lc(t,e,n,i){let a=typeof e=="string"?sa(e):e,s=Di(a.pathname||"/",n);if(s==null)return null;let u=OE(t);j3(u);let c=null;for(let f=0;c==null&&f<u.length;++f){let h=V3(s);c=q3(u[f],h,i)}return c}function I3(t,e){let{route:n,pathname:i,params:a}=t;return{id:n.id,pathname:i,params:a,data:e[n.id],loaderData:e[n.id],handle:n.handle}}function OE(t,e=[],n=[],i="",a=!1){let s=(u,c,f=a,h)=>{let g={relativePath:h===void 0?u.path||"":h,caseSensitive:u.caseSensitive===!0,childrenIndex:c,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;Et(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=fo([i,g.relativePath]),v=n.concat(g);u.children&&u.children.length>0&&(Et(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),OE(u.children,e,v,y,f)),!(u.path==null&&!u.index)&&e.push({path:y,score:$3(y,u.index),routesMeta:v})};return t.forEach((u,c)=>{if(u.path===""||!u.path?.includes("?"))s(u,c);else for(let f of TE(u.path))s(u,c,!0,f)}),e}function TE(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return a?[s,""]:[s];let u=TE(i.join("/")),c=[];return c.push(...u.map(f=>f===""?s:[s,f].join("/"))),a&&c.push(...u),c.map(f=>t.startsWith("/")&&f===""?"/":f)}function j3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:H3(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var k3=/^:[\w-]+$/,z3=3,L3=2,F3=1,B3=10,U3=-2,P1=t=>t==="*";function $3(t,e){let n=t.split("/"),i=n.length;return n.some(P1)&&(i+=U3),e&&(i+=L3),n.filter(a=>!P1(a)).reduce((a,s)=>a+(k3.test(s)?z3:s===""?F3:B3),i)}function H3(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function q3(t,e,n=!1){let{routesMeta:i}=t,a={},s="/",u=[];for(let c=0;c<i.length;++c){let f=i[c],h=c===i.length-1,g=s==="/"?e:e.slice(s.length)||"/",y=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},g),v=f.route;if(!y&&h&&n&&!i[i.length-1].route.index&&(y=xh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),u.push({params:a,pathname:fo([s,y.pathname]),pathnameBase:W3(fo([s,y.pathnameBase])),route:v}),y.pathnameBase!=="/"&&(s=fo([s,y.pathnameBase]))}return u}function xh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=G3(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:i.reduce((h,{paramName:g,isOptional:y},v)=>{if(g==="*"){let _=c[v]||"";u=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const w=c[v];return y&&!w?h[g]=void 0:h[g]=(w||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:u,pattern:t}}function G3(t,e=!1,n=!0){_n(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,c,f)=>(i.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function V3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _n(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Di(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Y3({basename:t,pathname:e}){return e==="/"?t:fo([t,e])}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,up=t=>ME.test(t);function K3(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?sa(t):t,s;if(n)if(up(n))s=n;else{if(n.includes("//")){let u=n;n=n.replace(/\/\/+/g,"/"),_n(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${n}`)}n.startsWith("/")?s=R1(n.substring(1),"/"):s=R1(n,e)}else s=e;return{pathname:s,search:X3(i),hash:Q3(a)}}function R1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function kg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function PE(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cp(t){let e=PE(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function dp(t,e,n,i=!1){let a;typeof t=="string"?a=sa(t):(a={...t},Et(!a.pathname||!a.pathname.includes("?"),kg("?","pathname","search",a)),Et(!a.pathname||!a.pathname.includes("#"),kg("#","pathname","hash",a)),Et(!a.search||!a.search.includes("#"),kg("#","search","hash",a)));let s=t===""||a.pathname==="",u=s?"/":a.pathname,c;if(u==null)c=n;else{let y=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),y-=1;a.pathname=v.join("/")}c=y>=0?e[y]:"/"}let f=K3(a,c),h=u&&u!=="/"&&u.endsWith("/"),g=(s||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(h||g)&&(f.pathname+="/"),f}var fo=t=>t.join("/").replace(/\/\/+/g,"/"),W3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),X3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Q3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,hd=class{constructor(t,e,n,i=!1){this.status=t,this.statusText=e||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function td(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function pd(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var RE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function DE(t,e){let n=t;if(typeof n!="string"||!ME.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let i=n,a=!1;if(RE)try{let s=new URL(window.location.href),u=n.startsWith("//")?new URL(s.protocol+n):new URL(n),c=Di(u.pathname,e);u.origin===s.origin&&c!=null?n=c+u.search+u.hash:a=!0}catch{_n(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:a,to:n}}var Va=Symbol("Uninstrumented");function Z3(t,e){let n={lazy:[],"lazy.loader":[],"lazy.action":[],"lazy.middleware":[],middleware:[],loader:[],action:[]};t.forEach(a=>a({id:e.id,index:e.index,path:e.path,instrument(s){let u=Object.keys(n);for(let c of u)s[c]&&n[c].push(s[c])}}));let i={};if(typeof e.lazy=="function"&&n.lazy.length>0){let a=Jl(n.lazy,e.lazy,()=>{});a&&(i.lazy=a)}if(typeof e.lazy=="object"){let a=e.lazy;["middleware","loader","action"].forEach(s=>{let u=a[s],c=n[`lazy.${s}`];if(typeof u=="function"&&c.length>0){let f=Jl(c,u,()=>{});f&&(i.lazy=Object.assign(i.lazy||{},{[s]:f}))}})}return["loader","action"].forEach(a=>{let s=e[a];if(typeof s=="function"&&n[a].length>0){let u=s[Va]??s,c=Jl(n[a],u,(...f)=>D1(f[0]));c&&(c[Va]=u,i[a]=c)}}),e.middleware&&e.middleware.length>0&&n.middleware.length>0&&(i.middleware=e.middleware.map(a=>{let s=a[Va]??a,u=Jl(n.middleware,s,(...c)=>D1(c[0]));return u?(u[Va]=s,u):a})),i}function J3(t,e){let n={navigate:[],fetch:[]};if(e.forEach(i=>i({instrument(a){let s=Object.keys(a);for(let u of s)a[u]&&n[u].push(a[u])}})),n.navigate.length>0){let i=t.navigate[Va]??t.navigate,a=Jl(n.navigate,i,(...s)=>{let[u,c]=s;return{to:typeof u=="number"||typeof u=="string"?u:u?mo(u):".",...A1(t,c??{})}});a&&(a[Va]=i,t.navigate=a)}if(n.fetch.length>0){let i=t.fetch[Va]??t.fetch,a=Jl(n.fetch,i,(...s)=>{let[u,,c,f]=s;return{href:c??".",fetcherKey:u,...A1(t,f??{})}});a&&(a[Va]=i,t.fetch=a)}return t}function Jl(t,e,n){return t.length===0?null:async(...i)=>{let a=await AE(t,n(...i),()=>e(...i),t.length-1);if(a.type==="error")throw a.value;return a.value}}async function AE(t,e,n,i){let a=t[i],s;if(a){let u,c=async()=>(u?console.error("You cannot call instrumented handlers more than once"):u=AE(t,e,n,i-1),s=await u,Et(s,"Expected a result"),s.type==="error"&&s.value instanceof Error?{status:"error",error:s.value}:{status:"success",error:void 0});try{await a(c,e)}catch(f){console.error("An instrumentation function threw an error:",f)}u||await c(),await u}else try{s={type:"success",value:await n()}}catch(u){s={type:"error",value:u}}return s||{type:"error",value:new Error("No result assigned in instrumentation chain.")}}function D1(t){let{request:e,context:n,params:i,unstable_pattern:a}=t;return{request:ej(e),params:{...i},unstable_pattern:a,context:tj(n)}}function A1(t,e){return{currentUrl:mo(t.state.location),..."formMethod"in e?{formMethod:e.formMethod}:{},..."formEncType"in e?{formEncType:e.formEncType}:{},..."formData"in e?{formData:e.formData}:{},..."body"in e?{body:e.body}:{}}}function ej(t){return{method:t.method,url:t.url,headers:{get:(...e)=>t.headers.get(...e)}}}function tj(t){if(rj(t)){let e={...t};return Object.freeze(e),e}else return{get:e=>t.get(e)}}var nj=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function rj(t){if(t===null||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===Object.prototype||e===null||Object.getOwnPropertyNames(e).sort().join("\0")===nj}var NE=["POST","PUT","PATCH","DELETE"],ij=new Set(NE),oj=["GET",...NE],aj=new Set(oj),IE=new Set([301,302,303,307,308]),sj=new Set([307,308]),zg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lj={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Rc={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},uj=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),jE="remix-router-transitions",kE=Symbol("ResetLoaderData");function cj(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Et(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=t.hydrationRouteProperties||[],a=t.mapRouteProperties||uj,s=a;if(t.unstable_instrumentations){let $=t.unstable_instrumentations;s=ee=>({...a(ee),...Z3($.map(be=>be.route).filter(Boolean),ee)})}let u={},c=ed(t.routes,s,void 0,u),f,h=t.basename||"/";h.startsWith("/")||(h=`/${h}`);let g=t.dataStrategy||mj,y={...t.future},v=null,w=new Set,_=null,E=null,P=null,N=t.hydrationData!=null,D=qa(c,t.history.location,h),A=!1,z=null,L;if(D==null&&!t.patchRoutesOnNavigation){let $=Ti(404,{pathname:t.history.location.pathname}),{matches:ee,route:be}=Uf(c);L=!0,D=ee,z={[be.id]:$}}else if(D&&!t.hydrationData&&wo(D,c,t.history.location.pathname).active&&(D=null),D)if(D.some($=>$.route.lazy))L=!1;else if(!D.some($=>Qv($.route)))L=!0;else{let $=t.hydrationData?t.hydrationData.loaderData:null,ee=t.hydrationData?t.hydrationData.errors:null;if(ee){let be=D.findIndex(Ae=>ee[Ae.route.id]!==void 0);L=D.slice(0,be+1).every(Ae=>!wy(Ae.route,$,ee))}else L=D.every(be=>!wy(be.route,$,ee))}else{L=!1,D=[];let $=wo(null,c,t.history.location.pathname);$.active&&$.matches&&(A=!0,D=$.matches)}let G,j={historyAction:t.history.action,location:t.history.location,matches:D,initialized:L,navigation:zg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||z,fetchers:new Map,blockers:new Map},U="POP",ie=null,se=!1,de,me=!1,Ee=new Map,ce=null,xe=!1,B=!1,W=new Set,V=new Map,ge=0,Se=-1,H=new Map,ne=new Set,Ce=new Map,Ne=new Map,Ie=new Set,qe=new Map,nt,wt=null;function De(){if(v=t.history.listen(({action:$,location:ee,delta:be})=>{if(nt){nt(),nt=void 0;return}_n(qe.size===0||be!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ae=an({currentLocation:j.location,nextLocation:ee,historyAction:$});if(Ae&&be!=null){let Fe=new Promise(tt=>{nt=tt});t.history.go(be*-1),$e(Ae,{state:"blocked",location:ee,proceed(){$e(Ae,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),Fe.then(()=>t.history.go(be))},reset(){let tt=new Map(j.blockers);tt.set(Ae,Rc),Je({blockers:tt})}}),ie?.resolve(),ie=null;return}return gn($,ee)}),n){Nj(e,Ee);let $=()=>Ij(e,Ee);e.addEventListener("pagehide",$),ce=()=>e.removeEventListener("pagehide",$)}return j.initialized||gn("POP",j.location,{initialHydration:!0}),G}function Jt(){v&&v(),ce&&ce(),w.clear(),de&&de.abort(),j.fetchers.forEach(($,ee)=>on(ee)),j.blockers.forEach(($,ee)=>zi(ee))}function un($){return w.add($),()=>w.delete($)}function Je($,ee={}){$.matches&&($.matches=$.matches.map(Fe=>{let tt=u[Fe.route.id],We=Fe.route;return We.element!==tt.element||We.errorElement!==tt.errorElement||We.hydrateFallbackElement!==tt.hydrateFallbackElement?{...Fe,route:tt}:Fe})),j={...j,...$};let be=[],Ae=[];j.fetchers.forEach((Fe,tt)=>{Fe.state==="idle"&&(Ie.has(tt)?be.push(tt):Ae.push(tt))}),Ie.forEach(Fe=>{!j.fetchers.has(Fe)&&!V.has(Fe)&&be.push(Fe)}),[...w].forEach(Fe=>Fe(j,{deletedFetchers:be,newErrors:$.errors??null,viewTransitionOpts:ee.viewTransitionOpts,flushSync:ee.flushSync===!0})),be.forEach(Fe=>on(Fe)),Ae.forEach(Fe=>j.fetchers.delete(Fe))}function ht($,ee,{flushSync:be}={}){let Ae=j.actionData!=null&&j.navigation.formMethod!=null&&gr(j.navigation.formMethod)&&j.navigation.state==="loading"&&$.state?._isRedirect!==!0,Fe;ee.actionData?Object.keys(ee.actionData).length>0?Fe=ee.actionData:Fe=null:Ae?Fe=j.actionData:Fe=null;let tt=ee.loaderData?$1(j.loaderData,ee.loaderData,ee.matches||[],ee.errors):j.loaderData,We=j.blockers;We.size>0&&(We=new Map(We),We.forEach((ot,it)=>We.set(it,Rc)));let He=xe?!1:Qs($,ee.matches||j.matches),Ke=se===!0||j.navigation.formMethod!=null&&gr(j.navigation.formMethod)&&$.state?._isRedirect!==!0;f&&(c=f,f=void 0),xe||U==="POP"||(U==="PUSH"?t.history.push($,$.state):U==="REPLACE"&&t.history.replace($,$.state));let Qe;if(U==="POP"){let ot=Ee.get(j.location.pathname);ot&&ot.has($.pathname)?Qe={currentLocation:j.location,nextLocation:$}:Ee.has($.pathname)&&(Qe={currentLocation:$,nextLocation:j.location})}else if(me){let ot=Ee.get(j.location.pathname);ot?ot.add($.pathname):(ot=new Set([$.pathname]),Ee.set(j.location.pathname,ot)),Qe={currentLocation:j.location,nextLocation:$}}Je({...ee,actionData:Fe,loaderData:tt,historyAction:U,location:$,initialized:!0,navigation:zg,revalidation:"idle",restoreScrollPosition:He,preventScrollReset:Ke,blockers:We},{viewTransitionOpts:Qe,flushSync:be===!0}),U="POP",se=!1,me=!1,xe=!1,B=!1,ie?.resolve(),ie=null,wt?.resolve(),wt=null}async function Ft($,ee){if(ie?.resolve(),ie=null,typeof $=="number"){ie||(ie=V1());let Ot=ie.promise;return t.history.go($),Ot}let be=xy(j.location,j.matches,h,$,ee?.fromRouteId,ee?.relative),{path:Ae,submission:Fe,error:tt}=N1(!1,be,ee),We=j.location,He=Jc(j.location,Ae,ee&&ee.state);He={...He,...t.history.encodeLocation(He)};let Ke=ee&&ee.replace!=null?ee.replace:void 0,Qe="PUSH";Ke===!0?Qe="REPLACE":Ke===!1||Fe!=null&&gr(Fe.formMethod)&&Fe.formAction===j.location.pathname+j.location.search&&(Qe="REPLACE");let ot=ee&&"preventScrollReset"in ee?ee.preventScrollReset===!0:void 0,it=(ee&&ee.flushSync)===!0,vt=an({currentLocation:We,nextLocation:He,historyAction:Qe});if(vt){$e(vt,{state:"blocked",location:He,proceed(){$e(vt,{state:"proceeding",proceed:void 0,reset:void 0,location:He}),Ft($,ee)},reset(){let Ot=new Map(j.blockers);Ot.set(vt,Rc),Je({blockers:Ot})}});return}await gn(Qe,He,{submission:Fe,pendingError:tt,preventScrollReset:ot,replace:ee&&ee.replace,enableViewTransition:ee&&ee.viewTransition,flushSync:it,callSiteDefaultShouldRevalidate:ee&&ee.unstable_defaultShouldRevalidate})}function rn(){wt||(wt=V1()),lt(),Je({revalidation:"loading"});let $=wt.promise;return j.navigation.state==="submitting"?$:j.navigation.state==="idle"?(gn(j.historyAction,j.location,{startUninterruptedRevalidation:!0}),$):(gn(U||j.historyAction,j.navigation.location,{overrideNavigation:j.navigation,enableViewTransition:me===!0}),$)}async function gn($,ee,be){de&&de.abort(),de=null,U=$,xe=(be&&be.startUninterruptedRevalidation)===!0,Li(j.location,j.matches),se=(be&&be.preventScrollReset)===!0,me=(be&&be.enableViewTransition)===!0;let Ae=f||c,Fe=be&&be.overrideNavigation,tt=be?.initialHydration&&j.matches&&j.matches.length>0&&!A?j.matches:qa(Ae,ee,h),We=(be&&be.flushSync)===!0;if(tt&&j.initialized&&!B&&Cj(j.location,ee)&&!(be&&be.submission&&gr(be.submission.formMethod))){ht(ee,{matches:tt},{flushSync:We});return}let He=wo(tt,Ae,ee.pathname);if(He.active&&He.matches&&(tt=He.matches),!tt){let{error:cn,notFoundMatches:sn,route:at}=Kn(ee.pathname);ht(ee,{matches:sn,loaderData:{},errors:{[at.id]:cn}},{flushSync:We});return}de=new AbortController;let Ke=Ql(t.history,ee,de.signal,be&&be.submission),Qe=t.getContext?await t.getContext():new T1,ot;if(be&&be.pendingError)ot=[Ga(tt).route.id,{type:"error",error:be.pendingError}];else if(be&&be.submission&&gr(be.submission.formMethod)){let cn=await Ar(Ke,ee,be.submission,tt,Qe,He.active,be&&be.initialHydration===!0,{replace:be.replace,flushSync:We});if(cn.shortCircuited)return;if(cn.pendingActionResult){let[sn,at]=cn.pendingActionResult;if(ai(at)&&td(at.error)&&at.error.status===404){de=null,ht(ee,{matches:cn.matches,loaderData:{},errors:{[sn]:at.error}});return}}tt=cn.matches||tt,ot=cn.pendingActionResult,Fe=Lg(ee,be.submission),We=!1,He.active=!1,Ke=Ql(t.history,Ke.url,Ke.signal)}let{shortCircuited:it,matches:vt,loaderData:Ot,errors:Ut}=await ir(Ke,ee,tt,Qe,He.active,Fe,be&&be.submission,be&&be.fetcherSubmission,be&&be.replace,be&&be.initialHydration===!0,We,ot,be&&be.callSiteDefaultShouldRevalidate);it||(de=null,ht(ee,{matches:vt||tt,...H1(ot),loaderData:Ot,errors:Ut}))}async function Ar($,ee,be,Ae,Fe,tt,We,He={}){lt();let Ke=Dj(ee,be);if(Je({navigation:Ke},{flushSync:He.flushSync===!0}),tt){let it=await Cr(Ae,ee.pathname,$.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){if(it.partialMatches.length===0){let{matches:Ot,route:Ut}=Uf(c);return{matches:Ot,pendingActionResult:[Ut.id,{type:"error",error:it.error}]}}let vt=Ga(it.partialMatches).route.id;return{matches:it.partialMatches,pendingActionResult:[vt,{type:"error",error:it.error}]}}else if(it.matches)Ae=it.matches;else{let{notFoundMatches:vt,error:Ot,route:Ut}=Kn(ee.pathname);return{matches:vt,pendingActionResult:[Ut.id,{type:"error",error:Ot}]}}}let Qe,ot=nh(Ae,ee);if(!ot.route.action&&!ot.route.lazy)Qe={type:"error",error:Ti(405,{method:$.method,pathname:ee.pathname,routeId:ot.route.id})};else{let it=nu(s,u,$,Ae,ot,We?[]:i,Fe),vt=await qt($,it,Fe,null);if(Qe=vt[ot.route.id],!Qe){for(let Ot of Ae)if(vt[Ot.route.id]){Qe=vt[Ot.route.id];break}}if($.signal.aborted)return{shortCircuited:!0}}if(Ns(Qe)){let it;return He&&He.replace!=null?it=He.replace:it=F1(Qe.response.headers.get("Location"),new URL($.url),h)===j.location.pathname+j.location.search,await Bt($,Qe,!0,{submission:be,replace:it}),{shortCircuited:!0}}if(ai(Qe)){let it=Ga(Ae,ot.route.id);return(He&&He.replace)!==!0&&(U="PUSH"),{matches:Ae,pendingActionResult:[it.route.id,Qe,ot.route.id]}}return{matches:Ae,pendingActionResult:[ot.route.id,Qe]}}async function ir($,ee,be,Ae,Fe,tt,We,He,Ke,Qe,ot,it,vt){let Ot=tt||Lg(ee,We),Ut=We||He||G1(Ot),cn=!xe&&!Qe;if(Fe){if(cn){let st=en(it);Je({navigation:Ot,...st!==void 0?{actionData:st}:{}},{flushSync:ot})}let Tt=await Cr(be,ee.pathname,$.signal);if(Tt.type==="aborted")return{shortCircuited:!0};if(Tt.type==="error"){if(Tt.partialMatches.length===0){let{matches:jr,route:jn}=Uf(c);return{matches:jr,loaderData:{},errors:{[jn.id]:Tt.error}}}let st=Ga(Tt.partialMatches).route.id;return{matches:Tt.partialMatches,loaderData:{},errors:{[st]:Tt.error}}}else if(Tt.matches)be=Tt.matches;else{let{error:st,notFoundMatches:jr,route:jn}=Kn(ee.pathname);return{matches:jr,loaderData:{},errors:{[jn.id]:st}}}}let sn=f||c,{dsMatches:at,revalidatingFetchers:ln}=I1($,Ae,s,u,t.history,j,be,Ut,ee,Qe?[]:i,Qe===!0,B,W,Ie,Ce,ne,sn,h,t.patchRoutesOnNavigation!=null,it,vt);if(Se=++ge,!t.dataStrategy&&!at.some(Tt=>Tt.shouldLoad)&&!at.some(Tt=>Tt.route.middleware&&Tt.route.middleware.length>0)&&ln.length===0){let Tt=Ge();return ht(ee,{matches:be,loaderData:{},errors:it&&ai(it[1])?{[it[0]]:it[1].error}:null,...H1(it),...Tt?{fetchers:new Map(j.fetchers)}:{}},{flushSync:ot}),{shortCircuited:!0}}if(cn){let Tt={};if(!Fe){Tt.navigation=Ot;let st=en(it);st!==void 0&&(Tt.actionData=st)}ln.length>0&&(Tt.fetchers=Vn(ln)),Je(Tt,{flushSync:ot})}ln.forEach(Tt=>{Gt(Tt.key),Tt.controller&&V.set(Tt.key,Tt.controller)});let vn=()=>ln.forEach(Tt=>Gt(Tt.key));de&&de.signal.addEventListener("abort",vn);let{loaderResults:tn,fetcherResults:Xn}=await Yn(at,ln,$,Ae);if($.signal.aborted)return{shortCircuited:!0};de&&de.signal.removeEventListener("abort",vn),ln.forEach(Tt=>V.delete(Tt.key));let Qn=$f(tn);if(Qn)return await Bt($,Qn.result,!0,{replace:Ke}),{shortCircuited:!0};if(Qn=$f(Xn),Qn)return ne.add(Qn.key),await Bt($,Qn.result,!0,{replace:Ke}),{shortCircuited:!0};let{loaderData:Er,errors:fr}=U1(j,be,tn,it,ln,Xn);Qe&&j.errors&&(fr={...j.errors,...fr});let ar=Ge(),Qi=Qr(Se),mi=ar||Qi||ln.length>0;return{matches:be,loaderData:Er,errors:fr,...mi?{fetchers:new Map(j.fetchers)}:{}}}function en($){if($&&!ai($[1]))return{[$[0]]:$[1].data};if(j.actionData)return Object.keys(j.actionData).length===0?null:j.actionData}function Vn($){return $.forEach(ee=>{let be=j.fetchers.get(ee.key),Ae=Dc(void 0,be?be.data:void 0);j.fetchers.set(ee.key,Ae)}),new Map(j.fetchers)}async function yn($,ee,be,Ae){Gt($);let Fe=(Ae&&Ae.flushSync)===!0,tt=f||c,We=xy(j.location,j.matches,h,be,ee,Ae?.relative),He=qa(tt,We,h),Ke=wo(He,tt,We);if(Ke.active&&Ke.matches&&(He=Ke.matches),!He){En($,ee,Ti(404,{pathname:We}),{flushSync:Fe});return}let{path:Qe,submission:ot,error:it}=N1(!0,We,Ae);if(it){En($,ee,it,{flushSync:Fe});return}let vt=t.getContext?await t.getContext():new T1,Ot=(Ae&&Ae.preventScrollReset)===!0;if(ot&&gr(ot.formMethod)){await wn($,ee,Qe,He,vt,Ke.active,Fe,Ot,ot,Ae&&Ae.unstable_defaultShouldRevalidate);return}Ce.set($,{routeId:ee,path:Qe}),await Sr($,ee,Qe,He,vt,Ke.active,Fe,Ot,ot)}async function wn($,ee,be,Ae,Fe,tt,We,He,Ke,Qe){lt(),Ce.delete($);let ot=j.fetchers.get($);Sn($,Aj(Ke,ot),{flushSync:We});let it=new AbortController,vt=Ql(t.history,be,it.signal,Ke);if(tt){let Ct=await Cr(Ae,new URL(vt.url).pathname,vt.signal,$);if(Ct.type==="aborted")return;if(Ct.type==="error"){En($,ee,Ct.error,{flushSync:We});return}else if(Ct.matches)Ae=Ct.matches;else{En($,ee,Ti(404,{pathname:be}),{flushSync:We});return}}let Ot=nh(Ae,be);if(!Ot.route.action&&!Ot.route.lazy){let Ct=Ti(405,{method:Ke.formMethod,pathname:be,routeId:ee});En($,ee,Ct,{flushSync:We});return}V.set($,it);let Ut=ge,cn=nu(s,u,vt,Ae,Ot,i,Fe),sn=await qt(vt,cn,Fe,$),at=sn[Ot.route.id];if(!at){for(let Ct of cn)if(sn[Ct.route.id]){at=sn[Ct.route.id];break}}if(vt.signal.aborted){V.get($)===it&&V.delete($);return}if(Ie.has($)){if(Ns(at)||ai(at)){Sn($,Yo(void 0));return}}else{if(Ns(at))if(V.delete($),Se>Ut){Sn($,Yo(void 0));return}else return ne.add($),Sn($,Dc(Ke)),Bt(vt,at,!1,{fetcherSubmission:Ke,preventScrollReset:He});if(ai(at)){En($,ee,at.error);return}}let ln=j.navigation.location||j.location,vn=Ql(t.history,ln,it.signal),tn=f||c,Xn=j.navigation.state!=="idle"?qa(tn,j.navigation.location,h):j.matches;Et(Xn,"Didn't find any matches after fetcher action");let Qn=++ge;H.set($,Qn);let Er=Dc(Ke,at.data);j.fetchers.set($,Er);let{dsMatches:fr,revalidatingFetchers:ar}=I1(vn,Fe,s,u,t.history,j,Xn,Ke,ln,i,!1,B,W,Ie,Ce,ne,tn,h,t.patchRoutesOnNavigation!=null,[Ot.route.id,at],Qe);ar.filter(Ct=>Ct.key!==$).forEach(Ct=>{let Zr=Ct.key,ns=j.fetchers.get(Zr),ua=Dc(void 0,ns?ns.data:void 0);j.fetchers.set(Zr,ua),Gt(Zr),Ct.controller&&V.set(Zr,Ct.controller)}),Je({fetchers:new Map(j.fetchers)});let Qi=()=>ar.forEach(Ct=>Gt(Ct.key));it.signal.addEventListener("abort",Qi);let{loaderResults:mi,fetcherResults:Tt}=await Yn(fr,ar,vn,Fe);if(it.signal.aborted)return;if(it.signal.removeEventListener("abort",Qi),H.delete($),V.delete($),ar.forEach(Ct=>V.delete(Ct.key)),j.fetchers.has($)){let Ct=Yo(at.data);j.fetchers.set($,Ct)}let st=$f(mi);if(st)return Bt(vn,st.result,!1,{preventScrollReset:He});if(st=$f(Tt),st)return ne.add(st.key),Bt(vn,st.result,!1,{preventScrollReset:He});let{loaderData:jr,errors:jn}=U1(j,Xn,mi,void 0,ar,Tt);Qr(Qn),j.navigation.state==="loading"&&Qn>Se?(Et(U,"Expected pending action"),de&&de.abort(),ht(j.navigation.location,{matches:Xn,loaderData:jr,errors:jn,fetchers:new Map(j.fetchers)})):(Je({errors:jn,loaderData:$1(j.loaderData,jr,Xn,jn),fetchers:new Map(j.fetchers)}),B=!1)}async function Sr($,ee,be,Ae,Fe,tt,We,He,Ke){let Qe=j.fetchers.get($);Sn($,Dc(Ke,Qe?Qe.data:void 0),{flushSync:We});let ot=new AbortController,it=Ql(t.history,be,ot.signal);if(tt){let at=await Cr(Ae,new URL(it.url).pathname,it.signal,$);if(at.type==="aborted")return;if(at.type==="error"){En($,ee,at.error,{flushSync:We});return}else if(at.matches)Ae=at.matches;else{En($,ee,Ti(404,{pathname:be}),{flushSync:We});return}}let vt=nh(Ae,be);V.set($,ot);let Ot=ge,Ut=nu(s,u,it,Ae,vt,i,Fe),sn=(await qt(it,Ut,Fe,$))[vt.route.id];if(V.get($)===ot&&V.delete($),!it.signal.aborted){if(Ie.has($)){Sn($,Yo(void 0));return}if(Ns(sn))if(Se>Ot){Sn($,Yo(void 0));return}else{ne.add($),await Bt(it,sn,!1,{preventScrollReset:He});return}if(ai(sn)){En($,ee,sn.error);return}Sn($,Yo(sn.data))}}async function Bt($,ee,be,{submission:Ae,fetcherSubmission:Fe,preventScrollReset:tt,replace:We}={}){be||(ie?.resolve(),ie=null),ee.response.headers.has("X-Remix-Revalidate")&&(B=!0);let He=ee.response.headers.get("Location");Et(He,"Expected a Location header on the redirect Response"),He=F1(He,new URL($.url),h);let Ke=Jc(j.location,He,{_isRedirect:!0});if(n){let Ut=!1;if(ee.response.headers.has("X-Remix-Reload-Document"))Ut=!0;else if(up(He)){const cn=EE(He,!0);Ut=cn.origin!==e.location.origin||Di(cn.pathname,h)==null}if(Ut){We?e.location.replace(He):e.location.assign(He);return}}de=null;let Qe=We===!0||ee.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:ot,formAction:it,formEncType:vt}=j.navigation;!Ae&&!Fe&&ot&&it&&vt&&(Ae=G1(j.navigation));let Ot=Ae||Fe;if(sj.has(ee.response.status)&&Ot&&gr(Ot.formMethod))await gn(Qe,Ke,{submission:{...Ot,formAction:He},preventScrollReset:tt||se,enableViewTransition:be?me:void 0});else{let Ut=Lg(Ke,Ae);await gn(Qe,Ke,{overrideNavigation:Ut,fetcherSubmission:Fe,preventScrollReset:tt||se,enableViewTransition:be?me:void 0})}}async function qt($,ee,be,Ae){let Fe,tt={};try{Fe=await yj(g,$,ee,Ae,be,!1)}catch(We){return ee.filter(He=>He.shouldLoad).forEach(He=>{tt[He.route.id]={type:"error",error:We}}),tt}if($.signal.aborted)return tt;if(!gr($.method))for(let We of ee){if(Fe[We.route.id]?.type==="error")break;!Fe.hasOwnProperty(We.route.id)&&!j.loaderData.hasOwnProperty(We.route.id)&&(!j.errors||!j.errors.hasOwnProperty(We.route.id))&&We.shouldCallHandler()&&(Fe[We.route.id]={type:"error",result:new Error(`No result returned from dataStrategy for route ${We.route.id}`)})}for(let[We,He]of Object.entries(Fe))if(Tj(He)){let Ke=He.result;tt[We]={type:"redirect",response:wj(Ke,$,We,ee,h)}}else tt[We]=await xj(He);return tt}async function Yn($,ee,be,Ae){let Fe=qt(be,$,Ae,null),tt=Promise.all(ee.map(async Ke=>{if(Ke.matches&&Ke.match&&Ke.request&&Ke.controller){let ot=(await qt(Ke.request,Ke.matches,Ae,Ke.key))[Ke.match.route.id];return{[Ke.key]:ot}}else return Promise.resolve({[Ke.key]:{type:"error",error:Ti(404,{pathname:Ke.path})}})})),We=await Fe,He=(await tt).reduce((Ke,Qe)=>Object.assign(Ke,Qe),{});return{loaderResults:We,fetcherResults:He}}function lt(){B=!0,Ce.forEach(($,ee)=>{V.has(ee)&&W.add(ee),Gt(ee)})}function Sn($,ee,be={}){j.fetchers.set($,ee),Je({fetchers:new Map(j.fetchers)},{flushSync:(be&&be.flushSync)===!0})}function En($,ee,be,Ae={}){let Fe=Ga(j.matches,ee);on($),Je({errors:{[Fe.route.id]:be},fetchers:new Map(j.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function Dn($){return Ne.set($,(Ne.get($)||0)+1),Ie.has($)&&Ie.delete($),j.fetchers.get($)||lj}function Xr($,ee){Gt($,ee?.reason),Sn($,Yo(null))}function on($){let ee=j.fetchers.get($);V.has($)&&!(ee&&ee.state==="loading"&&H.has($))&&Gt($),Ce.delete($),H.delete($),ne.delete($),Ie.delete($),W.delete($),j.fetchers.delete($)}function Nr($){let ee=(Ne.get($)||0)-1;ee<=0?(Ne.delete($),Ie.add($)):Ne.set($,ee),Je({fetchers:new Map(j.fetchers)})}function Gt($,ee){let be=V.get($);be&&(be.abort(ee),V.delete($))}function At($){for(let ee of $){let be=Dn(ee),Ae=Yo(be.data);j.fetchers.set(ee,Ae)}}function Ge(){let $=[],ee=!1;for(let be of ne){let Ae=j.fetchers.get(be);Et(Ae,`Expected fetcher: ${be}`),Ae.state==="loading"&&(ne.delete(be),$.push(be),ee=!0)}return At($),ee}function Qr($){let ee=[];for(let[be,Ae]of H)if(Ae<$){let Fe=j.fetchers.get(be);Et(Fe,`Expected fetcher: ${be}`),Fe.state==="loading"&&(Gt(be),H.delete(be),ee.push(be))}return At(ee),ee.length>0}function Ir($,ee){let be=j.blockers.get($)||Rc;return qe.get($)!==ee&&qe.set($,ee),be}function zi($){j.blockers.delete($),qe.delete($)}function $e($,ee){let be=j.blockers.get($)||Rc;Et(be.state==="unblocked"&&ee.state==="blocked"||be.state==="blocked"&&ee.state==="blocked"||be.state==="blocked"&&ee.state==="proceeding"||be.state==="blocked"&&ee.state==="unblocked"||be.state==="proceeding"&&ee.state==="unblocked",`Invalid blocker state transition: ${be.state} -> ${ee.state}`);let Ae=new Map(j.blockers);Ae.set($,ee),Je({blockers:Ae})}function an({currentLocation:$,nextLocation:ee,historyAction:be}){if(qe.size===0)return;qe.size>1&&_n(!1,"A router only supports one blocker at a time");let Ae=Array.from(qe.entries()),[Fe,tt]=Ae[Ae.length-1],We=j.blockers.get(Fe);if(!(We&&We.state==="proceeding")&&tt({currentLocation:$,nextLocation:ee,historyAction:be}))return Fe}function Kn($){let ee=Ti(404,{pathname:$}),be=f||c,{matches:Ae,route:Fe}=Uf(be);return{notFoundMatches:Ae,route:Fe,error:ee}}function or($,ee,be){if(_=$,P=ee,E=be||null,!N&&j.navigation===zg){N=!0;let Ae=Qs(j.location,j.matches);Ae!=null&&Je({restoreScrollPosition:Ae})}return()=>{_=null,P=null,E=null}}function Xi($,ee){return E&&E($,ee.map(Ae=>I3(Ae,j.loaderData)))||$.key}function Li($,ee){if(_&&P){let be=Xi($,ee);_[be]=P()}}function Qs($,ee){if(_){let be=Xi($,ee),Ae=_[be];if(typeof Ae=="number")return Ae}return null}function wo($,ee,be){if(t.patchRoutesOnNavigation)if($){if(Object.keys($[0].params).length>0)return{active:!0,matches:Lc(ee,be,h,!0)}}else return{active:!0,matches:Lc(ee,be,h,!0)||[]};return{active:!1,matches:null}}async function Cr($,ee,be,Ae){if(!t.patchRoutesOnNavigation)return{type:"success",matches:$};let Fe=$;for(;;){let tt=f==null,We=f||c,He=u;try{await t.patchRoutesOnNavigation({signal:be,path:ee,matches:Fe,fetcherKey:Ae,patch:(ot,it)=>{be.aborted||j1(ot,it,We,He,s,!1)}})}catch(ot){return{type:"error",error:ot,partialMatches:Fe}}finally{tt&&!be.aborted&&(c=[...c])}if(be.aborted)return{type:"aborted"};let Ke=qa(We,ee,h),Qe=null;if(Ke){if(Object.keys(Ke[0].params).length===0)return{type:"success",matches:Ke};if(Qe=Lc(We,ee,h,!0),!(Qe&&Fe.length<Qe.length&&_r(Fe,Qe.slice(0,Fe.length))))return{type:"success",matches:Ke}}if(Qe||(Qe=Lc(We,ee,h,!0)),!Qe||_r(Fe,Qe))return{type:"success",matches:null};Fe=Qe}}function _r($,ee){return $.length===ee.length&&$.every((be,Ae)=>be.route.id===ee[Ae].route.id)}function ts($){u={},f=ed($,s,void 0,u)}function So($,ee,be=!1){let Ae=f==null;j1($,ee,f||c,u,s,be),Ae&&(c=[...c],Je({}))}return G={get basename(){return h},get future(){return y},get state(){return j},get routes(){return c},get window(){return e},initialize:De,subscribe:un,enableScrollRestoration:or,navigate:Ft,fetch:yn,revalidate:rn,createHref:$=>t.history.createHref($),encodeLocation:$=>t.history.encodeLocation($),getFetcher:Dn,resetFetcher:Xr,deleteFetcher:Nr,dispose:Jt,getBlocker:Ir,deleteBlocker:zi,patchRoutes:So,_internalFetchControllers:V,_internalSetRoutes:ts,_internalSetStateDoNotUseOrYouWillBreakYourApp($){Je($)}},t.unstable_instrumentations&&(G=J3(G,t.unstable_instrumentations.map($=>$.router).filter(Boolean))),G}function dj(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function xy(t,e,n,i,a,s){let u,c;if(a){u=[];for(let h of e)if(u.push(h),h.route.id===a){c=h;break}}else u=e,c=e[e.length-1];let f=dp(i||".",cp(u),Di(t.pathname,n)||t.pathname,s==="path");if(i==null&&(f.search=t.search,f.hash=t.hash),(i==null||i===""||i===".")&&c){let h=Jv(f.search);if(c.route.index&&!h)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&h){let g=new URLSearchParams(f.search),y=g.getAll("index");g.delete("index"),y.filter(w=>w).forEach(w=>g.append("index",w));let v=g.toString();f.search=v?`?${v}`:""}}return n!=="/"&&(f.pathname=Y3({basename:n,pathname:f.pathname})),mo(f)}function N1(t,e,n){if(!n||!dj(n))return{path:e};if(n.formMethod&&!Rj(n.formMethod))return{path:e,error:Ti(405,{method:n.formMethod})};let i=()=>({path:e,error:Ti(400,{type:"invalid-body"})}),s=(n.formMethod||"get").toUpperCase(),u=$E(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!gr(s))return i();let y=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,[w,_])=>`${v}${w}=${_}
`,""):String(n.body);return{path:e,submission:{formMethod:s,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:y}}}else if(n.formEncType==="application/json"){if(!gr(s))return i();try{let y=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:s,formAction:u,formEncType:n.formEncType,formData:void 0,json:y,text:void 0}}}catch{return i()}}}Et(typeof FormData=="function","FormData is not available in this environment");let c,f;if(n.formData)c=Cy(n.formData),f=n.formData;else if(n.body instanceof FormData)c=Cy(n.body),f=n.body;else if(n.body instanceof URLSearchParams)c=n.body,f=B1(c);else if(n.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(n.body),f=B1(c)}catch{return i()}let h={formMethod:s,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(gr(h.formMethod))return{path:e,submission:h};let g=sa(e);return t&&g.search&&Jv(g.search)&&c.append("index",""),g.search=`?${c}`,{path:mo(g),submission:h}}function I1(t,e,n,i,a,s,u,c,f,h,g,y,v,w,_,E,P,N,D,A,z){let L=A?ai(A[1])?A[1].error:A[1].data:void 0,G=a.createURL(s.location),j=a.createURL(f),U;if(g&&s.errors){let xe=Object.keys(s.errors)[0];U=u.findIndex(B=>B.route.id===xe)}else if(A&&ai(A[1])){let xe=A[0];U=u.findIndex(B=>B.route.id===xe)-1}let ie=A?A[1].statusCode:void 0,se=ie&&ie>=400,de={currentUrl:G,currentParams:s.matches[0]?.params||{},nextUrl:j,nextParams:u[0].params,...c,actionResult:L,actionStatus:ie},me=pd(u),Ee=u.map((xe,B)=>{let{route:W}=xe,V=null;if(U!=null&&B>U?V=!1:W.lazy?V=!0:Qv(W)?g?V=wy(W,s.loaderData,s.errors):fj(s.loaderData,s.matches[B],xe)&&(V=!0):V=!1,V!==null)return Sy(n,i,t,me,xe,h,e,V);let ge=!1;typeof z=="boolean"?ge=z:se?ge=!1:(y||G.pathname+G.search===j.pathname+j.search||G.search!==j.search||hj(s.matches[B],xe))&&(ge=!0);let Se={...de,defaultShouldRevalidate:ge},H=Hc(xe,Se);return Sy(n,i,t,me,xe,h,e,H,Se,z)}),ce=[];return _.forEach((xe,B)=>{if(g||!u.some(Ne=>Ne.route.id===xe.routeId)||w.has(B))return;let W=s.fetchers.get(B),V=W&&W.state!=="idle"&&W.data===void 0,ge=qa(P,xe.path,N);if(!ge){if(D&&V)return;ce.push({key:B,routeId:xe.routeId,path:xe.path,matches:null,match:null,request:null,controller:null});return}if(E.has(B))return;let Se=nh(ge,xe.path),H=new AbortController,ne=Ql(a,xe.path,H.signal),Ce=null;if(v.has(B))v.delete(B),Ce=nu(n,i,ne,ge,Se,h,e);else if(V)y&&(Ce=nu(n,i,ne,ge,Se,h,e));else{let Ne;typeof z=="boolean"?Ne=z:se?Ne=!1:Ne=y;let Ie={...de,defaultShouldRevalidate:Ne};Hc(Se,Ie)&&(Ce=nu(n,i,ne,ge,Se,h,e,Ie))}Ce&&ce.push({key:B,routeId:xe.routeId,path:xe.path,matches:Ce,match:Se,request:ne,controller:H})}),{dsMatches:Ee,revalidatingFetchers:ce}}function Qv(t){return t.loader!=null||t.middleware!=null&&t.middleware.length>0}function wy(t,e,n){if(t.lazy)return!0;if(!Qv(t))return!1;let i=e!=null&&t.id in e,a=n!=null&&n[t.id]!==void 0;return!i&&a?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!i&&!a}function fj(t,e,n){let i=!e||n.route.id!==e.route.id,a=!t.hasOwnProperty(n.route.id);return i||a}function hj(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Hc(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function j1(t,e,n,i,a,s){let u;if(t){let h=i[t];Et(h,`No route found to patch children into: routeId = ${t}`),h.children||(h.children=[]),u=h.children}else u=n;let c=[],f=[];if(e.forEach(h=>{let g=u.find(y=>zE(h,y));g?f.push({existingRoute:g,newRoute:h}):c.push(h)}),c.length>0){let h=ed(c,a,[t||"_","patch",String(u?.length||"0")],i);u.push(...h)}if(s&&f.length>0)for(let h=0;h<f.length;h++){let{existingRoute:g,newRoute:y}=f[h],v=g,[w]=ed([y],a,[],{},!0);Object.assign(v,{element:w.element?w.element:v.element,errorElement:w.errorElement?w.errorElement:v.errorElement,hydrateFallbackElement:w.hydrateFallbackElement?w.hydrateFallbackElement:v.hydrateFallbackElement})}}function zE(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,i)=>e.children?.some(a=>zE(n,a))):!1}var k1=new WeakMap,LE=({key:t,route:e,manifest:n,mapRouteProperties:i})=>{let a=n[e.id];if(Et(a,"No route found in manifest"),!a.lazy||typeof a.lazy!="object")return;let s=a.lazy[t];if(!s)return;let u=k1.get(a);u||(u={},k1.set(a,u));let c=u[t];if(c)return c;let f=(async()=>{let h=R3(t),y=a[t]!==void 0&&t!=="hasErrorBoundary";if(h)_n(!h,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(y)_n(!1,`Route "${a.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let v=await s();v!=null&&(Object.assign(a,{[t]:v}),Object.assign(a,i(a)))}typeof a.lazy=="object"&&(a.lazy[t]=void 0,Object.values(a.lazy).every(v=>v===void 0)&&(a.lazy=void 0))})();return u[t]=f,f},z1=new WeakMap;function pj(t,e,n,i,a){let s=n[t.id];if(Et(s,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let g=z1.get(s);if(g)return{lazyRoutePromise:g,lazyHandlerPromise:g};let y=(async()=>{Et(typeof t.lazy=="function","No lazy route function found");let v=await t.lazy(),w={};for(let _ in v){let E=v[_];if(E===void 0)continue;let P=A3(_),D=s[_]!==void 0&&_!=="hasErrorBoundary";P?_n(!P,"Route property "+_+" is not a supported property to be returned from a lazy route function. This property will be ignored."):D?_n(!D,`Route "${s.id}" has a static property "${_}" defined but its lazy function is also returning a value for this property. The lazy route property "${_}" will be ignored.`):w[_]=E}Object.assign(s,w),Object.assign(s,{...i(s),lazy:void 0})})();return z1.set(s,y),y.catch(()=>{}),{lazyRoutePromise:y,lazyHandlerPromise:y}}let u=Object.keys(t.lazy),c=[],f;for(let g of u){if(a&&a.includes(g))continue;let y=LE({key:g,route:t,manifest:n,mapRouteProperties:i});y&&(c.push(y),g===e&&(f=y))}let h=c.length>0?Promise.all(c).then(()=>{}):void 0;return h?.catch(()=>{}),f?.catch(()=>{}),{lazyRoutePromise:h,lazyHandlerPromise:f}}async function L1(t){let e=t.matches.filter(a=>a.shouldLoad),n={};return(await Promise.all(e.map(a=>a.resolve()))).forEach((a,s)=>{n[e[s].route.id]=a}),n}async function mj(t){return t.matches.some(e=>e.route.middleware)?FE(t,()=>L1(t)):L1(t)}function FE(t,e){return gj(t,e,i=>{if(Pj(i))throw i;return i},Ej,n);function n(i,a,s){if(s)return Promise.resolve(Object.assign(s.value,{[a]:{type:"error",result:i}}));{let{matches:u}=t,c=Math.min(Math.max(u.findIndex(h=>h.route.id===a),0),Math.max(u.findIndex(h=>h.shouldCallHandler()),0)),f=Ga(u,u[c].route.id).route.id;return Promise.resolve({[f]:{type:"error",result:i}})}}}async function gj(t,e,n,i,a){let{matches:s,request:u,params:c,context:f,unstable_pattern:h}=t,g=s.flatMap(v=>v.route.middleware?v.route.middleware.map(w=>[v.route.id,w]):[]);return await BE({request:u,params:c,context:f,unstable_pattern:h},g,e,n,i,a)}async function BE(t,e,n,i,a,s,u=0){let{request:c}=t;if(c.signal.aborted)throw c.signal.reason??new Error(`Request aborted: ${c.method} ${c.url}`);let f=e[u];if(!f)return await n();let[h,g]=f,y,v=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");try{return y={value:await BE(t,e,n,i,a,s,u+1)},y.value}catch(w){return y={value:await s(w,h,y)},y.value}};try{let w=await g(t,v),_=w!=null?i(w):void 0;return a(_)?_:y?_??y.value:(y={value:await v()},y.value)}catch(w){return await s(w,h,y)}}function UE(t,e,n,i,a){let s=LE({key:"middleware",route:i.route,manifest:e,mapRouteProperties:t}),u=pj(i.route,gr(n.method)?"action":"loader",e,t,a);return{middleware:s,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function Sy(t,e,n,i,a,s,u,c,f=null,h){let g=!1,y=UE(t,e,n,a,s);return{...a,_lazyPromises:y,shouldLoad:c,shouldRevalidateArgs:f,shouldCallHandler(v){return g=!0,f?typeof h=="boolean"?Hc(a,{...f,defaultShouldRevalidate:h}):typeof v=="boolean"?Hc(a,{...f,defaultShouldRevalidate:v}):Hc(a,f):c},resolve(v){let{lazy:w,loader:_,middleware:E}=a.route,P=g||c||v&&!gr(n.method)&&(w||_),N=E&&E.length>0&&!_&&!w;return P&&(gr(n.method)||!N)?vj({request:n,unstable_pattern:i,match:a,lazyHandlerPromise:y?.handler,lazyRoutePromise:y?.route,handlerOverride:v,scopedContext:u}):Promise.resolve({type:"data",result:void 0})}}}function nu(t,e,n,i,a,s,u,c=null){return i.map(f=>f.route.id!==a.route.id?{...f,shouldLoad:!1,shouldRevalidateArgs:c,shouldCallHandler:()=>!1,_lazyPromises:UE(t,e,n,f,s),resolve:()=>Promise.resolve({type:"data",result:void 0})}:Sy(t,e,n,pd(i),f,s,u,!0,c))}async function yj(t,e,n,i,a,s){n.some(h=>h._lazyPromises?.middleware)&&await Promise.all(n.map(h=>h._lazyPromises?.middleware));let u={request:e,unstable_pattern:pd(n),params:n[0].params,context:a,matches:n},f=await t({...u,fetcherKey:i,runClientMiddleware:h=>{let g=u;return FE(g,()=>h({...g,fetcherKey:i,runClientMiddleware:()=>{throw new Error("Cannot call `runClientMiddleware()` from within an `runClientMiddleware` handler")}}))}});try{await Promise.all(n.flatMap(h=>[h._lazyPromises?.handler,h._lazyPromises?.route]))}catch{}return f}async function vj({request:t,unstable_pattern:e,match:n,lazyHandlerPromise:i,lazyRoutePromise:a,handlerOverride:s,scopedContext:u}){let c,f,h=gr(t.method),g=h?"action":"loader",y=v=>{let w,_=new Promise((N,D)=>w=D);f=()=>w(),t.signal.addEventListener("abort",f);let E=N=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${g}" [routeId: ${n.route.id}]`)):v({request:t,unstable_pattern:e,params:n.params,context:u},...N!==void 0?[N]:[]),P=(async()=>{try{return{type:"data",result:await(s?s(D=>E(D)):E())}}catch(N){return{type:"error",result:N}}})();return Promise.race([P,_])};try{let v=h?n.route.action:n.route.loader;if(i||a)if(v){let w,[_]=await Promise.all([y(v).catch(E=>{w=E}),i,a]);if(w!==void 0)throw w;c=_}else{await i;let w=h?n.route.action:n.route.loader;if(w)[c]=await Promise.all([y(w),a]);else if(g==="action"){let _=new URL(t.url),E=_.pathname+_.search;throw Ti(405,{method:t.method,pathname:E,routeId:n.route.id})}else return{type:"data",result:void 0}}else if(v)c=await y(v);else{let w=new URL(t.url),_=w.pathname+w.search;throw Ti(404,{pathname:_})}}catch(v){return{type:"error",result:v}}finally{f&&t.signal.removeEventListener("abort",f)}return c}async function bj(t){let e=t.headers.get("Content-Type");return e&&/\bapplication\/json\b/.test(e)?t.body==null?null:t.json():t.text()}async function xj(t){let{result:e,type:n}=t;if(Zv(e)){let i;try{i=await bj(e)}catch(a){return{type:"error",error:a}}return n==="error"?{type:"error",error:new hd(e.status,e.statusText,i),statusCode:e.status,headers:e.headers}:{type:"data",data:i,statusCode:e.status,headers:e.headers}}return n==="error"?q1(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:_j(e),statusCode:td(e)?e.status:void 0,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:td(e)?e.status:void 0}:q1(e)?{type:"data",data:e.data,statusCode:e.init?.status,headers:e.init?.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function wj(t,e,n,i,a){let s=t.headers.get("Location");if(Et(s,"Redirects returned/thrown from loaders/actions must have a Location header"),!up(s)){let u=i.slice(0,i.findIndex(c=>c.route.id===n)+1);s=xy(new URL(e.url),u,a,s),t.headers.set("Location",s)}return t}function F1(t,e,n){if(up(t)){let i=t,a=i.startsWith("//")?new URL(e.protocol+i):new URL(i),s=Di(a.pathname,n)!=null;if(a.origin===e.origin&&s)return a.pathname+a.search+a.hash}return t}function Ql(t,e,n,i){let a=t.createURL($E(e)).toString(),s={signal:n};if(i&&gr(i.formMethod)){let{formMethod:u,formEncType:c}=i;s.method=u.toUpperCase(),c==="application/json"?(s.headers=new Headers({"Content-Type":c}),s.body=JSON.stringify(i.json)):c==="text/plain"?s.body=i.text:c==="application/x-www-form-urlencoded"&&i.formData?s.body=Cy(i.formData):s.body=i.formData}return new Request(a,s)}function Cy(t){let e=new URLSearchParams;for(let[n,i]of t.entries())e.append(n,typeof i=="string"?i:i.name);return e}function B1(t){let e=new FormData;for(let[n,i]of t.entries())e.append(n,i);return e}function Sj(t,e,n,i=!1,a=!1){let s={},u=null,c,f=!1,h={},g=n&&ai(n[1])?n[1].error:void 0;return t.forEach(y=>{if(!(y.route.id in e))return;let v=y.route.id,w=e[v];if(Et(!Ns(w),"Cannot handle redirect results in processLoaderData"),ai(w)){let _=w.error;if(g!==void 0&&(_=g,g=void 0),u=u||{},a)u[v]=_;else{let E=Ga(t,v);u[E.route.id]==null&&(u[E.route.id]=_)}i||(s[v]=kE),f||(f=!0,c=td(w.error)?w.error.status:500),w.headers&&(h[v]=w.headers)}else s[v]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(c=w.statusCode),w.headers&&(h[v]=w.headers)}),g!==void 0&&n&&(u={[n[0]]:g},n[2]&&(s[n[2]]=void 0)),{loaderData:s,errors:u,statusCode:c||200,loaderHeaders:h}}function U1(t,e,n,i,a,s){let{loaderData:u,errors:c}=Sj(e,n,i);return a.filter(f=>!f.matches||f.matches.some(h=>h.shouldLoad)).forEach(f=>{let{key:h,match:g,controller:y}=f;if(y&&y.signal.aborted)return;let v=s[h];if(Et(v,"Did not find corresponding fetcher result"),ai(v)){let w=Ga(t.matches,g?.route.id);c&&c[w.route.id]||(c={...c,[w.route.id]:v.error}),t.fetchers.delete(h)}else if(Ns(v))Et(!1,"Unhandled fetcher revalidation redirect");else{let w=Yo(v.data);t.fetchers.set(h,w)}}),{loaderData:u,errors:c}}function $1(t,e,n,i){let a=Object.entries(e).filter(([,s])=>s!==kE).reduce((s,[u,c])=>(s[u]=c,s),{});for(let s of n){let u=s.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&s.route.loader&&(a[u]=t[u]),i&&i.hasOwnProperty(u))break}return a}function H1(t){return t?ai(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Ga(t,e){return(e?t.slice(0,t.findIndex(i=>i.route.id===e)+1):[...t]).reverse().find(i=>i.route.hasErrorBoundary===!0)||t[0]}function Uf(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Ti(t,{pathname:e,routeId:n,method:i,type:a,message:s}={}){let u="Unknown Server Error",c="Unknown @remix-run/router error";return t===400?(u="Bad Request",i&&e&&n?c=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:a==="invalid-body"&&(c="Unable to encode submission body")):t===403?(u="Forbidden",c=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",c=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",i&&e&&n?c=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:i&&(c=`Invalid request method "${i.toUpperCase()}"`)),new hd(t||500,u,new Error(c),!0)}function $f(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[i,a]=e[n];if(Ns(a))return{key:i,result:a}}}function $E(t){let e=typeof t=="string"?sa(t):t;return mo({...e,hash:""})}function Cj(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function _j(t){return new hd(t.init?.status??500,t.init?.statusText??"Internal Server Error",t.data)}function Ej(t){return t!=null&&typeof t=="object"&&Object.entries(t).every(([e,n])=>typeof e=="string"&&Oj(n))}function Oj(t){return t!=null&&typeof t=="object"&&"type"in t&&"result"in t&&(t.type==="data"||t.type==="error")}function Tj(t){return Zv(t.result)&&IE.has(t.result.status)}function ai(t){return t.type==="error"}function Ns(t){return(t&&t.type)==="redirect"}function q1(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function Zv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function Mj(t){return IE.has(t)}function Pj(t){return Zv(t)&&Mj(t.status)&&t.headers.has("Location")}function Rj(t){return aj.has(t.toUpperCase())}function gr(t){return ij.has(t.toUpperCase())}function Jv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function nh(t,e){let n=typeof e=="string"?sa(e).search:e.search;if(t[t.length-1].route.index&&Jv(n||""))return t[t.length-1];let i=PE(t);return i[i.length-1]}function G1(t){let{formMethod:e,formAction:n,formEncType:i,text:a,formData:s,json:u}=t;if(!(!e||!n||!i)){if(a!=null)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:void 0,text:a};if(s!=null)return{formMethod:e,formAction:n,formEncType:i,formData:s,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:i,formData:void 0,json:u,text:void 0}}}function Lg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Dj(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Dc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function Aj(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Yo(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function Nj(t,e){try{let n=t.sessionStorage.getItem(jE);if(n){let i=JSON.parse(n);for(let[a,s]of Object.entries(i||{}))s&&Array.isArray(s)&&e.set(a,new Set(s||[]))}}catch{}}function Ij(t,e){if(e.size>0){let n={};for(let[i,a]of e)n[i]=[...a];try{t.sessionStorage.setItem(jE,JSON.stringify(n))}catch(i){_n(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function V1(){let t,e,n=new Promise((i,a)=>{t=async s=>{i(s);try{await n}catch{}},e=async s=>{a(s);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ys=S.createContext(null);Ys.displayName="DataRouter";var md=S.createContext(null);md.displayName="DataRouterState";var HE=S.createContext(!1);function jj(){return S.useContext(HE)}var e0=S.createContext({isTransitioning:!1});e0.displayName="ViewTransition";var qE=S.createContext(new Map);qE.displayName="Fetchers";var kj=S.createContext(null);kj.displayName="Await";var pi=S.createContext(null);pi.displayName="Navigation";var fp=S.createContext(null);fp.displayName="Location";var Wi=S.createContext({outlet:null,matches:[],isDataRoute:!1});Wi.displayName="Route";var t0=S.createContext(null);t0.displayName="RouteError";var GE="REACT_ROUTER_ERROR",zj="REDIRECT",Lj="ROUTE_ERROR_RESPONSE";function Fj(t){if(t.startsWith(`${GE}:${zj}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Bj(t){if(t.startsWith(`${GE}:${Lj}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new hd(e.status,e.statusText,e.data)}catch{}}function Uj(t,{relative:e}={}){Et(Ou(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=S.useContext(pi),{hash:a,pathname:s,search:u}=yd(t,{relative:e}),c=s;return n!=="/"&&(c=s==="/"?n:fo([n,s])),i.createHref({pathname:c,search:u,hash:a})}function Ou(){return S.useContext(fp)!=null}function vo(){return Et(Ou(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(fp).location}var VE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function YE(t){S.useContext(pi).static||S.useLayoutEffect(t)}function gd(){let{isDataRoute:t}=S.useContext(Wi);return t?nk():$j()}function $j(){Et(Ou(),"useNavigate() may be used only in the context of a <Router> component.");let t=S.useContext(Ys),{basename:e,navigator:n}=S.useContext(pi),{matches:i}=S.useContext(Wi),{pathname:a}=vo(),s=JSON.stringify(cp(i)),u=S.useRef(!1);return YE(()=>{u.current=!0}),S.useCallback((f,h={})=>{if(_n(u.current,VE),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=dp(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:fo([e,g.pathname])),(h.replace?n.replace:n.push)(g,h.state,h)},[e,n,s,a,t])}var Hj=S.createContext(null);function qj(t){let e=S.useContext(Wi).outlet;return S.useMemo(()=>e&&S.createElement(Hj.Provider,{value:t},e),[e,t])}function yd(t,{relative:e}={}){let{matches:n}=S.useContext(Wi),{pathname:i}=vo(),a=JSON.stringify(cp(n));return S.useMemo(()=>dp(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function Gj(t,e,n,i,a){Et(Ou(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=S.useContext(pi),{matches:u}=S.useContext(Wi),c=u[u.length-1],f=c?c.params:{},h=c?c.pathname:"/",g=c?c.pathnameBase:"/",y=c&&c.route;{let D=y&&y.path||"";WE(h,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=vo(),w;w=v;let _=w.pathname||"/",E=_;if(g!=="/"){let D=g.replace(/^\//,"").split("/");E="/"+_.replace(/^\//,"").split("/").slice(D.length).join("/")}let P=qa(t,{pathname:E});return _n(y||P!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),_n(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),Xj(P&&P.map(D=>Object.assign({},D,{params:Object.assign({},f,D.params),pathname:fo([g,s.encodeLocation?s.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:fo([g,s.encodeLocation?s.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,n,i,a)}function Vj(){let t=tk(),e=td(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:s},"ErrorBoundary")," or"," ",S.createElement("code",{style:s},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},e),n?S.createElement("pre",{style:a},n):null,u)}var Yj=S.createElement(Vj,null),KE=class extends S.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Bj(t.digest);n&&(t=n)}let e=t!==void 0?S.createElement(Wi.Provider,{value:this.props.routeContext},S.createElement(t0.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?S.createElement(Kj,{error:t},e):e}};KE.contextType=HE;var Fg=new WeakMap;function Kj({children:t,error:e}){let{basename:n}=S.useContext(pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=Fj(e.digest);if(i){let a=Fg.get(e);if(a)throw a;let s=DE(i.location,n);if(RE&&!Fg.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw Fg.set(e,u),u}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return t}function Wj({routeContext:t,match:e,children:n}){let i=S.useContext(Ys);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),S.createElement(Wi.Provider,{value:t},n)}function Xj(t,e=[],n=null,i=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,u=n?.errors;if(u!=null){let g=s.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);Et(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),s=s.slice(0,Math.min(s.length,g+1))}let c=!1,f=-1;if(n)for(let g=0;g<s.length;g++){let y=s[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:v,errors:w}=n,_=y.route.loader&&!v.hasOwnProperty(y.route.id)&&(!w||w[y.route.id]===void 0);if(y.route.lazy||_){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}let h=n&&i?(g,y)=>{i(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:pd(n.matches),errorInfo:y})}:void 0;return s.reduceRight((g,y,v)=>{let w,_=!1,E=null,P=null;n&&(w=u&&y.route.id?u[y.route.id]:void 0,E=y.route.errorElement||Yj,c&&(f<0&&v===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,P=null):f===v&&(_=!0,P=y.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,v+1)),D=()=>{let A;return w?A=E:_?A=P:y.route.Component?A=S.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=g,S.createElement(Wj,{match:y,routeContext:{outlet:g,matches:N,isDataRoute:n!=null},children:A})};return n&&(y.route.ErrorBoundary||y.route.errorElement||v===0)?S.createElement(KE,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:D(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):D()},null)}function n0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Qj(t){let e=S.useContext(Ys);return Et(e,n0(t)),e}function Zj(t){let e=S.useContext(md);return Et(e,n0(t)),e}function Jj(t){let e=S.useContext(Wi);return Et(e,n0(t)),e}function r0(t){let e=Jj(t),n=e.matches[e.matches.length-1];return Et(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function ek(){return r0("useRouteId")}function tk(){let t=S.useContext(t0),e=Zj("useRouteError"),n=r0("useRouteError");return t!==void 0?t:e.errors?.[n]}function nk(){let{router:t}=Qj("useNavigate"),e=r0("useNavigate"),n=S.useRef(!1);return YE(()=>{n.current=!0}),S.useCallback(async(a,s={})=>{_n(n.current,VE),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var Y1={};function WE(t,e,n){!e&&!Y1[t]&&(Y1[t]=!0,_n(!1,n))}var K1={};function W1(t,e){!t&&!K1[e]&&(K1[e]=!0,console.warn(e))}var rk="useOptimistic",X1=Iy[rk],ik=()=>{};function ok(t){return X1?X1(t):[t,ik]}function ak(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&_n(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:S.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&_n(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:S.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&_n(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:S.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var sk=["HydrateFallback","hydrateFallbackElement"],lk=class{constructor(){this.status="pending",this.promise=new Promise((t,e)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",e(n))}})}};function uk({router:t,flushSync:e,onError:n,unstable_useTransitions:i}){i=jj()||i;let[s,u]=S.useState(t.state),[c,f]=ok(s),[h,g]=S.useState(),[y,v]=S.useState({isTransitioning:!1}),[w,_]=S.useState(),[E,P]=S.useState(),[N,D]=S.useState(),A=S.useRef(new Map),z=S.useCallback((U,{deletedFetchers:ie,newErrors:se,flushSync:de,viewTransitionOpts:me})=>{se&&n&&Object.values(se).forEach(ce=>n(ce,{location:U.location,params:U.matches[0]?.params??{},unstable_pattern:pd(U.matches)})),U.fetchers.forEach((ce,xe)=>{ce.data!==void 0&&A.current.set(xe,ce.data)}),ie.forEach(ce=>A.current.delete(ce)),W1(de===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let Ee=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(W1(me==null||Ee,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!me||!Ee){e&&de?e(()=>u(U)):i===!1?u(U):S.startTransition(()=>{i===!0&&f(ce=>Q1(ce,U)),u(U)});return}if(e&&de){e(()=>{E&&(w?.resolve(),E.skipTransition()),v({isTransitioning:!0,flushSync:!0,currentLocation:me.currentLocation,nextLocation:me.nextLocation})});let ce=t.window.document.startViewTransition(()=>{e(()=>u(U))});ce.finished.finally(()=>{e(()=>{_(void 0),P(void 0),g(void 0),v({isTransitioning:!1})})}),e(()=>P(ce));return}E?(w?.resolve(),E.skipTransition(),D({state:U,currentLocation:me.currentLocation,nextLocation:me.nextLocation})):(g(U),v({isTransitioning:!0,flushSync:!1,currentLocation:me.currentLocation,nextLocation:me.nextLocation}))},[t.window,e,E,w,i,f,n]);S.useLayoutEffect(()=>t.subscribe(z),[t,z]),S.useEffect(()=>{y.isTransitioning&&!y.flushSync&&_(new lk)},[y]),S.useEffect(()=>{if(w&&h&&t.window){let U=h,ie=w.promise,se=t.window.document.startViewTransition(async()=>{i===!1?u(U):S.startTransition(()=>{i===!0&&f(de=>Q1(de,U)),u(U)}),await ie});se.finished.finally(()=>{_(void 0),P(void 0),g(void 0),v({isTransitioning:!1})}),P(se)}},[h,w,t.window,i,f]),S.useEffect(()=>{w&&h&&c.location.key===h.location.key&&w.resolve()},[w,E,c.location,h]),S.useEffect(()=>{!y.isTransitioning&&N&&(g(N.state),v({isTransitioning:!0,flushSync:!1,currentLocation:N.currentLocation,nextLocation:N.nextLocation}),D(void 0))},[y.isTransitioning,N]);let L=S.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:U=>t.navigate(U),push:(U,ie,se)=>t.navigate(U,{state:ie,preventScrollReset:se?.preventScrollReset}),replace:(U,ie,se)=>t.navigate(U,{replace:!0,state:ie,preventScrollReset:se?.preventScrollReset})}),[t]),G=t.basename||"/",j=S.useMemo(()=>({router:t,navigator:L,static:!1,basename:G,onError:n}),[t,L,G,n]);return S.createElement(S.Fragment,null,S.createElement(Ys.Provider,{value:j},S.createElement(md.Provider,{value:c},S.createElement(qE.Provider,{value:A.current},S.createElement(e0.Provider,{value:y},S.createElement(hk,{basename:G,location:c.location,navigationType:c.historyAction,navigator:L,unstable_useTransitions:i},S.createElement(ck,{routes:t.routes,future:t.future,state:c,onError:n})))))),null)}function Q1(t,e){return{...t,navigation:e.navigation.state!=="idle"?e.navigation:t.navigation,revalidation:e.revalidation!=="idle"?e.revalidation:t.revalidation,actionData:e.navigation.state!=="submitting"?e.actionData:t.actionData,fetchers:e.fetchers}}var ck=S.memo(dk);function dk({routes:t,future:e,state:n,onError:i}){return Gj(t,void 0,n,i,e)}function fk({to:t,replace:e,state:n,relative:i}){Et(Ou(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=S.useContext(pi);_n(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=S.useContext(Wi),{pathname:u}=vo(),c=gd(),f=dp(t,cp(s),u,i==="path"),h=JSON.stringify(f);return S.useEffect(()=>{c(JSON.parse(h),{replace:e,state:n,relative:i})},[c,h,i,e,n]),null}function XE(t){return qj(t.context)}function hk({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:s=!1,unstable_useTransitions:u}){Et(!Ou(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:c,navigator:a,static:s,unstable_useTransitions:u,future:{}}),[c,a,s,u]);typeof n=="string"&&(n=sa(n));let{pathname:h="/",search:g="",hash:y="",state:v=null,key:w="default"}=n,_=S.useMemo(()=>{let E=Di(h,c);return E==null?null:{location:{pathname:E,search:g,hash:y,state:v,key:w},navigationType:i}},[c,h,g,y,v,w,i]);return _n(_!=null,`<Router basename="${c}"> is not able to match the URL "${h}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),_==null?null:S.createElement(pi.Provider,{value:f},S.createElement(fp.Provider,{children:e,value:_}))}var rh="get",ih="application/x-www-form-urlencoded";function hp(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function pk(t){return hp(t)&&t.tagName.toLowerCase()==="button"}function mk(t){return hp(t)&&t.tagName.toLowerCase()==="form"}function gk(t){return hp(t)&&t.tagName.toLowerCase()==="input"}function yk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vk(t,e){return t.button===0&&(!e||e==="_self")&&!yk(t)}var Hf=null;function bk(){if(Hf===null)try{new FormData(document.createElement("form"),0),Hf=!1}catch{Hf=!0}return Hf}var xk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Bg(t){return t!=null&&!xk.has(t)?(_n(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):t}function wk(t,e){let n,i,a,s,u;if(mk(t)){let c=t.getAttribute("action");i=c?Di(c,e):null,n=t.getAttribute("method")||rh,a=Bg(t.getAttribute("enctype"))||ih,s=new FormData(t)}else if(pk(t)||gk(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||c.getAttribute("action");if(i=f?Di(f,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||rh,a=Bg(t.getAttribute("formenctype"))||Bg(c.getAttribute("enctype"))||ih,s=new FormData(c,t),!bk()){let{name:h,type:g,value:y}=t;if(g==="image"){let v=h?`${h}.`:"";s.append(`${v}x`,"0"),s.append(`${v}y`,"0")}else h&&s.append(h,y)}}else{if(hp(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,i=null,a=ih,u=t}return s&&a==="text/plain"&&(u=s,s=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:s,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function i0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sk(t,e,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return i.pathname==="/"?i.pathname=`_root.${n}`:e&&Di(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function Ck(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _k(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Ek(t,e,n){let i=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let u=await Ck(s,n);return u.links?u.links():[]}return[]}));return Pk(i.flat(1).filter(_k).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Z1(t,e,n,i,a,s){let u=(f,h)=>n[h]?f.route.id!==n[h].route.id:!0,c=(f,h)=>n[h].pathname!==f.pathname||n[h].route.path?.endsWith("*")&&n[h].params["*"]!==f.params["*"];return s==="assets"?e.filter((f,h)=>u(f,h)||c(f,h)):s==="data"?e.filter((f,h)=>{let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let y=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Ok(t,e,{includeHydrateFallback:n}={}){return Tk(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function Tk(t){return[...new Set(t)]}function Mk(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Pk(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let s=JSON.stringify(Mk(a));return n.has(s)||(n.add(s),i.push({key:s,link:a})),i},[])}function QE(){let t=S.useContext(Ys);return i0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Rk(){let t=S.useContext(md);return i0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var o0=S.createContext(void 0);o0.displayName="FrameworkContext";function ZE(){let t=S.useContext(o0);return i0(t,"You must render this element inside a <HydratedRouter> element"),t}function Dk(t,e){let n=S.useContext(o0),[i,a]=S.useState(!1),[s,u]=S.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:g,onTouchStart:y}=e,v=S.useRef(null);S.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let E=N=>{N.forEach(D=>{u(D.isIntersecting)})},P=new IntersectionObserver(E,{threshold:.5});return v.current&&P.observe(v.current),()=>{P.disconnect()}}},[t]),S.useEffect(()=>{if(i){let E=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(E)}}},[i]);let w=()=>{a(!0)},_=()=>{a(!1),u(!1)};return n?t!=="intent"?[s,v,{}]:[s,v,{onFocus:Ac(c,w),onBlur:Ac(f,_),onMouseEnter:Ac(h,w),onMouseLeave:Ac(g,_),onTouchStart:Ac(y,w)}]:[!1,v,{}]}function Ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function Ak({page:t,...e}){let{router:n}=QE(),i=S.useMemo(()=>qa(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?S.createElement(Ik,{page:t,matches:i,...e}):null}function Nk(t){let{manifest:e,routeModules:n}=ZE(),[i,a]=S.useState([]);return S.useEffect(()=>{let s=!1;return Ek(t,e,n).then(u=>{s||a(u)}),()=>{s=!0}},[t,e,n]),i}function Ik({page:t,matches:e,...n}){let i=vo(),{manifest:a,routeModules:s}=ZE(),{basename:u}=QE(),{loaderData:c,matches:f}=Rk(),h=S.useMemo(()=>Z1(t,e,f,a,i,"data"),[t,e,f,a,i]),g=S.useMemo(()=>Z1(t,e,f,a,i,"assets"),[t,e,f,a,i]),y=S.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let _=new Set,E=!1;if(e.forEach(N=>{let D=a.routes[N.route.id];!D||!D.hasLoader||(!h.some(A=>A.route.id===N.route.id)&&N.route.id in c&&s[N.route.id]?.shouldRevalidate||D.hasClientLoader?E=!0:_.add(N.route.id))}),_.size===0)return[];let P=Sk(t,u,"data");return E&&_.size>0&&P.searchParams.set("_routes",e.filter(N=>_.has(N.route.id)).map(N=>N.route.id).join(",")),[P.pathname+P.search]},[u,c,i,a,h,e,t,s]),v=S.useMemo(()=>Ok(g,a),[g,a]),w=Nk(g);return S.createElement(S.Fragment,null,y.map(_=>S.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...n})),v.map(_=>S.createElement("link",{key:_,rel:"modulepreload",href:_,...n})),w.map(({key:_,link:E})=>S.createElement("link",{key:_,nonce:n.nonce,...E})))}function jk(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var kk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kk&&(window.__reactRouterVersion="7.11.0")}catch{}function zk(t,e){return cj({basename:e?.basename,getContext:e?.getContext,future:e?.future,history:O3({window:e?.window}),hydrationData:Lk(),routes:t,mapRouteProperties:ak,hydrationRouteProperties:sk,dataStrategy:e?.dataStrategy,patchRoutesOnNavigation:e?.patchRoutesOnNavigation,window:e?.window,unstable_instrumentations:e?.unstable_instrumentations}).initialize()}function Lk(){let t=window?.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:Fk(t.errors)}),t}function Fk(t){if(!t)return null;let e=Object.entries(t),n={};for(let[i,a]of e)if(a&&a.__type==="RouteErrorResponse")n[i]=new hd(a.status,a.statusText,a.data,a.internal===!0);else if(a&&a.__type==="Error"){if(a.__subType){let s=window[a.__subType];if(typeof s=="function")try{let u=new s(a.message);u.stack="",n[i]=u}catch{}}if(n[i]==null){let s=new Error(a.message);s.stack="",n[i]=s}}else n[i]=a;return n}var JE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eO=S.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:s,replace:u,state:c,target:f,to:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...w},_){let{basename:E,unstable_useTransitions:P}=S.useContext(pi),N=typeof h=="string"&&JE.test(h),D=DE(h,E);h=D.to;let A=Uj(h,{relative:a}),[z,L,G]=Dk(i,w),j=Hk(h,{replace:u,state:c,target:f,preventScrollReset:g,relative:a,viewTransition:y,unstable_defaultShouldRevalidate:v,unstable_useTransitions:P});function U(se){e&&e(se),se.defaultPrevented||j(se)}let ie=S.createElement("a",{...w,...G,href:D.absoluteURL||A,onClick:D.isExternal||s?e:U,ref:jk(_,L),target:f,"data-discover":!N&&n==="render"?"true":void 0});return z&&!N?S.createElement(S.Fragment,null,ie,S.createElement(Ak,{page:A})):ie});eO.displayName="Link";var Bk=S.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:s,to:u,viewTransition:c,children:f,...h},g){let y=yd(u,{relative:h.relative}),v=vo(),w=S.useContext(md),{navigator:_,basename:E}=S.useContext(pi),P=w!=null&&Kk(y)&&c===!0,N=_.encodeLocation?_.encodeLocation(y).pathname:y.pathname,D=v.pathname,A=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(D=D.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&E&&(A=Di(A,E)||A);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let L=D===N||!a&&D.startsWith(N)&&D.charAt(z)==="/",G=A!=null&&(A===N||!a&&A.startsWith(N)&&A.charAt(N.length)==="/"),j={isActive:L,isPending:G,isTransitioning:P},U=L?e:void 0,ie;typeof i=="function"?ie=i(j):ie=[i,L?"active":null,G?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let se=typeof s=="function"?s(j):s;return S.createElement(eO,{...h,"aria-current":U,className:ie,ref:g,style:se,to:u,viewTransition:c},typeof f=="function"?f(j):f)});Bk.displayName="NavLink";var Uk=S.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:s,method:u=rh,action:c,onSubmit:f,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v,...w},_)=>{let{unstable_useTransitions:E}=S.useContext(pi),P=Vk(),N=Yk(c,{relative:h}),D=u.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&JE.test(c),z=L=>{if(f&&f(L),L.defaultPrevented)return;L.preventDefault();let G=L.nativeEvent.submitter,j=G?.getAttribute("formmethod")||u,U=()=>P(G||L.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:a,state:s,relative:h,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:v});E&&n!==!1?S.startTransition(()=>U()):U()};return S.createElement("form",{ref:_,method:D,action:N,onSubmit:i?f:z,...w,"data-discover":!A&&t==="render"?"true":void 0})});Uk.displayName="Form";function $k(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tO(t){let e=S.useContext(Ys);return Et(e,$k(t)),e}function Hk(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:c,unstable_useTransitions:f}={}){let h=gd(),g=vo(),y=yd(t,{relative:s});return S.useCallback(v=>{if(vk(v,e)){v.preventDefault();let w=n!==void 0?n:mo(g)===mo(y),_=()=>h(t,{replace:w,state:i,preventScrollReset:a,relative:s,viewTransition:u,unstable_defaultShouldRevalidate:c});f?S.startTransition(()=>_()):_()}},[g,h,y,n,i,e,t,a,s,u,c,f])}var qk=0,Gk=()=>`__${String(++qk)}__`;function Vk(){let{router:t}=tO("useSubmit"),{basename:e}=S.useContext(pi),n=ek(),i=t.fetch,a=t.navigate;return S.useCallback(async(s,u={})=>{let{action:c,method:f,encType:h,formData:g,body:y}=wk(s,e);if(u.navigate===!1){let v=u.fetcherKey||Gk();await i(v,n,u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||h,flushSync:u.flushSync})}else await a(u.action||c,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||h,replace:u.replace,state:u.state,fromRouteId:n,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,a,e,n])}function Yk(t,{relative:e}={}){let{basename:n}=S.useContext(pi),i=S.useContext(Wi);Et(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s={...yd(t||".",{relative:e})},u=vo();if(t==null){s.search=u.search;let c=new URLSearchParams(s.search),f=c.getAll("index");if(f.some(g=>g==="")){c.delete("index"),f.filter(y=>y).forEach(y=>c.append("index",y));let g=c.toString();s.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:fo([n,s.pathname])),mo(s)}function Kk(t,{relative:e}={}){let n=S.useContext(e0);Et(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=tO("useViewTransitionState"),a=yd(t,{relative:e});if(!n.isTransitioning)return!1;let s=Di(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Di(n.nextLocation.pathname,i)||n.nextLocation.pathname;return xh(a.pathname,u)!=null||xh(a.pathname,s)!=null}function Wk(t){return S.createElement(uk,{flushSync:$s.flushSync,...t})}const Xk=(t,e)=>{localStorage.setItem("sessionToken",t),localStorage.setItem("refreshToken",e)},J1=()=>localStorage.getItem("sessionToken"),Qk=t=>{localStorage.setItem("user",JSON.stringify(t))},Zk=()=>{const t=localStorage.getItem("user");if(!t)return null;try{return JSON.parse(t)}catch{return null}},Jk=t=>{localStorage.setItem("lastUserId",String(t))},e4=()=>localStorage.getItem("lastUserId"),t4=()=>{localStorage.removeItem("sessionToken"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user")},n4="https://gnaf-dev.map.ir",r4="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImY5ODkzNDMwZDIxNjI4MzJlYzNlMzZjYWQyZmRlOTM0MjYwMzY5YTA4NmViYzU3ZjBjMTU1MzcyNjVmNzE5ZTU1OWY3MTQ4ZDI2MDE4YjdmIn0.eyJhdWQiOiIxIiwianRpIjoiZjk4OTM0MzBkMjE2MjgzMmVjM2UzNmNhZDJmZGU5MzQyNjAzNjlhMDg2ZWJjNTdmMGMxNTUzNzI2NWY3MTllNTU5ZjcxNDhkMjYwMThiN2YiLCJpYXQiOjE2MzYxOTA2ODAsIm5iZiI6MTYzNjE5MDY4MCwiZXhwIjoxNjM3NjU5NDgwLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.FBzATSA1ffB_-M4anRL98P9ddgRfGaTjgTj5lTr4l0FAggl752DLZRRM93LIPeGzGfPD7lpaZZBEgMI0JdEIgqQNXs0WC06gdog_a4ioicuLrgXJvVKQ8YVmh5uA8LdQbNT8Zm12tXXBY40O6P3AMlx25LPAH3g-PpZNbFYS31_gatigi51SjywRWPmR5XkEXol1u7XytdUEJtMllHm2p7tL5rsFvaA76Ej_Vx9qbqZW5wPQAbfgvYLfwV0tW_TVg-6uNuIs_Pm8Wfen3uAqhTXF-q8oVx4Vh6v2-OntTLJfUTFRy0DjcEZSg686o1tL22Mw6zH48YcMuu3EukIdHQ",Fs=async(t,e={})=>{const n=localStorage.getItem("sessionToken"),i={"Content-Type":"application/json","x-api-key":r4,...n&&{token:n},...e.headers},a={...e,headers:i};return await fetch(`${n4}${t}`,a)};var oh={exports:{}},i4=oh.exports,eS;function o4(){return eS||(eS=1,(function(t,e){(function(n,i){t.exports=i()})(i4,function(){var n=function(p,b){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,O){C.__proto__=O}||function(C,O){for(var R in O)Object.prototype.hasOwnProperty.call(O,R)&&(C[R]=O[R])})(p,b)},i=function(){return(i=Object.assign||function(p){for(var b,C=1,O=arguments.length;C<O;C++)for(var R in b=arguments[C])Object.prototype.hasOwnProperty.call(b,R)&&(p[R]=b[R]);return p}).apply(this,arguments)};function a(p,b,C){for(var O,R=0,I=b.length;R<I;R++)!O&&R in b||((O=O||Array.prototype.slice.call(b,0,R))[R]=b[R]);return p.concat(O||Array.prototype.slice.call(b))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:QT,u=Object.keys,c=Array.isArray;function f(p,b){return typeof b!="object"||u(b).forEach(function(C){p[C]=b[C]}),p}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var h=Object.getPrototypeOf,g={}.hasOwnProperty;function y(p,b){return g.call(p,b)}function v(p,b){typeof b=="function"&&(b=b(h(p))),(typeof Reflect>"u"?u:Reflect.ownKeys)(b).forEach(function(C){_(p,C,b[C])})}var w=Object.defineProperty;function _(p,b,C,O){w(p,b,f(C&&y(C,"get")&&typeof C.get=="function"?{get:C.get,set:C.set,configurable:!0}:{value:C,configurable:!0,writable:!0},O))}function E(p){return{from:function(b){return p.prototype=Object.create(b.prototype),_(p.prototype,"constructor",p),{extend:v.bind(null,p.prototype)}}}}var P=Object.getOwnPropertyDescriptor,N=[].slice;function D(p,b,C){return N.call(p,b,C)}function A(p,b){return b(p)}function z(p){if(!p)throw new Error("Assertion Failed")}function L(p){s.setImmediate?setImmediate(p):setTimeout(p,0)}function G(p,b){if(typeof b=="string"&&y(p,b))return p[b];if(!b)return p;if(typeof b!="string"){for(var C=[],O=0,R=b.length;O<R;++O){var I=G(p,b[O]);C.push(I)}return C}var F=b.indexOf(".");if(F!==-1){var q=p[b.substr(0,F)];return q==null?void 0:G(q,b.substr(F+1))}}function j(p,b,C){if(p&&b!==void 0&&!("isFrozen"in Object&&Object.isFrozen(p)))if(typeof b!="string"&&"length"in b){z(typeof C!="string"&&"length"in C);for(var O=0,R=b.length;O<R;++O)j(p,b[O],C[O])}else{var I,F,q=b.indexOf(".");q!==-1?(I=b.substr(0,q),(F=b.substr(q+1))===""?C===void 0?c(p)&&!isNaN(parseInt(I))?p.splice(I,1):delete p[I]:p[I]=C:j(q=!(q=p[I])||!y(p,I)?p[I]={}:q,F,C)):C===void 0?c(p)&&!isNaN(parseInt(b))?p.splice(b,1):delete p[b]:p[b]=C}}function U(p){var b,C={};for(b in p)y(p,b)&&(C[b]=p[b]);return C}var ie=[].concat;function se(p){return ie.apply([],p)}var Yn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(se([8,16,32,64].map(function(p){return["Int","Uint","Float"].map(function(b){return b+p+"Array"})}))).filter(function(p){return s[p]}),de=new Set(Yn.map(function(p){return s[p]})),me=null;function Ee(p){return me=new WeakMap,p=(function b(C){if(!C||typeof C!="object")return C;var O=me.get(C);if(O)return O;if(c(C)){O=[],me.set(C,O);for(var R=0,I=C.length;R<I;++R)O.push(b(C[R]))}else if(de.has(C.constructor))O=C;else{var F,q=h(C);for(F in O=q===Object.prototype?{}:Object.create(q),me.set(C,O),C)y(C,F)&&(O[F]=b(C[F]))}return O})(p),me=null,p}var ce={}.toString;function xe(p){return ce.call(p).slice(8,-1)}var B=typeof Symbol<"u"?Symbol.iterator:"@@iterator",W=typeof B=="symbol"?function(p){var b;return p!=null&&(b=p[B])&&b.apply(p)}:function(){return null};function V(p,b){return b=p.indexOf(b),0<=b&&p.splice(b,1),0<=b}var ge={};function Se(p){var b,C,O,R;if(arguments.length===1){if(c(p))return p.slice();if(this===ge&&typeof p=="string")return[p];if(R=W(p)){for(C=[];!(O=R.next()).done;)C.push(O.value);return C}if(p==null)return[p];if(typeof(b=p.length)!="number")return[p];for(C=new Array(b);b--;)C[b]=p[b];return C}for(b=arguments.length,C=new Array(b);b--;)C[b]=arguments[b];return C}var H=typeof Symbol<"u"?function(p){return p[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},qt=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Tr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(qt),ne={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ce(p,b){this.name=p,this.message=b}function Ne(p,b){return p+". Errors: "+Object.keys(b).map(function(C){return b[C].toString()}).filter(function(C,O,R){return R.indexOf(C)===O}).join(`
`)}function Ie(p,b,C,O){this.failures=b,this.failedKeys=O,this.successCount=C,this.message=Ne(p,b)}function qe(p,b){this.name="BulkError",this.failures=Object.keys(b).map(function(C){return b[C]}),this.failuresByPos=b,this.message=Ne(p,this.failures)}E(Ce).from(Error).extend({toString:function(){return this.name+": "+this.message}}),E(Ie).from(Ce),E(qe).from(Ce);var nt=Tr.reduce(function(p,b){return p[b]=b+"Error",p},{}),wt=Ce,De=Tr.reduce(function(p,b){var C=b+"Error";function O(R,I){this.name=C,R?typeof R=="string"?(this.message="".concat(R).concat(I?`
 `+I:""),this.inner=I||null):typeof R=="object"&&(this.message="".concat(R.name," ").concat(R.message),this.inner=R):(this.message=ne[b]||C,this.inner=null)}return E(O).from(wt),p[b]=O,p},{});De.Syntax=SyntaxError,De.Type=TypeError,De.Range=RangeError;var Jt=qt.reduce(function(p,b){return p[b+"Error"]=De[b],p},{}),un=Tr.reduce(function(p,b){return["Syntax","Type","Range"].indexOf(b)===-1&&(p[b+"Error"]=De[b]),p},{});function Je(){}function ht(p){return p}function Ft(p,b){return p==null||p===ht?b:function(C){return b(p(C))}}function rn(p,b){return function(){p.apply(this,arguments),b.apply(this,arguments)}}function gn(p,b){return p===Je?b:function(){var C=p.apply(this,arguments);C!==void 0&&(arguments[0]=C);var O=this.onsuccess,R=this.onerror;this.onsuccess=null,this.onerror=null;var I=b.apply(this,arguments);return O&&(this.onsuccess=this.onsuccess?rn(O,this.onsuccess):O),R&&(this.onerror=this.onerror?rn(R,this.onerror):R),I!==void 0?I:C}}function Ar(p,b){return p===Je?b:function(){p.apply(this,arguments);var C=this.onsuccess,O=this.onerror;this.onsuccess=this.onerror=null,b.apply(this,arguments),C&&(this.onsuccess=this.onsuccess?rn(C,this.onsuccess):C),O&&(this.onerror=this.onerror?rn(O,this.onerror):O)}}function ir(p,b){return p===Je?b:function(C){var O=p.apply(this,arguments);f(C,O);var R=this.onsuccess,I=this.onerror;return this.onsuccess=null,this.onerror=null,C=b.apply(this,arguments),R&&(this.onsuccess=this.onsuccess?rn(R,this.onsuccess):R),I&&(this.onerror=this.onerror?rn(I,this.onerror):I),O===void 0?C===void 0?void 0:C:f(O,C)}}function en(p,b){return p===Je?b:function(){return b.apply(this,arguments)!==!1&&p.apply(this,arguments)}}function Vn(p,b){return p===Je?b:function(){var C=p.apply(this,arguments);if(C&&typeof C.then=="function"){for(var O=this,R=arguments.length,I=new Array(R);R--;)I[R]=arguments[R];return C.then(function(){return b.apply(O,I)})}return b.apply(this,arguments)}}un.ModifyError=Ie,un.DexieError=Ce,un.BulkError=qe;var yn=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function wn(p){yn=p}var Sr={},Bt=100,Yn=typeof Promise>"u"?[]:(function(){var p=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[p,h(p),p];var b=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[b,h(b),p]})(),qt=Yn[0],Tr=Yn[1],Yn=Yn[2],Tr=Tr&&Tr.then,lt=qt&&qt.constructor,Sn=!!Yn,En=function(p,b){Qr.push([p,b]),Xr&&(queueMicrotask(wo),Xr=!1)},Dn=!0,Xr=!0,on=[],Nr=[],Gt=ht,At={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Je,pgp:!1,env:{},finalize:Je},Ge=At,Qr=[],Ir=0,zi=[];function $e(p){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var b=this._PSD=Ge;if(typeof p!="function"){if(p!==Sr)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&or(this,this._value))}this._state=null,this._value=null,++b.ref,(function C(O,R){try{R(function(I){if(O._state===null){if(I===O)throw new TypeError("A promise cannot be resolved with itself.");var F=O._lib&&Cr();I&&typeof I.then=="function"?C(O,function(q,X){I instanceof $e?I._then(q,X):I.then(q,X)}):(O._state=!0,O._value=I,Xi(O)),F&&_r()}},or.bind(null,O))}catch(I){or(O,I)}})(this,p)}var an={get:function(){var p=Ge,b=tt;function C(O,R){var I=this,F=!p.global&&(p!==Ge||b!==tt),q=F&&!Qe(),X=new $e(function(Q,oe){Li(I,new Kn(cn(O,p,F,q),cn(R,p,F,q),Q,oe,p))});return this._consoleTask&&(X._consoleTask=this._consoleTask),X}return C.prototype=Sr,C},set:function(p){_(this,"then",p&&p.prototype===Sr?an:{get:function(){return p},set:an.set})}};function Kn(p,b,C,O,R){this.onFulfilled=typeof p=="function"?p:null,this.onRejected=typeof b=="function"?b:null,this.resolve=C,this.reject=O,this.psd=R}function or(p,b){var C,O;Nr.push(b),p._state===null&&(C=p._lib&&Cr(),b=Gt(b),p._state=!1,p._value=b,O=p,on.some(function(R){return R._value===O._value})||on.push(O),Xi(p),C&&_r())}function Xi(p){var b=p._listeners;p._listeners=[];for(var C=0,O=b.length;C<O;++C)Li(p,b[C]);var R=p._PSD;--R.ref||R.finalize(),Ir===0&&(++Ir,En(function(){--Ir==0&&ts()},[]))}function Li(p,b){if(p._state!==null){var C=p._state?b.onFulfilled:b.onRejected;if(C===null)return(p._state?b.resolve:b.reject)(p._value);++b.psd.ref,++Ir,En(Qs,[C,p,b])}else p._listeners.push(b)}function Qs(p,b,C){try{var O,R=b._value;!b._state&&Nr.length&&(Nr=[]),O=yn&&b._consoleTask?b._consoleTask.run(function(){return p(R)}):p(R),b._state||Nr.indexOf(R)!==-1||(function(I){for(var F=on.length;F;)if(on[--F]._value===I._value)return on.splice(F,1)})(b),C.resolve(O)}catch(I){C.reject(I)}finally{--Ir==0&&ts(),--C.psd.ref||C.psd.finalize()}}function wo(){Ut(At,function(){Cr()&&_r()})}function Cr(){var p=Dn;return Xr=Dn=!1,p}function _r(){var p,b,C;do for(;0<Qr.length;)for(p=Qr,Qr=[],C=p.length,b=0;b<C;++b){var O=p[b];O[0].apply(null,O[1])}while(0<Qr.length);Xr=Dn=!0}function ts(){var p=on;on=[],p.forEach(function(O){O._PSD.onunhandled.call(null,O._value,O)});for(var b=zi.slice(0),C=b.length;C;)b[--C]()}function So(p){return new $e(Sr,!1,p)}function $(p,b){var C=Ge;return function(){var O=Cr(),R=Ge;try{return vt(C,!0),p.apply(this,arguments)}catch(I){b&&b(I)}finally{vt(R,!1),O&&_r()}}}v($e.prototype,{then:an,_then:function(p,b){Li(this,new Kn(null,null,p,b,Ge))},catch:function(p){if(arguments.length===1)return this.then(null,p);var b=p,C=arguments[1];return typeof b=="function"?this.then(null,function(O){return(O instanceof b?C:So)(O)}):this.then(null,function(O){return(O&&O.name===b?C:So)(O)})},finally:function(p){return this.then(function(b){return $e.resolve(p()).then(function(){return b})},function(b){return $e.resolve(p()).then(function(){return So(b)})})},timeout:function(p,b){var C=this;return p<1/0?new $e(function(O,R){var I=setTimeout(function(){return R(new De.Timeout(b))},p);C.then(O,R).finally(clearTimeout.bind(null,I))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&_($e.prototype,Symbol.toStringTag,"Dexie.Promise"),At.env=Ot(),v($e,{all:function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(b,C){p.length===0&&b([]);var O=p.length;p.forEach(function(R,I){return $e.resolve(R).then(function(F){p[I]=F,--O||b(p)},C)})})},resolve:function(p){return p instanceof $e?p:p&&typeof p.then=="function"?new $e(function(b,C){p.then(b,C)}):new $e(Sr,!0,p)},reject:So,race:function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(b,C){p.map(function(O){return $e.resolve(O).then(b,C)})})},PSD:{get:function(){return Ge},set:function(p){return Ge=p}},totalEchoes:{get:function(){return tt}},newPSD:He,usePSD:Ut,scheduler:{get:function(){return En},set:function(p){En=p}},rejectionMapper:{get:function(){return Gt},set:function(p){Gt=p}},follow:function(p,b){return new $e(function(C,O){return He(function(R,I){var F=Ge;F.unhandleds=[],F.onunhandled=I,F.finalize=rn(function(){var q,X=this;q=function(){X.unhandleds.length===0?R():I(X.unhandleds[0])},zi.push(function Q(){q(),zi.splice(zi.indexOf(Q),1)}),++Ir,En(function(){--Ir==0&&ts()},[])},F.finalize),p()},b,C,O)})}}),lt&&(lt.allSettled&&_($e,"allSettled",function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(b){p.length===0&&b([]);var C=p.length,O=new Array(C);p.forEach(function(R,I){return $e.resolve(R).then(function(F){return O[I]={status:"fulfilled",value:F}},function(F){return O[I]={status:"rejected",reason:F}}).then(function(){return--C||b(O)})})})}),lt.any&&typeof AggregateError<"u"&&_($e,"any",function(){var p=Se.apply(null,arguments).map(ot);return new $e(function(b,C){p.length===0&&C(new AggregateError([]));var O=p.length,R=new Array(O);p.forEach(function(I,F){return $e.resolve(I).then(function(q){return b(q)},function(q){R[F]=q,--O||C(new AggregateError(R))})})})}),lt.withResolvers&&($e.withResolvers=lt.withResolvers));var ee={awaits:0,echoes:0,id:0},be=0,Ae=[],Fe=0,tt=0,We=0;function He(p,b,C,O){var R=Ge,I=Object.create(R);return I.parent=R,I.ref=0,I.global=!1,I.id=++We,At.env,I.env=Sn?{Promise:$e,PromiseProp:{value:$e,configurable:!0,writable:!0},all:$e.all,race:$e.race,allSettled:$e.allSettled,any:$e.any,resolve:$e.resolve,reject:$e.reject}:{},b&&f(I,b),++R.ref,I.finalize=function(){--this.parent.ref||this.parent.finalize()},O=Ut(I,p,C,O),I.ref===0&&I.finalize(),O}function Ke(){return ee.id||(ee.id=++be),++ee.awaits,ee.echoes+=Bt,ee.id}function Qe(){return!!ee.awaits&&(--ee.awaits==0&&(ee.id=0),ee.echoes=ee.awaits*Bt,!0)}function ot(p){return ee.echoes&&p&&p.constructor===lt?(Ke(),p.then(function(b){return Qe(),b},function(b){return Qe(),at(b)})):p}function it(){var p=Ae[Ae.length-1];Ae.pop(),vt(p,!1)}function vt(p,b){var C,O=Ge;(b?!ee.echoes||Fe++&&p===Ge:!Fe||--Fe&&p===Ge)||queueMicrotask(b?(function(R){++tt,ee.echoes&&--ee.echoes!=0||(ee.echoes=ee.awaits=ee.id=0),Ae.push(Ge),vt(R,!0)}).bind(null,p):it),p!==Ge&&(Ge=p,O===At&&(At.env=Ot()),Sn&&(C=At.env.Promise,b=p.env,(O.global||p.global)&&(Object.defineProperty(s,"Promise",b.PromiseProp),C.all=b.all,C.race=b.race,C.resolve=b.resolve,C.reject=b.reject,b.allSettled&&(C.allSettled=b.allSettled),b.any&&(C.any=b.any))))}function Ot(){var p=s.Promise;return Sn?{Promise:p,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:p.all,race:p.race,allSettled:p.allSettled,any:p.any,resolve:p.resolve,reject:p.reject}:{}}function Ut(p,b,C,O,R){var I=Ge;try{return vt(p,!0),b(C,O,R)}finally{vt(I,!1)}}function cn(p,b,C,O){return typeof p!="function"?p:function(){var R=Ge;C&&Ke(),vt(b,!0);try{return p.apply(this,arguments)}finally{vt(R,!1),O&&queueMicrotask(Qe)}}}function sn(p){Promise===lt&&ee.echoes===0?Fe===0?p():enqueueNativeMicroTask(p):setTimeout(p,0)}(""+Tr).indexOf("[native code]")===-1&&(Ke=Qe=Je);var at=$e.reject,ln="",vn="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",tn="String expected.",Xn=[],Qn="__dbnames",Er="readonly",fr="readwrite";function ar(p,b){return p?b?function(){return p.apply(this,arguments)&&b.apply(this,arguments)}:p:b}var Qi={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function mi(p){return typeof p!="string"||/\./.test(p)?function(b){return b}:function(b){return b[p]===void 0&&p in b&&delete(b=Ee(b))[p],b}}function Tt(){throw De.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function st(p,b){try{var C=jr(p),O=jr(b);if(C!==O)return C==="Array"?1:O==="Array"?-1:C==="binary"?1:O==="binary"?-1:C==="string"?1:O==="string"?-1:C==="Date"?1:O!=="Date"?NaN:-1;switch(C){case"number":case"Date":case"string":return b<p?1:p<b?-1:0;case"binary":return(function(R,I){for(var F=R.length,q=I.length,X=F<q?F:q,Q=0;Q<X;++Q)if(R[Q]!==I[Q])return R[Q]<I[Q]?-1:1;return F===q?0:F<q?-1:1})(jn(p),jn(b));case"Array":return(function(R,I){for(var F=R.length,q=I.length,X=F<q?F:q,Q=0;Q<X;++Q){var oe=st(R[Q],I[Q]);if(oe!==0)return oe}return F===q?0:F<q?-1:1})(p,b)}}catch{}return NaN}function jr(p){var b=typeof p;return b!="object"?b:ArrayBuffer.isView(p)?"binary":(p=xe(p),p==="ArrayBuffer"?"binary":p)}function jn(p){return p instanceof Uint8Array?p:ArrayBuffer.isView(p)?new Uint8Array(p.buffer,p.byteOffset,p.byteLength):new Uint8Array(p)}function Ct(p,b,C){var O=p.schema.yProps;return O?(b&&0<C.numFailures&&(b=b.filter(function(R,I){return!C.failures[I]})),Promise.all(O.map(function(R){return R=R.updatesTable,b?p.db.table(R).where("k").anyOf(b).delete():p.db.table(R).clear()})).then(function(){return C})):C}var Zr=(ns.prototype.execute=function(p){var b=this["@@propmod"];if(b.add!==void 0){var C=b.add;if(c(C))return a(a([],c(p)?p:[],!0),C).sort();if(typeof C=="number")return(Number(p)||0)+C;if(typeof C=="bigint")try{return BigInt(p)+C}catch{return BigInt(0)+C}throw new TypeError("Invalid term ".concat(C))}if(b.remove!==void 0){var O=b.remove;if(c(O))return c(p)?p.filter(function(R){return!O.includes(R)}).sort():[];if(typeof O=="number")return Number(p)-O;if(typeof O=="bigint")try{return BigInt(p)-O}catch{return BigInt(0)-O}throw new TypeError("Invalid subtrahend ".concat(O))}return C=(C=b.replacePrefix)===null||C===void 0?void 0:C[0],C&&typeof p=="string"&&p.startsWith(C)?b.replacePrefix[1]+p.substring(C.length):p},ns);function ns(p){this["@@propmod"]=p}function ua(p,b){for(var C=u(b),O=C.length,R=!1,I=0;I<O;++I){var F=C[I],q=b[F],X=G(p,F);q instanceof Zr?(j(p,F,q.execute(X)),R=!0):X!==q&&(j(p,F,q),R=!0)}return R}var Mu=($t.prototype._trans=function(p,b,C){var O=this._tx||Ge.trans,R=this.name,I=yn&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(p==="readonly"?"read":"write"," ").concat(this.name));function F(Q,oe,K){if(!K.schema[R])throw new De.NotFound("Table "+R+" not part of transaction");return b(K.idbtrans,K)}var q=Cr();try{var X=O&&O.db._novip===this.db._novip?O===Ge.trans?O._promise(p,F,C):He(function(){return O._promise(p,F,C)},{trans:O,transless:Ge.transless||Ge}):(function Q(oe,K,le,Z){if(oe.idbdb&&(oe._state.openComplete||Ge.letThrough||oe._vip)){var te=oe._createTransaction(K,le,oe._dbSchema);try{te.create(),oe._state.PR1398_maxLoop=3}catch(re){return re.name===nt.InvalidState&&oe.isOpen()&&0<--oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),oe.close({disableAutoOpen:!1}),oe.open().then(function(){return Q(oe,K,le,Z)})):at(re)}return te._promise(K,function(re,ae){return He(function(){return Ge.trans=te,Z(re,ae,te)})}).then(function(re){if(K==="readwrite")try{te.idbtrans.commit()}catch{}return K==="readonly"?re:te._completion.then(function(){return re})})}if(oe._state.openComplete)return at(new De.DatabaseClosed(oe._state.dbOpenError));if(!oe._state.isBeingOpened){if(!oe._state.autoOpen)return at(new De.DatabaseClosed);oe.open().catch(Je)}return oe._state.dbReadyPromise.then(function(){return Q(oe,K,le,Z)})})(this.db,p,[this.name],F);return I&&(X._consoleTask=I,X=X.catch(function(Q){return console.trace(Q),at(Q)})),X}finally{q&&_r()}},$t.prototype.get=function(p,b){var C=this;return p&&p.constructor===Object?this.where(p).first(b):p==null?at(new De.Type("Invalid argument to Table.get()")):this._trans("readonly",function(O){return C.core.get({trans:O,key:p}).then(function(R){return C.hook.reading.fire(R)})}).then(b)},$t.prototype.where=function(p){if(typeof p=="string")return new this.db.WhereClause(this,p);if(c(p))return new this.db.WhereClause(this,"[".concat(p.join("+"),"]"));var b=u(p);if(b.length===1)return this.where(b[0]).equals(p[b[0]]);var C=this.schema.indexes.concat(this.schema.primKey).filter(function(q){if(q.compound&&b.every(function(Q){return 0<=q.keyPath.indexOf(Q)})){for(var X=0;X<b.length;++X)if(b.indexOf(q.keyPath[X])===-1)return!1;return!0}return!1}).sort(function(q,X){return q.keyPath.length-X.keyPath.length})[0];if(C&&this.db._maxKey!==ln){var I=C.keyPath.slice(0,b.length);return this.where(I).equals(I.map(function(X){return p[X]}))}!C&&yn&&console.warn("The query ".concat(JSON.stringify(p)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(b.join("+"),"]"));var O=this.schema.idxByName;function R(q,X){return st(q,X)===0}var F=b.reduce(function(K,X){var Q=K[0],oe=K[1],K=O[X],le=p[X];return[Q||K,Q||!K?ar(oe,K&&K.multi?function(Z){return Z=G(Z,X),c(Z)&&Z.some(function(te){return R(le,te)})}:function(Z){return R(le,G(Z,X))}):oe]},[null,null]),I=F[0],F=F[1];return I?this.where(I.name).equals(p[I.keyPath]).filter(F):C?this.filter(F):this.where(b).equals("")},$t.prototype.filter=function(p){return this.toCollection().and(p)},$t.prototype.count=function(p){return this.toCollection().count(p)},$t.prototype.offset=function(p){return this.toCollection().offset(p)},$t.prototype.limit=function(p){return this.toCollection().limit(p)},$t.prototype.each=function(p){return this.toCollection().each(p)},$t.prototype.toArray=function(p){return this.toCollection().toArray(p)},$t.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},$t.prototype.orderBy=function(p){return new this.db.Collection(new this.db.WhereClause(this,c(p)?"[".concat(p.join("+"),"]"):p))},$t.prototype.reverse=function(){return this.toCollection().reverse()},$t.prototype.mapToClass=function(p){var b,C=this.db,O=this.name;function R(){return b!==null&&b.apply(this,arguments)||this}(this.schema.mappedClass=p).prototype instanceof Tt&&((function(X,Q){if(typeof Q!="function"&&Q!==null)throw new TypeError("Class extends value "+String(Q)+" is not a constructor or null");function oe(){this.constructor=X}n(X,Q),X.prototype=Q===null?Object.create(Q):(oe.prototype=Q.prototype,new oe)})(R,b=p),Object.defineProperty(R.prototype,"db",{get:function(){return C},enumerable:!1,configurable:!0}),R.prototype.table=function(){return O},p=R);for(var I=new Set,F=p.prototype;F;F=h(F))Object.getOwnPropertyNames(F).forEach(function(X){return I.add(X)});function q(X){if(!X)return X;var Q,oe=Object.create(p.prototype);for(Q in X)if(!I.has(Q))try{oe[Q]=X[Q]}catch{}return oe}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=q,this.hook("reading",q),p},$t.prototype.defineClass=function(){return this.mapToClass(function(p){f(this,p)})},$t.prototype.add=function(p,b){var C=this,O=this.schema.primKey,R=O.auto,I=O.keyPath,F=p;return I&&R&&(F=mi(I)(p)),this._trans("readwrite",function(q){return C.core.mutate({trans:q,type:"add",keys:b!=null?[b]:null,values:[F]})}).then(function(q){return q.numFailures?$e.reject(q.failures[0]):q.lastResult}).then(function(q){if(I)try{j(p,I,q)}catch{}return q})},$t.prototype.upsert=function(p,b){var C=this,O=this.schema.primKey.keyPath;return this._trans("readwrite",function(R){return C.core.get({trans:R,key:p}).then(function(I){var F=I??{};return ua(F,b),O&&j(F,O,p),C.core.mutate({trans:R,type:"put",values:[F],keys:[p],upsert:!0,updates:{keys:[p],changeSpecs:[b]}}).then(function(q){return q.numFailures?$e.reject(q.failures[0]):!!I})})})},$t.prototype.update=function(p,b){return typeof p!="object"||c(p)?this.where(":id").equals(p).modify(b):(p=G(p,this.schema.primKey.keyPath),p===void 0?at(new De.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(p).modify(b))},$t.prototype.put=function(p,b){var C=this,O=this.schema.primKey,R=O.auto,I=O.keyPath,F=p;return I&&R&&(F=mi(I)(p)),this._trans("readwrite",function(q){return C.core.mutate({trans:q,type:"put",values:[F],keys:b!=null?[b]:null})}).then(function(q){return q.numFailures?$e.reject(q.failures[0]):q.lastResult}).then(function(q){if(I)try{j(p,I,q)}catch{}return q})},$t.prototype.delete=function(p){var b=this;return this._trans("readwrite",function(C){return b.core.mutate({trans:C,type:"delete",keys:[p]}).then(function(O){return Ct(b,[p],O)}).then(function(O){return O.numFailures?$e.reject(O.failures[0]):void 0})})},$t.prototype.clear=function(){var p=this;return this._trans("readwrite",function(b){return p.core.mutate({trans:b,type:"deleteRange",range:Qi}).then(function(C){return Ct(p,null,C)})}).then(function(b){return b.numFailures?$e.reject(b.failures[0]):void 0})},$t.prototype.bulkGet=function(p){var b=this;return this._trans("readonly",function(C){return b.core.getMany({keys:p,trans:C}).then(function(O){return O.map(function(R){return b.hook.reading.fire(R)})})})},$t.prototype.bulkAdd=function(p,b,C){var O=this,R=Array.isArray(b)?b:void 0,I=(C=C||(R?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function(F){var Q=O.schema.primKey,q=Q.auto,Q=Q.keyPath;if(Q&&R)throw new De.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(R&&R.length!==p.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var X=p.length,Q=Q&&q?p.map(mi(Q)):p;return O.core.mutate({trans:F,type:"add",keys:R,values:Q,wantResults:I}).then(function(te){var K=te.numFailures,le=te.results,Z=te.lastResult,te=te.failures;if(K===0)return I?le:Z;throw new qe("".concat(O.name,".bulkAdd(): ").concat(K," of ").concat(X," operations failed"),te)})})},$t.prototype.bulkPut=function(p,b,C){var O=this,R=Array.isArray(b)?b:void 0,I=(C=C||(R?void 0:b))?C.allKeys:void 0;return this._trans("readwrite",function(F){var Q=O.schema.primKey,q=Q.auto,Q=Q.keyPath;if(Q&&R)throw new De.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(R&&R.length!==p.length)throw new De.InvalidArgument("Arguments objects and keys must have the same length");var X=p.length,Q=Q&&q?p.map(mi(Q)):p;return O.core.mutate({trans:F,type:"put",keys:R,values:Q,wantResults:I}).then(function(te){var K=te.numFailures,le=te.results,Z=te.lastResult,te=te.failures;if(K===0)return I?le:Z;throw new qe("".concat(O.name,".bulkPut(): ").concat(K," of ").concat(X," operations failed"),te)})})},$t.prototype.bulkUpdate=function(p){var b=this,C=this.core,O=p.map(function(F){return F.key}),R=p.map(function(F){return F.changes}),I=[];return this._trans("readwrite",function(F){return C.getMany({trans:F,keys:O,cache:"clone"}).then(function(q){var X=[],Q=[];p.forEach(function(K,le){var Z=K.key,te=K.changes,re=q[le];if(re){for(var ae=0,fe=Object.keys(te);ae<fe.length;ae++){var ye=fe[ae],Oe=te[ye];if(ye===b.schema.primKey.keyPath){if(st(Oe,Z)!==0)throw new De.Constraint("Cannot update primary key in bulkUpdate()")}else j(re,ye,Oe)}I.push(le),X.push(Z),Q.push(re)}});var oe=X.length;return C.mutate({trans:F,type:"put",keys:X,values:Q,updates:{keys:O,changeSpecs:R}}).then(function(K){var le=K.numFailures,Z=K.failures;if(le===0)return oe;for(var te=0,re=Object.keys(Z);te<re.length;te++){var ae,fe=re[te],ye=I[Number(fe)];ye!=null&&(ae=Z[fe],delete Z[fe],Z[ye]=ae)}throw new qe("".concat(b.name,".bulkUpdate(): ").concat(le," of ").concat(oe," operations failed"),Z)})})})},$t.prototype.bulkDelete=function(p){var b=this,C=p.length;return this._trans("readwrite",function(O){return b.core.mutate({trans:O,type:"delete",keys:p}).then(function(R){return Ct(b,p,R)})}).then(function(F){var R=F.numFailures,I=F.lastResult,F=F.failures;if(R===0)return I;throw new qe("".concat(b.name,".bulkDelete(): ").concat(R," of ").concat(C," operations failed"),F)})},$t);function $t(){}function rs(p){function b(F,q){if(q){for(var X=arguments.length,Q=new Array(X-1);--X;)Q[X-1]=arguments[X];return C[F].subscribe.apply(null,Q),p}if(typeof F=="string")return C[F]}var C={};b.addEventType=I;for(var O=1,R=arguments.length;O<R;++O)I(arguments[O]);return b;function I(F,q,X){if(typeof F!="object"){var Q;q=q||en;var oe={subscribers:[],fire:X=X||Je,subscribe:function(K){oe.subscribers.indexOf(K)===-1&&(oe.subscribers.push(K),oe.fire=q(oe.fire,K))},unsubscribe:function(K){oe.subscribers=oe.subscribers.filter(function(le){return le!==K}),oe.fire=oe.subscribers.reduce(q,X)}};return C[F]=b[F]=oe}u(Q=F).forEach(function(K){var le=Q[K];if(c(le))I(K,Q[K][0],Q[K][1]);else{if(le!=="asap")throw new De.InvalidArgument("Invalid event config");var Z=I(K,ht,function(){for(var te=arguments.length,re=new Array(te);te--;)re[te]=arguments[te];Z.subscribers.forEach(function(ae){L(function(){ae.apply(null,re)})})})}})}}function Zn(p,b){return E(b).from({prototype:p}),b}function Zi(p,b){return!(p.filter||p.algorithm||p.or)&&(b?p.justLimit:!p.replayFilter)}function Zs(p,b){p.filter=ar(p.filter,b)}function is(p,b,C){var O=p.replayFilter;p.replayFilter=O?function(){return ar(O(),b())}:b,p.justLimit=C&&!O}function Fi(p,b){if(p.isPrimKey)return b.primaryKey;var C=b.getIndexByKeyPath(p.index);if(!C)throw new De.Schema("KeyPath "+p.index+" on object store "+b.name+" is not indexed");return C}function Pu(p,b,C){var O=Fi(p,b.schema);return b.openCursor({trans:C,values:!p.keysOnly,reverse:p.dir==="prev",unique:!!p.unique,query:{index:O,range:p.range}})}function os(p,b,C,O){var R=p.replayFilter?ar(p.filter,p.replayFilter()):p.filter;if(p.or){var I={},F=function(q,X,Q){var oe,K;R&&!R(X,Q,function(le){return X.stop(le)},function(le){return X.fail(le)})||((K=""+(oe=X.primaryKey))=="[object ArrayBuffer]"&&(K=""+new Uint8Array(oe)),y(I,K)||(I[K]=!0,b(q,X,Q)))};return Promise.all([p.or._iterate(F,C),Co(Pu(p,O,C),p.algorithm,F,!p.keysOnly&&p.valueMapper)])}return Co(Pu(p,O,C),ar(p.algorithm,R),b,!p.keysOnly&&p.valueMapper)}function Co(p,b,C,O){var R=$(O?function(I,F,q){return C(O(I),F,q)}:C);return p.then(function(I){if(I)return I.start(function(){var F=function(){return I.continue()};b&&!b(I,function(q){return F=q},function(q){I.stop(q),F=Je},function(q){I.fail(q),F=Je})||R(I.value,I,function(q){return F=q}),F()})})}var bp=(Nt.prototype._read=function(p,b){var C=this._ctx;return C.error?C.table._trans(null,at.bind(null,C.error)):C.table._trans("readonly",p).then(b)},Nt.prototype._write=function(p){var b=this._ctx;return b.error?b.table._trans(null,at.bind(null,b.error)):b.table._trans("readwrite",p,"locked")},Nt.prototype._addAlgorithm=function(p){var b=this._ctx;b.algorithm=ar(b.algorithm,p)},Nt.prototype._iterate=function(p,b){return os(this._ctx,p,b,this._ctx.table.core)},Nt.prototype.clone=function(p){var b=Object.create(this.constructor.prototype),C=Object.create(this._ctx);return p&&f(C,p),b._ctx=C,b},Nt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Nt.prototype.each=function(p){var b=this._ctx;return this._read(function(C){return os(b,p,C,b.table.core)})},Nt.prototype.count=function(p){var b=this;return this._read(function(C){var O=b._ctx,R=O.table.core;if(Zi(O,!0))return R.count({trans:C,query:{index:Fi(O,R.schema),range:O.range}}).then(function(F){return Math.min(F,O.limit)});var I=0;return os(O,function(){return++I,!1},C,R).then(function(){return I})}).then(p)},Nt.prototype.sortBy=function(p,b){var C=p.split(".").reverse(),O=C[0],R=C.length-1;function I(X,Q){return Q?I(X[C[Q]],Q-1):X[O]}var F=this._ctx.dir==="next"?1:-1;function q(X,Q){return st(I(X,R),I(Q,R))*F}return this.toArray(function(X){return X.sort(q)}).then(b)},Nt.prototype.toArray=function(p){var b=this;return this._read(function(C){var O=b._ctx;if(O.dir==="next"&&Zi(O,!0)&&0<O.limit){var R=O.valueMapper,I=Fi(O,O.table.core.schema);return O.table.core.query({trans:C,limit:O.limit,values:!0,query:{index:I,range:O.range}}).then(function(q){return q=q.result,R?q.map(R):q})}var F=[];return os(O,function(q){return F.push(q)},C,O.table.core).then(function(){return F})},p)},Nt.prototype.offset=function(p){var b=this._ctx;return p<=0||(b.offset+=p,Zi(b)?is(b,function(){var C=p;return function(O,R){return C===0||(C===1?--C:R(function(){O.advance(C),C=0}),!1)}}):is(b,function(){var C=p;return function(){return--C<0}})),this},Nt.prototype.limit=function(p){return this._ctx.limit=Math.min(this._ctx.limit,p),is(this._ctx,function(){var b=p;return function(C,O,R){return--b<=0&&O(R),0<=b}},!0),this},Nt.prototype.until=function(p,b){return Zs(this._ctx,function(C,O,R){return!p(C.value)||(O(R),b)}),this},Nt.prototype.first=function(p){return this.limit(1).toArray(function(b){return b[0]}).then(p)},Nt.prototype.last=function(p){return this.reverse().first(p)},Nt.prototype.filter=function(p){var b;return Zs(this._ctx,function(C){return p(C.value)}),(b=this._ctx).isMatch=ar(b.isMatch,p),this},Nt.prototype.and=function(p){return this.filter(p)},Nt.prototype.or=function(p){return new this.db.WhereClause(this._ctx.table,p,this)},Nt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Nt.prototype.desc=function(){return this.reverse()},Nt.prototype.eachKey=function(p){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,O){p(O.key,O)})},Nt.prototype.eachUniqueKey=function(p){return this._ctx.unique="unique",this.eachKey(p)},Nt.prototype.eachPrimaryKey=function(p){var b=this._ctx;return b.keysOnly=!b.isMatch,this.each(function(C,O){p(O.primaryKey,O)})},Nt.prototype.keys=function(p){var b=this._ctx;b.keysOnly=!b.isMatch;var C=[];return this.each(function(O,R){C.push(R.key)}).then(function(){return C}).then(p)},Nt.prototype.primaryKeys=function(p){var b=this._ctx;if(b.dir==="next"&&Zi(b,!0)&&0<b.limit)return this._read(function(O){var R=Fi(b,b.table.core.schema);return b.table.core.query({trans:O,values:!1,limit:b.limit,query:{index:R,range:b.range}})}).then(function(O){return O.result}).then(p);b.keysOnly=!b.isMatch;var C=[];return this.each(function(O,R){C.push(R.primaryKey)}).then(function(){return C}).then(p)},Nt.prototype.uniqueKeys=function(p){return this._ctx.unique="unique",this.keys(p)},Nt.prototype.firstKey=function(p){return this.limit(1).keys(function(b){return b[0]}).then(p)},Nt.prototype.lastKey=function(p){return this.reverse().firstKey(p)},Nt.prototype.distinct=function(){var p=this._ctx,p=p.index&&p.table.schema.idxByName[p.index];if(!p||!p.multi)return this;var b={};return Zs(this._ctx,function(R){var O=R.primaryKey.toString(),R=y(b,O);return b[O]=!0,!R}),this},Nt.prototype.modify=function(p){var b=this,C=this._ctx;return this._write(function(O){var R=typeof p=="function"?p:function(re){return ua(re,p)},I=C.table.core,Q=I.schema.primaryKey,F=Q.outbound,q=Q.extractKey,X=200,Q=b.db._options.modifyChunkSize;Q&&(X=typeof Q=="object"?Q[I.name]||Q["*"]||200:Q);function oe(re,ye){var fe=ye.failures,ye=ye.numFailures;le+=re-ye;for(var Oe=0,Pe=u(fe);Oe<Pe.length;Oe++){var Be=Pe[Oe];K.push(fe[Be])}}var K=[],le=0,Z=[],te=p===Ru;return b.clone().primaryKeys().then(function(re){function ae(ye){var Oe=Math.min(X,re.length-ye),Pe=re.slice(ye,ye+Oe);return(te?Promise.resolve([]):I.getMany({trans:O,keys:Pe,cache:"immutable"})).then(function(Be){var Ye=[],ke=[],Ue=F?[]:null,Ve=te?Pe:[];if(!te)for(var ze=0;ze<Oe;++ze){var Xe=Be[ze],ut={value:Ee(Xe),primKey:re[ye+ze]};R.call(ut,ut.value,ut)!==!1&&(ut.value==null?Ve.push(re[ye+ze]):F||st(q(Xe),q(ut.value))===0?(ke.push(ut.value),F&&Ue.push(re[ye+ze])):(Ve.push(re[ye+ze]),Ye.push(ut.value)))}return Promise.resolve(0<Ye.length&&I.mutate({trans:O,type:"add",values:Ye}).then(function(gt){for(var bt in gt.failures)Ve.splice(parseInt(bt),1);oe(Ye.length,gt)})).then(function(){return(0<ke.length||fe&&typeof p=="object")&&I.mutate({trans:O,type:"put",keys:Ue,values:ke,criteria:fe,changeSpec:typeof p!="function"&&p,isAdditionalChunk:0<ye}).then(function(gt){return oe(ke.length,gt)})}).then(function(){return(0<Ve.length||fe&&te)&&I.mutate({trans:O,type:"delete",keys:Ve,criteria:fe,isAdditionalChunk:0<ye}).then(function(gt){return Ct(C.table,Ve,gt)}).then(function(gt){return oe(Ve.length,gt)})}).then(function(){return re.length>ye+Oe&&ae(ye+X)})})}var fe=Zi(C)&&C.limit===1/0&&(typeof p!="function"||te)&&{index:C.index,range:C.range};return ae(0).then(function(){if(0<K.length)throw new Ie("Error modifying one or more objects",K,le,Z);return re.length})})})},Nt.prototype.delete=function(){var p=this._ctx,b=p.range;return!Zi(p)||p.table.schema.yProps||!p.isPrimKey&&b.type!==3?this.modify(Ru):this._write(function(C){var O=p.table.core.schema.primaryKey,R=b;return p.table.core.count({trans:C,query:{index:O,range:R}}).then(function(I){return p.table.core.mutate({trans:C,type:"deleteRange",range:R}).then(function(X){var q=X.failures,X=X.numFailures;if(X)throw new Ie("Could not delete some values",Object.keys(q).map(function(Q){return q[Q]}),I-X);return I-X})})})},Nt);function Nt(){}var Ru=function(p,b){return b.value=null};function Du(p,b){return p<b?-1:p===b?0:1}function xp(p,b){return b<p?-1:p===b?0:1}function Or(p,b,C){return p=p instanceof _o?new p.Collection(p):p,p._ctx.error=new(C||TypeError)(b),p}function Bi(p){return new p.Collection(p,function(){return Js("")}).limit(0)}function kr(p,b,C,O){var R,I,F,q,X,Q,oe,K=C.length;if(!C.every(function(te){return typeof te=="string"}))return Or(p,tn);function le(te){R=te==="next"?function(ae){return ae.toUpperCase()}:function(ae){return ae.toLowerCase()},I=te==="next"?function(ae){return ae.toLowerCase()}:function(ae){return ae.toUpperCase()},F=te==="next"?Du:xp;var re=C.map(function(ae){return{lower:I(ae),upper:R(ae)}}).sort(function(ae,fe){return F(ae.lower,fe.lower)});q=re.map(function(ae){return ae.upper}),X=re.map(function(ae){return ae.lower}),oe=(Q=te)==="next"?"":O}le("next"),p=new p.Collection(p,function(){return gi(q[0],X[K-1]+O)}),p._ondirectionchange=function(te){le(te)};var Z=0;return p._addAlgorithm(function(te,re,ae){var fe=te.key;if(typeof fe!="string")return!1;var ye=I(fe);if(b(ye,X,Z))return!0;for(var Oe=null,Pe=Z;Pe<K;++Pe){var Be=(function(Ye,ke,Ue,Ve,ze,Xe){for(var ut=Math.min(Ye.length,Ve.length),gt=-1,bt=0;bt<ut;++bt){var tr=ke[bt];if(tr!==Ve[bt])return ze(Ye[bt],Ue[bt])<0?Ye.substr(0,bt)+Ue[bt]+Ue.substr(bt+1):ze(Ye[bt],Ve[bt])<0?Ye.substr(0,bt)+Ve[bt]+Ue.substr(bt+1):0<=gt?Ye.substr(0,gt)+ke[gt]+Ue.substr(gt+1):null;ze(Ye[bt],tr)<0&&(gt=bt)}return ut<Ve.length&&Xe==="next"?Ye+Ue.substr(Ye.length):ut<Ye.length&&Xe==="prev"?Ye.substr(0,Ue.length):gt<0?null:Ye.substr(0,gt)+Ve[gt]+Ue.substr(gt+1)})(fe,ye,q[Pe],X[Pe],F,Q);Be===null&&Oe===null?Z=Pe+1:(Oe===null||0<F(Oe,Be))&&(Oe=Be)}return re(Oe!==null?function(){te.continue(Oe+oe)}:ae),!1}),p}function gi(p,b,C,O){return{type:2,lower:p,upper:b,lowerOpen:C,upperOpen:O}}function Js(p){return{type:1,lower:p,upper:p}}var _o=(Object.defineProperty(dn.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dn.prototype.between=function(p,b,C,O){C=C!==!1,O=O===!0;try{return 0<this._cmp(p,b)||this._cmp(p,b)===0&&(C||O)&&(!C||!O)?Bi(this):new this.Collection(this,function(){return gi(p,b,!C,!O)})}catch{return Or(this,vn)}},dn.prototype.equals=function(p){return p==null?Or(this,vn):new this.Collection(this,function(){return Js(p)})},dn.prototype.above=function(p){return p==null?Or(this,vn):new this.Collection(this,function(){return gi(p,void 0,!0)})},dn.prototype.aboveOrEqual=function(p){return p==null?Or(this,vn):new this.Collection(this,function(){return gi(p,void 0,!1)})},dn.prototype.below=function(p){return p==null?Or(this,vn):new this.Collection(this,function(){return gi(void 0,p,!1,!0)})},dn.prototype.belowOrEqual=function(p){return p==null?Or(this,vn):new this.Collection(this,function(){return gi(void 0,p)})},dn.prototype.startsWith=function(p){return typeof p!="string"?Or(this,tn):this.between(p,p+ln,!0,!0)},dn.prototype.startsWithIgnoreCase=function(p){return p===""?this.startsWith(p):kr(this,function(b,C){return b.indexOf(C[0])===0},[p],ln)},dn.prototype.equalsIgnoreCase=function(p){return kr(this,function(b,C){return b===C[0]},[p],"")},dn.prototype.anyOfIgnoreCase=function(){var p=Se.apply(ge,arguments);return p.length===0?Bi(this):kr(this,function(b,C){return C.indexOf(b)!==-1},p,"")},dn.prototype.startsWithAnyOfIgnoreCase=function(){var p=Se.apply(ge,arguments);return p.length===0?Bi(this):kr(this,function(b,C){return C.some(function(O){return b.indexOf(O)===0})},p,ln)},dn.prototype.anyOf=function(){var p=this,b=Se.apply(ge,arguments),C=this._cmp;try{b.sort(C)}catch{return Or(this,vn)}if(b.length===0)return Bi(this);var O=new this.Collection(this,function(){return gi(b[0],b[b.length-1])});O._ondirectionchange=function(I){C=I==="next"?p._ascending:p._descending,b.sort(C)};var R=0;return O._addAlgorithm(function(I,F,q){for(var X=I.key;0<C(X,b[R]);)if(++R===b.length)return F(q),!1;return C(X,b[R])===0||(F(function(){I.continue(b[R])}),!1)}),O},dn.prototype.notEqual=function(p){return this.inAnyRange([[-1/0,p],[p,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dn.prototype.noneOf=function(){var p=Se.apply(ge,arguments);if(p.length===0)return new this.Collection(this);try{p.sort(this._ascending)}catch{return Or(this,vn)}var b=p.reduce(function(C,O){return C?C.concat([[C[C.length-1][1],O]]):[[-1/0,O]]},null);return b.push([p[p.length-1],this.db._maxKey]),this.inAnyRange(b,{includeLowers:!1,includeUppers:!1})},dn.prototype.inAnyRange=function(fe,b){var C=this,O=this._cmp,R=this._ascending,I=this._descending,F=this._min,q=this._max;if(fe.length===0)return Bi(this);if(!fe.every(function(ye){return ye[0]!==void 0&&ye[1]!==void 0&&R(ye[0],ye[1])<=0}))return Or(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",De.InvalidArgument);var X=!b||b.includeLowers!==!1,Q=b&&b.includeUppers===!0,oe,K=R;function le(ye,Oe){return K(ye[0],Oe[0])}try{(oe=fe.reduce(function(ye,Oe){for(var Pe=0,Be=ye.length;Pe<Be;++Pe){var Ye=ye[Pe];if(O(Oe[0],Ye[1])<0&&0<O(Oe[1],Ye[0])){Ye[0]=F(Ye[0],Oe[0]),Ye[1]=q(Ye[1],Oe[1]);break}}return Pe===Be&&ye.push(Oe),ye},[])).sort(le)}catch{return Or(this,vn)}var Z=0,te=Q?function(ye){return 0<R(ye,oe[Z][1])}:function(ye){return 0<=R(ye,oe[Z][1])},re=X?function(ye){return 0<I(ye,oe[Z][0])}:function(ye){return 0<=I(ye,oe[Z][0])},ae=te,fe=new this.Collection(this,function(){return gi(oe[0][0],oe[oe.length-1][1],!X,!Q)});return fe._ondirectionchange=function(ye){K=ye==="next"?(ae=te,R):(ae=re,I),oe.sort(le)},fe._addAlgorithm(function(ye,Oe,Pe){for(var Be,Ye=ye.key;ae(Ye);)if(++Z===oe.length)return Oe(Pe),!1;return!te(Be=Ye)&&!re(Be)||(C._cmp(Ye,oe[Z][1])===0||C._cmp(Ye,oe[Z][0])===0||Oe(function(){K===R?ye.continue(oe[Z][0]):ye.continue(oe[Z][1])}),!1)}),fe},dn.prototype.startsWithAnyOf=function(){var p=Se.apply(ge,arguments);return p.every(function(b){return typeof b=="string"})?p.length===0?Bi(this):this.inAnyRange(p.map(function(b){return[b,b+ln]})):Or(this,"startsWithAnyOf() only works with strings")},dn);function dn(){}function Jr(p){return $(function(b){return Eo(b),p(b.target.error),!1})}function Eo(p){p.stopPropagation&&p.stopPropagation(),p.preventDefault&&p.preventDefault()}var ca="storagemutated",Oo="x-storagemutated-1",Jn=rs(null,ca),Au=(hr.prototype._lock=function(){return z(!Ge.global),++this._reculock,this._reculock!==1||Ge.global||(Ge.lockOwnerFor=this),this},hr.prototype._unlock=function(){if(z(!Ge.global),--this._reculock==0)for(Ge.global||(Ge.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var p=this._blockedFuncs.shift();try{Ut(p[1],p[0])}catch{}}return this},hr.prototype._locked=function(){return this._reculock&&Ge.lockOwnerFor!==this},hr.prototype.create=function(p){var b=this;if(!this.mode)return this;var C=this.db.idbdb,O=this.db._state.dbOpenError;if(z(!this.idbtrans),!p&&!C)switch(O&&O.name){case"DatabaseClosedError":throw new De.DatabaseClosed(O);case"MissingAPIError":throw new De.MissingAPI(O.message,O);default:throw new De.OpenFailed(O)}if(!this.active)throw new De.TransactionInactive;return z(this._completion._state===null),(p=this.idbtrans=p||(this.db.core||C).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=$(function(R){Eo(R),b._reject(p.error)}),p.onabort=$(function(R){Eo(R),b.active&&b._reject(new De.Abort(p.error)),b.active=!1,b.on("abort").fire(R)}),p.oncomplete=$(function(){b.active=!1,b._resolve(),"mutatedParts"in p&&Jn.storagemutated.fire(p.mutatedParts)}),this},hr.prototype._promise=function(p,b,C){var O=this;if(p==="readwrite"&&this.mode!=="readwrite")return at(new De.ReadOnly("Transaction is readonly"));if(!this.active)return at(new De.TransactionInactive);if(this._locked())return new $e(function(I,F){O._blockedFuncs.push([function(){O._promise(p,b,C).then(I,F)},Ge])});if(C)return He(function(){var I=new $e(function(F,q){O._lock();var X=b(F,q,O);X&&X.then&&X.then(F,q)});return I.finally(function(){return O._unlock()}),I._lib=!0,I});var R=new $e(function(I,F){var q=b(I,F,O);q&&q.then&&q.then(I,F)});return R._lib=!0,R},hr.prototype._root=function(){return this.parent?this.parent._root():this},hr.prototype.waitFor=function(p){var b,C=this._root(),O=$e.resolve(p);C._waitingFor?C._waitingFor=C._waitingFor.then(function(){return O}):(C._waitingFor=O,C._waitingQueue=[],b=C.idbtrans.objectStore(C.storeNames[0]),(function I(){for(++C._spinCount;C._waitingQueue.length;)C._waitingQueue.shift()();C._waitingFor&&(b.get(-1/0).onsuccess=I)})());var R=C._waitingFor;return new $e(function(I,F){O.then(function(q){return C._waitingQueue.push($(I.bind(null,q)))},function(q){return C._waitingQueue.push($(F.bind(null,q)))}).finally(function(){C._waitingFor===R&&(C._waitingFor=null)})})},hr.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new De.Abort))},hr.prototype.table=function(p){var b=this._memoizedTables||(this._memoizedTables={});if(y(b,p))return b[p];var C=this.schema[p];if(!C)throw new De.NotFound("Table "+p+" not part of transaction");return C=new this.db.Table(p,C,this),C.core=this.db.core.table(p),b[p]=C},hr);function hr(){}function yi(p,b,C,O,R,I,F,q){return{name:p,keyPath:b,unique:C,multi:O,auto:R,compound:I,src:(C&&!F?"&":"")+(O?"*":"")+(R?"++":"")+el(b),type:q}}function el(p){return typeof p=="string"?p:p?"["+[].join.call(p,"+")+"]":""}function da(p,b,C){return{name:p,primKey:b,indexes:C,mappedClass:null,idxByName:(O=function(R){return[R.name,R]},C.reduce(function(R,I,F){return F=O(I,F),F&&(R[F[0]]=F[1]),R},{}))};var O}var fa=function(p){try{return p.only([[]]),fa=function(){return[[]]},[[]]}catch{return fa=function(){return ln},ln}};function ha(p){return p==null?function(){}:typeof p=="string"?(b=p).split(".").length===1?function(C){return C[b]}:function(C){return G(C,b)}:function(C){return G(C,p)};var b}function as(p){return[].slice.call(p)}var wd=0;function kn(p){return p==null?":id":typeof p=="string"?p:"[".concat(p.join("+"),"]")}function To(p,b,X){function O(ae){if(ae.type===3)return null;if(ae.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Z=ae.lower,te=ae.upper,re=ae.lowerOpen,ae=ae.upperOpen;return Z===void 0?te===void 0?null:b.upperBound(te,!!ae):te===void 0?b.lowerBound(Z,!!re):b.bound(Z,te,!!re,!!ae)}function R(le){var Z,te=le.name;return{name:te,schema:le,mutate:function(re){var ae=re.trans,fe=re.type,ye=re.keys,Oe=re.values,Pe=re.range;return new Promise(function(Be,Ye){Be=$(Be);var ke=ae.objectStore(te),Ue=ke.keyPath==null,Ve=fe==="put"||fe==="add";if(!Ve&&fe!=="delete"&&fe!=="deleteRange")throw new Error("Invalid operation type: "+fe);var ze,Xe=(ye||Oe||{length:1}).length;if(ye&&Oe&&ye.length!==Oe.length)throw new Error("Given keys array must have same length as given values array.");if(Xe===0)return Be({numFailures:0,failures:{},results:[],lastResult:void 0});function ut(Ln){++tr,Eo(Ln)}var gt=[],bt=[],tr=0;if(fe==="deleteRange"){if(Pe.type===4)return Be({numFailures:tr,failures:bt,results:[],lastResult:void 0});Pe.type===3?gt.push(ze=ke.clear()):gt.push(ze=ke.delete(O(Pe)))}else{var Ue=Ve?Ue?[Oe,ye]:[Oe,null]:[ye,null],pt=Ue[0],zn=Ue[1];if(Ve)for(var bn=0;bn<Xe;++bn)gt.push(ze=zn&&zn[bn]!==void 0?ke[fe](pt[bn],zn[bn]):ke[fe](pt[bn])),ze.onerror=ut;else for(bn=0;bn<Xe;++bn)gt.push(ze=ke[fe](pt[bn])),ze.onerror=ut}function hs(Ln){Ln=Ln.target.result,gt.forEach(function(zr,Vu){return zr.error!=null&&(bt[Vu]=zr.error)}),Be({numFailures:tr,failures:bt,results:fe==="delete"?ye:gt.map(function(zr){return zr.result}),lastResult:Ln})}ze.onerror=function(Ln){ut(Ln),hs(Ln)},ze.onsuccess=hs})},getMany:function(re){var ae=re.trans,fe=re.keys;return new Promise(function(ye,Oe){ye=$(ye);for(var Pe,Be=ae.objectStore(te),Ye=fe.length,ke=new Array(Ye),Ue=0,Ve=0,ze=function(gt){gt=gt.target,ke[gt._pos]=gt.result,++Ve===Ue&&ye(ke)},Xe=Jr(Oe),ut=0;ut<Ye;++ut)fe[ut]!=null&&((Pe=Be.get(fe[ut]))._pos=ut,Pe.onsuccess=ze,Pe.onerror=Xe,++Ue);Ue===0&&ye(ke)})},get:function(re){var ae=re.trans,fe=re.key;return new Promise(function(ye,Oe){ye=$(ye);var Pe=ae.objectStore(te).get(fe);Pe.onsuccess=function(Be){return ye(Be.target.result)},Pe.onerror=Jr(Oe)})},query:(Z=Q,function(re){return new Promise(function(ae,fe){ae=$(ae);var ye,Oe,Pe,Ue=re.trans,Be=re.values,Ye=re.limit,ze=re.query,ke=Ye===1/0?void 0:Ye,Ve=ze.index,ze=ze.range,Ue=Ue.objectStore(te),Ve=Ve.isPrimaryKey?Ue:Ue.index(Ve.name),ze=O(ze);if(Ye===0)return ae({result:[]});Z?((ke=Be?Ve.getAll(ze,ke):Ve.getAllKeys(ze,ke)).onsuccess=function(Xe){return ae({result:Xe.target.result})},ke.onerror=Jr(fe)):(ye=0,Oe=!Be&&"openKeyCursor"in Ve?Ve.openKeyCursor(ze):Ve.openCursor(ze),Pe=[],Oe.onsuccess=function(Xe){var ut=Oe.result;return ut?(Pe.push(Be?ut.value:ut.primaryKey),++ye===Ye?ae({result:Pe}):void ut.continue()):ae({result:Pe})},Oe.onerror=Jr(fe))})}),openCursor:function(re){var ae=re.trans,fe=re.values,ye=re.query,Oe=re.reverse,Pe=re.unique;return new Promise(function(Be,Ye){Be=$(Be);var Ve=ye.index,ke=ye.range,Ue=ae.objectStore(te),Ue=Ve.isPrimaryKey?Ue:Ue.index(Ve.name),Ve=Oe?Pe?"prevunique":"prev":Pe?"nextunique":"next",ze=!fe&&"openKeyCursor"in Ue?Ue.openKeyCursor(O(ke),Ve):Ue.openCursor(O(ke),Ve);ze.onerror=Jr(Ye),ze.onsuccess=$(function(Xe){var ut,gt,bt,tr,pt=ze.result;pt?(pt.___id=++wd,pt.done=!1,ut=pt.continue.bind(pt),gt=(gt=pt.continuePrimaryKey)&&gt.bind(pt),bt=pt.advance.bind(pt),tr=function(){throw new Error("Cursor not stopped")},pt.trans=ae,pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=function(){throw new Error("Cursor not started")},pt.fail=$(Ye),pt.next=function(){var zn=this,bn=1;return this.start(function(){return bn--?zn.continue():zn.stop()}).then(function(){return zn})},pt.start=function(zn){function bn(){if(ze.result)try{zn()}catch(Ln){pt.fail(Ln)}else pt.done=!0,pt.start=function(){throw new Error("Cursor behind last entry")},pt.stop()}var hs=new Promise(function(Ln,zr){Ln=$(Ln),ze.onerror=Jr(zr),pt.fail=zr,pt.stop=function(Vu){pt.stop=pt.continue=pt.continuePrimaryKey=pt.advance=tr,Ln(Vu)}});return ze.onsuccess=$(function(Ln){ze.onsuccess=bn,bn()}),pt.continue=ut,pt.continuePrimaryKey=gt,pt.advance=bt,bn(),hs},Be(pt)):Be(null)},Ye)})},count:function(re){var ae=re.query,fe=re.trans,ye=ae.index,Oe=ae.range;return new Promise(function(Pe,Be){var Ye=fe.objectStore(te),ke=ye.isPrimaryKey?Ye:Ye.index(ye.name),Ye=O(Oe),ke=Ye?ke.count(Ye):ke.count();ke.onsuccess=$(function(Ue){return Pe(Ue.target.result)}),ke.onerror=Jr(Be)})}}}var I,F,q,oe=(F=X,q=as((I=p).objectStoreNames),{schema:{name:I.name,tables:q.map(function(le){return F.objectStore(le)}).map(function(le){var Z=le.keyPath,ae=le.autoIncrement,te=c(Z),re={},ae={name:le.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Z==null,compound:te,keyPath:Z,autoIncrement:ae,unique:!0,extractKey:ha(Z)},indexes:as(le.indexNames).map(function(fe){return le.index(fe)}).map(function(Pe){var ye=Pe.name,Oe=Pe.unique,Be=Pe.multiEntry,Pe=Pe.keyPath,Be={name:ye,compound:c(Pe),keyPath:Pe,unique:Oe,multiEntry:Be,extractKey:ha(Pe)};return re[kn(Pe)]=Be}),getIndexByKeyPath:function(fe){return re[kn(fe)]}};return re[":id"]=ae.primaryKey,Z!=null&&(re[kn(Z)]=ae.primaryKey),ae})},hasGetAll:0<q.length&&"getAll"in F.objectStore(q[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),X=oe.schema,Q=oe.hasGetAll,oe=X.tables.map(R),K={};return oe.forEach(function(le){return K[le.name]=le}),{stack:"dbcore",transaction:p.transaction.bind(p),table:function(le){if(!K[le])throw new Error("Table '".concat(le,"' not found"));return K[le]},MIN_KEY:-1/0,MAX_KEY:fa(b),schema:X}}function tl(p,b,C,O){var R=C.IDBKeyRange;return C.indexedDB,{dbcore:(O=To(b,R,O),p.dbcore.reduce(function(I,F){return F=F.create,i(i({},I),F(I))},O))}}function Ji(p,O){var C=O.db,O=tl(p._middlewares,C,p._deps,O);p.core=O.dbcore,p.tables.forEach(function(R){var I=R.name;p.core.schema.tables.some(function(F){return F.name===I})&&(R.core=p.core.table(I),p[I]instanceof p.Table&&(p[I].core=R.core))})}function nl(p,b,C,O){C.forEach(function(R){var I=O[R];b.forEach(function(F){var q=(function X(Q,oe){return P(Q,oe)||(Q=h(Q))&&X(Q,oe)})(F,R);(!q||"value"in q&&q.value===void 0)&&(F===p.Transaction.prototype||F instanceof p.Transaction?_(F,R,{get:function(){return this.table(R)},set:function(X){w(this,R,{value:X,writable:!0,configurable:!0,enumerable:!0})}}):F[R]=new p.Table(R,I))})})}function ss(p,b){b.forEach(function(C){for(var O in C)C[O]instanceof p.Table&&delete C[O]})}function Nu(p,b){return p._cfg.version-b._cfg.version}function ls(p,b,C,O){var R=p._dbSchema;C.objectStoreNames.contains("$meta")&&!R.$meta&&(R.$meta=da("$meta",Cd("")[0],[]),p._storeNames.push("$meta"));var I=p._createTransaction("readwrite",p._storeNames,R);I.create(C),I._completion.catch(O);var F=I._reject.bind(I),q=Ge.transless||Ge;He(function(){return Ge.trans=I,Ge.transless=q,b!==0?(Ji(p,C),Q=b,((X=I).storeNames.includes("$meta")?X.table("$meta").get("version").then(function(oe){return oe??Q}):$e.resolve(Q)).then(function(oe){return le=oe,Z=I,te=C,re=[],oe=(K=p)._versions,ae=K._dbSchema=pa(0,K.idbdb,te),(oe=oe.filter(function(fe){return fe._cfg.version>=le})).length!==0?(oe.forEach(function(fe){re.push(function(){var ye=ae,Oe=fe._cfg.dbschema;al(K,ye,te),al(K,Oe,te),ae=K._dbSchema=Oe;var Pe=il(ye,Oe);Pe.add.forEach(function(Ve){Iu(te,Ve[0],Ve[1].primKey,Ve[1].indexes)}),Pe.change.forEach(function(Ve){if(Ve.recreate)throw new De.Upgrade("Not yet support for changing primary key");var ze=te.objectStore(Ve.name);Ve.add.forEach(function(Xe){return ol(ze,Xe)}),Ve.change.forEach(function(Xe){ze.deleteIndex(Xe.name),ol(ze,Xe)}),Ve.del.forEach(function(Xe){return ze.deleteIndex(Xe)})});var Be=fe._cfg.contentUpgrade;if(Be&&fe._cfg.version>le){Ji(K,te),Z._memoizedTables={};var Ye=U(Oe);Pe.del.forEach(function(Ve){Ye[Ve]=ye[Ve]}),ss(K,[K.Transaction.prototype]),nl(K,[K.Transaction.prototype],u(Ye),Ye),Z.schema=Ye;var ke,Ue=H(Be);return Ue&&Ke(),Pe=$e.follow(function(){var Ve;(ke=Be(Z))&&Ue&&(Ve=Qe.bind(null,null),ke.then(Ve,Ve))}),ke&&typeof ke.then=="function"?$e.resolve(ke):Pe.then(function(){return ke})}}),re.push(function(ye){var Oe,Pe,Be=fe._cfg.dbschema;Oe=Be,Pe=ye,[].slice.call(Pe.db.objectStoreNames).forEach(function(Ye){return Oe[Ye]==null&&Pe.db.deleteObjectStore(Ye)}),ss(K,[K.Transaction.prototype]),nl(K,[K.Transaction.prototype],K._storeNames,K._dbSchema),Z.schema=K._dbSchema}),re.push(function(ye){K.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(K.idbdb.version/10)===fe._cfg.version?(K.idbdb.deleteObjectStore("$meta"),delete K._dbSchema.$meta,K._storeNames=K._storeNames.filter(function(Oe){return Oe!=="$meta"})):ye.objectStore("$meta").put(fe._cfg.version,"version"))})}),(function fe(){return re.length?$e.resolve(re.shift()(Z.idbtrans)).then(fe):$e.resolve()})().then(function(){Sd(ae,te)})):$e.resolve();var K,le,Z,te,re,ae}).catch(F)):(u(R).forEach(function(oe){Iu(C,oe,R[oe].primKey,R[oe].indexes)}),Ji(p,C),void $e.follow(function(){return p.on.populate.fire(I)}).catch(F));var X,Q})}function rl(p,b){Sd(p._dbSchema,b),b.db.version%10!=0||b.objectStoreNames.contains("$meta")||b.db.createObjectStore("$meta").add(Math.ceil(b.db.version/10-1),"version");var C=pa(0,p.idbdb,b);al(p,p._dbSchema,b);for(var O=0,R=il(C,p._dbSchema).change;O<R.length;O++){var I=(function(F){if(F.change.length||F.recreate)return console.warn("Unable to patch indexes of table ".concat(F.name," because it has changes on the type of index or primary key.")),{value:void 0};var q=b.objectStore(F.name);F.add.forEach(function(X){yn&&console.debug("Dexie upgrade patch: Creating missing index ".concat(F.name,".").concat(X.src)),ol(q,X)})})(R[O]);if(typeof I=="object")return I.value}}function il(p,b){var C,O={del:[],add:[],change:[]};for(C in p)b[C]||O.del.push(C);for(C in b){var R=p[C],I=b[C];if(R){var F={name:C,def:I,recreate:!1,del:[],add:[],change:[]};if(""+(R.primKey.keyPath||"")!=""+(I.primKey.keyPath||"")||R.primKey.auto!==I.primKey.auto)F.recreate=!0,O.change.push(F);else{var q=R.idxByName,X=I.idxByName,Q=void 0;for(Q in q)X[Q]||F.del.push(Q);for(Q in X){var oe=q[Q],K=X[Q];oe?oe.src!==K.src&&F.change.push(K):F.add.push(K)}(0<F.del.length||0<F.add.length||0<F.change.length)&&O.change.push(F)}}else O.add.push([C,I])}return O}function Iu(p,b,C,O){var R=p.db.createObjectStore(b,C.keyPath?{keyPath:C.keyPath,autoIncrement:C.auto}:{autoIncrement:C.auto});return O.forEach(function(I){return ol(R,I)}),R}function Sd(p,b){u(p).forEach(function(C){b.db.objectStoreNames.contains(C)||(yn&&console.debug("Dexie: Creating missing table",C),Iu(b,C,p[C].primKey,p[C].indexes))})}function ol(p,b){p.createIndex(b.name,b.keyPath,{unique:b.unique,multiEntry:b.multi})}function pa(p,b,C){var O={};return D(b.objectStoreNames,0).forEach(function(R){for(var I=C.objectStore(R),F=yi(el(Q=I.keyPath),Q||"",!0,!1,!!I.autoIncrement,Q&&typeof Q!="string",!0),q=[],X=0;X<I.indexNames.length;++X){var oe=I.index(I.indexNames[X]),Q=oe.keyPath,oe=yi(oe.name,Q,!!oe.unique,!!oe.multiEntry,!1,Q&&typeof Q!="string",!1);q.push(oe)}O[R]=da(R,F,q)}),O}function al(p,b,C){for(var O=C.db.objectStoreNames,R=0;R<O.length;++R){var I=O[R],F=C.objectStore(I);p._hasGetAll="getAll"in F;for(var q=0;q<F.indexNames.length;++q){var X=F.indexNames[q],Q=F.index(X).keyPath,oe=typeof Q=="string"?Q:"["+D(Q).join("+")+"]";!b[I]||(Q=b[I].idxByName[oe])&&(Q.name=X,delete b[I].idxByName[oe],b[I].idxByName[X]=Q)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(p._hasGetAll=!1)}function Cd(p){return p.split(",").map(function(b,C){var I=b.split(":"),O=(R=I[1])===null||R===void 0?void 0:R.trim(),R=(b=I[0].trim()).replace(/([&*]|\+\+)/g,""),I=/^\[/.test(R)?R.match(/^\[(.*)\]$/)[1].split("+"):R;return yi(R,I||null,/\&/.test(b),/\*/.test(b),/\+\+/.test(b),c(I),C===0,O)})}var wp=(ma.prototype._createTableSchema=da,ma.prototype._parseIndexSyntax=Cd,ma.prototype._parseStoresSpec=function(p,b){var C=this;u(p).forEach(function(O){if(p[O]!==null){var R=C._parseIndexSyntax(p[O]),I=R.shift();if(!I)throw new De.Schema("Invalid schema for table "+O+": "+p[O]);if(I.unique=!0,I.multi)throw new De.Schema("Primary key cannot be multiEntry*");R.forEach(function(F){if(F.auto)throw new De.Schema("Only primary key can be marked as autoIncrement (++)");if(!F.keyPath)throw new De.Schema("Index must have a name and cannot be an empty string")}),R=C._createTableSchema(O,I,R),b[O]=R}})},ma.prototype.stores=function(C){var b=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,C):C;var C=b._versions,O={},R={};return C.forEach(function(I){f(O,I._cfg.storesSource),R=I._cfg.dbschema={},I._parseStoresSpec(O,R)}),b._dbSchema=R,ss(b,[b._allTables,b,b.Transaction.prototype]),nl(b,[b._allTables,b,b.Transaction.prototype,this._cfg.tables],u(R),R),b._storeNames=u(R),this},ma.prototype.upgrade=function(p){return this._cfg.contentUpgrade=Vn(this._cfg.contentUpgrade||Je,p),this},ma);function ma(){}function ju(p,b){var C=p._dbNamesDB;return C||(C=p._dbNamesDB=new vi(Qn,{addons:[],indexedDB:p,IDBKeyRange:b})).version(1).stores({dbnames:"name"}),C.table("dbnames")}function sl(p){return p&&typeof p.databases=="function"}function ku(p){return He(function(){return Ge.letThrough=!0,p()})}function zu(p){return!("from"in p)}var er=function(p,b){if(!this){var C=new er;return p&&"d"in p&&f(C,p),C}f(this,arguments.length?{d:1,from:p,to:1<arguments.length?b:p}:{d:0})};function us(p,b,C){var O=st(b,C);if(!isNaN(O)){if(0<O)throw RangeError();if(zu(p))return f(p,{from:b,to:C,d:1});var R=p.l,O=p.r;if(st(C,p.from)<0)return R?us(R,b,C):p.l={from:b,to:C,d:1,l:null,r:null},Ed(p);if(0<st(b,p.to))return O?us(O,b,C):p.r={from:b,to:C,d:1,l:null,r:null},Ed(p);st(b,p.from)<0&&(p.from=b,p.l=null,p.d=O?O.d+1:1),0<st(C,p.to)&&(p.to=C,p.r=null,p.d=p.l?p.l.d+1:1),C=!p.r,R&&!p.l&&Mo(p,R),O&&C&&Mo(p,O)}}function Mo(p,b){zu(b)||(function C(O,X){var I=X.from,F=X.to,q=X.l,X=X.r;us(O,I,F),q&&C(O,q),X&&C(O,X)})(p,b)}function _d(p,b){var C=ll(b),O=C.next();if(O.done)return!1;for(var R=O.value,I=ll(p),F=I.next(R.from),q=F.value;!O.done&&!F.done;){if(st(q.from,R.to)<=0&&0<=st(q.to,R.from))return!0;st(R.from,q.from)<0?R=(O=C.next(q.from)).value:q=(F=I.next(R.from)).value}return!1}function ll(p){var b=zu(p)?null:{s:0,n:p};return{next:function(C){for(var O=0<arguments.length;b;)switch(b.s){case 0:if(b.s=1,O)for(;b.n.l&&st(C,b.n.from)<0;)b={up:b,n:b.n.l,s:1};else for(;b.n.l;)b={up:b,n:b.n.l,s:1};case 1:if(b.s=2,!O||st(C,b.n.to)<=0)return{value:b.n,done:!1};case 2:if(b.n.r){b.s=3,b={up:b,n:b.n.r,s:0};continue}case 3:b=b.up}return{done:!0}}}}function Ed(p){var b,C,O=(((b=p.r)===null||b===void 0?void 0:b.d)||0)-(((C=p.l)===null||C===void 0?void 0:C.d)||0),R=1<O?"r":O<-1?"l":"";R&&(b=R=="r"?"l":"r",C=i({},p),O=p[R],p.from=O.from,p.to=O.to,p[R]=O[R],C[R]=O[b],(p[b]=C).d=Lu(C)),p.d=Lu(p)}function Lu(C){var b=C.r,C=C.l;return(b?C?Math.max(b.d,C.d):b.d:C?C.d:0)+1}function ul(p,b){return u(b).forEach(function(C){p[C]?Mo(p[C],b[C]):p[C]=(function O(R){var I,F,q={};for(I in R)y(R,I)&&(F=R[I],q[I]=!F||typeof F!="object"||de.has(F.constructor)?F:O(F));return q})(b[C])}),p}function Fu(p,b){return p.all||b.all||Object.keys(p).some(function(C){return b[C]&&_d(b[C],p[C])})}v(er.prototype,((Tr={add:function(p){return Mo(this,p),this},addKey:function(p){return us(this,p,p),this},addKeys:function(p){var b=this;return p.forEach(function(C){return us(b,C,C)}),this},hasKey:function(p){var b=ll(this).next(p).value;return b&&st(b.from,p)<=0&&0<=st(b.to,p)}})[B]=function(){return ll(this)},Tr));var Po={},Bu={},Uu=!1;function cl(p){ul(Bu,p),Uu||(Uu=!0,setTimeout(function(){Uu=!1,$u(Bu,!(Bu={}))},0))}function $u(p,b){b===void 0&&(b=!1);var C=new Set;if(p.all)for(var O=0,R=Object.values(Po);O<R.length;O++)Od(F=R[O],p,C,b);else for(var I in p){var F,q=/^idb\:\/\/(.*)\/(.*)\//.exec(I);q&&(I=q[1],q=q[2],(F=Po["idb://".concat(I,"/").concat(q)])&&Od(F,p,C,b))}C.forEach(function(X){return X()})}function Od(p,b,C,O){for(var R=[],I=0,F=Object.entries(p.queries.query);I<F.length;I++){for(var q=F[I],X=q[0],Q=[],oe=0,K=q[1];oe<K.length;oe++){var le=K[oe];Fu(b,le.obsSet)?le.subscribers.forEach(function(ae){return C.add(ae)}):O&&Q.push(le)}O&&R.push([X,Q])}if(O)for(var Z=0,te=R;Z<te.length;Z++){var re=te[Z],X=re[0],Q=re[1];p.queries.query[X]=Q}}function Sp(p){var b=p._state,C=p._deps.indexedDB;if(b.isBeingOpened||p.idbdb)return b.dbReadyPromise.then(function(){return b.dbOpenError?at(b.dbOpenError):p});b.isBeingOpened=!0,b.dbOpenError=null,b.openComplete=!1;var O=b.openCanceller,R=Math.round(10*p.verno),I=!1;function F(){if(b.openCanceller!==O)throw new De.DatabaseClosed("db.open() was cancelled")}function q(){return new $e(function(le,Z){if(F(),!C)throw new De.MissingAPI;var te=p.name,re=b.autoSchema||!R?C.open(te):C.open(te,R);if(!re)throw new De.MissingAPI;re.onerror=Jr(Z),re.onblocked=$(p._fireOnBlocked),re.onupgradeneeded=$(function(ae){var fe;oe=re.transaction,b.autoSchema&&!p._options.allowEmptyDB?(re.onerror=Eo,oe.abort(),re.result.close(),(fe=C.deleteDatabase(te)).onsuccess=fe.onerror=$(function(){Z(new De.NoSuchDatabase("Database ".concat(te," doesnt exist")))})):(oe.onerror=Jr(Z),ae=ae.oldVersion>Math.pow(2,62)?0:ae.oldVersion,K=ae<1,p.idbdb=re.result,I&&rl(p,oe),ls(p,ae/10,oe,Z))},Z),re.onsuccess=$(function(){oe=null;var ae,fe,ye,Oe,Pe,Be=p.idbdb=re.result,Ye=D(Be.objectStoreNames);if(0<Ye.length)try{var ke=Be.transaction((Oe=Ye).length===1?Oe[0]:Oe,"readonly");if(b.autoSchema)fe=Be,ye=ke,(ae=p).verno=fe.version/10,ye=ae._dbSchema=pa(0,fe,ye),ae._storeNames=D(fe.objectStoreNames,0),nl(ae,[ae._allTables],u(ye),ye);else if(al(p,p._dbSchema,ke),((Pe=il(pa(0,(Pe=p).idbdb,ke),Pe._dbSchema)).add.length||Pe.change.some(function(Ue){return Ue.add.length||Ue.change.length}))&&!I)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Be.close(),R=Be.version+1,I=!0,le(q());Ji(p,ke)}catch{}Xn.push(p),Be.onversionchange=$(function(Ue){b.vcFired=!0,p.on("versionchange").fire(Ue)}),Be.onclose=$(function(){p.close({disableAutoOpen:!1})}),K&&(Pe=p._deps,ke=te,Be=Pe.indexedDB,Pe=Pe.IDBKeyRange,sl(Be)||ke===Qn||ju(Be,Pe).put({name:ke}).catch(Je)),le()},Z)}).catch(function(le){switch(le?.name){case"UnknownError":if(0<b.PR1398_maxLoop)return b.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),q();break;case"VersionError":if(0<R)return R=0,q()}return $e.reject(le)})}var X,Q=b.dbReadyResolve,oe=null,K=!1;return $e.race([O,(typeof navigator>"u"?$e.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(le){function Z(){return indexedDB.databases().finally(le)}X=setInterval(Z,100),Z()}).finally(function(){return clearInterval(X)}):Promise.resolve()).then(q)]).then(function(){return F(),b.onReadyBeingFired=[],$e.resolve(ku(function(){return p.on.ready.fire(p.vip)})).then(function le(){if(0<b.onReadyBeingFired.length){var Z=b.onReadyBeingFired.reduce(Vn,Je);return b.onReadyBeingFired=[],$e.resolve(ku(function(){return Z(p.vip)})).then(le)}})}).finally(function(){b.openCanceller===O&&(b.onReadyBeingFired=null,b.isBeingOpened=!1)}).catch(function(le){b.dbOpenError=le;try{oe&&oe.abort()}catch{}return O===b.openCanceller&&p._close(),at(le)}).finally(function(){b.openComplete=!0,Q()}).then(function(){var le;return K&&(le={},p.tables.forEach(function(Z){Z.schema.indexes.forEach(function(te){te.name&&(le["idb://".concat(p.name,"/").concat(Z.name,"/").concat(te.name)]=new er(-1/0,[[[]]]))}),le["idb://".concat(p.name,"/").concat(Z.name,"/")]=le["idb://".concat(p.name,"/").concat(Z.name,"/:dels")]=new er(-1/0,[[[]]])}),Jn(ca).fire(le),$u(le,!0)),p})}function cs(p){function b(I){return p.next(I)}var C=R(b),O=R(function(I){return p.throw(I)});function R(I){return function(X){var q=I(X),X=q.value;return q.done?X:X&&typeof X.then=="function"?X.then(C,O):c(X)?Promise.all(X).then(C,O):C(X)}}return R(b)()}function eo(p,b,C){for(var O=c(p)?p.slice():[p],R=0;R<C;++R)O.push(b);return O}var Cp={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(p){return i(i({},p),{table:function(b){var C=p.table(b),O=C.schema,R={},I=[];function F(K,le,Z){var te=kn(K),re=R[te]=R[te]||[],ae=K==null?0:typeof K=="string"?1:K.length,fe=0<le,fe=i(i({},Z),{name:fe?"".concat(te,"(virtual-from:").concat(Z.name,")"):Z.name,lowLevelIndex:Z,isVirtual:fe,keyTail:le,keyLength:ae,extractKey:ha(K),unique:!fe&&Z.unique});return re.push(fe),fe.isPrimaryKey||I.push(fe),1<ae&&F(ae===2?K[0]:K.slice(0,ae-1),le+1,Z),re.sort(function(ye,Oe){return ye.keyTail-Oe.keyTail}),fe}b=F(O.primaryKey.keyPath,0,O.primaryKey),R[":id"]=[b];for(var q=0,X=O.indexes;q<X.length;q++){var Q=X[q];F(Q.keyPath,0,Q)}function oe(K){var le,Z=K.query.index;return Z.isVirtual?i(i({},K),{query:{index:Z.lowLevelIndex,range:(le=K.query.range,Z=Z.keyTail,{type:le.type===1?2:le.type,lower:eo(le.lower,le.lowerOpen?p.MAX_KEY:p.MIN_KEY,Z),lowerOpen:!0,upper:eo(le.upper,le.upperOpen?p.MIN_KEY:p.MAX_KEY,Z),upperOpen:!0})}}):K}return i(i({},C),{schema:i(i({},O),{primaryKey:b,indexes:I,getIndexByKeyPath:function(K){return(K=R[kn(K)])&&K[0]}}),count:function(K){return C.count(oe(K))},query:function(K){return C.query(oe(K))},openCursor:function(K){var le=K.query.index,Z=le.keyTail,te=le.isVirtual,re=le.keyLength;return te?C.openCursor(oe(K)).then(function(fe){return fe&&ae(fe)}):C.openCursor(K);function ae(fe){return Object.create(fe,{continue:{value:function(ye){ye!=null?fe.continue(eo(ye,K.reverse?p.MAX_KEY:p.MIN_KEY,Z)):K.unique?fe.continue(fe.key.slice(0,re).concat(K.reverse?p.MIN_KEY:p.MAX_KEY,Z)):fe.continue()}},continuePrimaryKey:{value:function(ye,Oe){fe.continuePrimaryKey(eo(ye,p.MAX_KEY,Z),Oe)}},primaryKey:{get:function(){return fe.primaryKey}},key:{get:function(){var ye=fe.key;return re===1?ye[0]:ye.slice(0,re)}},value:{get:function(){return fe.value}}})}}})}})}};function dl(p,b,C,O){return C=C||{},O=O||"",u(p).forEach(function(R){var I,F,q;y(b,R)?(I=p[R],F=b[R],typeof I=="object"&&typeof F=="object"&&I&&F?(q=xe(I))!==xe(F)?C[O+R]=b[R]:q==="Object"?dl(I,F,C,O+R+"."):I!==F&&(C[O+R]=b[R]):I!==F&&(C[O+R]=b[R])):C[O+R]=void 0}),u(b).forEach(function(R){y(p,R)||(C[O+R]=b[R])}),C}function fl(p,b){return b.type==="delete"?b.keys:b.keys||b.values.map(p.extractKey)}var Td={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(p){return i(i({},p),{table:function(b){var C=p.table(b),O=C.schema.primaryKey;return i(i({},C),{mutate:function(R){var I=Ge.trans,F=I.table(b).hook,q=F.deleting,X=F.creating,Q=F.updating;switch(R.type){case"add":if(X.fire===Je)break;return I._promise("readwrite",function(){return oe(R)},!0);case"put":if(X.fire===Je&&Q.fire===Je)break;return I._promise("readwrite",function(){return oe(R)},!0);case"delete":if(q.fire===Je)break;return I._promise("readwrite",function(){return oe(R)},!0);case"deleteRange":if(q.fire===Je)break;return I._promise("readwrite",function(){return(function K(le,Z,te){return C.query({trans:le,values:!1,query:{index:O,range:Z},limit:te}).then(function(re){var ae=re.result;return oe({type:"delete",keys:ae,trans:le}).then(function(fe){return 0<fe.numFailures?Promise.reject(fe.failures[0]):ae.length<te?{failures:[],numFailures:0,lastResult:void 0}:K(le,i(i({},Z),{lower:ae[ae.length-1],lowerOpen:!0}),te)})})})(R.trans,R.range,1e4)},!0)}return C.mutate(R);function oe(K){var le,Z,te,re=Ge.trans,ae=K.keys||fl(O,K);if(!ae)throw new Error("Keys missing");return(K=K.type==="add"||K.type==="put"?i(i({},K),{keys:ae}):i({},K)).type!=="delete"&&(K.values=a([],K.values)),K.keys&&(K.keys=a([],K.keys)),le=C,te=ae,((Z=K).type==="add"?Promise.resolve([]):le.getMany({trans:Z.trans,keys:te,cache:"immutable"})).then(function(fe){var ye=ae.map(function(Oe,Pe){var Be,Ye,ke,Ue=fe[Pe],Ve={onerror:null,onsuccess:null};return K.type==="delete"?q.fire.call(Ve,Oe,Ue,re):K.type==="add"||Ue===void 0?(Be=X.fire.call(Ve,Oe,K.values[Pe],re),Oe==null&&Be!=null&&(K.keys[Pe]=Oe=Be,O.outbound||j(K.values[Pe],O.keyPath,Oe))):(Be=dl(Ue,K.values[Pe]),(Ye=Q.fire.call(Ve,Be,Oe,Ue,re))&&(ke=K.values[Pe],Object.keys(Ye).forEach(function(ze){y(ke,ze)?ke[ze]=Ye[ze]:j(ke,ze,Ye[ze])}))),Ve});return C.mutate(K).then(function(Oe){for(var Pe=Oe.failures,Be=Oe.results,Ye=Oe.numFailures,Oe=Oe.lastResult,ke=0;ke<ae.length;++ke){var Ue=(Be||ae)[ke],Ve=ye[ke];Ue==null?Ve.onerror&&Ve.onerror(Pe[ke]):Ve.onsuccess&&Ve.onsuccess(K.type==="put"&&fe[ke]?K.values[ke]:Ue)}return{failures:Pe,results:Be,numFailures:Ye,lastResult:Oe}}).catch(function(Oe){return ye.forEach(function(Pe){return Pe.onerror&&Pe.onerror(Oe)}),Promise.reject(Oe)})})}}})}})}};function Hu(p,b,C){try{if(!b||b.keys.length<p.length)return null;for(var O=[],R=0,I=0;R<b.keys.length&&I<p.length;++R)st(b.keys[R],p[I])===0&&(O.push(C?Ee(b.values[R]):b.values[R]),++I);return O.length===p.length?O:null}catch{return null}}var Md={stack:"dbcore",level:-1,create:function(p){return{table:function(b){var C=p.table(b);return i(i({},C),{getMany:function(O){if(!O.cache)return C.getMany(O);var R=Hu(O.keys,O.trans._cache,O.cache==="clone");return R?$e.resolve(R):C.getMany(O).then(function(I){return O.trans._cache={keys:O.keys,values:O.cache==="clone"?Ee(I):I},I})},mutate:function(O){return O.type!=="add"&&(O.trans._cache=null),C.mutate(O)}})}}}};function Ro(p,b){return p.trans.mode==="readonly"&&!!p.subscr&&!p.trans.explicit&&p.trans.db._options.cache!=="disabled"&&!b.schema.primaryKey.outbound}function Pd(p,b){switch(p){case"query":return b.values&&!b.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var _p={stack:"dbcore",level:0,name:"Observability",create:function(p){var b=p.schema.name,C=new er(p.MIN_KEY,p.MAX_KEY);return i(i({},p),{transaction:function(O,R,I){if(Ge.subscr&&R!=="readonly")throw new De.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ge.querier));return p.transaction(O,R,I)},table:function(O){var R=p.table(O),I=R.schema,F=I.primaryKey,K=I.indexes,q=F.extractKey,X=F.outbound,Q=F.autoIncrement&&K.filter(function(Z){return Z.compound&&Z.keyPath.includes(F.keyPath)}),oe=i(i({},R),{mutate:function(Z){function te(ze){return ze="idb://".concat(b,"/").concat(O,"/").concat(ze),Oe[ze]||(Oe[ze]=new er)}var re,ae,fe,ye=Z.trans,Oe=Z.mutatedParts||(Z.mutatedParts={}),Pe=te(""),Be=te(":dels"),Ye=Z.type,Ve=Z.type==="deleteRange"?[Z.range]:Z.type==="delete"?[Z.keys]:Z.values.length<50?[fl(F,Z).filter(function(ze){return ze}),Z.values]:[],ke=Ve[0],Ue=Ve[1],Ve=Z.trans._cache;return c(ke)?(Pe.addKeys(ke),(Ve=Ye==="delete"||ke.length===Ue.length?Hu(ke,Ve):null)||Be.addKeys(ke),(Ve||Ue)&&(re=te,ae=Ve,fe=Ue,I.indexes.forEach(function(ze){var Xe=re(ze.name||"");function ut(bt){return bt!=null?ze.extractKey(bt):null}function gt(bt){return ze.multiEntry&&c(bt)?bt.forEach(function(tr){return Xe.addKey(tr)}):Xe.addKey(bt)}(ae||fe).forEach(function(bt,zn){var pt=ae&&ut(ae[zn]),zn=fe&&ut(fe[zn]);st(pt,zn)!==0&&(pt!=null&&gt(pt),zn!=null&&gt(zn))})}))):ke?(Ue={from:(Ue=ke.lower)!==null&&Ue!==void 0?Ue:p.MIN_KEY,to:(Ue=ke.upper)!==null&&Ue!==void 0?Ue:p.MAX_KEY},Be.add(Ue),Pe.add(Ue)):(Pe.add(C),Be.add(C),I.indexes.forEach(function(ze){return te(ze.name).add(C)})),R.mutate(Z).then(function(ze){return!ke||Z.type!=="add"&&Z.type!=="put"||(Pe.addKeys(ze.results),Q&&Q.forEach(function(Xe){for(var ut=Z.values.map(function(pt){return Xe.extractKey(pt)}),gt=Xe.keyPath.findIndex(function(pt){return pt===F.keyPath}),bt=0,tr=ze.results.length;bt<tr;++bt)ut[bt][gt]=ze.results[bt];te(Xe.name).addKeys(ut)})),ye.mutatedParts=ul(ye.mutatedParts||{},Oe),ze})}}),K=function(te){var re=te.query,te=re.index,re=re.range;return[te,new er((te=re.lower)!==null&&te!==void 0?te:p.MIN_KEY,(re=re.upper)!==null&&re!==void 0?re:p.MAX_KEY)]},le={get:function(Z){return[F,new er(Z.key)]},getMany:function(Z){return[F,new er().addKeys(Z.keys)]},count:K,query:K,openCursor:K};return u(le).forEach(function(Z){oe[Z]=function(te){var re=Ge.subscr,ae=!!re,fe=Ro(Ge,R)&&Pd(Z,te)?te.obsSet={}:re;if(ae){var ye=function(Ue){return Ue="idb://".concat(b,"/").concat(O,"/").concat(Ue),fe[Ue]||(fe[Ue]=new er)},Oe=ye(""),Pe=ye(":dels"),re=le[Z](te),ae=re[0],re=re[1];if((Z==="query"&&ae.isPrimaryKey&&!te.values?Pe:ye(ae.name||"")).add(re),!ae.isPrimaryKey){if(Z!=="count"){var Be=Z==="query"&&X&&te.values&&R.query(i(i({},te),{values:!1}));return R[Z].apply(this,arguments).then(function(Ue){if(Z==="query"){if(X&&te.values)return Be.then(function(ut){return ut=ut.result,Oe.addKeys(ut),Ue});var Ve=te.values?Ue.result.map(q):Ue.result;(te.values?Oe:Pe).addKeys(Ve)}else if(Z==="openCursor"){var ze=Ue,Xe=te.values;return ze&&Object.create(ze,{key:{get:function(){return Pe.addKey(ze.primaryKey),ze.key}},primaryKey:{get:function(){var ut=ze.primaryKey;return Pe.addKey(ut),ut}},value:{get:function(){return Xe&&Oe.addKey(ze.primaryKey),ze.value}}})}return Ue})}Pe.add(C)}}return R[Z].apply(this,arguments)}}),oe}})}};function Rd(p,b,C){if(C.numFailures===0)return b;if(b.type==="deleteRange")return null;var O=b.keys?b.keys.length:"values"in b&&b.values?b.values.length:1;return C.numFailures===O?null:(b=i({},b),c(b.keys)&&(b.keys=b.keys.filter(function(R,I){return!(I in C.failures)})),"values"in b&&c(b.values)&&(b.values=b.values.filter(function(R,I){return!(I in C.failures)})),b)}function hl(p,b){return C=p,((O=b).lower===void 0||(O.lowerOpen?0<st(C,O.lower):0<=st(C,O.lower)))&&(p=p,(b=b).upper===void 0||(b.upperOpen?st(p,b.upper)<0:st(p,b.upper)<=0));var C,O}function qu(p,b,le,O,R,I){if(!le||le.length===0)return p;var F=b.query.index,q=F.multiEntry,X=b.query.range,Q=O.schema.primaryKey.extractKey,oe=F.extractKey,K=(F.lowLevelIndex||F).extractKey,le=le.reduce(function(Z,te){var re=Z,ae=[];if(te.type==="add"||te.type==="put")for(var fe=new er,ye=te.values.length-1;0<=ye;--ye){var Oe,Pe=te.values[ye],Be=Q(Pe);fe.hasKey(Be)||(Oe=oe(Pe),(q&&c(Oe)?Oe.some(function(ze){return hl(ze,X)}):hl(Oe,X))&&(fe.addKey(Be),ae.push(Pe)))}switch(te.type){case"add":var Ye=new er().addKeys(b.values?Z.map(function(Xe){return Q(Xe)}):Z),re=Z.concat(b.values?ae.filter(function(Xe){return Xe=Q(Xe),!Ye.hasKey(Xe)&&(Ye.addKey(Xe),!0)}):ae.map(function(Xe){return Q(Xe)}).filter(function(Xe){return!Ye.hasKey(Xe)&&(Ye.addKey(Xe),!0)}));break;case"put":var ke=new er().addKeys(te.values.map(function(Xe){return Q(Xe)}));re=Z.filter(function(Xe){return!ke.hasKey(b.values?Q(Xe):Xe)}).concat(b.values?ae:ae.map(function(Xe){return Q(Xe)}));break;case"delete":var Ue=new er().addKeys(te.keys);re=Z.filter(function(Xe){return!Ue.hasKey(b.values?Q(Xe):Xe)});break;case"deleteRange":var Ve=te.range;re=Z.filter(function(Xe){return!hl(Q(Xe),Ve)})}return re},p);return le===p?p:(le.sort(function(Z,te){return st(K(Z),K(te))||st(Q(Z),Q(te))}),b.limit&&b.limit<1/0&&(le.length>b.limit?le.length=b.limit:p.length===b.limit&&le.length<b.limit&&(R.dirty=!0)),I?Object.freeze(le):le)}function ga(p,b){return st(p.lower,b.lower)===0&&st(p.upper,b.upper)===0&&!!p.lowerOpen==!!b.lowerOpen&&!!p.upperOpen==!!b.upperOpen}function ds(p,b){return(function(C,O,R,I){if(C===void 0)return O!==void 0?-1:0;if(O===void 0)return 1;if((O=st(C,O))===0){if(R&&I)return 0;if(R)return 1;if(I)return-1}return O})(p.lower,b.lower,p.lowerOpen,b.lowerOpen)<=0&&0<=(function(C,O,R,I){if(C===void 0)return O!==void 0?1:0;if(O===void 0)return-1;if((O=st(C,O))===0){if(R&&I)return 0;if(R)return-1;if(I)return 1}return O})(p.upper,b.upper,p.upperOpen,b.upperOpen)}function Ep(p,b,C,O){p.subscribers.add(C),O.addEventListener("abort",function(){var R,I;p.subscribers.delete(C),p.subscribers.size===0&&(R=p,I=b,setTimeout(function(){R.subscribers.size===0&&V(I,R)},3e3))})}var pl={stack:"dbcore",level:0,name:"Cache",create:function(p){var b=p.schema.name;return i(i({},p),{transaction:function(C,O,R){var I,F,q=p.transaction(C,O,R);return O==="readwrite"&&(F=(I=new AbortController).signal,R=function(X){return function(){if(I.abort(),O==="readwrite"){for(var Q=new Set,oe=0,K=C;oe<K.length;oe++){var le=K[oe],Z=Po["idb://".concat(b,"/").concat(le)];if(Z){var te=p.table(le),re=Z.optimisticOps.filter(function(Xe){return Xe.trans===q});if(q._explicit&&X&&q.mutatedParts)for(var ae=0,fe=Object.values(Z.queries.query);ae<fe.length;ae++)for(var ye=0,Oe=(Ye=fe[ae]).slice();ye<Oe.length;ye++)Fu((ke=Oe[ye]).obsSet,q.mutatedParts)&&(V(Ye,ke),ke.subscribers.forEach(function(Xe){return Q.add(Xe)}));else if(0<re.length){Z.optimisticOps=Z.optimisticOps.filter(function(Xe){return Xe.trans!==q});for(var Pe=0,Be=Object.values(Z.queries.query);Pe<Be.length;Pe++)for(var Ye,ke,Ue,Ve=0,ze=(Ye=Be[Pe]).slice();Ve<ze.length;Ve++)(ke=ze[Ve]).res!=null&&q.mutatedParts&&(X&&!ke.dirty?(Ue=Object.isFrozen(ke.res),Ue=qu(ke.res,ke.req,re,te,ke,Ue),ke.dirty?(V(Ye,ke),ke.subscribers.forEach(function(Xe){return Q.add(Xe)})):Ue!==ke.res&&(ke.res=Ue,ke.promise=$e.resolve({result:Ue}))):(ke.dirty&&V(Ye,ke),ke.subscribers.forEach(function(Xe){return Q.add(Xe)})))}}}Q.forEach(function(Xe){return Xe()})}}},q.addEventListener("abort",R(!1),{signal:F}),q.addEventListener("error",R(!1),{signal:F}),q.addEventListener("complete",R(!0),{signal:F})),q},table:function(C){var O=p.table(C),R=O.schema.primaryKey;return i(i({},O),{mutate:function(I){var F=Ge.trans;if(R.outbound||F.db._options.cache==="disabled"||F.explicit||F.idbtrans.mode!=="readwrite")return O.mutate(I);var q=Po["idb://".concat(b,"/").concat(C)];return q?(F=O.mutate(I),I.type!=="add"&&I.type!=="put"||!(50<=I.values.length||fl(R,I).some(function(X){return X==null}))?(q.optimisticOps.push(I),I.mutatedParts&&cl(I.mutatedParts),F.then(function(X){0<X.numFailures&&(V(q.optimisticOps,I),(X=Rd(0,I,X))&&q.optimisticOps.push(X),I.mutatedParts&&cl(I.mutatedParts))}),F.catch(function(){V(q.optimisticOps,I),I.mutatedParts&&cl(I.mutatedParts)})):F.then(function(X){var Q=Rd(0,i(i({},I),{values:I.values.map(function(oe,K){var le;return X.failures[K]?oe:(oe=(le=R.keyPath)!==null&&le!==void 0&&le.includes(".")?Ee(oe):i({},oe),j(oe,R.keyPath,X.results[K]),oe)})}),X);q.optimisticOps.push(Q),queueMicrotask(function(){return I.mutatedParts&&cl(I.mutatedParts)})}),F):O.mutate(I)},query:function(I){if(!Ro(Ge,O)||!Pd("query",I))return O.query(I);var F=((Q=Ge.trans)===null||Q===void 0?void 0:Q.db._options.cache)==="immutable",K=Ge,q=K.requery,X=K.signal,Q=(function(te,re,ae,fe){var ye=Po["idb://".concat(te,"/").concat(re)];if(!ye)return[];if(!(re=ye.queries[ae]))return[null,!1,ye,null];var Oe=re[(fe.query?fe.query.index.name:null)||""];if(!Oe)return[null,!1,ye,null];switch(ae){case"query":var Pe=Oe.find(function(Be){return Be.req.limit===fe.limit&&Be.req.values===fe.values&&ga(Be.req.query.range,fe.query.range)});return Pe?[Pe,!0,ye,Oe]:[Oe.find(function(Be){return("limit"in Be.req?Be.req.limit:1/0)>=fe.limit&&(!fe.values||Be.req.values)&&ds(Be.req.query.range,fe.query.range)}),!1,ye,Oe];case"count":return Pe=Oe.find(function(Be){return ga(Be.req.query.range,fe.query.range)}),[Pe,!!Pe,ye,Oe]}})(b,C,"query",I),oe=Q[0],K=Q[1],le=Q[2],Z=Q[3];return oe&&K?oe.obsSet=I.obsSet:(K=O.query(I).then(function(te){var re=te.result;if(oe&&(oe.res=re),F){for(var ae=0,fe=re.length;ae<fe;++ae)Object.freeze(re[ae]);Object.freeze(re)}else te.result=Ee(re);return te}).catch(function(te){return Z&&oe&&V(Z,oe),Promise.reject(te)}),oe={obsSet:I.obsSet,promise:K,subscribers:new Set,type:"query",req:I,dirty:!1},Z?Z.push(oe):(Z=[oe],(le=le||(Po["idb://".concat(b,"/").concat(C)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[I.query.index.name||""]=Z)),Ep(oe,Z,q,X),oe.promise.then(function(te){return{result:qu(te.result,I,le?.optimisticOps,O,oe,F)}})}})}})}};function fs(p,b){return new Proxy(p,{get:function(C,O,R){return O==="db"?b:Reflect.get(C,O,R)}})}var vi=(fn.prototype.version=function(p){if(isNaN(p)||p<.1)throw new De.Type("Given version is not a positive number");if(p=Math.round(10*p)/10,this.idbdb||this._state.isBeingOpened)throw new De.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,p);var b=this._versions,C=b.filter(function(O){return O._cfg.version===p})[0];return C||(C=new this.Version(p),b.push(C),b.sort(Nu),C.stores({}),this._state.autoSchema=!1,C)},fn.prototype._whenReady=function(p){var b=this;return this.idbdb&&(this._state.openComplete||Ge.letThrough||this._vip)?p():new $e(function(C,O){if(b._state.openComplete)return O(new De.DatabaseClosed(b._state.dbOpenError));if(!b._state.isBeingOpened){if(!b._state.autoOpen)return void O(new De.DatabaseClosed);b.open().catch(Je)}b._state.dbReadyPromise.then(C,O)}).then(p)},fn.prototype.use=function(p){var b=p.stack,C=p.create,O=p.level,R=p.name;return R&&this.unuse({stack:b,name:R}),p=this._middlewares[b]||(this._middlewares[b]=[]),p.push({stack:b,create:C,level:O??10,name:R}),p.sort(function(I,F){return I.level-F.level}),this},fn.prototype.unuse=function(p){var b=p.stack,C=p.name,O=p.create;return b&&this._middlewares[b]&&(this._middlewares[b]=this._middlewares[b].filter(function(R){return O?R.create!==O:!!C&&R.name!==C})),this},fn.prototype.open=function(){var p=this;return Ut(At,function(){return Sp(p)})},fn.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var p=this._state,b=Xn.indexOf(this);if(0<=b&&Xn.splice(b,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}p.isBeingOpened||(p.dbReadyPromise=new $e(function(C){p.dbReadyResolve=C}),p.openCanceller=new $e(function(C,O){p.cancelOpen=O}))},fn.prototype.close=function(C){var b=(C===void 0?{disableAutoOpen:!0}:C).disableAutoOpen,C=this._state;b?(C.isBeingOpened&&C.cancelOpen(new De.DatabaseClosed),this._close(),C.autoOpen=!1,C.dbOpenError=new De.DatabaseClosed):(this._close(),C.autoOpen=this._options.autoOpen||C.isBeingOpened,C.openComplete=!1,C.dbOpenError=null)},fn.prototype.delete=function(p){var b=this;p===void 0&&(p={disableAutoOpen:!0});var C=0<arguments.length&&typeof arguments[0]!="object",O=this._state;return new $e(function(R,I){function F(){b.close(p);var q=b._deps.indexedDB.deleteDatabase(b.name);q.onsuccess=$(function(){var X,Q,oe;X=b._deps,Q=b.name,oe=X.indexedDB,X=X.IDBKeyRange,sl(oe)||Q===Qn||ju(oe,X).delete(Q).catch(Je),R()}),q.onerror=Jr(I),q.onblocked=b._fireOnBlocked}if(C)throw new De.InvalidArgument("Invalid closeOptions argument to db.delete()");O.isBeingOpened?O.dbReadyPromise.then(F):F()})},fn.prototype.backendDB=function(){return this.idbdb},fn.prototype.isOpen=function(){return this.idbdb!==null},fn.prototype.hasBeenClosed=function(){var p=this._state.dbOpenError;return p&&p.name==="DatabaseClosed"},fn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},fn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(fn.prototype,"tables",{get:function(){var p=this;return u(this._allTables).map(function(b){return p._allTables[b]})},enumerable:!1,configurable:!0}),fn.prototype.transaction=function(){var p=(function(b,C,O){var R=arguments.length;if(R<2)throw new De.InvalidArgument("Too few arguments");for(var I=new Array(R-1);--R;)I[R-1]=arguments[R];return O=I.pop(),[b,se(I),O]}).apply(this,arguments);return this._transaction.apply(this,p)},fn.prototype._transaction=function(p,b,C){var O=this,R=Ge.trans;R&&R.db===this&&p.indexOf("!")===-1||(R=null);var I,F,q=p.indexOf("?")!==-1;p=p.replace("!","").replace("?","");try{if(F=b.map(function(Q){if(Q=Q instanceof O.Table?Q.name:Q,typeof Q!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return Q}),p=="r"||p===Er)I=Er;else{if(p!="rw"&&p!=fr)throw new De.InvalidArgument("Invalid transaction mode: "+p);I=fr}if(R){if(R.mode===Er&&I===fr){if(!q)throw new De.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");R=null}R&&F.forEach(function(Q){if(R&&R.storeNames.indexOf(Q)===-1){if(!q)throw new De.SubTransaction("Table "+Q+" not included in parent transaction.");R=null}}),q&&R&&!R.active&&(R=null)}}catch(Q){return R?R._promise(null,function(oe,K){K(Q)}):at(Q)}var X=(function Q(oe,K,le,Z,te){return $e.resolve().then(function(){var re=Ge.transless||Ge,ae=oe._createTransaction(K,le,oe._dbSchema,Z);if(ae.explicit=!0,re={trans:ae,transless:re},Z)ae.idbtrans=Z.idbtrans;else try{ae.create(),ae.idbtrans._explicit=!0,oe._state.PR1398_maxLoop=3}catch(Oe){return Oe.name===nt.InvalidState&&oe.isOpen()&&0<--oe._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),oe.close({disableAutoOpen:!1}),oe.open().then(function(){return Q(oe,K,le,null,te)})):at(Oe)}var fe,ye=H(te);return ye&&Ke(),re=$e.follow(function(){var Oe;(fe=te.call(ae,ae))&&(ye?(Oe=Qe.bind(null,null),fe.then(Oe,Oe)):typeof fe.next=="function"&&typeof fe.throw=="function"&&(fe=cs(fe)))},re),(fe&&typeof fe.then=="function"?$e.resolve(fe).then(function(Oe){return ae.active?Oe:at(new De.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):re.then(function(){return fe})).then(function(Oe){return Z&&ae._resolve(),ae._completion.then(function(){return Oe})}).catch(function(Oe){return ae._reject(Oe),at(Oe)})})}).bind(null,this,I,F,R,C);return R?R._promise(I,X,"lock"):Ge.trans?Ut(Ge.transless,function(){return O._whenReady(X)}):this._whenReady(X)},fn.prototype.table=function(p){if(!y(this._allTables,p))throw new De.InvalidTable("Table ".concat(p," does not exist"));return this._allTables[p]},fn);function fn(p,b){var C=this;this._middlewares={},this.verno=0;var O=fn.dependencies;this._options=b=i({addons:fn.addons,autoOpen:!0,indexedDB:O.indexedDB,IDBKeyRange:O.IDBKeyRange,cache:"cloned"},b),this._deps={indexedDB:b.indexedDB,IDBKeyRange:b.IDBKeyRange},O=b.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var R,I,F,q,X,Q={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Je,dbReadyPromise:null,cancelOpen:Je,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:b.autoOpen};Q.dbReadyPromise=new $e(function(K){Q.dbReadyResolve=K}),Q.openCanceller=new $e(function(K,le){Q.cancelOpen=le}),this._state=Q,this.name=p,this.on=rs(this,"populate","blocked","versionchange","close",{ready:[Vn,Je]}),this.once=function(K,le){var Z=function(){for(var te=[],re=0;re<arguments.length;re++)te[re]=arguments[re];C.on(K).unsubscribe(Z),le.apply(C,te)};return C.on(K,Z)},this.on.ready.subscribe=A(this.on.ready.subscribe,function(K){return function(le,Z){fn.vip(function(){var te,re=C._state;re.openComplete?(re.dbOpenError||$e.resolve().then(le),Z&&K(le)):re.onReadyBeingFired?(re.onReadyBeingFired.push(le),Z&&K(le)):(K(le),te=C,Z||K(function ae(){te.on.ready.unsubscribe(le),te.on.ready.unsubscribe(ae)}))})}}),this.Collection=(R=this,Zn(bp.prototype,function(fe,ae){this.db=R;var Z=Qi,te=null;if(ae)try{Z=ae()}catch(ye){te=ye}var re=fe._ctx,ae=re.table,fe=ae.hook.reading.fire;this._ctx={table:ae,index:re.index,isPrimKey:!re.index||ae.schema.primKey.keyPath&&re.index===ae.schema.primKey.name,range:Z,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:te,or:re.or,valueMapper:fe!==ht?fe:null}})),this.Table=(I=this,Zn(Mu.prototype,function(K,le,Z){this.db=I,this._tx=Z,this.name=K,this.schema=le,this.hook=I._allTables[K]?I._allTables[K].hook:rs(null,{creating:[gn,Je],reading:[Ft,ht],updating:[ir,Je],deleting:[Ar,Je]})})),this.Transaction=(F=this,Zn(Au.prototype,function(K,le,Z,te,re){var ae=this;K!=="readonly"&&le.forEach(function(fe){fe=(fe=Z[fe])===null||fe===void 0?void 0:fe.yProps,fe&&(le=le.concat(fe.map(function(ye){return ye.updatesTable})))}),this.db=F,this.mode=K,this.storeNames=le,this.schema=Z,this.chromeTransactionDurability=te,this.idbtrans=null,this.on=rs(this,"complete","error","abort"),this.parent=re||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new $e(function(fe,ye){ae._resolve=fe,ae._reject=ye}),this._completion.then(function(){ae.active=!1,ae.on.complete.fire()},function(fe){var ye=ae.active;return ae.active=!1,ae.on.error.fire(fe),ae.parent?ae.parent._reject(fe):ye&&ae.idbtrans&&ae.idbtrans.abort(),at(fe)})})),this.Version=(q=this,Zn(wp.prototype,function(K){this.db=q,this._cfg={version:K,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(X=this,Zn(_o.prototype,function(K,le,Z){if(this.db=X,this._ctx={table:K,index:le===":id"?null:le,or:Z},this._cmp=this._ascending=st,this._descending=function(te,re){return st(re,te)},this._max=function(te,re){return 0<st(te,re)?te:re},this._min=function(te,re){return st(te,re)<0?te:re},this._IDBKeyRange=X._deps.IDBKeyRange,!this._IDBKeyRange)throw new De.MissingAPI})),this.on("versionchange",function(K){0<K.newVersion?console.warn("Another connection wants to upgrade database '".concat(C.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(C.name,"'. Closing db now to resume the delete request.")),C.close({disableAutoOpen:!1})}),this.on("blocked",function(K){!K.newVersion||K.newVersion<K.oldVersion?console.warn("Dexie.delete('".concat(C.name,"') was blocked")):console.warn("Upgrade '".concat(C.name,"' blocked by other connection holding version ").concat(K.oldVersion/10))}),this._maxKey=fa(b.IDBKeyRange),this._createTransaction=function(K,le,Z,te){return new C.Transaction(K,le,Z,C._options.chromeTransactionDurability,te)},this._fireOnBlocked=function(K){C.on("blocked").fire(K),Xn.filter(function(le){return le.name===C.name&&le!==C&&!le._state.vcFired}).map(function(le){return le.on("versionchange").fire(K)})},this.use(Md),this.use(pl),this.use(_p),this.use(Cp),this.use(Td);var oe=new Proxy(this,{get:function(K,le,Z){if(le==="_vip")return!0;if(le==="table")return function(re){return fs(C.table(re),oe)};var te=Reflect.get(K,le,Z);return te instanceof Mu?fs(te,oe):le==="tables"?te.map(function(re){return fs(re,oe)}):le==="_createTransaction"?function(){return fs(te.apply(this,arguments),oe)}:te}});this.vip=oe,O.forEach(function(K){return K(C)})}var ya,Tr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Dd=(ml.prototype.subscribe=function(p,b,C){return this._subscribe(p&&typeof p!="function"?p:{next:p,error:b,complete:C})},ml.prototype[Tr]=function(){return this},ml);function ml(p){this._subscribe=p}try{ya={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{ya={indexedDB:null,IDBKeyRange:null}}function Ad(p){var b,C=!1,O=new Dd(function(R){var I=H(p),F,q=!1,X={},Q={},oe={get closed(){return q},unsubscribe:function(){q||(q=!0,F&&F.abort(),K&&Jn.storagemutated.unsubscribe(Z))}};R.start&&R.start(oe);var K=!1,le=function(){return sn(te)},Z=function(re){ul(X,re),Fu(Q,X)&&le()},te=function(){var re,ae,fe;!q&&ya.indexedDB&&(X={},re={},F&&F.abort(),F=new AbortController,fe=(function(ye){var Oe=Cr();try{I&&Ke();var Pe=He(p,ye);return Pe=I?Pe.finally(Qe):Pe}finally{Oe&&_r()}})(ae={subscr:re,signal:F.signal,requery:le,querier:p,trans:null}),Promise.resolve(fe).then(function(ye){C=!0,b=ye,q||ae.signal.aborted||(X={},(function(Oe){for(var Pe in Oe)if(y(Oe,Pe))return;return 1})(Q=re)||K||(Jn(ca,Z),K=!0),sn(function(){return!q&&R.next&&R.next(ye)}))},function(ye){C=!1,["DatabaseClosedError","AbortError"].includes(ye?.name)||q||sn(function(){q||R.error&&R.error(ye)})}))};return setTimeout(le,0),oe});return O.hasValue=function(){return C},O.getValue=function(){return b},O}var Do=vi;function Gu(p){var b=to;try{to=!0,Jn.storagemutated.fire(p),$u(p,!0)}finally{to=b}}v(Do,i(i({},un),{delete:function(p){return new Do(p,{addons:[]}).delete()},exists:function(p){return new Do(p,{addons:[]}).open().then(function(b){return b.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(p){try{return b=Do.dependencies,C=b.indexedDB,b=b.IDBKeyRange,(sl(C)?Promise.resolve(C.databases()).then(function(O){return O.map(function(R){return R.name}).filter(function(R){return R!==Qn})}):ju(C,b).toCollection().primaryKeys()).then(p)}catch{return at(new De.MissingAPI)}var b,C},defineClass:function(){return function(p){f(this,p)}},ignoreTransaction:function(p){return Ge.trans?Ut(Ge.transless,p):p()},vip:ku,async:function(p){return function(){try{var b=cs(p.apply(this,arguments));return b&&typeof b.then=="function"?b:$e.resolve(b)}catch(C){return at(C)}}},spawn:function(p,b,C){try{var O=cs(p.apply(C,b||[]));return O&&typeof O.then=="function"?O:$e.resolve(O)}catch(R){return at(R)}},currentTransaction:{get:function(){return Ge.trans||null}},waitFor:function(p,b){return b=$e.resolve(typeof p=="function"?Do.ignoreTransaction(p):p).timeout(b||6e4),Ge.trans?Ge.trans.waitFor(b):b},Promise:$e,debug:{get:function(){return yn},set:function(p){wn(p)}},derive:E,extend:f,props:v,override:A,Events:rs,on:Jn,liveQuery:Ad,extendObservabilitySet:ul,getByKeyPath:G,setByKeyPath:j,delByKeyPath:function(p,b){typeof b=="string"?j(p,b,void 0):"length"in b&&[].map.call(b,function(C){j(p,C,void 0)})},shallowClone:U,deepClone:Ee,getObjectDiff:dl,cmp:st,asap:L,minKey:-1/0,addons:[],connections:Xn,errnames:nt,dependencies:ya,cache:Po,semVer:"4.2.1",version:"4.2.1".split(".").map(function(p){return parseInt(p)}).reduce(function(p,b,C){return p+b/Math.pow(10,2*C)})})),Do.maxKey=fa(Do.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Jn(ca,function(p){to||(p=new CustomEvent(Oo,{detail:p}),to=!0,dispatchEvent(p),to=!1)}),addEventListener(Oo,function(p){p=p.detail,to||Gu(p)}));var va,to=!1,pr=function(){};return typeof BroadcastChannel<"u"&&((pr=function(){(va=new BroadcastChannel(Oo)).onmessage=function(p){return p.data&&Gu(p.data)}})(),typeof va.unref=="function"&&va.unref(),Jn(ca,function(p){to||va.postMessage(p)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(p){if(!vi.disableBfCache&&p.persisted){yn&&console.debug("Dexie: handling persisted pagehide"),va?.close();for(var b=0,C=Xn;b<C.length;b++)C[b].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(p){!vi.disableBfCache&&p.persisted&&(yn&&console.debug("Dexie: handling persisted pageshow"),pr(),Gu({all:new er(-1/0,[[]])}))})),$e.rejectionMapper=function(p,b){return!p||p instanceof Ce||p instanceof TypeError||p instanceof SyntaxError||!p.name||!Jt[p.name]?p:(b=new Jt[p.name](b||p.message,p),"stack"in p&&_(b,"stack",{get:function(){return this.inner.stack}}),b)},wn(yn),i(vi,Object.freeze({__proto__:null,Dexie:vi,liveQuery:Ad,Entity:Tt,cmp:st,PropModification:Zr,replacePrefix:function(p,b){return new Zr({replacePrefix:[p,b]})},add:function(p){return new Zr({add:p})},remove:function(p){return new Zr({remove:p})},default:vi,RangeSet:er,mergeRanges:Mo,rangesOverlap:_d}),{default:vi}),vi})})(oh)),oh.exports}var a4=o4();const _y=Th(a4),tS=Symbol.for("Dexie"),uu=globalThis[tS]||(globalThis[tS]=_y);if(_y.semVer!==uu.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${_y.semVer} and ${uu.semVer}`);const{liveQuery:W5,mergeRanges:X5,rangesOverlap:Q5,RangeSet:Z5,cmp:J5,Entity:eF,PropModification:tF,replacePrefix:nF,add:rF,remove:iF,DexieYProvider:oF}=uu;class s4 extends uu{population_point;tour;parish;block;building;plate;recognition_code_info;syncState;lookups;sync_queue;tasks;task_queue;constructor(){super("DehyarDB"),this.version(7).stores({population_point:"id, population_point_id",tour:"id, population_point_id",parish:"id, population_point_id",block:"id, population_point_id",building:"id, population_point_id",plate:"id, building_id, population_point_id",recognition_code_info:"id, plate_id, building_id",syncState:"layerName",lookups:"[tableName+id], tableName",sync_queue:"++id, [entityType+entityId]",tasks:"id, state, created_at",task_queue:"++id, createdAt"})}}const jt=new s4,l4={population_point:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",population_point_type_id:"number",rural_id:"number",name:"string",en_name:"string",code:"number",opt_approval:"boolean",part_id:"number",rural_name_full:"string",rural_id_full:"number",is_rural:"boolean"},tour:{province_id:"number",tour_type:"string",is_active:"boolean",name:"string",en_name:"string",code:"number",area:"number"},parish:{post_id:"number",nationa_code:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",parish_type:"string",name:"string",en_name:"string",code:"number",opt_approval:"boolean"},block:{province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",name:"string",en_name:"string",code:"number",area:"number",opt_approval:"boolean",parish_id:"number"},building:{building_type_id:"number",population_point_id:"number",tour_id:"number",part_id:"number",block_id:"number",province_id:"number",county_id:"number",zone_id:"number",rural_id:"number",gnaf_code:"string",building_name:"string",modernization_code:"string",building_number:"number",floor_count:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",parish_id:"number",is_negative:"boolean",dundas_map_id:"number"},plate:{address_id:"number",building_id:"number",plate_no:"number",old_plate_no:"number",opt_approval:"boolean",task_id:"number",plate_name:"string"},recognition_code_info:{unit_identifier:"number",unit_status_id:"number",plate_id:"number",building_id:"number",poi_type_id:"number",act_type_id1:"number",act_type_id2:"number",act_type_id3:"number",plat:"string",floor_no:"number",unit_no:"string",height:"number",part_row_no:"number",entrance:"string",grid_code:"string",first_name:"string",last_name:"string",workshop_name:"string",action_name:"string",plate_description:"string",postalcode:"number",opt_approval:"boolean",dg_approval:"boolean",task_id:"number",description:"string"}},u4=async(t,e,n)=>Fs(`/editor/tables/${t}/rows/${e}`,{method:"PATCH",body:JSON.stringify({data:n})}),c4=async(t,e,n)=>{const i=l4[t]||{},a={};Object.entries(n).forEach(([c,f])=>{if(f===""||f===null||f===void 0){a[c]=null;return}switch(i[c]){case"number":a[c]=Number(f);break;case"boolean":a[c]=f===!0||f==="true";break;case"string":a[c]=String(f);break;default:a[c]=f}});const s=await u4(t,e,a);if(!s.ok)throw new Error(`Failed to update ${t} (Status: ${s.status})`);return(await s.json()).data},d4=async(t,e,n)=>{const{title:i,...a}=n,u=await Fs("/task-manager/tasks",{method:"POST",body:JSON.stringify({title:i,task_type_id:5,action_area:{population_point:{id:t}},unique_features:a,assignee1:e})});if(!u.ok)throw new Error(`Failed to create task (Status: ${u.status})`);return u.json()},f4=async()=>{const t=await Fs("/task-manager/tasks?$top=9999&$filter=task_type_id eq 5");if(!t.ok)throw new Error(`Failed to fetch tasks (Status: ${t.status})`);return(await t.json()).value},qf=(t,e)=>{let n=`?$filter=population_point_id eq ${t} and geometry eq is_not_null`;return e&&(n+=` and updated_at gt '${e.split(" ")[0]}'`),n+="&$orderby=updated_at desc",n},bo=[{id:"population_point",label:"",endpoint:"/editor/tables/population_point/rows",tableName:"population_point",zIndex:10,getQuery:(t,e)=>{let n=`?$filter=id eq ${t}`;return e&&(n+=` and updated_at gt '${e.split(" ")[0]}'`),n+="&$orderby=updated_at desc",n},styles:[{type:"fill",paint:{"fill-color":"#3C79F5","fill-opacity":.15}},{type:"line",paint:{"line-color":"#3C79F5","line-width":3}},{type:"symbol",layout:{"text-field":["format","  ",{},["get","name"],{}],"text-size":14,"text-anchor":"center","text-font":["IranSans-Noto"]},paint:{"text-color":"#3C79F5","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"tour",label:"",endpoint:"/editor/tables/block/rows",tableName:"tour",zIndex:20,getQuery:(t,e)=>{let n=`?$filter=population_point_id eq ${t} and geometry eq is_not_null`;return e&&(n+=` and updated_at gt '${e.split(" ")[0]}'`),n+="&$expand=tour(id|tour_id)",n+="&$orderby=updated_at desc",n},injectVillageId:!0,transformResponse:t=>{const e=new Map;return t.forEach(n=>{n.tour&&e.set(n.tour.id,n.tour)}),Array.from(e.values())},styles:[{type:"fill",paint:{"fill-color":"#372C32","fill-opacity":.2}},{type:"line",paint:{"line-color":"#372C32","line-width":2}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#372C32","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"parish",label:"",endpoint:"/editor/tables/parish/rows",tableName:"parish",zIndex:30,getQuery:qf,styles:[{type:"fill",paint:{"fill-color":"#d87193","fill-opacity":.2}},{type:"line",paint:{"line-color":"#d87193","line-width":1}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#d87193","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"block",label:"",endpoint:"/editor/tables/block/rows",tableName:"block",zIndex:40,getQuery:qf,styles:[{type:"fill",paint:{"fill-color":"#fd7e14","fill-opacity":.15}},{type:"line",paint:{"line-color":"#fd7e14","line-width":1,"line-dasharray":[2,2]}},{type:"symbol",layout:{"text-field":["get","name"],"text-size":12,"text-font":["IranSans-Noto"]},paint:{"text-color":"#fd7e14","text-halo-color":"#ffffff","text-halo-width":1.5}}]},{id:"passages",label:" ",endpoint:"",tableName:"block",isDisabled:!0,zIndex:50,getQuery:qf,styles:[{type:"line",paint:{"line-color":"#868e96"}}]},{id:"building",label:"",endpoint:"/editor/tables/building/rows",tableName:"building",zIndex:60,getQuery:qf,styles:[{type:"fill",paint:{"fill-color":"#729dec","fill-opacity":.4,"fill-outline-color":"#4dabf7"}},{type:"symbol",minzoom:16,layout:{"text-field":["get","building_number"],"text-size":11,"text-font":["IranSans-Noto"]},paint:{"text-color":"#1864ab","text-halo-color":"#ffffff","text-halo-width":1}}]},{id:"plate",label:"",endpoint:"/editor/tables/plate/rows",tableName:"plate",zIndex:70,getQuery:(t,e)=>{let n=`?$filter=building.population_point_id eq ${t} and plate_geometry eq is_not_null`;return e&&(n+=` and updated_at gt '${e.split(" ")[0]}'`),n+="&$orderby=updated_at desc",n},transformResponse:t=>t.map(e=>{const{building:n,...i}=e;return{...i,geometry:e.plate_geometry}}),injectVillageId:!0,styles:[{type:"circle",paint:{"circle-radius":20,"circle-opacity":0,"circle-color":"#000000"}},{type:"circle",paint:{"circle-radius":5,"circle-color":"#4A4E4A","circle-stroke-width":1,"circle-stroke-color":"#ffffff"}},{type:"symbol",minzoom:17,layout:{"text-field":["get","plate_name"],"text-size":10,"text-offset":[0,1.2],"text-anchor":"top","text-font":["IranSans-Noto"]},paint:{"text-color":"#4A4E4A","text-halo-color":"#ffffff","text-halo-width":2}}]},{id:"recognition_code_info",label:" ",endpoint:"/editor/tables/recognition_code_info/rows",tableName:"recognition_code_info",isDataOnly:!0,zIndex:0,getQuery:(t,e)=>{const n=[`building.population_point_id eq ${t}`];return e&&n.push(`updated_at gt '${e.split(" ")[0]}'`),`?$orderby=updated_at desc&$filter=${n.join(" and ")}&$expand=building(id|building_id)`},styles:[]}];async function nS(t,e){const n=bo.find(g=>g.id===t);if(!n||n.isDisabled)return 0;const a=(await jt.syncState.get(t))?.lastSync||null,s=n.getQuery(e,a),u=n.endpoint,c=await Fs(`${u}${s}&$top=99999999`);if(!c.ok)throw new Error(`Failed to sync ${t}: ${c.statusText}`);let h=(await c.json()).value;if(n.transformResponse&&(h=n.transformResponse(h)),h.length>0){const g=jt[n.tableName],y=n.injectVillageId?h.map(w=>({...w,population_point_id:Number(e)})):h;await jt.transaction("rw",g,async()=>{await g.bulkPut(y)});const v=h[0].updated_at;v&&await jt.syncState.put({layerName:t,lastSync:v})}return h.length}async function h4(t){const e=await Fs(`/editor/tables/${t}/rows?$top=9999999`);if(!e.ok)throw new Error(`Failed to sync lookup ${t}: ${e.statusText}`);const i=(await e.json()).value.map(a=>({...a,tableName:t}));return i.length>0&&await jt.transaction("rw",jt.lookups,async()=>{await jt.lookups.where("tableName").equals(t).delete(),await jt.lookups.bulkPut(i)}),i.length}async function nO(){try{const t=await f4();return t&&Array.isArray(t)&&await jt.transaction("rw",jt.tasks,async()=>{await jt.tasks.clear(),await jt.tasks.bulkPut(t)}),t?.length||0}catch(t){throw console.error("Failed to sync tasks:",t),t}}function p4(t=2e3){const{isOffline:e,isAuthenticated:n}=Xs(),i=S.useRef(!1),a=S.useCallback(async()=>{if(!(i.current||e||!n)){i.current=!0;try{const u=await jt.sync_queue.toArray();for(const h of u){const g=bo.find(v=>v.id===h.entityType),y=g?g.label:h.entityType;try{const v=await c4(h.entityType,h.entityId,h.payload),w=jt[h.entityType];if(!v||!w||!h.id){console.warn(`Skipping sync for item ${h.id} due to missing data or table.`);continue}await w.update(Number(h.entityId),v),await jt.sync_queue.delete(h.id),Pi.show({title:" ",message:` ${y}    .`,color:"green",id:"sync-success"})}catch(v){console.error(`Failed to sync queue item ${h.id} for ${h.entityType}:`,v),Pi.show({title:"  ",message:` ${y}    .    .`,color:"red",id:"sync-error"}),await jt.sync_queue.delete(h.id)}}const c=await jt.task_queue.toArray();let f=!1;for(const h of c)try{await d4(h.villageId,h.userId,h.suggestion),await jt.task_queue.delete(h.id),Pi.show({title:"  ",message:` "${h.suggestion.title}"    .`,color:"green",id:`task-sync-success-${h.id}`}),f=!0}catch{Pi.show({title:"   ",message:`   "${h.suggestion.title}"    .`,color:"red",id:`task-sync-error-${h.id}`})}f&&await nO().catch(h=>console.error("Failed to sync tasks after upload",h))}catch(u){console.error("Critical error processing the sync queue:",u)}finally{i.current=!1}}},[e,n]),s=mC(a,t);S.useEffect(()=>(e||!n?s.stop():(a(),s.start()),s.stop),[e,n,t,a])}const m4="modulepreload",g4=function(t){return"/dehyar-pwa-deploy/"+t},rS={},rO=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),c=u?.nonce||u?.getAttribute("nonce");a=f(n.map(h=>{if(h=g4(h),h in rS)return;rS[h]=!0;const g=h.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":m4,g||(v.as="script"),v.crossOrigin="",v.href=h,c&&v.setAttribute("nonce",c),document.head.appendChild(v),g)return new Promise((w,_)=>{v.addEventListener("load",w),v.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(u){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=u,window.dispatchEvent(c),!c.defaultPrevented)throw u}return a.then(u=>{for(const c of u||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function y4(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisteredSW:s,onRegisterError:u}=t;let c,f,h;const g=async(v=!0)=>{await f,h?.()};async function y(){if("serviceWorker"in navigator){if(c=await rO(async()=>{const{Workbox:v}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:v}},[]).then(({Workbox:v})=>new v("/dehyar-pwa-deploy/sw.js",{scope:"/dehyar-pwa-deploy/",type:"classic"})).catch(v=>{u?.(v)}),!c)return;h=()=>{c?.messageSkipWaiting()};{let v=!1;const w=()=>{v=!0,c?.addEventListener("controlling",_=>{_.isUpdate&&window.location.reload()}),n?.()};c.addEventListener("installed",_=>{typeof _.isUpdate>"u"?typeof _.isExternal<"u"&&_.isExternal?w():!v&&i?.():_.isUpdate||i?.()}),c.addEventListener("waiting",w)}c.register({immediate:e}).then(v=>{s?s("/dehyar-pwa-deploy/sw.js",v):a?.(v)}).catch(v=>{u?.(v)})}}return f=y(),g}function v4(t={}){const{immediate:e=!0,onNeedRefresh:n,onOfflineReady:i,onRegistered:a,onRegisteredSW:s,onRegisterError:u}=t,[c,f]=S.useState(!1),[h,g]=S.useState(!1),[y]=S.useState(()=>y4({immediate:e,onOfflineReady(){g(!0),i?.()},onNeedRefresh(){f(!0),n?.()},onRegistered:a,onRegisteredSW:s,onRegisterError:u}));return{needRefresh:[c,f],offlineReady:[h,g],updateServiceWorker:y}}function b4(){const{needRefresh:[t,e],updateServiceWorker:n}=v4({onRegisterError(i){console.error("SW registration error: ",i)}});S.useEffect(()=>{t&&Pi.show({id:"pwa-update",title:" ",color:"blue",autoClose:!1,withCloseButton:!0,onClose:()=>e(!1),message:M.jsxs("div",{children:[M.jsx(li,{size:"sm",mb:"sm",children:"          ."}),M.jsx(vr,{size:"xs",onClick:()=>n(!0),children:""})]})})},[t,n,e])}function x4(){return b4(),p4(),M.jsx(XE,{})}const w4="data:image/svg+xml,%3csvg%20width='43'%20height='43'%20viewBox='0%200%2043%2043'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14.5332%2017.6109L39.9674%203.49107C39.9674%203.49107%2040.765%2023.4159%2024.14%2029.562L23.985%2029.6193'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3cpath%20d='M30.47%2031.8639L35.8795%2040.7858H23.1966C23.1966%2040.7858%2018.6108%2041.6981%2013.7995%2034.5983C8.98814%2027.4985%202.63867%2016.2263%202.63867%2016.2263C2.63867%2016.2263%209.34769%209.93937%2014.3737%2018.3597C19.3997%2026.78%2020.3351%2032.5465%2026.5371%2028.7108'%20stroke='%23144193'%20stroke-width='4.2'/%3e%3c/svg%3e";function S4(){const[t,e]=S.useState(""),[n,i]=S.useState(""),[a,s]=S.useState(!1),[u,c]=S.useState(null),{login:f}=Xs(),h=gd(),g=hi(),y=async v=>{v.preventDefault(),s(!0),c(null);try{const w=await Oh.login(t,n);await f(w),h("/")}catch(w){console.error("Login failed",w),c("      ")}finally{s(!1)}};return M.jsx(su,{style:{height:"100vh"},children:M.jsx(je,{p:30,style:{width:400},children:M.jsxs(ui,{gap:"lg",children:[M.jsx(su,{children:M.jsx(Uv,{src:w4,alt:"Logo",w:38,h:38})}),M.jsx(ap,{order:2,ta:"center",c:g.primaryColor,children:""}),M.jsx(li,{ta:"center",c:"dimmed",children:"      :"}),M.jsx("form",{onSubmit:y,children:M.jsxs(ui,{children:[M.jsx(lu,{label:" ",value:t,onChange:v=>e(v.target.value),required:!0}),M.jsx(qv,{label:" ",value:n,onChange:v=>i(v.target.value),required:!0}),u&&M.jsx(li,{c:"red",size:"sm",ta:"center",children:u}),M.jsx(vr,{type:"submit",fullWidth:!0,mt:"xl",loading:a,children:""})]})})]})})})}var C4={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};const xo=(t,e,n,i)=>{const a=S.forwardRef(({color:s="currentColor",size:u=24,stroke:c=2,title:f,className:h,children:g,...y},v)=>S.createElement("svg",{ref:v,...C4[t],width:u,height:u,className:["tabler-icon",`tabler-icon-${e}`,h].join(" "),strokeWidth:c,stroke:s,...y},[f&&S.createElement("title",{key:"svg-title"},f),...i.map(([w,_])=>S.createElement(w,_)),...Array.isArray(g)?g:[g]]));return a.displayName=`${n}`,a};const _4=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 8v4",key:"svg-1"}],["path",{d:"M12 16h.01",key:"svg-2"}]],E4=xo("outline","alert-circle","AlertCircle",_4);const O4=[["path",{d:"M5 12l14 0",key:"svg-0"}],["path",{d:"M13 18l6 -6",key:"svg-1"}],["path",{d:"M13 6l6 6",key:"svg-2"}]],T4=xo("outline","arrow-right","ArrowRight",O4);const M4=[["path",{d:"M11 18.004h-4.343c-2.572 -.004 -4.657 -2.011 -4.657 -4.487c0 -2.475 2.085 -4.482 4.657 -4.482c.393 -1.762 1.794 -3.2 3.675 -3.773c1.88 -.572 3.956 -.193 5.444 1c1.488 1.19 2.162 3.007 1.77 4.769h.99c1.388 0 2.585 .82 3.138 2.007",key:"svg-0"}],["path",{d:"M15 19l2 2l4 -4",key:"svg-1"}]],P4=xo("outline","cloud-check","CloudCheck",M4);const R4=[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M12 9h.01",key:"svg-1"}],["path",{d:"M11 12h1v4h1",key:"svg-2"}]],iS=xo("outline","info-circle","InfoCircle",R4);const D4=[["path",{d:"M8 4m0 2a2 2 0 0 1 2 -2h8a2 2 0 0 1 2 2v8a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2z",key:"svg-0"}],["path",{d:"M16 16v2a2 2 0 0 1 -2 2h-8a2 2 0 0 1 -2 -2v-8a2 2 0 0 1 2 -2h2",key:"svg-1"}]],A4=xo("outline","layers-subtract","LayersSubtract",D4);const N4=[["path",{d:"M9 11a3 3 0 1 0 6 0a3 3 0 0 0 -6 0",key:"svg-0"}],["path",{d:"M17.657 16.657l-4.243 4.243a2 2 0 0 1 -2.827 0l-4.244 -4.243a8 8 0 1 1 11.314 0z",key:"svg-1"}]],I4=xo("outline","map-pin","MapPin",N4);const j4=[["path",{d:"M4 6l16 0",key:"svg-0"}],["path",{d:"M4 12l16 0",key:"svg-1"}],["path",{d:"M4 18l16 0",key:"svg-2"}]],k4=xo("outline","menu-2","Menu2",j4);const z4=[["path",{d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0",key:"svg-0"}],["path",{d:"M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2",key:"svg-1"}]],L4=xo("outline","user","User",z4);const F4=[["path",{d:"M12 18l.01 0",key:"svg-0"}],["path",{d:"M9.172 15.172a4 4 0 0 1 5.656 0",key:"svg-1"}],["path",{d:"M6.343 12.343a7.963 7.963 0 0 1 3.864 -2.14m4.163 .155a7.965 7.965 0 0 1 3.287 2",key:"svg-2"}],["path",{d:"M3.515 9.515a12 12 0 0 1 3.544 -2.455m3.101 -.92a12 12 0 0 1 10.325 3.374",key:"svg-3"}],["path",{d:"M3 3l18 18",key:"svg-4"}]],iO=xo("outline","wifi-off","WifiOff",F4);const B4=[["path",{d:"M18 6l-12 12",key:"svg-0"}],["path",{d:"M6 6l12 12",key:"svg-1"}]],oO=xo("outline","x","X",B4);function U4(t,e,n){var i,a;typeof t=="function"?(i=e||[],a=n):(i=[],a=e);var s=Rn.useRef({hasResult:!1,result:a,error:null}),u=Rn.useReducer(function(h){return h+1},0);u[0];var c=u[1],f=Rn.useMemo(function(){var h=typeof t=="function"?t():t;if(!h||typeof h.subscribe!="function")throw t===h?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof h.hasValue!="function"||h.hasValue()))if(typeof h.getValue=="function")s.current.result=h.getValue(),s.current.hasResult=!0;else{var g=h.subscribe(function(y){s.current.result=y,s.current.hasResult=!0});typeof g=="function"?g():g.unsubscribe()}return h},i);if(Rn.useDebugValue(s.current.result),Rn.useEffect(function(){var h=f.subscribe(function(g){var y=s.current;(y.error!==null||y.result!==g)&&(y.error=null,y.result=g,y.hasResult=!0,c())},function(g){var y=s.current;y.error!==g&&(y.error=g,c())});return typeof h=="function"?h:h.unsubscribe.bind(h)},i),s.current.error)throw s.current.error;return s.current.result}function Ya(t,e,n){return U4(function(){return uu.liveQuery(t)},e||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(t){var e=uu.DexieYProvider;e&&e.release(t)});function $4(){const t=gd(),e=Ya(()=>jt.tasks.orderBy("created_at").reverse().toArray()),n=Ya(()=>jt.task_queue.orderBy("createdAt").reverse().toArray()),i=e===void 0||n===void 0,a=[...(n||[]).map(f=>({id:`queue-${f.id}`,title:f.suggestion.title,state:"pending_sync",created_at:f.createdAt,isQueued:!0,suggestion:f.suggestion})),...e||[]],s=f=>{switch(f){case"pending_sync":return{label:"  ",color:"orange",icon:M.jsx(iO,{size:14})};case"todo":return{label:" ",color:"blue"};case"in_progress":return{label:"  ",color:"yellow"};case"done":return{label:" ",color:"green"};default:return{label:f,color:"gray"}}},u=f=>f?f.split(" ")[0]:"",c=f=>{const h=f.isQueued?f.suggestion?.reshaped_geometry:f.unique_features?.reshaped_geometry;h&&t("/",{state:{previewFeature:{geometry:h,title:f.title}}})};return M.jsxs(Kr,{header:{height:60},padding:"0",children:[M.jsx(Kr.Header,{children:M.jsxs(Gr,{h:"100%",px:"md",align:"center",children:[M.jsx(na,{variant:"subtle",color:"dark",onClick:()=>t(-1),size:"lg",children:M.jsx(T4,{size:24})}),M.jsx(ap,{order:4,children:" "})]})}),M.jsx(Kr.Main,{children:M.jsxs(ui,{p:"md",gap:"sm",children:[i&&M.jsx(su,{py:"xl",children:M.jsx(po,{})}),!i&&a?.length===0&&M.jsx(li,{c:"dimmed",ta:"center",mt:"md",children:"   "}),a?.map(f=>{const h=s(f.state);return M.jsx(dd,{shadow:"sm",padding:"md",radius:"md",withBorder:!0,style:f.isQueued?{borderStyle:"dashed",borderColor:"var(--mantine-color-orange-filled)"}:void 0,children:M.jsxs(ui,{gap:"xs",children:[M.jsx(li,{fw:500,size:"sm",children:f.title}),M.jsxs(Gr,{justify:"space-between",mt:"md",children:[M.jsxs(Gr,{gap:"xs",children:[M.jsx(Ko,{color:"gray",variant:"light",children:u(f.created_at)}),M.jsx(Ko,{color:h.color,variant:"light",leftSection:h.icon,children:h.label})]}),M.jsx(vr,{variant:"light",size:"xs",leftSection:M.jsx(I4,{size:14}),onClick:()=>c(f),children:""})]})]})},f.id)})]})})]})}function Jo(t,e,n={}){const i={type:"Feature"};return(n.id===0||n.id)&&(i.id=n.id),n.bbox&&(i.bbox=n.bbox),i.properties=e||{},i.geometry=t,i}function oS(t,e,n={}){if(t.length<2)throw new Error("coordinates must be an array of two or more positions");return Jo({type:"LineString",coordinates:t},e,n)}function aO(t,e={}){const n={type:"FeatureCollection"};return e.id&&(n.id=e.id),e.bbox&&(n.bbox=e.bbox),n.features=t,n}function H4(t,e,n={}){return Jo({type:"GeometryCollection",geometries:t},e,n)}function q4(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if(t.type==="Feature"&&t.geometry!==null&&t.geometry.type==="Point")return[...t.geometry.coordinates];if(t.type==="Point")return[...t.coordinates]}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return[...t];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function qc(t){if(Array.isArray(t))return t;if(t.type==="Feature"){if(t.geometry!==null)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function aS(t){return t.type==="Feature"?t.geometry:t}function G4(t,e){return t.type==="FeatureCollection"?"FeatureCollection":t.type==="GeometryCollection"?"GeometryCollection":t.type==="Feature"&&t.geometry!==null?t.geometry.type:t.type}function sO(t,e,n){if(t!==null)for(var i,a,s,u,c,f,h,g=0,y=0,v,w=t.type,_=w==="FeatureCollection",E=w==="Feature",P=_?t.features.length:1,N=0;N<P;N++){h=_?t.features[N].geometry:E?t.geometry:t,v=h?h.type==="GeometryCollection":!1,c=v?h.geometries.length:1;for(var D=0;D<c;D++){var A=0,z=0;if(u=v?h.geometries[D]:h,u!==null){f=u.coordinates;var L=u.type;switch(g=0,L){case null:break;case"Point":if(e(f,y,N,A,z)===!1)return!1;y++,A++;break;case"LineString":case"MultiPoint":for(i=0;i<f.length;i++){if(e(f[i],y,N,A,z)===!1)return!1;y++,L==="MultiPoint"&&A++}L==="LineString"&&A++;break;case"Polygon":case"MultiLineString":for(i=0;i<f.length;i++){for(a=0;a<f[i].length-g;a++){if(e(f[i][a],y,N,A,z)===!1)return!1;y++}L==="MultiLineString"&&A++,L==="Polygon"&&z++}L==="Polygon"&&A++;break;case"MultiPolygon":for(i=0;i<f.length;i++){for(z=0,a=0;a<f[i].length;a++){for(s=0;s<f[i][a].length-g;s++){if(e(f[i][a][s],y,N,A,z)===!1)return!1;y++}z++}A++}break;case"GeometryCollection":for(i=0;i<u.geometries.length;i++)if(sO(u.geometries[i],e)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function V4(t,e){if(t.type==="Feature")e(t,0);else if(t.type==="FeatureCollection")for(var n=0;n<t.features.length&&e(t.features[n],n)!==!1;n++);}function Y4(t,e={}){if(t.bbox!=null&&e.recompute!==!0)return t.bbox;const n=[1/0,1/0,-1/0,-1/0];return sO(t,i=>{n[0]>i[0]&&(n[0]=i[0]),n[1]>i[1]&&(n[1]=i[1]),n[2]<i[0]&&(n[2]=i[0]),n[3]<i[1]&&(n[3]=i[1])}),n}var lO=Y4;function sS(t,e,n={}){const i=q4(t),a=qc(e);for(let s=0;s<a.length-1;s++){let u=!1;if(n.ignoreEndVertices&&(s===0&&(u="start"),s===a.length-2&&(u="end"),s===0&&s+1===a.length-1&&(u="both")),K4(a[s],a[s+1],i,u,typeof n.epsilon>"u"?null:n.epsilon))return!0}return!1}function K4(t,e,n,i,a){const s=n[0],u=n[1],c=t[0],f=t[1],h=e[0],g=e[1],y=n[0]-c,v=n[1]-f,w=h-c,_=g-f,E=y*_-v*w;if(a!==null){if(Math.abs(E)>a)return!1}else if(E!==0)return!1;if(Math.abs(w)===Math.abs(_)&&Math.abs(w)===0)return i?!1:n[0]===t[0]&&n[1]===t[1];if(i){if(i==="start")return Math.abs(w)>=Math.abs(_)?w>0?c<s&&s<=h:h<=s&&s<c:_>0?f<u&&u<=g:g<=u&&u<f;if(i==="end")return Math.abs(w)>=Math.abs(_)?w>0?c<=s&&s<h:h<s&&s<=c:_>0?f<=u&&u<g:g<u&&u<=f;if(i==="both")return Math.abs(w)>=Math.abs(_)?w>0?c<s&&s<h:h<s&&s<c:_>0?f<u&&u<g:g<u&&u<f}else return Math.abs(w)>=Math.abs(_)?w>0?c<=s&&s<=h:h<=s&&s<=c:_>0?f<=u&&u<=g:g<=u&&u<=f;return!1}var W4=Object.defineProperty,Tu=(t,e)=>W4(t,"name",{value:e,configurable:!0}),uO=class{constructor(e){this.direction=!1,this.compareProperties=!0;var n,i,a;this.precision=10**-((n=e?.precision)!=null?n:17),this.direction=(i=e?.direction)!=null?i:!1,this.compareProperties=(a=e?.compareProperties)!=null?a:!0}compare(e,n){if(e.type!==n.type||!Fc(e,n))return!1;switch(e.type){case"Point":return this.compareCoord(e.coordinates,n.coordinates);case"LineString":return this.compareLine(e.coordinates,n.coordinates);case"Polygon":return this.comparePolygon(e,n);case"GeometryCollection":return this.compareGeometryCollection(e,n);case"Feature":return this.compareFeature(e,n);case"FeatureCollection":return this.compareFeatureCollection(e,n);default:if(e.type.startsWith("Multi")){const i=Ey(e),a=Ey(n);return i.every(s=>a.some(u=>this.compare(s,u)))}}return!1}compareCoord(e,n){return e.length===n.length&&e.every((i,a)=>Math.abs(i-n[a])<this.precision)}compareLine(e,n,i=0,a=!1){if(!Fc(e,n))return!1;const s=e;let u=n;if(a&&!this.compareCoord(s[0],u[0])){const f=this.fixStartIndex(u,s);if(f)u=f;else return!1}const c=this.compareCoord(s[i],u[i]);return this.direction||c?this.comparePath(s,u):this.compareCoord(s[i],u[u.length-(1+i)])?this.comparePath(s.slice().reverse(),u):!1}fixStartIndex(e,n){let i,a=-1;for(let s=0;s<e.length;s++)if(this.compareCoord(e[s],n[0])){a=s;break}return a>=0&&(i=[].concat(e.slice(a,e.length),e.slice(1,a+1))),i}comparePath(e,n){return e.every((i,a)=>this.compareCoord(i,n[a]))}comparePolygon(e,n){if(this.compareLine(e.coordinates[0],n.coordinates[0],1,!0)){const i=e.coordinates.slice(1,e.coordinates.length),a=n.coordinates.slice(1,n.coordinates.length);return i.every(s=>a.some(u=>this.compareLine(s,u,1,!0)))}return!1}compareGeometryCollection(e,n){return Fc(e.geometries,n.geometries)&&this.compareBBox(e,n)&&e.geometries.every((i,a)=>this.compare(i,n.geometries[a]))}compareFeature(e,n){return e.id===n.id&&(this.compareProperties?a0(e.properties,n.properties):!0)&&this.compareBBox(e,n)&&this.compare(e.geometry,n.geometry)}compareFeatureCollection(e,n){return Fc(e.features,n.features)&&this.compareBBox(e,n)&&e.features.every((i,a)=>this.compare(i,n.features[a]))}compareBBox(e,n){return!e.bbox&&!n.bbox||(e.bbox&&n.bbox?this.compareCoord(e.bbox,n.bbox):!1)}};Tu(uO,"GeojsonEquality");var X4=uO;function Fc(t,e){return t.coordinates?t.coordinates.length===e.coordinates.length:t.length===e.length}Tu(Fc,"sameLength");function Ey(t){return t.coordinates.map(e=>({type:t.type.replace("Multi",""),coordinates:e}))}Tu(Ey,"explode");function cO(t,e,n){return new X4(n).compare(t,e)}Tu(cO,"geojsonEquality");function a0(t,e){if(t===null&&e===null)return!0;if(t===null||e===null)return!1;const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a of n){const s=t[a],u=e[a],c=lS(s)&&lS(u);if(c&&!a0(s,u)||!c&&s!==u)return!1}return!0}Tu(a0,"equal");var lS=Tu(t=>t!=null&&typeof t=="object","isObject");function uS(t,e={}){var n=typeof e=="object"?e.mutate:e;if(!t)throw new Error("geojson is required");var i=G4(t),a=[];switch(i){case"LineString":a=Ug(t,i);break;case"MultiLineString":case"Polygon":qc(t).forEach(function(u){a.push(Ug(u,i))});break;case"MultiPolygon":qc(t).forEach(function(u){var c=[];u.forEach(function(f){c.push(Ug(f,i))}),a.push(c)});break;case"Point":return t;case"MultiPoint":var s={};qc(t).forEach(function(u){var c=u.join("-");Object.prototype.hasOwnProperty.call(s,c)||(a.push(u),s[c]=!0)});break;default:throw new Error(i+" geometry not supported")}return t.coordinates?n===!0?(t.coordinates=a,t):{type:i,coordinates:a}:n===!0?(t.geometry.coordinates=a,t):Jo({type:i,coordinates:a},t.properties,{bbox:t.bbox,id:t.id})}function Ug(t,e){const n=qc(t);if(n.length===2&&!cS(n[0],n[1]))return n;const i=[];let a=0,s=1,u=2;for(i.push(n[a]);u<n.length;)sS(n[s],oS([n[a],n[u]]))?s=u:(i.push(n[s]),a=s,s++,u=s),u++;if(i.push(n[s]),e==="Polygon"||e==="MultiPolygon"){if(sS(i[0],oS([i[1],i[i.length-2]]))&&(i.shift(),i.pop(),i.push(i[0])),i.length<4)throw new Error("invalid polygon, fewer than 4 points");if(!cS(i[0],i[i.length-1]))throw new Error("invalid polygon, first and last points not equal")}return i}function cS(t,e){return t[0]===e[0]&&t[1]===e[1]}function Q4(t,e,n={}){let i=n.precision;if(i=i==null||isNaN(i)?6:i,typeof i!="number"||!(i>=0))throw new Error("precision must be a positive number");const a=aS(t).type,s=aS(e).type;return a!==s?!1:cO(uS(t),uS(e),{precision:i})}function Z4(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return V4(t,n=>{var i;switch((i=n.geometry)==null?void 0:i.type){case"Point":e.MultiPoint.coordinates.push(n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"MultiPoint":e.MultiPoint.coordinates.push(...n.geometry.coordinates),e.MultiPoint.properties.push(n.properties);break;case"LineString":e.MultiLineString.coordinates.push(n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"MultiLineString":e.MultiLineString.coordinates.push(...n.geometry.coordinates),e.MultiLineString.properties.push(n.properties);break;case"Polygon":e.MultiPolygon.coordinates.push(n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break;case"MultiPolygon":e.MultiPolygon.coordinates.push(...n.geometry.coordinates),e.MultiPolygon.properties.push(n.properties);break}}),aO(Object.keys(e).filter(function(n){return e[n].coordinates.length}).sort().map(function(n){var i={type:n,coordinates:e[n].coordinates},a={collectedProperties:e[n].properties};return Jo(i,a)}))}const Gf={building:[{fieldKey:"building_name",inputType:"text"},{fieldKey:"floor_count",inputType:"text"},{fieldKey:"building_type_id",inputType:"select",lookupTable:"building_type",lookupLabel:"name",lookupValue:"id"}],recognition_code_info:[{fieldKey:"part_row_no",inputType:"text"},{fieldKey:"floor_no",inputType:"text"},{fieldKey:"unit_no",inputType:"text"},{fieldKey:"description",inputType:"text"},{fieldKey:"first_name",inputType:"text"},{fieldKey:"last_name",inputType:"text"},{fieldKey:"workshop_name",inputType:"text"},{fieldKey:"unit_status_id",inputType:"select",lookupTable:"unit_status",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id1",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id2",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"},{fieldKey:"act_type_id3",inputType:"select",lookupTable:"act_type",lookupLabel:"name",lookupValue:"id"}],plate:[{fieldKey:"plate_no",inputType:"text"}],parish:[{fieldKey:"name",inputType:"text"}],population_point:[{fieldKey:"population_point_type_id",inputType:"select",lookupTable:"population_point_type",lookupLabel:"name",lookupValue:"id"}]},Oy={name:"",population_point:" ",population_point_id:" ",plate_no:" ",building_number:" ",floor_count:" ",usage:"",updated_at:" ",created_at:" ",deleted_at:" ",is_rural:" ",code:"",unit_no:" ",floor_no:"",first_name:"",last_name:" ",postalcode:" ",action_name:" ",workshop_name:" ",description:"",unit_status_id:" ",poi_type_id:" ",post_id:" ",nationa_code:" ",province_id:"",county_id:"",zone_id:"",population_point_type_id:"  ",rural_id:"",en_name:" ",grid_code:" ",opt_approval:"  ",rural_name_full:"  ",rural_id_full:"  ",tour_type:" ",is_active:"",area:"",parish_type:" ",tour_id:"",part_id:"",block_id:"",parish_id:"",building_type_id:" ",gnaf_code:" ",building_name:" ",modernization_code:"  ",dg_approval:" ",task_id:"",is_negative:" ",address_id:"",old_plate_no:"  ",plate_name:" ",act_type_id1:"  ()",act_type_id2:"  ()",act_type_id3:"  ()"};function J4(t,e,n){return Math.max(e,Math.min(t,n))}const br={toVector(t,e){return t===void 0&&(t=e),Array.isArray(t)?t:[t,t]},add(t,e){return[t[0]+e[0],t[1]+e[1]]},sub(t,e){return[t[0]-e[0],t[1]-e[1]]},addTo(t,e){t[0]+=e[0],t[1]+=e[1]},subTo(t,e){t[0]-=e[0],t[1]-=e[1]}};function dS(t,e,n){return e===0||Math.abs(e)===1/0?Math.pow(t,n*5):t*e*n/(e+n*t)}function fS(t,e,n,i=.15){return i===0?J4(t,e,n):t<e?-dS(e-t,n-e,i)+e:t>n?+dS(t-n,n-e,i)+n:t}function ez(t,[e,n],[i,a]){const[[s,u],[c,f]]=t;return[fS(e,s,u,i),fS(n,c,f,a)]}function tz(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nz(t){var e=tz(t,"string");return typeof e=="symbol"?e:String(e)}function Hr(t,e,n){return e=nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,i)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hS(Object(n),!0).forEach(function(i){Hr(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hS(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}const dO={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function pS(t){return t?t[0].toUpperCase()+t.slice(1):""}const rz=["enter","leave"];function iz(t=!1,e){return t&&!rz.includes(e)}function oz(t,e="",n=!1){const i=dO[t],a=i&&i[e]||e;return"on"+pS(t)+pS(a)+(iz(n,a)?"Capture":"")}const az=["gotpointercapture","lostpointercapture"];function sz(t){let e=t.substring(2).toLowerCase();const n=!!~e.indexOf("passive");n&&(e=e.replace("passive",""));const i=az.includes(e)?"capturecapture":"capture",a=!!~e.indexOf(i);return a&&(e=e.replace("capture","")),{device:e,capture:a,passive:n}}function lz(t,e=""){const n=dO[t],i=n&&n[e]||e;return t+i}function pp(t){return"touches"in t}function fO(t){return pp(t)?"touch":"pointerType"in t?t.pointerType:"mouse"}function uz(t){return Array.from(t.touches).filter(e=>{var n,i;return e.target===t.currentTarget||((n=t.currentTarget)===null||n===void 0||(i=n.contains)===null||i===void 0?void 0:i.call(n,e.target))})}function cz(t){return t.type==="touchend"||t.type==="touchcancel"?t.changedTouches:t.targetTouches}function hO(t){return pp(t)?cz(t)[0]:t}function dz(t){return uz(t).map(e=>e.identifier)}function $g(t){const e=hO(t);return pp(t)?e.identifier:e.pointerId}function mS(t){const e=hO(t);return[e.clientX,e.clientY]}function fz(t){const e={};if("buttons"in t&&(e.buttons=t.buttons),"shiftKey"in t){const{shiftKey:n,altKey:i,metaKey:a,ctrlKey:s}=t;Object.assign(e,{shiftKey:n,altKey:i,metaKey:a,ctrlKey:s})}return e}function wh(t,...e){return typeof t=="function"?t(...e):t}function hz(){}function pz(...t){return t.length===0?hz:t.length===1?t[0]:function(){let e;for(const n of t)e=n.apply(this,arguments)||e;return e}}function gS(t,e){return Object.assign({},e,t||{})}const mz=32;class gz{constructor(e,n,i){this.ctrl=e,this.args=n,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:n,ingKey:i,args:a}=this;n[i]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=a,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const n=this.state,i=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=e.target,n.currentTarget=e.currentTarget,n.lastOffset=i.from?wh(i.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=e.timeStamp)}computeValues(e){const n=this.state;n._values=e,n.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:n,config:i,shared:a}=this;n.args=this.args;let s=0;if(e&&(n.event=e,i.preventDefault&&e.cancelable&&n.event.preventDefault(),n.type=e.type,a.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,a.locked=!!document.pointerLockElement,Object.assign(a,fz(e)),a.down=a.pressed=a.buttons%2===1||a.touches>0,s=e.timeStamp-n.timeStamp,n.timeStamp=e.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const G=n._delta.map(Math.abs);br.addTo(n._distance,G)}this.axisIntent&&this.axisIntent(e);const[u,c]=n._movement,[f,h]=i.threshold,{_step:g,values:y}=n;if(i.hasCustomTransform?(g[0]===!1&&(g[0]=Math.abs(u)>=f&&y[0]),g[1]===!1&&(g[1]=Math.abs(c)>=h&&y[1])):(g[0]===!1&&(g[0]=Math.abs(u)>=f&&Math.sign(u)*f),g[1]===!1&&(g[1]=Math.abs(c)>=h&&Math.sign(c)*h)),n.intentional=g[0]!==!1||g[1]!==!1,!n.intentional)return;const v=[0,0];if(i.hasCustomTransform){const[G,j]=y;v[0]=g[0]!==!1?G-g[0]:0,v[1]=g[1]!==!1?j-g[1]:0}else v[0]=g[0]!==!1?u-g[0]:0,v[1]=g[1]!==!1?c-g[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(v);const w=n.offset,_=n._active&&!n._blocked||n.active;_&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=a[this.ingKey]=n._active,e&&(n.first&&("bounds"in i&&(n._bounds=wh(i.bounds,n)),this.setup&&this.setup()),n.movement=v,this.computeOffset()));const[E,P]=n.offset,[[N,D],[A,z]]=n._bounds;n.overflow=[E<N?-1:E>D?1:0,P<A?-1:P>z?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const L=n._active?i.rubberband||[0,0]:[0,0];if(n.offset=ez(n._bounds,n.offset,L),n.delta=br.sub(n.offset,w),this.computeMovement(),_&&(!n.last||s>mz)){n.delta=br.sub(n.offset,w);const G=n.delta.map(Math.abs);br.addTo(n.distance,G),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[G[0]/s,G[1]/s],n.timeDelta=s)}}emit(){const e=this.state,n=this.shared,i=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!i.triggerAllEvents)return;const a=this.handler(Cn(Cn(Cn({},n),e),{},{[this.aliasKey]:e.values}));a!==void 0&&(e.memo=a)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function yz([t,e],n){const i=Math.abs(t),a=Math.abs(e);if(i>a&&i>n)return"x";if(a>i&&a>n)return"y"}class vz extends gz{constructor(...e){super(...e),Hr(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=br.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=br.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const n=this.state,i=this.config;if(!n.axis&&e){const a=typeof i.axisThreshold=="object"?i.axisThreshold[fO(e)]:i.axisThreshold;n.axis=yz(n._movement,a)}n._blocked=(i.lockDirection||!!i.axis)&&!n.axis||!!i.axis&&i.axis!==n.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const bz=t=>t,yS=.15,pO={enabled(t=!0){return t},eventOptions(t,e,n){return Cn(Cn({},n.shared.eventOptions),t)},preventDefault(t=!1){return t},triggerAllEvents(t=!1){return t},rubberband(t=0){switch(t){case!0:return[yS,yS];case!1:return[0,0];default:return br.toVector(t)}},from(t){if(typeof t=="function")return t;if(t!=null)return br.toVector(t)},transform(t,e,n){const i=t||n.shared.transform;return this.hasCustomTransform=!!i,i||bz},threshold(t){return br.toVector(t,0)}},xz=0,vd=Cn(Cn({},pO),{},{axis(t,e,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(t=xz){return t},bounds(t={}){if(typeof t=="function")return s=>vd.bounds(t(s));if("current"in t)return()=>t.current;if(typeof HTMLElement=="function"&&t instanceof HTMLElement)return t;const{left:e=-1/0,right:n=1/0,top:i=-1/0,bottom:a=1/0}=t;return[[e,n],[i,a]]}}),vS={ArrowRight:(t,e=1)=>[t*e,0],ArrowLeft:(t,e=1)=>[-1*t*e,0],ArrowUp:(t,e=1)=>[0,-1*t*e],ArrowDown:(t,e=1)=>[0,t*e]};class wz extends vz{constructor(...e){super(...e),Hr(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const n=e._bounds.getBoundingClientRect(),i=e.currentTarget.getBoundingClientRect(),a={left:n.left-i.left+e.offset[0],right:n.right-i.right+e.offset[0],top:n.top-i.top+e.offset[1],bottom:n.bottom-i.bottom+e.offset[1]};e._bounds=vd.bounds(a)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const n=this.config,i=this.state;if(e.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(e.buttons):n.pointerButtons!==-1&&n.pointerButtons!==e.buttons))return;const a=this.ctrl.setEventIds(e);n.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(a&&a.size>1&&i._pointerActive)&&(this.start(e),this.setupPointer(e),i._pointerId=$g(e),i._pointerActive=!0,this.computeValues(mS(e)),this.computeInitial(),n.preventScrollAxis&&fO(e)!=="mouse"?(i._active=!1,this.setupScrollPrevention(e)):n.delay>0?(this.setupDelayTrigger(e),n.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const n=this.state,i=this.config;if(!n._pointerActive)return;const a=$g(e);if(n._pointerId!==void 0&&a!==n._pointerId)return;const s=mS(e);if(document.pointerLockElement===e.target?n._delta=[e.movementX,e.movementY]:(n._delta=br.sub(s,n._values),this.computeValues(s)),br.addTo(n._movement,n._delta),this.compute(e),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(e);return}if(i.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===i.preventScrollAxis||i.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const n=this.state,i=this.config;if(!n._active||!n._pointerActive)return;const a=$g(e);if(n._pointerId!==void 0&&a!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,u]=n._distance;if(n.tap=s<=i.tapsThreshold&&u<=i.tapsThreshold,n.tap&&i.filterTaps)n._force=!0;else{const[c,f]=n._delta,[h,g]=n._movement,[y,v]=i.swipe.velocity,[w,_]=i.swipe.distance,E=i.swipe.duration;if(n.elapsedTime<E){const P=Math.abs(c/n.timeDelta),N=Math.abs(f/n.timeDelta);P>y&&Math.abs(h)>w&&(n.swipe[0]=Math.sign(c)),N>v&&Math.abs(g)>_&&(n.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const n=this.config,i=n.device;n.pointerLock&&e.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,Sz(e);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const n=vS[e.key];if(n){const i=this.state,a=e.shiftKey?10:e.altKey?.1:1;this.start(e),i._delta=n(this.config.keyboardDisplacement,a),i._keyboardActive=!0,br.addTo(i._movement,i._delta),this.compute(e),this.emit()}}keyUp(e){e.key in vS&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const n=this.config.device;e(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(n,"change",this.pointerMove.bind(this)),e(n,"end",this.pointerUp.bind(this)),e(n,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function Sz(t){"persist"in t&&typeof t.persist=="function"&&t.persist()}const bd=typeof window<"u"&&window.document&&window.document.createElement;function mO(){return bd&&"ontouchstart"in window}function Cz(){return mO()||bd&&window.navigator.maxTouchPoints>1}function _z(){return bd&&"onpointerdown"in window}function Ez(){return bd&&"exitPointerLock"in window.document}function Oz(){try{return"constructor"in GestureEvent}catch{return!1}}const Mi={isBrowser:bd,gesture:Oz(),touch:mO(),touchscreen:Cz(),pointer:_z(),pointerLock:Ez()},Tz=250,Mz=180,Pz=.5,Rz=50,Dz=250,Az=10,bS={mouse:0,touch:0,pen:8},Nz=Cn(Cn({},vd),{},{device(t,e,{pointer:{touch:n=!1,lock:i=!1,mouse:a=!1}={}}){return this.pointerLock=i&&Mi.pointerLock,Mi.touch&&n?"touch":this.pointerLock?"mouse":Mi.pointer&&!a?"pointer":Mi.touch?"touch":"mouse"},preventScrollAxis(t,e,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&t?Tz:void 0,!(!Mi.touchscreen||n===!1))return t||(n!==void 0?"y":void 0)},pointerCapture(t,e,{pointer:{capture:n=!0,buttons:i=1,keys:a=!0}={}}){return this.pointerButtons=i,this.keys=a,!this.pointerLock&&this.device==="pointer"&&n},threshold(t,e,{filterTaps:n=!1,tapsThreshold:i=3,axis:a=void 0}){const s=br.toVector(t,n?i:a?1:0);return this.filterTaps=n,this.tapsThreshold=i,s},swipe({velocity:t=Pz,distance:e=Rz,duration:n=Dz}={}){return{velocity:this.transform(br.toVector(t)),distance:this.transform(br.toVector(e)),duration:n}},delay(t=0){switch(t){case!0:return Mz;case!1:return 0;default:return t}},axisThreshold(t){return t?Cn(Cn({},bS),t):bS},keyboardDisplacement(t=Az){return t}});Cn(Cn({},pO),{},{device(t,e,{shared:n,pointer:{touch:i=!1}={}}){if(n.target&&!Mi.touch&&Mi.gesture)return"gesture";if(Mi.touch&&i)return"touch";if(Mi.touchscreen){if(Mi.pointer)return"pointer";if(Mi.touch)return"touch"}},bounds(t,e,{scaleBounds:n={},angleBounds:i={}}){const a=u=>{const c=gS(wh(n,u),{min:-1/0,max:1/0});return[c.min,c.max]},s=u=>{const c=gS(wh(i,u),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof n!="function"&&typeof i!="function"?[a(),s()]:u=>[a(u),s(u)]},threshold(t,e,n){return this.lockDirection=n.axis==="lock",br.toVector(t,this.lockDirection?[.1,3]:0)},modifierKey(t){return t===void 0?"ctrlKey":t},pinchOnWheel(t=!0){return t}});Cn(Cn({},vd),{},{mouseOnly:(t=!0)=>t});Cn(Cn({},vd),{},{mouseOnly:(t=!0)=>t});const gO=new Map,Ty=new Map;function Iz(t){gO.set(t.key,t.engine),Ty.set(t.key,t.resolver)}const jz={key:"drag",engine:wz,resolver:Nz};function kz(t,e){if(t==null)return{};var n={},i=Object.keys(t),a,s;for(s=0;s<i.length;s++)a=i[s],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function zz(t,e){if(t==null)return{};var n=kz(t,e),i,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)i=s[a],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}const Lz={target(t){if(t)return()=>"current"in t?t.current:t},enabled(t=!0){return t},window(t=Mi.isBrowser?window:void 0){return t},eventOptions({passive:t=!0,capture:e=!1}={}){return{passive:t,capture:e}},transform(t){return t}},Fz=["target","eventOptions","window","enabled","transform"];function ah(t={},e){const n={};for(const[i,a]of Object.entries(e))switch(typeof a){case"function":n[i]=a.call(n,t[i],i,t);break;case"object":n[i]=ah(t[i],a);break;case"boolean":a&&(n[i]=t[i]);break}return n}function Bz(t,e,n={}){const i=t,{target:a,eventOptions:s,window:u,enabled:c,transform:f}=i,h=zz(i,Fz);if(n.shared=ah({target:a,eventOptions:s,window:u,enabled:c,transform:f},Lz),e){const g=Ty.get(e);n[e]=ah(Cn({shared:n.shared},h),g)}else for(const g in h){const y=Ty.get(g);y&&(n[g]=ah(Cn({shared:n.shared},h[g]),y))}return n}class yO{constructor(e,n){Hr(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=n}add(e,n,i,a,s){const u=this._listeners,c=lz(n,i),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},h=Cn(Cn({},f),s);e.addEventListener(c,a,h);const g=()=>{e.removeEventListener(c,a,h),u.delete(g)};return u.add(g),g}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class Uz{constructor(){Hr(this,"_timeouts",new Map)}add(e,n,i=140,...a){this.remove(e),this._timeouts.set(e,window.setTimeout(n,i,...a))}remove(e){const n=this._timeouts.get(e);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(e=>{window.clearTimeout(e)}),this._timeouts.clear()}}class $z{constructor(e){Hr(this,"gestures",new Set),Hr(this,"_targetEventStore",new yO(this)),Hr(this,"gestureEventStores",{}),Hr(this,"gestureTimeoutStores",{}),Hr(this,"handlers",{}),Hr(this,"config",{}),Hr(this,"pointerIds",new Set),Hr(this,"touchIds",new Set),Hr(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Hz(this,e)}setEventIds(e){if(pp(e))return this.touchIds=new Set(dz(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,n){this.handlers=e,this.nativeHandlers=n}applyConfig(e,n){this.config=Bz(e,n,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const n=this.config.shared,i={};let a;if(!(n.target&&(a=n.target(),!a))){if(n.enabled){for(const u of this.gestures){const c=this.config[u],f=xS(i,c.eventOptions,!!a);if(c.enabled){const h=gO.get(u);new h(this,e,u).bind(f)}}const s=xS(i,n.eventOptions,!!a);for(const u in this.nativeHandlers)s(u,"",c=>this.nativeHandlers[u](Cn(Cn({},this.state.shared),{},{event:c,args:e})),void 0,!0)}for(const s in i)i[s]=pz(...i[s]);if(!a)return i;for(const s in i){const{device:u,capture:c,passive:f}=sz(s);this._targetEventStore.add(a,u,"",i[s],{capture:c,passive:f})}}}}function Vl(t,e){t.gestures.add(e),t.gestureEventStores[e]=new yO(t,e),t.gestureTimeoutStores[e]=new Uz}function Hz(t,e){e.drag&&Vl(t,"drag"),e.wheel&&Vl(t,"wheel"),e.scroll&&Vl(t,"scroll"),e.move&&Vl(t,"move"),e.pinch&&Vl(t,"pinch"),e.hover&&Vl(t,"hover")}const xS=(t,e,n)=>(i,a,s,u={},c=!1)=>{var f,h;const g=(f=u.capture)!==null&&f!==void 0?f:e.capture,y=(h=u.passive)!==null&&h!==void 0?h:e.passive;let v=c?i:oz(i,a,g);n&&y&&(v+="Passive"),t[v]=t[v]||[],t[v].push(s)};function qz(t,e={},n,i){const a=Rn.useMemo(()=>new $z(t),[]);if(a.applyHandlers(t,i),a.applyConfig(e,n),Rn.useEffect(a.effect.bind(a)),Rn.useEffect(()=>a.clean.bind(a),[]),e.target===void 0)return a.bind.bind(a)}function Gz(t,e){return Iz(jz),qz({drag:t},e||{},"drag")}function Vz({onClose:t,resetDependency:e}){const[n,i]=S.useState(!1);S.useEffect(()=>{i(!1)},[e]);const a=Gz(({swipe:[u,c]})=>{c===-1?i(!0):c===1&&(n?i(!1):t())},{swipe:{distance:40}});return{isExpanded:n,toggleExpand:()=>i(u=>!u),bind:a}}function Yz({onClick:t,...e}){return M.jsx(su,{mb:"sm",style:{cursor:"grab",touchAction:"none",paddingBottom:"8px"},onClick:t,...e,children:M.jsx(je,{w:40,h:5,bg:"gray.4",style:{borderRadius:10}})})}function Kz(t){const e=Ya(async()=>t?bo.some(i=>i.tableName===t)?await jt[t].toArray():await jt.lookups.where("tableName").equals(t).toArray():[],[t]);return{data:e,isLoading:e===void 0,isError:!1}}function wS({config:t,name:e,defaultValue:n,label:i,readOnly:a,...s}){const{data:u,isLoading:c,isError:f}=Kz(t.lookupTable),h=t.lookupLabel||"name",g=t.lookupValue||"id",y=u&&u.length>0?h in u[0]:!0,v=u?.map(A=>({value:String(A[g]),label:String(A[h]??A[g])}))||[],w=i||Oy[t.fieldKey]||t.fieldKey,_=n!=null?String(n):null,E=v.find(A=>A.value===_),P=!y||!E&&_?` ${w}`:w,N=a||u&&u.length>0&&!y,D=Object.keys(s).reduce((A,z)=>(z.startsWith("data-")&&(A[z]=s[z]),A),{});if(N){const A=E?E.label:_||"---";return M.jsx(lu,{name:e,label:P,value:A,readOnly:!0,variant:"filled",rightSection:c?M.jsx(po,{size:"xs"}):null,error:void 0,styles:s.styles,...D})}return M.jsx(Yv,{name:e,label:P,placeholder:c?"  ...":` ${w}`,data:v,defaultValue:_,searchable:!0,clearable:!0,disabled:c||f,rightSection:c?M.jsx(po,{size:"xs"}):null,error:void 0,nothingFoundMessage:"  ",hiddenInputProps:{...D,...s.hiddenInputProps},...s})}const Wz=new Set(["id","deleted_at","geometry_updated_at","dg_approval","dundas_map_id","geometry","geocoded_point","plate_geometry","attachment","subs","available_parts","plate_id","building_id","address_id","relations"]),SS=t=>!Wz.has(t),CS=t=>t==null||t===""?"---":typeof t=="boolean"?t?"":"":String(t),_S=t=>t.replace(/_id\d*$/,"");function Xz({properties:t,onClose:e,onStartDrawing:n}){const{entityType:i,id:a}=t||{},[s,u]=S.useState(!1),[c,f]=S.useState(!1),h=S.useRef(!1),{isExpanded:g,toggleExpand:y,bind:v}=Vz({onClose:()=>D(!0),resetDependency:a}),w=Ya(()=>{if(!i||!a)return;const U=bo.find(ie=>ie.id===i);if(U)return jt[U.tableName].get(Number(a))},[i,a]),_=w?"plate_no"in w:!1,E=Ya(()=>_&&w?.id?jt.recognition_code_info.where("plate_id").equals(w.id).toArray():[],[w,_]),P=Ya(()=>{if(!(!i||!a))return jt.sync_queue.where({entityType:i,entityId:String(a)}).first()},[i,a]),N=Ya(()=>{if(!_||!E||E.length===0)return[];const U=E.map(ie=>String(ie.id));return jt.sync_queue.where("entityType").equals("recognition_code_info").toArray().then(ie=>ie.filter(se=>U.includes(String(se.entityId))))},[E,_]),D=(U=!1)=>{if(s){if(h.current&&!window.confirm("  .   "))return;u(!1),h.current=!1}(!s||U)&&e()},A=()=>{u(!0),h.current=!1,g||y()},z=async U=>{U.preventDefault(),f(!0);try{const ie={},se={},de=new Set(Gf[i]?.map(ce=>ce.fieldKey)||[]),me=new Set(Gf.recognition_code_info?.map(ce=>ce.fieldKey)||[]),Ee=Array.from(U.currentTarget.elements);for(const ce of Ee){if(!ce.name||ce.type==="submit"||ce.type==="button")continue;const xe=ce.name,B=ce.value.trim(),W=ce.getAttribute("data-unit-id"),V=W?E?.find(Se=>Se.id.toString()===W)?.[xe]:w?.[xe];(V==null?"":String(V))!==B&&(W&&me.has(xe)?(se[W]||(se[W]={}),se[W][xe]=B):!W&&de.has(xe)&&(ie[xe]=B))}if(Object.keys(ie).length>0&&w){const ce=P?{...P.payload,...ie}:ie;P&&P.id?await jt.sync_queue.update(P.id,{payload:ce}):await jt.sync_queue.add({entityType:i,entityId:String(w.id),payload:ce,createdAt:new Date().toISOString()})}for(const[ce,xe]of Object.entries(se))if(Object.keys(xe).length>0){const B=N?.find(V=>V.entityId===String(ce)),W=B?{...B.payload,...xe}:xe;B&&B.id?await jt.sync_queue.update(B.id,{payload:W}):await jt.sync_queue.add({entityType:"recognition_code_info",entityId:String(ce),payload:W,createdAt:new Date().toISOString()})}u(!1),h.current=!1}catch(ie){console.error(ie),alert("      .")}finally{f(!1)}};if(!t||!w)return null;const L=Object.entries(w).filter(([U])=>SS(U));if(!(L.length>0||_&&E&&E.length>0))return e(),null;const j=(U,ie,se)=>{const de=se?.payload?.[U],me=de!==void 0;return{displayValue:me?de:ie,isPending:me}};return M.jsxs(dd,{shadow:"xl",padding:"md",radius:"t-md",withBorder:!0,style:{position:"absolute",bottom:0,left:0,right:0,zIndex:100,maxHeight:g?"100dvh":"40vh",height:g?"100dvh":"auto",transition:"max-height 0.3s ease, height 0.3s ease",display:"flex",flexDirection:"column",borderBottomLeftRadius:0,borderBottomRightRadius:0},children:[M.jsx(Yz,{onClick:()=>y(),...v()}),M.jsxs(Gr,{justify:"space-between",mb:"xs",style:{flexShrink:0},children:[M.jsx(li,{fw:700,size:"sm",c:"dimmed",children:" "}),M.jsx(na,{variant:"subtle",color:"gray",onClick:()=>D(),children:M.jsx(oO,{size:20})})]}),M.jsxs("form",{onChange:()=>{h.current=!0},onSubmit:z,style:{display:"flex",flexDirection:"column",flex:1,overflow:"hidden"},children:[M.jsxs(je,{style:{overflowY:"auto",flex:1,paddingBottom:"4px"},children:[L.length>0&&M.jsx(ui,{gap:"xs",children:L.map(([U,ie])=>{const{displayValue:se,isPending:de}=j(U,ie,P),me=Gf[i]?.find(ge=>ge.fieldKey===U),Ee=s&&me,ce=`${U}-${s}-${se}`,xe=U.endsWith("_id")||/_id\d+$/.test(U),B=de?{input:{borderColor:"var(--mantine-color-orange-filled)",backgroundColor:"var(--mantine-color-orange-light)"}}:void 0,W=(!s||!Ee)&&!de?"filled":"default";return(()=>{if(me?.inputType==="select"||xe){const ge=me||{fieldKey:U,inputType:"select",lookupTable:_S(U),lookupLabel:"name",lookupValue:"id"};return M.jsx(wS,{name:U,config:ge,defaultValue:se,readOnly:!Ee,variant:W,styles:B},ce)}return M.jsx(lu,{name:U,label:Oy[U]||U,defaultValue:Ee?se:CS(se),readOnly:!Ee,variant:W,styles:B},ce)})()})}),_&&E&&E.length>0&&M.jsxs(je,{mt:"md",children:[M.jsxs(li,{fw:700,size:"sm",c:"dimmed",mb:"xs",children:["  (",E.length,")"]}),M.jsx(si,{variant:"separated",children:E.map((U,ie)=>{const se=N?.find(de=>de.entityId===String(U.id));return M.jsxs(si.Item,{value:U.id.toString(),children:[M.jsx(si.Control,{children:U.unit_no?` ${U.unit_no}`:` ${ie+1}`}),M.jsx(si.Panel,{children:M.jsx(ui,{gap:"xs",children:Object.entries(U).filter(([de])=>SS(de)).map(([de,me])=>{const{displayValue:Ee,isPending:ce}=j(de,me,se),xe=Gf.recognition_code_info?.find(ne=>ne.fieldKey===de),B=s&&xe,W=`unit-${U.id}-${de}-${s}-${Ee}`,V=de.endsWith("_id")||/_id\d+$/.test(de),ge=ce?{input:{borderColor:"var(--mantine-color-orange-filled)",backgroundColor:"var(--mantine-color-orange-light)"}}:void 0,Se=(!s||!B)&&!ce?"filled":"default";return(()=>{if(xe?.inputType==="select"||V){const ne=xe||{fieldKey:de,inputType:"select",lookupTable:_S(de),lookupLabel:"name",lookupValue:"id"};return M.jsx(wS,{name:de,"data-unit-id":U.id,config:ne,defaultValue:Ee,readOnly:!B,variant:Se,styles:ge},W)}return M.jsx(lu,{name:de,"data-unit-id":U.id,label:Oy[de]||de,defaultValue:B?Ee:CS(Ee),readOnly:!B,variant:Se,styles:ge},W)})()})})})]},U.id)})})]})]}),M.jsx(je,{mt:"md",pt:"sm",style:{borderTop:"1px solid #eee",flexShrink:0},children:s?M.jsxs(Gr,{grow:!0,children:[M.jsx(vr,{variant:"outline",onClick:()=>D(),type:"button",children:""}),M.jsx(vr,{color:"green",type:"submit",loading:c,children:""})]}):M.jsxs(Gr,{grow:!0,children:[M.jsx(vr,{onClick:A,type:"button",children:" "}),M.jsx(vr,{variant:"outline",color:"blue",onClick:()=>{if(w?.geometry){let U=w.name;i==="building"&&(U=w.building_number),i==="plate"&&(U=w.plate_name),n?.({id:w.id,entityType:i,featureName:U,geometry:w.geometry})}},type:"button",children:" "})]})})]})]})}const vO=S.createContext(null);function bO(){const t=S.useContext(vO)?.maps,e=S.useContext(Ks);return S.useMemo(()=>({...t,current:e?.map}),[t,e])}function Qz(t,e){const n=Array.isArray(t)?t[0]:t?t.x:0,i=Array.isArray(t)?t[1]:t?t.y:0,a=Array.isArray(e)?e[0]:e?e.x:0,s=Array.isArray(e)?e[1]:e?e.y:0;return n===a&&i===s}function qr(t,e){if(t===e)return!0;if(!t||!e)return!1;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!qr(t[n],e[n]))return!1;return!0}else if(Array.isArray(e))return!1;if(typeof t=="object"&&typeof e=="object"){const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(const a of n)if(!e.hasOwnProperty(a)||!qr(t[a],e[a]))return!1;return!0}return!1}function ES(t){return{longitude:t.center.lng,latitude:t.center.lat,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,padding:t.padding}}function OS(t,e){const n=e.viewState||e,i={};if("longitude"in n&&"latitude"in n&&(n.longitude!==t.center.lng||n.latitude!==t.center.lat)){const a=t.center.constructor;i.center=new a(n.longitude,n.latitude)}return"zoom"in n&&n.zoom!==t.zoom&&(i.zoom=n.zoom),"bearing"in n&&n.bearing!==t.bearing&&(i.bearing=n.bearing),"pitch"in n&&n.pitch!==t.pitch&&(i.pitch=n.pitch),n.padding&&t.padding&&!qr(n.padding,t.padding)&&(i.padding=n.padding),i}const Zz=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function TS(t){if(!t)return null;if(typeof t=="string"||("toJS"in t&&(t=t.toJS()),!t.layers))return t;const e={};for(const i of t.layers)e[i.id]=i;const n=t.layers.map(i=>{let a=null;"interactive"in i&&(a=Object.assign({},i),delete a.interactive);const s=e[i.ref];if(s){a=a||Object.assign({},i),delete a.ref;for(const u of Zz)u in s&&(a[u]=s[u])}return a||i});return{...t,layers:n}}const MS={version:8,sources:{},layers:[]},PS={mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",click:"onClick",dblclick:"onDblClick",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mouseout:"onMouseOut",contextmenu:"onContextMenu",touchstart:"onTouchStart",touchend:"onTouchEnd",touchmove:"onTouchMove",touchcancel:"onTouchCancel"},RS={movestart:"onMoveStart",move:"onMove",moveend:"onMoveEnd",dragstart:"onDragStart",drag:"onDrag",dragend:"onDragEnd",zoomstart:"onZoomStart",zoom:"onZoom",zoomend:"onZoomEnd",rotatestart:"onRotateStart",rotate:"onRotate",rotateend:"onRotateEnd",pitchstart:"onPitchStart",pitch:"onPitch",pitchend:"onPitchEnd"},DS={wheel:"onWheel",boxzoomstart:"onBoxZoomStart",boxzoomend:"onBoxZoomEnd",boxzoomcancel:"onBoxZoomCancel",resize:"onResize",load:"onLoad",render:"onRender",idle:"onIdle",remove:"onRemove",data:"onData",styledata:"onStyleData",sourcedata:"onSourceData",error:"onError"},Jz=["minZoom","maxZoom","minPitch","maxPitch","maxBounds","projection","renderWorldCopies"],eL=["scrollZoom","boxZoom","dragRotate","dragPan","keyboard","doubleClickZoom","touchZoomRotate","touchPitch"];class cu{constructor(e,n,i){this._map=null,this._internalUpdate=!1,this._hoveredFeatures=null,this._propsedCameraUpdate=null,this._styleComponents={},this._onEvent=a=>{const s=this.props[DS[a.type]];s?s(a):a.type==="error"&&console.error(a.error)},this._onCameraEvent=a=>{if(this._internalUpdate)return;a.viewState=this._propsedCameraUpdate||ES(this._map.transform);const s=this.props[RS[a.type]];s&&s(a)},this._onCameraUpdate=a=>this._internalUpdate?a:(this._propsedCameraUpdate=ES(a),OS(a,this.props)),this._onPointerEvent=a=>{(a.type==="mousemove"||a.type==="mouseout")&&this._updateHover(a);const s=this.props[PS[a.type]];s&&(this.props.interactiveLayerIds&&a.type!=="mouseover"&&a.type!=="mouseout"&&(a.features=this._hoveredFeatures||this._queryRenderedFeatures(a.point)),s(a),delete a.features)},this._MapClass=e,this.props=n,this._initialize(i)}get map(){return this._map}setProps(e){const n=this.props;this.props=e;const i=this._updateSettings(e,n),a=this._updateSize(e),s=this._updateViewState(e);this._updateStyle(e,n),this._updateStyleComponents(e),this._updateHandlers(e,n),(i||a||s&&!this._map.isMoving())&&this.redraw()}static reuse(e,n){const i=cu.savedMaps.pop();if(!i)return null;const a=i.map,s=a.getContainer();for(n.className=s.className;s.childNodes.length>0;)n.appendChild(s.childNodes[0]);a._container=n;const u=a._resizeObserver;u&&(u.disconnect(),u.observe(n)),i.setProps({...e,styleDiffing:!1}),a.resize();const{initialViewState:c}=e;return c&&(c.bounds?a.fitBounds(c.bounds,{...c.fitBoundsOptions,duration:0}):i._updateViewState(c)),a.isStyleLoaded()?a.fire("load"):a.once("style.load",()=>a.fire("load")),a._update(),i}_initialize(e){const{props:n}=this,{mapStyle:i=MS}=n,a={...n,...n.initialViewState,container:e,style:TS(i)},s=a.initialViewState||a.viewState||a;if(Object.assign(a,{center:[s.longitude||0,s.latitude||0],zoom:s.zoom||0,pitch:s.pitch||0,bearing:s.bearing||0}),n.gl){const c=HTMLCanvasElement.prototype.getContext;HTMLCanvasElement.prototype.getContext=()=>(HTMLCanvasElement.prototype.getContext=c,n.gl)}const u=new this._MapClass(a);s.padding&&u.setPadding(s.padding),n.cursor&&(u.getCanvas().style.cursor=n.cursor),u.transformCameraUpdate=this._onCameraUpdate,u.on("style.load",()=>{this._styleComponents={light:u.getLight(),sky:u.getSky(),projection:u.getProjection?.(),terrain:u.getTerrain()},this._updateStyleComponents(this.props)}),u.on("sourcedata",()=>{this._updateStyleComponents(this.props)});for(const c in PS)u.on(c,this._onPointerEvent);for(const c in RS)u.on(c,this._onCameraEvent);for(const c in DS)u.on(c,this._onEvent);this._map=u}recycle(){this.map.getContainer().querySelector("[mapboxgl-children]")?.remove(),cu.savedMaps.push(this)}destroy(){this._map.remove()}redraw(){const e=this._map;e.style&&(e._frame&&(e._frame.cancel(),e._frame=null),e._render())}_updateSize(e){const{viewState:n}=e;if(n){const i=this._map;if(n.width!==i.transform.width||n.height!==i.transform.height)return i.resize(),!0}return!1}_updateViewState(e){const n=this._map,i=n.transform;if(!n.isMoving()){const s=OS(i,e);if(Object.keys(s).length>0)return this._internalUpdate=!0,n.jumpTo(s),this._internalUpdate=!1,!0}return!1}_updateSettings(e,n){const i=this._map;let a=!1;for(const s of Jz)s in e&&!qr(e[s],n[s])&&(a=!0,i[`set${s[0].toUpperCase()}${s.slice(1)}`]?.call(i,e[s]));return a}_updateStyle(e,n){if(e.cursor!==n.cursor&&(this._map.getCanvas().style.cursor=e.cursor||""),e.mapStyle!==n.mapStyle){const{mapStyle:i=MS,styleDiffing:a=!0}=e,s={diff:a};"localIdeographFontFamily"in e&&(s.localIdeographFontFamily=e.localIdeographFontFamily),this._map.setStyle(TS(i),s)}}_updateStyleComponents({light:e,projection:n,sky:i,terrain:a}){const s=this._map,u=this._styleComponents;s.style._loaded&&(e&&!qr(e,u.light)&&(u.light=e,s.setLight(e)),n&&!qr(n,u.projection)&&n!==u.projection?.type&&(u.projection=typeof n=="string"?{type:n}:n,s.setProjection?.(u.projection)),i&&!qr(i,u.sky)&&(u.sky=i,s.setSky(i)),a!==void 0&&!qr(a,u.terrain)&&(!a||s.getSource(a.source))&&(u.terrain=a,s.setTerrain(a)))}_updateHandlers(e,n){const i=this._map;for(const a of eL){const s=e[a]??!0,u=n[a]??!0;qr(s,u)||(s?i[a].enable(s):i[a].disable())}}_queryRenderedFeatures(e){const n=this._map,{interactiveLayerIds:i=[]}=this.props;try{return n.queryRenderedFeatures(e,{layers:i.filter(n.getLayer.bind(n))})}catch{return[]}}_updateHover(e){const{props:n}=this;if(n.interactiveLayerIds&&(n.onMouseMove||n.onMouseEnter||n.onMouseLeave)){const a=e.type,s=this._hoveredFeatures?.length>0,u=this._queryRenderedFeatures(e.point),c=u.length>0;!c&&s&&(e.type="mouseleave",this._onPointerEvent(e)),this._hoveredFeatures=u,c&&!s&&(e.type="mouseenter",this._onPointerEvent(e)),e.type=a}else this._hoveredFeatures=null}}cu.savedMaps=[];const tL=["setMaxBounds","setMinZoom","setMaxZoom","setMinPitch","setMaxPitch","setRenderWorldCopies","setProjection","setStyle","addSource","removeSource","addLayer","removeLayer","setLayerZoomRange","setFilter","setPaintProperty","setLayoutProperty","setLight","setTerrain","setFog","remove"];function nL(t){if(!t)return null;const e=t.map,n={getMap:()=>e};for(const i of rL(e))!(i in n)&&!tL.includes(i)&&(n[i]=e[i].bind(e));return n}function rL(t){const e=new Set;let n=t;for(;n;){for(const i of Object.getOwnPropertyNames(n))i[0]!=="_"&&typeof t[i]=="function"&&i!=="fire"&&i!=="setEventedParent"&&e.add(i);n=Object.getPrototypeOf(n)}return Array.from(e)}const iL=typeof document<"u"?S.useLayoutEffect:S.useEffect;function oL(t,e){const{RTLTextPlugin:n,maxParallelImageRequests:i,workerCount:a,workerUrl:s}=e;if(n&&t.getRTLTextPluginStatus&&t.getRTLTextPluginStatus()==="unavailable"){const{pluginUrl:u,lazy:c=!0}=typeof n=="string"?{pluginUrl:n}:n;t.setRTLTextPlugin(u,f=>{f&&console.error(f)},c)}i!==void 0&&t.setMaxParallelImageRequests(i),a!==void 0&&t.setWorkerCount(a),s!==void 0&&t.setWorkerUrl(s)}const Ks=S.createContext(null);function aL(t,e){const n=S.useContext(vO),[i,a]=S.useState(null),s=S.useRef(),{current:u}=S.useRef({mapLib:null,map:null});S.useEffect(()=>{const h=t.mapLib;let g=!0,y;return Promise.resolve(h||rO(()=>import("./maplibre-gl-CDADS-Zk.js").then(v=>v.m),[])).then(v=>{if(!g)return;if(!v)throw new Error("Invalid mapLib");const w="Map"in v?v:v.default;if(!w.Map)throw new Error("Invalid mapLib");oL(w,t),t.reuseMaps&&(y=cu.reuse(t,s.current)),y||(y=new cu(w.Map,t,s.current)),u.map=nL(y),u.mapLib=w,a(y),n?.onMapMount(u.map,t.id)}).catch(v=>{const{onError:w}=t;w?w({type:"error",target:null,originalEvent:null,error:v}):console.error(v)}),()=>{g=!1,y&&(n?.onMapUnmount(t.id),t.reuseMaps?y.recycle():y.destroy())}},[]),iL(()=>{i&&i.setProps(t)}),S.useImperativeHandle(e,()=>u.map,[i]);const c=S.useMemo(()=>({position:"relative",width:"100%",height:"100%",...t.style}),[t.style]),f={height:"100%"};return S.createElement("div",{id:t.id,ref:s,style:c},i&&S.createElement(Ks.Provider,{value:u},S.createElement("div",{"mapboxgl-children":"",style:f},t.children)))}const sL=S.forwardRef(aL),lL=/box|flex|grid|column|lineHeight|fontWeight|opacity|order|tabSize|zIndex/;function la(t,e){if(!t||!e)return;const n=t.style;for(const i in e){const a=e[i];Number.isFinite(a)&&!lL.test(i)?n[i]=`${a}px`:n[i]=a}}function xO(t,e){if(t===e)return null;const n=AS(t),i=AS(e),a=[];for(const s of i)n.has(s)||a.push(s);for(const s of n)i.has(s)||a.push(s);return a.length===0?null:a}function AS(t){return new Set(t?t.trim().split(/\s+/):[])}S.memo(S.forwardRef((t,e)=>{const{map:n,mapLib:i}=S.useContext(Ks),a=S.useRef({props:t}),s=S.useMemo(()=>{let N=!1;S.Children.forEach(t.children,z=>{z&&(N=!0)});const D={...t,element:N?document.createElement("div"):void 0},A=new i.Marker(D);return A.setLngLat([t.longitude,t.latitude]),A.getElement().addEventListener("click",z=>{a.current.props.onClick?.({type:"click",target:A,originalEvent:z})}),A.on("dragstart",z=>{const L=z;L.lngLat=s.getLngLat(),a.current.props.onDragStart?.(L)}),A.on("drag",z=>{const L=z;L.lngLat=s.getLngLat(),a.current.props.onDrag?.(L)}),A.on("dragend",z=>{const L=z;L.lngLat=s.getLngLat(),a.current.props.onDragEnd?.(L)}),A},[]);S.useEffect(()=>(s.addTo(n.getMap()),()=>{s.remove()}),[]);const{longitude:u,latitude:c,offset:f,style:h,draggable:g=!1,popup:y=null,rotation:v=0,rotationAlignment:w="auto",pitchAlignment:_="auto"}=t;S.useEffect(()=>{la(s.getElement(),h)},[h]),S.useImperativeHandle(e,()=>s,[]);const E=a.current.props;(s.getLngLat().lng!==u||s.getLngLat().lat!==c)&&s.setLngLat([u,c]),f&&!Qz(s.getOffset(),f)&&s.setOffset(f),s.isDraggable()!==g&&s.setDraggable(g),s.getRotation()!==v&&s.setRotation(v),s.getRotationAlignment()!==w&&s.setRotationAlignment(w),s.getPitchAlignment()!==_&&s.setPitchAlignment(_),s.getPopup()!==y&&s.setPopup(y);const P=xO(E.className,t.className);if(P)for(const N of P)s.toggleClassName(N);return a.current.props=t,$s.createPortal(t.children,s.getElement())}));S.memo(S.forwardRef((t,e)=>{const{map:n,mapLib:i}=S.useContext(Ks),a=S.useMemo(()=>document.createElement("div"),[]),s=S.useRef({props:t}),u=S.useMemo(()=>{const c={...t},f=new i.Popup(c);return f.setLngLat([t.longitude,t.latitude]),f.once("open",h=>{s.current.props.onOpen?.(h)}),f},[]);if(S.useEffect(()=>{const c=f=>{s.current.props.onClose?.(f)};return u.on("close",c),u.setDOMContent(a).addTo(n.getMap()),()=>{u.off("close",c),u.isOpen()&&u.remove()}},[]),S.useEffect(()=>{la(u.getElement(),t.style)},[t.style]),S.useImperativeHandle(e,()=>u,[]),u.isOpen()){const c=s.current.props;(u.getLngLat().lng!==t.longitude||u.getLngLat().lat!==t.latitude)&&u.setLngLat([t.longitude,t.latitude]),t.offset&&!qr(c.offset,t.offset)&&u.setOffset(t.offset),(c.anchor!==t.anchor||c.maxWidth!==t.maxWidth)&&(u.options.anchor=t.anchor,u.setMaxWidth(t.maxWidth));const f=xO(c.className,t.className);if(f)for(const h of f)u.toggleClassName(h);s.current.props=t}return $s.createPortal(t.children,a)}));function Ws(t,e,n,i){const a=S.useContext(Ks),s=S.useMemo(()=>t(a),[]);return S.useEffect(()=>{const u=e,c=null,f=typeof e=="function"?e:null,{map:h}=a;return h.hasControl(s)||(h.addControl(s,u?.position),c&&c(a)),()=>{f&&f(a),h.hasControl(s)&&h.removeControl(s)}},[]),s}function uL(t){const e=Ws(({mapLib:n})=>new n.AttributionControl(t),{position:t.position});return S.useEffect(()=>{la(e._container,t.style)},[t.style]),null}S.memo(uL);function cL(t){const e=Ws(({mapLib:n})=>new n.FullscreenControl({container:t.containerId&&document.getElementById(t.containerId)}),{position:t.position});return S.useEffect(()=>{la(e._controlContainer,t.style)},[t.style]),null}S.memo(cL);function dL(t,e){const n=S.useRef({props:t}),i=Ws(({mapLib:a})=>{const s=new a.GeolocateControl(t),u=s._setupUI;return s._setupUI=()=>{s._container.hasChildNodes()||u()},s.on("geolocate",c=>{n.current.props.onGeolocate?.(c)}),s.on("error",c=>{n.current.props.onError?.(c)}),s.on("outofmaxbounds",c=>{n.current.props.onOutOfMaxBounds?.(c)}),s.on("trackuserlocationstart",c=>{n.current.props.onTrackUserLocationStart?.(c)}),s.on("trackuserlocationend",c=>{n.current.props.onTrackUserLocationEnd?.(c)}),s},{position:t.position});return n.current.props=t,S.useImperativeHandle(e,()=>i,[]),S.useEffect(()=>{la(i._container,t.style)},[t.style]),null}S.memo(S.forwardRef(dL));function fL(t){const e=Ws(({mapLib:n})=>new n.NavigationControl(t),{position:t.position});return S.useEffect(()=>{la(e._container,t.style)},[t.style]),null}const hL=S.memo(fL);function pL(t){const e=Ws(({mapLib:s})=>new s.ScaleControl(t),{position:t.position}),n=S.useRef(t),i=n.current;n.current=t;const{style:a}=t;return t.maxWidth!==void 0&&t.maxWidth!==i.maxWidth&&(e.options.maxWidth=t.maxWidth),t.unit!==void 0&&t.unit!==i.unit&&e.setUnit(t.unit),S.useEffect(()=>{la(e._container,a)},[a]),null}S.memo(pL);function mL(t){const e=Ws(({mapLib:n})=>new n.TerrainControl(t),{position:t.position});return S.useEffect(()=>{la(e._container,t.style)},[t.style]),null}S.memo(mL);function gL(t){const e=Ws(({mapLib:n})=>new n.LogoControl(t),{position:t.position});return S.useEffect(()=>{la(e._container,t.style)},[t.style]),null}S.memo(gL);function Sh(t,e){if(!t)throw new Error(e)}let yL=0;function vL(t,e,n){if(t.style&&t.style._loaded){const i={...n};return delete i.id,delete i.children,t.addSource(e,i),t.getSource(e)}return null}function bL(t,e,n){Sh(e.id===n.id,"source id changed"),Sh(e.type===n.type,"source type changed");let i="",a=0;for(const u in e)u!=="children"&&u!=="id"&&!qr(n[u],e[u])&&(i=u,a++);if(!a)return;const s=e.type;if(s==="geojson")t.setData(e.data);else if(s==="image")t.updateImage({url:e.url,coordinates:e.coordinates});else switch(i){case"coordinates":t.setCoordinates?.(e.coordinates);break;case"url":t.setUrl?.(e.url);break;case"tiles":t.setTiles?.(e.tiles);break;default:console.warn(`Unable to update <Source> prop: ${i}`)}}function wO(t){const e=S.useContext(Ks).map.getMap(),n=S.useRef(t),[,i]=S.useState(0),a=S.useMemo(()=>t.id||`jsx-source-${yL++}`,[]);S.useEffect(()=>{if(e){const u=()=>setTimeout(()=>i(c=>c+1),0);return e.on("styledata",u),u(),()=>{if(e.off("styledata",u),e.style&&e.style._loaded&&e.getSource(a)){const c=e.getStyle()?.layers;if(c)for(const f of c)f.source===a&&e.removeLayer(f.id);e.removeSource(a)}}}},[e]);let s=e&&e.style&&e.getSource(a);return s?bL(s,t,n.current):s=vL(e,a,t),n.current=t,s&&S.Children.map(t.children,u=>u&&S.cloneElement(u,{source:a}))||null}function xL(t,e,n,i){if(Sh(n.id===i.id,"layer id changed"),Sh(n.type===i.type,"layer type changed"),n.type==="custom"||i.type==="custom")return;const{layout:a={},paint:s={},filter:u,minzoom:c,maxzoom:f,beforeId:h}=n;if(h!==i.beforeId&&t.moveLayer(e,h),a!==i.layout){const g=i.layout||{};for(const y in a)qr(a[y],g[y])||t.setLayoutProperty(e,y,a[y]);for(const y in g)a.hasOwnProperty(y)||t.setLayoutProperty(e,y,void 0)}if(s!==i.paint){const g=i.paint||{};for(const y in s)qr(s[y],g[y])||t.setPaintProperty(e,y,s[y]);for(const y in g)s.hasOwnProperty(y)||t.setPaintProperty(e,y,void 0)}qr(u,i.filter)||t.setFilter(e,u),(c!==i.minzoom||f!==i.maxzoom)&&t.setLayerZoomRange(e,c,f)}function wL(t,e,n){if(t.style&&t.style._loaded&&(!("source"in n)||t.getSource(n.source))){const i={...n,id:e};delete i.beforeId,t.addLayer(i,n.beforeId)}}let SL=0;function sh(t){const e=S.useContext(Ks).map.getMap(),n=S.useRef(t),[,i]=S.useState(0),a=S.useMemo(()=>t.id||`jsx-layer-${SL++}`,[]);if(S.useEffect(()=>{if(e){const u=()=>i(c=>c+1);return e.on("styledata",u),u(),()=>{e.off("styledata",u),e.style&&e.style._loaded&&e.getLayer(a)&&e.removeLayer(a)}}},[e]),e&&e.style&&e.getLayer(a))try{xL(e,a,t,n.current)}catch(u){console.warn(u)}else wL(e,a,t);return n.current=t,null}function SO(t){const{user:e}=Xs(),n=bo.find(u=>u.id===t),a=e?.action_areas?.find(u=>u.action_area.population_point)?.action_area.population_point?.id;return{features:Ya(async()=>{if(!a||!n||n.isDisabled)return[];const u=jt[n.tableName],c=parseInt(a.toString());return t==="population_point"?await u.where("id").equals(c).toArray():await u.where("population_point_id").equals(c).toArray()},[a,t])||[],config:n}}function Qt(){return Qt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Qt.apply(null,arguments)}const Ka="draw",ru="edit",CO="deleteCoordinate",NS="insertMidpoint";var _t;(function(t){t.Commit="commit",t.Provisional="provisional",t.Finish="finish"})(_t||(_t={}));const CL="https://raw.githubusercontent.com/JamesLMilner/terra-draw/refs/heads/main/assets/markers/marker-blue.png",Hn={SELECTED:"selected",MID_POINT:"midPoint",SELECTION_POINT_FEATURE_ID:"selectionPointFeatureId",SELECTION_POINT:"selectionPoint"},ft={MODE:"mode",CURRENTLY_DRAWING:"currentlyDrawing",EDITED:"edited",CLOSING_POINT:"closingPoint",SNAPPING_POINT:"snappingPoint",COORDINATE_POINT:"coordinatePoint",COORDINATE_POINT_FEATURE_ID:"coordinatePointFeatureId",COORDINATE_POINT_IDS:"coordinatePointIds",PROVISIONAL_COORDINATE_COUNT:"provisionalCoordinateCount",COMMITTED_COORDINATE_COUNT:"committedCoordinateCount",MARKER:"marker"},Gc=10;function Hg(t){return!!(t&&typeof t=="object"&&t!==null&&!Array.isArray(t))}function IS(t){return!!(t&&typeof t=="object"&&"properties"in t&&typeof t.properties=="object"&&t.properties!==null&&"mode"in t.properties)}function jS(t){return!!(function(e){return typeof e=="number"&&!isNaN(new Date(e).valueOf())})(t)}const _L="Feature mode property does not match the mode being added to";var du;(function(t){t.Drawing="drawing",t.Select="select",t.Static="static",t.Render="render"})(du||(du={}));const EL={rightClick:!0,contextMenu:!1,leftClick:!0,onDragStart:!0,onDrag:!0,onDragEnd:!0};class xd{get state(){return this._state}set state(e){throw new Error("Please use the modes lifecycle methods")}get styles(){return this._styles}set styles(e){if(typeof e!="object")throw new Error("Styling must be an object");this.onStyleChange&&this.onStyleChange([],"styling"),this._styles=e}registerBehaviors(e){}constructor(e,n=!1){this._state="unregistered",this._styles={},this.pointerEvents=EL,this.behaviors=[],this.validate=void 0,this.pointerDistance=40,this.coordinatePrecision=void 0,this.onStyleChange=void 0,this.store=void 0,this.projection="web-mercator",this.setDoubleClickToZoom=void 0,this.unproject=void 0,this.project=void 0,this.setCursor=void 0,this.isInitialUpdate=!1,this.type=du.Drawing,this.mode="base",n?this.isInitialUpdate=!0:this.updateOptions(Qt({},e))}updateOptions(e){e!=null&&e.styles&&(this.styles=Qt({},this._styles,e.styles)),e!=null&&e.pointerDistance&&(this.pointerDistance=e.pointerDistance),e!=null&&e.validation&&(this.validate=e&&e.validation),e!=null&&e.projection&&(this.projection=e.projection),e?.pointerEvents!==void 0&&(this.pointerEvents=e.pointerEvents),e!=null&&e.modeName&&this.isInitialUpdate===!0&&(this.mode=e.modeName),this.isInitialUpdate=!1}allowPointerEvent(e,n){return typeof e=="boolean"?e:typeof e!="function"||e(n)}setDrawing(){if(this._state!=="started")throw new Error("Mode must be unregistered or stopped to start");this._state="drawing"}setStarted(){if(this._state!=="stopped"&&this._state!=="registered"&&this._state!=="drawing"&&this._state!=="selecting")throw new Error("Mode must be unregistered or stopped to start");this._state="started",this.setDoubleClickToZoom(!1)}setStopped(){if(this._state!=="started")throw new Error("Mode must be started to be stopped");this._state="stopped",this.setDoubleClickToZoom(!0)}register(e){if(this._state!=="unregistered")throw new Error("Can not register unless mode is unregistered");this._state="registered",this.store=e.store,this.store.registerOnChange(e.onChange),this.setDoubleClickToZoom=e.setDoubleClickToZoom,this.project=e.project,this.unproject=e.unproject,this.onSelect=e.onSelect,this.onDeselect=e.onDeselect,this.setCursor=e.setCursor,this.onStyleChange=e.onChange,this.onFinish=e.onFinish,this.coordinatePrecision=e.coordinatePrecision,this.registerBehaviors({mode:e.mode,store:this.store,project:this.project,unproject:this.unproject,pointerDistance:this.pointerDistance,coordinatePrecision:e.coordinatePrecision,projection:this.projection})}validateFeature(e){return this.performFeatureValidation(e)}afterFeatureAdded(e){}afterFeatureUpdated(e){}performFeatureValidation(e){if(this._state==="unregistered")throw new Error("Mode must be registered");const n=(function(i,a){let s;if(Hg(i))if(i.id==null)s="Feature has no id";else if(typeof i.id!="string"&&typeof i.id!="number")s="Feature must be string or number as per GeoJSON spec";else if(a(i.id))if(Hg(i.geometry))if(Hg(i.properties))if(typeof i.geometry.type=="string"&&["Polygon","LineString","Point"].includes(i.geometry.type))if(Array.isArray(i.geometry.coordinates)){if(!i.properties.mode||typeof i.properties.mode!="string")return{valid:!1,reason:"Feature does not have a valid mode property"}}else s="Feature coordinates is not an array";else s="Feature is not Point, LineString or Polygon";else s="Feature has no properties";else s="Feature has no geometry";else s="Feature must match the id strategy (default is UUID4)";else s="Feature is not object";return s?{valid:!1,reason:s}:{valid:!0}})(e,this.store.idStrategy.isValidId);if(this.validate){const i=this.validate(e,{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:_t.Provisional});return{valid:n.valid&&i.valid,reason:i.reason}}return{valid:n.valid,reason:n.reason}}validateModeFeature(e,n){const i=this.performFeatureValidation(e);return i.valid?e.properties.mode!==this.mode?{valid:!1,reason:_L}:n(e):{valid:!1,reason:i.reason}}onFinish(e,n){}onDeselect(e){}onSelect(e){}onKeyDown(e){}onKeyUp(e){}onMouseMove(e){}onClick(e){}onDragStart(e,n){}onDrag(e,n){}onDragEnd(e,n){}getHexColorStylingValue(e,n,i){return this.getStylingValue(e,n,i)}getNumericStylingValue(e,n,i){return this.getStylingValue(e,n,i)}getUrlStylingValue(e,n,i){return this.getStylingValue(e,n,i)}getStylingValue(e,n,i){return e===void 0?n:typeof e=="function"?e(i):e}}class OL extends xd{constructor(...e){super(...e),this.type=du.Select}}function ea(t,e){const n=h=>h*Math.PI/180,i=n(t[1]),a=n(t[0]),s=n(e[1]),u=s-i,c=n(e[0])-a,f=Math.sin(u/2)*Math.sin(u/2)+Math.cos(i)*Math.cos(s)*Math.sin(c/2)*Math.sin(c/2);return 2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*6371e3/1e3}const _O=63710088e-1;function Vr(t){return t%360*Math.PI/180}function TL(t){return t/6371.0088}function fu(t){return t%(2*Math.PI)*180/Math.PI}function Pn(t,e=9){const n=Math.pow(10,e);return Math.round(t*n)/n}const kS=57.29577951308232,zS=.017453292519943295,Ch=6378137,Mn=(t,e)=>({x:t===0?0:t*zS*Ch,y:e===0?0:Math.log(Math.tan(Math.PI/4+e*zS/2))*Ch}),hu=(t,e)=>({lng:t===0?0:kS*(t/Ch),lat:e===0?0:(2*Math.atan(Math.exp(e/Ch))-Math.PI/2)*kS});function ML(t){let e;if(t.geometry.type==="Polygon")e=t.geometry.coordinates;else{if(t.geometry.type!=="LineString")throw new Error("Self intersects only accepts Polygons and LineStrings");e=[t.geometry.coordinates]}const n=[];for(let s=0;s<e.length;s++)for(let u=0;u<e[s].length-1;u++)for(let c=0;c<e.length;c++)for(let f=0;f<e[c].length-1;f++)a(s,u,c,f);return n.length>0;function i(s){return s<0||s>1}function a(s,u,c,f){const h=e[s][u],g=e[s][u+1],y=e[c][f],v=e[c][f+1],w=(function(P,N,D,A){if(Vf(P,D)||Vf(P,A)||Vf(N,D)||Vf(A,D))return null;const z=P[0],L=P[1],G=N[0],j=N[1],U=D[0],ie=D[1],se=A[0],de=A[1],me=(z-G)*(ie-de)-(L-j)*(U-se);return me===0?null:[((z*j-L*G)*(U-se)-(z-G)*(U*de-ie*se))/me,((z*j-L*G)*(ie-de)-(L-j)*(U*de-ie*se))/me]})(h,g,y,v);if(w===null)return;let _,E;_=g[0]!==h[0]?(w[0]-h[0])/(g[0]-h[0]):(w[1]-h[1])/(g[1]-h[1]),E=v[0]!==y[0]?(w[0]-y[0])/(v[0]-y[0]):(w[1]-y[1])/(v[1]-y[1]),i(_)||i(E)||(w.toString(),n.push(w))}}function Vf(t,e){return t[0]===e[0]&&t[1]===e[1]}function mp(t,e){return LS(t[0])<=e&&LS(t[1])<=e}function s0(t){return t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"&&t[0]!==1/0&&t[1]!==1/0&&(n=t[0])>=-180&&n<=180&&(e=t[1])>=-90&&e<=90;var e,n}function LS(t){let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}const PL="Feature has holes",RL="Feature has less than 4 coordinates",DL="Feature has invalid coordinates",AL="Feature coordinates are not closed";function NL(t,e){if(t.geometry.type!=="Polygon")return{valid:!1,reason:"Feature is not a Polygon"};if(t.geometry.coordinates.length!==1)return{valid:!1,reason:PL};if(t.geometry.coordinates[0].length<4)return{valid:!1,reason:RL};for(let a=0;a<t.geometry.coordinates[0].length;a++){if(!s0(t.geometry.coordinates[0][a]))return{valid:!1,reason:DL};if(!mp(t.geometry.coordinates[0][a],e))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return(n=t.geometry.coordinates[0][0])[0]!==(i=t.geometry.coordinates[0][t.geometry.coordinates[0].length-1])[0]||n[1]!==i[1]?{valid:!1,reason:AL}:{valid:!0};var n,i}class rr{constructor({store:e,mode:n,project:i,unproject:a,pointerDistance:s,coordinatePrecision:u,projection:c}){this.store=void 0,this.mode=void 0,this.project=void 0,this.unproject=void 0,this.pointerDistance=void 0,this.coordinatePrecision=void 0,this.projection=void 0,this.store=e,this.mode=n,this.project=i,this.unproject=a,this.pointerDistance=s,this.coordinatePrecision=u,this.projection=c}}function FS(t){if(!(function(n){const i=n.coordinates[0];let a=0;for(let s=0;s<i.length-1;s++){const[u,c]=i[s],[f,h]=i[s+1];a+=(f-u)*(h+c)}return a<0})(t))return{type:"Polygon",coordinates:[t.coordinates[0].reverse()]}}const _h="insert-before",pu="insert-after",Pr="update",Is="delete",ci="replace";class gp extends rr{constructor(e,n){super(e),this.options=void 0,this.options=n}createPoint({coordinates:e,properties:n,context:i}){if(i?.updateType!==_t.Finish||this.validateGeometryWithUpdateType({geometry:{type:"Point",coordinates:e},properties:n,updateType:_t.Finish}))return this.handleCreateFeature({geometry:{type:"Point",coordinates:e},properties:n})}createLineString({coordinates:e,properties:n}){return this.handleCreateFeature({geometry:{type:"LineString",coordinates:e},properties:n})}createPolygon({coordinates:e,properties:n}){const i=FS({coordinates:[e]});return this.handleCreateFeature({geometry:{type:"Polygon",coordinates:i?i.coordinates:[e]},properties:n})}createGuidancePoint({coordinate:e,type:n}){return this.createGuidancePoints({coordinates:[e],type:n})[0]}createGuidancePoints({coordinates:e,type:n,additionalProperties:i}){const a=e.map((s,u)=>({type:"Feature",geometry:{type:"Point",coordinates:s},properties:Qt({mode:this.mode,[n]:!0},i?i(u):{})}));return this.createFeatures(a)}updatePoint({featureId:e,coordinateMutations:n,propertyMutations:i,context:a}){return this.handleMutateFeature({type:"Point",featureId:e,coordinateMutations:n,propertyMutations:i,context:a})}updatePolygon({featureId:e,coordinateMutations:n,context:i,propertyMutations:a}){return this.handleMutateFeature({type:"Polygon",featureId:e,coordinateMutations:n,propertyMutations:a,context:i})}updateLineString({featureId:e,coordinateMutations:n,context:i,propertyMutations:a}){return this.handleMutateFeature({type:"LineString",featureId:e,coordinateMutations:n,propertyMutations:a,context:i})}deleteFeatureIfPresent(e){e&&this.store.has(e)&&this.store.delete([e])}deleteFeaturesIfPresent(e){if(e.length===0)return;const n=e.filter(i=>this.store.has(i));n.length&&this.store.delete(n)}setDeselected(e){const n=e.filter(i=>this.store.has(i)).map(i=>({featureId:i,properties:{[Hn.SELECTED]:!1}}));this.updateFeatureProperties(n)}setSelected(e){const{type:n}=this.store.getGeometryCopy(e),i={featureId:e,propertyMutations:{[Hn.SELECTED]:!0},context:{updateType:_t.Commit}};n==="Polygon"?this.updatePolygon(i):n==="LineString"?this.updateLineString(i):n==="Point"&&this.updatePoint(i)}updateGuidancePoints(e){this.updateFeatureGeometries(e.map(({featureId:n,coordinate:i})=>({id:n,geometry:{type:"Point",coordinates:i}})))}handleCreateFeature({geometry:e,properties:n}){return this.createFeatureWithGeometry({geometry:e,properties:n})}handleMutateFeature({type:e,featureId:n,coordinateMutations:i,propertyMutations:a,context:s}){if(!this.mutateFeature({type:e,featureId:n,coordinateMutations:i,propertyMutations:a,context:s.updateType===_t.Finish?Qt({},s,{correctRightHandRule:!0}):Qt({},s)}))return null;const u=this.buildFeatureWithGeometry(n);return s.updateType!==_t.Finish||i||this.validateGeometryWithUpdateType({geometry:u.geometry,properties:u.properties,updateType:s.updateType})?u:null}epsilonOffset(){const e=1/Math.pow(10,this.coordinatePrecision-1);return Math.max(1e-6,e)}mutateFeature({type:e,featureId:n,coordinateMutations:i,propertyMutations:a,context:s}){if(!n)return!1;const u=this.store.getGeometryCopy(n),c=this.store.getPropertiesCopy(n);if(u.type!==e)throw new Error(`${e} geometries cannot be updated on features with ${u.type} geometries`);if(i){let f=this.applyCoordinateMutations(u,i);if(s.correctRightHandRule&&f.type==="Polygon"){const h=FS(f);h&&(f=h)}if(!this.validateGeometryWithUpdateType({geometry:f,properties:c,updateType:s.updateType}))return!1;this.updateFeatureGeometries([{id:n,geometry:f}])}return a&&this.updateFeatureProperties([{featureId:n,properties:a}]),!0}applyCoordinateMutations(e,n){if(this.isReplaceMutation(n))return Qt({},e,{coordinates:n.coordinates});if(e.type==="Point")throw new Error("Coordinate mutations are not supported for Point geometries");const i=e.type==="Polygon",a=i?e.coordinates[0].slice():e.coordinates.slice(),s=a.length,u=v=>{const w=v<0?s+v:v;if(w<0||w>=s)throw new RangeError(`Index ${v} (normalized to ${w}) is out of bounds`);return w},c=new Array(s).fill(void 0),f=Array.from({length:s},()=>[]),h=Array.from({length:s},()=>[]),g=[];for(const v of n){if(v.type===_h||v.type===pu){const _=v.index,E=_<0?s+_:_;if(E<0||E>s)throw new RangeError(`Index ${v.index} (normalized to ${E}) is out of bounds`);if(v.type===_h){if(E>=s)throw new RangeError(`INSERT_BEFORE index ${v.index} (normalized to ${E}) is out of bounds for length ${s}`);f[E].push(v)}else E===s?g.push(v):h[E].push(v);continue}const w=u(v.index);c[w]=Qt({},v,{index:w})}const y=[];for(let v=0;v<s;v++){const w=f[v];for(const P of w)y.push(P.coordinate);const _=c[v];_?_.type===Is||y.push(_.coordinate):y.push(a[v]);const E=h[v];for(const P of E)y.push(P.coordinate)}for(const v of g)y.push(v.coordinate);return Qt({},e,i?{coordinates:[y,...e.coordinates.slice(1)]}:{coordinates:y})}isReplaceMutation(e){return e.type===ci}createFeatureWithGeometry({geometry:e,properties:n}){const[i]=this.createFeatures([{type:"Feature",geometry:e,properties:n}]);return{id:i,type:"Feature",properties:this.store.getPropertiesCopy(i),geometry:this.store.getGeometryCopy(i)}}validateGeometryWithUpdateType({geometry:e,properties:n,updateType:i}){return!this.options.validate||this.options.validate({type:"Feature",geometry:e,properties:n||{}},{project:this.project,unproject:this.unproject,coordinatePrecision:this.coordinatePrecision,updateType:i}).valid}buildFeatureWithGeometry(e){return{id:e,type:"Feature",properties:this.store.getPropertiesCopy(e),geometry:this.store.getGeometryCopy(e)}}createFeatures(e){return this.store.create(e)}updateFeatureGeometries(e){this.store.updateGeometry(e)}updateFeatureProperties(e){const n=e.map(({featureId:i,properties:a})=>Object.entries(a).map(([s,u])=>({id:i,property:s,value:u}))).flat();this.store.updateProperty(n)}}const Wa=(t,e)=>{const{x:n,y:i}=t,{x:a,y:s}=e,u=a-n,c=s-i;return Math.sqrt(c*c+u*u)};function EO(t,e){return t[0]===e[0]&&t[1]===e[1]}class l0 extends rr{constructor(e){super(e)}getGeometryType(e){return this.store.getGeometryCopy(e).type}coordinateAtIndexIsIdentical({featureId:e,newCoordinate:n,index:i}){const a=this.store.getGeometryCopy(e);let s;if(a.type==="Polygon")s=a.coordinates[0][i];else if(a.type==="LineString")s=a.coordinates[i];else{if(i!==0)throw new Error("Point geometries only have one coordinate at index 0");s=a.coordinates}return EO(n,s)}getGeometry(e){return this.store.getGeometryCopy(e)}getCoordinates(e){const{type:n,coordinates:i}=this.store.getGeometryCopy(e);return n==="Polygon"?i[0]:i}getCoordinate(e,n){const i=this.getCoordinates(e),a=n<0?i.length+n:n;if(a<0||a>=i.length)throw new RangeError(`Index ${n} (normalized to ${a}) is out of bounds`);return i[a]}getProperties(e){return this.store.getPropertiesCopy(e)}hasFeature(e){return this.store.has(e)}getAllFeatureIdsWhere(e){return this.store.copyAllWhere(e).map(({id:n})=>n)}}function OO({unproject:t,point:e,pointerDistance:n}){const i=n/2,{x:a,y:s}=e;return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[[t(a-i,s-i),t(a+i,s-i),t(a+i,s+i),t(a-i,s+i),t(a-i,s-i)].map(u=>[u.lng,u.lat])]}}}class yp extends rr{constructor(e){super(e)}create(e){const{containerX:n,containerY:i}=e;return OO({unproject:this.unproject,point:{x:n,y:i},pointerDistance:this.pointerDistance})}}class vp extends rr{constructor(e){super(e)}measure(e,n){const{x:i,y:a}=this.project(n[0],n[1]);return Wa({x:i,y:a},{x:e.containerX,y:e.containerY})}}class u0 extends rr{constructor(e,n,i){super(e),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=a=>this.getSnappable(a,s=>!!(s.properties&&s.properties.mode===this.mode)).coordinate,this.getSnappableCoordinate=(a,s)=>this.getSnappable(a,u=>!!(u.properties&&u.properties.mode===this.mode&&u.id!==s)).coordinate,this.config=e,this.pixelDistance=n,this.clickBoundingBox=i}getSnappable(e,n){const i=this.clickBoundingBox.create(e),a=this.store.search(i,n),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDist:1/0};return a.forEach(u=>{let c;if(u.geometry.type==="Polygon")c=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;c=u.geometry.coordinates}c.forEach((f,h)=>{const g=this.pixelDistance.measure(e,f);g<s.minDist&&g<this.pointerDistance&&(s.coordinate=f,s.minDist=g,s.featureId=u.id,s.featureCoordinateIndex=h)})}),s}}function BS(t,e,n){const i=Vr(t[0]),a=Vr(t[1]),s=Vr(n),u=TL(e),c=Math.asin(Math.sin(a)*Math.cos(u)+Math.cos(a)*Math.sin(u)*Math.cos(s));return[fu(i+Math.atan2(Math.sin(s)*Math.sin(u)*Math.cos(a),Math.cos(u)-Math.sin(a)*Math.sin(c))),fu(c)]}function US(t,e){const n=Vr(t[0]),i=Vr(e[0]),a=Vr(t[1]),s=Vr(e[1]),u=Math.sin(i-n)*Math.cos(s),c=Math.cos(a)*Math.sin(s)-Math.sin(a)*Math.cos(s)*Math.cos(i-n);return fu(Math.atan2(u,c))}function IL({x:t,y:e},{x:n,y:i}){const a=n-t,s=i-e;if(a===0&&s===0)return 0;let u=Math.atan2(s,a);return u*=180/Math.PI,u>180?u-=360:u<-180&&(u+=360),u}function jL(t,e,n){const i=[],a=t.length;let s,u,c,f=0;for(let g=0;g<t.length&&!(e>=f&&g===t.length-1);g++){if(f>e&&i.length===0){if(s=e-f,!s)return i.push(t[g]),i;u=US(t[g],t[g-1])-180,c=BS(t[g],s,u),i.push(c)}if(f>=n)return s=n-f,s?(u=US(t[g],t[g-1])-180,c=BS(t[g],s,u),i.push(c),i):(i.push(t[g]),i);if(f>=e&&i.push(t[g]),g===t.length-1)return i;f+=ea(t[g],t[g+1])}if(f<e&&t.length===a)throw new Error("Start position is beyond line");const h=t[t.length-1];return[h,h]}function Yf(t){return t*(Math.PI/180)}function $S(t){return t*(180/Math.PI)}class kL extends rr{constructor(e){super(e),this.config=void 0,this.config=e}generateInsertionCoordinates(e,n,i){const a=[e,n];let s=0;for(let h=0;h<a.length-1;h++)s+=ea(a[0],a[1]);if(s<=i)return a;let u=s/i-1;Number.isInteger(u)||(u=Math.floor(u)+1);const c=[];for(let h=0;h<u;h++){const g=jL(a,i*h,i*(h+1));c.push(g)}const f=[];for(let h=0;h<c.length;h++)f.push(c[h][1]);return this.limitCoordinates(f)}generateInsertionGeodesicCoordinates(e,n,i){const a=ea(e,n),s=(function(u,c,f){const h=[],g=Yf(u[1]),y=Yf(u[0]),v=Yf(c[1]),w=Yf(c[0]);f+=1;const _=2*Math.asin(Math.sqrt(Math.sin((v-g)/2)**2+Math.cos(g)*Math.cos(v)*Math.sin((w-y)/2)**2));if(_===0||isNaN(_))return h;for(let E=0;E<=f;E++){const P=E/f,N=Math.sin((1-P)*_)/Math.sin(_),D=Math.sin(P*_)/Math.sin(_),A=N*Math.cos(g)*Math.cos(y)+D*Math.cos(v)*Math.cos(w),z=N*Math.cos(g)*Math.sin(y)+D*Math.cos(v)*Math.sin(w),L=N*Math.sin(g)+D*Math.sin(v);if(isNaN(A)||isNaN(z)||isNaN(L))continue;const G=Math.atan2(L,Math.sqrt(A**2+z**2)),j=Math.atan2(z,A);isNaN(G)||isNaN(j)||h.push([$S(j),$S(G)])}return h.slice(1,-1)})(e,n,Math.floor(a/i));return this.limitCoordinates(s)}limitCoordinates(e){return e.map(n=>[Pn(n[0],this.config.coordinatePrecision),Pn(n[1],this.config.coordinatePrecision)])}}function zL(t,e){if(t.geometry.type!=="LineString")return{valid:!1,reason:"Feature is not a LineString"};if(t.geometry.coordinates.length<2)return{valid:!1,reason:"Feature has less than 2 coordinates"};for(let n=0;n<t.geometry.coordinates.length;n++){if(!s0(t.geometry.coordinates[n]))return{valid:!1,reason:"Feature has invalid coordinates"};if(!mp(t.geometry.coordinates[n],e))return{valid:!1,reason:"Feature has coordinates with excessive precision"}}return{valid:!0}}function HS(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2))}function Os(t,e){const n=(function(i,a){const[s,u,c]=i,[f,h,g]=a;return s*f+u*h+c*g})(t,e)/(HS(t)*HS(e));return Math.acos(Math.min(Math.max(n,-1),1))}function qg(t){const e=Vr(t[1]),n=Vr(t[0]);return[Math.cos(e)*Math.cos(n),Math.cos(e)*Math.sin(n),Math.sin(e)]}function Ts(t){const[e,n,i]=t,a=fu(Math.asin(i));return[fu(Math.atan2(n,e)),a]}function LL(t,e,n){const i=qg(t),a=qg(e),s=qg(n),[u,c,f]=s,[h,g,y]=(function(de,me){const[Ee,ce,xe]=de,[B,W,V]=me;return[ce*V-xe*W,xe*B-Ee*V,Ee*W-ce*B]})(i,a),v=g*f-y*c,w=y*u-h*f,_=h*c-g*u,E=_*g-w*y,P=v*y-_*h,N=w*h-v*g,D=1/Math.sqrt(Math.pow(E,2)+Math.pow(P,2)+Math.pow(N,2)),A=[E*D,P*D,N*D],z=[-1*E*D,-1*P*D,-1*N*D],L=Os(i,a),G=Os(i,A),j=Os(a,A),U=Os(i,z),ie=Os(a,z);let se;return se=G<U&&G<ie||j<U&&j<ie?A:z,Os(i,se)>L||Os(a,se)>L?ea(Ts(se),Ts(i))<=ea(Ts(se),Ts(a))?[Ts(i),!0,!1]:[Ts(a),!1,!0]:[Ts(se),!1,!1]}function FL(t,e,n){const i=e.x-t.x,a=e.y-t.y,s=Math.max(0,Math.min(1,((n.x-t.x)*i+(n.y-t.y)*a)/(i*i+a*a)));return{x:t.x+s*i,y:t.y+s*a}}class c0 extends rr{constructor(e,n,i){super(e),this.config=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.getSnappableCoordinateFirstClick=a=>{const s=this.getSnappable(a,u=>!!(u.properties&&u.properties.mode===this.mode));return s.coordinate?[Pn(s.coordinate[0],this.config.coordinatePrecision),Pn(s.coordinate[1],this.config.coordinatePrecision)]:void 0},this.getSnappableCoordinate=(a,s)=>{const u=this.getSnappable(a,c=>!!(c.properties&&c.properties.mode===this.mode&&c.id!==s));return u.coordinate?[Pn(u.coordinate[0],this.config.coordinatePrecision),Pn(u.coordinate[1],this.config.coordinatePrecision)]:void 0},this.config=e,this.pixelDistance=n,this.clickBoundingBox=i}getSnappable(e,n){const i=this.clickBoundingBox.create(e),a=this.store.search(i,n),s={featureId:void 0,featureCoordinateIndex:void 0,coordinate:void 0,minDistance:1/0};return a.forEach(u=>{let c;if(u.geometry.type==="Polygon")c=u.geometry.coordinates[0];else{if(u.geometry.type!=="LineString")return;c=u.geometry.coordinates}const f=[];for(let v=0;v<c.length-1;v++)f.push([c[v],c[v+1]]);let h;const g=[e.lng,e.lat];if(this.config.projection==="web-mercator"?h=(function(v,w){let _=[1/0,1/0],E=1/0,P=0;for(let N of w){const D=N[0],A=N[1];let z,L=1/0;const G=Mn(D[0],D[1]),j=Mn(A[0],A[1]),U=Mn(v[0],v[1]);if(D[0]===v[0]&&D[1]===v[1])z=D;else if(A[0]===v[0]&&A[1]===v[1])z=A;else{const{x:ie,y:se}=FL(G,j,U),{lng:de,lat:me}=hu(ie,se);z=[de,me]}z&&(L=Wa(U,Mn(z[0],z[1])),L<E&&(_=z,E=L,P=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,lineIndex:P,distance:E}})(g,f):this.config.projection==="globe"&&(h=(function(v,w){let _=[1/0,1/0],E=1/0,P=0;for(let N of w){const D=N[0],A=N[1];let z,L=1/0;D[0]===v[0]&&D[1]===v[1]?z=D:A[0]===v[0]&&A[1]===v[1]?z=A:[z]=LL(D,A,v),z&&(L=ea(v,z),L<E&&(_=z,E=L,P=w.indexOf(N)))}return E===1/0?void 0:{coordinate:_,distance:E,lineIndex:P}})(g,f)),!h)return;const y=this.pixelDistance.measure(e,h.coordinate);y<s.minDistance&&y<this.pointerDistance&&(s.featureId=u.id,s.coordinate=[Pn(h.coordinate[0],this.config.coordinatePrecision),Pn(h.coordinate[1],this.config.coordinatePrecision)],s.featureCoordinateIndex=h.lineIndex,s.minDistance=y)}),s}}function d0(t){return Array.isArray(t)&&t.length>0&&Array.isArray(t[0])&&Array.isArray(t[0][0])}const Eh=t=>d0(t)?t[0].slice(0,-1):t,Vc=t=>d0(t)?t[0]:t;class TO extends rr{constructor(e,n,i,a){super(e),this.config=void 0,this.pixelDistance=void 0,this.mutateFeatureBehavior=void 0,this.readFeatureBehavior=void 0,this._startEndPoints=[],this.config=e,this.pixelDistance=n,this.mutateFeatureBehavior=i,this.readFeatureBehavior=a}get ids(){return this._startEndPoints.concat()}set ids(e){}create(e){if(this.ids.length)throw new Error("Opening and closing points already created");const n=d0(e),i=Vc(e);if(n){if(i.length<=3)throw new Error("Requires at least 4 coordinates");this._startEndPoints=this.mutateFeatureBehavior.createGuidancePoints({coordinates:[i[0],i[i.length-2]],type:ft.CLOSING_POINT})}else this._startEndPoints=[this.mutateFeatureBehavior.createGuidancePoint({coordinate:i[i.length-2],type:ft.CLOSING_POINT})]}delete(){this.ids.length&&(this.mutateFeatureBehavior.deleteFeaturesIfPresent(this.ids),this._startEndPoints=[])}updateOne(e,n){this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[e],coordinate:n}])}update(e){const n=Vc(e);this.ids.length!==1?this.ids.length===2&&this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:n[0]},{featureId:this.ids[1],coordinate:n[n.length-3]}]):this.mutateFeatureBehavior.updateGuidancePoints([{featureId:this.ids[0],coordinate:n[n.length-2]}])}isLineStringClosingPoint(e){if(this.ids.length!==1)return{isClosing:!1};const n=this.readFeatureBehavior.getGeometry(this.ids[0]);return{isClosing:this.pixelDistance.measure(e,n.coordinates)<this.pointerDistance}}isPolygonClosingPoints(e){if(this.ids.length!==2)return{isClosing:!1,isPreviousClosing:!1};const n=this.readFeatureBehavior.getGeometry(this.ids[0]),i=this.readFeatureBehavior.getGeometry(this.ids[1]),a=this.pixelDistance.measure(e,n.coordinates),s=this.pixelDistance.measure(e,i.coordinates);return{isClosing:a<this.pointerDistance,isPreviousClosing:s<this.pointerDistance}}}class f0 extends rr{constructor(e,n,i){super(e),this.readFeature=void 0,this.mutateFeature=void 0,this.readFeature=n,this.mutateFeature=i}createOrUpdate({featureId:e,featureCoordinates:n}){if(!this.readFeature.hasFeature(e))return void this.deleteOrphanedPoints(e);const i=Eh(n),a=this.readFeature.getProperties(e),s=a.coordinatePointIds;if(s)if(s&&s.every(u=>this.readFeature.hasFeature(u))){const u=a.coordinatePointIds,c=u.map(f=>this.readFeature.getGeometry(f).coordinates);if(u.length!==i.length){this.deleteCoordinatePoints(u);const f=this.createPoints(i,a.mode,e);this.setFeatureCoordinatePoints(e,f)}else{const f=[];i.forEach((h,g)=>{h[0]===c[g][0]&&h[1]===c[g][1]||f.push({featureId:u[g],coordinate:h})}),this.mutateFeature.updateGuidancePoints(f)}}else{const u=s.filter(f=>this.readFeature.hasFeature(f));u.length&&this.deleteCoordinatePoints(u);const c=this.createPoints(i,a.mode,e);this.setFeatureCoordinatePoints(e,c)}else{const u=this.createPoints(i,a.mode,e);this.setFeatureCoordinatePoints(e,u)}}deletePointsByFeatureIds(e){for(const n of e)this.deleteIfPresent(n)}updateOneAtIndex(e,n,i){const a=this.readFeature.getProperties(e).coordinatePointIds;a&&a.length!==0&&a[n]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:a[n],coordinate:i}])}updateAllInPlace({featureId:e,featureCoordinates:n}){const i=this.readFeature.getProperties(e);if(!i.coordinatePointIds)return;const a=Eh(n);a.length===i.coordinatePointIds.length&&this.mutateFeature.updateGuidancePoints(i.coordinatePointIds.map((s,u)=>({featureId:s,coordinate:a[u]})))}createPoints(e,n,i){return this.mutateFeature.createGuidancePoints({coordinates:e,type:ft.COORDINATE_POINT,additionalProperties:a=>({mode:n,[ft.COORDINATE_POINT]:!0,[ft.COORDINATE_POINT_FEATURE_ID]:i,index:a})})}setFeatureCoordinatePoints(e,n,i=_t.Commit){const a=this.readFeature.getGeometryType(e),s={featureId:e,propertyMutations:{[ft.COORDINATE_POINT_IDS]:n},context:{updateType:i}};if(a==="Polygon")this.mutateFeature.updatePolygon(s);else{if(a!=="LineString")throw new Error("Unsupported geometry type for coordinate points");this.mutateFeature.updateLineString(s)}}deleteCoordinatePoints(e){this.mutateFeature.deleteFeaturesIfPresent(e)}deleteIfPresent(e){if(!this.readFeature.hasFeature(e))return;const n=this.readFeature.getProperties(e).coordinatePointIds;n&&(this.deleteCoordinatePoints(n),this.setFeatureCoordinatePoints(e,null))}deleteOrphanedPoints(e){const n=this.readFeature.getAllFeatureIdsWhere(i=>i[ft.COORDINATE_POINT_FEATURE_ID]===e);this.mutateFeature.deleteFeaturesIfPresent(n)}}const BL={cancel:"Escape",finish:"Enter"},UL={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class $L extends xd{constructor(e){super(e,!0),this.mode="linestring",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=BL,this.snapping=void 0,this.cursors=UL,this.mouseMove=!1,this.insertCoordinates=void 0,this.lastCommittedCoordinates=void 0,this.snappedPointId=void 0,this.lastMouseMoveEvent=void 0,this.showCoordinatePoints=!1,this.finishOnNthCoordinate=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinateSnapping=void 0,this.insertPoint=void 0,this.lineSnapping=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.closingPoints=void 0,this.coordinatePoints=void 0,this.updateOptions(e)}updateOptions(e){if(super.updateOptions(e),e?.finishOnNthCoordinate!==void 0&&Number.isInteger(e.finishOnNthCoordinate)&&e.finishOnNthCoordinate>1&&(this.finishOnNthCoordinate=Math.floor(e.finishOnNthCoordinate)),e!=null&&e.cursors&&(this.cursors=Qt({},this.cursors,e.cursors)),e!=null&&e.snapping&&(this.snapping=e.snapping),e?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:e!=null&&e.keyEvents&&(this.keyEvents=Qt({},this.keyEvents,e.keyEvents)),e!=null&&e.insertCoordinates&&(this.insertCoordinates=e.insertCoordinates),e&&e.editable&&(this.editable=e.editable),e?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=e.showCoordinatePoints,this.coordinatePoints&&e.showCoordinatePoints===!0)this.store.copyAllWhere(n=>n.mode===this.mode).forEach(n=>{this.coordinatePoints.createOrUpdate({featureId:n.id,featureCoordinates:n.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const n=this.store.copyAllWhere(i=>{var a;return i.mode===this.mode&&!!((a=i[ft.COORDINATE_POINT_IDS])!=null&&a.length)});this.coordinatePoints.deletePointsByFeatureIds(n.map(i=>i.id))}}}shouldFinishOnCommit(e){return!!this.finishOnNthCoordinate&&Math.max(0,e.coordinates.length-1)>=this.finishOnNthCoordinate}updateSnappedCoordinate(e){const n=this.snapCoordinate(e);return n?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:n}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:n,type:ft.SNAPPING_POINT}),e.lng=n[0],e.lat=n[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),n}close(){if(this.currentId===void 0)return;const e=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Finish,action:Ka},coordinateMutations:[{type:Is,index:-1}],propertyMutations:{[ft.CURRENTLY_DRAWING]:void 0}});if(!e)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:e.geometry.coordinates});const n=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.lastCommittedCoordinates=void 0,this.state==="drawing"&&this.setStarted(),this.closingPoints.delete(),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.onFinish(n,{mode:this.mode,action:Ka})}generateInsertCoordinates(e,n){if(!this.insertCoordinates||!this.lastCommittedCoordinates)throw new Error("Not able to insert coordinates");if(this.insertCoordinates.strategy!=="amount")throw new Error("Strategy does not exist");const i=ea(e,n)/(this.insertCoordinates.value+1);let a=[];return this.projection==="globe"?a=this.insertPoint.generateInsertionGeodesicCoordinates(e,n,i):this.projection==="web-mercator"&&(a=this.insertPoint.generateInsertionCoordinates(e,n,i)),a}createLine(e){const n=this.mutateFeature.createLineString({coordinates:[e,e],properties:{mode:this.mode,[ft.CURRENTLY_DRAWING]:!0}});this.lastCommittedCoordinates=n.geometry.coordinates,this.currentId=n.id,this.currentCoordinate++,this.setDrawing(),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:n.geometry.coordinates})}firstUpdateToLine(e){if(!this.currentId)return;this.setCursor(this.cursors.close);const n=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Commit},coordinateMutations:[{type:pu,index:-1,coordinate:e}]});n&&(this.closingPoints.create(n.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:n.geometry.coordinates}),this.lastCommittedCoordinates=n.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(n.geometry)&&this.close())}updateToLine(e,n){if(!this.currentId)return;const{isClosing:i}=this.closingPoints.isLineStringClosingPoint(e);if(i)return void this.close();this.setCursor(this.cursors.close);const a=this.mutateFeature.updateLineString({featureId:this.currentId,context:{updateType:_t.Commit},coordinateMutations:[{type:pu,index:-1,coordinate:n}]});a&&(this.closingPoints.update(a.geometry.coordinates),this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:a.geometry.coordinates}),this.lastCommittedCoordinates=a.geometry.coordinates,this.currentCoordinate++,this.shouldFinishOnCommit(a.geometry)&&this.close())}registerBehaviors(e){this.insertPoint=new kL(e),this.clickBoundingBox=new yp(e),this.pixelDistance=new vp(e),this.lineSnapping=new c0(e,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new u0(e,this.pixelDistance,this.clickBoundingBox),this.readFeature=new l0(e),this.mutateFeature=new gp(e,{validate:this.validate}),this.closingPoints=new TO(e,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new f0(e,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onMouseMove(e){this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=e;const n=this.updateSnappedCoordinate(e)||[e.lng,e.lat];if(this.currentId===void 0||this.currentCoordinate===0)return;const{isClosing:i}=this.closingPoints.isLineStringClosingPoint(e);i&&this.setCursor(this.cursors.close);let a=[{type:Pr,index:-1,coordinate:n}];if(this.insertCoordinates){const u=this.getInsertCoordinates(n);u&&(a={type:ci,coordinates:u})}const s=this.mutateFeature.updateLineString({coordinateMutations:a,featureId:this.currentId,context:{updateType:_t.Provisional}});s&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates})}getInsertCoordinates(e){if(!this.lastCommittedCoordinates)return;const n=this.lastCommittedCoordinates[this.lastCommittedCoordinates.length-1];if(EO(n,e))return;const i=this.generateInsertCoordinates(n,e);return[...this.lastCommittedCoordinates.slice(0,-1),...i,e]}onRightClick(e){if(!this.editable||this.state!=="started")return;const{featureId:n,featureCoordinateIndex:i}=this.coordinateSnapping.getSnappable(e,c=>this.lineStringFilter(c));if(!n||i===void 0)return;const a=this.readFeature.getGeometry(n);let s;if(a.type!=="LineString"||(s=a.coordinates,s.length<=2))return;const u=this.mutateFeature.updateLineString({featureId:n,coordinateMutations:[{type:Is,index:i}],context:{updateType:_t.Finish,action:ru}});u&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:n,featureCoordinates:u.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(n,{mode:this.mode,action:CO})}onLeftClick(e){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);const n=this.snapCoordinate(e)||[e.lng,e.lat];this.currentCoordinate===0?this.createLine(n):this.currentCoordinate===1&&this.currentId?this.firstUpdateToLine(n):this.currentId&&this.updateToLine(e,n)}onClick(e){this.currentId===void 0||this.readFeature.hasFeature(this.currentId)||this.cleanUp(),(e.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,e)||e.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,e)||e.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,e))&&(this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(e),this.mouseMove=!1,e.button==="right"?this.onRightClick(e):e.button==="left"&&this.onLeftClick(e))}onKeyDown(){}onKeyUp(e){e.key===this.keyEvents.cancel&&this.cleanUp(),e.key===this.keyEvents.finish&&this.close()}onDragStart(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,e)||!this.editable)return;let i;if(this.state==="started"){const a=this.lineSnapping.getSnappable(e,u=>this.lineStringFilter(u));a.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=a.featureCoordinateIndex,this.editedFeatureId=a.featureId,i=a.coordinate);const s=this.coordinateSnapping.getSnappable(e,u=>this.lineStringFilter(u));s.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,i=s.coordinate)}this.editedFeatureId&&i&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:i,type:ft.EDITED})),this.setCursor(this.cursors.dragStart),n(!1))}onDrag(e,n){if(this.allowPointerEvent(this.pointerEvents.onDrag,e)&&this.editedFeatureId!==void 0&&this.editedFeatureCoordinateIndex!==void 0){if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0){const i=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional},coordinateMutations:[{type:Pr,index:this.editedFeatureCoordinateIndex,coordinate:[e.lng,e.lat]}]});if(!i)return;this.showCoordinatePoints&&(this.editedInsertIndex!==void 0?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:i.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,[e.lng,e.lat]))}else if(this.editedSnapType==="line"&&this.editedInsertIndex===void 0){this.editedInsertIndex=this.editedFeatureCoordinateIndex+1;const i=this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:i.geometry.coordinates}),this.editedFeatureCoordinateIndex++}this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:[e.lng,e.lat]}]),this.mutateFeature.updateLineString({featureId:this.editedFeatureId,context:{updateType:_t.Provisional},propertyMutations:{[ft.EDITED]:!0}})}}onDragEnd(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,e)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updateLineString({featureId:this.editedFeatureId,propertyMutations:{[ft.EDITED]:!1},context:{updateType:_t.Finish,action:ru}})))return;const i=this.editedFeatureId;n(!0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0),this.closingPoints.delete(),this.onFinish(i,{mode:this.mode,action:ru})}cleanUp(){const e=this.currentId,n=this.snappedPointId;this.snappedPointId=void 0,this.currentId=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),e&&this.showCoordinatePoints&&this.coordinatePoints.deletePointsByFeatureIds([e]),this.mutateFeature.deleteFeatureIfPresent(e),this.mutateFeature.deleteFeatureIfPresent(n),this.closingPoints.delete()}styleFeature(e){const n=Qt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(e.type==="Feature"&&e.geometry.type==="LineString"&&e.properties.mode===this.mode)return n.lineStringColor=this.getHexColorStylingValue(this.styles.lineStringColor,n.lineStringColor,e),n.lineStringOpacity=this.getNumericStylingValue(this.styles.lineStringOpacity,n.lineStringOpacity===void 0?1:n.lineStringOpacity,e),n.lineStringWidth=this.getNumericStylingValue(this.styles.lineStringWidth,n.lineStringWidth,e),n.zIndex=Gc,n;if(e.type==="Feature"&&e.geometry.type==="Point"&&e.properties.mode===this.mode){const i=e.properties[ft.COORDINATE_POINT],a=e.properties[ft.CLOSING_POINT]?"closingPoint":e.properties[ft.SNAPPING_POINT]?"snappingPoint":i?"coordinatePoint":void 0;if(!a)return n;const s={closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return n.pointWidth=this.getNumericStylingValue(s[a].width,n.pointWidth,e),n.pointOpacity=this.getNumericStylingValue(s[a].opacity,1,e),n.pointColor=this.getHexColorStylingValue(s[a].color,n.pointColor,e),n.pointOutlineColor=this.getHexColorStylingValue(s[a].outlineColor,"#ffffff",e),n.pointOutlineWidth=this.getNumericStylingValue(s[a].outlineWidth,2,e),n.pointOutlineOpacity=this.getNumericStylingValue(s[a].outlineOpacity,1,e),n.zIndex=i?20:50,n}return n}validateFeature(e){return this.validateModeFeature(e,n=>zL(n,this.coordinatePrecision))}lineStringFilter(e){return!!(e.geometry.type==="LineString"&&e.properties&&e.properties.mode===this.mode)}snapCoordinate(e){var n,i,a;let s;if((n=this.snapping)!=null&&n.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(e,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(e),u&&(s=u)}if((i=this.snapping)!=null&&i.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(e,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(e),u&&(s=u)}if((a=this.snapping)!=null&&a.toCustom){const u=this.snapping.toCustom(e,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(s=u)}return s}afterFeatureUpdated(e){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:e.id,featureCoordinates:e.geometry.coordinates}),this.editedFeatureId===e.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===e.id&&(this.closingPoints.delete(),this.currentCoordinate=0,this.currentId=void 0,this.state==="drawing"&&this.setStarted())}afterFeatureAdded(e){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:e.id,featureCoordinates:e.geometry.coordinates})}}const HL="Feature is not a Point",qL="Feature has invalid coordinates",GL="Feature has coordinates with excessive precision";function VL(t,e){return t.geometry.type!=="Point"?{valid:!1,reason:HL}:s0(t.geometry.coordinates)?mp(t.geometry.coordinates,e)?{valid:!0}:{valid:!1,reason:GL}:{valid:!1,reason:qL}}class YL extends rr{constructor(e,n,i){super(e),this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pixelDistance=n,this.clickBoundingBox=i}getNearestPointFeature(e){const n=this.clickBoundingBox.create(e),i=this.store.search(n);let a,s=1/0;for(let u=0;u<i.length;u++){const c=i[u];if(c.geometry.type!=="Point"||c.properties.mode!==this.mode)continue;const f=this.pixelDistance.measure(e,c.geometry.coordinates);f>s||f>this.pointerDistance||(s=f,a=c)}return a}}const KL={create:"crosshair",dragStart:"grabbing",dragEnd:"crosshair"};class WL extends xd{constructor(e){super(e,!0),this.mode="point",this.cursors=KL,this.editable=!1,this.editedFeatureId=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.pointSearch=void 0,this.mutateFeature=void 0,this.updateOptions(e)}updateOptions(e){super.updateOptions(e),e!=null&&e.cursors&&(this.cursors=Qt({},this.cursors,e.cursors)),e!=null&&e.editable&&(this.editable=e.editable)}start(){this.setStarted(),this.setCursor(this.cursors.create)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}onClick(e){e.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,e)||e.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,e)?this.onRightClick(e):e.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,e)&&this.onLeftClick(e)}onMouseMove(){}onKeyDown(){}onKeyUp(){}cleanUp(){this.editedFeatureId=void 0}onDragStart(e,n){if(this.allowPointerEvent(this.pointerEvents.onDragStart,e)){if(this.editable){const i=this.pointSearch.getNearestPointFeature(e);this.editedFeatureId=i?.id}this.editedFeatureId&&(this.setCursor(this.cursors.dragStart),n(!1))}}onDrag(e,n){this.allowPointerEvent(this.pointerEvents.onDrag,e)&&this.editedFeatureId!==void 0&&this.mutateFeature.updatePoint({featureId:this.editedFeatureId,coordinateMutations:{type:ci,coordinates:[e.lng,e.lat]},propertyMutations:{[ft.EDITED]:!0},context:{updateType:_t.Provisional}})}onDragEnd(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,e)||this.editedFeatureId===void 0||!this.mutateFeature.updatePoint({featureId:this.editedFeatureId,propertyMutations:{mode:this.mode,[ft.EDITED]:!1},context:{updateType:_t.Finish,action:"edit"}}))return;const i=this.editedFeatureId;this.setCursor(this.cursors.dragEnd),this.editedFeatureId=void 0,n(!0),this.onFinish(i,{mode:this.mode,action:Ka})}registerBehaviors(e){this.pixelDistance=new vp(e),this.clickBoundingBox=new yp(e),this.pointSearch=new YL(e,this.pixelDistance,this.clickBoundingBox),this.mutateFeature=new gp(e,{validate:this.validate})}styleFeature(e){const n=Qt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(e.type==="Feature"&&e.geometry.type==="Point"&&e.properties.mode===this.mode){const i=!!(e.id&&this.editedFeatureId===e.id);n.pointWidth=this.getNumericStylingValue(i?this.styles.editedPointWidth:this.styles.pointWidth,n.pointWidth,e),n.pointOpacity=this.getNumericStylingValue(this.styles.pointOpacity,n.pointOpacity===void 0?1:n.pointOpacity,e),n.pointColor=this.getHexColorStylingValue(i?this.styles.editedPointColor:this.styles.pointColor,n.pointColor,e),n.pointOutlineColor=this.getHexColorStylingValue(i?this.styles.editedPointOutlineColor:this.styles.pointOutlineColor,n.pointOutlineColor,e),n.pointOutlineOpacity=this.getNumericStylingValue(this.styles.pointOutlineOpacity,n.pointOutlineOpacity===void 0?1:n.pointOutlineOpacity,e),n.pointOutlineWidth=this.getNumericStylingValue(i?this.styles.editedPointOutlineWidth:this.styles.pointOutlineWidth,2,e),n.zIndex=30}return n}validateFeature(e){return this.validateModeFeature(e,n=>VL(n,this.coordinatePrecision))}onLeftClick(e){const n=this.mutateFeature.createPoint({coordinates:[e.lng,e.lat],properties:{mode:this.mode},context:{updateType:_t.Finish,action:Ka}});n&&this.onFinish(n.id,{mode:this.mode,action:Ka})}onRightClick(e){if(!this.editable)return;const n=this.pointSearch.getNearestPointFeature(e);n&&this.mutateFeature.deleteFeatureIfPresent(n.id)}afterFeatureUpdated(e){this.editedFeatureId===e.id&&(this.editedFeatureId=void 0,this.setCursor(this.cursors.create))}}const XL={cancel:"Escape",finish:"Enter"},QL={start:"crosshair",close:"pointer",dragStart:"grabbing",dragEnd:"crosshair"};class ZL extends xd{constructor(e){super(e,!0),this.mode="polygon",this.currentCoordinate=0,this.currentId=void 0,this.keyEvents=XL,this.cursors=QL,this.mouseMove=!1,this.showCoordinatePoints=!1,this.lastMouseMoveEvent=void 0,this.snapping=void 0,this.snappedPointId=void 0,this.editable=!1,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0,this.editedInsertIndex=void 0,this.editedPointId=void 0,this.coordinatePoints=void 0,this.lineSnapping=void 0,this.coordinateSnapping=void 0,this.pixelDistance=void 0,this.closingPoints=void 0,this.clickBoundingBox=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(e)}updateOptions(e){if(super.updateOptions(e),e!=null&&e.cursors&&(this.cursors=Qt({},this.cursors,e.cursors)),e?.keyEvents===null?this.keyEvents={cancel:null,finish:null}:e!=null&&e.keyEvents&&(this.keyEvents=Qt({},this.keyEvents,e.keyEvents)),e!=null&&e.snapping&&(this.snapping=e.snapping),e?.editable!==void 0&&(this.editable=e.editable),e?.pointerEvents!==void 0&&(this.pointerEvents=e.pointerEvents),e?.showCoordinatePoints!==void 0){if(this.showCoordinatePoints=e.showCoordinatePoints,this.coordinatePoints&&e.showCoordinatePoints===!0)this.store.copyAllWhere(n=>n.mode===this.mode).forEach(n=>{this.coordinatePoints.createOrUpdate({featureId:n.id,featureCoordinates:n.geometry.coordinates})});else if(this.coordinatePoints&&this.showCoordinatePoints===!1){const n=this.store.copyAllWhere(i=>i.mode===this.mode&&!!i[ft.COORDINATE_POINT_IDS]);this.coordinatePoints.deletePointsByFeatureIds(n.map(i=>i.id))}}}close(){if(this.currentId===void 0||this.readFeature.getCoordinates(this.currentId).length<5)return;const e=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Is,index:-2}],propertyMutations:{[ft.CURRENTLY_DRAWING]:void 0,[ft.COMMITTED_COORDINATE_COUNT]:void 0,[ft.PROVISIONAL_COORDINATE_COUNT]:void 0},context:{updateType:_t.Finish,action:Ka}});if(!e)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:e.geometry.coordinates}),this.state==="drawing"&&this.setStarted(),this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.closingPoints.delete();const n=this.currentId;this.currentCoordinate=0,this.currentId=void 0,this.onFinish(n,{mode:this.mode,action:Ka})}registerBehaviors(e){this.readFeature=new l0(e),this.mutateFeature=new gp(e,{validate:this.validate}),this.clickBoundingBox=new yp(e),this.pixelDistance=new vp(e),this.lineSnapping=new c0(e,this.pixelDistance,this.clickBoundingBox),this.coordinateSnapping=new u0(e,this.pixelDistance,this.clickBoundingBox),this.closingPoints=new TO(e,this.pixelDistance,this.mutateFeature,this.readFeature),this.coordinatePoints=new f0(e,this.readFeature,this.mutateFeature)}start(){this.setStarted(),this.setCursor(this.cursors.start)}stop(){this.cleanUp(),this.setStopped(),this.setCursor("unset")}updateSnappedCoordinate(e){const n=this.snapCoordinate(e);n?(this.snappedPointId?this.mutateFeature.updateGuidancePoints([{featureId:this.snappedPointId,coordinate:n}]):this.snappedPointId=this.mutateFeature.createGuidancePoint({coordinate:n,type:ft.SNAPPING_POINT}),e.lng=n[0],e.lat=n[1]):this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0)}onMouseMove(e){if(this.mouseMove=!0,this.setCursor(this.cursors.start),this.lastMouseMoveEvent=e,this.updateSnappedCoordinate(e),this.currentId===void 0||this.currentCoordinate===0)return;const n=this.readFeature.getCoordinate(this.currentId,0),i=[e.lng,e.lat];let a;if(this.currentCoordinate===1)a=[{type:Pr,index:1,coordinate:i},{type:Pr,index:2,coordinate:[e.lng,e.lat-this.mutateFeature.epsilonOffset()]}];else if(this.currentCoordinate===2)a=[{type:Pr,index:2,coordinate:i}];else{const{isClosing:u,isPreviousClosing:c}=this.closingPoints.isPolygonClosingPoints(e);c||u?(this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.setCursor(this.cursors.close),a=[{type:Pr,index:-1,coordinate:n},{type:Pr,index:-2,coordinate:n}]):a=[{type:Pr,index:-2,coordinate:i},{type:Pr,index:-1,coordinate:n}]}const s=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:a,propertyMutations:{[ft.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Provisional}});s&&this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates})}snapCoordinate(e){var n,i,a;let s;if((n=this.snapping)!=null&&n.toLine){let u;u=this.currentId?this.lineSnapping.getSnappableCoordinate(e,this.currentId):this.lineSnapping.getSnappableCoordinateFirstClick(e),u&&(s=u)}if((i=this.snapping)!=null&&i.toCoordinate){let u;u=this.currentId?this.coordinateSnapping.getSnappableCoordinate(e,this.currentId):this.coordinateSnapping.getSnappableCoordinateFirstClick(e),u&&(s=u)}if((a=this.snapping)!=null&&a.toCustom){const u=this.snapping.toCustom(e,{currentCoordinate:this.currentCoordinate,currentId:this.currentId,getCurrentGeometrySnapshot:this.currentId?()=>this.readFeature.getGeometry(this.currentId):()=>null,project:this.project,unproject:this.unproject});u&&(s=u)}return s}polygonFilter(e){return!!(e.geometry.type==="Polygon"&&e.properties&&e.properties.mode===this.mode)}onRightClick(e){if(!this.editable||this.state!=="started")return;const{featureId:n,featureCoordinateIndex:i}=this.coordinateSnapping.getSnappable(e,f=>this.polygonFilter(f));if(!n||i===void 0)return;const a=this.readFeature.getGeometry(n);if(a.type!=="Polygon")return;const s=a.coordinates[0];if(s.length<=4)return;let u;u=i===0||i===s.length-1?[{type:Is,index:0},{type:Is,index:-1},{type:pu,index:-1,coordinate:s[1]}]:[{type:Is,index:i}];const c=this.mutateFeature.updatePolygon({featureId:n,coordinateMutations:u,context:{updateType:_t.Finish,action:ru}});if(c){if(this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:n,featureCoordinates:c.geometry.coordinates}),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0,this.snapping)){const f=this.snapCoordinate(e);if(f){const[h]=this.mutateFeature.createGuidancePoints({type:ft.SNAPPING_POINT,coordinates:[f]});this.snappedPointId=h}}this.onFinish(n,{mode:this.mode,action:ru})}}onLeftClick(e){this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0);let n=this.snapCoordinate(e)||[e.lng,e.lat];if(this.currentCoordinate===0){const{id:i,geometry:a}=this.mutateFeature.createPolygon({coordinates:[n,n,n,n],properties:{mode:this.mode,[ft.CURRENTLY_DRAWING]:!0,[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1,[ft.PROVISIONAL_COORDINATE_COUNT]:this.currentCoordinate+1}});this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:i,featureCoordinates:a.coordinates}),this.currentId=i,this.currentCoordinate++,this.setDrawing()}else if(this.currentCoordinate===1&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:n,index:0}))return;const i=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Pr,index:1,coordinate:n},{type:Pr,index:2,coordinate:n}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:i.geometry.coordinates}),this.currentCoordinate++}else if(this.currentCoordinate===2&&this.currentId){if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:n,index:1}))return;const i=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:Pr,index:2,coordinate:n},{type:pu,index:2,coordinate:n}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!i)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:i.geometry.coordinates}),this.currentCoordinate===2&&this.closingPoints.create(i.geometry.coordinates),this.currentCoordinate++}else if(this.currentId){const{isClosing:i,isPreviousClosing:a}=this.closingPoints.isPolygonClosingPoints(e);if(a||i)this.close();else{if(this.readFeature.coordinateAtIndexIsIdentical({featureId:this.currentId,newCoordinate:n,index:this.currentCoordinate-1}))return;const s=this.mutateFeature.updatePolygon({featureId:this.currentId,coordinateMutations:[{type:_h,index:-1,coordinate:n}],propertyMutations:{[ft.COMMITTED_COORDINATE_COUNT]:this.currentCoordinate+1},context:{updateType:_t.Commit}});if(!s)return;this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:this.currentId,featureCoordinates:s.geometry.coordinates}),this.currentCoordinate++,this.closingPoints.ids.length&&this.closingPoints.update(s.geometry.coordinates)}}}onClick(e){this.currentCoordinate>0&&!this.mouseMove&&this.onMouseMove(e),this.mouseMove=!1,e.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,e)||e.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,e)?this.onRightClick(e):e.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,e)&&this.onLeftClick(e)}onKeyUp(e){e.key===this.keyEvents.cancel?this.cleanUp():e.key===this.keyEvents.finish&&this.close()}onKeyDown(){}onDragStart(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,e)||!this.editable)return;let i;if(this.state==="started"){const a=this.lineSnapping.getSnappable(e,u=>this.polygonFilter(u));a.coordinate&&(this.editedSnapType="line",this.editedFeatureCoordinateIndex=a.featureCoordinateIndex,this.editedFeatureId=a.featureId,i=a.coordinate);const s=this.coordinateSnapping.getSnappable(e,u=>this.polygonFilter(u));s.coordinate&&(this.editedSnapType="coordinate",this.editedFeatureCoordinateIndex=s.featureCoordinateIndex,this.editedFeatureId=s.featureId,i=s.coordinate)}this.editedFeatureId&&i&&(this.editedPointId||(this.editedPointId=this.mutateFeature.createGuidancePoint({coordinate:i,type:ft.EDITED})),this.setCursor(this.cursors.dragStart),n(!1))}onDrag(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDrag,e)||this.editedFeatureId===void 0||this.editedFeatureCoordinateIndex===void 0)return;const i=this.readFeature.getGeometry(this.editedFeatureId),a=[e.lng,e.lat];let s=[];if(this.editedSnapType==="coordinate"||this.editedSnapType==="line"&&this.editedInsertIndex!==void 0?s=this.editedFeatureCoordinateIndex===0||this.editedFeatureCoordinateIndex===i.coordinates[0].length-1?[{type:Pr,index:0,coordinate:a},{type:Pr,index:-1,coordinate:a}]:[{type:Pr,index:this.editedFeatureCoordinateIndex,coordinate:a}]:this.editedSnapType==="line"&&this.editedInsertIndex===void 0&&(this.editedInsertIndex=this.editedFeatureCoordinateIndex+1,s=[{type:_h,index:this.editedInsertIndex,coordinate:a}],this.editedFeatureCoordinateIndex++),s.length===0)return;const u=this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,coordinateMutations:s,propertyMutations:{[ft.EDITED]:!0},context:{updateType:_t.Provisional}});u&&(this.showCoordinatePoints&&(this.editedInsertIndex?this.coordinatePoints.createOrUpdate({featureId:this.editedFeatureId,featureCoordinates:u.geometry.coordinates}):this.coordinatePoints.updateOneAtIndex(this.editedFeatureId,this.editedFeatureCoordinateIndex,u.geometry.coordinates[0][this.editedFeatureCoordinateIndex])),this.snapping&&this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedPointId&&this.mutateFeature.updateGuidancePoints([{featureId:this.editedPointId,coordinate:a}]))}onDragEnd(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDragEnd,e)||this.editedFeatureId===void 0||(this.setCursor(this.cursors.dragEnd),!this.mutateFeature.updatePolygon({featureId:this.editedFeatureId,propertyMutations:{[ft.EDITED]:!1},context:{updateType:_t.Finish,action:ru}})))return;const i=this.editedFeatureId;this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0),this.snappedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.snappedPointId),this.snappedPointId=void 0),this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,n(!0),this.onFinish(i,{mode:this.mode,action:Ka})}cleanUp(){const e=this.currentId,n=this.snappedPointId,i=this.editedPointId;this.currentId=void 0,this.snappedPointId=void 0,this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedInsertIndex=void 0,this.editedSnapType=void 0,this.currentCoordinate=0,this.state==="drawing"&&this.setStarted(),e&&this.coordinatePoints.deletePointsByFeatureIds([e]),this.mutateFeature.deleteFeatureIfPresent(e),this.mutateFeature.deleteFeatureIfPresent(i),this.mutateFeature.deleteFeatureIfPresent(n),this.closingPoints.ids.length&&this.closingPoints.delete()}styleFeature(e){const n=Qt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(e.properties.mode===this.mode){if(e.geometry.type==="Polygon")return n.polygonFillColor=this.getHexColorStylingValue(this.styles.fillColor,n.polygonFillColor,e),n.polygonOutlineColor=this.getHexColorStylingValue(this.styles.outlineColor,n.polygonOutlineColor,e),n.polygonOutlineWidth=this.getNumericStylingValue(this.styles.outlineWidth,n.polygonOutlineWidth,e),n.polygonFillOpacity=this.getNumericStylingValue(this.styles.fillOpacity,n.polygonFillOpacity,e),n.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.outlineOpacity,1,e),n.zIndex=Gc,n;if(e.geometry.type==="Point"){const i=e.properties[ft.EDITED],a=e.properties[ft.COORDINATE_POINT],s=i?"editedPoint":e.properties[ft.CLOSING_POINT]?"closingPoint":e.properties[ft.SNAPPING_POINT]?"snappingPoint":a?"coordinatePoint":void 0;if(!s)return n;const u={editedPoint:{width:this.styles.editedPointOutlineWidth,color:this.styles.editedPointColor,opacity:this.styles.editedPointOpacity,outlineColor:this.styles.editedPointOutlineColor,outlineWidth:this.styles.editedPointOutlineWidth,outlineOpacity:this.styles.editedPointOutlineOpacity},closingPoint:{width:this.styles.closingPointWidth,color:this.styles.closingPointColor,opacity:this.styles.closingPointOpacity,outlineColor:this.styles.closingPointOutlineColor,outlineWidth:this.styles.closingPointOutlineWidth,outlineOpacity:this.styles.closingPointOutlineOpacity},snappingPoint:{width:this.styles.snappingPointWidth,color:this.styles.snappingPointColor,opacity:this.styles.snappingPointOpacity,outlineColor:this.styles.snappingPointOutlineColor,outlineWidth:this.styles.snappingPointOutlineWidth,outlineOpacity:this.styles.snappingPointOutlineOpacity},coordinatePoint:{width:this.styles.coordinatePointWidth,color:this.styles.coordinatePointColor,opacity:this.styles.coordinatePointOpacity,outlineColor:this.styles.coordinatePointOutlineColor,outlineWidth:this.styles.coordinatePointOutlineWidth,outlineOpacity:this.styles.coordinatePointOutlineOpacity}};return n.pointWidth=this.getNumericStylingValue(u[s].width,n.pointWidth,e),n.pointOpacity=this.getNumericStylingValue(u[s].opacity,1,e),n.pointColor=this.getHexColorStylingValue(u[s].color,n.pointColor,e),n.pointOutlineColor=this.getHexColorStylingValue(u[s].outlineColor,n.pointOutlineColor,e),n.pointOutlineOpacity=this.getNumericStylingValue(u[s].outlineOpacity,1,e),n.pointOutlineWidth=this.getNumericStylingValue(u[s].outlineWidth,2,e),n.zIndex=i?40:a?20:30,n}}return n}afterFeatureAdded(e){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:e.id,featureCoordinates:e.geometry.coordinates})}afterFeatureUpdated(e){this.showCoordinatePoints&&this.coordinatePoints.createOrUpdate({featureId:e.id,featureCoordinates:e.geometry.coordinates}),this.editedFeatureId===e.id&&this.editedPointId&&(this.mutateFeature.deleteFeatureIfPresent(this.editedPointId),this.editedPointId=void 0,this.editedFeatureId=void 0,this.editedFeatureCoordinateIndex=void 0,this.editedSnapType=void 0),this.snappedPointId&&this.lastMouseMoveEvent&&this.updateSnappedCoordinate(this.lastMouseMoveEvent),this.currentId===e.id&&(this.currentCoordinate=0,this.currentId=void 0,this.closingPoints.delete(),this.state==="drawing"&&this.setStarted())}validateFeature(e){return this.validateModeFeature(e,n=>NL(n,this.coordinatePrecision))}}function My(t,e){const n=t,i=e,a=Vr(n[1]),s=Vr(i[1]);let u=Vr(i[0]-n[0]);u>Math.PI&&(u-=2*Math.PI),u<-Math.PI&&(u+=2*Math.PI);const c=Math.log(Math.tan(s/2+Math.PI/4)/Math.tan(a/2+Math.PI/4)),f=(fu(Math.atan2(u,c))+360)%360;return f>180?-(360-f):f}function MO(t,e,n){let i=e;e<0&&(i=-Math.abs(i));const a=i/_O,s=t[0]*Math.PI/180,u=Vr(t[1]),c=Vr(n),f=a*Math.cos(c);let h=u+f;Math.abs(h)>Math.PI/2&&(h=h>0?Math.PI-h:-Math.PI-h);const g=Math.log(Math.tan(h/2+Math.PI/4)/Math.tan(u/2+Math.PI/4)),y=Math.abs(g)>1e-11?f/g:Math.cos(u),v=[(180*(s+a*Math.sin(c)/y)/Math.PI+540)%360-180,180*h/Math.PI];return v[0]+=v[0]-t[0]>180?-360:t[0]-v[0]>180?360:0,v}function JL(t,e,n,i,a){const s=i(t[0],t[1]),u=i(e[0],e[1]),{lng:c,lat:f}=a((s.x+u.x)/2,(s.y+u.y)/2);return[Pn(c,n),Pn(f,n)]}function e5(t,e,n){const i=MO(t,1e3*ea(t,e)/2,My(t,e));return[Pn(i[0],n),Pn(i[1],n)]}function Gg({featureCoords:t,precision:e,unproject:n,project:i,projection:a}){const s=[];for(let u=0;u<t.length-1;u++){let c;if(a==="web-mercator")c=JL(t[u],t[u+1],e,i,n);else{if(a!=="globe")throw new Error("Invalid projection");c=e5(t[u],t[u+1],e)}s.push(c)}return s}class t5 extends rr{constructor(e,n,i,a,s,u){super(e),this.config=void 0,this.selectionPointBehavior=void 0,this.coordinatePointBehavior=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.pixelDistance=void 0,this._midPoints=[],this.config=e,this.selectionPointBehavior=n,this.coordinatePointBehavior=i,this.mutateFeature=a,this.readFeature=s,this.pixelDistance=u}getMidpointConfig(e){return{featureCoords:e,precision:this.coordinatePrecision,project:this.config.project,unproject:this.config.unproject,projection:this.config.projection}}get ids(){return this._midPoints.concat()}set ids(e){}getNearestMidPoint(e){let n,i=1/0;return this.ids.forEach(a=>{const s=this.readFeature.getGeometry(a),u=this.pixelDistance.measure(e,s.coordinates);u<this.pointerDistance&&u<i&&(i=u,n=a)}),n}insert({featureId:e,midPointId:n}){const i=this.readFeature.getGeometry(n),{midPointFeatureId:a,midPointSegment:s}=this.readFeature.getProperties(n),u=this.readFeature.getGeometry(a),c={featureId:a,coordinateMutations:[{type:pu,index:s,coordinate:i.coordinates}],context:{updateType:_t.Commit}};let f=null;if(u.type==="Polygon")f=this.mutateFeature.updatePolygon(c);else{if(u.type!=="LineString")throw new Error("Midpoints can only be added to polygons or linestrings");f=this.mutateFeature.updateLineString(c)}if(!f)throw new Error("Failed to insert midpoint coordinate");const h=f.geometry.coordinates;this.readFeature.getProperties(e)[ft.COORDINATE_POINT_IDS]&&this.coordinatePointBehavior.createOrUpdate({featureId:e,featureCoordinates:h}),this.mutateFeature.deleteFeaturesIfPresent([...this.selectionPointBehavior.ids,...this._midPoints]),this.create({featureCoordinates:h,featureId:a}),this.selectionPointBehavior.create({featureCoordinates:h,featureId:e})}create({featureCoordinates:e,featureId:n}){if(!this.readFeature.hasFeature(n))throw new Error("Store does not have feature with this id");const i=Vc(e),a=Gg(this.getMidpointConfig(i));this._midPoints=this.mutateFeature.createGuidancePoints({additionalProperties:s=>({mode:this.mode,midPointSegment:s,midPointFeatureId:n,[Hn.MID_POINT]:!0}),coordinates:a,type:Hn.MID_POINT})}delete(){this._midPoints.length&&(this.mutateFeature.deleteFeaturesIfPresent(this._midPoints),this._midPoints=[])}updateAllInPlace({featureCoordinates:e}){if(this._midPoints.length===0)return;const n=Vc(e),i=Gg(this.getMidpointConfig(n));this.mutateFeature.updateGuidancePoints(this._midPoints.map((a,s)=>({featureId:a,coordinate:i[s]})))}updateOneAtIndex(e,n){if(e<0&&(e=this._midPoints.length+e),this._midPoints[e]===void 0)return;const i=Vc(n),a=Gg(this.getMidpointConfig(i));this.mutateFeature.updateGuidancePoints([{featureId:this._midPoints[e],coordinate:a[e]}])}}class n5 extends rr{constructor(e,n){super(e),this.mutateFeature=void 0,this._selectionPoints=[],this.mutateFeature=n}get ids(){return this._selectionPoints.concat()}set ids(e){}create({featureId:e,featureCoordinates:n}){const i=Eh(n);this._selectionPoints=this.mutateFeature.createGuidancePoints({coordinates:i,type:Hn.SELECTION_POINT,additionalProperties:a=>({[Hn.SELECTION_POINT_FEATURE_ID]:e,index:a})})}delete(){this.ids.length&&(this.mutateFeature.deleteFeaturesIfPresent(this.ids),this._selectionPoints=[])}updateAllInPlace({featureCoordinates:e}){if(this._selectionPoints.length===0)return;const n=Eh(e);n.length===this._selectionPoints.length&&this.mutateFeature.updateGuidancePoints(this._selectionPoints.map((i,a)=>({featureId:i,coordinate:n[a]})))}updateOneAtIndex(e,n){this._selectionPoints[e]!==void 0&&this.mutateFeature.updateGuidancePoints([{featureId:this._selectionPoints[e],coordinate:n}])}}function PO(t,e){let n=!1;for(let u=0,c=e.length;u<c;u++){const f=e[u];for(let h=0,g=f.length,y=g-1;h<g;y=h++)(a=f[h])[1]>(i=t)[1]!=(s=f[y])[1]>i[1]&&i[0]<(s[0]-a[0])*(i[1]-a[1])/(s[1]-a[1])+a[0]&&(n=!n)}var i,a,s;return n}const Py=(t,e,n)=>{const i=s=>s*s,a=(s,u)=>i(s.x-u.x)+i(s.y-u.y);return Math.sqrt(((s,u,c)=>{const f=a(u,c);if(f===0)return a(s,u);let h=((s.x-u.x)*(c.x-u.x)+(s.y-u.y)*(c.y-u.y))/f;return h=Math.max(0,Math.min(1,h)),a(s,{x:u.x+h*(c.x-u.x),y:u.y+h*(c.y-u.y)})})(t,e,n))};class r5 extends rr{constructor(e,n,i){super(e),this.config=void 0,this.createClickBoundingBox=void 0,this.pixelDistance=void 0,this.config=e,this.createClickBoundingBox=n,this.pixelDistance=i}find(e,n){let i,a,s,u=1/0,c=1/0;const f=this.createClickBoundingBox.create(e),h=this.store.search(f);for(let g=0;g<h.length;g++){const y=h[g],v=y.geometry;if(v.type==="Point"){if(y.properties.selectionPoint||y.properties.coordinatePoint||!n&&y.properties[Hn.MID_POINT])continue;const w=this.pixelDistance.measure(e,v.coordinates);!y.properties[Hn.MID_POINT]&&w<this.pointerDistance&&w<u&&(u=w,i=y)}else if(v.type==="LineString"){if(i)continue;for(let w=0;w<v.coordinates.length-1;w++){const _=v.coordinates[w],E=v.coordinates[w+1],P=Py({x:e.containerX,y:e.containerY},this.project(_[0],_[1]),this.project(E[0],E[1]));P<this.pointerDistance&&P<c&&(c=P,a=y)}}else if(v.type==="Polygon"){if(i||a)continue;PO([e.lng,e.lat],v.coordinates)&&(s=y)}}return{clickedFeature:i||a||s}}}class i5 extends rr{constructor(e,n,i,a,s,u,c){super(e),this.config=void 0,this.featuresAtCursorEvent=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedFeatureId=null,this.dragPosition=void 0,this.config=e,this.featuresAtCursorEvent=n,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.readFeature=u,this.mutateFeature=c}startDragging(e,n){this.draggedFeatureId=n,this.dragPosition=[e.lng,e.lat]}stopDragging(){this.draggedFeatureId=null,this.dragPosition=void 0}isDragging(){return this.draggedFeatureId!==null}canDrag(e,n){const{clickedFeature:i}=this.featuresAtCursorEvent.find(e,!0);return!(!i||i.id!==n)}drag(e){if(!this.draggedFeatureId)return;const n=this.readFeature.getGeometry(this.draggedFeatureId),i=[e.lng,e.lat];if(n.type==="Polygon"||n.type==="LineString"){let a,s;if(n.type==="Polygon"?(a=n.coordinates[0],s=a.length-1):(a=n.coordinates,s=a.length),!this.dragPosition)return!1;for(let h=0;h<s;h++){const g=a[h];let y,v;if(this.config.projection==="web-mercator"){const w=Mn(this.dragPosition[0],this.dragPosition[1]),_=Mn(i[0],i[1]),E=Mn(g[0],g[1]),P={x:w.x-_.x,y:w.y-_.y},N=E.x-P.x,D=E.y-P.y,{lng:A,lat:z}=hu(N,D);y=A,v=z}else{const w=[this.dragPosition[0]-i[0],this.dragPosition[1]-i[1]];y=g[0]-w[0],v=g[1]-w[1]}if(y=Pn(y,this.config.coordinatePrecision),v=Pn(v,this.config.coordinatePrecision),y>180||y<-180||v>90||v<-90)return!1;a[h]=[y,v]}n.type==="Polygon"&&(a[a.length-1]=[a[0][0],a[0][1]]);const u=this.draggedFeatureId;let c=null;if(n.type==="Polygon")c=this.mutateFeature.updatePolygon({featureId:u,coordinateMutations:{type:ci,coordinates:[a]},context:{updateType:_t.Provisional}});else{if(n.type!=="LineString")return;c=this.mutateFeature.updateLineString({featureId:u,coordinateMutations:{type:ci,coordinates:a},context:{updateType:_t.Provisional}})}if(!c)return!1;const f=c.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:f}),this.selectionPoints.updateAllInPlace({featureCoordinates:f}),this.coordinatePoints.updateAllInPlace({featureId:u,featureCoordinates:f}),this.dragPosition=[e.lng,e.lat]}else n.type==="Point"&&(this.mutateFeature.updatePoint({featureId:this.draggedFeatureId,coordinateMutations:{type:ci,coordinates:i},context:{updateType:_t.Provisional}}),this.dragPosition=[e.lng,e.lat])}}class o5 extends rr{constructor(e,n,i,a,s,u,c,f,h){super(e),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.coordinateSnapping=void 0,this.lineSnapping=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.draggedCoordinate={id:null,index:-1},this.config=e,this.pixelDistance=n,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.coordinateSnapping=u,this.lineSnapping=c,this.readFeature=f,this.mutateFeature=h}getClosestCoordinate(e,n){const i={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let a;if(n.type==="LineString")a=n.coordinates;else{if(n.type!=="Polygon")return i;a=n.coordinates[0]}for(let s=0;s<a.length;s++){const u=this.pixelDistance.measure(e,a[s]);if(u<this.pointerDistance&&u<i.dist){const c=n.type==="Polygon"&&(s===a.length-1||s===0);i.dist=u,i.index=c?0:s,i.isFirstOrLastPolygonCoord=c}}return i}getDraggable(e,n){const i=this.readFeature.getGeometry(n);return this.getClosestCoordinate(e,i)}getDraggableIndex(e,n){const i=this.readFeature.getGeometry(n),a=this.getClosestCoordinate(e,i);return a.index===-1?-1:a.index}snapCoordinate(e,n,i){let a=[e.lng,e.lat];const s=u=>!!(u.properties&&u.properties.mode===i.properties.mode&&u.id!==this.draggedCoordinate.id);if(n!=null&&n.toLine){let u;u=this.lineSnapping.getSnappable(e,s).coordinate,u&&(a=u)}if(n.toCoordinate){let u;u=this.coordinateSnapping.getSnappable(e,s).coordinate,u&&(a=u)}if(n!=null&&n.toCustom){let u;u=n.toCustom(e,{currentCoordinate:this.draggedCoordinate.index,currentId:i.id,getCurrentGeometrySnapshot:i.id?()=>this.readFeature.getGeometry(i.id):()=>null,project:this.project,unproject:this.unproject}),u&&(a=u)}return a}drag(e,n,i){const a=this.draggedCoordinate.id;if(a===null)return!1;const s=this.draggedCoordinate.index,u=this.readFeature.getGeometry(a),c=this.readFeature.getProperties(a),f=u.type==="LineString"?u.coordinates:u.coordinates[0],h=u.type==="Polygon"&&(s===f.length-1||s===0),g=this.snapCoordinate(e,i,{type:"Feature",id:a,geometry:u,properties:c});if(e.lng>180||e.lng<-180||e.lat>90||e.lat<-90)return!1;if(h){const w=f.length-1;f[0]=g,f[w]=g}else f[s]=g;if(u.type!=="Point"&&!n&&ML({geometry:u}))return!1;const y=a;let v=null;return u.type==="Polygon"?v=this.mutateFeature.updatePolygon({featureId:y,coordinateMutations:{type:ci,coordinates:[f]},context:{updateType:_t.Provisional}}):u.type==="LineString"&&(v=this.mutateFeature.updateLineString({featureId:y,coordinateMutations:{type:ci,coordinates:f},context:{updateType:_t.Provisional}})),!!v&&(this.midPoints.updateOneAtIndex(s>0?s-1:-1,f),this.midPoints.updateOneAtIndex(s,f),this.selectionPoints.updateOneAtIndex(s,g),this.coordinatePoints.updateOneAtIndex(y,s,g),!0)}isDragging(){return this.draggedCoordinate.id!==null}startDragging(e,n){this.draggedCoordinate={id:e,index:n}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}}function qS(t){let e=0,n=0,i=0;return(t.geometry.type==="Polygon"?t.geometry.coordinates[0].slice(0,-1):t.geometry.coordinates).forEach(a=>{e+=a[0],n+=a[1],i++},!0),[e/i,n/i]}const RO=(t,e)=>{if(e===0||e===360||e===-360)return t;const n=.017453292519943295*e,i=(t.geometry.type==="Polygon"?t.geometry.coordinates[0]:t.geometry.coordinates).map(([u,c])=>Mn(u,c)),a=i.reduce((u,c)=>({x:u.x+c.x,y:u.y+c.y}),{x:0,y:0});a.x/=i.length,a.y/=i.length;const s=i.map(u=>({x:a.x+(u.x-a.x)*Math.cos(n)-(u.y-a.y)*Math.sin(n),y:a.y+(u.x-a.x)*Math.sin(n)+(u.y-a.y)*Math.cos(n)})).map(({x:u,y:c})=>[hu(u,c).lng,hu(u,c).lat]);return t.geometry.type==="Polygon"?t.geometry.coordinates[0]=s:t.geometry.coordinates=s,t};function Ry(t){const e=(t.geometry.type==="Polygon"?t.geometry.coordinates[0]:t.geometry.coordinates).map(n=>{const{x:i,y:a}=Mn(n[0],n[1]);return[i,a]});return t.geometry.type==="Polygon"?(function(n){let i=0,a=0,s=0;const u=n.length;for(let c=0;c<u-1;c++){const[f,h]=n[c],[g,y]=n[c+1],v=f*y-g*h;i+=v,a+=(f+g)*v,s+=(h+y)*v}return i/=2,a/=6*i,s/=6*i,{x:a,y:s}})(e):(function(n){const i=n.length;let a=0,s=0;for(let u=0;u<i;u++){const[c,f]=n[u];a+=c,s+=f}return{x:a/i,y:s/i}})(e)}class a5 extends rr{constructor(e,n,i,a,s,u){super(e),this.config=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryCentroid=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.config=e,this.selectionPoints=n,this.midPoints=i,this.coordinatePoints=a,this.readFeature=s,this.mutateFeature=u}reset(){this.lastBearing=void 0,this.selectedGeometry=void 0,this.selectedGeometryWebMercatorCentroid=void 0,this.selectedGeometryCentroid=void 0}rotate(e,n){this.selectedGeometry||(this.selectedGeometry=this.readFeature.getGeometry(n));const i=this.selectedGeometry;if(i.type!=="Polygon"&&i.type!=="LineString")return;const a=[e.lng,e.lat];let s;const u={type:"Feature",geometry:i,properties:{}};if(this.config.projection==="web-mercator"){this.selectedGeometryWebMercatorCentroid||(this.selectedGeometryWebMercatorCentroid=Ry(u));const y=Mn(e.lng,e.lat);if(s=IL(this.selectedGeometryWebMercatorCentroid,y),s===0)return;if(!this.lastBearing)return void(this.lastBearing=s);RO(u,-(this.lastBearing-s))}else{if(this.config.projection!=="globe")throw new Error("Unsupported projection");if(this.selectedGeometryCentroid||(this.selectedGeometryCentroid=qS({geometry:i})),s=My(this.selectedGeometryCentroid,a),!this.lastBearing)return void(this.lastBearing=s+180);(function(y,v){if(v===0||v===360||v===-360)return y;const w=qS(y);(y.geometry.type==="Polygon"?y.geometry.coordinates[0]:y.geometry.coordinates).forEach(_=>{const E=My(w,_)+v,P=(function(D,A){D[0]+=D[0]-A[0]>180?-360:A[0]-D[0]>180?360:0;const z=_O,L=A[1]*Math.PI/180,G=D[1]*Math.PI/180,j=G-L;let U=Math.abs(D[0]-A[0])*Math.PI/180;U>Math.PI&&(U-=2*Math.PI);const ie=Math.log(Math.tan(G/2+Math.PI/4)/Math.tan(L/2+Math.PI/4)),se=Math.abs(ie)>1e-11?j/ie:Math.cos(L);return Math.sqrt(j*j+se*se*U*U)*z})(w,_),N=MO(w,P,E);_[0]=N[0],_[1]=N[1]})})(u,-(this.lastBearing-(s+180)))}const c=i.type==="Polygon"?i.coordinates[0]:i.coordinates;c.forEach(y=>{y[0]=Pn(y[0],this.coordinatePrecision),y[1]=Pn(y[1],this.coordinatePrecision)});const f={featureId:n,coordinateMutations:{type:ci,coordinates:i.type==="Polygon"?[c]:c},context:{updateType:_t.Provisional}};let h=null;if(u.geometry.type==="Polygon")h=this.mutateFeature.updatePolygon(f);else{if(u.geometry.type!=="LineString")return;h=this.mutateFeature.updateLineString(f)}if(!h)return!1;const g=h.geometry.coordinates;this.midPoints.updateAllInPlace({featureCoordinates:g}),this.selectionPoints.updateAllInPlace({featureCoordinates:g}),this.coordinatePoints.updateAllInPlace({featureId:n,featureCoordinates:g}),this.projection==="web-mercator"?this.lastBearing=s:this.projection==="globe"&&(this.lastBearing=s+180)}}class s5 extends rr{constructor(e,n){super(e),this.config=void 0,this.dragCoordinateResizeBehavior=void 0,this.config=e,this.dragCoordinateResizeBehavior=n}scale(e,n){if(!this.dragCoordinateResizeBehavior.isDragging()){const i=this.dragCoordinateResizeBehavior.getDraggableIndex(e,n);this.dragCoordinateResizeBehavior.startDragging(n,i)}this.dragCoordinateResizeBehavior.drag(e,"center-fixed")}reset(){this.dragCoordinateResizeBehavior.stopDragging()}}function DO({coordinates:t,originX:e,originY:n,xScale:i,yScale:a}){i===1&&a===1||t.forEach(s=>{const{x:u,y:c}=Mn(s[0],s[1]),f=e+(u-e)*i,h=n+(c-n)*a,{lng:g,lat:y}=hu(f,h);s[0]=g,s[1]=y})}class l5 extends rr{constructor(e,n,i,a,s,u,c){super(e),this.config=void 0,this.pixelDistance=void 0,this.selectionPoints=void 0,this.midPoints=void 0,this.coordinatePoints=void 0,this.readFeature=void 0,this.mutateFeature=void 0,this.minimumScale=1e-4,this.draggedCoordinate={id:null,index:-1},this.boundingBoxMaps={opposite:{0:4,1:5,2:6,3:7,4:0,5:1,6:2,7:3}},this.config=e,this.pixelDistance=n,this.selectionPoints=i,this.midPoints=a,this.coordinatePoints=s,this.readFeature=u,this.mutateFeature=c}getClosestCoordinate(e,n){const i={dist:1/0,index:-1,isFirstOrLastPolygonCoord:!1};let a;if(n.type==="LineString")a=n.coordinates;else{if(n.type!=="Polygon")return i;a=n.coordinates[0]}for(let s=0;s<a.length;s++){const u=this.pixelDistance.measure(e,a[s]);if(u<this.pointerDistance&&u<i.dist){const c=n.type==="Polygon"&&(s===a.length-1||s===0);i.dist=u,i.index=c?0:s,i.isFirstOrLastPolygonCoord=c}}return i}isValidDragWebMercator(e,n,i){switch(e){case 0:if(n<=0||i>=0)return!1;break;case 1:if(i>=0)return!1;break;case 2:if(n>=0||i>=0)return!1;break;case 3:if(n>=0)return!1;break;case 4:if(n>=0||i<=0)return!1;break;case 5:if(i<=0)return!1;break;case 6:if(n<=0||i<=0)return!1;break;case 7:if(n<=0)return!1}return!0}getSelectedFeatureDataWebMercator(){if(!this.draggedCoordinate.id||this.draggedCoordinate.index===-1)return null;const e=this.getFeature(this.draggedCoordinate.id);if(!e)return null;const n=this.getNormalisedCoordinates(e.geometry);return{boundingBox:this.getBBoxWebMercator(n),feature:e,updatedCoords:n,selectedCoordinate:n[this.draggedCoordinate.index]}}centerWebMercatorDrag(e){const n=this.getSelectedFeatureDataWebMercator();if(!n)return null;const{feature:i,boundingBox:a,updatedCoords:s,selectedCoordinate:u}=n,c=Ry(i);if(!c)return null;const f=Mn(u[0],u[1]),{closestBBoxIndex:h}=this.getIndexesWebMercator(a,f),g=Mn(e.lng,e.lat);return this.scaleWebMercator({closestBBoxIndex:h,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:c}),s}centerFixedWebMercatorDrag(e){const n=this.getSelectedFeatureDataWebMercator();if(!n)return null;const{feature:i,boundingBox:a,updatedCoords:s,selectedCoordinate:u}=n,c=Ry(i);if(!c)return null;const f=Mn(u[0],u[1]),{closestBBoxIndex:h}=this.getIndexesWebMercator(a,f),g=Mn(e.lng,e.lat);return this.scaleFixedWebMercator({closestBBoxIndex:h,updatedCoords:s,webMercatorCursor:g,webMercatorSelected:f,webMercatorOrigin:c}),s}scaleFixedWebMercator({closestBBoxIndex:e,webMercatorOrigin:n,webMercatorSelected:i,webMercatorCursor:a,updatedCoords:s}){if(!this.isValidDragWebMercator(e,n.x-a.x,n.y-a.y))return null;let u=Wa(n,a)/Wa(n,i);return u<0&&(u=this.minimumScale),DO({coordinates:s,originX:n.x,originY:n.y,xScale:u,yScale:u}),s}oppositeFixedWebMercatorDrag(e){const n=this.getSelectedFeatureDataWebMercator();if(!n)return null;const{boundingBox:i,updatedCoords:a,selectedCoordinate:s}=n,u=Mn(s[0],s[1]),{oppositeBboxIndex:c,closestBBoxIndex:f}=this.getIndexesWebMercator(i,u),h={x:i[c][0],y:i[c][1]},g=Mn(e.lng,e.lat);return this.scaleFixedWebMercator({closestBBoxIndex:f,updatedCoords:a,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:h}),a}oppositeWebMercatorDrag(e){const n=this.getSelectedFeatureDataWebMercator();if(!n)return null;const{boundingBox:i,updatedCoords:a,selectedCoordinate:s}=n,u=Mn(s[0],s[1]),{oppositeBboxIndex:c,closestBBoxIndex:f}=this.getIndexesWebMercator(i,u),h={x:i[c][0],y:i[c][1]},g=Mn(e.lng,e.lat);return this.scaleWebMercator({closestBBoxIndex:f,updatedCoords:a,webMercatorCursor:g,webMercatorSelected:u,webMercatorOrigin:h}),a}scaleWebMercator({closestBBoxIndex:e,webMercatorOrigin:n,webMercatorSelected:i,webMercatorCursor:a,updatedCoords:s}){const u=n.x-a.x,c=n.y-a.y;if(!this.isValidDragWebMercator(e,u,c))return null;let f=1;u!==0&&e!==1&&e!==5&&(f=1-(n.x-i.x-u)/u);let h=1;return c!==0&&e!==3&&e!==7&&(h=1-(n.y-i.y-c)/c),this.validateScale(f,h)?(f<0&&(f=this.minimumScale),h<0&&(h=this.minimumScale),this.performWebMercatorScale(s,n.x,n.y,f,h),s):null}getFeature(e){if(this.draggedCoordinate.id===null)return null;const n=this.readFeature.getGeometry(e);return n.type!=="Polygon"&&n.type!=="LineString"?null:{id:e,type:"Feature",geometry:n,properties:{}}}getNormalisedCoordinates(e){return e.type==="Polygon"?e.coordinates[0]:e.coordinates}validateScale(e,n){const i=!isNaN(e)&&n<Number.MAX_SAFE_INTEGER,a=!isNaN(n)&&n<Number.MAX_SAFE_INTEGER;return i&&a}performWebMercatorScale(e,n,i,a,s){e.forEach(u=>{const{x:c,y:f}=Mn(u[0],u[1]),h=n+(c-n)*a,g=i+(f-i)*s,{lng:y,lat:v}=hu(h,g);u[0]=y,u[1]=v})}getBBoxWebMercator(e){const n=[1/0,1/0,-1/0,-1/0];(e=e.map(c=>{const{x:f,y:h}=Mn(c[0],c[1]);return[f,h]})).forEach(([c,f])=>{c<n[0]&&(n[0]=c),f<n[1]&&(n[1]=f),c>n[2]&&(n[2]=c),f>n[3]&&(n[3]=f)});const[i,a,s,u]=n;return[[i,u],[(i+s)/2,u],[s,u],[s,u+(a-u)/2],[s,a],[(i+s)/2,a],[i,a],[i,u+(a-u)/2]]}getIndexesWebMercator(e,n){let i,a=1/0;for(let s=0;s<e.length;s++){const u=Wa({x:n.x,y:n.y},{x:e[s][0],y:e[s][1]});u<a&&(i=s,a=u)}if(i===void 0)throw new Error("No closest coordinate found");return{oppositeBboxIndex:this.boundingBoxMaps.opposite[i],closestBBoxIndex:i}}isDragging(){return this.draggedCoordinate.id!==null}startDragging(e,n){this.draggedCoordinate={id:e,index:n}}stopDragging(){this.draggedCoordinate={id:null,index:-1}}getDraggableIndex(e,n){const i=this.readFeature.getGeometry(n),a=this.getClosestCoordinate(e,i);return a.index===-1?-1:a.index}drag(e,n){if(!this.draggedCoordinate.id)return!1;const i=this.getFeature(this.draggedCoordinate.id);if(!i)return!1;let a=null;if(n==="center"?a=this.centerWebMercatorDrag(e):n==="opposite"?a=this.oppositeWebMercatorDrag(e):n==="center-fixed"?a=this.centerFixedWebMercatorDrag(e):n==="opposite-fixed"&&(a=this.oppositeFixedWebMercatorDrag(e)),!a)return!1;for(let f=0;f<a.length;f++){const h=a[f];if(h[0]=Pn(h[0],this.coordinatePrecision),h[1]=Pn(h[1],this.coordinatePrecision),!mp(h,this.coordinatePrecision))return!1}const s=i.id;let u=null;if(i.geometry.type==="Polygon"?u=this.mutateFeature.updatePolygon({featureId:s,coordinateMutations:{type:ci,coordinates:[a]},context:{updateType:_t.Provisional}}):i.geometry.type==="LineString"&&(u=this.mutateFeature.updateLineString({featureId:s,coordinateMutations:{type:ci,coordinates:a},context:{updateType:_t.Provisional}})),!u)return!1;const c=u.geometry.coordinates;return this.midPoints.updateAllInPlace({featureCoordinates:c}),this.selectionPoints.updateAllInPlace({featureCoordinates:c}),this.coordinatePoints.updateAllInPlace({featureId:s,featureCoordinates:c}),!0}}const u5={deselect:"Escape",delete:"Delete",rotate:["Control","r"],scale:["Control","s"]},GS={pointerOver:"move",dragStart:"move",dragEnd:"move",insertMidpoint:"crosshair"};class c5 extends OL{constructor(e){super(e,!0),this.mode="select",this.allowManualDeselection=!0,this.dragEventThrottle=5,this.dragEventCount=0,this.selected=[],this.flags={},this.keyEvents=u5,this.cursors=GS,this.validations={},this.dragTarget={type:"none"},this.selectionPoints=void 0,this.midPoints=void 0,this.coordinateSnap=void 0,this.featuresAtMouseEvent=void 0,this.pixelDistance=void 0,this.clickBoundingBox=void 0,this.dragFeature=void 0,this.dragCoordinate=void 0,this.rotateFeature=void 0,this.scaleFeature=void 0,this.dragCoordinateResizeFeature=void 0,this.coordinatePoints=void 0,this.lineSnap=void 0,this.mutateFeature=void 0,this.readFeature=void 0,this.updateOptions(e)}updateOptions(e){if(super.updateOptions(e),this.cursors=e&&e.cursors?Qt({},this.cursors,e.cursors):GS,e?.keyEvents===null?this.keyEvents={deselect:null,delete:null,rotate:null,scale:null}:e!=null&&e.keyEvents&&(this.keyEvents=Qt({},this.keyEvents,e.keyEvents)),e?.dragEventThrottle!==void 0&&(this.dragEventThrottle=e.dragEventThrottle),e?.allowManualDeselection!==void 0&&(this.allowManualDeselection=e.allowManualDeselection),e!=null&&e.flags){this.flags=Qt({},this.flags,e.flags),this.validations={};for(const n in this.flags){const i=this.flags[n].feature;i&&i.validation&&(this.validations[n]=i.validation)}}}selectFeature(e){this.select(e,!1)}setSelecting(){if(this._state!=="started")throw new Error("Mode must be started to move to selecting state");this._state="selecting"}registerBehaviors(e){this.readFeature=new l0(e),this.mutateFeature=new gp(e,{validate:(n,i)=>{const a=n.properties.mode;return this.validations&&this.validations[a]?this.validations[a](n,i):{valid:!0}}}),this.pixelDistance=new vp(e),this.clickBoundingBox=new yp(e),this.featuresAtMouseEvent=new r5(e,this.clickBoundingBox,this.pixelDistance),this.selectionPoints=new n5(e,this.mutateFeature),this.coordinatePoints=new f0(e,this.readFeature,this.mutateFeature),this.midPoints=new t5(e,this.selectionPoints,this.coordinatePoints,this.mutateFeature,this.readFeature,this.pixelDistance),this.coordinateSnap=new u0(e,this.pixelDistance,this.clickBoundingBox),this.lineSnap=new c0(e,this.pixelDistance,this.clickBoundingBox),this.rotateFeature=new a5(e,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragFeature=new i5(e,this.featuresAtMouseEvent,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.dragCoordinate=new o5(e,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.coordinateSnap,this.lineSnap,this.readFeature,this.mutateFeature),this.dragCoordinateResizeFeature=new l5(e,this.pixelDistance,this.selectionPoints,this.midPoints,this.coordinatePoints,this.readFeature,this.mutateFeature),this.scaleFeature=new s5(e,this.dragCoordinateResizeFeature)}deselectFeature(e){this.deselect(e)}deselect(e){this.selected.includes(e)&&(this.mutateFeature.setDeselected(this.selected),this.onDeselect(this.selected[0]),this.selected=[],this.selectionPoints.delete(),this.midPoints.delete(),this.dragTarget={type:"none"})}deleteSelected(){this.selected.length&&this.mutateFeature.deleteFeaturesIfPresent(this.selected),this.selected=[],this.dragTarget={type:"none"}}clearDragTargetAndCursor(){this.dragTarget={type:"none"},this.setCursor("unset")}getSelectedFlags(e){const n=this.readFeature.getProperties(e),i=this.flags[n.mode],a=i?.feature,s=a?.coordinates;return{featureFlags:a,coordinatesFlags:s,hasDraggableFlags:a&&(a.draggable||s?.draggable||s?.resizable||typeof s?.midpoints=="object"&&s.midpoints.draggable)}}onRightClick(e){if(!this.selectionPoints.ids.length)return;let n,i=1/0;if(this.selectionPoints.ids.forEach(v=>{const w=this.readFeature.getGeometry(v),_=this.pixelDistance.measure(e,w.coordinates);_<this.pointerDistance&&_<i&&(i=_,n=this.readFeature.getProperties(v))}),!n)return;const a=n.selectionPointFeatureId,s=n.index,u=this.readFeature.getProperties(a),c=this.flags[u.mode];if(!(c&&c.feature&&c.feature.coordinates&&c.feature.coordinates.deletable))return;const f=this.readFeature.getGeometry(a);let h;if(f.type==="Polygon"){if(h=f.coordinates[0],h.length<=4)return}else if(f.type!=="LineString"||(h=f.coordinates,h.length<=2))return;f.type!=="Polygon"||s!==0&&s!==h.length-1?h.splice(s,1):(h.shift(),h.pop(),h.push([h[0][0],h[0][1]]));let g=null;if(f.type==="Polygon"?g=this.mutateFeature.updatePolygon({featureId:a,coordinateMutations:{type:ci,coordinates:[h]},context:{updateType:_t.Commit}}):f.type==="LineString"&&(g=this.mutateFeature.updateLineString({featureId:a,coordinateMutations:{type:ci,coordinates:h},context:{updateType:_t.Commit}})),!g)return;const y=g.geometry.coordinates;this.mutateFeature.deleteFeaturesIfPresent([...this.midPoints.ids,...this.selectionPoints.ids]),u.coordinatePointIds&&this.coordinatePoints.createOrUpdate({featureId:a,featureCoordinates:y}),this.selectionPoints.create({featureCoordinates:y,featureId:a}),c&&c.feature&&c.feature.coordinates&&c.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:y,featureId:a}),this.onFinish(a,{action:CO,mode:this.mode})}select(e,n=!0){if(this.selected[0]===e)return;const{mode:i}=this.readFeature.getProperties(e),a=this.flags[i];if(!a||!a.feature)return;const s=this.selected[0];if(s){if(s===e)return;this.deselect(s)}n&&this.setCursor(this.cursors.pointerOver),this.selected=[e],this.mutateFeature.setSelected(e),this.onSelect(e);const{type:u,coordinates:c}=this.readFeature.getGeometry(e);u!=="LineString"&&u!=="Polygon"||c&&a&&a.feature.coordinates&&(this.selectionPoints.create({featureCoordinates:c,featureId:e}),a.feature.coordinates.midpoints&&this.midPoints.create({featureCoordinates:c,featureId:e}))}onLeftClick(e){const{clickedFeature:n}=this.featuresAtMouseEvent.find(e,this.selected.length>0),i=this.midPoints.getNearestMidPoint(e),a=this.selected[0];if(a){var s;const{featureFlags:u}=this.getSelectedFlags(a);if(u!=null&&(s=u.coordinates)!=null&&s.midpoints&&i){if(u.coordinates.draggable){const c=this.pixelDistance.measure(e,this.readFeature.getGeometry(i).coordinates),{dist:f}=this.dragCoordinate.getDraggable(e,a);if(f!==void 0&&c>f)return}return this.midPoints.insert({featureId:a,midPointId:i}),void this.onFinish(this.selected[0],{action:NS,mode:this.mode})}}if(n!=null&&n.id)this.select(n.id,!0);else if(this.selected.length&&this.allowManualDeselection)return void this.deselect(this.selected[0])}start(){this.setStarted(),this.setSelecting()}stop(){this.cleanUp(),this.setStarted(),this.setStopped()}onClick(e){e.button==="right"&&this.allowPointerEvent(this.pointerEvents.rightClick,e)||e.isContextMenu&&this.allowPointerEvent(this.pointerEvents.contextMenu,e)?this.onRightClick(e):e.button==="left"&&this.allowPointerEvent(this.pointerEvents.leftClick,e)&&this.onLeftClick(e)}canScale(e){return this.keyEvents.scale&&this.keyEvents.scale.every(n=>e.heldKeys.includes(n))}canRotate(e){return this.keyEvents.rotate&&this.keyEvents.rotate.every(n=>e.heldKeys.includes(n))}preventDefaultKeyEvent(e){const n=this.canRotate(e),i=this.canScale(e);(n||i)&&e.preventDefault()}onKeyDown(e){this.preventDefaultKeyEvent(e)}onKeyUp(e){if(this.preventDefaultKeyEvent(e),this.keyEvents.delete&&e.key===this.keyEvents.delete){if(!this.selected.length)return;const n=this.selected[0];this.onDeselect(this.selected[0]),this.coordinatePoints.deletePointsByFeatureIds([n]),this.deleteSelected(),this.selectionPoints.delete(),this.midPoints.delete()}else this.keyEvents.deselect&&e.key===this.keyEvents.deselect&&this.cleanUp()}cleanUp(){this.selected.length&&this.deselect(this.selected[0])}onDragStart(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDragStart,e))return;const i=this.selected[0];if(!i)return;const{featureFlags:a,coordinatesFlags:s,hasDraggableFlags:u}=this.getSelectedFlags(i);if(!u)return;this.dragEventCount=0;const c=this.dragTarget.type!=="none"&&this.dragTarget.featureId===i?this.dragTarget:{type:"none"},f=c.type==="coordinate"?c.coordinateIndex:this.dragCoordinate.getDraggableIndex(e,i),h=c.type==="resize"?c.coordinateIndex:this.dragCoordinateResizeFeature.getDraggableIndex(e,i),g=s?.resizable&&h!==-1,y=s?.draggable&&f!==-1,v=s&&typeof s.midpoints=="object"&&s.midpoints.draggable,w=a?.draggable&&(c.type==="feature"||this.dragFeature.canDrag(e,i));if(g)return this.setCursor(this.cursors.dragStart),this.dragCoordinateResizeFeature.startDragging(i,h),void n(!1);if(y)return this.setCursor(this.cursors.dragStart),this.dragCoordinate.startDragging(i,f),void n(!1);if(v){const _=c.type==="midpoint"?c.midPointId:this.midPoints.getNearestMidPoint(e);if(this.selected.length&&_){this.midPoints.insert({featureId:i,midPointId:_}),this.onFinish(this.selected[0],{action:NS,mode:this.mode});const E=this.dragCoordinate.getDraggableIndex(e,i);return this.dragCoordinate.startDragging(i,E),void n(!1)}}if(w)return this.setCursor(this.cursors.dragStart),this.dragFeature.startDragging(e,i),void n(!1);this.setCursor("unset")}onDrag(e,n){if(!this.allowPointerEvent(this.pointerEvents.onDrag,e))return;const i=this.selected[0];if(!i)return;const a=this.readFeature.getProperties(i),s=this.flags[a.mode],u=(s&&s.feature&&s.feature.selfIntersectable)===!0;if(this.dragEventCount++,this.dragEventCount%this.dragEventThrottle!=0){if(s&&s.feature&&s.feature.rotateable&&this.canRotate(e))return n(!1),void this.rotateFeature.rotate(e,i);if(s&&s.feature&&s.feature.scaleable&&this.canScale(e))return n(!1),void this.scaleFeature.scale(e,i);if(this.dragCoordinateResizeFeature.isDragging()&&s.feature&&s.feature.coordinates&&s.feature.coordinates.resizable){if(this.projection==="globe")throw new Error("Globe is currently unsupported projection for resizable");return n(!1),void this.dragCoordinateResizeFeature.drag(e,s.feature.coordinates.resizable)}if(this.dragCoordinate.isDragging()){var c;const f=(c=s.feature)==null||(c=c.coordinates)==null?void 0:c.snappable;let h={toCoordinate:!1};return f===!0?h={toCoordinate:!0}:typeof f=="object"&&(h=f),void this.dragCoordinate.drag(e,u,h)}this.dragFeature.isDragging()?this.dragFeature.drag(e):n(!0)}}onDragEnd(e,n){this.allowPointerEvent(this.pointerEvents.onDragEnd,e)&&(this.setCursor(this.cursors.dragEnd),this.dragCoordinate.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinate"}):this.dragFeature.isDragging()?this.onFinish(this.selected[0],{mode:this.mode,action:"dragFeature"}):this.dragCoordinateResizeFeature.isDragging()&&this.onFinish(this.selected[0],{mode:this.mode,action:"dragCoordinateResize"}),this.dragCoordinate.stopDragging(),this.dragFeature.stopDragging(),this.dragCoordinateResizeFeature.stopDragging(),this.rotateFeature.reset(),this.scaleFeature.reset(),n(!0))}onMouseMove(e){const n=this.selected[0];if(!n)return void this.clearDragTargetAndCursor();if(this.dragFeature.isDragging()||this.dragCoordinate.isDragging()||this.dragCoordinateResizeFeature.isDragging())return;const{featureFlags:i}=this.getSelectedFlags(n);if(!i)return void this.clearDragTargetAndCursor();let a;const s=i.coordinates;if(s!=null&&s.midpoints&&(a=this.midPoints.getNearestMidPoint(e),a&&(this.dragTarget={type:"midpoint",featureId:n,midPointId:a},this.setCursor(this.cursors.insertMidpoint))),s&&s.draggable){const{index:u,dist:c}=this.dragCoordinate.getDraggable(e,n);if(u>-1)return a&&this.pixelDistance.measure(e,this.readFeature.getGeometry(a).coordinates)<c?void 0:(this.dragTarget={type:"coordinate",featureId:n,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver))}if(s&&s.resizable){const u=this.dragCoordinateResizeFeature.getDraggableIndex(e,n);if(u>-1)return this.dragTarget={type:"resize",featureId:n,coordinateIndex:u},void this.setCursor(this.cursors.pointerOver)}if(i.draggable&&this.dragFeature.canDrag(e,n))return a?void 0:(this.dragTarget={type:"feature",featureId:n},void this.setCursor(this.cursors.pointerOver));a||this.clearDragTargetAndCursor()}styleFeature(e){const n=Qt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0});if(e.properties.mode===this.mode&&e.geometry.type==="Point"){if(e.properties[Hn.SELECTION_POINT])return n.pointColor=this.getHexColorStylingValue(this.styles.selectionPointColor,n.pointColor,e),n.pointOpacity=this.getNumericStylingValue(this.styles.selectionPointOpacity,1,e),n.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectionPointOutlineColor,n.pointOutlineColor,e),n.pointWidth=this.getNumericStylingValue(this.styles.selectionPointWidth,n.pointWidth,e),n.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectionPointOutlineOpacity,1,e),n.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectionPointOutlineWidth,2,e),n.zIndex=30,n;if(e.properties[Hn.MID_POINT])return n.pointColor=this.getHexColorStylingValue(this.styles.midPointColor,n.pointColor,e),n.pointOpacity=this.getNumericStylingValue(this.styles.midPointOpacity,1,e),n.pointOutlineColor=this.getHexColorStylingValue(this.styles.midPointOutlineColor,n.pointOutlineColor,e),n.pointWidth=this.getNumericStylingValue(this.styles.midPointWidth,4,e),n.pointOutlineOpacity=this.getNumericStylingValue(this.styles.midPointOutlineOpacity,1,e),n.pointOutlineWidth=this.getNumericStylingValue(this.styles.midPointOutlineWidth,2,e),n.zIndex=50,n}else if(e.properties[Hn.SELECTED]){if(e.geometry.type==="Point"&&e.properties[ft.MARKER])return n.markerUrl=this.getUrlStylingValue(this.styles.selectedMarkerUrl,CL,e),n.markerHeight=this.getNumericStylingValue(this.styles.selectedMarkerHeight,40,e),n.markerWidth=this.getNumericStylingValue(this.styles.selectedMarkerWidth,32,e),n;if(e.geometry.type==="Polygon")return n.polygonFillColor=this.getHexColorStylingValue(this.styles.selectedPolygonColor,n.polygonFillColor,e),n.polygonOutlineWidth=this.getNumericStylingValue(this.styles.selectedPolygonOutlineWidth,n.polygonOutlineWidth,e),n.polygonOutlineColor=this.getHexColorStylingValue(this.styles.selectedPolygonOutlineColor,n.polygonOutlineColor,e),n.polygonOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPolygonOutlineOpacity,1,e),n.polygonFillOpacity=this.getNumericStylingValue(this.styles.selectedPolygonFillOpacity,n.polygonFillOpacity,e),n.zIndex=Gc,n;if(e.geometry.type==="LineString")return n.lineStringColor=this.getHexColorStylingValue(this.styles.selectedLineStringColor,n.lineStringColor,e),n.lineStringWidth=this.getNumericStylingValue(this.styles.selectedLineStringWidth,n.lineStringWidth,e),n.zIndex=Gc,n;if(e.geometry.type==="Point")return n.pointWidth=this.getNumericStylingValue(this.styles.selectedPointWidth,n.pointWidth,e),n.pointColor=this.getHexColorStylingValue(this.styles.selectedPointColor,n.pointColor,e),n.pointOpacity=this.getNumericStylingValue(this.styles.selectedPointOpacity,1,e),n.pointOutlineColor=this.getHexColorStylingValue(this.styles.selectedPointOutlineColor,n.pointOutlineColor,e),n.pointOutlineOpacity=this.getNumericStylingValue(this.styles.selectedPointOutlineOpacity,1,e),n.pointOutlineWidth=this.getNumericStylingValue(this.styles.selectedPointOutlineWidth,n.pointOutlineWidth,e),n.zIndex=Gc,n}return n}afterFeatureUpdated(e){if(this.selected.length&&e.id===this.selected[0]){var n,i;const a=this.flags[e.properties.mode];if(a==null||(n=a.feature)==null||!n.coordinates)return;const s=e.geometry.type,u=e.id;if(this.selectionPoints.delete(),this.midPoints.delete(),s!=="LineString"&&s!=="Polygon")return;const c=e.geometry.coordinates;this.selectionPoints.create({featureCoordinates:c,featureId:u}),a!=null&&(i=a.feature)!=null&&(i=i.coordinates)!=null&&i.midpoints&&this.midPoints.create({featureCoordinates:c,featureId:u})}}}class d5 extends xd{constructor(...e){super(...e),this.type=du.Static,this.mode="static"}start(){}stop(){}onKeyUp(){}onKeyDown(){}onClick(){}onDragStart(){}onDrag(){}onDragEnd(){}onMouseMove(){}cleanUp(){}styleFeature(){return Qt({},{polygonFillColor:"#3f97e0",polygonOutlineColor:"#3f97e0",polygonOutlineWidth:4,polygonOutlineOpacity:1,polygonFillOpacity:.3,pointColor:"#3f97e0",pointOpacity:1,pointOutlineColor:"#ffffff",pointOutlineOpacity:1,pointOutlineWidth:0,pointWidth:6,lineStringColor:"#3f97e0",lineStringWidth:4,lineStringOpacity:1,zIndex:0,markerUrl:void 0,markerHeight:void 0,markerWidth:void 0})}}function AO(t,e,n,i,a){for(;i>n;){if(i-n>600){const f=i-n+1,h=e-n+1,g=Math.log(f),y=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*y*(f-y)/f)*(h-f/2<0?-1:1);AO(t,e,Math.max(n,Math.floor(e-h*y/f+v)),Math.min(i,Math.floor(e+(f-h)*y/f+v)),a)}const s=t[e];let u=n,c=i;for(Nc(t,n,e),a(t[i],s)>0&&Nc(t,n,i);u<c;){for(Nc(t,u,c),u++,c--;a(t[u],s)<0;)u++;for(;a(t[c],s)>0;)c--}a(t[n],s)===0?Nc(t,n,c):(c++,Nc(t,c,i)),c<=e&&(n=c+1),e<=c&&(i=c-1)}}function Nc(t,e,n){const i=t[e];t[e]=t[n],t[n]=i}function Yl(t,e){Bc(t,0,t.children.length,e,t)}function Bc(t,e,n,i,a){a||(a=Zl([])),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let s=e;s<n;s++){const u=t.children[s];Uc(a,t.leaf?i(u):u)}return a}function Uc(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function f5(t,e){return t.minX-e.minX}function h5(t,e){return t.minY-e.minY}function Vg(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function Kf(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p5(t,e){const n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),a=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,a-n)*Math.max(0,s-i)}function Yg(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Wf(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Zl(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function VS(t,e,n,i,a){const s=[e,n];for(;s.length;){if((n=s.pop())-(e=s.pop())<=i)continue;const u=e+Math.ceil((n-e)/i/2)*i;AO(t,u,e,n,a),s.push(e,u,u,n)}}class m5{constructor(e){this._maxEntries=void 0,this._minEntries=void 0,this.data=void 0,this._maxEntries=Math.max(4,e),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}search(e){let n=this.data;const i=[];if(!Wf(e,n))return i;const a=this.toBBox,s=[];for(;n;){for(let u=0;u<n.children.length;u++){const c=n.children[u],f=n.leaf?a(c):c;Wf(e,f)&&(n.leaf?i.push(c):Yg(e,f)?this._all(c,i):s.push(c))}n=s.pop()}return i}collides(e){let n=this.data;if(Wf(e,n)){const i=[];for(;n;){for(let a=0;a<n.children.length;a++){const s=n.children[a],u=n.leaf?this.toBBox(s):s;if(Wf(e,u)){if(n.leaf||Yg(e,u))return!0;i.push(s)}}n=i.pop()}}return!1}load(e){if(e.length<this._minEntries){for(let i=0;i<e.length;i++)this.insert(e[i]);return}let n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){const i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n}insert(e){this._insert(e,this.data.height-1)}clear(){this.data=Zl([])}remove(e){let n=this.data;const i=this.toBBox(e),a=[],s=[];let u,c,f=!1;for(;n||a.length;){if(n||(n=a.pop(),c=a[a.length-1],u=s.pop(),f=!0),n.leaf){const h=n.children.indexOf(e);h!==-1&&(n.children.splice(h,1),a.push(n),this._condense(a))}f||n.leaf||!Yg(n,i)?c?(u++,n=c.children[u],f=!1):n=null:(a.push(n),s.push(u),u=0,c=n,n=n.children[0])}}toBBox(e){return e}compareMinX(e,n){return e.minX-n.minX}compareMinY(e,n){return e.minY-n.minY}_all(e,n){const i=[];for(;e;)e.leaf?n.push(...e.children):i.push(...e.children),e=i.pop();return n}_build(e,n,i,a){const s=i-n+1;let u,c=this._maxEntries;if(s<=c)return u=Zl(e.slice(n,i+1)),Yl(u,this.toBBox),u;a||(a=Math.ceil(Math.log(s)/Math.log(c)),c=Math.ceil(s/Math.pow(c,a-1))),u=Zl([]),u.leaf=!1,u.height=a;const f=Math.ceil(s/c),h=f*Math.ceil(Math.sqrt(c));VS(e,n,i,h,this.compareMinX);for(let g=n;g<=i;g+=h){const y=Math.min(g+h-1,i);VS(e,g,y,f,this.compareMinY);for(let v=g;v<=y;v+=f){const w=Math.min(v+f-1,y);u.children.push(this._build(e,v,w,a-1))}}return Yl(u,this.toBBox),u}_chooseSubtree(e,n,i,a){for(;a.push(n),!n.leaf&&a.length-1!==i;){let c,f=1/0,h=1/0;for(let g=0;g<n.children.length;g++){const y=n.children[g],v=Vg(y),w=(s=e,u=y,(Math.max(u.maxX,s.maxX)-Math.min(u.minX,s.minX))*(Math.max(u.maxY,s.maxY)-Math.min(u.minY,s.minY))-v);w<h?(h=w,f=v<f?v:f,c=y):w===h&&v<f&&(f=v,c=y)}n=c||n.children[0]}var s,u;return n}_insert(e,n,i){const a=i?e:this.toBBox(e),s=[],u=this._chooseSubtree(a,this.data,n,s);for(u.children.push(e),Uc(u,a);n>=0&&s[n].children.length>this._maxEntries;)this._split(s,n),n--;this._adjustParentBBoxes(a,s,n)}_split(e,n){const i=e[n],a=i.children.length,s=this._minEntries;this._chooseSplitAxis(i,s,a);const u=this._chooseSplitIndex(i,s,a),c=Zl(i.children.splice(u,i.children.length-u));c.height=i.height,c.leaf=i.leaf,Yl(i,this.toBBox),Yl(c,this.toBBox),n?e[n-1].children.push(c):this._splitRoot(i,c)}_splitRoot(e,n){this.data=Zl([e,n]),this.data.height=e.height+1,this.data.leaf=!1,Yl(this.data,this.toBBox)}_chooseSplitIndex(e,n,i){let a,s=1/0,u=1/0;for(let c=n;c<=i-n;c++){const f=Bc(e,0,c,this.toBBox),h=Bc(e,c,i,this.toBBox),g=p5(f,h),y=Vg(f)+Vg(h);g<s?(s=g,a=c,u=y<u?y:u):g===s&&y<u&&(u=y,a=c)}return a||i-n}_chooseSplitAxis(e,n,i){const a=e.leaf?this.compareMinX:f5,s=e.leaf?this.compareMinY:h5;this._allDistMargin(e,n,i,a)<this._allDistMargin(e,n,i,s)&&e.children.sort(a)}_allDistMargin(e,n,i,a){e.children.sort(a);const s=this.toBBox,u=Bc(e,0,n,s),c=Bc(e,i-n,i,s);let f=Kf(u)+Kf(c);for(let h=n;h<i-n;h++){const g=e.children[h];Uc(u,e.leaf?s(g):g),f+=Kf(u)}for(let h=i-n-1;h>=n;h--){const g=e.children[h];Uc(c,e.leaf?s(g):g),f+=Kf(c)}return f}_adjustParentBBoxes(e,n,i){for(let a=i;a>=0;a--)Uc(n[a],e)}_condense(e){for(let n,i=e.length-1;i>=0;i--)e[i].children.length===0?i>0?(n=e[i-1].children,n.splice(n.indexOf(e[i]),1)):this.clear():Yl(e[i],this.toBBox)}}class g5{constructor(e){this.tree=void 0,this.idToNode=void 0,this.nodeToId=void 0,this.tree=new m5(e&&e.maxEntries?e.maxEntries:9),this.idToNode=new Map,this.nodeToId=new Map}setMaps(e,n){this.idToNode.set(e.id,n),this.nodeToId.set(n,e.id)}toBBox(e){const n=[],i=[];let a;if(e.geometry.type==="Polygon")a=e.geometry.coordinates[0];else if(e.geometry.type==="LineString")a=e.geometry.coordinates;else{if(e.geometry.type!=="Point")throw new Error("Not a valid feature to turn into a bounding box");a=[e.geometry.coordinates]}for(let c=0;c<a.length;c++)i.push(a[c][1]),n.push(a[c][0]);const s=Math.min(...i),u=Math.max(...i);return{minX:Math.min(...n),minY:s,maxX:Math.max(...n),maxY:u}}insert(e){if(this.idToNode.get(String(e.id)))throw new Error("Feature already exists");const n=this.toBBox(e);this.setMaps(e,n),this.tree.insert(n)}load(e){const n=[],i=new Set;e.forEach(a=>{const s=this.toBBox(a);if(this.setMaps(a,s),i.has(String(a.id)))throw new Error(`Duplicate feature ID found ${a.id}`);i.add(String(a.id)),n.push(s)}),this.tree.load(n)}update(e){this.remove(e.id);const n=this.toBBox(e);this.setMaps(e,n),this.tree.insert(n)}remove(e){const n=this.idToNode.get(e);if(!n)throw new Error(`${e} not inserted into the spatial index`);this.tree.remove(n)}clear(){this.tree.clear()}search(e){return this.tree.search(this.toBBox(e)).map(n=>this.nodeToId.get(n))}collides(e){return this.tree.collides(this.toBBox(e))}}const y5={getId:()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=16*Math.random()|0;return(t=="x"?e:3&e|8).toString(16)}),isValidId:t=>typeof t=="string"&&t.length===36},YS={target:"geometry"},KS={target:"properties"};class v5{constructor(e){this.idStrategy=void 0,this.tracked=void 0,this.spatialIndex=void 0,this.store=void 0,this._onChange=()=>{},this.store={},this.spatialIndex=new g5,this.tracked=!e||e.tracked!==!1,this.idStrategy=e&&e.idStrategy?e.idStrategy:y5}clone(e){return JSON.parse(JSON.stringify(e))}getId(){return this.idStrategy.getId()}has(e){return!!this.store[e]}load(e,n,i,a){if(e.length===0)return[];let s=this.clone(e);const u=[],c=[];s=s.filter(h=>{h.id==null&&(h.id=this.idStrategy.getId());const g=h.id;if(n){const y=n(h);if(!y.valid)return u.push({id:g,valid:!1,reason:y.reason}),!1}if(this.tracked){if(h.properties.createdAt){if(!jS(h.properties.createdAt))return u.push({id:h.id,valid:!1,reason:"createdAt is not a valid numeric timestamp"}),!1}else h.properties.createdAt=+new Date;if(h.properties.updatedAt){if(!jS(h.properties.updatedAt))return u.push({id:h.id,valid:!1,reason:"updatedAt is not a valid numeric timestamp"}),!1}else h.properties.updatedAt=+new Date}return this.has(g)?(u.push({id:g,valid:!1,reason:`Feature already exists with this id: ${g}`}),!1):(this.store[g]=h,c.push(h),u.push({id:g,valid:!0}),!0)}),this.spatialIndex.load(s);const f=c.map(({id:h})=>h);return f.length>0&&(this._onChange(f,"create",a),i&&c.forEach(h=>{i(h)})),u}search(e,n){const i=this.spatialIndex.search(e).map(a=>this.store[a]);return this.clone(n?i.filter(n):i)}registerOnChange(e){this._onChange=(n,i,a)=>{e(n,i,a)}}getGeometryCopy(e){const n=this.store[e];if(!n)throw new Error(`No feature with this id (${e}), can not get geometry copy`);return this.clone(n.geometry)}getPropertiesCopy(e){const n=this.store[e];if(!n)throw new Error(`No feature with this id (${e}), can not get properties copy`);return this.clone(n.properties)}updateProperty(e,n){const i=new Set;e.forEach(({id:a,property:s,value:u})=>{const c=this.store[a];if(!c)throw new Error(`No feature with this (${a}), can not update geometry`);c.properties[s]!==u&&(i.add(a),u===void 0?delete c.properties[s]:c.properties[s]=u,this.tracked&&(c.properties.updatedAt=+new Date))}),this._onChange&&i.size>0&&this._onChange(Array.from(i),"update",n?Qt({},n,KS):KS)}updateGeometry(e,n){const i=new Set;e.forEach(({id:a,geometry:s})=>{i.add(a);const u=this.store[a];if(!u)throw new Error(`No feature with this (${a}), can not update geometry`);u.geometry=this.clone(s),this.spatialIndex.update(u),this.tracked&&(u.properties.updatedAt=+new Date)}),this._onChange&&i.size>0&&this._onChange(Array.from(i),"update",n?Qt({},n,YS):YS)}create(e,n){const i=[];return e.forEach(({geometry:a,properties:s})=>{let u,c=Qt({},s);this.tracked&&(u=+new Date,s?(c.createdAt=typeof s.createdAt=="number"?s.createdAt:u,c.updatedAt=typeof s.updatedAt=="number"?s.updatedAt:u):c={createdAt:u,updatedAt:u});const f=this.getId(),h={id:f,type:"Feature",geometry:a,properties:c};this.store[f]=h,this.spatialIndex.insert(h),i.push(f)}),this._onChange&&this._onChange([...i],"create",n),i}delete(e,n){e.forEach(i=>{if(!this.store[i])throw new Error(`No feature with id ${i}, can not delete`);delete this.store[i],this.spatialIndex.remove(i)}),this._onChange&&this._onChange([...e],"delete",n)}copy(e){return this.clone(this.store[e])}copyAll(){return this.clone(Object.keys(this.store).map(e=>this.store[e]))}copyAllWhere(e){return this.clone(Object.keys(this.store).map(n=>this.store[n]).filter(n=>n.properties&&e(n.properties)))}clear(){this.store={},this.spatialIndex.clear()}size(){return Object.keys(this.store).length}}class Kl{constructor({name:e,callback:n,unregister:i,register:a}){this.name=void 0,this.callback=void 0,this.registered=!1,this.register=void 0,this.unregister=void 0,this.name=e,this.register=()=>{this.registered||(this.registered=!0,a(n))},this.unregister=()=>{this.register&&(this.registered=!1,i(n))},this.callback=n}}var b5={__proto__:null,TerraDrawBaseAdapter:class{constructor(t){this._nextKeyUpIsContextMenu=!1,this._lastPointerDownEventTarget=void 0,this._ignoreMismatchedPointerEvents=!1,this._minPixelDragDistance=void 0,this._minPixelDragDistanceDrawing=void 0,this._minPixelDragDistanceSelecting=void 0,this._lastDrawEvent=void 0,this._coordinatePrecision=void 0,this._heldKeys=new Set,this._listeners=[],this._dragState="not-dragging",this._currentModeCallbacks=void 0,this._ignoreMismatchedPointerEvents=typeof t.ignoreMismatchedPointerEvents=="boolean"&&t.ignoreMismatchedPointerEvents,this._minPixelDragDistance=typeof t.minPixelDragDistance=="number"?t.minPixelDragDistance:1,this._minPixelDragDistanceSelecting=typeof t.minPixelDragDistanceSelecting=="number"?t.minPixelDragDistanceSelecting:1,this._minPixelDragDistanceDrawing=typeof t.minPixelDragDistanceDrawing=="number"?t.minPixelDragDistanceDrawing:8,this._coordinatePrecision=typeof t.coordinatePrecision=="number"?t.coordinatePrecision:9}getButton(t){return t.button===-1?"neither":t.button===0?"left":t.button===1?"middle":t.button===2?"right":"neither"}getMapElementXYPosition(t){const e=this.getMapEventElement(t.type),{left:n,top:i}=e.getBoundingClientRect();return{containerX:t.clientX-n,containerY:t.clientY-i}}getDrawEventFromEvent(t,e=!1){const n=this.getLngLatFromEvent(t);if(!n)return null;const{lng:i,lat:a}=n,{containerX:s,containerY:u}=this.getMapElementXYPosition(t),c=this.getButton(t),f=Array.from(this._heldKeys);return{lng:Pn(i,this._coordinatePrecision),lat:Pn(a,this._coordinatePrecision),containerX:s,containerY:u,button:c,heldKeys:f,isContextMenu:e}}register(t){this._currentModeCallbacks=t,this._listeners=this.getAdapterListeners(),this._listeners.forEach(e=>{e.register()})}getCoordinatePrecision(){return this._coordinatePrecision}getAdapterListeners(){return[new Kl({name:"pointerdown",callback:t=>{if(!this._currentModeCallbacks||!t.isPrimary)return;const e=this.getDrawEventFromEvent(t);e&&(this._dragState="pre-dragging",this._lastDrawEvent=e,this._lastPointerDownEventTarget=t.target?t.target:void 0)},register:t=>{this.getMapEventElement("pointerdown").addEventListener("pointerdown",t)},unregister:t=>{this.getMapEventElement("pointerdown").removeEventListener("pointerdown",t)}}),new Kl({name:"pointermove",callback:t=>{if(!this._currentModeCallbacks||!t.isPrimary)return;t.preventDefault();const e=this.getDrawEventFromEvent(t);if(e)if(this._dragState==="not-dragging")this._currentModeCallbacks.onMouseMove(e),this._lastDrawEvent=e;else if(this._dragState==="pre-dragging"){if(!this._lastDrawEvent)return;const n={x:this._lastDrawEvent.containerX,y:this._lastDrawEvent.containerY},i={x:e.containerX,y:e.containerY},a=this._currentModeCallbacks.getState(),s=Wa(n,i);let u=!1;if(u=a==="drawing"?s<this._minPixelDragDistanceDrawing:a==="selecting"?s<this._minPixelDragDistanceSelecting:s<this._minPixelDragDistance,u)return;this._nextKeyUpIsContextMenu=!1,this._dragState="dragging",this._currentModeCallbacks.onDragStart(e,c=>{this.setDraggability.bind(this)(c)})}else this._dragState==="dragging"&&this._currentModeCallbacks.onDrag(e,n=>{this.setDraggability.bind(this)(n)})},register:t=>{this.getMapEventElement("pointermove").addEventListener("pointermove",t)},unregister:t=>{this.getMapEventElement("pointermove").removeEventListener("pointermove",t)}}),new Kl({name:"contextmenu",callback:t=>{this._currentModeCallbacks&&(t.preventDefault(),this._nextKeyUpIsContextMenu=!0)},register:t=>{this.getMapEventElement("contextmenu").addEventListener("contextmenu",t)},unregister:t=>{this.getMapEventElement("contextmenu").removeEventListener("contextmenu",t)}}),new Kl({name:"pointerup",callback:t=>{if(!this._currentModeCallbacks||t.target!==this.getMapEventElement("pointerup")||this._ignoreMismatchedPointerEvents&&this._lastPointerDownEventTarget!==t.target||(this._lastPointerDownEventTarget=void 0,!t.isPrimary))return;const e=this.getDrawEventFromEvent(t);e&&(this._dragState==="dragging"?this._currentModeCallbacks.onDragEnd(e,n=>{this.setDraggability.bind(this)(n)}):this._dragState!=="not-dragging"&&this._dragState!=="pre-dragging"||(this._nextKeyUpIsContextMenu&&(e.isContextMenu=!0,this._nextKeyUpIsContextMenu=!1),this._currentModeCallbacks.onClick(e)),this._dragState="not-dragging",this.setDraggability(!0))},register:t=>{this.getMapEventElement("pointerup").addEventListener("pointerup",t)},unregister:t=>{this.getMapEventElement("pointerup").removeEventListener("pointerup",t)}}),new Kl({name:"keyup",callback:t=>{this._currentModeCallbacks&&(this._heldKeys.delete(t.key),this._currentModeCallbacks.onKeyUp({key:t.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>t.preventDefault()}))},register:t=>{this.getMapEventElement("keyup").addEventListener("keyup",t)},unregister:t=>{this.getMapEventElement("keyup").removeEventListener("keyup",t)}}),new Kl({name:"keydown",callback:t=>{this._currentModeCallbacks&&(this._heldKeys.add(t.key),this._currentModeCallbacks.onKeyDown({key:t.key,heldKeys:Array.from(this._heldKeys),preventDefault:()=>t.preventDefault()}))},register:t=>{this.getMapEventElement("keydown").addEventListener("keydown",t)},unregister:t=>{this.getMapEventElement("keydown").removeEventListener("keydown",t)}})]}unregister(){this._listeners.forEach(t=>{t.unregister()}),this.clear(),this._currentModeCallbacks=void 0,this._lastDrawEvent=void 0,this._lastPointerDownEventTarget=void 0,this._nextKeyUpIsContextMenu=!1}}};function Dy(t){if(t===null||typeof t=="boolean"||typeof t=="string")return!0;if(t===void 0)return!1;if(typeof t=="number")return Number.isFinite(t);if(typeof t=="bigint"||typeof t=="symbol"||typeof t=="function"||t instanceof RegExp||t instanceof Map||t instanceof Set||t instanceof Date)return!1;if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const e=Object.getPrototypeOf(t);if(e!==Object.prototype&&e!==null)return!1}if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return!1;if(Array.isArray(t)){for(const e of t)if(!Dy(e))return!1}return typeof t=="object"&&Object.keys(t).every(e=>typeof e=="string"&&Dy(t[e]))}class x5{constructor(e){this._modes=void 0,this._mode=void 0,this._adapter=void 0,this._enabled=!1,this._store=void 0,this._eventListeners=void 0,this._instanceSelectModes=void 0,this._adapter=e.adapter,this._instanceSelectModes=[],this._mode=new d5;const n=new Set,i=e.modes.reduce((g,y)=>{if(n.has(y.mode))throw new Error(`There is already a ${y.mode} mode provided`);return n.add(y.mode),g[y.mode]=y,g},{}),a=Object.keys(i);if(a.length===0)throw new Error("No modes provided");a.forEach(g=>{i[g].type===du.Select&&this._instanceSelectModes.push(g)}),this._modes=Qt({},i,{static:this._mode}),this._eventListeners={change:[],select:[],deselect:[],finish:[],ready:[]},this._store=new v5({tracked:!!e.tracked,idStrategy:e.idStrategy?e.idStrategy:void 0});const s=g=>{const y=[],v=this._store.copyAll().filter(w=>!g.includes(w.id)||(y.push(w),!1));return{changed:y,unchanged:v}},u=(g,y)=>{this._enabled&&this._eventListeners.finish.forEach(v=>{v(g,y)})},c=(g,y,v)=>{if(!this._enabled)return;this._eventListeners.change.forEach(E=>{E(g,y,v)});const{changed:w,unchanged:_}=s(g);y==="create"?this._adapter.render({created:w,deletedIds:[],unchanged:_,updated:[]},this.getModeStyles()):y==="update"?this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:w},this.getModeStyles()):y==="delete"?this._adapter.render({created:[],deletedIds:g,unchanged:_,updated:[]},this.getModeStyles()):y==="styling"&&this._adapter.render({created:[],deletedIds:[],unchanged:_,updated:[]},this.getModeStyles())},f=g=>{if(!this._enabled)return;this._eventListeners.select.forEach(w=>{w(g)});const{changed:y,unchanged:v}=s([g]);this._adapter.render({created:[],deletedIds:[],unchanged:v,updated:y},this.getModeStyles())},h=g=>{if(!this._enabled)return;this._eventListeners.deselect.forEach(w=>{w(g)});const{changed:y,unchanged:v}=s([g]);y&&this._adapter.render({created:[],deletedIds:[],unchanged:v,updated:y},this.getModeStyles())};Object.keys(this._modes).forEach(g=>{this._modes[g].register({mode:g,store:this._store,setCursor:this._adapter.setCursor.bind(this._adapter),project:this._adapter.project.bind(this._adapter),unproject:this._adapter.unproject.bind(this._adapter),setDoubleClickToZoom:this._adapter.setDoubleClickToZoom.bind(this._adapter),onChange:c,onSelect:f,onDeselect:h,onFinish:u,coordinatePrecision:this._adapter.getCoordinatePrecision()})})}checkEnabled(){if(!this._enabled)throw new Error("Terra Draw is not enabled")}getModeStyles(){const e={},n=this._instanceSelectModes.includes(this._mode.mode)?this._mode.mode:void 0;return Object.keys(this._modes).forEach(i=>{e[i]=a=>n&&a.properties[Hn.SELECTED]?this._modes[n].styleFeature.bind(this._modes[n])(a):this._modes[i].styleFeature.bind(this._modes[i])(a)}),e}featuresAtLocation({lng:e,lat:n},i){const a=i&&i.pointerDistance!==void 0?i.pointerDistance:30,s=!i||i.ignoreSelectFeatures===void 0||i.ignoreSelectFeatures,u=!(!i||i.ignoreCoordinatePoints===void 0)&&i.ignoreCoordinatePoints,c=!(!i||i.ignoreCurrentlyDrawing===void 0)&&i.ignoreCurrentlyDrawing,f=!(!i||i.ignoreClosingPoints===void 0)&&i.ignoreClosingPoints,h=!(!i||i.ignoreSnappingPoints===void 0)&&i.ignoreSnappingPoints,g=this._adapter.unproject.bind(this._adapter),y=this._adapter.project.bind(this._adapter),v=y(e,n),w=OO({unproject:g,point:v,pointerDistance:a});return this._store.search(w).filter(_=>{if(s&&(_.properties[Hn.MID_POINT]||_.properties[Hn.SELECTION_POINT])||u&&_.properties[ft.COORDINATE_POINT]||f&&_.properties[ft.CLOSING_POINT]||c&&_.properties[ft.CURRENTLY_DRAWING]||h&&_.properties[ft.SNAPPING_POINT])return!1;if(_.geometry.type==="Point"){const E=_.geometry.coordinates,P=y(E[0],E[1]);return Wa(v,P)<a}if(_.geometry.type==="LineString"){const E=_.geometry.coordinates;for(let P=0;P<E.length-1;P++){const N=E[P],D=E[P+1];if(Py(v,y(N[0],N[1]),y(D[0],D[1]))<a)return!0}return!1}if(PO([e,n],_.geometry.coordinates))return!0;if(i!=null&&i.includePolygonsWithinPointerDistance){const E=_.geometry.coordinates;for(const P of E)for(let N=0;N<P.length-1;N++){const D=P[N],A=P[N+1],z=y(D[0],D[1]),L=y(A[0],A[1]);if(Py(v,z,L)<a)return!0}}return!1}).map(_=>{if(i==null||!i.addClosestCoordinateInfoToProperties)return _;let E;if(_.geometry.type==="Polygon")E=_.geometry.coordinates[0].slice(0,-1);else{if(_.geometry.type!=="LineString")return _;E=_.geometry.coordinates}let P,N=-1,D=1/0;for(let A=0;A<E.length;A++){const z=E[A],L=Wa(y(z[0],z[1]),v);L<D&&(N=A,D=L,P=z)}return _.properties.closestCoordinateIndexToEvent=N,_.properties.closestCoordinatePixelDistanceToEvent=D,_.properties.closestCoordinateDistanceKmToEvent=ea(P,[e,n]),_})}getSelectModeOrThrow(e=void 0){const n=this.getSelectMode({switchToSelectMode:!0,selectMode:e});if(!n)throw new Error("No select mode defined in instance");return n}getSelectMode({switchToSelectMode:e,selectMode:n}){this.checkEnabled();const i=this.getMode();if(this._instanceSelectModes.length===0)return null;if(n!==void 0&&!this._instanceSelectModes.includes(n))throw new Error(`No select mode with this name present: ${n}`);let a;return a=n!==void 0?n:this._instanceSelectModes.includes(i)?i:this._instanceSelectModes[0],e&&i!==a&&this.setMode(a),this._modes[a]}isGuidanceFeature(e){return!!(e.properties[Hn.MID_POINT]||e.properties[Hn.SELECTION_POINT]||e.properties[ft.COORDINATE_POINT]||e.properties[ft.SNAPPING_POINT])}setModeStyles(e,n){if(this.checkEnabled(),!this._modes[e])throw new Error("No mode with this name present");this._modes[e].styles=n}updateModeOptions(e,n){if(this.checkEnabled(),!this._modes[e])throw new Error("No mode with this name present");this._modes[e].updateOptions(n)}getSnapshot(){return this._store.copyAll()}getSnapshotFeature(e){if(this._store.has(e))return this._store.copy(e)}clear(){this.checkEnabled(),this._adapter.clear()}get enabled(){return this._enabled}set enabled(e){throw new Error("Enabled is read only")}getMode(){return this._mode.mode}getModeState(){return this._mode.state}setMode(e){if(this.checkEnabled(),!this._modes[e])throw new Error("No mode with this name present");this._mode.stop(),this._mode=this._modes[e],this._mode.start()}removeFeatures(e){this.checkEnabled();const n=[],i=[];let a;e.forEach(s=>{if(!this._store.has(s))throw new Error(`No feature with id ${s}, can not delete`);const u=this._store.getPropertiesCopy(s);u[Hn.SELECTED]&&this.deselectFeature(s),u[ft.CURRENTLY_DRAWING]&&this._modes[u.mode]?a=u.mode:(u[ft.COORDINATE_POINT_IDS]&&n.push(...u[ft.COORDINATE_POINT_IDS]),i.push(s))}),this._store.delete([...i,...n],{origin:"api"}),a&&this._modes[a]&&this._modes[a].cleanUp()&&this._modes[a].cleanUp()}selectFeature(e,n){this.getSelectModeOrThrow(n).selectFeature(e)}deselectFeature(e){this.getSelectModeOrThrow().deselectFeature(e)}getFeatureId(){return this._store.getId()}hasFeature(e){return this._store.has(e)}checkIsReservedProperty(e){return![...Object.values(Hn),...Object.values(ft)].includes(e)}updateFeatureProperties(e,n){if(!this._store.has(e))throw new Error(`No feature with id ${e} present in store`);const i=this._store.copy(e);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");const a=i.properties.mode;if(!this._modes[a])throw new Error(`No mode with name ${a} present in instance`);const s=Object.entries(n);s.forEach(([u,c])=>{if(!this.checkIsReservedProperty(u))throw new Error(`You are trying to update a reserved property name: ${u}. Please choose another name.`);if(c!==void 0&&!Dy(c))throw new Error(`Invalid JSON value provided for property ${u}`)}),this._store.updateProperty(s.map(([u,c])=>({id:i.id,property:u,value:c})),{origin:"api"})}updateFeatureGeometry(e,n){if(!this._store.has(e))throw new Error(`No feature with id ${e} present in store`);const i=this._store.copy(e);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");if(!(i&&n&&n.type&&n.coordinates))throw new Error("Invalid geometry provided");if(n.type!==i.geometry.type)throw new Error(`Geometry type mismatch: expected ${i.geometry.type}, got ${n.type}`);const a=i.properties.mode,s=this._modes[a];if(!s)throw new Error(`No mode with name ${a} present in instance`);const u=Qt({},i,{geometry:n}),c=s.validateFeature(u);if(!c.valid)throw new Error(`Feature validation failed: ${c.reason||"Unknown reason"}`);if(this._store.updateGeometry([{id:i.id,geometry:n}],{origin:"api"}),s.afterFeatureUpdated){s.afterFeatureUpdated(u);const f=u.properties[Hn.SELECTED],h=this.getSelectMode({switchToSelectMode:!1});h&&f&&h.afterFeatureUpdated(u)}}transformFeatureGeometry(e,n){if(!this._store.has(e))throw new Error(`No feature with id ${e} present in store`);let i=this._store.copy(e);if(this.isGuidanceFeature(i))throw new Error("Guidance features are not allowed to be updated directly.");const a=i.properties.mode,s=this._modes[a];if(!s)throw new Error(`No mode with name ${a} present in instance`);let u;if(i.geometry.type==="Polygon")u=i.geometry.coordinates[0];else{if(i.geometry.type!=="LineString")throw new Error(`Feature geometry type ${i.geometry.type} is not supported for transformation`);u=i.geometry.coordinates}if(n.projection!="web-mercator")throw new Error(`Projection ${n.projection} is not currently supported for transformation`);if(n.type==="scale"){const{x:c,y:f}=Mn(n.origin[0],n.origin[1]);DO({coordinates:u,originX:c,originY:f,xScale:n.options.xScale||1,yScale:n.options.yScale||1})}else n.type==="rotate"&&(i=RO(i,n.options.angle||0),u=i.geometry.type==="Polygon"?i.geometry.coordinates[0]:i.geometry.coordinates);if(u=u.map(c=>[Pn(c[0],this._adapter.getCoordinatePrecision()),Pn(c[1],this._adapter.getCoordinatePrecision())]),i.geometry.coordinates=i.geometry.type==="Polygon"?[u]:u,this._store.updateGeometry([{id:i.id,geometry:i.geometry}],{origin:"api"}),s.afterFeatureUpdated){s.afterFeatureUpdated(i);const c=i.properties[Hn.SELECTED],f=this.getSelectMode({switchToSelectMode:!1});f&&c&&f.afterFeatureUpdated(i)}}addFeatures(e){return this.checkEnabled(),e.length===0?[]:this._store.load(e,n=>{if(IS(n)){const i=n.properties.mode,a=this._modes[i];if(!a)return{id:n.id,valid:!1,reason:`${i} mode is not in the list of instantiated modes`};const s=a.validateFeature.bind(a)(n);return{id:n.id,valid:s.valid,reason:s.reason?s.reason:s.valid?void 0:"Feature is invalid"}}return{id:n.id,valid:!1,reason:"Mode property does not exist"}},n=>{if(IS(n)){const i=this._modes[n.properties.mode];i&&i.afterFeatureAdded&&i.afterFeatureAdded(n)}},{origin:"api"})}start(){this._enabled||(this._enabled=!0,this._adapter.register({onReady:()=>{this._eventListeners.ready.forEach(e=>{e()})},getState:()=>this._mode.state,onClick:e=>{this._mode.onClick(e)},onMouseMove:e=>{this._mode.onMouseMove(e)},onKeyDown:e=>{this._mode.onKeyDown(e)},onKeyUp:e=>{this._mode.onKeyUp(e)},onDragStart:(e,n)=>{this._mode.onDragStart(e,n)},onDrag:(e,n)=>{this._mode.onDrag(e,n)},onDragEnd:(e,n)=>{this._mode.onDragEnd(e,n)},onClear:()=>{this._mode.cleanUp(),this._store.clear()}}))}getFeaturesAtLngLat(e,n){const{lng:i,lat:a}=e;return this.featuresAtLocation({lng:i,lat:a},n)}getFeaturesAtPointerEvent(e,n){const i=this._adapter.getLngLatFromEvent.bind(this._adapter)(e);return i===null?[]:this.featuresAtLocation(i,n)}stop(){this._enabled&&(this._enabled=!1,this._adapter.unregister())}on(e,n){const i=this._eventListeners[e];i.includes(n)||i.push(n)}off(e,n){const i=this._eventListeners[e];i.includes(n)&&i.splice(i.indexOf(n),1)}}class w5 extends b5.TerraDrawBaseAdapter{constructor(e){super(e),this._renderBeforeLayerId=void 0,this._prefixId=void 0,this._initialDragPan=void 0,this._initialDragRotate=void 0,this._nextRender=void 0,this._map=void 0,this._container=void 0,this.changedIds={deletion:!1,points:!1,linestrings:!1,polygons:!1,styling:!1},this._map=e.map,this._container=this._map.getContainer(),this._initialDragRotate=this._map.dragRotate.isEnabled(),this._initialDragPan=this._map.dragPan.isEnabled(),this._renderBeforeLayerId=e.renderBelowLayerId,this._prefixId=e.prefixId||"td"}hashCode(e){let n=0;for(let i=0;i<e.length;i++)n=(n<<5)-n+e.charCodeAt(i),n|=0;return Math.abs(n)}resizeImage(e,n,i,a){const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{const u=document.createElement("canvas");u.width=n,u.height=i;const c=u.getContext("2d");if(!c)throw new Error("Could not get canvas context");c.drawImage(s,0,0,n,i);const f=u.toDataURL();a(f)},s.src=e}_addGeoJSONSource(e,n){this._map.addSource(e,{type:"geojson",data:{type:"FeatureCollection",features:n},tolerance:0})}_addFillLayer(e){return this._map.addLayer({id:e,source:e,type:"fill",layout:{"fill-sort-key":["get","zIndex"]},paint:{"fill-color":["get","polygonFillColor"],"fill-opacity":["get","polygonFillOpacity"]}})}_addFillOutlineLayer(e){return this._map.addLayer({id:e+"-outline",source:e,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","polygonOutlineWidth"],"line-color":["get","polygonOutlineColor"],"line-opacity":["get","polygonOutlineOpacity"]}})}_addLineLayer(e){return this._map.addLayer({id:e,source:e,type:"line",layout:{"line-sort-key":["get","zIndex"]},paint:{"line-width":["get","lineStringWidth"],"line-color":["get","lineStringColor"],"line-opacity":["get","lineStringOpacity"]}})}_addPointLayer(e){return this._map.addLayer({id:e,source:e,type:"circle",layout:{"circle-sort-key":["get","zIndex"]},paint:{"circle-stroke-color":["get","pointOutlineColor"],"circle-stroke-width":["get","pointOutlineWidth"],"circle-stroke-opacity":["get","pointOutlineOpacity"],"circle-radius":["get","pointWidth"],"circle-color":["get","pointColor"],"circle-opacity":["get","pointOpacity"]}})}_addMarkerLayer(e){return this._map.addLayer({id:e+"-marker",source:e,type:"symbol",filter:["has","markerId"],layout:{"icon-image":["image",["get","markerId"]],"icon-anchor":"bottom","icon-allow-overlap":!0}})}_addLayer(e,n){n==="Point"&&(this._addPointLayer(e),this._addMarkerLayer(e)),n==="LineString"&&this._addLineLayer(e),n==="Polygon"&&(this._addFillLayer(e),this._addFillOutlineLayer(e))}_addGeoJSONLayer(e,n){const i=`${this._prefixId}-${e.toLowerCase()}`;return this._addGeoJSONSource(i,n),this._addLayer(i,e),i}_setGeoJSONLayerData(e,n){const i=`${this._prefixId}-${e.toLowerCase()}`;return this._map.getSource(i).setData({type:"FeatureCollection",features:n}),i}updateChangedIds(e){[...e.updated,...e.created].forEach(n=>{n.geometry.type==="Point"?this.changedIds.points=!0:n.geometry.type==="LineString"?this.changedIds.linestrings=!0:n.geometry.type==="Polygon"&&(this.changedIds.polygons=!0)}),e.deletedIds.length>0&&(this.changedIds.deletion=!0),e.created.length===0&&e.updated.length===0&&e.deletedIds.length===0&&(this.changedIds.styling=!0)}getLngLatFromEvent(e){const{left:n,top:i}=this._container.getBoundingClientRect();return this.unproject(e.clientX-n,e.clientY-i)}getMapEventElement(){return this._map.getCanvas()}setDraggability(e){e?(this._initialDragRotate&&this._map.dragRotate.enable(),this._initialDragPan&&this._map.dragPan.enable()):(this._initialDragRotate&&this._map.dragRotate.disable(),this._initialDragPan&&this._map.dragPan.disable())}project(e,n){const{x:i,y:a}=this._map.project({lng:e,lat:n});return{x:i,y:a}}unproject(e,n){const{lng:i,lat:a}=this._map.unproject({x:e,y:n});return{lng:i,lat:a}}setCursor(e){const n=this._map.getCanvas();e==="unset"?n.style.removeProperty("cursor"):n.style.cursor=e}setDoubleClickToZoom(e){e?this._map.doubleClickZoom.enable():this._map.doubleClickZoom.disable()}render(e,n){this.updateChangedIds(e),this._nextRender&&cancelAnimationFrame(this._nextRender),this._nextRender=requestAnimationFrame(()=>{if(!this._currentModeCallbacks)return;const i=[...e.created,...e.updated,...e.unchanged],a=[],s=[],u=[];for(let g=0;g<i.length;g++){const y=i[g],{properties:v}=y,w=n[v.mode](y);if(v.zIndex=w.zIndex,v.zIndex=w.zIndex,y.geometry.type==="Point"){v.pointColor=w.pointColor,v.pointOutlineColor=w.pointOutlineColor,v.pointOutlineWidth=w.pointOutlineWidth;const _=w.pointOutlineOpacity;v.pointOutlineOpacity=_===void 0?1:_,v.pointWidth=w.pointWidth;const E=w.pointOpacity;if(v.pointOpacity=E===void 0?1:E,w.markerUrl&&w.markerWidth&&w.markerHeight){const P=`marker-${this.hashCode(w.markerUrl)}`;this._map.hasImage(P)||this.resizeImage(w.markerUrl,w.markerWidth,w.markerHeight,N=>{this._map.loadImage(N).then(D=>{this._map.hasImage(P)||this._map.addImage(P,D.data)})}),v.markerId=P,v.pointWidth=0}a.push(y)}else if(y.geometry.type==="LineString"){v.lineStringColor=w.lineStringColor,v.lineStringWidth=w.lineStringWidth;const _=w.lineStringOpacity;v.lineStringOpacity=_===void 0?1:_,s.push(y)}else if(y.geometry.type==="Polygon"){const _=w.polygonOutlineOpacity;v.polygonFillColor=w.polygonFillColor,v.polygonFillOpacity=w.polygonFillOpacity,v.polygonOutlineOpacity=_===void 0?1:_,v.polygonOutlineColor=w.polygonOutlineColor,v.polygonOutlineWidth=w.polygonOutlineWidth,u.push(y)}}const c=this.changedIds.deletion||this.changedIds.styling,f=c||this.changedIds.linestrings,h=c||this.changedIds.polygons;(c||this.changedIds.points)&&this._setGeoJSONLayerData("Point",a),f&&this._setGeoJSONLayerData("LineString",s),h&&this._setGeoJSONLayerData("Polygon",u),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1}})}clear(){this._currentModeCallbacks&&(this._currentModeCallbacks.onClear(),this._nextRender&&(cancelAnimationFrame(this._nextRender),this._nextRender=void 0),this._setGeoJSONLayerData("Point",[]),this._setGeoJSONLayerData("LineString",[]),this._setGeoJSONLayerData("Polygon",[]))}getCoordinatePrecision(){return super.getCoordinatePrecision()}unregister(){super.unregister(),this.changedIds={points:!1,linestrings:!1,polygons:!1,deletion:!1,styling:!1},this._map.removeLayer(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-point-marker`),this._map.removeSource(`${this._prefixId}-point`),this._map.removeLayer(`${this._prefixId}-linestring`),this._map.removeSource(`${this._prefixId}-linestring`),this._map.removeLayer(`${this._prefixId}-polygon`),this._map.removeLayer(`${this._prefixId}-polygon-outline`),this._map.removeSource(`${this._prefixId}-polygon`)}register(e){var n;super.register(e);const i=this._addGeoJSONLayer("Polygon",[]),a=this._addGeoJSONLayer("LineString",[]),s=this._addGeoJSONLayer("Point",[]);var u;this._renderBeforeLayerId&&(this._map.moveLayer(s,this._renderBeforeLayerId),this._map.moveLayer(a,s),this._map.moveLayer(`${i}-outline`,a),this._map.moveLayer(i,`${i}-outline`)),(n=this._currentModeCallbacks)!=null&&n.onReady&&((u=this._currentModeCallbacks)==null||u.onReady())}}const S5=t=>{const e=t.toLowerCase(),n=[new c5({flags:{polygon:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0,midpoints:!0}}},linestring:{feature:{draggable:!0,coordinates:{draggable:!0,deletable:!0}}},point:{feature:{draggable:!0}}}})];return(e.includes("point")||e.includes("geometry"))&&n.push(new WL),(e.includes("line")||e.includes("geometry"))&&n.push(new $L),(e.includes("polygon")||e.includes("geometry"))&&n.push(new ZL),n},C5=(t,e)=>{const n=t.toLowerCase();if(n.includes("multi"))return Z4(e).features[0].geometry;if(n.includes("collection")){const i=e.features.map(s=>s.geometry);return H4(i).geometry}return e.features[0].geometry},_5=S.forwardRef((t,e)=>{const{geojsonData:n}=t,{current:i}=bO(),a=S.useRef(null),s=S.useRef(n);return S.useEffect(()=>{if(!i)return;const u=i.getMap(),c=S5(s.current.type),f=new x5({adapter:new w5({map:u}),modes:c});if(f.start(),a.current=f,s.current){const h=s.current.type.toLowerCase();let g="polygon";h.includes("point")?g="point":h.includes("line")&&(g="linestring");const y=s.current.type==="FeatureCollection"?s.current.features.map(v=>({...v,properties:{...v.properties,mode:g}})):[{type:"Feature",geometry:s.current,properties:{mode:g}}];f.addFeatures(y),f.setMode("select")}return()=>{f.stop(),a.current=null}},[i]),S.useImperativeHandle(e,()=>({getFeatures:()=>a.current?{type:"FeatureCollection",features:a.current.getSnapshot()}:{type:"FeatureCollection",features:[]},setMode:u=>{a.current&&a.current.setMode(u)}})),null});function E5({layerId:t,hiddenFeatureId:e}){const{features:n,config:i}=SO(t),a=S.useMemo(()=>{if(!n||n.length===0)return null;const s=e?n.filter(u=>u.id!==e):n;return aO(s.map(u=>{const c={id:u.id,name:u.name,building_number:u.building_number,plate_name:u.plate_name,entityType:t};return Jo(u.geometry,c,{id:u.id})}))},[n,t,e]);return!i||!a?null:M.jsx(wO,{id:`source-${t}`,type:"geojson",data:a,children:i.styles.map((s,u)=>M.jsx(sh,{id:`layer-${t}-${u}`,...s,type:s.type},`${t}-${u}`))})}function O5({activeLayers:t,drawingMode:e}){const n=t.filter(i=>{const a=bo.find(s=>s.id===i);return a&&!a.isDataOnly});return M.jsx(M.Fragment,{children:n.map(i=>M.jsx(E5,{layerId:i,hiddenFeatureId:e?.entityType===i?e.id:void 0},i))})}function T5({previewFeature:t}){const{current:e}=bO(),n=S.useMemo(()=>Jo(t.geometry,{title:t.title}),[t]);return S.useEffect(()=>{if(!(!e||!t.geometry))try{const i=lO(n);i[0]===i[2]&&i[1]===i[3]?e.flyTo({center:[i[0],i[1]],zoom:18,duration:1e3}):e.fitBounds([[i[0],i[1]],[i[2],i[3]]],{padding:100,duration:1e3})}catch(i){console.warn("Could not calculate bounds for preview geometry",i)}},[e,t,n]),M.jsxs(wO,{id:"preview-source",type:"geojson",data:n,children:[M.jsx(sh,{id:"preview-fill-layer",type:"fill",paint:{"fill-color":"#ffd43b","fill-opacity":.5}}),M.jsx(sh,{id:"preview-line-layer",type:"line",paint:{"line-color":"#f08c00","line-width":3,"line-dasharray":[2,2]}}),M.jsx(sh,{id:"preview-point-layer",type:"circle",paint:{"circle-radius":6,"circle-color":"#ffd43b","circle-stroke-width":2,"circle-stroke-color":"#f08c00"}})]})}const M5="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",P5="https://map.ir/vector/styles/main/mapir-xyz-style.json";function R5({onGeometryLoad:t,onFeatureClick:e,activeLayers:n,drawingMode:i,drawRef:a,previewFeature:s}){const u=S.useRef(null),{features:c}=SO("population_point");S.useEffect(()=>{if(c&&c.length>0){const h=c[0].geometry;if(t&&t(h),u.current&&!s)try{const g=Jo(h),y=lO(g);u.current.fitBounds([[y[0],y[1]],[y[2],y[3]]],{padding:100,duration:1e3})}catch(g){console.warn("Could not calculate bounds for village geometry",g)}}},[c,t,s]);const f=S.useMemo(()=>bo.filter(h=>n.includes(h.id)).flatMap(h=>h.styles.map((g,y)=>`layer-${h.id}-${y}`)),[n]);return M.jsxs(sL,{ref:u,initialViewState:{longitude:51.4015,latitude:35.6425,zoom:14},style:{width:"100%",height:"100%"},mapStyle:P5,transformRequest:h=>({url:h,headers:{"x-api-key":M5}}),RTLTextPlugin:"https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.2.3/mapbox-gl-rtl-text.js",interactiveLayerIds:f,onClick:h=>{if(e){const g=h.features?.[0];g&&g.properties?(h.originalEvent.stopPropagation(),e({id:g.properties.id,entityType:g.properties.entityType})):e(null)}},children:[M.jsx(hL,{position:"bottom-left"}),M.jsx(O5,{activeLayers:n,drawingMode:i}),s&&M.jsx(T5,{previewFeature:s}),i&&M.jsx(_5,{ref:a,geojsonData:i.geometry})]})}function D5({activeLayers:t,toggleLayer:e}){const[n,{open:i,close:a}]=yC(!1),s=bo.filter(u=>!u.isDataOnly);return M.jsxs(M.Fragment,{children:[M.jsx(na,{variant:"default",size:"xl",radius:"md",style:{position:"absolute",bottom:100,right:20,zIndex:10,boxShadow:"0 2px 4px rgba(0,0,0,0.2)"},onClick:i,children:M.jsx(A4,{size:24})}),M.jsx(ki,{opened:n,onClose:a,title:" ",position:"bottom",size:"md",styles:{title:{fontWeight:"bold"}},children:M.jsx(ui,{gap:"sm",children:s.map(u=>{const c=t.includes(u.id);return M.jsxs(Gr,{justify:"space-between",align:"center",children:[M.jsx(Su,{label:u.label,checked:c,onChange:()=>e(u.id),disabled:u.isDisabled,styles:{label:{cursor:u.isDisabled?"not-allowed":"pointer"}}}),u.isDisabled&&M.jsx(Ko,{color:"gray",size:"sm",children:" "})]},u.id)})})})]})}var Ic={},Kg,WS;function A5(){if(WS)return Kg;WS=1;var t=Math.PI/180,e=180/Math.PI;function n(D){var A=a(D[0]+1,D[2]),z=a(D[0],D[2]),L=s(D[1]+1,D[2]),G=s(D[1],D[2]);return[z,L,A,G]}function i(D){var A=n(D),z={type:"Polygon",coordinates:[[[A[0],A[3]],[A[0],A[1]],[A[2],A[1]],[A[2],A[3]],[A[0],A[3]]]]};return z}function a(D,A){return D/Math.pow(2,A)*360-180}function s(D,A){var z=Math.PI-2*Math.PI*D/Math.pow(2,A);return e*Math.atan(.5*(Math.exp(z)-Math.exp(-z)))}function u(D,A,z){var L=N(D,A,z);return L[0]=Math.floor(L[0]),L[1]=Math.floor(L[1]),L}function c(D){return[[D[0]*2,D[1]*2,D[2]+1],[D[0]*2+1,D[1]*2,D[2]+1],[D[0]*2+1,D[1]*2+1,D[2]+1],[D[0]*2,D[1]*2+1,D[2]+1]]}function f(D){return[D[0]>>1,D[1]>>1,D[2]-1]}function h(D){return c(f(D))}function g(D,A){for(var z=h(D),L=0;L<z.length;L++)if(!y(A,z[L]))return!1;return!0}function y(D,A){for(var z=0;z<D.length;z++)if(v(D[z],A))return!0;return!1}function v(D,A){return D[0]===A[0]&&D[1]===A[1]&&D[2]===A[2]}function w(D){for(var A="",z=D[2];z>0;z--){var L=0,G=1<<z-1;(D[0]&G)!==0&&L++,(D[1]&G)!==0&&(L+=2),A+=L.toString()}return A}function _(D){for(var A=0,z=0,L=D.length,G=L;G>0;G--){var j=1<<G-1,U=+D[L-G];U===1&&(A|=j),U===2&&(z|=j),U===3&&(A|=j,z|=j)}return[A,z,L]}function E(D){var A=u(D[0],D[1],32),z=u(D[2],D[3],32),L=[A[0],A[1],z[0],z[1]],G=P(L);if(G===0)return[0,0,0];var j=L[0]>>>32-G,U=L[1]>>>32-G;return[j,U,G]}function P(D){for(var A=28,z=0;z<A;z++){var L=1<<32-(z+1);if((D[0]&L)!==(D[2]&L)||(D[1]&L)!==(D[3]&L))return z}return A}function N(D,A,z){var L=Math.sin(A*t),G=Math.pow(2,z),j=G*(D/360+.5),U=G*(.5-.25*Math.log((1+L)/(1-L))/Math.PI);return j=j%G,j<0&&(j=j+G),[j,U,z]}return Kg={tileToGeoJSON:i,tileToBBOX:n,getChildren:c,getParent:f,getSiblings:h,hasTile:y,hasSiblings:g,tilesEqual:v,tileToQuadkey:w,quadkeyToTile:_,pointToTile:u,bboxToTile:E,pointToTileFraction:N},Kg}var XS;function N5(){if(XS)return Ic;XS=1;var t=A5();Ic.geojson=function(g,y){return{type:"FeatureCollection",features:n(g,y).map(e)}};function e(g){return{type:"Feature",geometry:t.tileToGeoJSON(g),properties:{}}}Ic.tiles=n,Ic.indexes=function(g,y){return n(g,y).map(t.tileToQuadkey)};function n(g,y){var v,w,_=g.coordinates,E=y.max_zoom,P={},N=[];if(g.type==="Point")return[t.pointToTile(_[0],_[1],E)];if(g.type==="MultiPoint")for(v=0;v<_.length;v++)w=t.pointToTile(_[v][0],_[v][1],E),P[f(w[0],w[1],w[2])]=!0;else if(g.type==="LineString")u(P,_,E);else if(g.type==="MultiLineString")for(v=0;v<_.length;v++)u(P,_[v],E);else if(g.type==="Polygon")a(P,N,_,E);else if(g.type==="MultiPolygon")for(v=0;v<_.length;v++)a(P,N,_[v],E);else throw new Error("Geometry type not implemented");if(y.min_zoom!==E){var D=N.length;for(c(P,N),v=0;v<D;v++){var A=N[v];P[f(A[0],A[1],A[2])]=!0}return i(P,N,y)}return c(P,N),N}function i(g,y,v){for(var w=[],_=v.max_zoom;_>v.min_zoom;_--){for(var E={},P=[],N=0;N<y.length;N++){var D=y[N];if(D[0]%2===0&&D[1]%2===0){var A=f(D[0]+1,D[1],_),z=f(D[0],D[1]+1,_),L=f(D[0]+1,D[1]+1,_);if(g[A]&&g[z]&&g[L]){g[f(D[0],D[1],D[2])]=!1,g[A]=!1,g[z]=!1,g[L]=!1;var G=[D[0]/2,D[1]/2,_-1];_-1===v.min_zoom?w.push(G):(E[f(D[0]/2,D[1]/2,_-1)]=!0,P.push(G))}}}for(N=0;N<y.length;N++)D=y[N],g[f(D[0],D[1],D[2])]&&w.push(D);g=E,y=P}return w}function a(g,y,v,w){for(var _=[],E=0;E<v.length;E++){var P=[];u(g,v[E],w,P);for(var N=0,D=P.length,A=D-1;N<D;A=N++){var z=(N+1)%D,L=P[N][1];(L>P[A][1]||L>P[z][1])&&(L<P[A][1]||L<P[z][1])&&L!==P[z][1]&&_.push(P[N])}}for(_.sort(s),E=0;E<_.length;E+=2){L=_[E][1];for(var G=_[E][0]+1;G<_[E+1][0];G++){var j=f(G,L,w);g[j]||y.push([G,L,w])}}}function s(g,y){return g[1]-y[1]||g[0]-y[0]}function u(g,y,v,w){for(var _,E,P=0;P<y.length-1;P++){var N=t.pointToTileFraction(y[P][0],y[P][1],v),D=t.pointToTileFraction(y[P+1][0],y[P+1][1],v),A=N[0],z=N[1],L=D[0],G=D[1],j=L-A,U=G-z;if(!(U===0&&j===0)){var ie=j>0?1:-1,se=U>0?1:-1,de=Math.floor(A),me=Math.floor(z),Ee=j===0?1/0:Math.abs(((j>0?1:0)+de-A)/j),ce=U===0?1/0:Math.abs(((U>0?1:0)+me-z)/U),xe=Math.abs(ie/j),B=Math.abs(se/U);for((de!==_||me!==E)&&(g[f(de,me,v)]=!0,w&&me!==E&&w.push([de,me]),_=de,E=me);Ee<1||ce<1;)Ee<ce?(Ee+=xe,de+=ie):(ce+=B,me+=se),g[f(de,me,v)]=!0,w&&me!==E&&w.push([de,me]),_=de,E=me}}w&&me===w[0][1]&&w.pop()}function c(g,y){for(var v=Object.keys(g),w=0;w<v.length;w++)y.push(h(+v[w]))}function f(g,y,v){var w=2*(1<<v);return(w*y+g)*32+v}function h(g){var y=g%32,v=2*(1<<y),w=(g-y)/32,_=w%v,E=(w-_)/v%v;return[_,E,y]}return Ic}var I5=N5();const j5=Th(I5),k5="eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsImp0aSI6ImRiZWU0YWU4OTk4OTA3MmQ3OTFmMjQ4ZDE5N2VhZTgwZWU2NTUyYjhlYjczOWI2NDdlY2YyYzIzNWRiYThiMzIzOTM5MDkzZDM0NTY2MmU3In0.eyJhdWQiOiI5NDMyIiwianRpIjoiZGJlZTRhZTg5OTg5MDcyZDc5MWYyNDhkMTk3ZWFlODBlZTY1NTJiOGViNzM5YjY0N2VjZjJjMjM1ZGJhOGIzMjM5MzkwOTNkMzQ1NjYyZTciLCJpYXQiOjE1OTA4MjU0NzIsIm5iZiI6MTU5MDgyNTQ3MiwiZXhwIjoxNTkzNDE3NDcyLCJzdWIiOiIiLCJzY29wZXMiOlsiYmFzaWMiXX0.M_z4xJlJRuYrh8RFe9UrW89Y_XBzpPth4yk3hlT-goBm8o3x8DGCrSqgskFfmJTUD2wC2qSoVZzQKB67sm-swtD5fkxZO7C0lBCMAU92IYZwCdYehIOtZbP5L1Lfg3C6pxd0r7gQOdzcAZj9TStnKBQPK3jSvzkiHIQhb6I0sViOS_8JceSNs9ZlVelQ3gs77xM2ksWDM6vmqIndzsS-5hUd-9qdRDTLHnhdbS4_UBwNDza47Iqd5vZkBgmQ_oDZ7dVyBuMHiQFg28V6zhtsf3fijP0UhePCj4GM89g3tzYBOmuapVBobbX395FWpnNC3bYg7zDaVHcllSUYDjGc1A",z5=(t,e,n)=>`https://map.ir/vector/xyz/1.0.0/Shiveh:Vector@EPSG:900913@pbf/${n}/${t}/${e}.pbf`;async function L5(t){const n=await caches.open("offline-map-tiles"),i=0,a=14,s=10;let u=[];try{for(let c=i;c<=a;c++){const f=j5.tiles(t,{min_zoom:c,max_zoom:c});u.push(...f)}}catch(c){throw console.error("Error calculating tiles",c),new Error("Geometry too complex or invalid")}for(let c=0;c<u.length;c+=s){const f=u.slice(c,c+s);await Promise.all(f.map(async([h,g,y])=>{const v=z5(h,g,y);if(!await n.match(v))try{const _=await fetch(v,{headers:{"x-api-key":k5}});_.ok&&await n.put(v,_)}catch(_){console.warn(`Failed to download tile ${y}/${h}/${g}`,_)}}))}}const QS=["building_type","unit_status","act_type","population_point_type","province","county","zone","part"];function F5(){const{user:t,isOffline:e}=Xs(),[n,i]=S.useState({status:"idle",progress:"",lastUpdated:null,error:null}),s=t?.action_areas?.find(h=>h.action_area.population_point)?.action_area.population_point?.id,u=S.useRef(!1),c=S.useCallback(async()=>{if(!(!s||e||u.current))try{u.current=!0,i(P=>({...P,status:"syncing",error:null})),i(P=>({...P,progress:"    ..."})),await nS("population_point",s);const g=(await jt.population_point.get(Number(s)))?.geometry,y=bo.filter(P=>!P.isDisabled&&P.id!=="population_point"),v=y.length+(g?1:0)+QS.length+1;let w=0;const _=()=>{w++,i(P=>({...P,progress:`${w}  ${v}`}))},E=[];y.forEach(P=>{E.push(nS(P.id,s).then(()=>_()).catch(N=>console.error(`Failed layer ${P.id}`,N)))}),g?E.push(L5(g).then(()=>{_()})):console.warn("No geometry found for village, skipping tiles."),QS.forEach(P=>{E.push(h4(P).then(()=>_()).catch(N=>console.error(`Failed lookup ${P}`,N)))}),E.push(nO().then(()=>_()).catch(P=>console.error("Failed to sync tasks",P))),await Promise.all(E),i({status:"complete",progress:"100%",lastUpdated:new Date,error:null})}catch(h){console.error("Sync failed",h),i(g=>({...g,status:"error",error:"  "}))}finally{u.current=!1}},[s,e]),f=mC(c,300*1e3);return S.useEffect(()=>(s&&!e?(c(),f.start()):f.stop(),f.stop),[s,e,c]),n}function B5(){const{isOffline:t}=Xs(),{status:e,progress:n,lastUpdated:i}=F5();return t?M.jsx(Ko,{color:"gray",leftSection:M.jsx(iO,{size:14}),children:""}):e==="syncing"?M.jsx(Ko,{color:"blue",variant:"light",leftSection:M.jsx(po,{size:12,color:"blue"}),children:n}):e==="error"?M.jsx(Ko,{color:"red",variant:"light",leftSection:M.jsx(E4,{size:14}),children:""}):e==="complete"&&i?M.jsx(fd,{label:` : ${i.toLocaleTimeString("fa-IR")}`,children:M.jsx(Ko,{color:"green",variant:"light",leftSection:M.jsx(P4,{size:14}),style:{cursor:"help"},children:""})}):null}function U5(){const[t,{open:e,close:n}]=yC(!1),{logout:i,user:a,isOffline:s}=Xs(),u=gd(),c=vo(),[,f]=S.useState(null),[h,g]=S.useState(["population_point"]),[y,v]=S.useState(null),[w,_]=S.useState(null),[E,P]=S.useState(!1),N=S.useRef(null),D=c.state?.previewFeature||null,A=()=>{u(".",{replace:!0,state:{}})},z=a?.action_areas?.find(se=>se.action_area.population_point),L=z?.action_area.population_point?.name,G=z?.action_area.population_point?.id,j=se=>{v(null),_(se)},U=async()=>{if(!(!w||!N.current||!G||!a?.id)){P(!0);try{const se=N.current.getFeatures();if(se.features.length===0)throw new Error("No geometry found");const de=C5(w.geometry.type,se);if(Q4(Jo(w.geometry),Jo(de))){_(null);return}const Ee=bo.find(V=>V.id===w.entityType),ce=Ee?Ee.label:w.entityType,xe=w.featureName?` ${w.featureName}`:"",B=`  ${ce}${xe}`,W={feature_type:w.entityType,row_id:w.id,title:B,reshaped_geometry:de,feature_name:w.featureName,reporter_data:{name:a.name||a.username||" ",role:"dehyar",remark:"     "}};await jt.task_queue.add({villageId:Number(G),userId:a.id,suggestion:W,createdAt:new Date().toISOString()}),_(null)}catch(se){console.error("Failed to save geometry task",se),Pi.show({title:"",message:"    .    .",color:"red",icon:M.jsx(oO,{size:16})})}finally{P(!1)}}},ie=se=>{g(de=>de.includes(se)?de.filter(me=>me!==se):[...de,se])};return M.jsxs(Kr,{header:{height:60},padding:"0",children:[M.jsx(Kr.Header,{children:M.jsxs(Gr,{h:"100%",px:"md",justify:"space-between",align:"center",children:[M.jsxs(Gr,{gap:"xs",children:[M.jsxs(ip,{children:[" ",L||""]}),M.jsx(B5,{})]}),M.jsx(na,{variant:"subtle",color:"dark",onClick:e,size:"lg",children:M.jsx(k4,{size:28})})]})}),M.jsx(Kr.Main,{style:{height:"100dvh",display:"flex",flexDirection:"column"},children:M.jsxs("div",{style:{flex:1,position:"relative"},children:[w&&M.jsx(je,{style:{position:"absolute",top:20,left:"50%",transform:"translateX(-50%)",zIndex:100,width:"90%",maxWidth:500},children:M.jsx(yh,{title:" ",color:"blue",icon:M.jsx(iS,{}),styles:{root:{padding:"var(--mantine-spacing-xs)"},body:{gap:0}},children:M.jsxs(ui,{gap:"sm",mt:"xs",children:[M.jsx("span",{style:{fontSize:"14px"},children:"      ."}),M.jsxs(Gr,{justify:"flex-end",children:[M.jsx(vr,{variant:"default",size:"sm",onClick:()=>_(null),disabled:E,children:""}),M.jsx(vr,{color:"green",size:"sm",onClick:U,loading:E,children:""})]})]})})}),D&&!w&&M.jsx(je,{style:{position:"absolute",top:20,left:"50%",transform:"translateX(-50%)",zIndex:100,width:"90%",maxWidth:500},children:M.jsx(yh,{title:" ",color:"yellow",icon:M.jsx(iS,{}),styles:{root:{padding:"var(--mantine-spacing-xs)"},body:{gap:0}},children:M.jsxs(ui,{gap:"sm",mt:"xs",children:[M.jsx("span",{style:{fontSize:"14px"},children:D.title}),M.jsx(Gr,{justify:"flex-end",children:M.jsx(vr,{variant:"default",size:"sm",onClick:A,children:"  "})})]})})}),M.jsx(R5,{onGeometryLoad:f,activeLayers:h,onFeatureClick:se=>{w||v(se)},drawingMode:w,drawRef:N,previewFeature:D}),M.jsx(D5,{activeLayers:h,toggleLayer:ie}),!w&&M.jsx(Xz,{properties:y,onClose:()=>v(null),onStartDrawing:j})]})}),M.jsx(ki,{opened:t,onClose:n,title:"",position:"right",children:M.jsxs(ui,{gap:"xl",children:[M.jsxs(je,{children:[M.jsx(li,{size:"sm",fw:700,c:"dimmed",mb:"xs",children:""}),M.jsx(od,{withBorder:!0,p:"sm",radius:"md",children:M.jsxs(Gr,{wrap:"nowrap",children:[M.jsx(Kh,{radius:"xl",color:"gray",children:M.jsx(L4,{size:16})}),M.jsxs("div",{style:{flex:1},children:[M.jsx(li,{fz:"sm",fw:700,children:a?.name||a?.username||""}),M.jsx(li,{fz:"xs",c:"dimmed",mt:2,children:L?` ${L}`:" "})]})]})})]}),M.jsxs(ui,{gap:"sm",children:[M.jsx(li,{size:"sm",fw:700,c:"dimmed",children:""}),M.jsx(vr,{variant:"default",c:"dark",onClick:()=>{n(),u("/tasks")},children:" "}),M.jsx(Bv,{}),M.jsx(vr,{color:"red",onClick:i,variant:"light",disabled:s,children:"  "})]})]})})]})}const $5=()=>{const{isAuthenticated:t}=Xs(),e=vo();if(!t)return M.jsx(fk,{to:"/login",replace:!0});const n=e.pathname==="/"||e.pathname==="";return M.jsxs("div",{style:{position:"relative",width:"100vw",height:"100dvh",overflow:"hidden"},children:[M.jsx("div",{style:{position:"absolute",inset:0,visibility:n?"visible":"hidden"},children:M.jsx(U5,{})}),!n&&M.jsx("div",{style:{position:"absolute",inset:0,zIndex:10,backgroundColor:"var(--mantine-color-body)",overflowY:"auto"},children:M.jsx(XE,{})})]})},Ay=zk([{path:"/",element:M.jsx(x4,{}),children:[{element:M.jsx($5,{}),children:[{index:!0,element:null},{path:"tasks",element:M.jsx($4,{})}]},{path:"login",element:M.jsx(S4,{})}]}]),ZS={login:"/register/tokens/user",me:"/register/users/my-self"},Oh={getUserProfile:async()=>{const t=await Fs(ZS.me);if(!t.ok){const e=new Error("Failed to fetch user profile");throw e.status=t.status,e}return t.json()},login:async(t,e)=>{const n=await Fs(ZS.login,{method:"POST",body:JSON.stringify({grant_type:"password",client_id:1,client_secret:"MapIr",username:t,password:e})});if(!n.ok)throw new Error("Login failed");const i=await n.json();return Xk(i.access_token,i.refresh_token),Oh.getUserProfile()},logout:()=>{t4(),Ay?Ay.navigate("/login"):window.location.hash="/login"}},NO=S.createContext(void 0),H5=({children:t})=>{const[e,n]=S.useState(null),[i,a]=S.useState(!!J1()),[s,u]=S.useState(!0),c=pP(),f=()=>{n(null),a(!1),Oh.logout()},h=async g=>{const y=e4();if(y&&y!==String(g.id)){console.warn("Different user session detected. Clearing orphaned offline queues.");try{await jt.sync_queue.clear(),await jt.task_queue.clear()}catch(v){console.error("Failed to clear offline queues",v)}}Jk(String(g.id)),n(g),Qk(g),a(!0)};return S.useEffect(()=>{(async()=>{if(!J1()){u(!1);return}if(e){u(!1);return}try{const v=await Oh.getUserProfile();await h(v)}catch(v){console.error("Failed to load user profile",v);const w=v;if(w.status===401||w.status===403){console.warn("Token expired, logging out."),f();return}const _=Zk();_?(console.log("Network failed. Restoring user from offline cache."),n(_),a(!0)):f()}finally{u(!1)}})()},[e]),M.jsx(NO.Provider,{value:{user:e,isAuthenticated:i,isLoading:s,login:h,logout:f,isOffline:!c.online},children:t})},Xs=()=>{const t=S.useContext(NO);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},q5=["#e8ecf4","#d0d9e9","#b9c6df","#a1b3d4","#8aa0c9","#728dbe","#5b7ab3","#4367a9","#2c549e","#144193"],G5={primaryColor:"blue",primaryShade:9,colors:{blue:q5}},V5=new w3;function Y5(){return M.jsx(TR,{initialDirection:"rtl",children:M.jsxs(_C,{theme:G5,children:[M.jsx(aa,{position:"top-center",zIndex:1e3}),M.jsx(C3,{client:V5,children:M.jsx(H5,{children:M.jsx(Wk,{router:Ay})})})]})})}aM.createRoot(document.getElementById("root")).render(M.jsx(S.StrictMode,{children:M.jsx(Y5,{})}));export{Th as g};
